<!DOCTYPE HTML>
<html lang="zh-CN">




<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Mysql基础, Java,Linux,Mysql,Oracle">
    <meta name="description" content="专注业务，专注代码,分享生活,分享知识">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Mysql基础 | 特仑苏</title>
    <link rel="icon" type="image/png" href="/medias/favicon.png">

    <link rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/css/matery.css">
    <link rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/css/my.css">

    <script src="https://fastly.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/libs/jquery/jquery.min.js"></script>

    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>

    <!-- <script src="https://v1.hitokoto.cn/?c=d&encode=js&select=%23hitokoto" defer></script> -->



    <link type='text/css' rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" media='all'/>
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.min.css" rel="stylesheet">

<meta name="generator" content="Hexo 6.0.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>



 <div id="loading-container">
     <p class="loading-text">玩命加载中 . . . </p> 
     <div class="loading-image">
         <div></div>
         <div></div>
         <div></div>
         <div></div> 
         <div></div>
     </div>
 </div><body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/sulog.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">特仑苏</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-book" style="zoom: 0.6;"></i>
      
      <span>文章</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/tags">
          
          <i class="fas fa-tags" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>标签</span>
        </a>
      </li>
      
      <li>
        <a href="/categories">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>分类</span>
        </a>
      </li>
      
      <li>
        <a href="/archives">
          
          <i class="fas fa-archive" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>归档</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于我</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/artitalk" class="waves-effect waves-light">
      
      <i class="fas fa-comment" style="zoom: 0.6;"></i>
      
      <span>特仑说</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留个言</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-rainbow" style="zoom: 0.6;"></i>
      
      <span>友人帐</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/galleries" class="waves-effect waves-light">
      
      <i class="fas fa-image" style="zoom: 0.6;"></i>
      
      <span>相册</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-bicycle" style="zoom: 0.6;"></i>
      
      <span>爱好</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/bangumis">
          
          <i class="fas fa-play-circle" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>追番</span>
        </a>
      </li>
      
      <li>
        <a href="/musics">
          
          <i class="fas fa-music" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>音乐</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
    <a onclick="switchNightMode()" id="sma" title="模式切换" class="waves-effect waves-light">
      <i class="fa fa-moon-o" id="nightMode" aria-hidden="true"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/sulog.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">特仑苏</div>
        <div class="logo-desc">
            
            专注业务，专注代码,分享生活,分享知识
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-book"></i>
			
			文章
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a href="/tags " style="margin-left:75px">
				  
				   <i class="fa fas fa-tags" style="position: absolute;left:50px" ></i>
			      
		          <span>标签</span>
                  </a>
                </li>
              
                <li>

                  <a href="/categories " style="margin-left:75px">
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>分类</span>
                  </a>
                </li>
              
                <li>

                  <a href="/archives " style="margin-left:75px">
				  
				   <i class="fa fas fa-archive" style="position: absolute;left:50px" ></i>
			      
		          <span>归档</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/artitalk" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comment"></i>
			
			特仑说
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-rainbow"></i>
			
			友情链接
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/galleries" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-image"></i>
			
			相册
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-bicycle"></i>
			
			爱好
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a href="/bangumis " style="margin-left:75px">
				  
				   <i class="fa fas fa-play-circle" style="position: absolute;left:50px" ></i>
			      
		          <span>追番</span>
                  </a>
                </li>
              
                <li>

                  <a href="/musics " style="margin-left:75px">
				  
				   <i class="fa fas fa-music" style="position: absolute;left:50px" ></i>
			      
		          <span>音乐</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    <main id="main_wrap">
        





<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/suoluetu1.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Mysql基础</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
        background-color: rgb(255, 255, 255,0.7);
        border-radius: 10px;
        box-shadow: 0 10px 35px 2px rgba(0, 0, 0, .15), 0 5px 15px rgba(0, 0, 0, .07), 0 2px 5px -5px rgba(0, 0, 0, .1) !important;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/mysql/">
                                <span class="chip bg-color">mysql</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/mysql/" class="post-category">
                                mysql
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-11-07
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    11.7k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    47 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p><strong>数据库的好处</strong></p>
<ol>
<li>持久化数据到本地</li>
<li>可以实现结构化查询，方便管理</li>
</ol>
<p><strong>数据库相关概念</strong></p>
<ol>
<li>DB：数据库，保存一组有组织的数据的容器</li>
<li>DBMS：数据库管理系统，又称为数据库软件（产品），用于管理DB中的数据</li>
<li>SQL:结构化查询语言，用于和DBMS通信的语言</li>
</ol>
<p><strong>数据库存储数据的特点</strong></p>
<ol>
<li>将数据放到表中，表再放到库中</li>
<li>一个数据库中可以有多个表，每个表都有一个的名字，用来标识自己。表名具有唯一性。</li>
<li>表具有一些特性，这些特性定义了数据在表中如何存储，类似java中 “类”的设计。</li>
<li>表由列组成，我们也称为字段。所有表都是由一个或多个列组成的，每一列类似java 中的”属性”</li>
<li>表中的数据是按行存储的，每一行类似于java中的“对象”。</li>
</ol>
<hr>
<h2 id="Mysql软件操作"><a href="#Mysql软件操作" class="headerlink" title="Mysql软件操作"></a>Mysql软件操作</h2><p><strong>Mysql安装/卸载</strong></p>
<p><strong>安装</strong></p>
<ol>
<li>安装mysql，选择custom自定义安装可以指定路径</li>
<li>mysql配置，在弹出的配置即可。如果关闭了就在安装路径下的bin/MySQLInstanceConfig.exe<ol>
<li>Detailed Configuration 精确配置</li>
<li>Developer Machine 开发机</li>
<li>Multifunctional Database 多功能数据库</li>
<li> DDS/OLAP 并发链接数最大20</li>
<li>Manual 字符集：utf8</li>
<li>Launch the MySQL （小对勾）开机自启，根据需要修改</li>
<li>Include Bin Directory ：开启dos命令行操作数据库。即帮助配置环境变量</li>
<li>Enable root access from remote （小对勾）：开启远程机访问，根据需要修改</li>
</ol>
</li>
</ol>
<p><strong>卸载</strong></p>
<ol>
<li>控制面板，卸载</li>
<li>找到安装路径，把安装路径的文件删除</li>
<li>找到c:/program Data （隐藏文件夹）的mysql文件夹删除</li>
<li>安装仍不成功就清理注册表</li>
</ol>
<p><strong>配置文件</strong></p>
<p><code>my.ini</code>（mysqld）</p>
<p>port：端口号</p>
<p>basedir：安装目录</p>
<p>datadir：数据目录</p>
<p>character-set-server：字符集</p>
<blockquote>
<p>dos命令行下中文乱码：</p>
<ol>
<li><code>show variables like 'char%';</code>查看字符集</li>
<li><code>set character_set_results=gb2312;</code>修改字符集为gb2312</li>
</ol>
</blockquote>
<p>default-storage-engine：默认存储引擎</p>
<blockquote>
<p>注意：需要重启服务才会生效</p>
</blockquote>
<p><strong>启动和停止</strong></p>
<p>方式一：计算机——右击管理——服务——Mysql名<br>方式二：通过管理员身份运行<br>net start 服务名（启动服务）<br>net stop 服务名（停止服务）</p>
<p><strong>登录和退出r</strong></p>
<p>方式一：通过mysql自带的客户端<br>只限于root用户</p>
<p>方式二：通过windows自带的客户端<br>登录：<br>mysql 【-h主机名 -P端口号 】-u用户名 -p密码（-p密码之间不能有空格）</p>
<p>退出：<br>exit或ctrl+C</p>
<blockquote>
<p>如果dos环境不识别mysql，证明环境变量没有配好</p>
<p>找到系统变量，Path，将mysql安装路径放在最前面，用;隔开</p>
</blockquote>
<p><strong>可视化图形界面SQLyog</strong></p>
<p>新建连接，输入之后即可链接</p>
<p>ctrl+滚轮：调整字体大小</p>
<hr>
<h2 id="MySQL的常见命令"><a href="#MySQL的常见命令" class="headerlink" title="MySQL的常见命令"></a>MySQL的常见命令</h2><pre class=" language-sql"><code class="language-sql"><span class="token number">1</span><span class="token punctuation">.</span>查看当前所有的数据库
    <span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
        <span class="token operator">></span> information_schema    元数据信息
        <span class="token operator">></span> mysql    用户信息
        <span class="token operator">></span> perfoemance_schema    性能信息
<span class="token number">2</span><span class="token punctuation">.</span>打开指定的库
    <span class="token keyword">use</span> 库名
<span class="token number">3</span><span class="token punctuation">.</span>查看当前库的所有表
    <span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
<span class="token number">4</span><span class="token punctuation">.</span>查看其它库的所有表（并不会跳转到该库）
    <span class="token keyword">show</span> <span class="token keyword">tables</span> <span class="token keyword">from</span> 库名<span class="token punctuation">;</span>
    查看当前所在库
    <span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">5</span><span class="token punctuation">.</span>创建表
    <span class="token keyword">create</span> <span class="token keyword">table</span> 表名<span class="token punctuation">(</span>

        列名 列类型<span class="token punctuation">,</span>
        列名 列类型，
        。。。
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">6</span><span class="token punctuation">.</span>查看表结构
    <span class="token keyword">desc</span> 表名<span class="token punctuation">;</span>
<span class="token number">7</span><span class="token punctuation">.</span>查看服务器的版本
    方式一：登录到mysql服务端
    <span class="token keyword">select</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    方式二：没有登录到mysql服务端
    mysql <span class="token comment" spellcheck="true">--version</span>
    或
    mysql <span class="token comment" spellcheck="true">--V</span>
</code></pre>
<p><strong>MySQL的语法规范</strong></p>
<ol>
<li>不区分大小写,但建议关键字大写，表名、列名小写</li>
<li>每条命令最好用分号结尾</li>
<li>每条命令根据需要，可以进行缩进 或换行</li>
<li>注释<pre><code>单行注释：#注释文字
   单行注释：-- 注释文字
   多行注释：/* 注释文字  */
</code></pre>
</li>
</ol>
<hr>
<h2 id="DQL数据查询语言"><a href="#DQL数据查询语言" class="headerlink" title="DQL数据查询语言"></a>DQL数据查询语言</h2><p><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/image-20201103115505683.png"></p>
<blockquote>
<p>需要先切换到指定库</p>
<p>`折中号可以省略</p>
<p>格式化：选中，F12</p>
<p>双击列名可以直接出现，不用手敲字段名</p>
</blockquote>
<h3 id="基础查询"><a href="#基础查询" class="headerlink" title="基础查询"></a>基础查询</h3><pre class=" language-sql"><code class="language-sql">语法：
<span class="token keyword">SELECT</span> 要查询的东西
【<span class="token keyword">FROM</span> 表名】<span class="token punctuation">;</span>

特点：
①通过<span class="token keyword">select</span>查询完的结果 ，是一个虚拟的表格，不是真实存在
② 要查询的东西 可以是常量值（<span class="token keyword">select</span> <span class="token number">100</span><span class="token punctuation">;</span>）、可以是表达式<span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">100</span><span class="token operator">%</span><span class="token number">98</span><span class="token punctuation">;</span><span class="token punctuation">)</span>、可以是字段<span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token string">'john'</span><span class="token punctuation">;</span><span class="token punctuation">)</span>、可以是函数<span class="token punctuation">(</span><span class="token keyword">select</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>起别名<code>as</code></strong></p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> last_name <span class="token keyword">as</span> name
<span class="token keyword">select</span> last_name name
</code></pre>
<p>如果别名有空格或特殊字符，需要使用双引号”name”</p>
<p>当给表起别名，查询的字段就不能使用原来表名做限定，而是<code>别名.字段名</code></p>
<p><strong>去重<code>distinct</code></strong></p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">distinct</span> department_id <span class="token keyword">from</span> emplyees
</code></pre>
<p><strong>+号的作用</strong></p>
<p>只有一个功能：运算符</p>
<ol>
<li><p>select 100+90;两个操作数都是数值型，做加法运算</p>
</li>
<li><p>select ‘123’+90;其中一方为字符型，试图将字符型数值转换为数值。</p>
<p>  select ‘john’+90;</p>
<p>  如果转换成功，则加法运算</p>
<p>  如果转换失败，则将字符型数值转换为0</p>
<p>  如果一方为null，则结果一定为null</p>
</li>
</ol>
<p><strong>拼接<code>concat</code></strong></p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> concat<span class="token punctuation">(</span>字段<span class="token number">1</span><span class="token punctuation">,</span>字段<span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">as</span> 结果<span class="token punctuation">;</span>
</code></pre>
<h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><pre class=" language-sql"><code class="language-sql">语法：
<span class="token keyword">select</span> 
    要查询的字段<span class="token operator">|</span>表达式<span class="token operator">|</span>常量值<span class="token operator">|</span>函数
<span class="token keyword">from</span> 
    表
<span class="token keyword">where</span> 
    条件 <span class="token punctuation">;</span>

</code></pre>
<p><strong>分类：</strong></p>
<ol>
<li><p>条件表达式</p>
<pre><code>示例：salary&gt;10000
   条件运算符：
</code></pre>
<p>&lt; &gt;= &lt;= = != &lt;&gt;<br><strong>注意</strong>：!=和&lt;&gt;和not(…)是相同概念，推荐使用&lt;&gt;</p>
</li>
<li><p>逻辑表达式<br>示例：salary&gt;10000 &amp;&amp; salary&lt;20000</p>
</li>
<li><p>逻辑运算符：<br>and（&amp;&amp;）:两个条件如果同时成立，结果为true，否则为false<br>or(||)：两个条件只要有一个成立，结果为true，否则为false<br>not(!)：如果条件成立，则not后为false，否则为true</p>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#查询部门编号不是在90-100之间，或者工资高于15000的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees 
<span class="token keyword">where</span>
<span class="token operator">not</span><span class="token punctuation">(</span>department_id<span class="token operator">></span><span class="token number">90</span> <span class="token operator">and</span> department_id <span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">or</span> salary<span class="token operator">></span><span class="token number">15000</span><span class="token punctuation">;</span>
</code></pre>
</li>
<li><p>模糊查询</p>
<p><strong><code>like</code></strong></p>
<ol>
<li><p>通常与通配符使用</p>
</li>
<li><p><code>like '%%'</code>查询不到null值</p>
<p>通配符：</p>
<p>  <code>%</code>：任意多个字符，包含0个字符</p>
<p>  <code> _</code>：任意单个字符</p>
</li>
</ol>
<p>转义字符<code>eacape</code></p>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#转义字符</span>
<span class="token comment" spellcheck="true">#查询员工名中第二个字符为_下划线的</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> last_name <span class="token operator">like</span> <span class="token string">'_$%'</span> <span class="token keyword">escape</span><span class="token string">' $'</span> <span class="token punctuation">;</span>
</code></pre>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#模糊查询like</span>
<span class="token comment" spellcheck="true">#查询员工名中第三个字符为e的</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> last_name <span class="token operator">like</span> <span class="token string">'__n%'</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>between…and…</strong></p>
<ol>
<li><p>要求小数在前</p>
</li>
<li><p>包含临界值</p>
</li>
</ol>
<p><strong>in</strong></p>
<ol>
<li>列表的值类型必须统一或者兼容</li>
</ol>
</li>
<li><p>不支持通配符</p>
<ol start="3">
<li>不区分大小写</li>
</ol>
</li>
<li><p>字符必须用单引号括起来</p>
</li>
</ol>
<p><strong><code>is null</code></strong></p>
<ol>
<li>=或&lt;&gt;不能用于判断null值</li>
<li>安全等于<code>&lt;=&gt;</code>和<code>is null</code>，前者可以判断普通数值和null，后者只能判断null，但后者可读性高，推荐使用<ol start="3">
<li>函数ifnull(x1,x2)：如果x1不为null则返回x1，否则返回x2</li>
</ol>
</li>
</ol>
<h3 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h3><pre class=" language-sql"><code class="language-sql">语法：
<span class="token keyword">select</span>
    要查询的东西
<span class="token keyword">from</span>
    表
<span class="token keyword">where</span> 
    条件
<span class="token keyword">order</span> <span class="token keyword">by</span> 排序的字段<span class="token operator">|</span>表达式<span class="token operator">|</span>函数<span class="token operator">|</span>别名 【<span class="token keyword">asc</span><span class="token operator">|</span><span class="token keyword">desc</span>】
</code></pre>
<p>特点：</p>
<ol>
<li>asc为升序，不写默认为升序</li>
<li>desc为降序，从高到低</li>
<li>可以设置多个排序规则，如<code>order by salary desc,employee_id asc</code></li>
<li>order by子句一般放在查询语句的最后面，limit子句除外</li>
</ol>
<h3 id="常见函数"><a href="#常见函数" class="headerlink" title="常见函数"></a>常见函数</h3><p>一、单行函数（处理函数）</p>
<pre><code>1、字符函数
    concat拼接：concat(firstname,'_',lastname)
    substr截取子串：substr('abcde',3)--&gt;cde，substr('abcde',1,2)--&gt;ab（索引从1开始）
    upper转换成大写
    lower转换成小写
    trim去前后指定的空格和字符：trim(' a  ')，trim('a' from 'aaaabaaacaaa')--&gt;baaac
    ltrim去左边空格
    rtrim去右边空格
    replace替换：replace('abc','b','a')--&gt;aac
    lpad左填充：lpad('abc',5,'*')--&gt;**abc
    rpad右填充
    instr返回子串第一次出现的索引：instr('abcde','cd')--&gt;3
    length 获取字节个数
    
2、数学函数
    round 四舍五入：round(1.2)--&gt;1，round(1.22,1)--&gt;1.2
    rand 随机数
    floor向下取整：floor(-9.9)--&gt;-10
    ceil向上取整
    mod取余：mod(10,-3)--&gt;1,mod(-10,3)--&gt;-1，（余数和被除数的符号有关）（公式:a-a/b*b）
    truncate截断：truncate(1.6999,1)--&gt;1.6
    
3、日期函数
    now当前系统日期+时间
    curdate当前系统日期，不包含时间
    curtime当前系统时间，不包含日期
    datediff计算相差天数
    year 年/月/日/时/分/秒：year(birthday)--&gt;返回年
    monthname 英文月
    day    天
    hour 小时
    minute    分钟
    second    秒
    str_to_date 将字符转换成日期：str_to_date('9-12-1999','%m-%d-%Y')，
    date_format将日期转换成字符：data_format(now(),'%y年%m月%d日')
    
4、流程控制函数
    if 处理双分支：select name,if(salary is null,'没工资','有工资') as 备注 from employees
    case语句 处理多分支
        情况1：处理等值判断(case后有值)
            select salary 原工资,
            case department_id
            when 30 then salary*1.1
            when 40 then salary*1.2
            else salary
            end as 新工资
            from employees
        情况2：处理条件判断（case后无值）
            select salary,
            case
            when salary&gt;20000 then 'a'
            when salary&gt;15000 then 'b'
            else 'c'
            end as 工资级别
            from employees
    
5、其他函数
    version版本
    database当前库
    user当前连接用户
</code></pre>
<table>
<thead>
<tr>
<th align="center">%Y</th>
<th align="center">四位年份</th>
</tr>
</thead>
<tbody><tr>
<td align="center">%y</td>
<td align="center">2位年份</td>
</tr>
<tr>
<td align="center">%m</td>
<td align="center">月份01，02</td>
</tr>
<tr>
<td align="center">%c</td>
<td align="center">月份1，2</td>
</tr>
<tr>
<td align="center">%d</td>
<td align="center">日01，02</td>
</tr>
<tr>
<td align="center">%H</td>
<td align="center">小时，24小时制</td>
</tr>
<tr>
<td align="center">%h</td>
<td align="center">小时，12小时制</td>
</tr>
<tr>
<td align="center">%i</td>
<td align="center">分钟00，01</td>
</tr>
<tr>
<td align="center">%s</td>
<td align="center">秒00，01</td>
</tr>
</tbody></table>
<p>二、分组函数（聚合/统计函数）</p>
<pre><code>sum 求和
max 最大值
min 最小值
avg 平均值
count 计数

特点：
    1、以上五个分组函数都忽略null值，除了count(*)
    2、sum和avg一般用于处理数值型
    max、min、count可以处理任何数据类型
    3、都可以搭配distinct使用，用于统计去重后的结果
    4、count的参数可以支持：
    字段、*、常量值，一般放1
        效率：
        MYISAM：count(*)效率高，因为内部有计数器
        INNODB：count(*)和count(1)的效率差不多，比count(字段)高，字段需要进行判断是否为null，来决定是否+1的操作。建议使用 count(*)
    5、和分组函数一同查询的字段要求是group by后的字段
</code></pre>
<h3 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h3><pre class=" language-sql"><code class="language-sql">语法：
<span class="token keyword">select</span> 查询的字段，分组函数
<span class="token keyword">from</span> 表
<span class="token punctuation">[</span><span class="token keyword">where</span> 筛选条件<span class="token punctuation">]</span>
<span class="token keyword">group</span> <span class="token keyword">by</span> 分组的字段
<span class="token punctuation">[</span><span class="token keyword">having</span> 筛选条件<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">order</span> <span class="token keyword">by</span> 子句<span class="token punctuation">]</span>
</code></pre>
<pre><code>特点：
1、可以按单个字段、多个字段、表达式/函数分组（用的较少）
2、和聚合函数一同查询的字段最好是分组后(group by)的字段（重要）
3、分组筛选
            针对的表        位置                关键字
分组前筛选：    原始表            group by的前面          where
分组后筛选：    分组后的结果集      group by的后面        having

*聚合函数做筛选条件，一定是在having子句中
*能在分组前筛选的，优先考虑使用分组前筛选（效率问题）

4、可以按多个字段分组，字段之间用逗号隔开（就是将多个字段都相同的分为一个组）
5、可以支持排序
6、having后可以支持别名(oracle不支持)
</code></pre>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#案例1：查询每个工种的最高工资</span>
<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>job_id
<span class="token keyword">from</span> employees
<span class="token keyword">group</span> <span class="token keyword">by</span> job_id<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">#案例2：查询每个位置上的部门个数</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>location_id
<span class="token keyword">from</span> departments
<span class="token keyword">group</span> <span class="token keyword">by</span> location_id<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">#案例3：查询有奖金的每个领导手下员工的最高工资</span>
<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>manager_id
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token keyword">group</span> <span class="token keyword">by</span> manager_id
<span class="token comment" spellcheck="true">#案例4：查询每个工种有奖金的员工的最高工资>12000的工种编号和最高工资</span>
<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>job_id
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token keyword">group</span> <span class="token keyword">by</span> job_id
<span class="token keyword">having</span> job_id<span class="token operator">></span><span class="token number">12000</span>
<span class="token comment" spellcheck="true">#案例5：查询各个管理者手下员工的最低工资，其中最低工资不能低于6000，没有管理者的员工不计算在内</span>
<span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>manager_id
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> manager_id <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token keyword">group</span> <span class="token keyword">by</span> manager_id
<span class="token keyword">having</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">>=</span><span class="token number">6000</span>
<span class="token comment" spellcheck="true">#案例6：查询所有部门的编号，员工数量和工资平均值，并按照平均工资降序</span>
<span class="token keyword">select</span> department_id<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">from</span> employees
<span class="token keyword">group</span> <span class="token keyword">by</span> department_id
<span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">desc</span>
</code></pre>
<h3 id="多表连接查询"><a href="#多表连接查询" class="headerlink" title="多表连接查询"></a>多表连接查询</h3><p>分类：</p>
<pre><code>按年代分类：
    sql92标准：仅支持内连接 
    sql99标准（推荐）：全支持，除了外连接的全外不支持
按功能分类
    1.内连接：
        等值连接:
            1. 多表等值连接结果是多表交集部分
            2. n表连接，需要n-1个连接条件
            3. 多表顺序无要求
            4. 一般给表起别名（用别名，select字段也需要别名进行限定）
            5. 可以搭配所有子句使用
        非等值连接
        自连接
        内连接 inner
            语法：
                select 查询列表
                from 表1 别名 [连接类型]
                join 表2 别名
                on 连接条件
                [where 筛选条件]
                [group by 分组]
                [having 筛选条件]
                [order by 排序列表]
            1.inner可以省略
            2. 筛选条件放在where后面，连接条件放在on后面
    2.外连接：
        应用场景：
            **用于查询一个表中有，另一个表没有的记录**
            1. 查询结果为主表左右记录
                如果表中有和它匹配的，就匹配
                没有就显示为Null
                外连接查询结果=内连接结果+主表有而从表没有的记录
        左外连接 left [outer] 左表为主表
        右外连接 right [outer] 右表为主表
        全外连接 full [outer]
            全外连接=内连接结果+表1有但表2没有+表2有但表1没有
    3.交叉连接（笛卡尔乘积） cross
</code></pre>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#案例1（等值+筛选）：查询有奖金的员工名、部门名</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">from</span> employees <span class="token number">e</span><span class="token punctuation">,</span>departments <span class="token number">d</span>
<span class="token keyword">where</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id
<span class="token operator">and</span> <span class="token number">e</span><span class="token punctuation">.</span>commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">#案例2（等值+分组）：查询每个城市的部门个数</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> 个数<span class="token punctuation">,</span>city
<span class="token keyword">from</span> departments <span class="token number">d</span><span class="token punctuation">,</span>locations l
<span class="token keyword">where</span> <span class="token number">d</span><span class="token punctuation">.</span>location_id <span class="token operator">=</span> l<span class="token punctuation">.</span>location_id
<span class="token keyword">group</span> <span class="token keyword">by</span> city
<span class="token comment" spellcheck="true">#案例3：查询有奖金的每个部门的部门名和部门的领导编号和该部门的最低工资</span>
<span class="token keyword">select</span> department_name<span class="token punctuation">,</span>department<span class="token punctuation">.</span>manager_id<span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">from</span> employees<span class="token punctuation">,</span>departments
<span class="token keyword">where</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id
<span class="token operator">and</span> commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token keyword">group</span> <span class="token keyword">by</span> department_name
<span class="token comment" spellcheck="true">#案例4（非等值连接）：查询员工的工资和工资级别</span>
<span class="token keyword">select</span> salary<span class="token punctuation">,</span>grade_level
<span class="token keyword">from</span> emplpyees <span class="token number">e</span> <span class="token punctuation">,</span>job_grades g
<span class="token keyword">where</span> salary <span class="token operator">between</span> g<span class="token punctuation">.</span>lowest_sal <span class="token operator">and</span> g<span class="token punctuation">.</span>highest<span class="token punctuation">.</span>sal
<span class="token comment" spellcheck="true">#案例5（自连接）：查询员工名和上级的名称</span>
<span class="token keyword">select</span> <span class="token number">e</span><span class="token punctuation">.</span>employees_id<span class="token punctuation">,</span><span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>m<span class="token punctuation">.</span>employees_id<span class="token punctuation">,</span>m<span class="token punctuation">.</span>last_name
<span class="token keyword">from</span> employees <span class="token number">e</span><span class="token punctuation">,</span>emoloyees m
<span class="token keyword">where</span> <span class="token number">e</span><span class="token punctuation">.</span>manager_id <span class="token operator">=</span> m<span class="token punctuation">.</span>employees_id
</code></pre>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#内连查询</span>
<span class="token comment" spellcheck="true">#案例1：查询部门个数>3的城市名和部门个数</span>
<span class="token keyword">select</span> city<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> 部门个数
<span class="token keyword">from</span> departments <span class="token number">d</span> <span class="token keyword">inner</span> <span class="token keyword">join</span> locations l
<span class="token keyword">on</span> <span class="token number">d</span><span class="token punctuation">.</span>location_id <span class="token operator">=</span> l<span class="token punctuation">.</span>location_id
<span class="token keyword">group</span> <span class="token keyword">by</span> city
<span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">3</span>
<span class="token comment" spellcheck="true">#案例2：查询哪个部门的员工个数>3的部门名和员工个数，并按个数降序</span>
<span class="token keyword">select</span> department_name<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> department <span class="token number">d</span> <span class="token keyword">inner</span> <span class="token keyword">join</span> employees <span class="token number">e</span>
<span class="token keyword">on</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id
<span class="token keyword">group</span> <span class="token keyword">by</span> department_name
<span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">3</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">desc</span>
<span class="token comment" spellcheck="true">#案例3（3表连接）：查询员工名、部门名、工种名，并按照部门名降序</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>department_name<span class="token punctuation">,</span>job_title
<span class="token keyword">from</span> employees <span class="token number">e</span>
<span class="token keyword">inner</span> <span class="token keyword">join</span> departments <span class="token number">d</span> <span class="token keyword">on</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id
<span class="token keyword">inner</span> <span class="token keyword">join</span> job j <span class="token keyword">on</span> <span class="token number">e</span><span class="token punctuation">.</span>job_id <span class="token operator">=</span> j<span class="token punctuation">.</span>job_id
<span class="token keyword">order</span> <span class="token keyword">by</span> department_name <span class="token keyword">desc</span>
<span class="token comment" spellcheck="true">#案例4（非等值连接）：查询工资级别的个数>20的个数，并且按照工资级别降序</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>grade_lecel
<span class="token keyword">from</span> employees <span class="token number">e</span> <span class="token keyword">join</span> job_grades g
<span class="token keyword">on</span> <span class="token number">e</span><span class="token punctuation">.</span>salary <span class="token operator">between</span> g<span class="token punctuation">.</span>lowest_sal <span class="token operator">and</span> g<span class="token punctuation">.</span>highest_sal
<span class="token keyword">group</span> <span class="token keyword">by</span> grade_level
<span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">20</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> grade_level <span class="token keyword">desc</span>
</code></pre>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#外联查询</span>
<span class="token comment" spellcheck="true">#案例1：查询没有男朋友的女神名单</span>
<span class="token keyword">select</span> <span class="token number">b</span><span class="token punctuation">.</span>name
<span class="token keyword">from</span> beauty <span class="token number">b</span> <span class="token keyword">left</span> <span class="token keyword">join</span> boys bo
<span class="token keyword">on</span> <span class="token number">b</span><span class="token punctuation">.</span>boyfriend_id <span class="token operator">=</span> bo<span class="token punctuation">.</span>id
<span class="token keyword">where</span> bo<span class="token punctuation">.</span>id <span class="token operator">is</span> <span class="token boolean">null</span>
<span class="token comment" spellcheck="true">#案例2：查询哪个部门没有员工</span>
<span class="token keyword">select</span> <span class="token number">d</span><span class="token punctuation">.</span>department_name
<span class="token keyword">from</span> departments <span class="token number">d</span> <span class="token keyword">left</span> <span class="token keyword">join</span> employees <span class="token number">e</span>
<span class="token keyword">on</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id
<span class="token keyword">where</span> <span class="token number">e</span><span class="token punctuation">.</span>employees_id <span class="token operator">is</span> <span class="token boolean">null</span>
<span class="token comment" spellcheck="true">#案例3：查询编号>3的女神的男朋友信息，如果有则列出详情，没有，用Null填充</span>
<span class="token keyword">select</span> <span class="token number">b</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>bo<span class="token punctuation">.</span><span class="token operator">*</span>
<span class="token keyword">from</span> beauty <span class="token number">b</span> <span class="token keyword">left</span> <span class="token keyword">join</span> boys bo
<span class="token keyword">on</span> <span class="token number">b</span><span class="token punctuation">.</span>boyfriend_id <span class="token operator">=</span> bo<span class="token punctuation">.</span>id
<span class="token keyword">where</span> <span class="token number">b</span><span class="token punctuation">.</span>id<span class="token operator">></span><span class="token number">3</span>
<span class="token comment" spellcheck="true">#案例4：查询哪个城市没有部门</span>
<span class="token keyword">select</span> city
<span class="token keyword">from</span> location l <span class="token keyword">left</span> <span class="token keyword">join</span> department <span class="token number">d</span>
<span class="token keyword">on</span> l<span class="token punctuation">.</span>location_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>id
<span class="token keyword">where</span> l<span class="token punctuation">.</span>department_id <span class="token operator">is</span> <span class="token boolean">null</span>
<span class="token comment" spellcheck="true">#案例5：查询部门名为SAL或IT的员工信息</span>
<span class="token keyword">select</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>department_name
<span class="token keyword">from</span> employees <span class="token number">e</span> <span class="token keyword">inner</span> <span class="token keyword">join</span> departments <span class="token number">d</span>
<span class="token keyword">on</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id
<span class="token keyword">where</span> <span class="token number">e</span><span class="token punctuation">.</span>department_name <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'SAL'</span><span class="token punctuation">,</span><span class="token string">'IT'</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20201104232057.png"></p>
<h3 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h3><p>含义：</p>
<pre><code>又称多表查询，当查询的字段来自于多个表时，就会用到连接查询
一条查询语句中又嵌套了另一条完整的select语句，其中被嵌套的select语句，称为子查询或内查询
在外面的查询语句，称为主查询或外查询
</code></pre>
<p>分类：</p>
<pre><code>按子查询出现的位置：
    select后面：
        支持标量子查询
    from 后面
        支持表子查询
    where或having后面★
        标量子查询★ 
        列子查询★
        行子查询 （用的较少）
    exists后面（相关子查询）:
        语法：
            select exists(select * from x) --&gt; 0不存在,1存在
        表子查询
按结果集的行列数不同
    标量子查询（结果集只有一行一列）
    列子查询（结果集只有一列多行）
    行子查询（结果集只有一行多列）
    表子查询（结果集一般为多行多列）
</code></pre>
<p>特点：</p>
<pre><code>1、子查询都放在小括号内
2、子查询可以放在from后面、select后面、where后面、having后面，但一般放在条件的右侧
3、子查询优先于主查询执行，主查询使用了子查询的执行结果
4、子查询根据查询结果的行数不同分为以下两类：
① 单行子查询
    结果集只有一行
    一般搭配单行操作符使用：&gt; &lt; = &lt;&gt; &gt;= &lt;= 
    非法使用子查询的情况：
    a、子查询的结果为一组值
    b、子查询的结果为空
    
② 多行子查询
    结果集有多行
    一般搭配多行操作符使用：any、all、in、not in
    in： 属于子查询结果中的任意一个就行
    any和all，和子查询结果中某一个进行比较，true则返回，不常用，往往可以用其他查询代替
</code></pre>
<ol>
<li>where后面</li>
</ol>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#标量子查询</span>
<span class="token comment" spellcheck="true">#案例1：查询公司工资最少的员工的last_name,job_id和salary</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span>salary
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> salary<span class="token operator">=</span><span class="token punctuation">(</span>
    <span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
    <span class="token keyword">from</span> employees
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">#案例2：查询最低工资大于50号部门最低工资的部门id和其最低工资</span>
<span class="token comment" spellcheck="true">#1.查询50号部门最低工资</span>
<span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> department_id <span class="token operator">=</span> <span class="token number">50</span>
<span class="token comment" spellcheck="true">#2.查询所有部门的最低工资</span>
<span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>department_id
<span class="token keyword">from</span> employees
<span class="token keyword">group</span> <span class="token keyword">by</span> department_id
<span class="token comment" spellcheck="true">#3. 2>1的基础上，查询部门id和其最低工资</span>
<span class="token keyword">select</span> department_id<span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">from</span> employees
<span class="token keyword">group</span> <span class="token keyword">by</span> department_id
<span class="token keyword">having</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">></span><span class="token punctuation">(</span>
    <span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
    <span class="token keyword">from</span> employees
    <span class="token keyword">where</span> department_id <span class="token operator">=</span> <span class="token number">50</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#列子查询（多行子查询）</span>
<span class="token comment" spellcheck="true">#案例1：返回location_id是1400或1700的部门中的所有员工姓名</span>
<span class="token comment" spellcheck="true">#1.查询id为1400，1700的部门编号</span>
<span class="token keyword">select</span> department_id
<span class="token keyword">from</span> locations
<span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1400</span><span class="token punctuation">,</span><span class="token number">1700</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#2.查询所有员工，部门号是1</span>
<span class="token keyword">select</span> last_name
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> department_id <span class="token operator">in</span> <span class="token punctuation">(</span>
    <span class="token keyword">select</span> department_id
    <span class="token keyword">from</span> locations
    <span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1400</span><span class="token punctuation">,</span><span class="token number">1700</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">#案例2：返回其它部门中比job_id为'IT_PROG'部门任一工资低的员工的员工号、姓名、job_id以及salary</span>
<span class="token comment" spellcheck="true">#1.job_id为'IT_PROG'部门的最低工资</span>
<span class="token keyword">select</span> <span class="token keyword">distinct</span> salary
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> job_id<span class="token operator">=</span><span class="token string">'IT_PROG'</span>
<span class="token comment" spellcheck="true">#2.</span>
<span class="token keyword">select</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span>salary
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> salary <span class="token operator">&lt;</span> <span class="token keyword">any</span><span class="token punctuation">(</span>
    <span class="token keyword">select</span> <span class="token keyword">distinct</span> salary
    <span class="token keyword">from</span> employees
    <span class="token keyword">where</span> job_id<span class="token operator">=</span><span class="token string">'IT_PROG'</span>
<span class="token punctuation">)</span>
</code></pre>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#行子查询（结果集一行多列或多行多列）</span>
<span class="token comment" spellcheck="true">#案例：查询员工编号最小并且工资最高的员工信息</span>
<span class="token comment" spellcheck="true">#局限：两个字段都需要相同的约束符=,in</span>
<span class="token keyword">select</span> <span class="token operator">*</span>
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> <span class="token punctuation">(</span>employees_id<span class="token punctuation">,</span>salary<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span> 
    <span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>employees_id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
    <span class="token keyword">from</span> employees
<span class="token punctuation">)</span>
</code></pre>
<ol start="2">
<li>select后面</li>
</ol>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#案例1：查询每个部门的员工个数</span>
<span class="token comment" spellcheck="true">#约束：必须是标量子查询，结果集是一行一列</span>
<span class="token keyword">select</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token punctuation">(</span>
    <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
    <span class="token keyword">from</span> employees <span class="token number">e</span>
    <span class="token keyword">where</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id
<span class="token punctuation">)</span>个数
<span class="token keyword">from</span> departments <span class="token number">d</span>
</code></pre>
<ol start="3">
<li>from后面</li>
</ol>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#案例1：查询每个部门的平均工资的工资等级</span>
<span class="token keyword">select</span> ag_dep<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>g<span class="token punctuation">.</span>level
<span class="token keyword">from</span> <span class="token punctuation">(</span>
    <span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>department_id
    <span class="token keyword">from</span> employees
    <span class="token keyword">group</span> <span class="token keyword">by</span> department_id
<span class="token punctuation">)</span> ag_dep
<span class="token keyword">inner</span> <span class="token keyword">join</span> job_grades g
<span class="token keyword">on</span> ag_dep<span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">between</span> lowest_sal <span class="token operator">and</span> highest_sal<span class="token punctuation">;</span>
</code></pre>
<ol start="4">
<li>exists后面（相关子查询）</li>
</ol>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#案例1：查询有员工的部门名</span>
<span class="token keyword">select</span> department_name
<span class="token keyword">from</span> departments <span class="token number">d</span>
<span class="token keyword">where</span> <span class="token keyword">exists</span><span class="token punctuation">(</span>
    <span class="token keyword">select</span> <span class="token operator">*</span>
    <span class="token keyword">from</span> employees <span class="token number">e</span>
    <span class="token keyword">where</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id
<span class="token punctuation">)</span><span class="token punctuation">;</span>

https:<span class="token comment" spellcheck="true">//wenku.baidu.com/view/9fb65893b94cf7ec4afe04a1b0717fd5360cb28c.html</span>
</code></pre>
<h3 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h3><p>应用场景</p>
<pre><code>实际的web项目中需要根据用户的需求提交对应的分页查询的sql语句
</code></pre>
<p>语法：</p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> 字段<span class="token operator">|</span>表达式<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">from</span> 表
【<span class="token keyword">where</span> 条件】
【<span class="token keyword">group</span> <span class="token keyword">by</span> 分组字段】
【<span class="token keyword">having</span> 条件】
【<span class="token keyword">order</span> <span class="token keyword">by</span> 排序的字段】
<span class="token keyword">limit</span> 【起始的条目索引】，条目数<span class="token punctuation">;</span>
</code></pre>
<p>特点：</p>
<pre><code>1.起始条目索引从0开始

2.limit子句放在查询语句的最后

3.索引公式：select * from  表 limit （page-1）*size,size
page:要显示的页数
sizePerpage：显示的个数
假如:
每页显示条目数size
要显示的页数 page
</code></pre>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#案例1:有奖金的员工信息，并且工资较高的前十名显示出来</span>
<span class="token keyword">select</span> <span class="token operator">*</span>
<span class="token keyword">from</span> employees <span class="token number">e</span>
<span class="token keyword">where</span> comission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> salary <span class="token keyword">desc</span>
<span class="token keyword">limit</span> <span class="token number">10</span>
</code></pre>
<h3 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h3><p>引入：<br>    union 联合、合并</p>
<p>应用场景：</p>
<p>​    多表查询，表之间没有关系，且查询的信息一致</p>
<p>语法：</p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> 字段<span class="token operator">|</span>常量<span class="token operator">|</span>表达式<span class="token operator">|</span>函数 【<span class="token keyword">from</span> 表】 【<span class="token keyword">where</span> 条件】 <span class="token keyword">union</span> 【<span class="token keyword">all</span>】
<span class="token keyword">select</span> 字段<span class="token operator">|</span>常量<span class="token operator">|</span>表达式<span class="token operator">|</span>函数 【<span class="token keyword">from</span> 表】 【<span class="token keyword">where</span> 条件】 <span class="token keyword">union</span> 【<span class="token keyword">all</span>】
<span class="token keyword">select</span> 字段<span class="token operator">|</span>常量<span class="token operator">|</span>表达式<span class="token operator">|</span>函数 【<span class="token keyword">from</span> 表】 【<span class="token keyword">where</span> 条件】 <span class="token keyword">union</span>  【<span class="token keyword">all</span>】
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">select</span> 字段<span class="token operator">|</span>常量<span class="token operator">|</span>表达式<span class="token operator">|</span>函数 【<span class="token keyword">from</span> 表】 【<span class="token keyword">where</span> 条件】
</code></pre>
<p>特点：</p>
<pre><code>1、多条查询语句的查询的列数必须是一致的
2、多条查询语句的查询的列的类型和顺序几乎相同
3、union代表去重，union all代表不去重
</code></pre>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#案例1：查询中国用户男性的信息以及外国用户男性的信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_ca <span class="token keyword">where</span> sex<span class="token operator">=</span> <span class="token string">'男'</span>
<span class="token keyword">union</span> 
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_ua <span class="token keyword">where</span> gender<span class="token operator">=</span> <span class="token string">'male'</span> 
</code></pre>
<hr>
<h2 id="DML数据操作语言"><a href="#DML数据操作语言" class="headerlink" title="DML数据操作语言"></a>DML数据操作语言</h2><p>###插入</p>
<p>语法： </p>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#方式1：</span>
    <span class="token keyword">insert</span> <span class="token keyword">into</span> 表名<span class="token punctuation">(</span>字段名，<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    <span class="token keyword">values</span><span class="token punctuation">(</span>值<span class="token number">1</span>，<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">#方式2：</span>
    <span class="token keyword">insert</span> <span class="token keyword">into</span> 表名
    <span class="token keyword">set</span> 列名<span class="token operator">=</span>值，列名<span class="token operator">=</span>值
<span class="token comment" spellcheck="true">#两种方式的区别</span>
    方式<span class="token number">1</span>支持插入多行，<span class="token number">2</span>不支持
    方式<span class="token number">1</span>支持子查询，<span class="token number">2</span>不支持
        <span class="token keyword">insert</span> <span class="token keyword">into</span> beauty<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>phone<span class="token punctuation">)</span>
        <span class="token keyword">select</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>phone <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">where</span> id<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span>
</code></pre>
<p>特点：</p>
<pre><code>1、字段类型和值类型一致或兼容，而且一一对应
2、可以为空的字段，可以不用插入值，或用null填充
3、不可以为空的字段，必须插入值
4、字段个数和值的个数必须一致
5、字段可以省略，但默认所有字段，并且顺序和表中的存储顺序一致
</code></pre>
<p>###修改</p>
<p>修改单表语法：</p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">update</span> 表名 <span class="token keyword">set</span> 字段<span class="token operator">=</span>新值<span class="token punctuation">,</span>字段<span class="token operator">=</span>新值
【<span class="token keyword">where</span> 条件】
</code></pre>
<p>修改多表语法：</p>
<pre class=" language-sql"><code class="language-sql">sql92语法：
<span class="token keyword">update</span> 表<span class="token number">1</span> 别名<span class="token number">1</span><span class="token punctuation">,</span>表<span class="token number">2</span> 别名<span class="token number">2</span>
<span class="token keyword">set</span> 字段<span class="token operator">=</span>新值，字段<span class="token operator">=</span>新值
<span class="token keyword">where</span> 连接条件
<span class="token operator">and</span> 筛选条件

sql99语法：
<span class="token keyword">update</span> 表<span class="token number">1</span> 别名
<span class="token keyword">inner</span><span class="token operator">|</span><span class="token keyword">left</span><span class="token operator">|</span><span class="token keyword">right</span> <span class="token keyword">join</span> 表<span class="token number">2</span> 别名
<span class="token keyword">on</span> 连接条件
<span class="token keyword">set</span> 列名 <span class="token operator">=</span> 值<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">where</span> 筛选条件
</code></pre>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#修改多表记录</span>
<span class="token comment" spellcheck="true">#案例1：修改张无忌的女朋友的手机号为114</span>
<span class="token keyword">update</span> boys <span class="token number">b</span>
<span class="token keyword">inner</span> <span class="token keyword">join</span> beauty <span class="token number">be</span>
<span class="token keyword">on</span> <span class="token number">b</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">be</span><span class="token punctuation">.</span>boyfriend<span class="token punctuation">.</span>id
<span class="token keyword">set</span> <span class="token number">be</span><span class="token punctuation">.</span>phone <span class="token operator">=</span> <span class="token string">'114'</span>
<span class="token keyword">where</span> <span class="token number">b</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'张无忌'</span>
<span class="token comment" spellcheck="true">#案例2：修改没有男朋友的女神的男朋友的编号都为2号</span>
<span class="token keyword">update</span> beauty <span class="token number">be</span>
<span class="token keyword">left</span> <span class="token keyword">join</span> boys <span class="token number">b</span>
<span class="token keyword">on</span> <span class="token number">be</span><span class="token punctuat