<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æ­å»ºæ±‚ç”Ÿä¹‹è·¯2LinuxæœåŠ¡å™¨</title>
      <link href="/2023/01/04/linux/da-jian-qiu-sheng-zhi-lu-2-yun-fu-wu-qi/"/>
      <url>/2023/01/04/linux/da-jian-qiu-sheng-zhi-lu-2-yun-fu-wu-qi/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20230105162538.png"><p>æ±‚ç”Ÿä¹‹è·¯2ï¼Œä½œä¸ºä¸€ä¸ª08å¹´çš„æ¸¸æˆï¼Œä¼´éšäº†å¤šå°‘äººçš„ç«¥å¹´ï¼Œè‡³ä»Šè¿˜ç»ä¹…ä¸è¡°ã€‚å½“åˆå°è‹ä¸‹çš„ç›—ç‰ˆï¼Œåˆ°é•¿å¤§ååœ¨steamä¹°çš„æ­£ç‰ˆï¼ˆå¤§å®¶ä¹Ÿè¦æ”¯æŒæ­£ç‰ˆå™¢ï¼‰ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ä¾ç„¶è¿˜åœ¨ç©çš„æ¸¸æˆï¼Œéå¸¸ç»å…¸çš„4äººåˆä½œæ¸¸æˆã€‚</p><p>æ—©åœ¨å¾ˆå¤šå¹´å‰ï¼ŒVç¤¾ä½œä¸ºæ±‚ç”Ÿä¹‹è·¯çš„å¼€å‘è€…å·²ç»åœæ­¢äº†æ¸¸æˆçš„ç»´æŠ¤ï¼Œå¼€å‘è€…ä»¬ä¹ŸåŸåœ°è§£æ•£ï¼Œå¯¼è‡´è¿™ä¸ªæ¸¸æˆæ²¡æœ‰ä¼˜åŒ–æ›´æ–°ï¼Œè™½ç„¶æ¸¸æˆå†…çš„ä¼˜åŒ–å·²ç»è¶³å¤Ÿå¥½ï¼Œä½†ç»„é˜Ÿè”æœºçš„ä¸ç¨³å®šä¸€ç›´æ˜¯æ±‚ç”Ÿçš„ä¸€ä¸ªè¯Ÿç—…ï¼ŒåŠ ä¸Šsteamæ˜¯å›½å¤–çš„ï¼Œæ—¶ä¸æ—¶å°±æ˜¯pingå€¼æŠ¥è¡¨ï¼Œmodå†²çªï¼Œrpgæœæ±¡æŸ“ï¼Œä½¿æˆ‘æ¯æ¬¡å’Œå°ä¼™ä¼´ä»¬ç©æ¸¸æˆå‰éƒ½è¦è¿æ¥å¥½å‡ æ¬¡ï¼Œéå¸¸å½±å“æ—¶é—´å’Œæ¸¸æˆä½“éªŒã€‚</p><p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•è§£å†³æœåŠ¡å™¨ä¸ç¨³å®šçš„é—®é¢˜å‘¢ï¼Ÿæœ‰ï¼æˆ‘ä»¬è‡ªå·±æ­ä¸ªæœåŠ¡ç«¯ã€‚æœåŠ¡ç«¯å¯ä»¥ç†è§£æˆ‘ä»¬åœ¨æ¸¸æˆé‡Œåˆ›å»ºä¸ªæˆ¿é—´ï¼Œç©å®¶å°±ç›¸å½“äºå®¢æˆ·ç«¯ï¼Œè¿›å…¥æˆ¿é—´å°±éœ€è¦è¿æ¥æœåŠ¡ç«¯ã€‚</p><p>è‡ªå·±çš„æœåŠ¡å™¨çš„å¥½å¤„ï¼š</p><ol><li>å›½å†…æœåŠ¡å™¨ï¼ˆä¸Šæµ·ï¼‰ï¼Œå»¶è¿Ÿä½</li><li>å¯å®‰è£…æ’ä»¶ï¼Œå®ç°8äººæˆ¿ç­‰åŠŸèƒ½</li></ol><p><strong>è¨€å½’æ­£ä¼ </strong></p><h2 id="æ­å»ºè¿‡ç¨‹"><a href="#æ­å»ºè¿‡ç¨‹" class="headerlink" title="æ­å»ºè¿‡ç¨‹"></a>æ­å»ºè¿‡ç¨‹</h2><h3 id="è´­ä¹°äº‘æœåŠ¡å™¨"><a href="#è´­ä¹°äº‘æœåŠ¡å™¨" class="headerlink" title="è´­ä¹°äº‘æœåŠ¡å™¨"></a>è´­ä¹°äº‘æœåŠ¡å™¨</h3><p>è¿™é‡Œè´­ä¹°çš„è¿‡ç¨‹å°±ä¸å±•å¼€äº†ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å†…å®¹ï¼š</p><ol><li>è´­ä¹°æ—¶é€‰æ‹©é˜¿é‡Œäº‘ã€è…¾è®¯äº‘è¿™ç§æ–°ç”¨æˆ·é¦–è´­ä¸€å¹´çš„è½»é‡æœåŠ¡å™¨ï¼ˆåˆ°æœŸåæ¢å‚å•†ï¼Œä¸åšå†¤å¤§å¤´ï¼‰ï¼Œè½»é‡æœåŠ¡å™¨æ¯”äº‘æœåŠ¡å™¨çš„å¥½å¤„æ˜¯é…ç½®ç¨é«˜ï¼Œä»·æ ¼å®æƒ ã€‚</li><li>é…ç½®è¦æ±‚ï¼š2æ ¸2G4Mï¼ˆ88å›­å­é¦–å¹´ï¼‰ã€‚ç»è¿‡ä¸¤ä¸ªæœˆçš„æµ‹è¯•ï¼Œå‘ç°æ»¡è½½8äººæˆ¿ï¼Œç»å¢ƒæ±‚ç”Ÿï¼ˆå¤šç‰¹ï¼‰æ¨¡å¼ä¸‹ï¼Œå¯ä»¥ç¨³å®šè¿è¡Œã€‚æ³¢åŠ¨å›¾å¯å‘ç°åŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨4Mä»¥ä¸‹ã€‚å†…å­˜æ‰500Må·¦å³ã€‚æ‰€ä»¥2G4Mæ˜¯è¶³å¤Ÿçš„ã€‚å¦‚æœä½ æƒ³åŠ æ›´å¤šçš„æ’ä»¶+æé™å¤šç‰¹æ¨¡å¼ï¼Œç»æµå……è£•çš„è¯ï¼Œ4G6Mä¹Ÿæ˜¯å¯ä»¥é€‰æ‹©çš„ï¼ˆ159å›­å­é¦–å¹´ï¼‰ï¼Œå†é«˜å°±å¸ƒå±€æ€§ä»·æ¯”äº†ã€‚</li><li>ç§‘æ™®ï¼šå¸¦å®½å½±å“çš„æ˜¯ä¼ è¾“åŒ…çš„é€Ÿåº¦ï¼Œå¦‚æœé•¿æœŸæ‰¿è½½è¶…è¿‡å¸¦å®½ï¼Œå°±ä¼šæœ‰ä¸¢åŒ…çš„æƒ…å†µï¼ˆå‰é¢æœ‰ä¸ªwitchï¼Œä½ å‡†å¤‡ä¸€æªç§’å¦¹çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨åŠ è½½ä¸­â€¦â€¦ï¼‰ï¼Œè¿™å°±æ˜¯å› ä¸ºæ•°æ®åŒ…ä¸¢äº†ã€‚</li></ol><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20230109103906.png"><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20230109103953.png"><h3 id="æœåŠ¡å™¨å‡†å¤‡å·¥ä½œ"><a href="#æœåŠ¡å™¨å‡†å¤‡å·¥ä½œ" class="headerlink" title="æœåŠ¡å™¨å‡†å¤‡å·¥ä½œ"></a>æœåŠ¡å™¨å‡†å¤‡å·¥ä½œ</h3><ol><li><p>é€‰æ‹©å®‰è£…é•œåƒï¼šCentOS7.6</p></li><li><p>é‡ç½®å®ä¾‹å¯†ç ï¼šåœ¨å‚å•†æ§åˆ¶å°é‡ç½®ï¼Œå°±æ˜¯ä½ ä¹‹åè¦è¿æ¥linuxæœåŠ¡å™¨çš„ç®¡ç†å‘˜å¯†ç ã€‚</p></li><li><p>è®¾ç½®äº‘æœçš„é˜²ç«å¢™ï¼Œæ·»åŠ è§„åˆ™ï¼ŒTCPå’ŒUDPçš„åè®®ï¼Œç«¯å£é€‰æ‹©ALLï¼Œç­–ç•¥é€‰æ‹©å…è®¸ã€‚</p><blockquote><p>åªæœ‰å¼€æ”¾äº†ç«¯å£ï¼Œæˆ‘ä»¬æŠŠæœåŠ¡ç«¯å»ºç«‹åœ¨æŸä¸ªç«¯å£ä¸Šï¼Œæ‰èƒ½è¿ä¸Šã€‚å¦‚æˆ‘ä»¬å»ºäº†ä¸ªå›¾ä¹¦é¦†ï¼Œä¸æŠŠå¤§é—¨æ‰“å¼€ï¼Œäººæ€ä¹ˆè¿›æ¥ã€‚</p></blockquote></li><li><p>éœ€è¦ä¸¤ä¸ªè¿æ¥å·¥å…·ï¼ˆç½‘ä¸Šæœ‰ä¸‹è½½ï¼‰</p><ol><li>Xftpï¼šç”¨äºä¼ è¾“æ–‡ä»¶åˆ°æœåŠ¡å™¨çš„å·¥å…·</li><li>mobaï¼šè¿œç¨‹è¿æ¥sshå·¥å…·ï¼Œç”¨äºå‘½ä»¤è¡Œæ“ä½œæœåŠ¡å™¨</li></ol></li></ol><h3 id="å¼€å§‹æ­å»º"><a href="#å¼€å§‹æ­å»º" class="headerlink" title="å¼€å§‹æ­å»º"></a>å¼€å§‹æ­å»º</h3><ol><li><p>è¿›å…¥mobaï¼Œç”¨åˆšæ‰é‡ç½®çš„å®ä¾‹å¯†ç è¿›å…¥æœåŠ¡å™¨</p></li><li><p>ä¾æ¬¡è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼ˆâ€“æ³¨é‡Šä¸éœ€è¦ï¼‰</p><pre><code>sudo yum install xulrunner.i686â€”â€”å®‰è£…è¿è¡Œç¯å¢ƒyum install screenâ€”â€”å®‰è£…æ‰˜ç›˜ç¨‹åºmkdir ~/Steamâ€”â€”åœ¨æ¡Œé¢åˆ›å»ºsteamæ–‡ä»¶å¤¹cd ~/Steamâ€”â€”æ‰“å¼€steamæ–‡ä»¶å¤¹wget http://media.steampowered.com/installer/steamcmd_linux.tar.gzâ€”â€”ä¸‹è½½steamtar -zxvf steamcmd_linux.tar.gzâ€”â€”è§£å‹steam./steamcmd.shâ€”â€”æ‰§è¡Œsteam cmdlogin anonymousâ€”â€”åŒ¿åç™»å½•app_update 222860 validateâ€”â€”å®‰è£…æ±‚ç”Ÿä¹‹è·¯2å®¢æˆ·ç«¯å®‰è£…å¥½åè¿™é‡Œéœ€è¦è¾“å…¥quit</code></pre></li><li><p>æ‰“å¼€xftpï¼Œç”¨åˆšæ‰é‡ç½®çš„å®ä¾‹å¯†ç è¿›å…¥æœåŠ¡å™¨</p></li><li><p>å®‰è£…æ’ä»¶ï¼ˆè§†é¢‘é‡Œæœ‰æ•™æ¯”è¾ƒç®€å•çš„æ–¹æ³•ï¼Œå¦å¤–tickrateé‡Œé¢çš„dllæ–‡ä»¶éœ€è¦åˆ é™¤ï¼Œåœ¨è§†é¢‘æä¾›çš„æ’ä»¶æ•´åˆåŒ…é‡Œå·²ç»åˆ é™¤äº†ï¼Œæ‰€ä»¥æ— éœ€é¢å¤–æ“ä½œï¼‰</p><p><a href="https://www.bilibili.com/video/BV11G4y197uF/">https://www.bilibili.com/video/BV11G4y197uF/</a></p><blockquote><p>æŒ‰éœ€æ·»åŠ ï¼ˆå»ºè®®æŒ‰è§†é¢‘åŠ ï¼‰ï¼Œé‡Œé¢ä¹Ÿæœ‰è®²è§£æ‰‹åŠ¨å®‰è£…å•ä¸ªæ’ä»¶çš„æ–¹æ³•</p></blockquote></li><li><p>æ·»åŠ server</p><blockquote><p>è¿™é‡Œå¯ä»¥é…ç½®ä½ è¦è®¿é—®çš„ç«¯å£ç›¸å…³ä¿¡æ¯</p><p>è¯¦ç»†çœ‹ä¸€ä¸‹è¯¥é…ç½®æ–‡ä»¶ï¼Œæœ‰äº›éœ€è¦æ”¹</p><p>å¦‚ï¼šæœåŠ¡å™¨åå­—å¯ä»¥åœ¨è¿™é‡Œä¿®æ”¹ï¼›æ¨¡å¼æœ€å¥½å»æ‰ï¼Œå¦åˆ™é€šè¿‡ç®¡ç†å‘˜æ¥æ¢ç»å¢ƒæ±‚ç”Ÿçš„ç‰¹æ®Šæ¨¡å¼æ—¶ï¼Œåˆ‡æ¢ç« èŠ‚å°±ä¼šåˆæ¢å¤æˆæˆ˜å½¹æ¨¡å¼ã€‚</p></blockquote></li><li><p>æ·»åŠ ç®¡ç†å‘˜</p><blockquote><p>å¢åŠ ç®¡ç†å‘˜çš„idï¼Œå¯è¿›å…¥æ¸¸æˆå•äººæ¨¡å¼ï¼Œæ§åˆ¶å°è¾“å…¥statusï¼Œå°±ä¼šå‡ºç°</p></blockquote></li><li><p>å¼€æœæŒ‡ä»¤<code>.sh</code>æ–‡ä»¶æ‹–è‡³æ±‚ç”Ÿä¹‹è·¯2å®¢æˆ·ç«¯çš„è·¯å¾„ï¼š/root/Steam/steamapps/common/Left 4 Dead 2 Dedicated Server</p></li><li><p>è¿›å…¥mobaï¼Œç”¨åˆšæ‰é‡ç½®çš„å®ä¾‹å¯†ç è¿›å…¥æœåŠ¡å™¨</p></li><li><p>ä¾æ¬¡è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼ˆâ€“æ³¨é‡Šä¸éœ€è¦ï¼‰</p><pre><code>cd ~/Steam/steamapps/common/Left\ 4\ Dead\ 2\ Dedicated\ Server/â€”â€”ç§»è‡³æ±‚ç”Ÿè·¯å¾„screen -S l4d2â€”â€”åˆ›å»ºä¸€ä¸ªæ±‚ç”Ÿä¹‹è·¯2çš„æ‰˜ç›˜,è¿™æ ·çš„å¥½å¤„å°±æ˜¯å³ä½¿å…³æ‰çº¢è‰²çš„è½¯ä»¶ï¼Œæ±‚ç”Ÿä¹‹è·¯2ä¹Ÿä¼šæ­£å¸¸è¿è¡Œï¼Œä¸å¼€æ‰˜ç›˜çš„è¯ä¼šç›´æ¥å´©æœã€‚chmod +x start.shâ€”â€”ç¬¬ä¸€æ¬¡è¿›å…¥éœ€è¦è¾“å…¥ï¼Œä»¥åå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥./start.shè¿›æ¸¸æˆï¼Œè¿æ¥connect xxx.xxx.xxx.xxx:xxxx</code></pre></li><li><p>ç›¸å…³æ‰˜ç›˜æŒ‡ä»¤</p></li></ol><pre><code>å¦‚æœé‡åˆ°æœåŠ¡å™¨è¿œç¨‹å¡æ­»çš„æƒ…å†µä¸‹screen -xâ€”â€”è¿›å…¥æ­£åœ¨æ‰§è¡Œçš„æ‰˜ç›˜Ctrl +Câ€”â€”å…³é—­æœåŠ¡å™¨å¦‚æœä¸è¡Œï¼Œå°±screen -lsâ€”â€”æŸ¥çœ‹æ‰˜ç›˜kill xxxâ€”â€”åˆ æ‰æ‰˜ç›˜screen -S l4d2â€”â€”é‡æ–°åˆ›å»ºä¸€ä¸ªæ‰˜ç›˜./start.shâ€”â€”å¼€æœ</code></pre><h3 id="è®¾ç½®åŸŸåè®¿é—®ï¼ˆå¯é€‰ï¼‰"><a href="#è®¾ç½®åŸŸåè®¿é—®ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="è®¾ç½®åŸŸåè®¿é—®ï¼ˆå¯é€‰ï¼‰"></a>è®¾ç½®åŸŸåè®¿é—®ï¼ˆå¯é€‰ï¼‰</h3><p>åŸŸåè®¿é—®çš„ä½œç”¨ï¼Œå°±æ˜¯å¥½è®°ï¼š</p><p>è¿æ¥æ—¶connect ip+ç«¯å£ï¼Œå˜æˆåŸŸå+ç«¯å£çš„æ–¹å¼ã€‚å¦‚123.234.345.456:1001ï¼Œå¯ä»¥å˜ä¸ºsulog.fun:1001</p><p>é¦–å…ˆï¼Œä½ éœ€è¦è´­ä¹°ä¸€ä¸ªåŸŸåï¼š</p><ol><li>å»ºè®®é€‰æ‹©ä¸æœåŠ¡å™¨åŒä¸€å‚å•†ï¼Œå¯¹åç»­åŸŸåå¤‡æ¡ˆã€åŸŸåç»‘å®šéƒ½ä¼šç®€ä¾¿ä¸å°‘ã€‚</li><li>åŸŸåå»ºè®®åˆ°æœŸå°±æ¢ï¼Œä¸å½“å†¤å¤§å¤´ã€‚</li><li>è´­ä¹°åŸŸåå‰éœ€è¦æå‰ä¸€å¤©ï¼ˆå®¡æ ¸1å¤©å·¦å³ï¼‰å®åè®¤è¯å’Œèº«ä»½æ¨¡æ¿ï¼Œéƒ½åœ¨å‚å•†æ§åˆ¶å°è¿›è¡Œã€‚</li></ol><p>ä»¥è…¾è®¯äº‘ä¸ºä¾‹ï¼Œåœ¨æ­¤å¤„å¢åŠ è§£æå³å¯ï¼š</p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20230109113749.png">]]></content>
      
      
      <categories>
          
          <category> æ¸¸æˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ±‚ç”Ÿä¹‹è·¯2 </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåšå®¢ä¼˜åŒ–ç¯‡(matery)(ä¸‰)</title>
      <link href="/2022/12/25/hexo/hexo-bo-ke-you-hua-pian-matery-san/"/>
      <url>/2022/12/25/hexo/hexo-bo-ke-you-hua-pian-matery-san/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åˆæ˜¯ä¸€å¹´å¹´åº•ï¼Œå°ç«™åˆè¿æ¥å¹´æ›´å•¦ï¼ˆdogeï¼‰ï¼Œ2022å¹´ï¼Œå°è‹åšäº†ä¸¤ç§å°è¯•ï¼š</p><ol><li><p><strong>Hexoè¿ç§»äº‘æœåŠ¡å™¨</strong></p><ol><li>å…ˆè¯´ç»“æœï¼šæˆåŠŸã€‚</li><li>åŸå› ï¼šç”±äºcodingæ—©åœ¨21å¹´å¤§æ¦‚5æœˆä»½å°±å·²ç»ä¸æ”¯æŒæ­å»ºé™æ€ç½‘ç«™ï¼Œgithubä½œä¸ºå›½å¤–ç«™ç‚¹ï¼Œæ­å»ºå›½å†…çš„ç½‘ç«™åŠ è½½é€Ÿåº¦å¾€å¾€ä¸å°½äººæ„ã€‚äºæ˜¯å°è‹ä¸€ä¸åšäºŒä¸ä¼‘ï¼Œå°†Hexoè¿ç§»åˆ°äº†äº‘æœåŠ¡å™¨ä¸Šï¼Œæ•ˆæœç¡®å®å¾ˆå¿«ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒå…è´¹å¸¦æ¥çš„ä¸ç¨³å®šæ€§äº†ï¼Œä½†éšä¹‹è€Œæ¥çš„æ˜¯äº‘æœåŠ¡å™¨çš„è´¹ç”¨é—®é¢˜ã€‚</li></ol></li><li><p><strong>typechoåšå®¢æ­å»º</strong></p><ol><li>å…ˆè¯´ç»“æœï¼šæˆåŠŸï¼Œä½†åºŸå¼ƒäº†ã€‚</li><li>åŸå› ï¼šè¿ç§»Hexoæ—¶æœ‰ä¸€ä¸ªæ€è€ƒï¼ŒHexoä½“é‡å±äºæ¯”è¾ƒå¤§çš„ï¼ˆ100M+ï¼‰ï¼Œä¸Šä¼ æ–‡ç« éœ€è¦æ‰“å¼€æ§åˆ¶å°è¾“å…¥æŒ‡ä»¤ï¼Œæ‰‹æœºä¹Ÿä¸èƒ½ä¸Šä¼ ï¼Œäºæ˜¯æœ‰äº†æ¢åšå®¢å¼•æ“çš„æƒ³æ³•ã€‚ä¸å¾—ä¸è¯´ï¼Œtypechoåšå®¢å®Œç¾è§£å†³äº†è¿™äº›é—®é¢˜ï¼Œæ­å»ºèµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œå®‰è£…å®å¡”ç›¸å½“äºå‚»ç“œå¼æ“ä½œï¼Œæœ€ä¸»è¦è¿˜æœ‰åå°webé¡µé¢ï¼Œæ–¹ä¾¿å°ç™½ä¸Šæ‰‹ä½¿ç”¨åšå®¢ã€‚</li><li>ä½†ä¸ºä»€ä¹ˆåºŸå¼ƒäº†å‘¢ï¼Ÿtypechoæˆ‘æ­£èƒ½ç”¨åˆ«äººè®¾ç½®å¥½çš„ä¸»é¢˜ï¼Œé€šè¿‡webåå°é¡µé¢æ”¹ä¸€äº›å¯é…ç½®çš„å‚æ•°ï¼Œä½†å¦‚æœä¸»é¢˜ä½œè€…æ²¡æœ‰è®¾ç½®æ”¹çš„åœ°æ–¹ï¼Œæ˜¯æ— æ³•è°ƒæ•´çš„ï¼Œè¿™å°±ç»™æˆ‘è¿™ä¸ªå–œæ¬¢DIYçš„å¸¦æ¥äº†å±€é™æ€§ã€‚å…¶æ¬¡æ˜¯å¯¹Hexoçš„ä¸èˆï¼Œå°ç«™ä½“é‡è™½ç„¶å¤§ï¼Œä½†éƒ½æ˜¯æˆ‘ä¸€ç‚¹ç‚¹diyå‡ºæ¥çš„ç»“æœï¼Œè€Œä¸”å‘åšå®¢ä¸€èˆ¬éƒ½æ˜¯ç”µè„‘æ“ä½œï¼Œå¯¹äºæ‰‹æœºå†™åšå®¢å…¶å®æ˜¯ä¸ªâ€ä¼ªéœ€æ±‚â€œï¼Œäºæ˜¯ï¼Œè¿˜æ˜¯é€‰æ‹©Hexoè¾£ï¼</li></ol></li></ol><p>æœ¬æ¬¡ä¼˜åŒ–é‡ç‚¹åœ¨ï¼šå›¾ç‰‡å¤±æ•ˆçš„æ¢å¤ï¼Œä¸»è¦å› ä¸º<code>jsdelivr</code>æŒ‚äº†ï¼Œå¯¼è‡´åŸå…ˆå›¾åºŠä¸Šçš„å›¾ç‰‡éƒ½æ— æ³•è®¿é—®ï¼Œè§£å†³æ–¹æ³•æ˜¯æ¢äº†é˜¿é‡Œäº‘çš„osså¯¹è±¡å­˜å‚¨ä½œä¸ºå›¾åºŠã€‚</p><p><strong>è¨€å½’æ­£ä¼ </strong></p><h2 id="è°ƒæ•´è®°å½•"><a href="#è°ƒæ•´è®°å½•" class="headerlink" title="è°ƒæ•´è®°å½•"></a>è°ƒæ•´è®°å½•</h2><blockquote><p>æœ¬æ¬¡ä¸èƒ½è¯´æ˜¯ä¼˜åŒ–äº†ï¼Œå¯¹ä¸€äº›åœ°æ–¹åšäº†ç®€å•çš„è°ƒæ•´</p></blockquote><h2 id="âŒåˆ é™¤"><a href="#âŒåˆ é™¤" class="headerlink" title="âŒåˆ é™¤"></a>âŒåˆ é™¤</h2><ul><li><input disabled="" type="checkbox"> ç›¸å†Œ</li></ul><h2 id="âœ…æ–°å¢åŠŸèƒ½"><a href="#âœ…æ–°å¢åŠŸèƒ½" class="headerlink" title="âœ…æ–°å¢åŠŸèƒ½"></a>âœ…æ–°å¢åŠŸèƒ½</h2><ul><li><input checked="" disabled="" type="checkbox"> æ— </li></ul><h2 id="âœ…æ–°å¢ç¾åŒ–"><a href="#âœ…æ–°å¢ç¾åŒ–" class="headerlink" title="âœ…æ–°å¢ç¾åŒ–"></a>âœ…æ–°å¢ç¾åŒ–</h2><ul><li><input checked="" disabled="" type="checkbox"> æ— </li></ul><h2 id="ğŸ†—å†…å®¹ä¿®æ”¹"><a href="#ğŸ†—å†…å®¹ä¿®æ”¹" class="headerlink" title="ğŸ†—å†…å®¹ä¿®æ”¹"></a>ğŸ†—å†…å®¹ä¿®æ”¹</h2><ul><li><input checked="" disabled="" type="checkbox"> è¿½ç•ªä¿¡æ¯æ›´æ–°</li><li><input checked="" disabled="" type="checkbox"> logoæ›´æ¢</li></ul><h2 id="ğŸ”±åšå®¢ä¼˜åŒ–"><a href="#ğŸ”±åšå®¢ä¼˜åŒ–" class="headerlink" title="ğŸ”±åšå®¢ä¼˜åŒ–"></a>ğŸ”±åšå®¢ä¼˜åŒ–</h2><ul><li><p><input checked="" disabled="" type="checkbox">  CDNå›¾ç‰‡å¤±æ•ˆï¼Œæ›´æ¢å›¾åºŠï¼ˆé‡ç‚¹ï¼‰</p></li><li><p><input disabled="" type="checkbox">  å­—ä½“ã€æœç´¢åŠ è½½é€Ÿåº¦ä¼˜åŒ–ï¼ˆå°è¯•ï¼‰</p></li></ul><h1 id="æ­£ç‰‡å¼€å§‹"><a href="#æ­£ç‰‡å¼€å§‹" class="headerlink" title="æ­£ç‰‡å¼€å§‹"></a>æ­£ç‰‡å¼€å§‹</h1><h2 id="1-âŒåˆ é™¤åŠŸèƒ½"><a href="#1-âŒåˆ é™¤åŠŸèƒ½" class="headerlink" title="1. âŒåˆ é™¤åŠŸèƒ½"></a>1. âŒåˆ é™¤åŠŸèƒ½</h2><h3 id="1-1ç›¸å†Œ"><a href="#1-1ç›¸å†Œ" class="headerlink" title="1.1ç›¸å†Œ"></a>1.1ç›¸å†Œ</h3><p>â€œå…³äºæˆ‘â€é¡µé¢æœ‰ç›¸å†ŒåŠŸèƒ½ï¼Œä¸ºç¼©å‡åšå®¢ä½“é‡ï¼Œå°†ç›¸å†Œçš„æ ‡ç­¾é¡µå»æ‰ã€‚</p><p>æ–¹æ³•ï¼šæ ¹æ®<code>Hexo+githubæ­å»ºmateryåšå®¢äºŒï¼ˆä¸»é¢˜é…ç½®ç¯‡ï¼‰ </code>çš„ç›¸å†Œæ­å»ºæ–¹æ³•å»æ‰å³å¯ã€‚</p><hr><h2 id="2-âœ…æ–°å¢åŠŸèƒ½"><a href="#2-âœ…æ–°å¢åŠŸèƒ½" class="headerlink" title="2.  âœ…æ–°å¢åŠŸèƒ½"></a>2.  âœ…æ–°å¢åŠŸèƒ½</h2><p>æ— </p><hr><h2 id="3-âœ…æ–°å¢ç¾åŒ–"><a href="#3-âœ…æ–°å¢ç¾åŒ–" class="headerlink" title="3.âœ…æ–°å¢ç¾åŒ–"></a>3.âœ…æ–°å¢ç¾åŒ–</h2><p>æ— </p><hr><h2 id="4-ğŸ†—å†…å®¹ä¿®æ”¹"><a href="#4-ğŸ†—å†…å®¹ä¿®æ”¹" class="headerlink" title="4.ğŸ†—å†…å®¹ä¿®æ”¹"></a>4.ğŸ†—å†…å®¹ä¿®æ”¹</h2><h3 id="4-1è¿½ç•ªä¿¡æ¯æ›´æ–°"><a href="#4-1è¿½ç•ªä¿¡æ¯æ›´æ–°" class="headerlink" title="4.1è¿½ç•ªä¿¡æ¯æ›´æ–°"></a>4.1è¿½ç•ªä¿¡æ¯æ›´æ–°</h3><ol><li><p>åˆ é™¤è¿‡å»çš„è¿½ç•ªä¿¡æ¯</p><pre><code>hexo bangumi -d</code></pre><p>æ³¨æ„ï¼šè¯¥æ’ä»¶ä¸éœ€è¦æˆ‘ä»¬æ¯æ¬¡éƒ¨ç½²éƒ½è¦è¾“å…¥æ›´æ–°æ•°æ®çš„å‘½ä»¤ï¼Œåªæœ‰ä½ è‡ªå·±ç•ªå‰§æ›´æ–°æ—¶æ‰éœ€è¦æ‰§è¡Œæ›´æ–°æŒ‡ä»¤ï¼Œä¹‹å‰çš„ç•ªå‰§æ•°æ®ä¼šä¸€ç›´ä¿ç•™ï¼Œç›´åˆ°è¢«ä½ åˆ é™¤</p></li><li><p>æ›´æ–°è¿½ç•ªä¿¡æ¯</p><pre><code>hexo bangumi -u</code></pre></li><li><p>æ­£å¸¸éƒ¨ç½²å³å¯</p><pre><code>hexo clhexo ghexo s</code></pre></li></ol><h3 id="4-2Logoæ›´æ–°"><a href="#4-2Logoæ›´æ–°" class="headerlink" title="4.2Logoæ›´æ–°"></a>4.2Logoæ›´æ–°</h3><blockquote><p>åŸå…ˆçš„logoï¼Œfaviconéƒ½æ˜¯cdnåŠ é€Ÿçš„é“¾æ¥ï¼Œç”±äº<code>jsdelivr</code>å¤±æ•ˆï¼Œå› æ­¤æ›´æ¢å›¾åºŠã€‚</p></blockquote><p>åœ¨ä¸»é¢˜çš„_config.ymlæ–‡ä»¶ä¸­ï¼Œä¿®æ”¹é“¾æ¥å³å¯ã€‚</p><hr><h2 id="5-ğŸ”±åšå®¢ä¼˜åŒ–"><a href="#5-ğŸ”±åšå®¢ä¼˜åŒ–" class="headerlink" title="5.ğŸ”±åšå®¢ä¼˜åŒ–"></a>5.ğŸ”±åšå®¢ä¼˜åŒ–</h2><h3 id="5-1CDNå›¾ç‰‡å¤±æ•ˆï¼Œæ›´æ¢å›¾åºŠ"><a href="#5-1CDNå›¾ç‰‡å¤±æ•ˆï¼Œæ›´æ¢å›¾åºŠ" class="headerlink" title="5.1CDNå›¾ç‰‡å¤±æ•ˆï¼Œæ›´æ¢å›¾åºŠ"></a>5.1CDNå›¾ç‰‡å¤±æ•ˆï¼Œæ›´æ¢å›¾åºŠ</h3><blockquote><p><code>jsdelivr</code>å¤±æ•ˆï¼ŒåŸå…ˆæˆ‘çš„å›¾åºŠæ˜¯github+jsdelivrçš„æ–¹å¼æ­å»ºï¼Œå› æ­¤æ‰€æœ‰å›¾ç‰‡å‡ä¸º404ã€‚</p><p>æœ‰ä¸‰ç§è§£å†³æ–¹æ³•ï¼š</p><ol><li><p>åœ¨ç½‘ä¸Šæ‰¾å…è´¹å›¾åºŠï¼Œå°†å›¾ç‰‡ä¸Šä¼ ä¸Šå»ç”Ÿæˆå›¾ç‰‡ï¼Œä½†å…è´¹å›¾åºŠä¸å¥½æ‰¾ï¼Œå¦‚æœä¹‹åä¹Ÿå¤±æ•ˆï¼Œå’±ä»¬ä¸€ç‚¹åŠæ³•ä¹Ÿæ²¡</p></li><li><p>ï¼ˆå°è‹é€‰æ‹©ï¼‰æ‰¾å¤§å‚çš„æ”¶è´¹å­˜å‚¨å½“å›¾åºŠï¼Œä¾¿å®œå¥½ç”¨æ”¾å¿ƒï¼Œæˆ‘ç”¨çš„é˜¿é‡Œäº‘osså¯¹è±¡å­˜å‚¨ï¼Œ40Gå­˜å‚¨/å¹´9å…ƒã€‚</p></li><li><p>æœåŠ¡å™¨å­˜å‚¨ï¼Œé¡¾åæ€ä¹‰ç›´æ¥å°†å›¾ç‰‡æ”¾åšå®¢æœåŠ¡å™¨é‡Œï¼Œä½†Hexoçš„markdownä¸æ¸…æ¥šæ€ä¹ˆæ”¾å›¾ç‰‡è¿›æ–‡ç« é‡Œï¼ŒHexo5.0ä¹‹å‰éƒ½å¯ä»¥ç”¨æ’ä»¶å®ç°ã€‚ä½†æˆ‘çš„æ˜¯Hexo6.0ï¼Œä»¥åç¢ç£¨ç¢ç£¨å¯ä»¥çš„è¯ç”¨è¿™ç§æ–¹å¼ï¼Œå°±æ›´çœé’±äº†ã€‚å”¯ä¸€ç¼ºç‚¹å°±æ˜¯å¯¹æœåŠ¡å™¨æœ‰ä¸€å®šè´Ÿè½½ï¼Œåšå®¢ä½“é‡å˜å¤§ã€‚</p></li></ol></blockquote><p>å…·ä½“æ•™ç¨‹å¯å‚è€ƒï¼š<a href="https://blog.csdn.net/weixin_46471601/article/details/124932929">https://blog.csdn.net/weixin_46471601/article/details/124932929</a></p><p>æˆ‘æ˜¯æŒ‰ç…§ä¸€æ­¥æ­¥èµ°ä¸‹æ¥æ²¡é—®é¢˜çš„ï¼Œç”¨çš„æ˜¯é˜¿é‡Œäº‘OSS+Picgoã€‚</p><p><strong>æœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ï¼š</strong></p><ol><li><p>ç”±äºæˆ‘æ˜¯githubå›¾åºŠè¿ç§»ï¼Œå…ˆå°†githubä¸Šçš„å›¾ç‰‡ä¸‹è½½ä¸‹æ¥ï¼Œå†ä¸Šä¼ åˆ°ossä¸Šã€‚</p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20221228151819.png"></li><li><p>æ›¿æ¢markdownæ–‡ç« ä¸Šçš„å›¾ç‰‡é“¾æ¥æ—¶ï¼Œè¦é€‰æ‹©å¥½å‰ç¼€<code>https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/</code>ï¼Œç›´åˆ°å›¾ç‰‡åç§°çš„ä¸Šä¸€çº§ï¼Œä¸€çº§çº§çš„æ›¿æ¢ï¼Œä¸èƒ½å…¨éƒ¨<code>https://cdn.jsdelivr.net</code>è¦†ç›–ï¼Œåç¼€æ²¡æœ‰å»æ‰ä¼šå¯¼è‡´å›¾ç‰‡åŠ è½½ä¸å‡ºæ¥ã€‚ï¼ˆæ›¿æ¢é“¾æ¥å‰ï¼Œ<strong>ä¸€å®šè¦å¤‡ä»½æ–‡ç« ï¼</strong>ä¸ç„¶æ›¿æ¢é”™äº†åæ‚”è«åŠï¼‰</p></li></ol><blockquote><p>è¿™é‡Œæ‹“å±•ä¸€ç‚¹ï¼Œå¯¹è±¡å­˜å‚¨ï¼š</p><p>é€šä¿—æ¥è¯´ï¼Œå¯¹è±¡å­˜å‚¨å°±ç±»ä¼¼äºä¸€ä¸ªäº‘ç›˜ï¼Œå¯ä»¥æŠŠä»»ä½•ä¸œè¥¿å­˜è¿›å»ï¼Œå¹¶ä¸”ç»™ä½ ç”Ÿæˆä¸€ä¸ªç½‘ç»œé“¾æ¥ï¼Œå¯ä»¥é€šè¿‡é“¾æ¥è®¿é—®å’Œä¸‹è½½ã€‚</p><p>å½“æˆ‘æŠŠæ–‡ç« å›¾ç‰‡æ”¾å¯¹è±¡å­˜å‚¨å™¨åï¼Œæˆ‘è®¿é—®åšå®¢ï¼Œé¡µé¢æ˜¯æœåŠ¡å™¨åŠ è½½çš„ï¼Œè€Œå›¾ç‰‡æ˜¯é˜¿é‡Œäº‘å¸®æˆ‘åŠ è½½ï¼Œä¸å ç”¨æˆ‘çš„åšå®¢èµ„æºï¼Œå¹¶ä¸”é€Ÿåº¦å¾ˆå¿«ã€‚</p><p>å…³äºæ”¶è´¹ï¼šå¯¹è±¡å­˜å‚¨çš„æ”¶è´¹æ¡ä¾‹å¾ˆå¤æ‚ï¼Œé€šä¿—å¯ç†è§£ä¸ºï¼šåŸºæœ¬ä½¿ç”¨è´¹ï¼ˆ40Gï¼Œ9å…ƒ/å¹´ï¼‰+æµé‡è´¹ï¼ˆæŒ‰é‡è®¡è´¹ï¼‰ï¼Œæµé‡è´¹æ˜¯æ ¹æ®ä½ çš„æ–‡ä»¶è®¿é—®é‡ä¸‹è½½é‡æ¥è®¡è´¹ï¼Œæˆ‘çš„åšå®¢è®¿é—®é‡å¾ˆä½ï¼Œæ‰€ä»¥è¿™ä¸ªè´¹ç”¨å¾®ä¹å…¶å¾®ï¼Œå‡ åˆ†é’±ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡ã€‚å¦‚æœä½ çš„è®¿é—®é‡å¾ˆå¤§ï¼Œå¯ä»¥ä¹°æµé‡åŒ…ï¼ˆä¸‹è¡Œæµé‡åŒ…ï¼‰ï¼Œå¦‚æœä¸ä¹°å°±æ˜¯æŒ‰é‡è®¡è´¹ã€‚</p></blockquote><h3 id="5-2å­—ä½“ã€å…¨å±€æœç´¢åŠ é€Ÿ"><a href="#5-2å­—ä½“ã€å…¨å±€æœç´¢åŠ é€Ÿ" class="headerlink" title="5.2å­—ä½“ã€å…¨å±€æœç´¢åŠ é€Ÿ"></a>5.2å­—ä½“ã€å…¨å±€æœç´¢åŠ é€Ÿ</h3><p><strong>å­—ä½“ï¼š</strong></p><ol><li><p>æ‰¾åˆ° <code>/themes/matery/source/css/</code>ä¸‹çš„ my.css æ–‡ä»¶ï¼Œå¡«å…¥ä¸‹é¢çš„ä»£ç ï¼š</p><pre><code>@font-face{    font-family: 'myFont';    src: url('https://sulog.oss-cn-hangzhou.aliyuncs.com/myfont.ttf');}body{    font-family: 'myFont';}</code></pre></li></ol><p><strong>å…¨å±€æœç´¢ï¼š</strong></p><blockquote><p>åœ¨ç½‘ç«™F12æ—¶æŸ¥çœ‹äº†åŠ è½½é€»è¾‘ï¼Œå…¨å±€æœç´¢æ˜¯åŠ è½½äº†search.xmlæ–‡ä»¶ã€‚è¯¥æ–‡ä»¶æ˜¯åœ¨hexo gæ„å»ºæ—¶ï¼Œä¼šåœ¨publicæ–‡ä»¶å¤¹ä¸­ç”Ÿæˆäº†è¯¥æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å°±æ˜¯éå†äº†æ‰€æœ‰æ–‡ç« çš„ç»“æœé›†ã€‚</p></blockquote><p>äºæ˜¯ï¼Œæˆ‘æŠŠç”Ÿæˆåçš„search.xmlä¸Šä¼ åˆ°äº†ossä¸Šï¼Œå¹¶åœ¨<code>themes\matery\layout\_partial\search.ejs</code>ä¸­ï¼Œå¯¹é“¾æ¥è¿›è¡Œæ›´æ¢ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">searchFunc</span><span class="token punctuation">(</span><span class="token string">"https://sulog.oss-cn-hangzhou.aliyuncs.com/search.xml"</span><span class="token punctuation">,</span> <span class="token string">'searchInput'</span><span class="token punctuation">,</span> <span class="token string">'searchResult'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>åœ¨ä½ æ›´æ–°äº†æ–‡ç« åï¼Œéœ€è¦å°†xmlæ–‡ä»¶é‡æ–°ä¸Šä¼ ä¸€æ¬¡å›¾åºŠï¼Œä»¥ä¿è¯ç»“æœé›†æ˜¯æœ€æ–°çš„ï¼Œå½“ç„¶æ›´æ–°æ¯”è¾ƒå°‘æ—¶ï¼Œä½ ä¸ä»‹æ„å¯ä»¥éš”ä¸€æ®µæ—¶é—´å†æ›´æ–°ç´¢å¼•ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> matery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­å»ºTypechoåšå®¢</title>
      <link href="/2022/10/22/hexo/da-jian-typecho-bo-ke/"/>
      <url>/2022/10/22/hexo/da-jian-typecho-bo-ke/</url>
      
        <content type="html"><![CDATA[<h1 id="æ­å»ºtypechoåšå®¢"><a href="#æ­å»ºtypechoåšå®¢" class="headerlink" title="æ­å»ºtypechoåšå®¢"></a>æ­å»ºtypechoåšå®¢</h1><blockquote><p>åªè®°å½•äº†å¿…è¦çš„å†…å®¹ï¼Œè¯¦æƒ…å¯çœ‹ç¬¬å››æ­¥çš„æ­å»ºæ•™ç¨‹ã€‚</p></blockquote><h3 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h3><ol><li><p>Centos7</p></li><li><p>typechoç¨‹åº <a href="http://typecho.org/download">http://typecho.org/download</a> ï¼ˆä¸‹è½½æœ€æ–°ç‰ˆå³å¯ï¼‰</p></li><li><p>ä¸»é¢˜ä¸‹è½½ï¼ˆæˆ‘ä½¿ç”¨çš„æ˜¯Joeï¼‰</p><ol><li><a href="https://laolion.com/archives/2591.html">Joeé­”æ”¹ç‰ˆ</a></li><li><a href="https://github.com/Dreamer-Paul/Fantasy">Fantasy</a>ç²‰è‰²ç‰ˆ</li><li><a href="https://typecho.me/969.html">single</a>ç®€çº¦</li></ol></li><li><p><a href="https://blog.csdn.net/qq_19273419/article/details/108660112">æ­å»ºæ•™ç¨‹</a></p><blockquote><p>æ­å»ºè¿‡ç¨‹æŒ‰ä¸Šé¢å°±å¯ä»¥æ­å»ºå®Œæˆe</p><p>éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</p><ol><li>æ­¤æ•™ç¨‹æ˜¯ä½¿ç”¨IPæ­å»ºçš„ï¼Œå¦‚æœæ˜¯ä½¿ç”¨åŸŸåï¼Œè¯·æ³¨æ„å°†IPæ¢æˆåŸŸå</li><li>å®å¡”çš„åœ°å€ï¼š<a href="http://ip:8888/">http://ip:8888</a></li><li>å¿˜è®°å®å¡”åœ°å€æˆ–è´¦å·å¯†ç ï¼Œå‘½ä»¤è¡Œè¾“å…¥<code>bt default</code>ï¼ŒæŸ¥çœ‹é»˜è®¤ç™»å½•ä¿¡æ¯</li></ol></blockquote></li></ol><h3 id="typechoä½¿ç”¨"><a href="#typechoä½¿ç”¨" class="headerlink" title="typechoä½¿ç”¨"></a>typechoä½¿ç”¨</h3><p>åœ°å€ï¼š<a href="http://ip/admin%EF%BC%8C%E9%BB%98%E8%AE%A4%E8%B4%A6%E5%8F%B7admin%EF%BC%8C%E5%AF%86%E7%A0%81%E5%B0%B1%E6%98%AF%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B%E4%B8%AD%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%AF%86%E7%A0%81">http://ip/adminï¼Œé»˜è®¤è´¦å·adminï¼Œå¯†ç å°±æ˜¯æ­å»ºè¿‡ç¨‹ä¸­è®¾ç½®çš„å¯†ç </a></p><p><strong>å¤–è§‚è®¾ç½®</strong></p><p>å¯¹å¤–è§‚çš„è‡ªå®šä¹‰è®¾ç½®ï¼Œè¿™ä¸ªçœ‹å¤–è§‚ä½œè€…å¼€å¯äº†æœ‰å“ªäº›è‡ªå®šä¹‰åŠŸèƒ½</p><p><strong>åˆ›å»ºå•ç‹¬é¡µé¢ï¼ˆå‹é“¾ã€ç•™è¨€æ¿ã€éŸ³ä¹ç›’ï¼‰</strong></p><p>ä¸»é¢˜ä¸­åŒ…å«æœ‰æ¨¡æ¿ï¼Œé€‰æ‹©éœ€è¦çš„æ¨¡æ¿ï¼Œé«˜çº§é€‰é¡¹ä¸­å…³é—­è¯„è®ºï¼Œå¼•ç”¨ï¼Œé›†ä¸­ç­‰åŠŸèƒ½ï¼ˆç•™è¨€æ¿ä¸è¦å…³é—­è¯„è®ºåŠŸèƒ½ï¼‰</p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20220211103408.png"><p><strong>åˆ›å»ºåˆ†ç±»</strong></p><blockquote><p>æ ‡ç­¾ä¸éœ€è¦åˆ›å»ºï¼Œåœ¨å†™æ–‡ç« æ—¶æ·»åŠ æ ‡ç­¾å³å¯</p></blockquote><p><strong>è®¾ç½®-åŸºæœ¬è®¾ç½®</strong></p><p>ç«™ç‚¹åç§°â€¦â€¦</p><h3 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h3><ol><li>å®å¡”ç•Œé¢çš„â€œå®‰å…¨â€ï¼Œå¯ä»¥å…³é—­é˜²ç«å¢™ã€‚å¦å¤–æ³¨æ„é˜¿é‡Œäº‘æœåŠ¡å™¨çš„å®‰å…¨ç«¯å£è§„åˆ™æ˜¯å¦å¼€å¯</li></ol>]]></content>
      
      
      <categories>
          
          <category> Typecho </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Typecho </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle</title>
      <link href="/2022/04/16/mysql/oracle-zhan-yong-cpu100/"/>
      <url>/2022/04/16/mysql/oracle-zhan-yong-cpu100/</url>
      
        <content type="html"><![CDATA[<h1 id="oracleå ç”¨CPU100"><a href="#oracleå ç”¨CPU100" class="headerlink" title="oracleå ç”¨CPU100%"></a>oracleå ç”¨CPU100%</h1><p>èƒŒæ™¯ï¼šè¿ç§»4.5è¿æ–°windowsæ•°æ®åº“æœåŠ¡å™¨åï¼Œç»å¸¸å‡ºç°cpu100%å ç”¨ï¼Œåæ¥æ’æŸ¥åˆ°æ˜¯è¿æ–°ç³»ç»Ÿæœ‰è´¢åŠ¡çš„å®šæ—¶è°ƒåº¦ï¼Œæ•°æ®é‡æ¯”è¾ƒå¤§å¯¼è‡´cpuå æ»¡ã€‚æ­¤æ–‡æ¡£è®°å½•æŸ¥åˆ°åŸå› çš„è¿‡ç¨‹ä¸è§£å†³æ–¹æ¡ˆã€‚</p><ol><li><p>windowsæœ‰ä¸ªå¾ˆå¼ºå¤§çš„è½¯ä»¶Process Explorer</p><ol><li>ä¸‹è½½åœ°å€ï¼š<a href="https://www.onlinedown.net/soft/31805.htm">https://www.onlinedown.net/soft/31805.htm</a></li></ol></li><li><p>ä¸‹è½½è¿™ä¸ªè½¯ä»¶ï¼Œé‡Œé¢æœ‰3ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œé€‰ç¬¬ä¸€ä¸ªå°±è¡Œï¼Œæ”¾åˆ°é—®é¢˜æœåŠ¡å™¨ä¸Šï¼ˆæ•°æ®åº“æœåŠ¡å™¨ï¼‰</p></li><li><p>æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œå‘ç°æ˜¯oracle rdbmså ç”¨cpuè¾ƒé«˜</p></li><li><p>æ‰“å¼€è¯¥è½¯ä»¶ï¼Œæ‰¾åˆ°oracle rdbmsè¿›ç¨‹ï¼ŒåŒå‡»ï¼Œç‚¹å‡»Threads</p></li><li><p>æŸ¥çœ‹åˆ°ä½¿ç”¨æœ€é«˜çš„çº¿ç¨‹tid</p><p><img src="/2022/04/16/mysql/oracle-zhan-yong-cpu100/Users\44317\AppData\Roaming\Typora\typora-user-images\image-20220116162912007.png" alt="image-20220116162912007"></p></li><li><p>è¿›å…¥plsqlï¼ŒæŸ¥è¯¢sql_id</p><p>éœ€è¦å¤šæ¬¡æ‰§è¡Œï¼Œæ‰¾åˆ°å‡ºç°é¢‘ç‡æœ€é«˜çš„sql_id</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> sql_id <span class="token keyword">from</span> v$<span class="token keyword">session</span>    <span class="token keyword">where</span> paddr <span class="token operator">in</span><span class="token punctuation">(</span>      <span class="token keyword">select</span> addr <span class="token keyword">from</span> v$process      <span class="token keyword">where</span> spid <span class="token operator">in</span><span class="token punctuation">(</span><span class="token string">'70224'</span><span class="token punctuation">)</span>   <span class="token punctuation">)</span>  </code></pre></li><li><p>æ ¹æ®6ä¸­çš„sql_idæŸ¥è¯¢å…·ä½“æ‰§è¡Œå ç”¨CPUè¿‡é«˜çš„sqlè¯­å¥</p><p>è¿™æ—¶å°±å¯ä»¥åˆ¤æ–­å‡ºæ˜¯ä»€ä¹ˆsqlè¯­å¥åœ¨å ç”¨cpuï¼Œè¿™é‡ŒæŸ¥åˆ°æ˜¯è´¢åŠ¡ç¼´è´¹çš„sqlè¯­å¥</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> v$sqlarea <span class="token keyword">where</span> sql_id <span class="token operator">in</span><span class="token punctuation">(</span>sql_id1<span class="token punctuation">,</span>sql_id2<span class="token punctuation">,</span>sql_id3<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  </code></pre></li><li><p>æ ¹æ®6ä¸­çš„sql_idï¼ŒæŸ¥è¯¢sidå’Œserial</p><p>éœ€è¦å¤šæ¬¡æ‰§è¡Œï¼Œæ‰¾åˆ°å‡ºç°é¢‘ç‡æœ€é«˜çš„ï¼ˆæ‰§è¡Œä¸€æ¬¡å¯èƒ½ä¼šæŸ¥è¯¢ä¸åˆ°ï¼Œå› æ­¤éœ€è¦å¤šæ‰§è¡Œï¼‰</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> sid<span class="token punctuation">,</span><span class="token keyword">serial</span><span class="token comment" spellcheck="true">#,sql_id from v$session where sql_id in(sql_id1,sql_id2,sql_id3...)  </span></code></pre></li><li><p>æ€æ‰è¿›ç¨‹</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">alter</span> system <span class="token keyword">kill</span> <span class="token keyword">session</span> 'sid<span class="token punctuation">,</span><span class="token keyword">serial</span><span class="token comment" spellcheck="true">#';  </span></code></pre><blockquote><p>è¿™æ—¶é—®é¢˜å¾—ä»¥è§£å†³ï¼Œä½†åªæ˜¯æš‚æ—¶çš„ï¼Œå› ä¸ºè¿æ–°ä¼šå®šæ—¶è°ƒåº¦æ‰§è¡Œï¼Œåˆ°æ—¶å€™è¿˜æ˜¯ä¼šå ç”¨ã€‚</p><p>å› æ­¤åæœŸè¿˜éœ€è¦æ’æŸ¥ä¸ºä»€ä¹ˆä¼šå ç”¨ï¼Œä¼˜åŒ–sqlï¼Œå½“ç„¶è¿™äº›å·¥ä½œå°±äº¤ç»™ç ”å‘ï¼Œæˆ‘ä»¬æ’æŸ¥åˆ°è¿™é‡Œå°±å¯ä»¥äº†ã€‚</p></blockquote></li></ol><blockquote><p>å¦‚æœä¸æ˜¯sqlå ç”¨å¯¼è‡´çš„ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ç›‘å¬çš„æ—¥å¿—æ–‡ä»¶è¾ƒå¤§å¯¼è‡´çš„ã€‚</p><p>åŸå› ï¼šwindowsçš„oracleæ•°æ®åº“ä¼šæœ‰è¿™ç§æƒ…å†µï¼Œä¸ä¼šè‡ªåŠ¨æ¸…ç†ç›‘å¬æ—¥å¿—ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ¸…ç†</p><p>è§£å†³ï¼š</p><ol><li>æ‰¾åˆ°ç›‘å¬æ—¥å¿—åœ°å€<code>/u01/app/grid_base/diag/tnslsnr/rac1/listener/trace</code></li><li>å¦‚æœè¿‡å¤§å°±æ¸…ç©ºå³å¯</li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®ç”¨èµ„æºé“¾æ¥æ•´ç†</title>
      <link href="/2022/02/15/xue-xi/zi-yuan-lian-jie/"/>
      <url>/2022/02/15/xue-xi/zi-yuan-lian-jie/</url>
      
        <content type="html"><![CDATA[<p>é“¾æ¥æ•´ç†</p><h3 id="èµ„æºé“¾æ¥"><a href="#èµ„æºé“¾æ¥" class="headerlink" title="èµ„æºé“¾æ¥"></a>èµ„æºé“¾æ¥</h3><ol><li>BootCDNï¼ˆJSåŠ é€Ÿé“¾æ¥åº“ï¼‰ï¼š<a href="http://www.bootcdn.cn/">www.bootcdn.cn</a></li><li>ocié¼ æ ‡å›¾æ ‡ï¼š<a href="https://zhutix.com/ico/ori-cursors/">https://zhutix.com/ico/ori-cursors/</a></li><li>å›¾æ ‡ï¼š<a href="https://fontawesome.com/icons?d=gallery&amp;q=rain">https://fontawesome.com/icons?d=gallery&amp;q=rain</a></li><li>emojiç¬¦å·å¤§å…¨ï¼š<a href="http://www.fhdq.net/emoji/emojifuhao.html">http://www.fhdq.net/emoji/emojifuhao.html</a></li><li>å°æ­ªAPIï¼š<a href="https://api.ixiaowai.cn/">https://api.ixiaowai.cn/</a></li><li>Microsoft Office 2016å…è´¹ç ´è§£ç‰ˆä¸‹è½½ï¼š<a href="http://www.paid8.com/">http://www.paid8.com/</a></li></ol><h3 id="å·¥å…·é“¾æ¥"><a href="#å·¥å…·é“¾æ¥" class="headerlink" title="å·¥å…·é“¾æ¥"></a>å·¥å…·é“¾æ¥</h3><ol><li>é‡è£…win10ç³»ç»Ÿï¼š<a href="https://iknow.lenovo.com.cn/detail/dc_177365.html">https://iknow.lenovo.com.cn/detail/dc_177365.html</a></li><li>RGBé¢œè‰²å€¼è½¬æ¢ï¼š<a href="https://www.sioe.cn/yingyong/yanse-rgb-16/">https://www.sioe.cn/yingyong/yanse-rgb-16/</a></li><li>å›¾ç‰‡å»åº•ï¼š<a href="https://www.aigei.com/bgremover">https://www.aigei.com/bgremover</a></li><li>å›¾ç‰‡å°ºå¯¸ã€å¤§å°ï¼š<a href="https://www.gaitubao.com/">https://www.gaitubao.com/</a></li><li>çŸ­è§†é¢‘è§£æä¸‹è½½ï¼š<a href="https://www.heytoolman.com/rmwatermark">https://www.heytoolman.com/rmwatermark</a></li><li>æŠ–éŸ³èƒŒæ™¯éŸ³ä¹è·å–ï¼š<a href="http://tool.qqjsz.cn/douyin_music/">http://tool.qqjsz.cn/douyin_music/</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>PLSQLä½¿ç”¨</title>
      <link href="/2021/06/01/mysql/plsql-shi-yong/"/>
      <url>/2021/06/01/mysql/plsql-shi-yong/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œè¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹ï¼Œè¯·å†è¯•è¯•ã€‚" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="4a6554204a8c407715fedda40e5cd3744bdd79be7c9e700eb8dd95733f160ad0">50401a1b4252edfef05a7c1120311a28d7c9779e54cbf0d6b9b880a49e65437b7ca8d060e6bd7218492ef66e47f649522c071d093402506af17db4ceb586a4d4ea51e30c4bb2d78ba0a1e1a5dfed32f867d29e15fcc2f2c922df335d50d902cd20d3e65debb42dac686e77175d5f155e719d3d13aea9e83590ddc5117bd54ab1a056f2c206e35c11fd7c103ddf0ebae04f862e9f4e900af4294b8c7725b7c142903448b2e8f24ac7dc07154e0944d9013d53173ca3b525fbd6bd157da735df6abb95c1b3f1568ca8e3d5142e63da033a4b9d892778da3d8ef51e3ddfce49865b0918cd5cae051633342209090513840bce46bec114bc67fcab68d5238cafe5bdd596cd70142c896c171b18f10218c22f58638fd22460f7834c58a13b262248c4a82c7c312834c20c9ae6721f725b97a68a9acddc1a709514e72a55bb4a5861f8d7d6630ea9cfafaecf683ea322d997a58e10ae4054fd05fc7bea08a3ae765cd8071645c4e086e408d9dfcc25b93779423f150f0a8d50361d41b6f4e9afe2def6ea2006f26c01068860ada2653828f286ca683c0402f4953578614495d3cede4861d1cf15ec4c53ea14724c46cdb0303b111def204441893fff5d029e741c1d469424eb6133dab4c4844aead25430216d91ce2981a085b068879a0591ebdc15b2b2930a4cad35dca934ce1185cb2507f3cb2ef1161c2c95810d4fd1824a3320777959b2f8e20ce07cfe52b3ec2ec540f1e74ce2c6497c1d0f3cf8ce555145909488f1abbcbecc00225e0ccaebf0a21f57c6e30511d0c1f72807d401db48314e047291e437d0014b6e90ff5ed4290a96c5f47d86cf09af2bc71151918abe3cad1bd652da4dacfc9383192efa3aa43873f98c381a9cbf7f15060a890c718d2f20e369fb2a60ea52860e756ff79f67cfd4f96c20de96ef374a57e9eab50767e109a2f12c7a3b00f6fa4ca2e87320d03acfd01158c2a85e4281a95684503baa81139d5211e907d83fd063c7ce367422d9722b37426df8dfcf0af8510be758b45777c48cd8f0db92a3cbc4730a2e48ab7e1ff6e163a35154b2d49ab271732d18b6b990b6c6322d71c5fe1bf754f60ffa4bf18c76c4cde357e6ed4dceab086892dcfe5a81ff71ca20d6562dcf4198b7bfff62ead6afe082bbad8f8aeeb5852ed9cb6d491a848124c8810b67d601f182260dbc3c0f0bbc27c98f22a5d83536f4e54f19ed96b6ca580acc2ddcfdd7e5e5aef798e86a8f2b2524278c88f74b3a84e29622bac6b4769fc5a687848beb77107b651da6e4a1ef5bd03dc52772b5855ca9eac2d1bba8cbb3ae598777a40c1fdf015de9c8c920ae88f0c039d71d61939cc9db6ca2ef2c37b8596f031cb96abd3e0c5e72988f04cb183e225e92b3b3d71d68b111cedaa6af2b0d12c2e6739262b970d8aadfd21489eec5fe35c6610b08392a8bf7db4f0bb0afbbac4e593edf0170a31648c2988bdbbf50da631be892dd73fb6c36e89739833ef41e3472d9e25a7266cbda62eabe353c3a5e320159a6e9dd1adab7a3cfe6b6d3f70bcd20770972c12c24eecdd8ab59f9e51e71e260017a2bc3f540ccd0cb6c755862a4d592481a5aae497466d7a425c8c4a0fe6e10994fae82c130034d683afd2e536acba40b384a70aac3cdd768427bc95053d68dff9e636820cbeb379f1673feb5affc2a15b8eefe92957f78326cdce467704125f510fdfa503dacce7d142d528f087ccc74353431d52caf80c8997b567049693ade43fa957e26a8cb54720d597483ca21e0c89c2d442a0f7830559743d5822c0e89245f395aa07e76df53514d33268aa43cc6e119f81ff7c43eb205194e5ba5c3fc4bd8fde0ecab26e45dbc3c5621883bd57faaac49c6c6c99a52b91970520f935e6e718b582448a1a3fd0bf67e3a8f32d9538d2406f629472e2ec0acc2463a6f8943d15b0a508b876ded4b523678d4908325c7d925a4646b8842bfdfc10f2498b4bd8b6c548b44dd38189301ead47216e24198da940432cc66f692a2fe3eaacaaf334a392516a2f3d584ca318b915f5ee5e0ee2bc4794430d08069c29aa8eba1aefbab16b56f731320871dc531e9b7c01ea6e96357c547a4e2ebbfa05a4582f1e728691fcaa903e50eb299e2622e7ae08561b13015012c7a51b7f73e92cdadb1ecdfd90b78651ff9c9708ad4a180f7d89fd8ed43e99388e62d2b151c3e62980d1dff01679ae05ea90e20680ea6b233acf8adfb03352ef9abf7f1083f3d78db6dbb63254e209dc9d887ef5b22c35645961528ba915d729603f3c9038d335afe670091819d998de6a3852e4ea075cfa9b043ded24b6c595c7793651db25f29130fe9301b2c15d596097928db7017c9004288080213a48e34cd5b2c25d81045bceac0df85526a021db8312f4754e93f51a6b7f0f0162c02758fc1558bd2a0109dc2083799c0a1dbd1697e6fdad21501cd4276ec97a3066eceae1dc92ca7972709dac95047f2bc47e79537bb7aeb3ed6cbc51358819b922087fc1286a00f5ba450b1ece3c54d8401dd06c0d4d25f612b1e2d58368372df646c8a45e8443b142cca489421f3bfae74143f60312444067e9c61dbbf649c55574252d2bec24be8a0eea4059729078eddc86920aed016c57e6be53e1fe8746156165c5d3896e1e7ced8abe460f671d9fb728b1e258c0f0492cc3b6122f66380c5b96ddd395d6aeb785934b24f0ee76c75976d697e916256459e728001dcc3045c1fb77b4c9be30138093fe8f585fed12422459bd8960cf1c9c20d39f50812e2b03e1c1023264cb6b7b62761030b4b1a9c19267b8845deab9ed8a333d278b9d83c1367db6e9872c9d466100d6a3c4d0f2bb7f6477e5602d29af73c41435071fc1b1c010a9efd34e76694816e0fea5cd8c92937c6c4039ac0df6ca476a81b9c0d6b5b05afdf006e7d0361827d77a70922f40747a8c3a3548f14dd62e109ab5c861fdce38d5ae07aa24e019d599a6d9ec2b903112ae27ef08314272a7d5ffb11a8cf98a2d4d63250d50eb3a2f418679c1c5099a8cc1ab9ee7261234e790958ed05d3bbac596565e7bef735eaac77b9af06824afb52650e2eb68b551a8c8ceb6700659d193461512e8f98f914398ddd4824a89d8cd145f199d8e3f7ba56c837dd01601274dd03d1a1184723fd9c7d34573ba05c160a413dd6992e5930dc2012d1adb067dc786371acc9c0a3a4d784ca5ee54826c84edabc9b3e281e5ae7e3d9a9a8ddd1523f18578ab1b007855aed46115e24c85187060916ff43d471531840631e3f909b74b9e927813f06fbd98524427ab65348051b49d172c3c13ea6f06719166888f859cabba8c34bd6249c4fe004f7a2b5a07d2269a81da1738c32aad498133d8acad8377510afec1075912fcfb5c20fb414526c58d7534de3a77ac0ef0291872b8efbaab690c88b08d7bd1f8ef31672c8a289e5efb4c3ae7a3c29187c37912e43df398b3310fc6544ca7fdf7e6fa64b12e99f4ca4ed3426c768bec0eb2a489c7f279f6884d0f9b8dd4f16e6ba8d92a0477b47c670fc2c905979108354ccc646e34599d186fba2802f7972c01887eba858f09bebd1e18703720808497f08e8dfe0525617b275a3993e208210d6b06a17446e03917e6381d41e0a43931024e26ca83c26a069a94779d978c847fa1d3e509e82ff1cf7a58f1e48d4fbee98cf2491cee6873239f93e417e7a49dd1f591635fd3ef0ad8946e3e1fbe36554e5da143d6becd5d69c1ab6a7c10fb88b6ff16ac0ba61b348c2ff1444fa80c90b7ce9ca08afa7ad21e72c0d39a4e0b922b6c07b4f65ef91447d1fedaf17faf42519c84148b3f1d330c55e80b3f1dec6e0829259693eda05fb0514b63925728ab5d3d5d3af08567f27ae95ced2736c541bc243af2fd1dcf04bf75e4779fcc3276e858edca50439e28e8ed550b168a07c7e20ea52d105fde1f54cbcf4b60e1cb585c90efded90f31819927023298af6c476dd6fec73353541b9cb8b25627b1c7826500fd7b6e52d839b6d17606b36781d9f1d99aa9d81408e4428d4c20a21a96d9064dc762b4c90f8b6d8468ee84ff457a90ba006a32235be3477a09e9c1304716c55c5542360fbfe7bfe043d86087cb2a88a3676780276f06f87dec73ec2c3aeea694ad297b8994ece97e14e40c80eec23dc1f6043275cdc3eccd676df5340d79184e2b265a936442c2f27a734b65dd54d76b334c175a451047b7ea909a3122292fe4f111ef94212d9f80002c340a4bfd16cd91214b4e97b42b82bf1cb3b9ed6185c54a563d7211b41d566d9546fbf8c605bcb199fbb0af0e36de458f496f6248ff063fceedc0452778bb0a5dbee7607f77240ee3283a9e47ac635ee45f9cb1b13d1b0441153df6988cbbecb40a8376fb44e9a1bd0d44c9492cc2767b937f0f094125a279a45adbe32636eea94b1d5cc87a8c14418354927e7820f239bbe0c4506282aec8e40e55ccb040cf42770eb8db4670ede424f3899b5c86355638beb9065d1fda4d40536f946025b994aade9a88a6ccc4f519a8161aa6f3b8a3e9b4506c2b7c5d91330c53e10bee50f5a95ce860d0c37457116cbdcac522862252ce643ba2e109ca929ad9d77e30f001a47f991d6dd0865b5f7025e526d75595a7f47c7852c0cc306b0ef1782703364bfb2613bd3496634eae9d20f8925c5576cc9f88ec6fe3433a615257df0dd51fb08b991e734086b75072a3c46f45576970530ca7d319e3b375fd656f58f14e50a1e92775032648668f21cf6fdb4777011b4146206176051f33da0e56a568d79df03e6a7fcb1a9759f0f545710fede7f0a99936c5527f7fd9c115cd5995f835d47ff9e437bb3a1d9c8fd7a74dbf48d368c03c1987a496a497afac6da576f0b5d219959411a053bcf2c5e9879e3cf91f70d1171aae1e0b4dc3effdbd0bff5ed648fe5045d470d76b061ed3b9027f7a214da86041ccf6bd2db9c6be885d537b604d8f4b098ec77858a58cfc5bcd11b423e0ff2589336879668564c82f6c6b36cdb0aaa07e69d6e445efe7f22885d9ccab6148718db4df5e0f1bccc02acf3e077da1b11e8e71aebdc5aa2642b826309efadc93e83d17072662c73a5799d4d40e9163be0f49b753ea8e7f06702b62cefba47d9f0803b923081b302c1c51196c4e96973e2ca8d645283368c9a641f0c88aa98c6c9303d22ba90f094c66cb019202d8f5b892c956f5b9a7fe49bc39d68403c984eeef25738c8f66c155a47a90e891a28d37739d7491e4d5ff44194e7f2bb2567f002e456a2653164f44fdfef30e0ceb0a72bad337ae345181d319090f68fdc71d6ae2188d4b0409337c1e9e18ad8acf22a30589a8a08a12d113f3ba28cfbddc27a96c36fdb9c635dd1bbef46c5b20042777f4e44637452d091152b5f306cc66faf2bd4a9c89c01a5d4f74ad5d27c208305cf905c5b755a051c9da04e9acf207cb5ca1be307dae5e73885ce5b5a4925ac3c2086368a32776f97e98f973842ec103741d3b21d2d15ad053a6197087bb518aa399ad9406fb32dcbbeddec8061149327f9679289639e22e84f1a063d6088b8d8d2fcc6e1678fa44a1e02deae08d9ab0396e9b2dbd74608b41c60e19391376a4f61257396b1f41442efd768276347b169f1ddb02e51c51fd49bf210405b18b60743bdef3a25a7ecc35a73dc266c9098828fc5b8c0bb1e7903e08572f6bad56382f584c175352e41a070f93802f1a2e264f611a28cfe9f6e4699158013705b6d62e13ee86f93c36daf50fa1b4679a9f7f390ef6815f1c89ec587432f0b9d1a4f1dcb2af2901a2745de0de567bf1ab926ee728ca8e6a0021c748b09da41cc22ed69e22dc4ead1219f985b1e8326868b09505ab996ae53e682389ac9330b5df25694079291b23354d1778accaf3f55ed64fd34a9483f3312bd85708b624ea60594d7883749e431ddc1af57cd8b9829be6310ee1105269589914240f9039a8bbb2f392e624193f5520e30d56761d84dc9485ec2f126d90b7d5480dd06fd53c343ec6d1b722135a5db59ee7066dbcb7db9c562ffbef2f0d82b2f9c65d2b6bbb129137b8a2aaa35ae1fc80a56ed921b64dfa165e8c0d2886d8c9418fb1f5496666581e52ce4b11685c701a91cdc05dc5814703c4f2ca8b3251e9771ecf2e084ea90c6c39bbcb7e217f9d00e85f039c6d7d894fdf762a9ccfb60432af5d239bd7b1192eb0dc699b9ac26799192ba3b5230bad16b2ae6b1bd70b48d651e7baa1adbbd13bb3f9bb0c584f4ab7c318324d1373469244a5bb5cc08c1fabc94f621732c6e2fa45376466282970423da94b129569a8c34be4e4ea76614cd05c6c3bb94923ce7f7ea779ca31d82bd4531bbf5be5522df72fe26db8ce757e3c00748db6b3e452eef152eb20c945bfb8b39bb0150113a115df3bc42bfd7e3b2a4c0cb6fe3b27d7a26c68b6cd0249e35193ac5e79ed07e7ed70ee735178a25decd328bae62e3662cd38e5e274003b563d56f49e2b0e0350f6c8ec656f476625ce98b7451a1a2751bdd7c48345d475524ea3176644571b9eb3a10b8dea637324c40efc3a43693017880aed9f983d28006576cda461cde8888a01aea313de2ade316ec6be5bbbe67a4ce267f16587e6049b62e1f9005965ec0c6081ec2fa12e467177bf87a851ba483f91fb8fe1f20aa3e77a0c89c5eb6a8ab2a0d4d7637d440a7306b1d07539f8d996c5ea80ef2cc1952c13fa303c0afa8b90bdf27bf57514f23df3ac56f77dbbdf7f5197bd4301b48f632aec93d5fd1ca358cba6c539ec30656a5c15ac0e462efa42d084a665f2a7208f69c733b3baa5c89f54d63f968d9cbe0eb8d7b677ad0b16556169352c1735830d060c1db14dd2cbbb53425d748d6c6ad33baaa65185593e5cd21863e6c7ce2ab67ec5c38616c49dbc74370d33e6dcd1046a1cf79a608ad462148d493f3bb82fb21a24b83b752c4bda7a35e29c20ceb96519e3b502798bf3a3363edc2b349733d10011daf1503fd79cf616555ee3e54fba37c93d40bdf8929293718523b5246340ae58ebb47dc379268b695b6d8d4b29d52fddb21dfafee40d31878a8171b9ac5b0614cdb0b3ddb036a073bb5fd9892067ab215055f4b025bf7b6ad461670590f01f3db43b269a0348a2aae8ecbbe77021fe390496c248984f84e34ca0db06a53a2d7ec9db33bc445f081ab38b27e91cbf34e20d3ca41b76a1fa55f15ff1d4824e130cb1ff3fde83d18421f9ced3b3a3a88a23a6faabdebe9d3369410844b8bef0797918f34424bcd0032199f5e239235e9b9fbed0b6e5160b52c1fdeb12e9371cb9986dc20b81a523b01ad8043dbd11926f67bbf56c14079125e9325169ee5cdea3a0f860036aa10680be6a549972d350d49617cc342e2e00769fb0327842b9ef2755d4e265d9799fbdc7b99378d56ca33ebe99aa75e82e58710668585f2282a867d363bae15c36661a682558210a5bcc38a9edf50a679e126af6a5fb996c33188b2af48ddad6be62dd9d56a3aa6109735465af324642b9c56fa4b2adaace5c2de1eea28f07473756e2ae8f755953f5bf6ba42f8fc56490869d97e2a9c8939c2d3ee3eea7252752cde52a258961b149dbb5b600a00c7e0356f7f377072c27e16c69c1e9fda894035a173874a64f689639111ac7584c585cd69a03b6226ba362d7c35b6b3d9f6265ece32b3d4622f53166b0ae5537e6d865017fd1a3b0e73737bf99df24c24928f105af0f38679d0b0eb3aae3e85a4cc916984515e4897a93db2304b20aa9535916246a16806c328692eab2358d80906ff2e47a2d84eeae991ed6ee4e06a2ac5792e8d34e78f8c70599dc719a34dcb9d4966246bd449b6c6071cbeac55a2edeff0ab18fedd6d85f1be917cc2c751605dbc6d40dec8db2e61fc43fa317b6a63f51c099c2ef454b57afce3da94522a644a38f3e80adffd6945c06cc7b5a46fef20483d2f9bf778b8accc4fd962402242f2df469ff318f7112a9b52b7164808e13ae8fc4f6659f0562c1436d70380</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½ï¼Œè¿™é‡Œéœ€è¦å¯†ç ã€‚</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> å…¬å¸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æ–½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowså®‰è£…PLSQL</title>
      <link href="/2021/05/11/linux/windows-an-zhuang-plsql/"/>
      <url>/2021/05/11/linux/windows-an-zhuang-plsql/</url>
      
        <content type="html"><![CDATA[<h1 id="Windowså®‰è£…PLSQL"><a href="#Windowså®‰è£…PLSQL" class="headerlink" title="Windowså®‰è£…PLSQL"></a>Windowså®‰è£…PLSQL</h1><h2 id="å‰æœŸå‡†å¤‡"><a href="#å‰æœŸå‡†å¤‡" class="headerlink" title="å‰æœŸå‡†å¤‡"></a>å‰æœŸå‡†å¤‡</h2><p>è¿˜æœ‰ä¸ªæ–‡ä»¶å¤¹æ²¡æˆªä¸Šï¼Œinstantclient_11_2</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210511093323.png"></p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><ol><li><p>ç‚¹å‡»plsqldev1201x64.msiè¿›è¡Œå®‰è£…</p></li><li><p>ç‚¹å‡»æ¡Œé¢å®‰è£…å¥½çš„å¿«æ·æ–¹å¼</p></li><li><p>è¿›è¡Œæ³¨å†Œï¼Œæ³¨å†Œç .txt</p></li><li><p>é…ç½®ociæ–‡ä»¶</p><ol><li><p>å°†instantclient_11_2æ–‡ä»¶å¤¹å‰ªåˆ‡åˆ°plsqlçš„å®‰è£…ç›®å½•</p><ol><li>å®‰è£…ç›®å½•å¯ä»¥å³é”®å¿«æ·æ–¹å¼æŸ¥çœ‹æ–‡ä»¶ä½ç½®</li></ol></li><li><p>ç‚¹å‡»ç¨‹åºä¸­çš„Configure-Perferences</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210511094109.png"></p><p>åˆšæ‰å‰ªåˆ‡æ–‡ä»¶å¤¹çš„è·¯å¾„<code>D:\oracle\PLSQLDeveloper12\instantclient_11_2</code></p><p>æ–‡ä»¶å¤¹ä¸­çš„ociæ–‡ä»¶è·¯å¾„<code>D:\oracle\PLSQLDeveloper12\instantclient_11_2\oci.dll</code></p></li></ol></li><li><p>å…³é—­ç¨‹åºï¼Œé‡æ–°æ‰“å¼€ç™»å½•</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210511094334.png"></p></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è¿ç»´é—®é¢˜é›†åˆ</title>
      <link href="/2021/04/29/linux/yun-wei-wen-ti-ji-he/"/>
      <url>/2021/04/29/linux/yun-wei-wen-ti-ji-he/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œè¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹ï¼Œè¯·å†è¯•è¯•ã€‚" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="e0661866204fc787ea38cc9763079d282c2be1d9e8dc18d7e10c129b9f8cdae5">50401a1b4252edfef05a7c1120311a28d7c9779e54cbf0d6b9b880a49e65437b6f4ecd595733aa0e6ab92dc56eeb4cbcbe86739bdfde2a6bcbddac2804966a7bd46fc8f18ad4a6b0ed56684a20d7eb97d1f92b20cfb9139867f6f1519b109f73782487dde5d6450348be6d108fcb3d1a12b1268894786a1edb349bee072a5f084759428d098f78f4b09ba3e8627071b32063e3b0d35da850907714b349984e5301694d7e0ca2e6c63076fed9efa467ec09423f36b84fac5aab084093dc6e76a7000023cd6a1ad9d241faddb962bdc66f1279c6ed6e1f3af2f7d3169e1a69b670b58b84e329647116b91d683bd75f536c0327076f26ce7737db70576aa8e15f4c381b6928a71eda7c6b98cef3e051a4f756eee052a7d12e574e00f215fdf6c737f75cad0fd09dfc7bd31d61650f2fc9a4da5a3d869d188852ed52e07522281ca27b425a98d0928d53780a357651aaf79240be35bdbea3649927968de707cd3122f46b0bbce6e1edda2657ca2df818f7de1d5a5967d2c7ee91efa11d9b9642a237af12a645c6e28d221438d85576e673c81423f909d52da34271807444384283cfafbac858afd5c8b2e634de2e74b1b2719047276fa7fc70b2f5c236281d070076ca85aad49e6b4907113a54a0ed33aea03fecd1d95b048736855ba9f9317b9b8a63053a755f8a9cf411983e24f696ab7823b28c7bb9b304bfcc4833d7517fafb233aaf2735b63abbb232fdb3d4ed7c909ee936ab03feb1a9604719acacbb2306868a8481dbfb1de944181abc8ddef6234e1ae3d9cb49019ee207fd5a20be586b0c0ceb7d6c9849aae311915348e1edb5081915805de724fae94b1506391f998716d58fd328ed1d5a8ec1895d06085d4484ac9324bd9c2e103bdc7bf1e272458fb23be457c086a04e40595d58cd33e0f68f02b014a5d07ce0bcce62f7d80e638297824454bd985ebbc1f305c3d8719f05f66a22851428216c9c23ca677f562c0191f731e0220340c659ce5c9a583e945cbc99901477ef0271bb064443b4defc928f5e12f3bab62784afd01e5493af92c31af1ecb6b3dbedec9a6de733b4307db224540905bdacb99c6c524615bc747fcceda73cddf48621da39525b0602ad75bec54b4977a9d39d9ba8562f68cbd04d74d3a3e56a339850ed2ecb01082f94aaad40c08a0fa3fc44eea144df38c71efbd0e26ca58f8311beab8bb730caa04dc0cd8b18f5875b435510d4c4ff35e74c2cd834d235454d9f9f3cd111cfb97ef2c4eff6d785587c25a8c1851319bdcbdb77123e6fe2440695fd38f6d33040ee5d8901dc0ce0a38d96be9d2878609ce8fb05b167ef4b8c9ab3ecccce1c73cd706b7bba9bdd82e3ee5b151ade15288d22f2bba7fff5bc1d46384f287a89487649d8b4113c15fce9e9d6af28c3d480ba944d8ad9dd9cded68ac4a4f2b9793ab126bfc879c2bf3ee552e8656eab1f0c0d03fb2ff82cdb529c99109b7bdecd45099230ed75b7b451209ff1dd1a7d9d422fefb5a4861d6c077d0afad84dee79f25e56c3c94f40eac7398bfecdd74465dccf45b68cc1fa85ba6a2bc3680d02a063a9c1b43acd26c09679634d4b15e98a59acc133398df10cf353eed5f22aa8c00068462f86fa29616a16004b0030221178e55e42a7f4f44a2d5c6367e7e8e69807fb79b9ad652806d521f68f30a53b1c3d1e49ecc9949f53ea05ad9c27dc1352cdd140874d8a6851d2431c991be89da1b289cef3e20d47baabbbd5e8dedab18699593a576782dd7630113cff13e21f86669c833fc0e3a8a8e0ef243a5fefb2af5f1ee2e0a4c3afd7c5ab810c63275ceddc4c6db8eab65a978384ccbffa66852ee354341a3868a6e367566b61a985b3e3e73fe892b92e56205147aabb3d9b92583590abe581dcbf8470ab40437593ff01b15df5d1e0fa4194799667e2ac605c6168819ce0eceb886f3bbb591dd89f33eb26fd9f06fa591df3d96b067fc50f0a8b5802b4a838a680873a2952867e4bcfb6800fc1b0aa614d324b78eb1e6209ea31b33e70c7a5f81d7e3e3542e83440b29722d2caa14015f79a90d49b42e77fd88ba25b11052e738df3dea33184f38c9e26edbf92ec7ad683dba0118c9e133b0639986f9f98c80ab8cf84aae7dec259e8f1612874da507552a956d655f39ab8b01db801bd2ca939f39b47bc6fc57ff731dc5a230520486ecbded1cd5202f4e6e330060a8723ba56e98ee881fb37bed2c290e991cc6d975339253e6713af4d2bbfbb05f57a91c793478ee7bfe55a9a24a33cf15d6cce1b017896cd77e2d68bc8e0b1e7183b38c3ccd35c70e21703e6d195697c82a2f4e1d4668416fdda26fbf0c64f6af30e7de8b8ac439ac9152ba8343a077e391d65c99b4082997e08ffb1231afb48d45e53fc8844df6aa9c23c7bc6be6108d62c672a54110fa8ca3fab1a3a2456d9427aa0029d36e71408e5b7d439c043f5c78cb32fc7dd9f91ca447c1948879281dc00ed0e3046a58c691ae9bfb709dc63a192adacce2428e700775d4f4f2f32223755ac9e70e431620981f3d0db080e0f3d27855f28a27d30d68163d481fb460d2e39245338d06ef90f476dc4cf03a8e0e170a566b0d4da317fee189a399ac882677ec2a0a419f6ef69d2bda61813026cb0dbc6bb96e52175f6b14a7c9b3833f8d8a93933af44bb84a90a205adbb75d71bd556c45a9e1bbbd06bd811af1acc062e225bb79c0c1d97b540caa9ca378cde94887b3ffd638b08f337243e0c0711ecad5675276a3763e84d2521b8223fb2318ada06fa06d93559ad170009e58a3f84b18b9998cbb8c3c0b1961ce839e56735eee4f2456a4d876bbd820b123c381b33712290752bba6cee6c606f0b708e18461022468fbc17ff707d9bcad87c394de99cad619daa6ea569884b12f402c173775482b07fb7b376e600b85dc9f476a41ce0add5895af6ae62af9b8fc69611f20dc2183417420fde7b1cf468f96daa363dd3aa95f8fe193106815278780829c70c22d5215b56defb6a6bc4c0a86cd0040536e641a7b0e16d174af10a75be3567e6a57a4cf4015c1b5f105e1614084d641dc8ff7cf8699a7eb869007ee4536069b2f70f672d7c0ad7f4a79bbe80f583f37d50ab7982686a1ca2315c8c893efea6f2cb5bb3b4ca9c98a4d85dd054060db287542109ada3aab3436f28c2563738f561b9e97a690df9da2e5364e7feb180157ad70ad2bbc83ea297337a03a6c421fe9899b404746c920e91f4aa2c0c69938e033939b9421b98ba83f359e6b5b2a56f86b16b610b3e907bc0f011ab3dbe7bb42ba4c17e2bddb2c5df31bb4b7b50df66fe5de77092c73f</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½ï¼Œè¿™é‡Œéœ€è¦å¯†ç ã€‚</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> å…¬å¸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æ–½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå®‰è£…Mysql</title>
      <link href="/2021/04/26/linux/linux-an-zhuang-mysql/"/>
      <url>/2021/04/26/linux/linux-an-zhuang-mysql/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œè¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹ï¼Œè¯·å†è¯•è¯•ã€‚" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="39c3983e129518686172148da0d13b4a91eb104ae696e95c8e6d2b525a652ba9">50401a1b4252edfef05a7c1120311a28d7c9779e54cbf0d6b9b880a49e65437b6f6335e221cff291f17b92600ae255d6bef04b5fb3205b73c73225b63209710a6abc054ddc0a6738190b12f1e0a0241e8e3e546456429584b6026fe6189f2125e4e34edbe938278bb5f8bd0ef7afb236a03e1897f023466aa5d37bf4b169e2e21af970660cf0fd8031cecaec426d730fa4c5ea770912af6e0a8542b7baa4eee4f54874b261fd2e51baf4271ab6d109613f0cee5519dc260c9132f40cddc27ea2dedf68a5dba16e5234a086b96907ee315f39a651a2f14854b3fb19c4d08f0a330d05ec2d81daaa027d53cf4adc17fdb5057c96bcaa4b7cda14f663002451a7d735671974d586b0fdbba2655dab9aa8016c9f7f1be587e9b9ad000847e4d4229000d5822b85c37ec234ce35a99ff428cfd29b897a70b28d571c92837a01b40cdc9865ffe4e09df639c356fccb5d030d8575f06acbf7d3b541a6be6856fdfd52fb798bed15d8ca01710695e4ec9623ed31b9cf18fe6f360d342624dce0dbed79d3f76ee847e50c534237bf6d50dce8c26d18282b7e38e1bed55848550cc3d863b6cb4bfaa1fd8287e114db90abe04c01474365c8d3db5956b8d525b901d5c82fdd0c0251dad20a0467786111d45aac658fc351e8dce0e65cb9e2db5be1ea7ff58637fa06a4f5963743ff31c0e722d180e95b7fa15ca8bbf7f2f1ba6400a09013ad5deda948c4c50076a01f6895763e6684b710100d78208ade2f76c3a639e113f789498c4bdbca5fda79c64bc990f579f4281079b6b10ef410fccb097dfd5a3c2756d07170325f8ce8c3b345b844ab2c2f3d26b0e80e6790185dab21bb0e19b14d74eaf5b48b8c993cef6475a2f05bc8754aee89680ce3ef0d6d6f1c4c11825626ba9f2e3b9c7428e444a7f4c2eb638a40d5325aed37232e04e874c9c70b30a88cb354f96809b39d9b331a1e4530b0ce2d75082226c2c13cd482748a426d3836aff35f25352f1c5c44cdc5171c509499d4972408a4c83e0a0507220fbccfe30ed37591c471bde42f0c3f7bdcdc4835084a87b5edb769c24be0b8c192b11749a3b38dcb83499fce890ee21708f5da57d696dcd7947a142190666d52495131d64d15d09b317857eb64284a1ae7142e576c6918e742806eeff02016d0a3398b478a9ca4985ebb39e9ca4adeb0b5cf2e0142500a9ad1d275ed85ea91b4de74c1de2a4bed4bb84ca31c19b8c587651b01292f7dcad3b6e4463173186a904b5466c19230623740f912486367dc1d405a7d4bd43ed0ef1b7eab623fc31ea23910accb4a2f43dedc1686c42e664fd7f0d29e4bc96b0e90b9b8104efc8fb587d9ca030e493061414e3d00f2ee5f2164e56dd26cd0a777967f46e04e6eeb8e8aa7baf9a81130f181e85526f71710c523ebd13a6a265f58daf04e7fa0eedd311004c74ac9181522b62db991ca3bf2bc1a5cabd7cf5ce5fea6849f16875caab90e4ed0895a1ff425eaf6884ecea15a834ffcd422c1bb2d5f1d4c8a298a1264f77537c8862891824ede1346b12e5ad1fbd2c2925faa40c651ffc02d58a9d13dc0fab0bc106e161577c37cc43207759ffc72ebc1af2659217ec79061aa6bc3cd768e8dd0267b1a3a7307aaa8350d3d185e05e2c9d57016829a9a28c078d470ca4316d2c8cfc516a53b8863c6a53bdaf365471b90f0103610fdf0226b21e04330fbb6ccce06049d504e6cacd8b0ff2f55c175f7a7c75a41e274258c04a1e98595a6fa2ccd108ac2a105d44673a3bea246ad8e4d88dd766f53fb79440c1f693dafcbd32325dd1bf3dbd8a56a696ace312b9f24db8082c7c5ffb87bf3736752f9cfee0855e570886a43e2f693289abd90ee62f3a3cc1b13216cd960258f9e320aafaac0064333b8d016293ef86d475d750fd7290e470679598be58c021c93246b26fa064f9e18108589acaee363e19696320930cba5daaa8ad92f853e87cbd6d34447432d05342d2629ed4ed537f9fdf3cdf544a02f933002cdf5bb464d3176da13fe6c35b819792153d46392c9f71f627724be16f54b041c2907f6b0db607f4de63a227069e47dd9025a74d24c1400bae52e5e5d17de2b47eae57f8933b99f7bc288cdab34a8e1a1b9bdd2fd0b161975e114ebce04488849b5cd224c91a36cfca6ccce3c274dc8f5fe626ad45ac3ff0abb304c7e77263025fddab1ada05f377c56272062de156423f940559636077dd93ffcbe175330b0326d11710d8b9c421430d8f0c705484995cdc691eb66d8e820c9ac54ccc0b01c3bc47053bede3c176a6abe8d7ee6c1d67a3756876242cb193a19777b659e1e91a76718ba09a1d3607ebfafbc38a3dca7dcbd6f0e53812a0a718a3b0541c7012bca5cc34475e0d9819992b4513232b05d1b8f6b5bf3046af0d1b4afd7a8a69bf5f4b529480d8f3b363157d05214a2cc6a28545b8793c11ac8c54ccf091509a01cc4fa53b3af03cc524c7595c86a39a9c21feb768f4101b5edc56e6a676e7f10fcec480cc6a2c6563215a6042e8e3dc5df17e387307266fe9ce0fe8c43d995b7413a2986937825b198ed7b966298c0eb3343f61d209ab36ed7e477d5684d8aa2e30b2651aa1a2b2cb22cc7678d778b838f00d733281bf59dab84e83a7c3c19e255f662070652db30e93667e1800e44afa6cba5797e78523806070e2e24008ca7537b412246a3d2de5e13eeed2de1cef12e5be64eba82778c8f9b02bc922627abd39b110495e8d461ffd1b33e6b753a36f589e0323bb79dc5826c0602529fc0d0e5a66ebd4cc9e1b6f137a8b1a9c1448beeeaabe547d223efcb07a462bafe6dcb2271a23a3a35e3a2c6a691c085358e56c8884587900ed804561198d518c370407cc45be535dcd79643594a9aa4319cba8213c23cab88855efbd57f0085ed2920ea300d6979ba1e92332f23db05c36aae4ad4258a3abe9fcf0adc1432786b17bc8d9be5699ccb51b101e1b78122ed222d5125bf80a8270e815114ba58feb87dc397209ad2087a7371b861b9ec25d5c0e53746aef574bff99edc090f2ca5b324f126e9fb8d64840f43e8c27f081a7474342aeaf4e834c0f5a1ba6e9830f047a113f8b1a6d73cebb7389256d694482a0e335ec71b3abae68e46faafb7a43259f63ad5a24d87edbf522bf8d5c12c3d361a1123a4d746ae4a3e75545c1b1d795b069b5c5ddd0bfd4913b3b95d58ec9b1c4fdf0b606b37197c997924e7a5c2709fb360a29a3602f9c2280c8fd3e5c79254ffcb2b176aadc7be4005111f3dcc292af97a2c4e835d3cff2e80ff53ba1b19841fc9f71e8e19c2313cbded5cdd222040928254222acf9b830d1596dbe646fe782eafc82b3d45ed142fcf89d3e903e2db836d53161aa55df3cb4d01a78b77b3e4496f38dc40d95765cdd6895e053c074bea8ee86c67ffcb8a3c1825f92bb52ea02452bf3ede3a0f41a1a203804ea343973e32160d28935ede0bc0c664cd9fa4630ef8c3e2648e61c70d08b90ecdfb39d86b1faab61144399764978fdf9e24737e1314db57fd0cc9d028594d9909ce3b539071e9b2ccbea06a456cad32a827753d2ebf1f91d4826cb432a187b2a71e925bc979b26ccfbdea2472fb177b1ba5790b8c5f69805c47a992eda1251034ed221adc04ed6ff42e0e8efd1c7084f4d54f6d7f2cac8f7af45e948fdb308c877685aea507069e74512f600e07cb6f17ba5b217ae2121a9d9387e299a7842fa38840f5cc435da4af07b900828c97730672e8c9f57ba516c74295c60bce3175c962d7d49b36a41eff709e1d6814670d643bc89cc0760f4473afa423aa73aa8d4b95040a9e8ebb4dab6f6e676c75f9ea1f7f39034bac1924d6d0508ac25234343a8a41f3068c8ad5483f2b094e7877050d591a00e3255359b92ab8d4ca259a06edca1fcd0fcb2bc4de618199706665d3970d4bfd77d9bdce54c8b4da2c95156cac5de9f354f0655d64dab872ae37524a8b0962b444897e16ef2b5d21afe3299c3177636aaf42690cbe222283b7e060d9437aa8a9fffdfcc5eff9767d2ff0d1bd2cb72c83291985c675ca8cad7b5ca07acb7e52d2ef25d53a7549c712552e2c7fd0421759ab4836e720ecd9666704c9bdde3364aa679f3f759eccc3acbe17764ed2fbfcc392f6a73a6d0b42854e2803b26794a2ae41300fd06c218e5bcaee95a52d4d80fe5e2935ed1401ccd182b2facfae0857e1363dfa47a82e5426a2b3f79dbd3003cbbc89827264fe9715052fe2658c6a303dfb1a96897c5fed961b11bdaec435f29c4c7f43a396e879e07acd2b59a0cd0d4687f4ec3e5861010b192dd58412dce64c4719e6cd4fea1e974bc1f2501f61877074e03ec35be6e6ee0461ca48b4829e9fe0ec7bfa45a01a7c3351b59310603cc4dcb9ab1882cf04396627e6d5d7f84208423e428082e42656203ab22064fd42bf2f5953795301ee200e2d7a3d16a6302689f2c2529cf0f06dd23d40a069ce4e838389cc504983fe1d6f6c8459f29c91a2cc005e309484a97695b75e0197eb51a3d8013b5b80e04ce27afaf694dd3b79cdba85bb15f8a0cc2091011f8352114257d7df0239eb161b622b48d0516727faf77df1afc27c89af93fcadb77d2d3eef36b42b0b917c5933796fe47f90f1b1fd2a8b14267a599f32c6c3409711fa4d300c52da425d5766b406af702e6533e90bbc9c4547a10fbe51ac081a7f60e0288461987062b8979c760f87560d712b6bb70a0360a134d7f813939998e98a5de15266a731ccaf443afd02693ab811ef7cf3d0741b52857ab7f5d33ef891cd1550d8c3e4fef8911b8aab7179d7427e276427b5bdc751c15ac706e85b7eada5d45ceda01e9100989371a07140245bf3e320af03ba5bd347c9b3cae7c9b8c2810e3dbf25396d38eddd0ae36d1f4e48ee034b4d113d75c8349eb2c9c71fe444a5842cf06b4a1fddc16953fdf67294e7167607f1a0998b0c5574d74c4a2857dc7aedade836adb264a480f6ff9afb83e59d26033fce18e59f806369f3a75590dcb2c284058c0e9181fd4b08b968d38a6cfe1dda6825afd32d10f14a6d701f56ce5c6c443ef5f31fb53885d423162e730347a7845cda3f212f7ff54fbbe31c1347a5a0170436dfa03361a3729c7c67c0b7f0276ec062f09a51ab719903a9b6b417f8b5126be7db9ac54dc5de9bd6700d26cbb4b47c61a5766c39ccb7ea0b3494f5794383ba0fcb884dbc6ab216ec1cfe9c54065c30db88663b68e405797fd8b335d24fdc084386f02b450a3d827085840ce451e412d3dbd42b11318235ef8bdb1edf9b8d14144fe4cbce4954b3539909cf0c45201a79090c1142a78dc76b972c14599ef4b03045fff208d5b8927ea383cbc3e4766d4ef0cc081c034365ace9e64dee7de73f6af6e6cb01bc0ccc3d109aeff814dd273175eb7a5c206c50183432d6ce98d9b9102768cb2d9601f64e8d484c6ffab37b24d1e8db5d19690284e2cf353851e238e9684adb47b2ed778b0f6e92f23c44e32102376e24d61d15656c68225e296942f385f90de491384b152dbb24c2a2fc5c17673d3a9d39442431f948fd0a9ff358a232686a7f816cc9cd33bde853ec2e95b5f83d7ebe14da1d3c442a1d12dd0c7204977cd9c235d33a1326cd46784093272b66c206ebf30fe3ed056e68b7e832ccdd4b0566732d5e38f74d27ab074824c08badb3b51e66f4a035c23e3740d1689b513534a535c5534058a8ad96c1a6c69b72e716d391fe2aec78bd40da6d5cd9e52f9fe73b05fd71d8804c162a6e6ed784b13499d692bf677255af6e6056327a98c2aa88b8a8444d372b338e53fe7292ddb3c57ae2730880e2be64b29fccbfc24abb2fffe35c5c4c1a5991f84848e7cdd1266c3647f00cd510f675ee07f9a923968cdd9f28cf8a1d04db3ce88de0eada67c0a4b18c513289f292f13926de12cbe783fcb3cff2fa386bb3eef90cd8901f6aed52c79212c15ac786d36e7be28fafac76ba0e8a732d51aebd5bb6375d35202722fa34b118676c19e08e0e262438352542bf1d1b449d00f44cf2847f826d2ce98d42f2e759cc96eb10fd7d9e5865897a57157b4236cb0d9c68da882cd55147a816ab82b08c32a520faa71207d4b60124845bc9dfa344867fb09f7a0fa52f20c8b4f0bf9b22526506a62c03970658ca794ac32909efe0901a476626db99cc1ed6fc1ad5d7900826aa1c7f79f76127f55ee84cc510651a4e053a546536b538208215ade7845de3529022e2ac8e030ef39de6eb29b554d48d410a4393c05e83aa5c839f631ca94da0b5086c2ab96bd5710e0fa0a956105a4021283b19cc524e023b410f3baebc50505508146a4487c6982bc1562933aa39a58b6ba0257feba11ec06f2982797f418674fb2617af87273ecdc04d2bc30a4dee25f0f590dc256deada69663acb30122284987d7f3e8715321f81be75c7168adbcf9e087fa086d7b42c148810d00e6ff164d95f8aa0324058096c6ba53d85484c9d125157a6b72f6b956adc82b3d7440854e82db5aace9501ab3e6284822162981ebe38b1a9fa14088d178cd38439f26f39717b7a7529b07bcb57c0d307b3784a4f30c10871ddbc7d4c9c6b6c3339cd11497fcb2977139fcae4f7fdbeb97e6e8da729786a7d4f169a526af794ddc9a1bee9a95718110481a429f79b86f817a6568bef7859c2966a551d19c0a9cd7e0702ed0f7968142f4105b31111ca698f8a25d5944f02b9ad16a4c3946ab5ce386984b7ca4001ac14987b8746f003a6960f084ab0044b29739471d2112ed98199fbbca066ec6cd085ef1d8062f77bf1ccbbe59712cf01023709568a546ba95c256d164f0e54bd109336fc1e21ab84e948b9c5488df35d9ec5cf70d29b8a8d03bef0f698584af5a038c4980efb70660ddb6a024d191a3a54ce6a8792f07faa4404480c38e5ceff85ed075bdbb580819e825fd6555beb80c75bd7a0a594a22294c32c80a12ebcccbb90b6f25f3cc1f3bd5e3b0063734a88ef76337806f8adb6a41e763b65a177ebb50aba74ac21f632e216140e3cd8704f303adf78bb0ca81dc9228543373cff4c8558709264d665a88efb56c9c65ca085d7c087228143ec92b77f0ae2bc5b16d3993495a37b333418aa7c02ec2e9415206e3f837b0bf81f0e8ee7326f55cc3ab1cc906daaf0c23f1eb732671c6ca5357b9620988914b65f7a418518d2e7743836c263e636c7e88425a6f2cd0107939582a401e5e50235c52ccc8327af701be521363fdfaef58f4dd42f77c56bfa6a58a1cda8d973a6fac569f1fa9c5b30950c715b7a8824bb182b816b4133a1905f165c1bb87c32268c45a2a5161f64a811c88a0f15ef6ca8b2d7f5ebb1ff8a9e050056a40115e1657516c0810dc7a78d8b976e2df4c01c1378229be09f5fa65ed9522d6897aa959e0c093d7bce265fc4b068aa2ff11634016c8c50dda7417f846295761319f17bae183df0cb401fadb6591ba279de9d7691b52f24bb0eb1824f357680e842e8901283575416b15ea9f1346ed44a810d4d4e4bc13babdc6ab9d0bd30329a76fc4ef09d13e771d81787bc2f02ceffa8308da9032ee8c18d80d3caaa7a7584c83cb9ed5e16d65ec37464847692fc78448725222de44f8d552c69b60e19414573d44d2294c188caed92e98b56a2a9685c56f6a255c189146b5ff6e8b91f2e210c8f4d251c1edabec3466d5c5a9af80ab1253bff5f686b1d29c7639c82c90bb0a7096993886354f5ec89a78562c1ab71f914e73aa2426ee2b61fbe6304a1eb5adea4ae8e64141e6267247ebc2e81bf8b4985630b8d889ba35a9a5a163f639a876bbcf71920f7ca70bea25ac168771cef0cbb653cf9c59244613fbd934765de1b5a75edebb1f9122b7277f94cdba9041577d66db35183295c7f335b2ce4a8075bb742043110cee108daea38b96cfa05d1a9d1fde4fe6659472bc91895756a0138e2099db0848f81929a1a992899841efa6b1e9ae0174403c82cad86d81efc89b624db298fb795522446be3c3d02566d7627c881cdb07dc22a22329774dbc329942523f1e6c4202768e64592252e87afc5b873cf9c74e390a9ad4d005374686af43c1aa93f5bb4135d051ea4c7c78eeb0c6e0e8fb0d628507e576ce54264cf4e9fbf639a05182763ff53b1596d94272630019a48d0ecc57076709e18333612fb640a693b10589f93c12aeb9cec7bb87eb57190a8806d8aac3bfee09e3393c9eccbd4e8ac0421e8753060befa05501108eb934af0a91d00a51e0c426351699bb5b2d5ac06f6ec64e178f7c29b01e829687b06b87811089817fb2cc28ea4f2103a1c063543d769572f1933a29f95fea70121a7443b71e581c9d2431e4833af2042509d84c950396957eb8cc0a02400d4bc5de0ff33c77cb6091cf5ed4194249c0bf19b7326f92300c34b713ce3d87bf3b411a4a09740cb875c16a8eb279f1182787f78a0b48e3ad7e8768c61cd1d553d4aeca4a2db76783b44ab83f1308a576d3c8e121a0d3965911afe3fd5c49ffd4ad488a97b4a4a9b2e26d23868fc18c757eb6e1835581fc49ae50eba135902fe8322ac00ea2ef6c58067ca60499093af9d6b17beb091d99f5cfbab005e937c9b7d18971ef51e777e6bd8c6b702e59aa33b21d32b3f09053c5c05126185ca3ea7f9cbe1272391f59d173abab39235a86863eca106c7f30bd889603bb850e4535c054b359a2cca358709575a6e58f1a29b37acadea8607c4509b2e5964f66d736341fcd4b04303d12094c605a1e3fbe42bdb5460c5233aaae757973b38b0f2f2ca1c2eb103f584de4eaa7236ba3771abfde375fc99f3bdacd09693a2e47a94444771c0f221d886dc8743d38dfb16dd31fc5ad21d0af474c78d12db3ab7b235f3be75c6372befc984af0be53e9f5eb5223e533a797a23c3e3ff5e91c829505b362b4d796e7e9e73144144dbf876fd272a048003597b89cad940bca0feb8c13f3244b51227566e41c6863270d21c19875df133183137877b06d1884a6905c6cb8c1827ea154f33920ad22f118c35149f428c09a8e319458bc426ac04d748282d2d849537cec5e5dd0b4bbd53a2270b1c0583cda99244bdad0bc7b133e0210d11e81440e9aa48a32fbff0685ba90f6535d96cbbb1817aaa8ea9af524e27284436c56cb9244505b07d00b4f07aa91f3009311fc91c23e33222f12e1ea92061003f656efb2650f5b61077816714ae6b36351baefb031adf3f6db9843f1fa213a2f9a5e95502e525f7b4f00025b77cdecf819c08765f5c46abca25d54a7748d0a980ce34c0cf8254e4378016f5618a3d12b39ebb4cb867a9e5f440ed3f06d3eae2a445eba1bab247ca233efe6ceabd75a15c363ede9c10f2738bd4b3a53a3d0e386b3d5119e3df4ddd30ce2cd2644f06416471fdf019a10324d6e8707ee95baea33ed22ce2f43ff4483f07e2fb3e31ee5da4dc8062f3d6e596049d7ae211f63f0ce3f5bb23f10817214e24260e664206c48586b43f00af239445033ec34c81b3559027eea453284283c2071d073bf6e7a99507761a289e7a5fd4f70315902e35a677b6baebd99343ace627205e3791bd1a748c2fb3fde59899361cecb394006b082eba323f4fc74cee1f9ffc8239ae8db7ddf647f68c946acb29d52bbed29b9b4e9c46fd1304ea4f37903ef29e65a0e422d4a1a77f334e2287f1d742b67e1da6c8aaa02ce93ad11f7160f88da342a25b9adb29f438687adf6a97d09f073ec528bded9c06e33658f12bd8ec193032b397ee95e92ecf55a961f623e9f7eb7b860ec0162d445dc76de64281c927af95db5feee95f8b84c1767c974f25dfade8436e0862fa9477f7872d8f285afb2743dcc21eba6db0c2bef4ca6723b6737c8d4b299b70035e7db80a4c2e3ba4f41659b59f9f076a7a06ff2d959107256639b8d9dcbab0499f08f1db31a2e0c06629d52bf7541ba7e1d38b87dee897b55cb11c5f648c999a22f6cd2a79a29ef6f02bdc602e81efa2c2ad4057538a153a6bd58466d6f96d722733ff41bd9bbc9988787c978de7a7ba9f466750ec62e9fe613a29e10e603540c4e3ed4b5dac0b8746e408a70b80499526b65d210f98f0934e016faa9022e59097c5127a5aaa31f93bdfcdeed884e23d122e700514e9d8c5df37e8081c5150f4229503a025db4f468cf29ee316166b6c867c6d4cb989aa66e6c3a14f617031ded6c842e6c54a916c01baad4e4cd9bb33a3fc5154e03963f61e7256befbe8bd50a4bff2ad59ae36d6d9e34cae12ddd36e85c078ab1154c4bf303d3b80548f047c643678d99c2bc6de2214b782912591716fc088a278b3393ef07c9aa5781e90c1f05a63b15e51f0dff9fcc448c60a286df02a8240427b2ca43cb02b35f5314c26f9bd5a36db018c1406a712b5ef771c7813a498730601b65486925da8a4f1b3a98b49fae8fb6b965dbbd0ba44964a3092e97480028df18d743b24e93560fd56b8286a0d58ad2e9e7a925d843a4a6b6371b1cce85cc0640d2fc46ebb82b5a05654ff28698ff83904650258d5fd0dd9e6068095dbf154913d86be26404ae5aea9f1773500b0fd7824d9a36b14d2fe7595070afbe6fd9c4aa620e591bec9ec0502b18a13fbb44099c8c216909d27b3688c8e12eacac08691d32195c8a0075945b8d091bbe442a3e635776b0a231039a2c0eea4692790f7aad976e38264f30232665c18ffea3ffbf23f9969b60bb7aab37f3633e3b82e5473192cdd3459902450aaf6f3ec6f83e6bc0bf0d3dd10aa58229d2c47c69deebd51b478da3119fcbe22a815b7a5b3e1117614b32c913452a546dacaa2c28e0f3a7de2edc7740df3668c53a3f340b089c88530766a89606903f45549c0dec5288714ee2360ea96402a1a18935e6c20b77469485260fa8d0ff124b5b7bc76164997730cc59c9cb4e7a7c09107f5a86e51387a160b0e17a72c90104d6873ed7e7e9cc7dfc58d0be441febdf567e3cb478eb830d03746fe1ec8aeacb8797a652791fa608e9fd6ebca314ebff90bec79ec5bf338e827bbdf2355087afff26e2af14efc024f5d22868d930069e9664cdc3b8d7261d4c1027c4b0a3044bd8c2eaccf66547bcaee0538764a12b0c920ee17d2fe36e60c47cdbdfaeb9831b24ddee96ae6f55bb17c0310dd56eff426f16b1ae4220a0037a1794b349d370dca9fa867ca336b5ffb29e119dcab26a8fcda972a75579a020b5a5f0f64a4836bf42eaa64be5817514384cc8cffffdbcf6b13f3f653ed9026e674469b9fa92ee54b07d115d9ff3eb44bd22a7e7a2530cf824cb1b6570bdfdcf70f5e8626c129eedea2134d846a11813feb2375f2d77cf36c13386aa24a7564f80a468de175e484f1be19e321bf112331d98e0046eacbbd37de5aeb1c6ec24d368e5f6a516e6a55edc3790ddb35039c50c64d5f463b54248d905bf990328ae562c8bc30490f75e1a30f884bc2738961348cfdb5b2a663c5d7b870ceee517d57c5553073ec2786005bd4ff79097e9fd624a8061a7ace5f790a8519a0c29074a8aff8f9086caae4034ce7e827bc0b93be94f46548e40c68b5db1e772b82796d08e0552f3e2cfc3658b31a8b6cf55fec173eb611a7d629abf773d1a284203bf470943b791e514278661d02129d0e7c4d105cefa27c99b1737d7311b168098a7a7520963c3d3d5889a38fdbd9d460dc4d1d1415c63977c9cea3b94808cd1c4a1b82594f9bcf62cb62805a865987703a6b609be4624413fda83ac600e3b610ce5736827286c1b92848f6e13d84e8f07dd36524d89bcc91ab19fbd092a512f75a4edb34831a17485f0084f3b78d8681a58854799c2bbe941f198e0b2bd3d7aea8a98b16b83b0ab429ba4189cdc0a3cfc1e2a76859f4eec8ce82edd897abf3126508517ea0b3c1f3f600d858310e12409271caed3d579334af59d7bfb34306fa663b303381b824ab45d08cba2e9aa06cc8b5686ea13df564f8f0e2fa41fd294e99137fe0f65f0f465d4fcb94f576967fcf043659c964ce0e89bd37a19d0af9266c792c2db778a8ffdda16b72216a29c9fad479d65bf709da16afbdfc04c1f800e0ceb36655e12eef38f0c4f87cdea07fe138ba006ea447534e2fe0f2908eb075e850d599cd0d14ef984ab750460a911c1c0bdf39ca89e265b39b06919ca44a6f4f9e34a576079ddd147b99a5d0dd53d9506ca62ef49626b7d4b113b7342aec50a880f926d33189e8b2f3779cf1dfffe58517c64f901dd2f033c756501eefe00d5fbe27dee7a5ae4118be8d04cb8c7b1be9a41d5b182f188270d0807de1fd103b927ce8aa4ddbb554ae60bb25f9200167a70023716a3d4b501dbb55f924a47ae9d3fd278ed5bf4bcf08dd11ad11f7ce7972b9e89252a44588b100adcbde6c510c80d7b58bb8dbdd56b98a076321e45d4b9631440db23dd4ff318d25c30b7a2182d716a167147415d3d8c0ffd8b47408b2d778cd86d890efc09f62cfc0c02078adce73888161486f0f4f92d859b554ae3a0eccf359d27f2764162dfae050868739547abb2012590ef0a4d36f602d83850888a3cda3e644ea4517def542f904ab3612120f5ee620b71e1214f615a0b5f730944a20360e5738fd37fa209f4ed2a66ce0e911935f55750a237d941b932970c20135502a3b0f915af5acb3f0047c8893d29ad83d91be56ffb24325288cc11ab06f71df2c03e170debc7f0445bdb96c9b3a852a02144889252fc40a783e572597387a61272c3b1e5cdd68878def70d31d0380038c1c795ee87d1264fff32a2215bc7060ba83dab88666367e55b41b0fd5c769a65fc32b0668c1458101c877f71ae0873e797345b30851b95c789945656a4db636379c1555678df4d1e3ca7bcd5a19dc4965f6a6b205f9be8833839b65f7c1f02731b36a1d2fa226b2b9253790aef310cea72b98131672d24023f518a14877b115dbb36a21105030e28d8b91ebefe977cdd4b8c8c771451770d708270037bc6ff41d0e0f38db2754306b5ec0e57ec260737e31aa901b1c6158ed33661a80230da5e1e03f14420132f594ea02ff726a5394f042d1d55cfaf492633693ced1203316500a68207c88188d62267404e19cc8745979d7739adf79e19761fad1c7ec4e568028d084f17ac9149ce8cec362ea36ff7cfd7e18e2e1b92c2d24f209c965cbaa0c204c46c61141db</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½ï¼Œè¿™é‡Œéœ€è¦å¯†ç ã€‚</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> å…¬å¸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æ–½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå®‰è£…Oracle</title>
      <link href="/2021/04/25/linux/linux-an-zhuang-oracle/"/>
      <url>/2021/04/25/linux/linux-an-zhuang-oracle/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œè¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹ï¼Œè¯·å†è¯•è¯•ã€‚" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="67593fa2f4215b1206ee29f800e6d0b9741f803590226f5e060f5281a8e849a1">50401a1b4252edfef05a7c1120311a28d7c9779e54cbf0d6b9b880a49e65437b23bb491af20fe9f5428030d42f897c57365c7ab783795edfa5c110bc678abfa916ca04e2eaf05339bf750a1b5c4ee2889c441791fc66b86547000a2c7d4c6c782a89e9f98c050511a6b553bd465315e6ee82441a25102bedd1cb46edce0b67b503632fff613bfd20f8b59613b8436485173f6150dfe83483f3fa9b516d828c5987822ed14e894265cf9c1aef200174f8ef22ce7ac7005e24286564415d4f971af58aa46923c2ae476a7a95a2c4c109f4f7ab720e7fcb8c569f7477e64bbdf9c2c3c29bbfb3b038939a3e1ab1fc2b03d0d4ea5937213d03c8802251417762d921885a1c28b01ac5f744b2171083a32426af3cfe203ca43492578718a07329a2c74f53c562c04241163ed906452d31ab2cb9cab5f0c34ad8973733505558fa753978aa7089caf480f7eaa318f2e0c922370364249b27822be95c1f2dc35490009f2e31d6fe47b6f980e37c10654e2d6e7217a50fcc48b4d4105788dbf16c076c942e78b2c6941c5f06591e4d4236e90a4405db78a6582ffd4f714ba4452f1b6bd90d8172fe1057fd57eb7b482620f807a4c52e0dfc86e0bb9751570e8cfa038be9852f86f5453290b43628408594a34d4e3e8c6b3794725319c854f9f8f952b00f8d5aef0d9f8df521a507042d8689427d143418473d6765126bc8719d31d8dc70ef688fa395ad77d6fae9fc0626a79cc9905a32ca9a0aa390610018d22f811b981aca865744f45df2f1157586c09148923bbb8cbe9177a7894e4e64b24cf14dd8ba052bd4109ff2f93a645ed6932b33df99fe51ad48592ba6735d2379e8f589460bbb87abdae03b61044e8ecda8c29b9156ce57f8d94bc77f763c9614be9ae0f9d725225e37f17c46dc79c0f53f3c4f3f43c00c53b7f0091d1375e1e408ccc737fbd763c28754ea5e089a99c67cd951f08100d10eb0858c0ce55cc9d7b222433f95c0833dbfdc95cafa5d2474425b9de6072ab74b8a4dd2de27192bb78597fc24a273ff59a0751b603d96684ae5304a38c18608e8be7d3c48e3005f1ebfd849207ecc6034d96b78f2c08d0de1327c11d6ae66199d36fed295f10f48b4cbb2d2c5f961e2fdefbdea687945da0769f00139ffecdbc8993907bdd66b3492fd09bfd9be56a2d7e6d2af0485055585a8eeaaf85d0e85651d8548f15cc55df7948d459823421e54c066c3b96275bb8b29c80f054864d85a75c980355f497d8a3a06b15dedfc0af476dd398da7cdcd0afc17bae4374b39e270f32a0c2cad38347634c42fa8f5259047917229a0a873e0157f31307715cf732286c87d1229d2b129a6bd31044ab4219572ef4f0f9c898951ab5ed7edb6d7fa02d9529658f33a447db03675a2414d6a44c708ebd1463e1c586bea9709f7a9da13090ec4dcebeefe5f3c089371aa8096a069cbfb9337bc53f6c378728238f189780b7d5ec4ef21fd0a6f47f4ad83232c6a637a72889a2dc7d091eff8f4f45da92cd2874b1ea97f66d97c570050d391c46a75bdbae7ea9252e6f98695ebbcf454220821ef8c9ba37ea946365b1bff01f90ae5ce3e6ca3149e1ccac1ebb7b409834e5d83e43fb536cc4ff0210b23c492682724540eddc3437b9766724ed6652389f457bf4ef1ba81b17636592a6516f7e947980d9265f70065fda1b7f532cf63363fe35d6807e21084eaf046bf0fd4ba8b278898f3e25a7d59f446e96f7a240fa98ca2609052e1b32940d5b697a4553226851d03712eb84c5c2f086e7627646761ac5d8c1b0347e1f68e41134c42b2cf35dd79522b36b2212aac45b5f206974e0a42d04e2fccc6ad635d3869e9baa21ea5a8026e690ecda14df1e8ec71b9630bd9597f509e701c1a4f6b1e09731d1025b1e517745e5db02823413134e6240206e09dc7cf84c8c3a5b23cded5c78bf545c4e0ee92bdaec41a7a8ebe58ce9520b25722e1fb49fcc9ac16afc049a59ddc60e98e562fa0f8de6120b0148bec2949dca6edf618e685d741eaae1252b5fd65cafe675ea09bf0c97035616b7a33bb87c703a75145b01b2194858a2b01a26c66633054e41434ab4b214d770d1ab33aeb941b8e386a326a6eb6a46c69db084c3bdfe41265f118a688ffb3446fe7825043505a766b5760432d592b28f6825756a283c58c08b26a9f1848ec93f8da2639224d8e2de8ca073908deac25ffc7e96695c9f1bc5e22ab5e870e6fb147ac5412f6decdf21e965bbfb08e2fb9532595974503615bea769c8d50913d12d0f987b718d51f41adecf256bb19d0d70f3cc59f00948ed68f50e8888b3546d5b2b469e224f2516f2d150fe263ad1b146986c140c43bd0ce40faee41fcb600aa12a2d7a49dd72cd8f4947b3932b8e62e37930ef4944f71740208dd25471ff1d772102422fe6780da4e0e6541c755bc053dfb1ee27fbd71eb664c43d26dde05b8efbf442c46535b81547b2cd99fb2e060ca4999c3543df7a5d2e4dc2f0ae43f07528ad2c12ac3d8bc9583a0bf743813f4efc09ecccbb1c88f1deffae0686c2dd963ea87324e0649e8bb37da2409d2c624545d401ff833b74338680219db6964593df84cb077dbe03680feeb8c2a423a6fab0a15ef7a66694ed96fe1bd84e38c34a0acfba03b47368c9ff4370caa29395d2a04eb0ff80dda3f61568f8c5efecf47cd00894e6f929275a47f75fec523b0caa5f11a5d07138269999ee608ea4902a42b2d5ef2b2c00d483d947bd7c51accb73188adc63519e9ea0ee26f4b2f7951321000e89800be313daf60c7b721afe69bb35f217f1257f5d6abfc2e9111481140d095a187cf708031cdcf68ae3ecfe1fc4c1fbfd348032cbbffa95e4069d2cae45bf6dce1207051b9bfae458985eb400e54bf78c659363514a7f4c491311632304fa6cd0d2fd53fbee5e173b174ed98e669dc08a4a9b618e1d1f33fe481fb4832aea6df26a04ad3a754377e13429bd89913e400f02b7dfc782b47e765d305f74bdf15992cf38b298c6a2db2be38a4f775de1181f0859d111b5d050009572d9a99a284be533f09af9e98e0b5e57ea79a775b8da716cae724c633cac4289d699ef2bf4d48c02fa15c80b3c4e2e348b75cd8b297a237e387622a2acbfe98673fe44e1805ed8b669738371210dd4fd0fedced7eb845b5fa686e92f800bf019c736fc8b00769f1cb7a8b373b2cf5f7a5d89b8630108109f4864a341fe7440f59caffd88e4afb4af1fa3d9c098b9b2c7e19f045184c915f7b503f334730b1b9bb4ced8bac4867e36946b0994d8014b7c1614ba796e9866bf7c7071384d13723638262cb90b8ff51877dc353ee32e51fb74ae125a9ec14fa0429c34cfe369db44d9c171e13e5b86e4522b5b1f9684017cb0d721bca8bddc6d5b12139729858a38896c990efcaae2e999bc2c4365e18191a7158d43a72dc0c3be9676639799b098847bab891d370b3c09f72f13ac7783533a1a389f6fa349b2621ddbc683fa22b9c92b9d8c3be3485695bd577f4c85a24e2006e77d29daafe40ef5cd12746a1879b5a708952c021ed530b9bbdc2f678c2243e7afba2721ca2ecccd4cc9c79f3d2c0c21e8149f7f20fb314582f7e40ade5c884db84270a3ae391f7fcbc2144dfd707d3179eb110bf2b28f89f5a4f674f2636c2de367469725e7f05b4b9a3218fff548967796ebf52f7cfef53d03be5ba98e8c6e43c0b89b63fe7a3e98b27bdbab3f4daa4cf3ccb9dd12ed929d0b0420e64d9930b3af0ea5bc0bebc47fc242316cdf353428482687c0769c8842166f47ff2186dc05e4766e19f161e28d2cae9293fd7df45ffa31584d9094456b86846c0ab676d7189b72554e395357c964f705cf76a3c4f6e2e8591a78e7137353741991b4fa62ddd6be05eaa5848109da1ae9cdec2d25d8a0e3964d08cfde0394f3dfcfac4f549511ccfdc4cbc6bebef2fc6c76ae4e501582027179c833424f2cbd078125454a950a92a1ec09759ec431b7e6bd57d6a4f082996ed6de2ceef205e9a1d8ef2c6fd1ec06671df8457a41396b1f3d23632211d377c6013dd211efffe11a3f69a81b067be4b8d637fbd210ac301c8543f005385bd1da11424116b5cd73ca657def7f2a198aefa2e2edbd6b8de772dea76c63864ad356b375a2b81e3cb918d5327f0558c67a898fe1ba61e65da4bcbf308f4db6f84fa3229bfb0d9d113a51ab9e0822622c3a2418fa2b8ec40a0c8d2bb14bd5ea36f578b369f0b4d763aa2224f19adaeb90397f714873654c2e3de865a7f6084cb42410cd73ee4a4b508e7a47ab7f271abf4efc9b75cb42555fef997f9e4ec71e163f90a9356ca9c404712a81a344a427b3a18d9e044b93aa288846ec7007534b94afcfa67f3b792641e6e945cfd36c7fa873f1714f1a8576a4a5bc544e57a9a4e3c79e6f7906ba5b12d4a871a23fcb39fbe5944aea58579150616ea31cf1020b08d13cbedbf27b9b815b7e5deff4f51bf8658d6b917ad4141d040b3ceb67a374a8b3e6bd8d4a548e4390cf20b7e3858f32947415bfc2c1af58d1702864e20d7a0303d4e8dda0f95c62791d3be9bcd495002a9cf8769373ff8e43c2b2de1a7d9a2f7c5d2cc41adc5753ec96e86ca51a45b9ef0363aea4075d5d8a756a2f17e118c043916bab97e7a814e3833889c64e49829a20cffa8b9ea9c9cb1698bb44fd06c6a8c88861e21d447e736c82a67103d8920ed45756379a8f3d1b9ff878bd5490d22434e4579539b88f624f63d4b0660cdd3d22d41a79847290e95534d7933a9f1bee6556e35a00332d40e49dbf53a25d19ce8d20e64a87bb74acecd97d90b6d2da763e2ec51f4266f6bb42032dc5ceb34dd50487f8e0cbb5d573c8c7cde9a6006b73cdbd0036245131ff722aec71ed091342fb9a69d113de20c6c4a477301f60a564631042f1b68f714717d110b7f8eac84c8c0174e3840449c77e2ab3a4210e83e7a1c4c2f57862ae963f18b50c19688c0d146e0149742d2e3c228dfecc949c4b5a4502bf2491547079382a0b73e85b5f20e0bf3c479883e3f69efeb144d38c0c74c0febbc6a8c0382bb01105f01e02b4982d907644c435fb83978da57f884292279b3a5658d4e37095cd43286de8a668abd1fa901915bf4a28092081eb0eb80364b42dcc70373f9bf598cf50ab1283a9316f7beb142e30bb6118ae1cd988552c26ae43e0d63c877c2ff9a19fa5b9dc44be317a5417e206df1c8059cad4e1ee82e133d95224cd9f92216e5a7cd2d0507b81e73ba9b58676ac261fa50d48521e65c947ae37dda7ba156b239a85d7ab7abcd06b7b77a077018f6281505565c596107d3a465cafc75c62e5369139599d38cd863d53c7583b86825678f13baed0c8de7b7505f8c29cfd15c17bea1795bc6757b576508c1d6b9fe139a95a942083c1e8ed202ba499ca2e7e99a8a4d3bfe8462b950f520f48ee5f5e3f88d0e4c28d144f44292645187adf3be49a14f81d0422d66699bac61166378af38c464ab4243ed5c697ee8964d427fbf0aac35f23b232f175d885146e748a51d3970ab511d115a34eb860b4678225d6d5486c4efaf4ffb72c43505e7bab2d9c90e7757069deae34a0ef3d0a428a87e12f06a6a4b3aefd951f4202d0cc3d5fee4b2cf9c4c68f01ffde6b410390287782d353f4247c57021a8749acbaf58cdfa147b72502ba87acb4052cc6a28230543aea585163394d2dbffef366a153bbde912d352b1695180df293247da9284db7736866c877f58d4f4a8ed20c8c63677b1cc552bc635472296bfbed95a7e43ab912d699f4ea692176c3eb407288e96429da2527766fc8dae3c87e5c1ba8a809f6d6a40386a859bd844eb78e42b633c76abfe8bca5e8d6e0696022ed88bdfc7e88c4d2cd8884baec00e84addc2c9fcb2b150c937993627f4eb6e9a4ddb6cfccc902a9f01f6fe155a14f0de399807844054c0da5393a7c6364bf84049172910478663d3c1209a1df8e53e0c6ba85d15461ffc4faca551eb6d8b0fbf8a49bcbbda66b603c54fe6913eaf7369b4c9a3d6ee3efce2aeff57f6dcc45ffe6d17ec36267c0b50a421caaae094a15982c74f4cf4fc41e69ee7ea25143f59568040a977f18892701a732c02405c03961b9305558425f76358897de5b5d5983422bd11bef07fdbdcc5ff60834f4abdaf4853fb0038226e39615963212e26dd7cf325d213c5c6acc55db7d9c9d098da0a7719cd398f4539285071a59bd21cd83fb941e49a801b66539d23c1995209b854936e9748cdf59696190c800b10c46bf5127678fdee633265f870dac7f57622b83b1a9227db0bc40604e8be3fd908a15dde4a67c441dd09e54d48c7f6771d7e084113d4edf89fef9e405595f85f61ac4dabdd8bd801faabd221b9571639bf48adbfc88c59c78e1bbea5899a26928e51197010cbfa4c60d2d8f3d4f0b9f8321ab84589cee87815c9d9b6084d2bd94550567ddcb0d4f29e4a7d7d13df4b54970d3c5ce0247af52f8d6fac612f8ae6594eeb5af58f16a502359231ee4d82f938bc2a3104ca0ee9620694d8b9b77f031238f75882487160510e99588a896974051db6e4eac5eb0cea6215b9a52a0f161784671079e0e4ec46b902d8e97320932daecbc12f384a8cbef985d689a02a02caf7ef8a7501dbf4471b9d71a8fd4f8ba95ccdedec1782a3dc30ae462f532a4d4009f800f6a04dae8e3f1c04cbd624a671516b1c5bc936b23f79249a73852d4fde7112bfaba72a99164838c0d70983556fcffa2bf0e20589788a4573fc6d2b2590c4371866958f781b4083644e6cfa30a5be9ea70efaacc4603a3681d4dc51a7872f12979ad261997475ac8bc175a4d1f30b02dcf81e5d2cf877f44baf471e4eb19e88ec65c4779bd7ab773dc838a5c549e353c0d97b97c6d01b2f81eaf7acb318adf7114c338f7bcfe0b866cf9fbd0f8e80faac7f6412c87412e40d8d384313a837de83f01e9d01ff1ea4545581a1cf9d3a7f9666745e43705a712c699d7e16aa04a8b517a2db7e61642bea765f680743935576f7444ba197d94bab0c67e6bd4d2cd3914a7e1f45f4f752e5f9517cb3c24cad94d96733953757958f90ee63ac1b83d887dc2988e0d341e3adaa598f9394a05df58c93b1afee6e7ebb576d7eef5ffc6776a32229d7516d52045272caece2b9787b1016540f224ca2877c843df0977658698b43c256c7abc409f73d093906c2d2eb825786551c0fd1b7c89affaa683dc75ec5cfb62854ed3f77aaac923bc36948b68424257b80ccc463566452d881c7c244c7afc7b2246b2cae82c8b7b8deba5f19d7e12a8c29324ca9f8660086c7051c4f6ce43436cf4763d24bb8ffaca2bd850fd6199055bb8e40f7b5a203c6c3773f0416ee46eaed1d3db290256d78dab5e17235ebf4f75e54a54fbdc092ac7a6681ce0c35b975733e5c925a124de117710dc14a113eb950ed53e3f6f51267bd066779469e3533c34370cc7887494da4043b9e468642fefbc791e9bdc828e5b17ded5a73ce555e606c49be590e9fd5dbcfbd48058a6e360298d39d2cd8e0d13e40d363b692949aa24cef4e308642e763d2244152aaf2ca4022c2efd61a86d3da3e806f6ae292dae6cf6e9de9f443125fec68443a69f31bd61438ffbfa5eba8877aea7207b42827394cb6bde8d3364d884d1efb83795cca30999023e4691baeb2cbc07a7dfab22f719d547383e12fbf134a239ee97619bf0416e81b6e27e60eb2f40c9bc22f86bbd9a805c40ee1635648a78cd188efdb7ec09a200c76d47c005e7bf422ada691a5143e24b71969974af7feb4cbca6cb79e303d52b2520400b4592474fd6dead3c064a4ff485ae83c9980043bdbf4cf816dd17faa4e841239711d6009ec0343c78edb4ed6c65db32ec498dcca007198fa7940e751565e3fbd457afd1d06c00883c7ca1d085dc0bb7a62b565452ef4c6deefc6809c6702249d6b936a829f8f358685e412e3dc9ca6ad8a13abfc47b54849d5e673b61cdea0dc420e3a9c20594c421271b6f5066a6aa1e1a76cb19918be356940b11e965449dabe7bcfaf62e9459726a4ac65ec93837126c55efc93e141acf4aea9de59e92bb9484ace43a5fbf298ad81a0626cd422130103493819fcf0579b3a3507f0fa3595e78ce2f5018e91bfa09a1a195832e12329370941b8ab2088bc1f43c6ebda17a1c25c1f7c9de06737313745d8117bbfa4028c1b84d4b0abf075ef898ee218273b1355ff6a001108367f102e05eb6aeefc5f9cc193ef92120b22b4f2565a4935aab6a833c0c4995b08835114ffaf29a322fa1f24b819e8b39f63584d693a5674a65cdb8b2543af3cccbc144962cfe0f27ccc2fbf82750bca22eea2b7991951d7c4fe0e6b716044d6e525fd8b607486d3e3bd48a3fd20a690ea0bae0fe7f84c1ea1fadcca1d0212b63aa0dcb3d6b8e11601f9a276d36cebcfd8b8902193d2d914a181dd81a6894a614155c4b71707ec37f71bf3f98f28b9734fbf4284d15f216a26abf96c6ba539cba374dd0630e8d223889178aaf08b7a0fb329b39735f375e878d3be0a2649ab769dc13944a9ce44f263c99c379a4cca85959dc2d9db1f72aee9f2805bc23f65e7c19d9850e988ca5ca3a29a0efcce78213f2d235410d88c0882ebe9774ca3247683ce8e316c107f2e0678d904d69b1d107e8cd48a30df1f77d88ae5b879da20eec75250b36ea96d15c5dca5dd65a348d0fe299497ff503d001d56df372e113019cee73b2ecc8c77ac3a47f7e0519e7d219732fd3c38ae6278c16d0fb397d64b7fec9cda432638dcf7549a4c57c76c9c8e7a7d094c152e836ac792a033cb2347eca8829e8b40b03ccc179befe60365f227200598727efd54ec3913df5a5d47a2b74b02f3245fbefd37004d067654b71f03df9451c5cb9d33df4a7a7d5ece380500c1db0618162aa3eab2ea77eb5716e53a553747dc52207c25c8bdc7773c6a7ade5cdd611f72217ab0970d9dd7a15ed42f8a2abf8848b4ef91003676f65a2745d130706d23df88b5ad345d9caa7e23b26192a5ec5250617e5edb727f168dee16ef89c26fbbfcbf933c405f46419fd364783359bc81726c8bbc1aba8e6e389988dc745a517a012dfcda24947ea8c5a43eccd5e65ca39f23c1f0781a4722c012e491d67d914bb21b70e01bcf525322d4a229f834ee524fb9cd1496b0f54440c732514c3637e6019547f2ec8766ad731d2b43b4f05210f557d6971331147b14b63e3f29c795f8ed0ffffd7bcc2b529c5c7b223fedd586a4ded6543748c0d3ade9aef92bbeb5072f4754e2aece01d2bf76ca0870cfc0c92b015afd884ea4d610b7dfd378a5209bfa38d273f5a91cc5cbdabade128b741e87ad19927d7c7375d39e62e22350b1d8293590bc3eebaafbb2fb77bd83577f9b1e099021de77302fe1e9504c45645e310601f91599d1771e697f8ec79cf63e8aed383e969482511f159528e641c8396e17823173b286ca89079812749fc77a1662137f81b4d5a00e754b03c50c4d49a076985a4f2ce322f7d83accf20d6e406ce9b9dc02d1c26c781ab31ab75eb898b3253590a298f708a92a5f064dd98e3d9ddc2ffd0c10f20c74675453437ed5facbf7e2d2ec64e518d9c0e145665c861365767041e5c3efc6ed097b1b87f6ee67ace363d74413aed48c943559022a7b3802e16e3b4be231e52b1a7aa8b2db8d1b036adcfde1b4a81e5de8db6b24c21a87ffb76bcee4e863592dd22018341d493cea4358749722f6e1692289009dc44523adb09233a6482312a146ed7fb86cb306a162ebdff4dd79615bebf5deb9e01dacd66e2cbec045ff0e996c29caf7117b8fd07b24a8aa79f97244637850d9cb9fb8e850add232942afa205a51bf7aed83bbdc073d1d5d14745de27fb9404558100ce58be377f9116294a3dd9ce67124963a91390024257e926ca012d141083cc4dbc1e89930dcba1c768b4ddfaf80cec13e0a2c2e671367943d46e6bee32226e0d322ab8d823c1f76b538fcdfda59e15840ca23e58b58a84fec835db4ed9f6786e9b48aeaa25b728594d6dec4e4b8abd90a87eaf27dc8f492954ea3408c864b68e9e61a726ced5a275eeb12e2ec519048bd1e3c874ed948c6eba7a0f471b6827160faa480d37e111b1860fc0e4c66496707f0600f0d9b55a7f52050914e3bd57eb79eb640dcc00943c3ceeaadf06029f695179c1ab68cbdb0a55555f7910e302c3ee4ca1ca918bf7a1f2368c08b26210e06c1fa60e1bf345f697ccf910e2bca62788b92bd4966e89d5e75c9e7a5c450df671fc57fdc3afe0a14cd7a164521b62c1b099d843878be8d84fc0b59704019a81d59d2ab85e4b43c08797cfd067600f3fd25bc1040690e5220ca727345e74a585452bf90a5a6f7672c4ce7dbede66ce5942cf03af7e37aa03f275f979bd91c819202e812488d9085090893bb165b5bfe53b022ea290711c8a6daa47d0faa47b617c8bd94102f1b23cac200cb935ab0e6818c218a5faf7fbed9ba094961404db5edbcb508b88a57d440e9adf5a3953a806006134966f3955cc0bcaaeed3424b91e19e16342043cb0af6ecdea4161a4e0b6eb5b12dd4092413c633234ed14bef0162d6f46b6fd37c53f79c92ff12e3661175bec19012d724d3b080084236c72d4f658d20ecf3ee863c22cdacad006e2d8fea1699a0a5067c1917622921e09dc672e7feef116ffec31993cd6d6583846dac5b9cfc018b2175eba7bc9612f51e14343b4e7cad0d8cb5d8ad871e48f66f00abe84a8738bcdb44fceef009150fd9e7603865f51488f0644049891bb4fb31ed955839f1b0169851442f577e23722fe5c506d3c02fb7a091756ed42cd1a8001819a03fbf3755456e954c684b9a7a4ad99f3ec137b39b94d4b2b66082881ca9871a65d5aeb81b26521a6ef5b6c786245a72f2256585dfefc57372e2bafe308b9062ca6c5a956b076aab84f8973940d2aeb591a6fafcbac51299c335fd6c1ed66817fc12673ae6e4bbea62d77edc4cd7553e36f22ba3c6e5859a6a6832ea2f155eb3bb3fa470713fce4a2742f39de90f5f41bf21706befbaa27ef7fafac4999316af56a84333a662b2087f6976ff61e3872335e9195badd9f365cc510ed930376e9af0d761242ae069e566659c6304b0d985e15b8c5ba522939ecebb7639328d02dfc1fc68d446bab9bc21bc47558883c6e9faab91a3fb567206ca8964377bf292ea774c6c7979c64ac6b69ff0a090d065752091bbcebb28454a65db6d4fa4111318440e1b00e2886ab8b22b1fb53453e5b052eae4d913f5280ebc08319ac4ed017a31945bd6ef54aa8f18544913f38000a01671074d0af22d96cfa043fdd447f13d82cd9e7868ce4dfaf343e209e61976f0d3e873a2dcc87c069739bb802e13ebdbc00d56ca9c0769fcffc13305fdad004b4c160d2443bd19e8908c7d323a9706be77f9fb5c9cf0a892a740fdd66b8beb743f0ecb29b9d02c6309924dda791ef1e915e3a4537d1313432a36d33562e62d8bc0e9fc3e47ab6dde9d5c68a7c74be9c21b44d0e94353f902743a76ee9b6e0f0fc831b3bf081e62acb62f3a12680712a602bd706e11c935f26964c2be1c4a06613bf570f3e40e0a65492edc95c7a03ed4a61a869869ea6b92d1fae4590e0a5d608fdf8e11750515455e0b9a01ea067b3ec5c48a591ca15276c5f9eb86bbf716c27494a8dcd81f25ae6b5d82599b1d74789008d019cb3e8032b8d4b4f2d507d86bf4318929fe5c7bf98067ca20b7a88be06053e92278c26caf30ea122fee731a8ec1248e654dbb9cbf6d4330c8895ff8b5eb5cc9bb5118a20e3b8537bdce9675f313ade1018baa6008bc338285b37ea88499a136e2ce9a95daf5f2f2c860bef5712fba7eff1cea4545d387cd6525c5c1711a20b0eabcbdf57d9b63bf3ed6c951b50bfdaf7da8c469f76c9ab8fd7d9f3559bd1a82d55c3d7a8634b4c37e5482001f21fac3d9490d9d7c989ccb4dddb4ef4916f9f1b909ef77293495e9ed1780b9e2f25f8be66aa33a590744856582ffd13526ad342b811d40a98497729c8e33c17ea389fa4eb6b4b77330f853f5b9df0e19f6eeca6ed80f0ee9efb3873b5fbb8cc2c8a9254449f1c00e9d6b31677aaeb1d955184a2313ec78bccb0d7428deee889c7d490caf634bbdb0e6d366bdf1ef357f0b83c348e9c45311a93ce912ece22c3e0a8ff0cd71925b5201bdd6e65536e7901f88f312708a5abe00dba154654dd732e6ec304de63b620f10f3a286f8960967e680f638471c93d10f15dd2b3a879bd4c5e5e4327f5fe79e7492a945c954087273405d6812ad91eff6008cf4bedbef25356f93c2d6fcdf2dba25d2c8e88bda15f56dd41213c282414b2d934903e3b578d10aa2328399a03ef589f56a8151fdc4be5df7ce27b217bc388dd4d5452db6397b22e8db8b60ec6933c45c059e2b1385850a56f3474d02a5e08dcf0f2e58574fa3f68213189a2ff868eea35c2a5149d4252b6ac349a2c5d40678ebe3650ed9696c20a1444aa889eb58f0387acc102cbd271829d0f3b3cafe0812987342bc1d2042ce2e2947e636cd9d2ae4b8306ed8d3b9bab1bb4ea9e9bfa0f4b5a52291161d72b6f1594cef6f5080f0ff9e8ca9850cc33588a68841a5adf79c3cbcc0f456823e348f15048acb08ae769fca1e49abe8c923e35d76b92e6f102210f7968445ddbab5f22121816fe697ef6ad2d522881a0285fbadbadf0427c4cdc940c7b1f3af6301c78660b5cefee3355a961332f6ba6496b751a1702b7604fccb0ddc6cfe9945fec10c29a80c960d8d9e6480439690127a2591adaa6f7c453d1c7f9e8f1168b462127cf872f749b5138e9e3f2c526c5fe4ff9b412b6bc9896e8e68ab1b8cce9364bcb8e0589d02e4ee3a21dd970f8264d8df726cf19f981d7866c9ca8d12e14f687a79e352af281ddddb5a5ac5324cb2d0ab5008508507cd941b1bd769c2c59fbff6592ca18a6afb883e43b5b5399c4cf830e4df58740f1bc5fad8275c4c931395e3e582f00ebb6b8fa8acb7992420f0628247814713f3ffafeb21a2a376537e332dbacb5b1f86ecdb4e5f5881fcbdced73589bd3c20eb0b8147576b21b06a1dea2847345db8908cec85770fa6d2a1764b30edfa92f1299712d18b2150b1bfc93cf9e338203d99ea2e26e2d3467265074d26bdd1869fc6f1939e7d33ce4efd9ec10efcb2f88de277c60f806bb0829da09cad1de7fe6eb3f35b6ecaf6cb554f1a9e846b516256979ac41e5d75394838cd4848dd36f4b760bd86120bb598142d89cdbdc82bbe20fd8f1af081219a43f161786c219c6b8b04c7ba2ce153d5d57db9078b4b934a57b6151fac909b33fc865fbd60e7322b8366607486103796ab15f78475a3edd96199c749c6241ad3ce0ce9038347124389dd7bd58cf8d55d565253dd66ddb65613befc7342f5b6c92d12a8462cf76f734156c64b1dc536f37f4747696f9716356dde81edc9f60fbeaeb4cfc8f48fc9d2bf53de0880bf144d933a65bf2963ac5e59fdc8a77ce56766ce3ff63822838fade7b205f41e0ad83db8e8b7f6516091905b41301b6f481e54fc1b01bd58de3091c40a7c10a29a9dc86b643ab13ebe423eda0290a397c757d599bfa24aac5a6814b594aa64b47d995dabecf7fd5d91ee28413786bb6d58048f4528bef5e32cd17c91ef5007e9a7f5fd7f83a2cc48115ab09af7f73c5ca11ff1dbd8b0695fb31c1158f694687a663ab8cc0f6b5f449e05e5895aa4f3cf0cbfb11d1951c217c1917132820cc8185cf6801fde9b3b3de132f23302911d70d78be773b3afacfddb9fb1002195286073422c1be6c2761e2521253c362b3e1d3d094b482307f02e16dfb68d67dfbc615177d019ec75ec604f0d63794ebe7686d4721d394c29d237bad9f6d123fd49a8607135640b02353472acd3815e920b75e4c29076dc97d3512ebbac2c2ee000726f9b286f6fa1d6e219ad1c58c946d3e9f378d983bf2737c15e6d01930c5b1b99285e6157d7fcea836c90940330c73b1e37aa63f063ea2c18ec18f1ccb47534ce08d7a46ea623bf97ec13f3e11911c0058da87cb8dce82c1f05e72215c7fceb7f23da9997cf662859c823559b18b64b990ca2c0a7c1c698418cdf9f734e8779d0ba7e7d8cf5f3c410bba912e10762fbaff26ddb1202f505429f9b1a148820b130d87b602b735cf0f1e868440eefec5535f7567c9ed4d4a0625586eefa55422dadd05e14a6383ebc14a884e39f5f0e06850f0e1dc74dba957afafe59c785c0abca2d54ced89bfe1a1546d8569a65795eb8b83bb35e580b22994e416140129a7f2da77b4f6b0aa381b39a0eab0a8d72078c9b4d14bab92b3dc288ef22add32161f0bc4e070e2453a7055e24ee63297a5dde2608ce9d55d7e59dfe4ac16f6a413addbe8b08214fe1e0d150416b3d06c4ef65a7a048f6b0333eb74aa2af966373e59b2161334ce752c05a2acc66904cad549780bd3d02786f7b618fe4f6007554788d2a679b9ad427f758ea78b3032cf8a1427bef49fe4b78428af195d046b0bb5df0a3c4c8146175e7865f4a131b78f48226587363fd756e09e097a154c1709acc503f8d79d6109f40b34068067937bd5cb437e8eef24af23e34b7ff75c00c2a8c63d997ec7ec5aad2aae73eb809bed300a7bb2d73bd87914ddf29903b38b3a889cf64a4fee490a782d4df43cf817d18d7caf0ee03060cadd9fc518938415a245246b76f7bdc99817d2503603c1a34957e6092eaf7c6fb6e203ff97ce7d1493b6ec5c501e6df2bb0b12c96b41156b6e1920fa1816e0e1ff2cd33e5136743d477f49eff5322226a97ea0857a9e5976535fc840c50fdf7dbe8e94b7421cb72fc4fb2073ca7ed308eebcf276347287cece8ac752cd70ccc2b0bfdf93021ce0b0b6c10185df20a7888ad43e112c91dbcc2ea9568ef475f34fefa0b79822e8709372ddf1a6cd06f51200fdf6f7b630cdbbb8fb65c0d48fa3c176afea9f58cd57897d62ee9a878aa97fa3304345cb54b14625ba032c05bd2e229e7b4b75db0121e71494af5ccd14eecb1e76fb4bae78a4be84230b3b4bfac630da4494c227fc0522a355408278fa98b323b587ca94ca6c608c79e4f3d2bdc5c79155c0ba0f5e581ca3aba94539991e2043b368a2bf8aad4f7c186389b4d30d51041aa7ff15f21d9efaf3b0c0e2d261363dbab46d90149466dc1862953e619538e86cd7dd638bcf1ddae81fb733e51473041db5b24162846978e79591a64e7270976647cb350e7a74f7f189f9f7fa15783089d459842f5cb059a3ad6978dce1fec544ab5f0689116afb1676ddfab2687b32b16d2f55d33ebcd15442dfaf5929675921eacea3458bfd5dc47879f5e16517233337190b5a8e7fd56e2ea8ea663eaf28dd052df8a6ada582e43cfdc596f6a9194f85b8f18f573db350953adcd01a87da2e69a100b83867c2ee456fdb42ea7bdbb969921fa1aaeff4004633114ed18ca7b5b798665bd95f9996cb9d146d3eb93b0240cd23f94aa40f60f50eae3d05c4b8c2c39978e1683de6e4eb15fa32af4a9d3d8d827ecc1221e872dc1c3eb2b149ad79af13a5018bd781134375add821df34cab92266d7acab912c79c8c9e4f5a2bfc8a0d8cc9c19f6e8e2c7082ae19d89c90fcd3940fa0bc07c930a2b2f7238917e6aeaaf85f5f499cb1587c8fb116904cb1eb96b8b25b032546f1270de38df23f013dbf32f4e5e7b8b0f3616298c158323203b1fd452332454d1b47f0986e14fb2a780d01e44fd78e79a4be6e894fdfa737ed8e80f43c22a312519a4e4541e88112d4f0485a284bf7d37d3f8d3ee69c8c575e30fc29747e3b8ff05afc6f9be8dffb5afcda9e523c5d4a1e353a49df6123acb45f1847ba8e5dab1d013f39b9eb1e3ec2aeb6679c1d35e708d46e2fcbab35b25ef75f3a051de06babf513b939bbf1e77d057f7c0593508987807a6c2cc1a8c402c3e0b96a68389736d727905cc1580f3bea3750681e690bb52ee9fa9260bd541b309ac188a22f6e42b27cd24df788b19d2533b1f7c4de5488f056d1e86298f2f1d550e1c3fb9e61d65b170961181b371f3822f30ef406ba39c924c8a863afe7a6ac3a2744e3dbddaa697294b8ce659bd8d42e4e740caccd9af59f3bbceb62ed8f24610a27b5617d63f007c5a6a6a61f9817e8a626ea42d9392debc759b07481ef7e07dc720974da9cf3681c48bb131de33e81138a77c6a0840a92d4521c518614f726f1fb92c4b60e77ed3f647741b062b2115a206e4083673c026b28568cdd514b274c5c16b74df2b2c0ffadc89732f7e838f4a05742c49cd1ddae902ec0b145f95faae26080da501eab875b8d992cc23c0757fd5b344525f9d42ced4ee661609aed339af873412153a29a28c5770b1267609ed40160fe63d5be4d4d8807e24777a335c0d3ca783e92ff7d041ff7557ec4fbe060ffd96650ec9f9e895812a1787f9835716b3ca36e9be3b769f5555b482d1fd2280f93ff60d588264b966c1842ed095e3ca7830579514a398ff26a3dd70d34a36fa8332ed54c32d938e6f4e88c8a49361cc0bcfb240e9a94ba1f355ba75ad8463c589f1998bd7d8b39fc9d82b3c93bc88fe85da34240bfff88051c8b34288c109c888d75dbd12e634e7998ce646d38c2ab991c36fd56d3ee6bfcad00e8d066aec27c37026e3344620393559dd558ceae721f4f851ec31e2b3a08475a347e144dec8447dbe0bd9d90cb042fc27e5c88250bbc360c6c4b6650bfac8094a7b6066d286ddd3985fc77d7b7ec53deab6c50f6fbe24294ace33df571f3e2ff4e01e9daab061b027503e435936519aae6c8e3cdf0ddaec999b754dfc23b845f4c581b4747693aa9d2a0069307c92d4b720b08c8f57f263bc6a7e83d03b7ba05e3b8c085b258a28a91d82542df839fb9f16a00a5659f49418e550a28005963a7ebc232f8bd47489539f6d13b99ae1e26b876c165044eaf99131962ae73924cbe57fefae2d8c688ca8cbf982de6d6fcacb90f0d87c387439d62e844dc45e6ca0f730618777d6c3b903245a66ea9468214b47eda879388d0dfe88a56f6d1079ab31e035df3286f02a8d0abcc108be90781e03d7694b8f9982c4fe89626ae3d6d64f2ac6000a4c0d11e73a98e5a9eccc78e8680716ecb8a4d3af4e5057b9ba506e6683accc1281aaf2b3e2da179f10ecff047c774022b4f80935651a3bd7be8754921db206af4aa6f6e9d7dd871b9f9f50e26ca5e45324b3a1785a1d4e44590ce9e6e43b782359dea71d2e1e9514c82037ec20d1436ed99d3337f5fa31b3dfac84bc2bfa266290d30b9ed808e2955ec6ab5801db3cad561d2917785d63593527a39860ae2d1c852ddb2c2ec3431cc357edaed42f9b6fdaa2b4dc579e259390358e4cb662be21dbd2487b9e7e1e4863844e2d3c4f5e9ed5886f40972ed5bbfc50490db79cad5c825f14acee759037f7600bc2f305e74ee53831bff502e9bb659cd1ba5fa00ec2b4d5b2a91688902522aaabadfe0df2b7b14bd4b434eac3906aece28130dc62937c2306bf2b8c5cb6753636692abdba092f0b9b482573cffd6aec686a0b0e8a358938fc19fc38a1779a2f040f4673ba646c5dc83e4d52856d39a7a9d0194d61aa70d87466b1fa255001cbdaab61be98f383e931043e20551d11fe23b9e5c8878fc70e2ccffb28e0d36a0c7698d0eb9ecac3f064f09bba3d815372cb6ba500fbf49464f2ba0c04bd9ae9ecaeb1d01a66daab71b07de246c08898747a1b80688475505b3a9d94bebe6496305afd58f53597ee9bb180119d16ec2dc5bdd8c0cd0ffce0ebdcfafe475ab5e3fb0f844cdd6a49af4db8b271639f1cad48739fdf6fabec4c0711c2fbb07f1b385fe976382ccbfe83c9b065ad71d74f5b383810bf6aefa7ab31e4cb0d2596cb6a902a9e2d2c6d9fc5b53b2f4f979047b21157664f95c4d8567a01746358677eb82d3be02391a8e69f2c35036dd3383687fb005613198e2f661d9d61d3d43efd15f3f7c7a17715b8bca32d28b211bd4361487aac8b4305b4de29352198c0e3df640de73e351c7e38211faccaeb088db613aa873d6f09ec7b58df6cdccfa53619684498c72b46589b817e96b41fca8ed50639104f4c4c4422b926ad3c9b8405fbb088a894f07829cf7ca479fa0fa8ac4984e90b754519c6bc307b80067682c4e41fb1a199d87143a93b688379ce23233e20b34bf6f847eb85db28c671572f5d184fe29375ed8dc7ea6be741f72bfb01167257f508f14c98b9d5c067b8d294533023a266a02de7811778da9a34eb72ee210cb91e441fa6c2ee73e1e052766566949e99712002327bad6b3df7a987b930a49e908d28a65fd010298b8cf1eef688a3796c3a95a4a5d2a57236043691568a6e41ed240cd546f4666d3bc2b53c36e2f9ddb95cb89eaead56e6bbc4347df40244413dc35d7b43de5d7c0c1df2da55f4b7ba3697ae27dd82ba2f858803413a20632f41681d86816f0fea4f4e2d9045a85cb395535eda77ddde4b89ccc61e01b1a5ae3bc981b8b4c46c18bb5833fa5bb4a7ab1cd0a93cc86743df28e74c96ed3826fdf11f341ef5f2c4cb4603c8abf473e226356463ba97eb979c1d150066d9c4edd95b9ebe20286af7219be0ffd358a0db5cc89bc5961dcca2e10dfac704e7ec85f8dcb8a48d44d94e63968528ef60d77bd595a025618495f802f14a5281a0951944502bb13875246248fa40ccf2c2e3d98c5f6b25436c148010a77b226947dc4df1fd51cca0367202f0fd247a4263b237b8d07d1747ce569f94a5ff7afaf08a851ecdb239330c8861a34266adbc25988336d5834cbc87d182fbf8471e931670c85c7dfa8f5b58680fe0af4ca26b26a774e4d9edb8fae2b330bb5b31adce77b72e4e93e460e9137f6ec3677f817036269445f0559f725974a9d7541feaf0cddcdbb634f8fd2cce050db9d8cb4c12a8e50023864c624ea6b78917e76a346217d9e81676e3af075837acf03e19c5d0056915464d9cdbdd57ee775624acf77afe2e7a082538e199a872c5b3baf6328764e9e3f6a753154f50f20e7998f060e2d9d8097cf2e52423e6101f7a662b9f282ee49ab546c108a0b6a14036d7fae120eb3655c899d6d75ed9879ad23d2aadbea3c6f1c1f9944231eb39e1f0358a14feb7fef36360387414c18f56d75ffbeea7e891ee2ac0ab206ba2c2ccd5c6924cfe128d971ea9533bdae4e31c310eef6eab784fb02d69cb3cf3059ebae808557beab82efb22f0a25020245c93d4eb171ca134d19ae6daed25901205bb59da80c5527db50cc045f89e2f2f123acf18219b9e041425ada320e05e88759f649d6662fc6d6a4b9f8c31f71b07e60ed8145bb9d99ce1caa340fca6cd2ce28f7b75dfda4969faaf0579f7b533098aea841e4537a75af9c7e60856f1bdf440169d4c40e77a1e06247914e1341ee92285b2c9cfc5d3ce5f53d70ab656f42f965635f0379419aa520bab89f10365844fed764ee88273ad54f8fc39bfeaff5f4153af156e70d619d1d43455b9f5715091cb1a1bace16f77d4cda3d302a0aa198abaed6bde2a7f4e4d5f5809af4f0e6d9ac2cf71e503d7e64ccb281ad6a422d4137f9780af789eac3b23e0c6b688421fa063641d579b2ad937a284bd2baa81b7b9111a5585af81a06cbe75d6a87947aedebf4f9803826e8786a46b5e8ddded7206ffd96afece04fa23e41e3da5ef8111958a0b1e951580f60efceb279a54bba8c754a3b0684a6f5a1b29e0bf001378831a979cd20f115c05272e3bb82a48a7fa528e3806c28516a8ece3c972df53eb7dcf87da6312b93ab73d963cabb3ece0090a187c1a97c615c56d1114a7916f33140b350863d96316f8155a1665df3a58dae2d5aa288b66dec8f4b4ac9630fa6518f511d14fb4d45bb50fea75449fdb2d846bb6591ae2cb3a717328db3b09da89d1d428ac725f3474002f775e2763f3fee85632194e6515c72694c6ede42eed3f3a2c6f0fa1ae50c6fe20d89b9f3194f6f5c0e04a2f9cd0d5393cbb40d2922f440b224b084fb8b66c5cce36be99cfa5b9d5aedf77e408b592a1785d3d214454e7072bec99098caf9e96f3254f065ff78f8b72f04e64a76aad67f180258b9c4c48d38265cd3eb81fbe936db4a3e83eb0ad43d032af9349328e502c7426b96557821dd726ef7fd8f88f2676eb853564b3b0110daec389e500b08680302b873d2ced4d326738778b23aaa944ef756241dfef42895aee4b6629bb7809ca5865d57a894dd9e7c06907e517b50feff759f85e3761288e9850805e7eafc7d71775c951539e2633a2b0e3fdbb4b2af96b1fa4a194e82c176ebec8f788b4ee3527635c1eef8364daa6de73e573b09ec63281314b3e2518cbd81ef52d99b48d5a3a84ee6daba5d0934bf47e7cdf26eb6bac8b71847b75a577cbca60210c630c404d5063932f5645eed8f272d46fd716b9447421d7dcb0be6531671277959ee2bece1658d7247c19541e7db2f5b42e32e96d94f7321bf6dd31d2ea875518a5562644f475d1422dee3224ee483861ffcdbe48ce7ec6b54cee0cd564216f444159b33e843bc9c0ef310ac179b162c5d0c97a3e5abbca9f6762f56d2a99b4e3d06817f74d981d51416ab663929e6e80b035f72c5da0b0927c0f4c5deb433e76af694e119c38471355000a425e98480f944e410039f0212f81cb33b97667b8b190b873c3e7bea8d44ffe265b446789dc987f54d42bf16ad636e5273068815be9bc295d4867265928fe523a81fb6718ec9f14de981da202c46092fa5368b5e13287c8391fa84b76065ea68a8086bb6582d30fe7ada4f9a3cc586f24a4fe18645aeb72b6219c9e951058694d5bc093c830f7dbb1b7a8877e77872f4defe528bf4c46dc08f37dcbc5ece6d7ae2fcd091ee4dec2c16485d1bc2236521e5659d4d1c4fa193848000aa0a6166aa658b757b74bdce3a611ca577142a63dea7bf17ca544e6f6bbb9430488ecf091cf39b77cb2deeefc0f1279b40a0db8195c9a32b38b32b1a8bd1e41e3064d0d49e3a623365d82f591582abaa3202c4395ed918f6632ff833305833e1c34e706fe6c01fea8f3104b3ca11e10b5a21cf7dedc4fc23ee03079166eae283d0ca6917ed3e3d9221b7f56d98a57ed8b0cc9a170df7d679dc662a92968b421651203d36ee02871768fcfd36007130a2ad96950d3c55c603dcf0884c83bd3dce0c5a7beb020f88d527947d66224e61f77e950007295f5a6856c47d84e65f15d9541abb8823e9d9dbab9c233ab320da78d48d8e0e7a8081d09442818d4520b073ff1740f30a3648e48b2a9135e329c00c0a61ea7008a5b8f550b00d446415b968bb400e9f393d5e2b3b17f911fca0cd88bdb0cb7e2d9c4ae74ca456d51291445f3ddb3f903083f7a511a2c61caacfb2866b6f8f0d83ff9181888eb38d73b09a583f3333b7352fc0ae4896d2764d947e20bfdda163992e16de709d99d7f38bcbbef7771325ea47f4d228ac4b1887142d8a13a66a568defd39cd762e4c86da21d91f6f0e27cab043218f3f61a50e8b670d5fd01766da01fae7aa488ac5a94e93f545ab531d2beb89b5a2d42cbd58e539e73aa41b88f0fbff5ef66447f56f9e453feeba8a3e6bd68996197bed67fa71213cc88fea84fdbb4e11759043c1972a648ac10066b4d8304db7ce5a6a46243a1c8af2f9a448cc44547305c0eefb50194e9871b2c40dd3bd7567772376ff4fecb4cadadf4235a5326488c26724969d2920251cff9346d00af4f8371d44c51faffa79de9a148d7a70e895b76ee8499a375991165a7a84843fef5d2f93e98d32ac35fe7fe89d084906cb10d10a56986cf7d95dfbb1bceae24a56f8ec020c888d2493f10814e909400b81a5344d216f0ca3f318182804002e222835e8115b56d14dc49ee1a9187594e31618098b9511c1b5c772574db77a2e3cf550805c51162f133361dbeaf7893d76b6594c2e22781e98add17aeff96b69f9647e7971adc7bf3ab1e7607189712757c981a3945add7337b8f5d9043ca57c64ddf1704649fbd43c869c44bc3db414e83d8e20983ce9a332dae5034c3e13e50f3e0e23f418394d78447eb41ef93d1073a5a58889937b076c88196bcb46ea70225314fbe14f3624dc461c7e150113094a082ab0670788affe6de8037b2eeb44ce44c3aa8dace193158c6c35a13ebbc8fc03cd506b0f4e70ecf82af57a7a47a51928b490e97d74a0a62d88fd56ee0acc169f318e5d0cc67db9598df78b64492080ba013e9f067241f03aa4545965fe29b6c15a0fc0b481e0e2c09b528360d6090814e4a19f166143deac7af20298885f9c08ac7baa489626f03820f7220bc62c87040a8b7344e9b79f6d3ac2ac1b42a740ed8842a03f9a72b824777b66017af847e1eb13e102d68f3d46b54cd4da2d275832c3713a1cbb2e2fb9c842751f76f7bb1d47cf5e1fa3183d882027cb835c3e5d35f7e3584ac4b8fe3a3bb5cf800318454653e7759f5b22d17a19c020bd008b17acad71a12abcee7616aa6f4a121b4c2a2aabfc7f33dda83a371971e3630245bc5ff4d3b3101032536e7712c32bc5e615729c488e7e1592c1b2b9ba97a06eab614cd36608c0f7bd2fdd4007b847fc9a4ffb715bc8537c7582b3c86ad50f9c5ec3de196e9230309b7c50b2d7017a5cdc89f0de709261fd08ee14abb49fc3146aa74794725560e71a0aba6c5aaa0a886aab37a982a52576cb775a10f3cb787c13293241d6b73f93c4f28594e91f98107c83ab810b3bc86ca9fea3cb8bbaf5c754169b478d78f0b4f67f0dc378ae4bce0e2eff9a3a5bc01cf59920df64c4e31f61e0f153e3b33805577716b44f4799a1e3fbdc7dd1c5c21b901fd8ed4668c0214cb16f2393d80db2acf1bc870af03d0c58582ce7f505f731a7026dc94caab9f11aafe567bc9de4ec0dae912b67d1ed34b443991c28c0d45fc23a84217826aff88739d3f7e100bcb28019f4dd9c0575809e06b74ce6ea82a2587e8d0e4c1d20e4f9b2e811c172357d32198bf0ca22f84d44dfb2bf049bc22aae5efc4977b96c8db20a0634b6c1e669d5db5ed6d122706a851ca3e82006416f9e19206fb9e32983e80148de1cbbcb873af706e880643f099fe13603f384822edca4ecbe5709ebe83c868e7a109a07b3e17db88be55ce4adb3f7653bc5ce923fca97e437e50afbd4865225941c8a2204240456d14b9bdc31157da5063f9d79933a8c9b4cb1b3073a9aa33fa93d5ca4cdddbdd078253cec8e790885e25351dd63881ef9fc401de7674e107656cb0b3d80926750ab97a61434e29aebbe3efecb29a6d26c8ef980503f88f72754a62484b705b4ce3ad3fdd9aedd88c91e96c28eca97223a5a0f7017b045205a5a9a54b4f6cf0571e4db49ba7fe28612e0f232c11a5064667f0eaa3b73a0c6769e27b2efde36a121c143ed9e6506e65e04ec30e3a17fa04b2f61e7b44a6daa17fd9513dc229267d4501d21e2782d24ae78eb0f01e3309e3714f4c28e376d24a83b8e2ad2975a975277f443e6777eb2053917875a4007102a79eb8795d3bfe4cfeb22bd81db8a60d7581e9b28309f1489af6e959b462b629cf1a0f5b658c47277661d5d223dcefdf826dc77d53792feea2b8ce11a98472b06171527e9bae7189c7c2188d1920f3ea8f374e6520ea4b0ae63864e6104e507db200c34e3d0a8706106dba9240fc344a7312d663a4aba178d9e766de79bdda0efbb3e4b9b03f2570f6c438879f202d25b65c126f0fff680e8f217ef34d5d9872a11144d3fa2c430c39ba6dacb57a235bcf24c43f74107ed90965fd89f8d8d1f50413cdfbaf924da6f2a68d987fead3ddcdb8e47ce95fba88339ee2b41233819f904933bf29c921283b33083b72c422bc6082baff5a7707abfb5118feda82da71b74ce9360992a40f0b485b8b19544a3219a47e44880380ed01461040ca23c199f9f83bc45f096a2921d65223333d8fa9606c901717957a5086a10ff6b315725ab41e339759aa3747e2a770d6680051fdf6d761932a946b3e83694cdce3a5fb97d8e063551133096bb48db523fec1701d14e0a19cc138ec5d3234665f999ab2f4f7cbd1b06fc3135944e69f15ac911e7f020df23e18709e754cf34452beb4cf5bc0b3963342b58d9b47b36e42455c6bda775f8de67f9b46eca1d841a7e6a5395faa1628ca099b1c5d90c0d87f85bc18b8588d53e80efa02d77e3fe68526734240b340fdd6a2e09446e04ff7072dfecd54a9bae43f5a030e1298000eddf096bd2d1df900a99756f72f7c72c097d94557118e608baca9ac1a3bdbc638300b8764c176e8ca9b6025ee41e23b4e3089f62031efcd927e9389057839ab3372f908ce9e24eb60a5e95a0b4e914b5c6daf82a7f19cde7fc667c85f0a4319849e3d627c445f7e51968b4982c47511636a9611c2b99d4fc9957b66147a18b527b1eae16a38be086810a67e23a4f96bfd6b46687fc3ccf4730a41e685227cc237352932fcad998f8c5b5f1043c6b73f7e5c008a97c58daf8f04df60e8d3a3464a406587e3c3c4bcf6201759e42a893f4a4c556ab2661b57a737690c768b65463138ba44b588df959ab9a31cdde8f75d155da3ee7a896eb54d6f618aadca02c50425ec3fa49e9d6748e65fdac6e0ec6b9e25f6b6b3e4a3011b1098381db7cc551c46cae8eec3840a2c46da6cf7b696ee21626df77c9352166aa58ea6207acc97da6e9b93a22098940720a5ff91a3c6dbb7038d9790b7dd919b7c814b35dee48830402ad5c66ce1580f3947a64b6a25698a854d80af46f1feb0ea8bbbcc09914a431f60f6fd8a6bb95e15c47f25ee8ae4da0f3dacf54cae5d6422599419ad5e9d91c82c2cc331e92e5b338e594414cd9c6a31ac1b8b003505e0d6b8737217b2602f13bd472c303bdc68f64bebc3139339f524ae73446608d7796727036ac0f0c24101a1752f53fbc70490553ff65691dec220df1129058093604eab6f9b45e9443c31f97ae80d1b1f8ad4f1aa2c7a1291d25b06a2af727e5ad6de8c83d9b3c99889c607c4a07571f8924e27d37cf7a772693ba9bd07c0f17f7192b5b5a9274138b698184231ec575c7ad64481dcf3a058905311fd6037d52905be0d64a184c17e03a3b324623cd5b6bfbfad616f3d220a7d7452838ae897569ad92d1b1cee66b24b08cccfd559239cbf1e8290a77313cc335202cf6a4b96000e11a3b28e812761294e8f23f534e55158c6a17708094a65948e8f736d6c95ea4240db24a183c8026c56c69a859fb4851f115e2d108c7fef9835229de61b65b8db01ee9fc4cf0745f8dbffde8edb1beca0143354d3cc06a00b93d9814ec31dcc008ce5fba10361f7e3f9d1d8119cb9a83684e88f41215100ca0149c78459b490e191f19e846ec6bf1e4961e53b64d2fe33a8b69205ec8c13a24d4d9588a07c89a9be984aee7228f4ea0759d184bea937ab42c0c37b0e612fbe1960fb68d10148847cb2c75542ccf0d804f0243ec9ec554a8bf2300b5c6af4fe533022fe40fb33b03bb10afc292580594fa9d0579939b96f4c8e79a2e5d173b656b9c33b16da311dc5088902bb68fe611451844b8db67d3e4cb72a74459526a178efb11eb09744a690e5074df73c489b4bbcdb2a987233c6e6e5beda177b5178ec6a600b4ee883a3c30ee6dac44ef5c4cb723c987bf53bc331a750c996ce5391abc8d0002b9f10f0ab17d4aa3e4051d92d66dc917ec59ae9d8b7a55a8b3aed27cca3acea73cd33d58c01c88605bc8f76029bc075b9d2a071b21413d58adf3153a6b56396ff0b287ef9987253a4f2bcbcb338cb86bfa11fe734960ea9f81317950b4f74c49359561605e882a907b05340b95df93afcadca00cae98514897854c8e8a9ea94404dc697316f25e088a35d19ad972f218db91797bbeff01bd8fec1b62d4931959853d9a13a6f3742ba85a08301ae64e48a9387ec545f7cb0bfc9a2b81d300d24f726a329dbc21576e296414ba4652f346315867418c47d0528943399c5ffe4561938b52c20e3246bc93a83a63cc3609a163bf9312d1d10ce2a94350ff08d13c924bceaa8e7ddb1cb13e70c2f05c920253cf9d3e1760904dc9242198866123cf333d8935775e874e9118dd013768490cfac00eb0d5437201aa881316d51b45221ffcf5c7e31db234b7da8bed10bd4dceea56cad863f04c2442af75afc6a50ad74e0cf4429b749c521f3333248b60a094bb29c23bc468ce372588f0aaf6ebb3b47de9038517c8723cfaf971f9dba1a4cb630cf04588025abfcdde6ba35aac72ddf3cb6ec31b6e2dbde263f327907d0942608d644653fa943215c4d76227c591508960774f2f23839fe2325741fec8f31d1c4cfb43a7262e5fe41a6f5f068de796893d162e5f0b3c7e59368a3ee6885980072512e174c7910968be82482ad597ebcd24a8044909d32754628fd44e959cb62274c17d82f112a9a6c48f1af5a43efddf6b2294fed4637566ba0ec38440877d7d5a3b3fd40303abd7f7d52d0d907557de8fc650c7b9bdbc1c85bfadef9904a5f0a810ba7e51c365b16d064567c2eebc4e3961a7d048020dc6e731a03881cccaead28756cf2f12c99efcb8f9abfe937b67055ac8748557abb79546ef319cca8d0c71b00e7ee296f4eff5dca7b22635bf9351e0ff80bea0caf4890ba8cca1ae54512c48b85f8056d4abdadda10013e4a9543c0f5da3d11c2cc7be40533133791c5718e11e83750a8b765811fe080eee031cd1bacddec208ee801342ea299d9dfc6232ada2419572e1d15366d7323d995ad3de184a2a7740e812cf98f10ffbd48a44aea980edbc789aeb99627a9b30f1662f9e887356a6217ece04a4557df2b41fad603ce42e2b95f4f4c5ba721a432c5500719294eb89d67c66e314aa01696c8e33052fda8f55162ce654b3fe682fe6f10bf866b9d1340e5b349d027b794eef5f6ef2c36090d9d1001ad1bcdb888f2b91d987d8c9ade89560523b5836de3ca9acacae5a08fc37dbe8d9c864c87898bd6fedb45865695b39e8d159da11a13575ee573ae4667207f650eeddfc40454ac739877c69688ab4ff8f678ba1f45b2ba3db0b855c43467f7a06d532509b1f9011d22b7326e9d6267916a8694176f5fee5c7ee2e8a92fe51dcd578a6fb03d33d62c91a0dcc05c628d5e77e02473c0a59d5dceaa08f68e7805a5abce9e4d4b1a6d9cc2af63fbbfa2cca9c4c5bbc26a5dc8747759a2fab0bae7238de84e459b284dd9fa50cae91e19d401342740bc0e7eb0a5f74f79dc189e8e2abb17999a853326755064d40c4d9fa91bee8511f34cec2d030e4b8b6c93b839593d36f1356af839bca3a7ab5c15c62ce0a99cf4241fd69c729858115343e1cdac8145f5e65ad2b2dfa86074ff6bea1edb43ff41d886be20fa0cad5252a41eeb8541a4a57faa8b28b270fc925000ad025ac3b9c903b2934326e82e0370603e7ca29e1f053e7204bcc4de8d44e463931dd53141c464cc5383f1aa4a94f89ed748e4683db0a4e227b4e4a1eaf0adf399e492fda24b567a52335417035a002078b209964298bc69cf0eef4f8b5503f836492fc677657464d9744c4b7e736c83d56ded79bc5d2c53fab64a53cbf7935e8afba4662daabc017672f458f72a976cdcfb24a7cda12c64632ed1daaa0dc4d5b27a3bded3f10d789a0fbb348a806ed23a3a0b28f3fc94386adc34003f5622cb55cfb23432318c151f1ef9a6fc0b8488d97e8b16b69c000f591bd3d2fd250fd3318dda80147c011b0b049ce590aaf4be6b3283938ad47ef2140919ddb4dd27bf11b5bfc13285509ec629178fdcb227bf8184189817bbf6eb2d17597b56776e4900b09bce4daff747a56c388c23a6daa61a494ea3ce5c646149d776d9ba67bd7b293f490b9355216a3671b90c6e1d40e8a845deffccf5d569579b862bb53102a902224e572c283fef226d93a528819064977fa9a9eb3c21e701087ec0470e19d0c38c55ca4b065450c9be2c7f080952d5bb1266d3fe9a23594b6471ee927830b013db8279966f3cc43925b7c8250be3daf8c2e09c9bd60c791634acda1d621d52b7752b626481183890c477c0ae260e218c2cc4eb7306772d2eb974692c84b6b63b67854f1b893d801a68fcd9005c42b1dc8922df4dff73abddcc3dc8faba8ddd722d5c4d06f79a47a141b1e1121acf29ff0cc1f2475ecb4e60f0110ad516afebbd474af112c0d1ebc5c3c8608387360963ff16ce003820d2bd5d66c600337eed35058356366431127d21724e44abd7c1128646ecd04f47e7f2c5b95f667e04e302e857291d6241fa3a71d9e24601d7f033713efe0bc1b266494abb39ecf8f5ae3de9134c3ab0a271c67cc0998bb27c6ec0bf0f8dd965599168d97edd445a61e3c46a504da755a7e2acaeb2a316ab8bad910d77fd7e2bc175e7fb131c4793244cc9bba075a2d0e0bedec27dff69f4636ea3fdae5617bf85232e7d593f977ba5f66bb5d8c670f04f03e5e4155dd8312f14cf84c8540b501811035f04a557081fcb165a3acb610bfeb1ceadc5aecf17acd0337bbdf6096f7f98b75a3709c1b992df583fd84c67816f826698d86e087a9a443451f048ec068d11c6fb0df27a9f68e75b8cf28e28c43a85aec77a062b9fb660d7a35ae7df16f05630cbefde6387e5a57d3a55d65ec5f417e075420420b87731d263a6754f58d66e53f7023dc5376b8177884269c2bc6eb666a0700ae9a305b305b941fd3fc6b4b76cf7eed261f26d52dc6011b1e4ef304af53873fa3eed6c95270b5144aa1940d2356137ed61b865938818c6c3ae4f00129b54dda929a4dc6b3c166da64e2f96b9be18d218280a2ac6baf36adede4608c432991d7f65c79f63422535fecc87cee5a2b64386bb7dfe7e9424188513eadf7565211a3743fbfb71bdccfabbef2c1f2b79e47bab4f4c3165d6328b7944f88ac3ef6c3255ae3c5d838cd4f29c60cbc04d9098967d5f9585291598c65ff72174bf9365231e40facb52d1c0845f55603e73cde8cc6dc3ac9b0a9e0a4d4476ff44e6c2c81a99e460b326a924a71824e92a0fed7ac531946e206806fe59467419e8eeb4e24a6eccfc5ff1bfb48e7935479cfba84182a1cad105e6e31ba36f43cee1e6e6aa91580e743bffe6e6808b299a67baa2ac95304858d8500b1b61ef25b8356c12493966a20ba97567a4c516d38821278453a5249f42b3cb726962226d9fa1d22bd37823d035e7f213b7a2d359ee129acf390c8698e08404c82f3393c975ffefc67f31494eaac5e138bfc70c401001a8d6ff411016cd1939a802227ff37f2fa6b32e4a39573971a9560e6f407ba701609975663fe74ec8b8e2604f81b684270d2579c44194a290b9eadaf999cce60cebdd39dd543b78e9ae2512888a244d926d43bb7c574fb5e87db80182f58295e1a09e4f487d79782d6b511a650fafb2bf4099865174e5b645a66f992c95e3cdd7b7188640cc31bad8c22b60cd5de71a570663b68fa726522865d45fdcaddc38c464bbc0878051fb7bf4a7f14a3bdfac7c9780814f99ea1a0e454b84c156864f474ad04a3f713bc26ac178519751fb18b7ab87c21fc4ea84e52326f02118c367a9f1509d179a06fcfbc367f9fac238bc7bcdda5f2676cbdb694701567b084ba03972459ec4ab900de9d9e707ce1c3e11adcb8ff24569933b651b60e19272909ba20e971a51298e03ebff1734afeff651228af259e99aae7da647e0c5ef4be6925bdbb78bf1a3ac871a2235b593ac7cbcaa819288ce44952c8956c8cbbd8c8fe181d8652d7913b05e9e4be5a3e9afb34c8d785e8f88393c623ce962122ece77d53b5bdcce73fdf2d89ff362de181b43a104e9ca9956d9eb835ac839e5ff587f93bc25cae4a0c1030b4dc8e9bc70c2e5d1f3174f9ba07bdbea83ff0029a38447d620e9597be9e43f7f2090b3c34e7583fdb6944347b8a32fb17bf04e2d11cb598bd88c6fc594095ef64249aa1fde3ed9fe3f83c3bc296645927d613dea7c1dac21b9eefcca4d92fa07e8646dd772cd1b29406e245859f583f83923215e28c24ca1a56a15197c2abdc32d7f02ddba676fd26d8c70f547a379f4cfe9d91613ebb0b8671e8b7bf8e5db85ab592f72eddbf1a0a5c84b3349e7b5662b1588da73d7dd6b83d349626ffc3e0c9d08e56d461afb30bc1e1425ea38241ae063a9d4405337833630c012d34dd7cf5833ad688f88112d6b859fd4f3560d3684f059c31da1727476679e3edc898f709df56f810ff36d74df8917697774116a049cdbb29e2f0125f1a3044ccd75b27105f29d5f529aa947deb1b32bd4434063ad73adc6ad4e210e750cdce1978a0e21f74da51df0750d91c481979c7832192c48224c3bb22af06257ba795cadf10cb8fc8845b8a16ca91fd70dfaaaaed33c0d790cf638a8dcbdda52ac267bc74c0583046b587ee6d61e6c1dfb3a5b0f8ccb87e3e3914f9e524e0245a8ada07a003670f6c7239f06c6ca720f294c6a129be941f6257d36336a08bc0b18f91eaede4ead035c148e745b64e8267515677206a3ba8583fbccdf99eed8ae3f78ddadc123735e5aa3ce26230c5455c5694a4a1c23200adac5e43a76a9e42fc4d2b6682a097259283b9ea55c737e9808afe365655edaaed6dbc334fbf36f8277683b9335c4250fc93409d6a7544f66d19b5adf257b09415b05d552210cd8035388cd499005d81d9cfbc57155a48a1e5fbb9862453021de45d274286d0042040daa690299397057d11793dff164ee841a99e4fedf995f5cc4a83ab52817cfc25392bf9b61da29beafeb582c24c3577b66b055ebf008030e5ea40ff4ea951dc0c3510851f16bb82d16c0bff0df42f3e69a6911084ef9463418ebdde3bbb9a105c07b686962ac5bd85b3605823155443274ca1afc368f63de19e655f362fbebcb77d463aec4d817328d7dafb364b96f4944df7a4dc5ab0b1d4b9948bf94b0b29989bef7f5a692b20ccfb3b72dc1be04fa2052c9a3b831948d8584e4227d543cc4d6e7f60315e36ff430bbd1a0bac26861f33cdca591389db1827a35504e2bfeb229e88ea853c52bd7b948bd301c0413830d321327c2b5b5b420f8cc0b1d2d6080b452da054a00f4dade9a470d786fdb08acb1de0ff91d0ed800d572ef7df767646b4d7b7673180a8d374cdf3ba77346cd026fd313dcd8e933259aa51624f03e7ea98a9e1babc3cb45c21603ece58332ad48a2700a632d24f5c31a0de535198e688bced10f515e2e5dbaa1f367fbf2165418892bfdeb3356efec2eb71c4d021067beb62997d41061d1d24381d27754b4249ff04b673799b75940c91958599627103e7f57e70c3215ee0ffc85f01b9a5d97c661654398d131473f436671c5dfb095e9eb99c4ee5735dc8c7d4a7a5b5789ae3f486ac25f5a9b280318a1953feffcbb23ad224f98b486e8d7d5c2d9055f2f240a71dd077a422a7dacf3d567b4715f83ed93da580f9328bd8ddf7aaabe8bc45e764536336a4f21aac52ba41bb3d9adc7bc6444a2cd4b742f418e6f2400568f972970fed6936bbb98cd9ebbfcfad554acd8a43c989233439946ae4ae4ae3893e8032a85b6b95544449e476e5f1e1ec34efdd62de39d99ca05cbfe8c8887dcb6e6b856d49b14bb9a0e20e57262af4fc2ec68c749d418b56edb61a336a6c0b55f90b3ff06a8e2a6335b9936950205c395a01630b64852e6701ae41ad10c38fd918fc0dcafc1c3d114ebcb4218d0edcfe1ec74bcb3ce55c2a827f9fb5fd62b64fb85314cc2468ba8a20ee0e78dbb058c21515a4a3ccd982904c9550c4599c8c98ab9675d3c533fd7406a5ae75f8b89aa00ba39980d4ec7827d53b9c43cbfbc6aa7aae445537801f33ac20adf19cf6069aab5929aeb05ed5fc08bbd78d101c6c9211325def6cae40684ca2e0061325dce6aa01e67411bdef249759a4ed3c2e7c17d04a6fd56f296ca2e8acf65adf180cb0744a1ac71fffdf22327af37472a5b054f69e2c15dc19e60ab8deb85f4923dd713feebde7720764e11e5a1247b90ff0356e158953db17ac635ddf6fe87ccef9ddc2591cbcedf7759b58a1073aa745e5077e16b9ad353a3dff710e2041d3ae70f59ed126157b4087abead39c3cfe758976480c095cc782f1cbcef9aa4b3c3094501406afa531837e0da4498430d21c384698e32d859f845ff789e44a1e50c9e477aac1ddb25d7ac25a9034026a97bff6943465e5de6f285257ee3096369311ea114fca353db79a1c324ba7fb99696ef48eb42a21ae402efcfaa2d7ed32522882a5ac2f229803d81bc16a34fb826082f993ad768d02b70aaeed0aebbe5b4ca0d1dfa413a12f53ea8a3c020cfa39ec9fc48036bbe341a1d668dabb2415ff5d14642dd1ffe9af7839fddfec4ac54eea4e3f4e12ca1036d49589b0a163c2291f0b16bf17b8d269ccb7470184f031b0a80d9de552f47ab97ffbdb9dcfd1b98edf7033d9dd6f431d58afc9d16cb526d1949d61b43e8ee4fc11be56d2e995bf7dbe52decb5da02284eceae41a5b51ebb020ffc3a7dc5704139cb22e9cb79e93194f63ba36405d4d99d44d581c0b79f62e0335c49e59b4cd196c592e8cb5879c823a4f342e64834132a645a6caddeb5b8db8961a1916e6c8008b946360e863a7e6e04be4656b432c1f9dc55646aabdf106668cc26836908218ed9d66385d0d413e4b3cb27a97046e4b1c909830f7d99adef30a7364e3ce2c4ccecb3d763a09561a2226ffa3abd99ac27e2e91bf75ba86cef5457311b34d78db36525c41b42c8b9cc88f132a35491d8d94c2</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½ï¼Œè¿™é‡Œéœ€è¦å¯†ç ã€‚</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> å…¬å¸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æ–½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç½‘ç»œé…ç½®</title>
      <link href="/2021/04/24/linux/linux-wang-luo/"/>
      <url>/2021/04/24/linux/linux-wang-luo/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œè¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹ï¼Œè¯·å†è¯•è¯•ã€‚" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="15731473d60e9f6ff604438153f3183aa965c60bb2342703b47ca597745ecc7b">50401a1b4252edfef05a7c1120311a28d7c9779e54cbf0d6b9b880a49e65437ba8d5f90f39925386cf93402f7af438c2a38f1fb4a6e61578b14a4b37e3c97f72c0847d2f57da77442d818845678d38e227c706c8d346c0159772ce188c17c79c55d55fd07917fc285bb8107f4620fe263c4160f7bda77d121de67ce126af2c71e00541062af0b737457444d71e30b22ed54ee4086872c07f2fa78962a94857fc966deb22f446caf15c591d65f6c057435531d8c9ad78bd60c554a83f141263e9c3677d39bae0f70c9e81078e9138159d98a0a3ed25bae76c101a41d601a2b845766ab7b173788cf5411b3702bbdde860d761ce4a787c94dcfa16ba6fb87afac7d884cbd8516952161d913da6b52b83fc622fb75c390e113315190b7d960fb7ead648d4b151103fcfafc0aae06593bb7b36a508ecdf182f633d73b72c807117d2fe2580f69ef40c0692cc0f7704376ecab4c6e7125274787887f11cf7c32f61b433e79f2cecc01c0e2af9394fe0ebc94721de8ce04b7fb57c3ffcfd5d1d38beb9d213247aaad54e5f1e406561d2e7b5a1e6468cbb0a45f6161d32316b5fefc5a8c10c37509d070d2f0b82c2e90eb096e586729143176dab8fd4cf65dd5df0b9202082b4d6366c55b28dba46ddfd75714974fcbd590542d867ad1cc9a451a8d662ca7a9369893692cffa778f9769d58dd06bea416bb59e6adacb0a4e4f54b9b4b75f07f8d22a3b6321cdf82be5ef13078ad4c74b2ec7971519ab62a440254420944d552116f0abe1d991429fca03e0aa8a95e3e2ac84cd2a0a334455ff9df21d8a6bf28e381db55e23111b145e27423050f60c8c216aaba8fab509b8738c210f2dc1f8fb8ca15e47bfb572c785435adb0c9ead617f023849ed996d7753281bf6c4df0e65ec5cc09604994f2b8d67b53da6c763565b4c0b2f282ee6e9fdd0396badb579593bfff143e90f0b2db317699bb8a6629ba2b614c98bc9e23c2db121c546f76e5827bd80695d59193a6dc419b5979b1ad1240c7b6ee5a05586198916dbc77b36dfd73494ad3a8c9fb58037d4353a2bc298d53351225fb37226b2d22f2628ef5750063aef42d4d30ed8f3f529ff907ab92a2bf77c789a17729a6f07489906fcc00e9936b1cc9c1be2efd00b3c01ac2a1b8443706f47ef5ea531346f6e55b40a6a24bd0d93538a6845044af4802c70ea40dd60d790829c734891095df373efdce9b09ccffb4179418ccbf91a56c50d7bd889ac04ce0e06163876d21585a62b64fbb82d33df15efcf95ffc76923fc89c7582b340e2094d0f13e1b1ddd4a52f4115942920420ab5eef3e77d5c05a51b7eefb9dca3c1f0058dfd50e0f1d450a95abefd236b7977321a944056d5085d8c239dd3f630160aed319b119d0c0afebb2988a75bf67df1d961c7ba94c0a7a78ddde60a3ac3149aa4ca336d7a4a457bad4cbae6716f501f9ab288258c523b2d60b8b8a21d5823a79a5cd17e04a00cde5988475e060c68703eb6eab71040cdae59176dd9eeb59afefd0e9f72e40a7318a5948989779869c2a8b152b7f92273e748320c34b7fa24eb3d8c80a29c78f58e0e012df234dc4ce337f509e6f53e145fe310bf58208d071b2645d533a7f448a6ee5e122f491833a76e17991fa0aef616e4fb7dab23e3fa0fccb2b9c3bea5f6f036a78d306f02013f34fb5cb4be6e654b610a26da06be09adba3707d38cd35f9e151843b016675d80f0fcdc3b3f0f11bd9263dda8ec13659d76c634222dc8d85f429775eeb1d2fdb1bfadb83dad9c71a1cd0d3c4ab7dd38169c558dfff405e844ed33cd6e05eaa2ca952ca44a8528f7eef945fc496ed35b319b2e46e77e2a4ff36766963bf2e98ed626f5ea33482e79bb279183827c9f3223625397fcf9becbe3a757ee7567b76ac8baf46d41963717ef29f0824c6216a7f7adde24a4ea0a94bf01ad0089174117dc614722bdf3b1124775ca2d045eb96c2d689669d5a0136517dbecc7f358a94fd49b565f86b37e6cb9a3f76c791d9c1d5d12edebdb28596e9db3aa718f53bbbf3c441ec96b7558e0cc6e834be75c668bd76509f003659506279d661ebb2793f2ec3d65cb6e103a95b308d3695a56ce213758b50b3cfe870a24104272e9e2fb4cfe120fb90348f5aa04058808ccf3c78206e9c7ec260d786e4c3455e61b57029f31f7ff9d61e4f0e42f2d59a21bb4f2c5150dcf39651cde77d205eb4cd350a1b7a2bbb20de4d30ce817b131350856aa66965e4e279e0e154ed934dcf0eadc47db5c35a06339681fbf1b36a622c94bb73284a31d6cfb27dd256029def5e2286af48fd252a6ce1b185b7f423793fe24ec3d3b84ca5f502e854473ee671f9962ae4ee2be564439e967ad1dca2ea162484b4553dcc940c132e0631e8b9331e4d7e8806c459064d3a769c8b9f1e427fb15938482cdf54ef4eba0e5117510cf875b4ae4314858565e2f1afb75831fbc038356ae8fa77023f435ee10f6e1373e1fce88eeec7a4271bcf932359e3108e46f49ef3964d1ade6bcd896d6b3acd96d757c20b9d80a5306b422fbaeda3618ac17e7049ae4e980a3cf2d4380f7a66e59b20f68430985de49128dcda526ebbd00cdc83ea333ede24cc8be78721772320c665ad41ddeaabf503ed825784d7d5a16f9d1d9a2419022e448c732152ff2216f36c1dca235ea1a3c01f3a18c460fd17957a474ad2b7d8226b70a6419f10b915e132158060a799374c52e650772f154d79fc424836fbc7c83d2afafa67d4e7729e93c93a4b559a91acf2b3e57ff43de7de69406456c3cc28a0cbef12b14701b41a5983bc05899b7d5382139437e11177a62b6235822bf8066f1f1eeee8f287dc3aa929ba4eda0a3b3cb778045937c7ecebe0794e90299213d1ab632bee707c7d30562c00f245527d20ac78036d02082c5b0fd778b5d76fdac8a0274ce23f3cc0e753e2a593d32babc56c01858bd4490f4b6ec7418b40ece12d0ed3478a1e7ce40bc406e7a9f4f64bf5463183c2121ed926e39a05180c81461f32cc79c4196e5c08a89bed4d4bf39ac2e478f822736a73745e5da3b807f4cc09b0bc3995d5cb195434dcb32fec7d90f9883f2624f69e6b475bf5e8d258d7d37a9fb09368cc03c002834d7b8674d86779c672d29457e66fab43b760171c0893ed770308a8239cad332f6500cce478e666c8ddb9fcd1a31d85ec218ce021cf4c54cccc34dd4de6e890269172d693a2e461112fafbd5c897786acdca91604f8e25adc66e97553d0665a7aad012e9486899f0dc726092cd45a688a774b765e0c6bb195a88656a1d9da046e1a49503f7464d0c506bb8275c8795e7bfb47c4b3d381794632f99b3d16542a9bb0529f4dd70f93563047d77d7381d3cc878ca36c0acb8f26fda39bfc3d26d9122b0385d202e056e71b992a48a40fc737d72fccd7e06cb860c4091bf0efa8480a880f55158451fcccfe9d863ec288f1b163d7b921a601905d3ddf6295b47cb7aca50073026a4f8982b8724a01d1576388b25deece258832b98b170137882717a5300e20feb6bef01af8139b4bb97f2ea9369bc9b8d29170e5d20c0babdd85506240bc8b661394fb567d70a83d8af72f9f86b62c90b56c7691f09dcb577b7531ec46ea0f489ad652a0ca732851d97378d36ed33096fd5248549122d3e521eba8c0447d2c07055698eb668014b005312d066f0de877c7ef5f56325e6a74d34fe446c99a201ec761f13278da7c3800402fc3ce7e206222f9b5e9aeb8ee2f263f5e61abf6c30340b1a0f0f5ab87cabcd610d7e24630ab8318c2efeee2b1849c4c3d66269c3fefc9960aea0587d74b433cccf6194c8be673c4800351936b568fad62e633a897c7857bfb0ef099f2f60236f10015dfab3651557047e447390259dde0332e147c68bee93f04f063368397de15a0519e01edb62804641e149c43644235c19c2d17a70d1299faf61e7af02542cfaa12f42a7a8a4e7d94ba4f860fd39ea5afbc8401af447949914bbe76026a8aa4be7f28275672c6733f59743171395f9fb445baed39e006e14ee9f3d9eeab6851925440bc3e70bb586e4d68430635b7995f240c666552002fc132b8d8d3d504c0724fdb82473e6a40a3cd59fb7f974d7f1d5efbc466d41493bacafe700c4c3e97f3eab5f502df0f1e09df4f4b944e8f0d172a22ab8fc3b1e858dc57b6b948fea60f88d325a7e6398da1cc32bfb72dba0ae5febacabb204e5aa882bf41e6f43f8de706b0cb57ffe06eb8333355e9ab68c3238acac450c2395cd6fee2e3c2ae34f631d0e6d203226a3209ea41e3b35559ee9008236f87060e901d0061615c3f2786e735853cfdc70ccf366af40a10883c320346d571001cf942c3fa40b1440ef2190370b588329350a3b70113316f1695fe1b47f6c755e61392ac780b17937fd14ef66ed83930b9f0c30677b14b8ac3a62ffaab631d938f90991aa7c3fdb67cbc4f0e8c13a636443ac0ec1baa3fda15ec1df6b10e2a0ccb19225808c4d20e1b22bdc451c0d42279b71511b55bee220984de5403549726534fbf2e5c1f2411d489debf24008fd4d44198e445794a76db731ff3f918525366ae47b6c5337c1d82e6ba051b8e30c5b916577ff1d35767b3a9e3745cb6ce5464f856d0a9453c352f87df7bfd8d700db670661ef73243890ddd1ff2fd0e380f8d282806b52fa23edd55782c3bc052914b7b545498310c56e6ee24931832473ea297e17d48c99e931aa091f491b23752a2dafb5545a8b170e061d57e583e3db273fb1d356e9180800607b9d893aad640f815352cf034629b8181590c387cabe8c58f2a4be8347dd2505d35b104c1bf8c6ae942785ffe0216533c7c7769fda0c81df248dd2daba3b7b211c8c6209cfdb9090580fbc68709102e16921636525b829a00fa87d0bdaa38c9f65fad5d7d7b52d4bdc35f424d194ef8822a1ea61905994601bde93a7d682358f2298792e4be9048d5524c6c75ab30807a887319291142595dfd0293727a42868e3ee474ae6208e7097c16dc0ec5ed8b5ce926d0b998f59c146fc2270c5db7acfc03eb37eb41aca7c9a0ef4aacd160496f19978f2c807872708ea624517eee5ab1a6f1e6cf4a4b05235c6244c2fb04efaf0fcf31e91e304400a9f7991b53255d415785e6a2a9e9e385ac4d63ebec257dc1c66a6b63b3718a8ef66529d0b4f3b0a2eed4452ed2ac027ccb90a5f66fcbc21a494c5713b556d22abe2fc28b086cac9ca5e22410913100e949325ce34520dad848853ef5e82a026a31c65043f9f2bac9a460b03ea214d8801f34c61b27de494fdddc0e4649e1b091b1d2735a687ecbd3e8589d2b742ba7c32724cff6fb94b75e60baf26621134a119263a2bf01b5f1920a77c0389c3fe3cf4ffc73a353e7a7b692114279c8f68105ea3e1beb583dfc6217fadef1f882b3a6884ab0e3d4d1ca4761cd899aa56d0cdab0d9daf120b9ef8f12dc4ac9d2409ca85348dd369625cefe8eaaf326ad9b8f7b348b5a77c7d9f1938705e427cf799c3874af598161cdef6b4c2312615cd3cde56723df90fef509ec3c849442e96f0e1f7348656461230d4047dfa3a0aef0879e5e7e5a3d15f402f2f6d0974ee0b0a740d9e83fb8ca2274133d14fac744fa26eb6518eff89bd5be670417573c3723a65a136262cf9d4966b0e098c0a334c8c51f0e4eaebc066dd5ea1c66489c32157b64747e66c581e9532d651cb85fccb220904cdd7a1aafcc1fbc7823ff79a899ce33ddecd3a5a2116ca12d97d2d42acff459deabfd445702f6d1c4f3e4ebdf6c8492c26ae1ecddadb39a95d64b05066805f092a04f65e15dee3a4fee364b3928e0c50d8dc0261c99ae9d4e48bdb2d0e85b189b0b95fd602e705379f0f0df4fa1a4e1af09a3b0e1250cb3a148e7b6b65e2eba080b771e34cec7bb1972ae8430c145fb4b96fba3c45baf6d7366eca09ff398aab31371673e6d65ae30ae85e50b03559c36240a399ccb7814ad027ac2fb318122ffcd35b137fc63ebd20eccbefec2fb16d880fada977e67baa20ddab4da487313317d632f55d3d1f9d8f6824b1c4f37429f9182d85f328b584776dc4caff5f4a1202d4cca204bdf5139931cc4882abb90cef0d7fa71d2d65e1025ce33ba48d581b6465aeaa8e4205c21445fae6f41516461850a060c890a2fbc7185bce5ffa5a1c8a2474e16706e04c00833e5c6124a9ea16361ad59f22d1262000e677fb142c8d3013922db9042841b45e92bc8168a60dcadce61579658a6609719f8b3dd9803e29665bcdec4529723bbbcc47d14aa099f67fcc95d4d5d9b6ef950ee79bad4783e37a70972bb047c113d0995d723abfffb09b279df73413fb17b7d602c42f015ea65334cb81190ddab89d3a1b877547ad11c2b1b22fa7660e40c584029b27effea7af6ae1f594a4c6ee611574f732dd2630c25a04ba6d66f2af238c9f212df3b71ed2bb7c0b51f8ff993477771b9aba903120c6c172f41d456bd3974aa72e82f62c535c09c8d2ba4d4b554fdb0d103811f1903ab6c1cf0d325484c580dc3a55ef72aa3ba2bd4e9b606fd210812761e15db8e78dc27df5b986f8b45b6fe3081ae0ed21b23c1a0d4ddb285838561196289c5c47def6f3d82092e47c6b93aa6ffd448df38a483b09418cca89afae500a005009a0a3797cc0dee2a8dafa2c60d8769155f273404adde8eb65ef7558d3a611ea7d522e291bce41d1473a23cbd889abbd66426714bccb9172d6afeec04ff2d3a2e491ba5c65fcf390eec1f7f846a418a77d2ce7d0e932df68cfeda49d91fee9ded1dbf1eeddf30d52362083749d648f497356eccc58819197f04856032c96b0b52de594f7f5757419760fff9b5f28593b5015e27b081687bf93ef0f96a9b0d76a71fa4b7d629ac8164ef19d4d8854e6e78fed88f7160e58a7d39d95e60fed95359eaefaf22c7198a232bca6e3ac9e2d176acb7dc75a916fb785eb28b0b74ce8a3b798e82b6bfa36fb5f1a5cfb54a6ad00506aeabb8807d9df9b422c0a41558df6cb214891c1e337752cacb8f2196037000f6c2c0b99dce835450ffdf396f51aced0b6b9d5931a1292432f2aef4f172d4dc6bf9b235b4c0c5be97f0ef5d0d588c8bef1bf6c1300d26640ff616d0ec04f95e28693b3c6a625a79176eb84c7a9e1947a20664997296ce81638837bfd74df1a312bfd235764fdbb092892e750fcf0b14f4413a24265478133d6d04ced4bcf95e3e840631cae86df4187c2348d81205b6ce5c2c6027c3b1b4f12999a65e0146effcb996956f6e5811a717f6d46047566c1d1c202ea9c21903173cbd2e8c97963ea3c74fa11233915029f749109b1edb4601c93020a0fc5ca439208f1b87a6c144142491ff532562a4ec29b49b11fad080496aeca3f7430a433d751af8495f9bba089d631a9b31eead50d0c3ff44bb1d3eca42a3477d0c26c2f2b531aaef896b20367034961970c2cffee7855d3e608d8771716c00d9f73046943417e8e21f5d9c3e2c3642135e7a354da01e98558cff1515c432bb4136e3382eee41e1932cbe7ebb83f503d202cf6823503445c408ed474513ede9013b97e294ccd7911539c442d74121244946ac478079e29a63198047a81ba710ddbed01800e5ebbe04c8a897e176f2290594414e8df5160d0a0ed9fca0c18e48132bf7649ce9adf89ad3d3c52dcfdb3750979f59a389c327b0995a6a070c2b9b52fac366cb8692cd67c6c217d6ffd0be8d5c27436e2e14e15f01162e6de346a37a813d733b2077da27e9ec91f60c2836c965fb25c60f8b6d71f51cc8240100c2958e38a9e5129c9b1dbcd0b59b511112f7965656e48388e9c5a17a2a2b33e292fadc4eb613c77d33117605dfa39c4085fbf89b2ec519fac51f8456c715ca56eba227e05b6808db2b9ca24a3511c3144c1884838207ce8eea268bcfc3b0c82d53aa50a83f1526421fe1a3e711b97a5d14420000b1efe38f9d7fe2120de5cb325c14db123f127e461943daa369adb8985cc273df3f7d431f866fcf2d0d782daf365cc17b2ed06612b16ac322558e9313c2a7f33149407bf59c7d79b13c7946ab1457864c85392bce645fe65822951bead0cd37a771e4907bbae6b308e3bd845db4927cb57d056ab590f36aceb0bef9dc0a1a3cb7845e0a554d4754644a242c0855f700760857679a9a0a222e0f37fc2cd0d1d5d31b44573f025c78f0b1b13c9883bbaf125f5cfe7536bc02af7a6f458e6bdd2dccbe4afbf16f6bb5eaff944d200910f91cdda903edf826026d2c23e53031d4751fa73b00cb130fcbfdfcd2dd7a23f665f7adde2595a3c3e86a9362761ac81280a1c3171c133a7a0eb13fbf4b1a1fd146ca7352a972fe64c14578e080084453ab0ec503081403380d342597bb2e7c049067f1972d825293bb83208a0bcc17950f8352d450e6fb9d067f9909dc4a6c6d4dbca4674133ef43a83ea1bad19b3a34d05f074d75e72f69f549bc3154bb37f21875e121492b5325154f7e02d3837b4e17a1bee5b8e72f7d24dff92f7975d9fd6925a62aad17635fb06d7d98699cd62242b69a61f67f840a956cd6bce514b2437aafa6122d017ac31e48ff2f277e7a3a23da32392edb6377cd9a2725ba067bf7f714fb70d557f2c0a92da81dcd13ad14d2b75402cb94be35c984a6e36391d78206c803008e40e59496857fca021ccce298a725899f35f1ffeaf6049cd40c5463e92ed546d05fa9044e539b51971e5fe40c1650224ff7574de41a23f091dc1ea2692814d908434048f50bf42e67c20fb608b0dc65ea08c1288961b3e0e01a2bd54238e224e8f31cfacd50de5168b9c65355df57e0335f02644ffbd0ffb783ab0568a976e11947cf5f564f0a78c2e827e4cc4227346efc80eb74a03049fde16249da748a3d253df67eaeb09bd9d216dde9a146a01e1a77bcc322182b0568224ed2e89173fabfbcc027efb1d3daa92d3385c798700f95a6ef046957053efb4f434aec8fe6d773c719394cbee087fcb8317dd8a744148f09399522d32d43a66f380497439b804ed7738e836450f8ea9d3f1c426f7ee5be813a8fc367970db30eb087425c1a5f241b5eb2abbd6c171aef7552a5c712ee32d6c13e44da1c988f7ca70f6b72dc121c4a29b0f2581665f92d25500cf1aa759e542d4af1fc8334c7b64abe8f68ac966639bc95ffb95917f937db1c3aaba52f9f25c979debfeb35385bae4216e729052dd4670d071f286ab9b86f7f5ca81ae8969c07bb3c16020e58488cc531fe642f2d7cc2e1f28393ce39022e36708cd9e110218fd7a8ee51b8930da3214c8ece99509f065efbedf2e034f2809125c589d56accbf0fdb647def8fd3fb91b3f27fa48ac6d8c9b4cec953c07c1a324a6fd99d1cfa7dd89b9dc4dae3c42490a6be36dd67439e844a39deedbb8252afdbc16eaf612d1132ddd084625f17f3b92e04c2d170012f49ef75238917f1109d79b2bc38b46c6dc7878409e9a971854b764a5858cfeff09cdddfb205173152e5802b07a4a491308b0ce41098c3807d98d8</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½ï¼Œè¿™é‡Œéœ€è¦å¯†ç ã€‚</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> å…¬å¸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æ–½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windowsè™šæ‹Ÿæœºå®‰è£…</title>
      <link href="/2021/04/22/linux/windows-xu-ni-ji-an-zhuang/"/>
      <url>/2021/04/22/linux/windows-xu-ni-ji-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h1 id="windowsè™šæ‹Ÿæœºå®‰è£…"><a href="#windowsè™šæ‹Ÿæœºå®‰è£…" class="headerlink" title="windowsè™šæ‹Ÿæœºå®‰è£…"></a>windowsè™šæ‹Ÿæœºå®‰è£…</h1><blockquote><p>windowsè™šæ‹Ÿæœº</p><p>windows2012R2 x64</p></blockquote><p><a href="https://blog.csdn.net/qq_28189423/article/details/89485402">https://blog.csdn.net/qq_28189423/article/details/89485402</a></p><h2 id="è™šæ‹Ÿæœºæ‰©å®¹"><a href="#è™šæ‹Ÿæœºæ‰©å®¹" class="headerlink" title="è™šæ‹Ÿæœºæ‰©å®¹"></a>è™šæ‹Ÿæœºæ‰©å®¹</h2><blockquote><p>åœ¨windowsè™šæ‹Ÿæœºä¸­å®‰è£…å¾ˆå¤šè½¯ä»¶ä¹‹åï¼Œä¹‹å‰å®‰è£…çš„ç©ºé—´å·²ç»ä¸å¤Ÿä½¿ç”¨ï¼Œå†é‡æ–°åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºæ˜¾ç„¶å¾ˆä¸ç¬¦åˆå®é™…ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†ç°æœ‰è™šæ‹Ÿæœºè¿›è¡Œæ‰©å®¹</p></blockquote><ol><li><p>å³é”®VMwareçš„windowsè™šæ‹Ÿæœº-è®¾ç½®</p></li><li><p>é€‰æ‹©ç¡¬ç›˜ï¼Œæ‰©å±•<img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210422095051.png"></p></li><li><p>è¿™æ—¶ä¼šéœ€è¦ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol><li><p>å¿«ç…§é—®é¢˜ï¼Œå½“ç‚¹å‡»æ‰©å±•æ—¶ä¼šå‡ºç°å¿«ç…§ä¸èƒ½è¿›è¡Œæ‰©å±•</p><ol><li>éœ€è¦åˆ é™¤æ‰€æœ‰å¿«ç…§æ‰èƒ½ä½¿ç”¨æ‰©å±•åŠŸèƒ½</li><li>åˆ é™¤å¿«ç…§ï¼šå³é”®è™šæ‹Ÿæœº-è®¾ç½®-å¿«ç…§-å¿«ç…§ç®¡ç†å™¨-åˆ é™¤</li><li>æ³¨æ„ï¼šéœ€è¦ç­‰è¿›åº¦æ¡å®Œæˆæ‰ç®—åˆ é™¤å®Œæ¯•</li><li>å¦‚æœåˆ é™¤ä¸å®Œå…¨ï¼Œåœ¨ä¹‹åç¬¬äºŒä¸ªé—®é¢˜ä¸­ä¼šå‡ºç°é—®é¢˜ï¼Œåé¢ä¼šè¯´</li></ol></li><li><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210422095332.png"></p><blockquote><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>åŸå› ï¼šç”±äºåˆ›å»ºè™šæ‹Ÿæœºæ—¶å°†è™šæ‹Ÿç£ç›˜æ‹†åˆ†æˆäº†å¤šä¸ªæ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æˆ‘ä»¬éœ€è¦å°†æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªå¤§æ–‡ä»¶ï¼Œå†å¯¹å¤§æ–‡ä»¶è¿›è¡Œæ‰©å®¹æ“ä½œ</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210422095436.png" alt="å®‰è£…æ—¶çš„é€‰æ‹©"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210422095522.png" alt="ç£ç›˜"></p><p>è§£å†³ï¼š</p><ol><li><p>é¦–å…ˆæ‰¾åˆ°ä½ çš„è™šæ‹Ÿæœºä½ç½®ï¼Œè®°ä½ç£ç›˜ä½ç½®ï¼Œå¦‚<code>G:\system\CentOS 7 64 ä½\CentOS 7 64 ä½-000001.vmdk</code></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210422095825.png"></p></li><li><p>ä¹‹åæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¯ä»¥åœ¨è™šæ‹Ÿæœºé•œåƒæ–‡ä»¶å¤¹ä¸­æ–°å»ºï¼ˆåå­—éšæ„ï¼‰ï¼Œå¹¶è®°å½•æ–°æ–‡ä»¶å¤¹çš„ä½ç½®ï¼Œå¦‚ï¼š<code>G:\system\CentOS 7 64 ä½\new\</code></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210422095952.png"></p></li><li><p>æ‰¾åˆ°Vmwareè™šæ‹Ÿæœºå®‰è£…ç›®å½•ï¼Œå°±æ˜¯è™šæ‹Ÿæœºå¹³å°çš„ç›®å½•ï¼Œå¦‚ï¼š<code>D:\Linux\VMware</code></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210422100227.png"></p><p>åœ¨ç›®å½•ä¸Šè¾“å…¥cmdï¼Œæ‰“å¼€ç»ˆç«¯</p></li><li><p>è¾“å…¥å‘½ä»¤</p><pre><code>vmware-vdiskmanager.exe -r "ä½ çš„åŸè™šæ‹Ÿæœºé•œåƒä½ç½®ï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªè®°å½•çš„è·¯å¾„" -t 0 "åˆå¹¶åçš„ç£ç›˜æ–‡ä»¶åœ°å€ï¼Œå°±æ˜¯ç¬¬äºŒæ¬¡è®°å½•çš„è·¯å¾„+ç¬¬ä¸€æ¬¡è®°å½•è·¯å¾„çš„æ–‡ä»¶å"vmware-vdiskmanager.exe -r "G:\system\CentOS 7 64 ä½\CentOS 7 64 ä½-000001.vmdk" -t 0 "G:\system\CentOS 7 64 ä½\new\CentOS 7 64 ä½-000001.vmdk"     //ç¤ºä¾‹</code></pre></li><li><p>ç­‰å¾…ç‰‡åˆ»ï¼Œä¼šåœ¨æ–°æ–‡ä»¶å¤¹ä¸­æ•´åˆå‡ºä¸€ä¸ªæ–°çš„.vmdkæ–‡ä»¶</p><pre><code>//è¿™æ˜¯æç¤ºçš„æ¶ˆæ¯vmware-vdiskmanager.exe&nbsp;-r&nbsp;"D:\Program&nbsp;Files&nbsp;(x86)\MAC&nbsp;OS\OS&nbsp;X&nbsp;10.13.vmdk"&nbsp;-t&nbsp;0&nbsp;"D:\Program&nbsp;Files&nbsp;(x86)\MAC&nbsp;OS2\OS&nbsp;X&nbsp;10.13.vmdk"VixDiskLib:&nbsp;Invalid&nbsp;configuration&nbsp;file&nbsp;parameter.&nbsp;Failed&nbsp;to&nbsp;read&nbsp;configuration&nbsp;file.Creating&nbsp;disk&nbsp;'D:\Program&nbsp;Files&nbsp;(x86)\MAC&nbsp;OS2\OS&nbsp;X&nbsp;10.13.vmdk'&nbsp;&nbsp;Convert:&nbsp;100%&nbsp;done.Virtual&nbsp;disk&nbsp;conversion&nbsp;successful.</code></pre><p>è¿™é‡Œä¸ä¸€å®šæ˜¯100%ï¼Œæœ‰æ—¶å€™90%ä¹Ÿæ˜¯æˆåŠŸçš„</p><p>æ³¨æ„ï¼šä¸€å®šç¡®ä¿å·²ç»åˆ›å»ºäº†æ–°æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”ç£ç›˜ç©ºé—´å……è¶³ï¼Œå¦åˆ™ä¼šå¤±è´¥ã€‚è¿™é‡Œåˆå¹¶ä¹‹åçš„æ–‡ä»¶å¤§å°å’Œä½ åŸæ¥çš„è™šæ‹Ÿæœºé•œåƒå¤§å°ä¸€æ ·ï¼Œæ‰€ä»¥è¦æå‰ä¿è¯ç©ºé—´å……è¶³</p></li><li><p>å®Œæˆåï¼Œå°†åŸè™šæ‹Ÿé•œåƒä¸­çš„é…ç½®æ–‡ä»¶.vmxå¤åˆ¶åˆ°æ–°æ–‡ä»¶å¤¹ä¸­</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210422100906.png"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210422100930.png"></p></li><li><p>åœ¨vmè™šæ‹Ÿæœºä¸­ï¼Œå·¦ä¸Šè§’æ–‡ä»¶-æ‰“å¼€ï¼Œé€‰æ‹©æ–°æ–‡ä»¶å¤¹ä¸­çš„vmxæ–‡ä»¶ï¼Œæ‰“å¼€åˆå¹¶åçš„è™šæ‹Ÿæœºï¼Œå¯åŠ¨</p></li><li><p>å‘ç°è™šæ‹Ÿæœºæ­£å¸¸è¿è¡Œï¼Œå…³é—­è™šæ‹Ÿæœº</p></li><li><p>å³é”®è™šæ‹Ÿæœº-è®¾ç½®-ç£ç›˜-æ‰©å±•ï¼ˆå‰æä¿è¯ç£ç›˜ç©ºé—´å……è¶³ï¼Œå¦åˆ™ä¼šå¤±è´¥ï¼‰</p></li><li><p>å®Œæˆ</p><ol><li><p><strong>æ³¨æ„ï¼</strong>ï¼švmæ‰©å±•çš„å¤§æ¦‚åŸç†ä¼šå…ˆå°†å¤§æ–‡ä»¶å¤åˆ¶ï¼Œä¹‹åå†æ‰©å±•ï¼Œä¹Ÿå°±æ˜¯è¯´ç£ç›˜å‰©ä½™ç©ºé—´å¿…é¡»è¦è¶…è¿‡å½“å‰ç©ºé—´ï¼Œå¦‚ï¼šæƒ³æ‰©å±•10ä¸ªGï¼Œç³»ç»Ÿä¼šå…ˆå¤åˆ¶28.9Gå†æ‰©å±•ï¼Œä¹Ÿå°±æ˜¯æ€»ä½“ç³»ç»Ÿå¯ç”¨ç©ºé—´è¦è¶…è¿‡38.9Gã€‚å¦åˆ™ä¼šæç¤ºæ–‡ä»¶ç³»ç»Ÿç©ºé—´ä¸è¶³ï¼Œæ— æ³•æ‰§è¡Œ</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210422101350.png"></p></li><li><p><strong>æ³¨æ„ï¼</strong>ï¼šå¦‚æœç‚¹å‡»æ‰©å±•ï¼Œè¿˜æ˜¯æç¤ºåœ¨éƒ¨åˆ†é“¾â€¦â€¦è¯·é€‰æ‹©çˆ¶è™šæ‹Ÿç£ç›˜ã€‚è¯æ˜ä½ çš„å¿«ç…§æ²¡æœ‰å®Œå…¨åˆ é™¤ã€‚</p><ol><li>è§£å†³ï¼šæ ¹æ®å¿«ç…§åˆ é™¤æ“ä½œï¼Œæ–°å»ºä¸€ä¸ªå¿«ç…§ï¼Œå†å°†å¿«ç…§åˆ é™¤æ‰ï¼Œç­‰è¿›åº¦æ¡è¯»å®Œï¼Œå°±å¯ä»¥è§£å†³é—®é¢˜ã€‚</li></ol></li></ol></li></ol></blockquote><p>æ‰©å®¹å®Œä¹‹åï¼Œè™šæ‹Ÿæœºçš„ç£ç›˜ç©ºé—´å¹¶ä¸ä¼šå¢åŠ ï¼Œéœ€è¦æˆ‘ä»¬å¯¹æ‰©å®¹çš„ç©ºé—´è¿›è¡Œåˆ†åŒºæ“ä½œã€‚</p><p>windows2012R2åˆ†åŒºæ“ä½œå¦‚ä¸‹ï¼š</p><ol><li><p>å³é”®æˆ‘çš„ç”µè„‘ï¼Œç®¡ç†ï¼Œå·¥å…·ï¼Œè®¡ç®—æœºç®¡ç†ï¼Œç£ç›˜ç®¡ç†</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210422102258.png"></p></li><li><p>å‘ç°å¤šå‡ºæ¥äº†æœªåˆ†é…çš„åˆ†åŒºï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œåˆ†é…ã€‚</p><ol><li>å¦‚æœæƒ³ç»™å…ˆæœ‰ç£ç›˜ï¼Œå¦‚Cç›˜æ‰©å®¹ï¼Œå³é”®Cç›˜ï¼Œæ‰©å±•å·ï¼ŒæŒ‰ç…§å‘å¯¼æ“ä½œ</li><li>å¦‚æœæƒ³æ–°å»ºç£ç›˜ï¼Œå¦‚æ–°å¢Dç›˜ï¼Œå³é”®æœªåˆ†é…çš„å·ï¼Œæ–°å»ºå·ï¼ŒæŒ‰ç…§å‘å¯¼æ“ä½œ</li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210422102425.png"></p></li></ol></li></ol></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå®‰è£…</title>
      <link href="/2021/04/16/linux/linux-xu-ni-ji-an-zhuang/"/>
      <url>/2021/04/16/linux/linux-xu-ni-ji-an-zhuang/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œè¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹ï¼Œè¯·å†è¯•è¯•ã€‚" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="53b582db72ca141575ff9bf7a154abac7b5b9ad906e956920e6a93e7e44d4465">50401a1b4252edfef05a7c1120311a28d7c9779e54cbf0d6b9b880a49e65437b34100e8f275b74943600fad424291f6ec2db3d37f2d42db74ad7378d9ff1bdd6c23d5bfb841b1e9c19252dae5a14e6561063afa53a34eb1d9fb989a63cdc704930ffc52d2be5d1c018451ee1443d26c5f4faa2b54069130d419e37bd6a9e02e5f0779d523686c47e7809d7fbb52a3128a56a0f989df59fe650c65737c55e8a6960a44033dddc36e5e8cf3ac064173070793489e6e5b75d688d351f5aa2db5a3d6a33fef54cc74190f24b775b5523eba2448998c87fbe5b9078f4ea68bb6c06b56841ac409813607e862ed23ae246f462ce25d779358e6ef0ce3a355c225c82021c1f9ec2ff0cd45c10961783b34ede3071d9a2595061967fedfdf9c0a679c238b6a2d091ed254acd40f2e083e6d7daa4c2c5a0b1c87478fbedb209a973bdf251f23e8575a13b1df9b43cdb89f1c95b03b8c1d370a79e22f6721664030fa8c449953212cf81fd7e2e42e5834b361356a3c51c8703e7cc935d61de85a5c8a4d613637da3fcad89e26b6dd34f08b70f20322d505f39c43960da6a4520cb36fabc41b1a46ba8b6b58327334c0141d606887fac2ecea96dcd7225417b7e1e74b8d516af54a96d222c654cd48c78ba56884bae1ba12ed44cd2cd615d1e170962a1228350f3ea5a7a73d1edc8dc8229e72541eaba4e17284e2268c358828217222962673cc90bfa6e3e1fdd7900d37a9ec45c138e38072ee0fa29bcfa71d63c685e1f849fe058d25ce46dedb85b7e8a7b97bb70dd54219c107c057f773ef6ce6f9e5307e2d6f1b73339ee398abba288324ba6e6e883364c951d08793a808562a4741ac39ff44d3826701b6695d5feaf18d9e9ed0e97ce8699921e7e0af8734dc6414f778b13a8aff1f868f087538f36d71f0c553d8d1fce561544267216dbc5243ff39a3878c5b2322ade8055c23a10ce7d548a24164f1a3f5b4e3875b45e58af3b06f7dff9327fa7988cc981eada06af4eaa693ae7b04cb6f62edb30faff3d1ba1aa4ac395a36bd52f5119405269462d8973b1b4e073ca58275238d497521ec30289c0690496a1eea6407832929ff8b0424813181c039274faf1bb5e44cebdc2548a7d1b183cf101eeb016b9cd28f35838e5561d0f913b5fbdf9d4331837d92cfb75f237d427f67f118ddf61865dfd9030fd0c397fad03cc04b0dd307c16bdb8332519cf9902eb76fa9d0aca7764adcf2fd91b1db0dd228318c8e1032e1c79c0e26e42ec3a6e2374165aac29360d6d7b9c51043574b355f00aa9dbaf0f2b2d563cbcc36395e4eb087acd193c59c3afb4748765af34de27a0582ee6a5e94600dcd628c41fa076c4542bb740cb00bab6b46b133a1098dc9fd5608eaf2851b6bf864c42ea9dce6af95bfe1761b7dd1a4cfc690180f1d9d364442b1ba0220091ca665c36ed777839d99ac66bfe55708dfc79c68561f27104425d6322ac943439174d271f85132514bc5bdbc3e542dbecb257047ce814da3f9d87d79e584983b642659d473e56a9839db1af93433e09778bca8f1eb4989e48e0dd19d750ab594b86fae66e4c2aac941bbdbf8769d9c3ec7cfb7f81de4ac6d88f0137dd32ff30b67b914c86bd9ca19f3108f7d169e0b374953fbe59c38a72dab5c38305876505c63d53a046c96b637b1e5c2c6bd84527e74bf329d2c4b6602f77d56f2786dcc6d628c9f1045dcd2ae581074632c51ca984b971d89abcc496c972dc9aabbbb8e9c0f928689bc195d6d1bdeb6dcca2ccfb2624389c438e4e6d4723cece5730c74b44acb5d8c8feaaeb4b901a73431cc4039b485d9032c6cb0b7a919505de1bbaa1b69c72b1d4481050b5d17c0cf3cad75429cb7a5e3ba2e4d84fb874e020b1cc7a4ce44702bc829edc8b6a84e3adb35c455bdbebf31895ad2e68f3a1a7c2562d06fe9f0f41f42bfe407c1d9730bbc16ed9f709a5df26cb54bc872e64be78a098b82d5ff83072880ed7872b489175dd48882dd0ad13a8764cc92dd1fa0206b30a7767b92cd33fe953eb8c8fbe6eb4b31fe6edd62547accc236785026bfedb5697f909ed537b684f302da557fb153862e34bc55a99d4c73c38e92b3501f628dec64c84b5848001e72f89a2ac7cbcf1f631a3f41884d758062cd13ae3c0346ee9f5db259bde15cdd676540af2e27b08c45e72069cf3426038bc7b4f205d949be067ab04f58aa6f215be2294fa9cdcfd2fcd5da7179c2d27cb64dc0d474f47e61ae4d16e1f163ed01b87268d2b6733e2a5e125af0de2f6c1eeae66d1883f102e5a6052794d2f9f669f23a27098228e9d224c6ba030f5846bdcf1d71586b62acd04e0737d4c4c9aeba19944d8ab2900548b2920da08fe85864bea732c7214f389e43d7490e8cb66a4f810abdca2807c5bcca76a0979d0a4fe1be7453eadf89439f4e758b4d9de75ba39b39548cafc72a537cf9a1c4469be16745dad88a630ff51df7f225833cc3225e85fbacd72f101e1a9e6fd594bb4993f0636d5f9ec0c7ee52ba93c2d0ced8e3166924c8e10f35062a068cffa0c6100be96d93b410d05aef1631160e86f080abea3d9f61609f9cff57fecdcfa2301d6b7096732e1d5db04a590012ffbf5ee3ad3356ac2832f22ade141ed6d22094f06608df6ecaa879aa1299b2568c36528c462300a3d7d1696077d14cbb926704f9d29a4f76cc14b979dd354e1359a0ceb0d9e68</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½ï¼Œè¿™é‡Œéœ€è¦å¯†ç ã€‚</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> å…¬å¸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®æ–½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle</title>
      <link href="/2021/04/16/mysql/oracle/"/>
      <url>/2021/04/16/mysql/oracle/</url>
      
        <content type="html"><![CDATA[<h1 id="Oracle"><a href="#Oracle" class="headerlink" title="Oracle"></a>Oracle</h1><h2 id="åè¯ä»‹ç»"><a href="#åè¯ä»‹ç»" class="headerlink" title="åè¯ä»‹ç»"></a>åè¯ä»‹ç»</h2><ol><li><p>æ•°æ®åº“</p><p>oracleæ•°æ®çš„ç‰©ç†å­˜å‚¨ï¼ŒåŒ…æ‹¬æ•°æ®æ–‡ä»¶ã€å‚æ•°æ–‡ä»¶ã€æ—¥å¿—ç­‰</p></li><li><p>å®ä¾‹</p><p>ä¸€ä¸ªoracleå®ä¾‹æœ‰ä¸€ç³»åˆ—çš„åå°è¿›ç¨‹ï¼Œä¸€ä¸ªæ•°æ®åº“å¯ä»¥æœ‰nä¸ªå®ä¾‹ã€‚å°±å¥½æ¯”è¯´å¯ä»¥è·‘å¤šä¸ªQQä¸€æ ·</p></li><li><p>è¡¨ç©ºé—´</p><p>æ˜¯æ•°æ®æ–‡ä»¶ï¼ˆora/dbfï¼‰çš„é€»è¾‘æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯å¤šä¸ªæ•°æ®æ–‡ä»¶ç»„æˆä¸€ä¸ªè¡¨ç©ºé—´ï¼Œæ•°æ®æ–‡ä»¶æ˜¯çœ‹å¾—è§æ‘¸å¾—ç€çš„æ–‡ä»¶ï¼Œè¡¨ç©ºé—´æ˜¯ä¸€ä¸ªé€»è¾‘æ¦‚å¿µã€‚</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">--åˆ›å»ºè¡¨ç©ºé—´</span><span class="token keyword">create</span> <span class="token keyword">tablespace</span> è¡¨ç©ºé—´åç§° datafile <span class="token string">'c:\app\gen\oradata\myora\xxx.dbf'</span> size è¡¨ç©ºé—´åˆå§‹å¤§å°100mAutoextend <span class="token keyword">on</span><span class="token punctuation">;</span> ï¼ˆè‡ªå¢é•¿ï¼‰<span class="token comment" spellcheck="true">--æŸ¥çœ‹å·²ç»åˆ›å»ºå¥½çš„è¡¨ç©ºé—´(åˆ›å»ºå®Œç”¨æˆ·åæ‰èƒ½çœ‹åˆ°åˆšæ‰åˆ›å»ºå¥½çš„è¡¨ç©ºé—´)</span><span class="token keyword">select</span> default_tablespace<span class="token punctuation">,</span>temporary_tablespace<span class="token punctuation">,</span><span class="token number">d</span><span class="token punctuation">.</span>username <span class="token keyword">from</span> dba_users <span class="token number">d</span></code></pre></li><li><p>ç”¨æˆ·</p><p>ç”¨æˆ·ä½¿æ“ä½œè¡¨çš„åŸºæœ¬å•ä½ï¼Œç›¸å½“äºmysqlä¸­çš„æ•°æ®åº“databaseã€‚ä¸åŒå®ä¾‹å¯ä»¥åˆ›å»ºå¤šä¸ªç”¨æˆ·ã€‚</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">--åˆ›å»ºç”¨æˆ·</span><span class="token keyword">create</span> <span class="token keyword">user</span> ç”¨æˆ·åidentified <span class="token keyword">by</span> å¯†ç <span class="token keyword">default</span> <span class="token keyword">tablespace</span> è¡¨ç©ºé—´åç§°<span class="token keyword">temporary</span> <span class="token keyword">tablespace</span> <span class="token keyword">temp</span><span class="token punctuation">;</span></code></pre></li><li><p>æƒé™</p><p>æœ‰äº†ç”¨æˆ·ï¼Œè¦æƒ³ä½¿ç”¨ç”¨æˆ·è´¦å·ç®¡ç†è‡ªå·±çš„è¡¨ç©ºé—´ï¼Œè¿˜éœ€è¦ç»™å®ƒæƒé™</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">--ç»™ç”¨æˆ·æˆäºˆç™»å½•/åˆ›å»ºè¡¨/ç®¡ç†å‘˜çš„æƒé™</span><span class="token keyword">grant</span> <span class="token keyword">connect</span><span class="token operator">/</span>resource<span class="token operator">/</span><span class="token number">dba</span> <span class="token keyword">to</span> ç”¨æˆ·å<span class="token punctuation">;</span><span class="token comment" spellcheck="true">--ç»™ç”¨æˆ·æˆäºˆå…¶ä»–ç”¨æˆ·çš„è¡¨æƒé™</span><span class="token keyword">grant</span> <span class="token keyword">select</span><span class="token operator">/</span><span class="token keyword">delete</span><span class="token operator">/</span><span class="token keyword">update</span><span class="token operator">/</span><span class="token keyword">insert</span> <span class="token keyword">on</span> å…¶ä»–ç”¨æˆ·å<span class="token punctuation">.</span>è¡¨å <span class="token keyword">to</span> ç”¨æˆ·å<span class="token punctuation">;</span><span class="token comment" spellcheck="true">--å–æ¶ˆç”¨æˆ·æƒé™</span><span class="token keyword">revoke</span> æƒé™ <span class="token keyword">from</span> ç”¨æˆ·å<span class="token punctuation">;</span></code></pre></li><li><p>æ•°æ®æ–‡ä»¶</p><p>æ•°æ®åº“çš„ç‰©ç†å­˜å‚¨å•ä½ã€‚æ•°æ®åº“çš„æ•°æ®æ˜¯å­˜å‚¨åœ¨è¡¨ç©ºé—´ä¸­çš„ï¼ŒçœŸæ­£æ˜¯åœ¨æŸä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®æ–‡ä»¶ä¸­ã€‚</p></li></ol><p><img src="/2021/04/16/mysql/oracle/Users\44317\AppData\Roaming\Typora\typora-user-images\image-20210516173105991.png" alt="image-20210516173105991"></p><h2 id="windowså®‰è£…"><a href="#windowså®‰è£…" class="headerlink" title="windowså®‰è£…"></a>windowså®‰è£…</h2><blockquote><p>æ­¤å¤„ä»¥oracle 11gä¸ºä¾‹</p></blockquote><ol><li>å–æ¶ˆå®‰å…¨æ›´æ–°</li><li>åˆ›å»ºå’Œé…ç½®æ•°æ®åº“</li><li>æœåŠ¡å™¨ç±»</li><li>å•å®ä¾‹æ•°æ®åº“å®‰è£…</li><li>é«˜çº§å®‰è£…</li><li>ç®€ä½“ä¸­æ–‡ã€è‹±è¯­</li><li>ä¼ä¸šç‰ˆ</li><li>å®‰è£…ç›®å½•</li><li>ä¸€èˆ¬ç”¨é€”/äº‹åŠ¡å¤„ç†</li><li>æ•°æ®åº“åï¼ˆä¸€èˆ¬æ ¹æ®å®é™…ç”¨é€”å–åï¼Œå¦‚ecardï¼‰</li><li>å†…å­˜ï¼ˆæ ¹æ®ç°åœºé…ï¼Œé»˜è®¤40%ï¼‰ï¼Œå­—ç¬¦é›†ï¼ˆé»˜è®¤gbkï¼‰</li><li>ç®¡ç†é€‰é¡¹ï¼ˆä¸‹ä¸€æ­¥ï¼‰</li><li>æ–‡ä»¶ç³»ç»Ÿï¼ˆæ ¹æ®ç°åœºæŒ‡å®šæ•°æ®åº“å­˜æ”¾ä½ç½®ï¼‰</li><li>ä¸å¯åŠ¨è‡ªåŠ¨å¤‡ä»½</li><li>å¯¹æ‰€ç”¨è´¦æˆ·ä½¿ç”¨ç›¸åŒçš„å£ä»¤ï¼ˆå¤§å°å†™æ•°å­—éƒ½è¦æœ‰ï¼Œæœ€å°‘å…«ä½ï¼‰</li><li>ä¿å­˜å“åº”æ–‡ä»¶ï¼ˆä¿å­˜è®¾ç½®ï¼‰</li><li>å®‰è£…ing</li><li>ç¡®å®š å®Œæˆ</li></ol><h2 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h2><ol><li>åœ¨oracleæœåŠ¡ç«¯ç™»å½•oracleçš„æ–¹æ³•<a href="https://blog.csdn.net/heshushun/article/details/79773886">https://blog.csdn.net/heshushun/article/details/79773886</a></li></ol><h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><ol><li><p><strong>å…ˆç™»å½•æœåŠ¡å™¨åï¼Œåˆ‡æ¢åˆ°oracleç”¨æˆ·çŠ¶æ€ä¸‹ï¼š</strong> su - oracle</p><ol start="2"><li><strong>æ£€æŸ¥oracleç›‘å¬å™¨è¿è¡ŒçŠ¶æ€ï¼š</strong> lsnrctl statuså‘½ä»¤æŸ¥çœ‹ã€‚<ol><li>è‹¥æ²¡å¯åŠ¨ï¼Œæ‰§è¡Œå¯åŠ¨ç›‘å¬ï¼Œé€šè¿‡å‘½ä»¤ï¼š lsnrctl start ï¼ˆlsnrctl stop å…³é—­ç›‘å¬ï¼‰</li><li>å¦‚æœå¯åŠ¨æŠ¥é”™ï¼Œlistener.oraæ–‡ä»¶æ‰“å¼€ï¼Œè°ƒæ•´HOST IP</li></ol></li><li><strong>è¿›å…¥sqlplusï¼Œå‘½ä»¤ï¼š</strong> sqlplus /nolog</li></ol></li><li><p><strong>ç®¡ç†å‘˜</strong> <strong>sysdba</strong> <strong>æƒé™ç™»é™†oracleï¼š</strong> conn /as sysdba</p><ol start="5"><li><strong>å¯åŠ¨æœåŠ¡ï¼ˆå®ä¾‹ï¼‰ï¼š</strong> startup</li></ol><h3 id="å…³é—­"><a href="#å…³é—­" class="headerlink" title="å…³é—­"></a>å…³é—­</h3><p><strong>å…³é—­æœåŠ¡ï¼ˆå®ä¾‹ï¼‰ï¼š</strong> shutdown immediate;</p><h3 id="é‡å¯"><a href="#é‡å¯" class="headerlink" title="é‡å¯"></a>é‡å¯</h3><p>SQL&gt; <code>shutdown immediate</code></p><p>SQL&gt; <code>startup open</code></p><h3 id="æ£€éªŒæœåŠ¡æ˜¯å¦å¼€å¯"><a href="#æ£€éªŒæœåŠ¡æ˜¯å¦å¼€å¯" class="headerlink" title="æ£€éªŒæœåŠ¡æ˜¯å¦å¼€å¯"></a>æ£€éªŒæœåŠ¡æ˜¯å¦å¼€å¯</h3><p>çœ‹æ•°æ®åº“å½“å‰çŠ¶æ€ </p><p>SQL&gt;<code>select status from v$instance;</code></p><p>å¦‚æœstatus = open å°±è¯´æ˜oracleæœåŠ¡æ­£å¸¸ã€‚</p></li><li><p>åœ¨oracleå®¢æˆ·ç«¯ç™»å½•oracleçš„æ–¹æ³•</p><ol><li><p>åŸå§‹çš„ç™»å½•æ–¹æ³•</p><pre><code>sqlplus scott/123@//192.168.94.133/orcl     //192.168.94.133æ˜¯æœåŠ¡ç«¯çš„IPåœ°å€</code></pre></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶åçš„ç™»å½•æ–¹æ³•</p><pre><code>sqlplus scott/123@orcl_133</code></pre><p>å¯ä»¥ç†è§£ä¸ºâ€œorcl_133â€æ˜¯â€œ//192.168.94.133/orclâ€çš„åˆ«åï¼Œè¿™ä¸ªåˆ«åæ˜¯åœ¨å®¢æˆ·ç«¯è½¯ä»¶(sqlplus)çš„å®‰è£…ç›®å½•ä¸‹é…ç½®æ–‡ä»¶è®¾ç½®çš„ã€‚å¦‚E:\app\Administrator\product\11.2.0\client_1\network\admin\tnsnames.ora</p><p>è¿™é‡Œä»¥æœåŠ¡ç«¯çš„å®¢æˆ·ç«¯è½¯ä»¶ä¸ºä¾‹ï¼Œè¯¥é…ç½®æ–‡ä»¶ä¸º/opt/oracle/product/11.2.0/dbhome_1/network/admin/tnsnames.oraï¼Œé»˜è®¤æ–‡ä»¶å†…å®¹ä¸ºï¼š</p><pre><code># tnsnames.ora Network Configuration File: /opt/oracle/product/11.2.0/dbhome_1/network/admin/tnsnames.ora# Generated by Oracle configuration tools.LISTENER_ORCL =  (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))ORCL =  (DESCRIPTION =    (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))    (CONNECT_DATA =      (SERVER = DEDICATED)      (SERVICE_NAME = orcl)    )  )</code></pre></li></ol></li></ol><p>å¯è§åœ¨è¿™é‡Œçš„å®¢æˆ·ç«¯è½¯ä»¶ï¼ŒORCLæ˜¯è¢«æŒ‡å®šä¸ºåè®®ä¸ºTCPã€IPåœ°å€ä¸ºlocalhostï¼Œç«¯å£ä¸º1521çš„å®ä¾‹äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨sqlplus scott/123ç›´æ¥ç™»å½•oracleã€‚</p><p><strong>å®¢æˆ·ç«¯ç™»å½•æœåŠ¡ç«¯</strong></p><p>æ‰€ä»¥åœ¨åªè£…oracleå®¢æˆ·ç«¯çš„æœºå™¨ä¸Šï¼Œè¦ä½¿ç”¨sqlplus scott/123@orcl_133ç™»å½•è¿œç¨‹oracleçš„æœåŠ¡ç«¯ï¼Œéœ€è¦åœ¨è¯¥æœºå™¨çš„tnsnames.oraæ–‡ä»¶å¢åŠ ï¼š</p><pre><code>ortcl_133 =  (DESCRIPTION =    (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.94.133)(PORT = 1521))    (CONNECT_DATA =      (SERVICE_NAME = orcl)    )  )</code></pre><h2 id="åˆå§‹åŒ–é…ç½®"><a href="#åˆå§‹åŒ–é…ç½®" class="headerlink" title="åˆå§‹åŒ–é…ç½®"></a>åˆå§‹åŒ–é…ç½®</h2><ol><li>å¯¹ç¼ºçœå¯†ç çš„æœ‰æ•ˆæœŸè¿›è¡Œä¿®æ”¹<ol><li>ç™»å½•æ•°æ®åº“<ol><li><code>sqlplus /nolog</code></li><li><code>conn è´¦å·/å¯†ç  as sysdba</code>ï¼Œä»¥ç®¡ç†å‘˜æƒé™ç™»å½•æ•°æ®åº“</li></ol></li><li>è¾“å…¥<code>alter profile default limit password_life_time unlimited;</code></li></ol></li><li>å¯¹ç©ºè¡¨ä¸å¤‡ä»½è¿›è¡Œä¿®æ”¹ï¼ˆè°ƒæ•´ä¸ºå…¨é‡å¤‡ä»½ï¼‰<ol><li>è¾“å…¥<code>alter system set deferred_segment_creation=false;</code></li></ol></li></ol><h2 id="å¤‡ä»½ä¸å¯¼å…¥"><a href="#å¤‡ä»½ä¸å¯¼å…¥" class="headerlink" title="å¤‡ä»½ä¸å¯¼å…¥"></a>å¤‡ä»½ä¸å¯¼å…¥</h2><h3 id="å¤‡ä»½"><a href="#å¤‡ä»½" class="headerlink" title="å¤‡ä»½"></a>å¤‡ä»½</h3><p><a href="https://blog.csdn.net/xuheng8600/article/details/84324707">https://blog.csdn.net/xuheng8600/article/details/84324707</a></p><h3 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h3><p>åˆ›å»ºè¡¨ç©ºé—´å’Œç”¨æˆ·ï¼Œä»¥IDC_U_STUWORKä¸ºä¾‹</p><ol><li><p>oracleå‘½ä»¤è¡Œç™»å½•</p><p><code>sqlplus ç”¨æˆ·å/å¯†ç </code></p></li><li><p>åˆ›å»ºè¡¨ç©ºé—´IDC_U_STUWORKï¼ŒæŒ‡å®šå­˜å‚¨æ–‡ä»¶åŠè·¯å¾„/u01/app/oracle/oradata/orcl/IDC_U_STUWORK.dbfï¼Œè¡¨ç©ºé—´å¤§å°360M</p><p><code>create tablespace IDC_U_STUWORK datafile '/u01/app/oracle/oradata/orcl/IDC_U_STUWORK.dbf' size 360M;</code></p><blockquote><p>æ‰©å±•ï¼š</p><ol><li>åˆ é™¤è¡¨ç©ºé—´ï¼š<ol><li><code>drop tablespace è¡¨ç©ºé—´å</code></li><li>åˆ é™¤æœ¬åœ°æ–‡ä»¶<code>/u01/app/oracle/oradata/orcl/IDC_U_STUWORK.dbf</code>å³å¯</li></ol></li></ol></blockquote></li><li><p>åˆ›å»ºç”¨æˆ·å¹¶æŒ‡å®šé»˜è®¤è¡¨ç©ºé—´</p><p><code>create user IDC_U_STUWORK identified by Jiaminjm1 default tablespace IDC_U_STUWORK;</code></p></li><li><p>èµ‹äºˆæ™®é€šç”¨æˆ·æƒé™ç»™ç”¨æˆ·</p><p><code>grant connect,resource to IDC_U_STUWORK;</code></p><blockquote><p>DBA: æ‹¥æœ‰å…¨éƒ¨ç‰¹æƒï¼Œæ˜¯ç³»ç»Ÿæœ€é«˜æƒé™ï¼Œåªæœ‰DBAæ‰å¯ä»¥åˆ›å»ºæ•°æ®åº“ç»“æ„ã€‚<br>RESOURCE:æ‹¥æœ‰Resourceæƒé™çš„ç”¨æˆ·åªå¯ä»¥åˆ›å»ºå®ä½“ï¼Œä¸å¯ä»¥åˆ›å»ºæ•°æ®åº“ç»“æ„ã€‚<br>CONNECT:æ‹¥æœ‰Connectæƒé™çš„ç”¨æˆ·åªå¯ä»¥ç™»å½•Oracleï¼Œä¸å¯ä»¥åˆ›å»ºå®ä½“ï¼Œä¸å¯ä»¥åˆ›å»ºæ•°æ®åº“ç»“æ„ã€‚<br>å¯¹äºæ™®é€šç”¨æˆ·ï¼šæˆäºˆconnect, resourceæƒé™ã€‚<br>å¯¹äºDBAç®¡ç†ç”¨æˆ·ï¼šæˆäºˆconnectï¼Œresource, dbaæƒé™ã€‚</p></blockquote></li><li><p>åˆ‡æ¢ç”¨æˆ·</p><p><code>sqlplus IDC_U_STUWORK/Jiaminjm1</code></p></li></ol><p>å¯¼å…¥dmpæ•°æ®</p><ol start="5"><li><p>å¯¼å…¥</p><pre><code># ä¸‰ç§æ–¹å¼æ–¹å¼ä¸€ï¼š1.å°†oracle_6.0.4.dmpæ–‡ä»¶ä¸Šä¼ åˆ°/u01/app/oracle/admin/orcl/dpdump/ä¸­2.impdp IDC_U_STUWORK/Jiaminjm1@orcl file=oracle_6.0.4.dmp full=y ignore=y remap_schema=bladex_release:IDC_U_STUWORK transform=segment_attributes:næ–¹å¼äºŒï¼š1.å°†oracle_6.0.4.dmpæ–‡ä»¶ä¸Šä¼ åˆ°/opt/dmpä¸­2.ä¿®æ”¹æ–‡ä»¶å±ç»„ï¼š chown -R oracle:oinstall /opt/dmp3.åˆ›å»ºæ–‡ä»¶å¤¹dirï¼šSQL&gt; create directory dir as '/opt/dmp';4.æˆæƒç”¨æˆ·è®¿é—®æˆæƒï¼šSQL&gt; grant read,write on directory dir to IDC_U_STUWORK;5.impdp idc_u_stuwork/Jiaminjm1@orcl directory=dir dumpfile=oracle_6.0.4.dmp  remap_schema=bladex_release:IDC_U_STUWORK transform=segment_attributes:n</code></pre><blockquote><p>é—®é¢˜ï¼šORA-39088: file name cannot contain a path specification</p><p>è§£å†³ï¼šæ–¹å¼ä¸€çš„é”™è¯¯ï¼Œlogæ–‡ä»¶åä¸èƒ½åŒ…å«è·¯å¾„ï¼Œç›´æ¥ä¿®æ”¹æˆä¸ºæ–‡ä»¶åå³å¯</p></blockquote><blockquote><p>é—®é¢˜ï¼šORA-39145: directory object parameter must be specified and non-null</p><p>è§£å†³ï¼šæ–¹å¼ä¸€çš„é”™è¯¯ï¼Œæƒé™é—®é¢˜ï¼Œç»™äºˆç”¨æˆ·æœ€é«˜æƒé™<code>grant dba to ç”¨æˆ·å</code></p></blockquote><blockquote><p>é—®é¢˜ï¼šå¯¼å…¥æ—¶ï¼Œå‡ºç°å¤§é‡ORA-39112: dependent object type comment skipped</p><p>è§£å†³ï¼šæ–¹å¼ä¸€çš„é”™è¯¯ï¼Œæ²¡æœ‰æŒ‡å®šç”¨æˆ·è½¬ç§»ï¼Œè¯­å¥ä¸­å¢åŠ å‚æ•°<code>remap_schema=bladex_release:IDC_U_STUWORK transform=segment_attributes:n</code></p><blockquote><p>æ‰©å±•ï¼š</p><p>remap_schema=bladex_release:IDC_U_STUWORK    åŸæ¥çš„schema:ç°åœ¨çš„schema<br>transform=segment_attributes:n å»æ‰è¡¨ç©ºé—´å’Œå­˜å‚¨å­å¥</p></blockquote></blockquote></li></ol><h2 id="è¡¨ç©ºé—´ã€ç”¨æˆ·ã€æƒé™"><a href="#è¡¨ç©ºé—´ã€ç”¨æˆ·ã€æƒé™" class="headerlink" title="è¡¨ç©ºé—´ã€ç”¨æˆ·ã€æƒé™"></a>è¡¨ç©ºé—´ã€ç”¨æˆ·ã€æƒé™</h2><p><a href="https://blog.csdn.net/wang_chaodong/article/details/116243090">https://blog.csdn.net/wang_chaodong/article/details/116243090</a></p><pre><code>ä½¿ç”¨sysè´¦å·è¿›è¡Œæ“ä½œ# æŸ¥çœ‹å“ªäº›ç”¨æˆ·æ‹¥æœ‰dbaæƒé™select * from dba_role_privs where granted_role='DBA';# å»æ‰æƒé™revoke dba from ç”¨æˆ·å;# ä¿®æ”¹å¯†ç alter user ç”¨æˆ·ï¼ˆsysï¼‰ identified by å¯†ç ;# æˆæƒgrant connect, resource to ç”¨æˆ·å;</code></pre><h2 id="åˆ›å»ºç”¨æˆ·è§†å›¾"><a href="#åˆ›å»ºç”¨æˆ·è§†å›¾" class="headerlink" title="åˆ›å»ºç”¨æˆ·è§†å›¾"></a>åˆ›å»ºç”¨æˆ·è§†å›¾</h2><blockquote><p>å‘ç¬¬ä¸‰æ–¹æä¾›è§†å›¾ï¼Œéœ€è¦å»ºä¸ªæ–°ç”¨æˆ·ï¼ˆç”¨æˆ·å2ï¼‰ï¼Œå¹¶ä¸”åªæˆæƒè¿™ä¸€ä¸ªè§†å›¾çš„æŸ¥è¯¢æƒé™</p></blockquote><ol><li><p>åˆ›å»ºç”¨æˆ·</p><pre class=" language-mysql"><code class="language-mysql">create user ç”¨æˆ·å2 identified by å¯†ç  default tablespace tbs1 temporary tablespace tbs1_temp profile DEFAULT;</code></pre></li><li><p>æˆæƒï¼ˆä½¿ç”¨sys/systemç”¨æˆ·ï¼‰</p><pre><code>grant connect,resource to ç”¨æˆ·å2;--è¿™ä¸¤ä¸ªæ˜¯æ™®é€šç”¨æˆ·å¿…é¡»è¦çš„ä¸¤ä¸ªæƒé™grant CREATE SYNONYM to ç”¨æˆ·å2;--è¿™ä¸ªä¸ºäº†ä¹‹åæŸ¥è¯¢æ—¶æ–¹ä¾¿ï¼Œåˆ›å»ºåŒä¹‰è¯æƒé™grant select on ç”¨æˆ·å1.è§†å›¾å to ç”¨æˆ·å2;--æˆæƒä¸€å¼ è¡¨/è§†å›¾çš„æŸ¥è¯¢æƒé™</code></pre></li><li><p>åˆ›å»ºåŒä¹‰è¯ï¼ˆä½¿ç”¨ç”¨æˆ·å2ï¼‰</p><pre><code>create synonym è§†å›¾å for ç”¨æˆ·å1.è§†å›¾å;</code></pre></li><li><p>æŸ¥è¯¢å³å¯</p></li></ol><h2 id="è¿æ¥æ•°æŸ¥è¯¢"><a href="#è¿æ¥æ•°æŸ¥è¯¢" class="headerlink" title="è¿æ¥æ•°æŸ¥è¯¢"></a>è¿æ¥æ•°æŸ¥è¯¢</h2><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">--æŸ¥çœ‹å½“å‰è¿æ¥æ•°</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> v$<span class="token keyword">session</span><span class="token comment" spellcheck="true">--æŸ¥çœ‹æœ€å¤§è¿æ¥æ•°</span><span class="token keyword">select</span> <span class="token keyword">value</span> <span class="token keyword">from</span> v$parameter <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'processes'</span> </code></pre><blockquote><p>æŸ¥çœ‹è¿æ¥æ•°æ˜¯å¦å æ»¡ï¼Œå¯¹æ¯”ä¸Šé¢ä¸¤ä¸ªæŸ¥å‡ºæ¥çš„æ•°å³å¯</p></blockquote><ol><li><p>plsqlï¼Œsqlplusè¿æ¥oracleéå¸¸æ…¢ï¼Œå¶å°”èƒ½è¿æ¥ä¸Š</p><p>åŸå› æ˜¯ç›‘å¬æ—¥å¿—è¿‡å¤§,4Gå°é¡¶ï¼Œä¸€èˆ¬windowsè£…çš„oracleä¼šå‡ºç°æ­¤æƒ…å†µ</p><p>è§£å†³ï¼š\app\Administrator\diag\tnslsnr\LSâ€“20171012URU\listener\trace\listener.logï¼Œæ‰¾åˆ°è¯¥è·¯å¾„ï¼Œå¤‡ä»½åˆ°å…¶ä»–åœ°æ–¹ååˆ é™¤æ‰ï¼ˆéœ€è¦å…ˆå…³é—­ç›‘å¬æœåŠ¡TNSListnerï¼‰ã€‚</p></li><li><p>Oracleå¯†ç è¿‡æœŸ, æŠ¥ï¼šORA-01017: ç”¨æˆ·å/å£ä»¤æ— æ•ˆ; ç™»å½•è¢«æ‹’ç»â€¦</p><ol><li><p>é€šè¿‡sysè¿›å…¥ç®¡ç†å‘˜</p></li><li><p>æŸ¥è¯¢å¯†ç æœ‰æ•ˆæœŸæ—¶é—´</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> dba_profiles <span class="token keyword">where</span> profile<span class="token operator">=</span><span class="token string">'DEFAULT'</span> <span class="token operator">and</span> resource_name<span class="token operator">=</span><span class="token string">'PASSWORD_LIFE_TIME'</span><span class="token punctuation">;</span>é»˜è®¤æ˜¯<span class="token number">180</span>å¤©ï¼Œæ”¹æˆæ— é™åˆ¶<span class="token keyword">alter</span> profile <span class="token keyword">default</span> <span class="token keyword">limit</span> password_life_time unlimited<span class="token punctuation">;</span>å†æŸ¥è¯¢ä¸€ä¸‹ï¼Œæ³¨æ„äº‹åŠ¡</code></pre></li><li><p>ä¿®æ”¹æ–°å¯†ç ï¼Œä¸ä¿®æ”¹çš„è¯å¯†ç ä»ç„¶æ˜¯å¤±æ•ˆçš„</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">user</span> æ•°æ®åº“ç”¨æˆ·å identified <span class="token keyword">by</span> æ•°æ®åº“æ–°å¯†ç <span class="token punctuation">;</span></code></pre></li></ol></li><li><p>OracleæŠŠä¸€ä¸ªè¡¨çš„æ•°æ®å¤åˆ¶åˆ°å¦ä¸€ä¸ªè¡¨ä¸­</p><pre class=" language-sql"><code class="language-sql"><span class="token number">1</span>ã€æ–°å¢ä¸€ä¸ªè¡¨ï¼Œé€šè¿‡å¦ä¸€ä¸ªè¡¨çš„ç»“æ„å’Œæ•°æ®ï¼š  <span class="token keyword">create</span> <span class="token keyword">table</span> tab2 <span class="token keyword">as</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab1<span class="token punctuation">;</span><span class="token number">2</span>ã€å¦‚æœè¡¨å­˜åœ¨ï¼š  <span class="token keyword">insert</span> <span class="token keyword">into</span> tab2 <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab1<span class="token punctuation">;</span><span class="token number">3</span>ã€åŒä¸€ä¸ªè¡¨ä¸­ï¼Œå°†Aå­—æ®µçš„å€¼èµ‹ç»™Bå­—æ®µï¼š  <span class="token keyword">update</span> table_name <span class="token keyword">set</span> B <span class="token operator">=</span> A<span class="token punctuation">;</span><span class="token number">4</span>ã€å°†ä¸€ä¸ªè¡¨çš„å­—æ®µæ•°æ®æ’å…¥åˆ°å¦ä¸€ä¸ªè¡¨çš„å­—æ®µæ•°æ®ä¸­  <span class="token keyword">insert</span> <span class="token keyword">into</span> tab2      <span class="token punctuation">(</span>t_code<span class="token punctuation">,</span> t_name<span class="token punctuation">)</span>       <span class="token keyword">select</span> pk_code<span class="token punctuation">,</span> pk_name <span class="token keyword">from</span> tab1<span class="token punctuation">;</span>  <span class="token operator">*</span> å¦‚æœæŠ¥æé†’ï¼šORA<span class="token number">-00928</span>: ç¼ºå¤± <span class="token keyword">select</span> å…³é”®å­—é”™è¯¯ã€‚  åŸå› æ˜¯ï¼šè¿™é‡Œtab1<span class="token punctuation">(</span>Field1<span class="token punctuation">,</span>Field2<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>ä¸èƒ½åŠ å•å¼•å·<span class="token number">5</span><span class="token punctuation">.</span> å¤šä¸ªè¡¨çš„å¤šä¸ªå­—æ®µï¼Œæ’å…¥åŒä¸€ä¸ªè¡¨çš„å¤šä¸ªå­—æ®µã€‚  <span class="token keyword">insert</span> <span class="token keyword">into</span> tab1        <span class="token punctuation">(</span>tab_id<span class="token punctuation">,</span> tab2_name<span class="token punctuation">,</span> tab_code<span class="token punctuation">)</span>         <span class="token keyword">select</span> <span class="token number">a</span><span class="token punctuation">.</span>pk_id<span class="token punctuation">,</span> <span class="token number">b</span><span class="token punctuation">.</span>pk_name<span class="token punctuation">,</span> <span class="token number">b</span><span class="token punctuation">.</span>pk_code          <span class="token keyword">from</span> tab1 <span class="token number">a</span><span class="token punctuation">,</span> tab2 <span class="token number">b</span>          <span class="token keyword">where</span> <span class="token number">a</span><span class="token punctuation">.</span>pk_id <span class="token operator">=</span> <span class="token string">'7777'</span>          <span class="token operator">and</span> <span class="token number">b</span><span class="token punctuation">.</span>pk_code <span class="token operator">=</span> <span class="token string">'12'</span><span class="token punctuation">;</span></code></pre></li><li><p><strong>è¡¨ç©ºé—´å æ»¡</strong>ï¼Œå°†102.57çš„è¶…è¿‡90%çš„æ‰©å®¹</p><ol><li><p>è¿›å…¥102.57ä¸­çš„xydbã€orclå®ä¾‹ï¼Œsysç”¨æˆ·</p></li><li><p>æŸ¥çœ‹è¡¨ç©ºé—´å ç”¨ç‡</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span><span class="token function">mAX</span><span class="token punctuation">(</span>B<span class="token punctuation">.</span>file_id<span class="token punctuation">)</span> id<span class="token punctuation">,</span>B<span class="token punctuation">.</span>TABLESPACE_NAME è¡¨ç©ºé—´<span class="token punctuation">,</span>B<span class="token punctuation">.</span>FILE_NAME ç‰©ç†æ–‡ä»¶å<span class="token punctuation">,</span>B<span class="token punctuation">.</span>BYTES <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">/</span> <span class="token number">1024</span> å¤§å°M<span class="token punctuation">,</span><span class="token punctuation">(</span>B<span class="token punctuation">.</span>BYTES <span class="token operator">-</span> <span class="token function">SUM</span><span class="token punctuation">(</span>NVL<span class="token punctuation">(</span>A<span class="token punctuation">.</span>BYTES<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">/</span> <span class="token number">1024</span> å·²ä½¿ç”¨M<span class="token punctuation">,</span>SUBSTR<span class="token punctuation">(</span><span class="token punctuation">(</span>B<span class="token punctuation">.</span>BYTES <span class="token operator">-</span> <span class="token function">SUM</span><span class="token punctuation">(</span>NVL<span class="token punctuation">(</span>A<span class="token punctuation">.</span>BYTES<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>B<span class="token punctuation">.</span>BYTES<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> åˆ©ç”¨ç‡<span class="token keyword">FROM</span> DBA_FREE_SPACE A<span class="token punctuation">,</span> DBA_DATA_FILES B<span class="token keyword">WHERE</span> A<span class="token punctuation">.</span>FILE_ID <span class="token operator">=</span> B<span class="token punctuation">.</span>FILE_ID<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> B<span class="token punctuation">.</span>TABLESPACE_NAME<span class="token punctuation">,</span> B<span class="token punctuation">.</span>FILE_NAME<span class="token punctuation">,</span> B<span class="token punctuation">.</span>BYTES<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> B<span class="token punctuation">.</span>TABLESPACE_NAME<span class="token punctuation">;</span></code></pre></li><li><p>æ‰©å®¹</p><ol><li><p>æ–¹æ³•ä¸€ï¼ˆå°†åŸç‰©ç†æ–‡ä»¶æ‰©å±•ï¼‰ï¼š</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">--ç‰©ç†æ–‡ä»¶ä¸èƒ½è¶…è¿‡32G</span><span class="token keyword">alter</span> <span class="token keyword">database</span> datafile <span class="token string">'è¡¨ç©ºé—´ä½ç½®'</span> resize æ–°çš„å°ºå¯¸ä¾‹å¦‚ï¼š<span class="token keyword">alter</span> <span class="token keyword">database</span> datafile <span class="token string">'/ora_data/icsdb/system01.dbf'</span> resize 500M<span class="token punctuation">;</span></code></pre></li><li><p>æ–¹æ³•äºŒï¼ˆå¢åŠ ç‰©ç†æ–‡ä»¶ä¸ªæ•°ï¼‰ï¼š</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">tablespace</span> è¡¨ç©ºé—´åç§° <span class="token keyword">add</span> datafile <span class="token string">'æ–°çš„æ•°æ®æ–‡ä»¶åœ°å€'</span> size æ•°æ®æ–‡ä»¶å¤§å°ä¾‹å¦‚ï¼š<span class="token keyword">alter</span>  <span class="token keyword">tablespace</span> system <span class="token keyword">add</span> datafile <span class="token string">'/ora_data/icsdb/system02.dbf'</span> size 1Gï¼›</code></pre></li><li><p>æ–¹æ³•ä¸‰ï¼ˆè®¾ç½®è¡¨ç©ºé—´è‡ªåŠ¨æ‰©å±•ï¼‰ï¼š</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">database</span> datafile <span class="token string">'æ•°æ®æ–‡ä»¶ä½ç½®'</span> autoextend <span class="token keyword">on</span> <span class="token keyword">next</span> è‡ªåŠ¨æ‰©å±•å¤§å° maxsize æœ€å¤§æ‰©å±•å¤§å°ä¾‹å¦‚ï¼š<span class="token keyword">alter</span> <span class="token keyword">database</span> datafile <span class="token string">'/ora_data/icsdb/system02.dbf'</span> autoextend <span class="token keyword">on</span> <span class="token keyword">next</span> 500m maxsize 10000mï¼›</code></pre><blockquote><p>æ‰©å±•ï¼š</p><p>åˆ›å»ºè¡¨ç©ºé—´</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">tablespace</span> è¡¨ç©ºé—´åç§° datafile <span class="token string">'c:\app\gen\oradata\myora\xxx.dbf'</span> size è¡¨ç©ºé—´åˆå§‹å¤§å°100mautoextend <span class="token keyword">on</span> <span class="token keyword">next</span> 1024m maxsize 20480m<span class="token punctuation">;</span></code></pre></blockquote></li></ol></li></ol></li><li></li></ol>]]></content>
      
      
      <categories>
          
          <category> oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VScodeä½¿ç”¨sftpå¿«é€ŸåŒæ­¥æœåŠ¡å™¨æ–‡ä»¶</title>
      <link href="/2021/03/12/util/vscode-shi-yong-sftp-kuai-su-tong-bu-fu-wu-qi-wen-jian/"/>
      <url>/2021/03/12/util/vscode-shi-yong-sftp-kuai-su-tong-bu-fu-wu-qi-wen-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="VScodeä½¿ç”¨sftpå¿«é€ŸåŒæ­¥æœåŠ¡å™¨æ–‡ä»¶"><a href="#VScodeä½¿ç”¨sftpå¿«é€ŸåŒæ­¥æœåŠ¡å™¨æ–‡ä»¶" class="headerlink" title="VScodeä½¿ç”¨sftpå¿«é€ŸåŒæ­¥æœåŠ¡å™¨æ–‡ä»¶"></a>VScodeä½¿ç”¨sftpå¿«é€ŸåŒæ­¥æœåŠ¡å™¨æ–‡ä»¶</h1><blockquote><p>å†™è¿™ä¸€ç‰‡æ–‡ç« çš„ç›®çš„ï¼Œæ˜¯åœ¨å­¦ä¹ Nginxæ—¶éœ€è¦åœ¨Linuxä¸Šä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä½†ä½¿ç”¨vimå‘½ä»¤å¤šæ¬¡ä¿®æ”¹ä¼šæ¯”è¾ƒç¹çã€‚æœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼å¯ä»¥åƒSecureCRTè¿œç¨‹æ“æ§Linuxå‘½ä»¤è¡Œä¸€æ ·ï¼Œæ“ä½œæœåŠ¡å™¨ä¸Šçš„é…ç½®æ–‡ä»¶å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰çš„ï¼ŒVScodeæ˜¯ä¸€ä¸ªååˆ†å¼ºå¤§çš„ç¼–è¾‘å™¨ï¼Œå¯ä»¥é›†æˆå¾ˆå¤šæ’ä»¶ã€‚sftpè¿™ä¸ªæ’ä»¶å°±å¯ä»¥æ»¡è¶³è¿™ä¸€ç‚¹ã€‚</p></blockquote><h2 id="VScodeè®¾ç½®ä¸­æ–‡æ¨¡å¼"><a href="#VScodeè®¾ç½®ä¸­æ–‡æ¨¡å¼" class="headerlink" title="VScodeè®¾ç½®ä¸­æ–‡æ¨¡å¼"></a>VScodeè®¾ç½®ä¸­æ–‡æ¨¡å¼</h2><blockquote><p>ç”±äºæˆ‘çš„VScodeè¿˜æ˜¯è‹±æ–‡ç‰ˆï¼Œåœ¨æ“ä½œå‰æ‰“ç®—æŠŠå®ƒè®¾ç½®æˆä¸­æ–‡ç‰ˆï¼Œæ’ä»¶ä¹Ÿå¯ä»¥æ»¡è¶³è¿™ä¸€éœ€æ±‚ã€‚</p></blockquote><ol><li><p>æ‰“å¼€vscode,ç•Œé¢å¦‚ä¸‹</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312203735.png"></p></li><li><p>å®‰è£…æ’ä»¶çš„æ–¹æ³•ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312203805.png"></p><p>è¾“å…¥Chineseï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªæ’ä»¶ï¼Œè¿›è¡Œå®‰è£…</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312204049.png"></p><p>å®‰è£…å®Œæˆåï¼Œç‚¹å‡»æŒ‰é’®è¿›è¡Œé‡å¯è½¯ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312204125.png"></p><p>å®Œæˆï¼Œç•Œé¢å·²ç»å˜æˆä¸­æ–‡</p></li></ol><h2 id="ä½¿ç”¨sftpå¿«é€ŸåŒæ­¥æœåŠ¡å™¨æ–‡ä»¶"><a href="#ä½¿ç”¨sftpå¿«é€ŸåŒæ­¥æœåŠ¡å™¨æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨sftpå¿«é€ŸåŒæ­¥æœåŠ¡å™¨æ–‡ä»¶"></a>ä½¿ç”¨sftpå¿«é€ŸåŒæ­¥æœåŠ¡å™¨æ–‡ä»¶</h2><ol><li><p>å®‰è£…sftpæ’ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312203931.png"></p></li><li><p>æ·»åŠ ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶å¤¹åˆ°å·¥ä½œåŒº(å‡†å¤‡åŒæ­¥åˆ°æœåŠ¡å™¨ä¸Šçš„)</p><p>æˆ‘è¿™é‡Œé€‰æ‹©äº†æ¡Œé¢</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312204410.png"></p></li><li><p>è¿›è¡Œé…ç½®</p><ol><li><p>æŒ‰F1æˆ–è€…ctrl+shift+pè°ƒå‡ºæœç´¢æ , è¾“å…¥â€sftpâ€, é€‰æ‹©SFTP:Config</p><blockquote><p>å¦‚æœç‚¹å‡»å‡ºç°expect to openâ€¦â€¦ï¼Œæ–‡ä»¶å¹¶æ²¡æœ‰æ‰“å¼€ï¼Œè¯æ˜æ²¡æœ‰å®Œæˆç¬¬äºŒæ­¥ï¼Œéœ€è¦æ‰“å¼€ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶å¤¹åˆ°å·¥ä½œåŒºï¼Œå°±å¯ä»¥æ‰“å¼€</p></blockquote></li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312210026.png"></p><ol start="2"><li>å…·ä½“é…ç½®</li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312210415.png"></p><pre class=" language-json"><code class="language-json"><span class="token punctuation">{</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"My Server"</span><span class="token punctuation">,</span>    <span class="token property">"host"</span><span class="token operator">:</span> <span class="token string">"xxx.xxx.xxx.xxx"</span><span class="token punctuation">,</span>    <span class="token property">"protocol"</span><span class="token operator">:</span> <span class="token string">"sftp"</span><span class="token punctuation">,</span>    <span class="token property">"port"</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>    <span class="token property">"username"</span><span class="token operator">:</span> <span class="token string">"root"</span><span class="token punctuation">,</span>    <span class="token property">"password"</span><span class="token operator">:</span> <span class="token string">"ä½ çš„å¯†ç "</span><span class="token punctuation">,</span>    <span class="token property">"remotePath"</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>    <span class="token property">"uploadOnSave"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"connectTimeout"</span><span class="token operator">:</span> <span class="token number">40000</span><span class="token punctuation">}</span></code></pre><p>ä¿å­˜æ–‡ä»¶ä¹‹åå°±ä¼šè‡ªåŠ¨è¿æ¥ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´å¦‚æœå³ä¸‹è§’å‡ºç°è¿æ¥è¶…æ—¶timeoutï¼Œéœ€è¦åŠ ä¸Š<code>"connectTimeout": 40000</code>ï¼Œé»˜è®¤ä¸º10000</p><blockquote><p>æœ‰å¯èƒ½è¿˜éœ€è¦å°†è¿œç¨‹ç«¯å…³é—­é˜²ç«å¢™ã€‚</p></blockquote><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312210744.png"></p><p>å›¾ä¸­æœ€ä¸‹é¢çš„æŒ‰é’®ï¼Œå°±æ˜¯è¿œç¨‹ç«¯çš„ç•Œé¢ï¼Œè¿æ¥æˆåŠŸä¹‹åå°±å¯ä»¥çœ‹åˆ°è¿œç¨‹ç›®å½•ã€‚</p></li><li><p>ä½¿ç”¨</p><p>åœ¨è¿œç¨‹ç›®å½•ä¸­æ‰¾åˆ°è¦ä¿®æ”¹çš„é…ç½®æ–‡ä»¶ï¼Œè¿›è¡Œä¿®æ”¹ä¹‹åä¿å­˜å°±å¯ä»¥è‡ªåŠ¨åŒæ­¥åˆ°è¿œç¨‹ç«¯ã€‚</p></li></ol><h2 id="VScodeæ‰“å¼€å‘½ä»¤è¡Œ"><a href="#VScodeæ‰“å¼€å‘½ä»¤è¡Œ" class="headerlink" title="VScodeæ‰“å¼€å‘½ä»¤è¡Œ"></a>VScodeæ‰“å¼€å‘½ä»¤è¡Œ</h2><blockquote><p>hexoåšå®¢éƒ¨ç½²ç»å¸¸ä¼šä½¿ç”¨åˆ°gitbashå‘½ä»¤è¡Œï¼Œåœ¨æˆ‘ä»¬ä¿®æ”¹å¥½é…ç½®æ–‡ä»¶åï¼Œå†æ‰“å¼€gitbashå¾ˆéº»çƒ¦ï¼Œå…¶å®vscodeå°±å¯ä»¥å¯åŠ¨å‘½ä»¤è¡Œï¼Œåœ¨ä¸€ä¸ªçª—å£ä¸­å°±å¯ä»¥å®ç°ä¿®æ”¹é…ç½®æ–‡ä»¶å’Œæ‰§è¡Œå‘½ä»¤</p></blockquote><ol><li><p>æ‰“å¼€å·¦ä¾§èµ„æºç®¡ç†å™¨ï¼Œæ‰“å¼€ç›®å½•ï¼ˆè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥åœ¨å·¦ä¾§çœ‹åˆ°åšå®¢çš„ç›®å½•ï¼Œæ–¹ä¾¿éšæ—¶é€‰æ‹©å’Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼‰</p></li><li><p>ç‚¹å‡»ä¸Šæ–¹ç»ˆç«¯-&gt;æ–°å»ºç»ˆç«¯ã€‚ï¼ˆä¼šä»¥åˆšæ‰æ‰“å¼€çš„ç›®å½•ä¸ºè·¯å¾„æ‰“å¼€ä¸€ä¸ªpowershellçª—å£ï¼‰</p></li><li><p>æ‰§è¡Œhexo clï¼Œhexo gï¼Œhexo d</p><blockquote><p>é—®é¢˜ï¼šhexo : æ— æ³•åŠ è½½æ–‡ä»¶ C:\Users\username\AppData\Roaming\npm\hexo.ps1`</p><p>åŸå› ï¼šå‡ºç°hexoå‘½ä»¤æ— æ³•åœ¨powershellçª—å£ä¸­æ‰§è¡Œ</p><p>è§£å†³ï¼š</p><ol><li><p>win+qæ‰“å¼€æœç´¢ï¼Œæœç´¢powershellï¼Œç‚¹å‡»ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</p></li><li><p>è¾“å…¥</p><pre><code>Set-ExecutionPolicy -ExecutionPolicy UNRESTRICTED</code></pre><p>ä¼šæœ‰ä¸€ä¸²å®‰å…¨è­¦ç¤ºï¼Œè¾“å…¥ <code>y</code> å›è½¦ï¼Œç„¶åå°±å¯ä»¥æ„‰å¿«åœ°åœ¨ PowerShell ä¸­ä½¿ç”¨ <code>hexo</code> äº†ã€‚</p></li></ol></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VScode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx</title>
      <link href="/2021/03/07/util/nginx/"/>
      <url>/2021/03/07/util/nginx/</url>
      
        <content type="html"><![CDATA[<h1 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h1><p>æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„åå‘ä»£ç†æœåŠ¡å™¨ï¼Œå¯ä»¥å®ç°åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ã€åŠ¨é™åˆ†ç¦»ç­‰åŠŸèƒ½</p><h2 id="Nginxåœ¨Linuxä¸‹çš„å®‰è£…"><a href="#Nginxåœ¨Linuxä¸‹çš„å®‰è£…" class="headerlink" title="Nginxåœ¨Linuxä¸‹çš„å®‰è£…"></a>Nginxåœ¨Linuxä¸‹çš„å®‰è£…</h2><ol><li><p>éœ€è¦å®‰è£… gcc çš„ç¯å¢ƒ</p><p><code>yum install gcc-c++</code></p></li><li><p>ç¬¬ä¸‰æ–¹çš„å¼€å‘åŒ…</p><p><code>yum install -y pcre pcre-devel</code></p><p><code>yum install -y zlib zlib-devel</code></p><p><code>yum install -y openssl openssl-devel</code></p></li><li><p>ä¸Šä¼ Nginxæ–‡ä»¶</p></li><li><p>è§£å‹ç¼©</p><p><code>tar -zxvf nginx-1.8.0.tar.gz</code></p><p>è¿›å…¥nginx-1.8.0ç›®å½•  ä½¿ç”¨ configure å‘½ä»¤åˆ›å»ºä¸€ makeFile æ–‡ä»¶ã€‚</p><pre><code>./configure \--prefix=/usr/local/nginx \--pid-path=/var/run/nginx/nginx.pid \--lock-path=/var/lock/nginx.lock \--error-log-path=/var/log/nginx/error.log \--http-log-path=/var/log/nginx/access.log \--with-http_gzip_static_module \--http-client-body-temp-path=/var/temp/nginx/client \--http-proxy-temp-path=/var/temp/nginx/proxy \--http-fastcgi-temp-path=/var/temp/nginx/fastcgi \--http-uwsgi-temp-path=/var/temp/nginx/uwsgi \--http-scgi-temp-path=/var/temp/nginx/scgi</code></pre><p>æ‰§è¡Œåå¯ä»¥çœ‹åˆ°Makefileæ–‡ä»¶</p></li><li><p>ç¼–è¯‘</p><p><code>make</code></p></li><li><p>å®‰è£…</p><p><code>make install</code></p><p>æ³¨æ„ï¼šå¯åŠ¨nginx ä¹‹å‰ï¼Œä¸Šè¾¹å°†ä¸´æ—¶æ–‡ä»¶ç›®å½•æŒ‡å®šä¸º/var/temp/nginx/clientï¼Œ éœ€è¦åœ¨/var ä¸‹åˆ›å»ºæ­¤ ç›®å½•</p><p><code>mkdir /var/temp/nginx/client -p</code></p></li><li><p><strong>å¯åŠ¨</strong></p><p><code>cd /usr/local/nginx/sbin</code></p><p><code>./nginx</code></p><p><strong>æŸ¥çœ‹è¿›ç¨‹</strong></p><p><code>ps aux|grep nginx</code></p></li><li><p>è®¿é—®</p><p>é»˜è®¤ä¸º80ç«¯å£ï¼Œå¯ä»¥ç›´æ¥Localhostè®¿é—®</p><p>åœ°å€æ è¾“å…¥è™šæ‹Ÿæœºçš„IPå³å¯è®¿é—®ï¼ˆé»˜è®¤ä¸º80ç«¯å£ï¼‰</p><p><code>192.168.176.128</code></p><blockquote><p>å¦‚æœæ²¡æœ‰è®¿é—®æˆåŠŸï¼Œæœ‰å¯èƒ½æ˜¯å› ä¸ºé˜²ç«å¢™æ²¡æœ‰å…³é—­</p><p>centos7å…³é—­é˜²ç«å¢™ï¼š<code>systemctl stop firewalld</code></p><p>å¦‚æœä¸æƒ³å…³é—­é˜²ç«å¢™ï¼Œå¯ä»¥è®¾ç½®å¼€æ”¾ç«¯å£</p><p><code>firewall-cmd --add-port=8080/tcp --permanent</code></p><p>é‡å¯é˜²ç«å¢™ï¼š<code>firewall-cmd -reload</code></p><p>æŸ¥çœ‹å¼€æ”¾çš„ç«¯å£å·ï¼š<code>firewall-cmd --list-all</code></p></blockquote><p><strong>å…³é—­ï¼š</strong></p><p>â€‹    æ–¹å¼ä¸€ï¼ˆæ€è¿›ç¨‹ï¼‰ï¼š<code>./nginx -s stop</code></p><p>â€‹    æ–¹å¼äºŒï¼ˆé€€å‡ºï¼‰ï¼š<code>./nginx -s quit</code></p><p><strong>é‡å¯ï¼š</strong></p><p>â€‹    <code>./nginx -s reload</code></p><p><strong>æŸ¥çœ‹ç‰ˆæœ¬</strong></p><p>â€‹    <code>./nginx -v</code></p></li></ol><h2 id="Nginxé…ç½®æ–‡ä»¶"><a href="#Nginxé…ç½®æ–‡ä»¶" class="headerlink" title="Nginxé…ç½®æ–‡ä»¶"></a>Nginxé…ç½®æ–‡ä»¶</h2><p>ä½ç½®ï¼š<code>/usr/local/nginx/conf/nginx.conf</code></p><p>é…ç½®æ–‡ä»¶æœ‰ä¸‰éƒ¨åˆ†ç»„æˆ</p><ol><li><p>å…¨å±€å—</p><p>ä»é…ç½®æ–‡ä»¶å¼€å§‹åˆ°eventsé—´çš„åŒºåŸŸ</p><p>ä½œç”¨ï¼šä¸»è¦è®¾ç½®ä¸€äº›å½±å“nginxæœåŠ¡å™¨æ•´ä½“è¿è¡Œçš„é…ç½®æŒ‡ä»¤</p><p><code>worker_processes</code>ï¼šå¤„ç†å¹¶å‘é‡çš„å€¼ï¼Œå€¼è¶Šå¤§å¤„ç†å¹¶å‘é‡è¶Šå¤š</p></li><li><p>eventså—</p><p>ä½œç”¨ï¼šå½±å“NginxæœåŠ¡å™¨ä¸ç”¨æˆ·ç½‘ç»œè¿æ¥</p><p><code>worker_connections</code>ï¼šæ”¯æŒæœ€å¤§çš„è¿æ¥æ•°</p></li><li><p><strong>httpå—</strong></p><p>é…ç½®æœ€é¢‘ç¹çš„éƒ¨åˆ†</p><p>åŒ…æ‹¬httpå…¨å±€å—ã€severå—</p></li></ol><h2 id="éƒ¨ç½²é™æ€é¡µé¢"><a href="#éƒ¨ç½²é™æ€é¡µé¢" class="headerlink" title="éƒ¨ç½²é™æ€é¡µé¢"></a>éƒ¨ç½²é™æ€é¡µé¢</h2><p>ä½œç”¨ï¼šåœ¨nginxæœåŠ¡å™¨ä¸­è®¿é—®é™æ€é¡µé¢</p><ol><li><p>å°†é™æ€é¡µé¢ä¸Šä¼ åˆ°nginxç›®å½•ä¸­</p></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆconf/nginx.confï¼‰</p><pre><code>        location / {            root   index;            index  index.html index.htm;        }# rootä»£è¡¨æ–‡ä»¶å¤¹ï¼Œindexä»£è¡¨é¦–é¡µ#å°†root æ”¹ä¸ºindexï¼ˆè‡ªå·±çš„é™æ€é¡µé¢æ–‡ä»¶å¤¹ï¼‰</code></pre></li></ol><blockquote><p>ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ–¹æ³•ï¼š</p><p>ç”±äºåœ¨linuxä¸Šå¤§é‡ä¿®æ”¹é…ç½®æ–‡ä»¶ä½¿ç”¨vimå‘½ä»¤ä¼šå¾ˆç¹çï¼Œè¿™é‡Œæ¨èä¸€ç§vscodeè¿œç¨‹ä¿®æ”¹ä¸Šä¼ é…ç½®æ–‡ä»¶çš„æ–¹æ³•ã€‚</p><p><a href="https://sulog.top/2021/03/12/util/vscode-shi-yong-sftp-kuai-su-tong-bu-fu-wu-qi-wen-jian/">VScodeä½¿ç”¨sftpå¿«é€ŸåŒæ­¥æœåŠ¡å™¨æ–‡ä»¶</a></p></blockquote><h2 id="é…ç½®è™šæ‹Ÿä¸»æœº"><a href="#é…ç½®è™šæ‹Ÿä¸»æœº" class="headerlink" title="é…ç½®è™šæ‹Ÿä¸»æœº"></a>é…ç½®è™šæ‹Ÿä¸»æœº</h2><h3 id="ç«¯å£ç»‘å®š"><a href="#ç«¯å£ç»‘å®š" class="headerlink" title="ç«¯å£ç»‘å®š"></a>ç«¯å£ç»‘å®š</h3><p>ä½œç”¨ï¼šè¾“å…¥ä¸åŒç«¯å£å·å°±å¯ä»¥è¿›å…¥ä¸åŒé¡µé¢</p><ol><li><p>ä¿®æ”¹nginxé…ç½®æ–‡ä»¶</p><pre class=" language-json"><code class="language-json">server <span class="token punctuation">{</span>    listen       <span class="token number">81</span><span class="token punctuation">;</span> #ç«¯å£å·    server_name  localhost<span class="token punctuation">;</span> #åŸŸåæˆ–è€…Ip    location / <span class="token punctuation">{</span> #è®¿é—®è·¯å¾„é…ç½®        root   index<span class="token punctuation">;</span> #ç›®å½•        index  index.html index.htm<span class="token punctuation">;</span> #é»˜è®¤é¦–é¡µ    <span class="token punctuation">}</span>    error_page   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  /50x.html<span class="token punctuation">;</span> #é”™è¯¯é¡µé¢        location = /50x.html <span class="token punctuation">{</span>        root   html<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>#å¤åˆ¶ä¸¤ä»½serverï¼Œå°±å¯ä»¥æœ‰ä¸¤å°è™šæ‹Ÿä¸»æœºserver <span class="token punctuation">{</span>    listen       <span class="token number">82</span><span class="token punctuation">;</span> #ç«¯å£å·    server_name  localhost<span class="token punctuation">;</span> #åŸŸåæˆ–è€…Ip    location / <span class="token punctuation">{</span> #è®¿é—®è·¯å¾„é…ç½®        root   regist<span class="token punctuation">;</span> #ç›®å½•        index  regist.html regist.htm<span class="token punctuation">;</span> #é»˜è®¤é¦–é¡µ    <span class="token punctuation">}</span>    error_page   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  /50x.html<span class="token punctuation">;</span> #é”™è¯¯é¡µé¢        location = /50x.html <span class="token punctuation">{</span>        root   html<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>é‡å¯nginx</p><p><code>./nginx -s reload</code></p></li><li><p>è®¿é—®é¡µé¢</p><p><code>192.168.179.128:81</code>    æ¥åˆ°ä¸»é¡µ</p><p><code>192.168.179.128:82</code>    æ¥åˆ°æ³¨å†Œé¡µé¢</p></li></ol><h3 id="åŸŸåç»‘å®š"><a href="#åŸŸåç»‘å®š" class="headerlink" title="åŸŸåç»‘å®š"></a>åŸŸåç»‘å®š</h3><p>ä½œç”¨ï¼šè¾“å…¥åŸŸåå°±å¯ä»¥è¿›å…¥é¡µé¢</p><p>ä¸€ä¸ªåŸŸåå¯¹åº”ä¸€ä¸ª ip åœ°å€ï¼Œä¸€ä¸ª ip åœ°å€å¯ä»¥è¢«å¤šä¸ªåŸŸåç»‘å®šã€‚</p><ol><li><p>æœ¬åœ°æµ‹è¯•å¯ä»¥ä¿®æ”¹ hosts æ–‡ä»¶ï¼ˆC:\Windows\System32\drivers\etc\hostï¼‰</p><p><code>192.168.177.129   www.hmtravel.com</code></p><p><code>192.168.177.129   regist.hmtravel.com</code></p></li><li><p>ä¿®æ”¹nginxé…ç½®æ–‡ä»¶</p><pre class=" language-json"><code class="language-json">    server <span class="token punctuation">{</span>        listen       <span class="token number">80</span><span class="token punctuation">;</span> #è¿™é‡Œå…¨é…ç½®æˆ<span class="token number">80</span>        server_name  regist.hmtravel.com<span class="token punctuation">;</span> #ä¿®æ”¹æ­¤å¤„        location / <span class="token punctuation">{</span>            root   regist<span class="token punctuation">;</span>            index  regist.html regist.htm<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    server <span class="token punctuation">{</span>        listen        <span class="token number">80</span><span class="token punctuation">;</span> #è¿™é‡Œå…¨é…ç½®æˆ<span class="token number">80</span>        server_name  www.hmtravel.com<span class="token punctuation">;</span> #ä¿®æ”¹æ­¤å¤„        location / <span class="token punctuation">{</span>            root   index<span class="token punctuation">;</span>            index  index.html index.htm<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span></code></pre></li><li><p>é‡å¯nginx</p><p><code>./nginx -s reload</code></p></li><li><p>è®¿é—®é¡µé¢</p><p><code>www.hmtravel.com</code></p><p><code>regist.hmtravel.com</code></p></li></ol><h2 id="Nginxåå‘ä»£ç†"><a href="#Nginxåå‘ä»£ç†" class="headerlink" title="Nginxåå‘ä»£ç†"></a>Nginxåå‘ä»£ç†</h2><p>ä½œç”¨ï¼šç½‘ç»œå’ŒæœåŠ¡å™¨ä¹‹é—´åŠ ä¸Šnginx</p><blockquote><p>åå‘ä»£ç†æ˜¯æŒ‡ä»¥ä»£ç†æœåŠ¡å™¨æ¥æ¥å—internetä¸Šçš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨</p><p>æ­£å‘ä»£ç†æ˜¯é’ˆå¯¹ä½ çš„å®¢æˆ·ç«¯ï¼Œè€Œåå‘ä»£ç†æ˜¯é’ˆå¯¹æœåŠ¡å™¨çš„</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312160914.png" alt="æ­£å‘ä»£ç†"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312160949.png" alt="åå‘ä»£ç†"></p><p>åå‘ä»£ç†çš„å¥½å¤„ï¼š</p><ol><li>å½“æœåŠ¡å™¨å¹¶å‘é‡å˜å¤§æ—¶ï¼Œæ­å»ºæœåŠ¡å™¨é›†ç¾¤ï¼Œåå‘ä»£ç†èƒ½å°†å¤§å¹¶å‘é‡è½¬ç§»åˆ°åå‘ä»£ç†æœåŠ¡å™¨ä¸Šï¼Œå†ç”±è‡ªå·±æŒ‰ç…§ä¸€å®šè§„åˆ™å°†è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨</li><li>åå‘ä»£ç†æ¥æ”¶æ‰€æœ‰è¯·æ±‚ï¼Œåå‘ä»£ç†æœåŠ¡å™¨å’ŒæœåŠ¡å™¨é›†ç¾¤ä¹‹é—´å¯ä»¥å»ºç«‹é˜²ç«å¢™ï¼Œä»è€Œæé«˜å®‰å…¨æ€§</li></ol></blockquote><h3 id="åº”ç”¨ä¸€"><a href="#åº”ç”¨ä¸€" class="headerlink" title="åº”ç”¨ä¸€"></a>åº”ç”¨ä¸€</h3><p>æ•ˆæœï¼šè®¿é—®<a href="http://www.hmtravel.comæˆ–192.168.179.128:80ï¼Œå®é™…è®¿é—®çš„æ˜¯tomcaté¡µé¢">www.hmtravel.comæˆ–192.168.179.128:80ï¼Œå®é™…è®¿é—®çš„æ˜¯tomcaté¡µé¢</a></p><ol><li><p>ä¿®æ”¹nginxé…ç½®æ–‡ä»¶</p><pre class=" language-json"><code class="language-json">upstream tomcat-travel<span class="token punctuation">{</span>    server <span class="token number">192.168</span>.<span class="token number">179.128</span><span class="token operator">:</span><span class="token number">8080</span><span class="token punctuation">;</span><span class="token punctuation">}</span>server <span class="token punctuation">{</span>    listen       <span class="token number">80</span><span class="token punctuation">;</span>    server_name  www.hmtravel.com<span class="token punctuation">;</span>    location / <span class="token punctuation">{</span>    #root index<span class="token punctuation">;</span> #æ³¨é‡Šæ‰    proxy_pass http<span class="token operator">:</span>//tomcat-travel<span class="token punctuation">;</span> #ä»£ç†ä¸Šé¢çš„ip    index  index.html index.htm<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>é‡å¯nginx</p><p><code>./nginx -s reload</code></p></li><li><p>è®¿é—®é¡µé¢</p><p>è¾“å…¥<code>www.hmtravel.com</code>ï¼Œæ•ˆæœçœ‹åˆ°tomcaté¡µé¢</p><p>æµç¨‹ï¼šè®¿é—®åŸŸå<a href="http://www.hmtravel.com,æ‰¾åˆ°/">www.hmtravel.comï¼Œæ‰¾åˆ°</a> proxy_passä»£ç†tomcat-travelï¼Œtomcat-travelå¯¹åº”çš„æœåŠ¡å™¨æ˜¯192.168.179.128:8080ï¼Œè¿”å›tomcaté¡µé¢</p></li></ol><div class="tip error "> é‡åˆ°çš„å‘1.æ²¡æœ‰è·³è½¬åˆ°tomcaté¡µé¢ï¼Œä»ç„¶è·³è½¬çš„æ˜¯travelé¡µé¢ã€‚    è§£å†³ï¼šæŸ¥çœ‹é…ç½®æ–‡ä»¶ï¼Œrootæœ‰æ²¡æœ‰æ³¨é‡Šæ‰</div><h3 id="åº”ç”¨äºŒ"><a href="#åº”ç”¨äºŒ" class="headerlink" title="åº”ç”¨äºŒ"></a>åº”ç”¨äºŒ</h3><p>æ•ˆæœï¼šè®¿é—®192.168.179.128:9001/edu/index.htmlå’Œ192.168.179.128:9001/dev/index.htmlè®¿é—®çš„æ˜¯ä¸åŒçš„ä¸¤ä¸ªé¡µé¢</p><ol><li><p>ä¿®æ”¹nginxé…ç½®æ–‡ä»¶</p><pre class=" language-json"><code class="language-json">server <span class="token punctuation">{</span>    listen       <span class="token number">9001</span><span class="token punctuation">;</span>#æ­¤å¤„ä¿®æ”¹    server_name  <span class="token number">192.168</span>.<span class="token number">179.128</span><span class="token punctuation">;</span> #æ­¤å¤„ä¿®æ”¹    location ~ /edu/ <span class="token punctuation">{</span> # ~æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„æ„æ€ï¼ŒåŒ…å«eduå°±è·³è½¬æŒ‡å®šé¡µé¢    proxy_pass http<span class="token operator">:</span>//<span class="token number">127.0</span>.<span class="token number">0.1</span><span class="token operator">:</span><span class="token number">8080</span><span class="token punctuation">;</span> è·³è½¬åˆ°æŒ‡å®štomcat<span class="token punctuation">}</span>    location ~ /dev/ <span class="token punctuation">{</span> # ~æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„æ„æ€ï¼ŒåŒ…å«eduå°±è·³è½¬æŒ‡å®šé¡µé¢    proxy_pass http<span class="token operator">:</span>//<span class="token number">127.0</span>.<span class="token number">0.1</span><span class="token operator">:</span><span class="token number">8081</span><span class="token punctuation">;</span> è·³è½¬åˆ°æŒ‡å®štomcat<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><blockquote><p>location åå¯ä»¥è·Ÿå‡ ç§å½¢å¼</p><ol><li><p>= è¡¨ç¤ºuriå¿…é¡»å’Œåé¢çš„ä¿æŒä¸€ç›´æ‰èƒ½è®¿é—®ï¼Œå¦‚ï¼š = /edu/a.htmlï¼Œåˆ™è®¿é—®æ—¶å¿…é¡»æ˜¯192.168.179.128:9001/edu/a.html</p></li><li><p>~ è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŒ…å«å³å¯ï¼Œå¦‚ï¼š~ /edu/ï¼Œåˆ™è®¿é—®æ—¶</p><p>192.168.179.128:9001/edu/a.html,192.168.179.128:9001/edu/b.htmlå‡å¯è®¿é—®</p></li><li><p><del>* è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚ï¼š</del>* /edu/ï¼Œåˆ™è®¿é—®192.168.179.128:9001/EDU/a.html,192.168.179.128:9001/edu/b.htmlå‡å¯è®¿é—®</p></li></ol></blockquote></li><li><p>é‡å¯nginx</p><p><code>./nginx -s reload</code></p></li><li><p>è®¿é—®é¡µé¢</p><p>192.168.179.128:9001/edu/index.html</p><p>192.168.179.128:9001/dev/index.html</p></li></ol><h2 id="Nginxè´Ÿè½½å‡è¡¡"><a href="#Nginxè´Ÿè½½å‡è¡¡" class="headerlink" title="Nginxè´Ÿè½½å‡è¡¡"></a>Nginxè´Ÿè½½å‡è¡¡</h2><blockquote><p>è´Ÿè½½å‡è¡¡ï¼Œå…¶æ„æ€å°±æ˜¯åˆ†æ‘Šåˆ°å¤šä¸ªæ“ä½œå•å…ƒä¸Šè¿›è¡Œæ‰§è¡Œ</p></blockquote><h3 id="é…ç½®è´Ÿè½½å‡è¡¡-å‡†å¤‡å·¥ä½œ"><a href="#é…ç½®è´Ÿè½½å‡è¡¡-å‡†å¤‡å·¥ä½œ" class="headerlink" title="é…ç½®è´Ÿè½½å‡è¡¡-å‡†å¤‡å·¥ä½œ"></a>é…ç½®è´Ÿè½½å‡è¡¡-å‡†å¤‡å·¥ä½œ</h3><ol><li>å°†åˆšæ‰çš„å­˜æ”¾å·¥ç¨‹çš„tomcatå¤åˆ¶ä¸‰ä»½ï¼Œä¿®æ”¹ç«¯å£åˆ†åˆ«ä¸º8080 ï¼Œ8081ï¼Œ8082</li><li>åˆ†åˆ«å¯åŠ¨è¿™ä¸‰ä¸ªtomcatæœåŠ¡</li><li>ä¸ºäº†èƒ½å¤ŸåŒºåˆ†æ˜¯è®¿é—®å“ªä¸ªæœåŠ¡å™¨çš„ç½‘ç«™ï¼Œå¯ä»¥åœ¨é¦–é¡µæ ‡é¢˜åŠ ä¸Šæ ‡è®°ä»¥ä¾¿åŒºåˆ†</li></ol><h3 id="é…ç½®è´Ÿè½½å‡è¡¡"><a href="#é…ç½®è´Ÿè½½å‡è¡¡" class="headerlink" title="é…ç½®è´Ÿè½½å‡è¡¡"></a>é…ç½®è´Ÿè½½å‡è¡¡</h3><p>æ•ˆæœï¼šè®¿é—®192.168.179.128:80ï¼Œè®¿é—®åˆ°8080,8081,8082çš„tomcat</p><ol><li><p>ä¿®æ”¹ Nginxé…ç½®æ–‡ä»¶</p><pre class=" language-json"><code class="language-json">#æ”¾åœ¨httpå—ä¸­ upstream tomcat-travel<span class="token punctuation">{</span>    server <span class="token number">192.168</span>.<span class="token number">179.128</span><span class="token operator">:</span><span class="token number">8080</span><span class="token punctuation">;</span>    server <span class="token number">192.168</span>.<span class="token number">179.128</span><span class="token operator">:</span><span class="token number">8081</span><span class="token punctuation">;</span>    server <span class="token number">192.168</span>.<span class="token number">179.128</span><span class="token operator">:</span><span class="token number">8082</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>ä¿®æ”¹server</p><pre class=" language-json"><code class="language-json">server <span class="token punctuation">{</span>    listen       <span class="token number">80</span><span class="token punctuation">;</span>    server_name  <span class="token number">192.169</span>.<span class="token number">179.128</span><span class="token punctuation">;</span>    location / <span class="token punctuation">{</span>    proxy_pass http<span class="token operator">:</span>//tomcat-travel<span class="token punctuation">;</span> #ä»£ç†ä¸Šé¢çš„ip    index  index.html index.htm<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>è¾“å…¥ç½‘å€è¿›è¡Œæµ‹è¯•</p><p>è§‚å¯Ÿæ ‡é¢˜ï¼Œçœ‹çœ‹æ˜¯å¦ä¸åŒï¼Œç»æµ‹è¯•æ¯å°æœåŠ¡å™¨å‡ºç°çš„æ¦‚ç‡ä¸º33.3%</p></li><li><p>ä¿®æ”¹æƒé‡</p><p>æƒ³è¦è®©æŸå°æœåŠ¡å™¨åˆ†æ‹…æ›´å¤šçš„å‹åŠ›ï¼Œå¯ä»¥åˆ†é…å…¶æƒé‡ï¼Œé»˜è®¤ä¸º1</p><pre class=" language-json"><code class="language-json">upstream tomcat-travel<span class="token punctuation">{</span>    server <span class="token number">192.168</span>.<span class="token number">179.128</span><span class="token operator">:</span><span class="token number">8080</span> weight=<span class="token number">2</span><span class="token punctuation">;</span>    server <span class="token number">192.168</span>.<span class="token number">179.128</span><span class="token operator">:</span><span class="token number">8081</span><span class="token punctuation">;</span>    server <span class="token number">192.168</span>.<span class="token number">179.128</span><span class="token operator">:</span><span class="token number">8082</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312174556.png"></p></li></ol><h3 id="è´Ÿè½½å‡è¡¡ç­–ç•¥"><a href="#è´Ÿè½½å‡è¡¡ç­–ç•¥" class="headerlink" title="è´Ÿè½½å‡è¡¡ç­–ç•¥"></a>è´Ÿè½½å‡è¡¡ç­–ç•¥</h3><ol><li>è½®è¯¢ï¼šå¹³å‡æŒ‰é¡ºåºè®¿é—®ï¼Œå½“ä¸€ä¸ªæœåŠ¡å™¨downæ‰å°±ä¼šè‡ªåŠ¨å‰”é™¤</li><li>æƒé‡ï¼šåœ¨ipåè®¾ç½®æƒé‡<code>weight = 2</code>ï¼ŒæŒ‰ç…§æƒé‡æ¯”ä¾‹è¿›è¡Œè®¿é—®</li><li>ip hashï¼šåœ¨upstreamå—ä¸­åŠ ä¸Šip_hash å³å¯ã€‚æ ¹æ®è®¿é—®ç”¨æˆ·çš„Ipè®¡ç®—å“ˆå¸Œå€¼ï¼Œåˆ™è¯¥ç”¨æˆ·æ°¸è¿œè®¿é—®çš„å°±æ˜¯è¯¥æœåŠ¡å™¨ï¼Œå¯ä»¥æœ‰æ•ˆè§£å†³sessioné—®é¢˜ã€‚</li><li>fairï¼šåœ¨upsteamå—ä¸­åŠ ä¸Šfairå³å¯ã€‚æ ¹æ®ç”¨æˆ·è®¿é—®æœåŠ¡å™¨çš„å“åº”æ—¶é—´ï¼Œå“ªä¸ªæœåŠ¡å™¨å“åº”æ—¶é—´çŸ­å°±è®¿é—®å“ªä¸ªæœåŠ¡å™¨ã€‚</li></ol><h2 id="åŠ¨é™åˆ†ç¦»"><a href="#åŠ¨é™åˆ†ç¦»" class="headerlink" title="åŠ¨é™åˆ†ç¦»"></a>åŠ¨é™åˆ†ç¦»</h2><p>ç®€å•æ¥è¯´å°±æ˜¯æŠŠåŠ¨æ€è¯·æ±‚å’Œé™æ€è¯·æ±‚åˆ†å¼€ï¼Œnginxå¤„ç†é™æ€é¡µé¢ã€‚</p><p>æ•ˆæœï¼šè®¿é—®192.168.179.128:80/image/1.jpgï¼Œè®¿é—®çš„å°±æ˜¯é™æ€èµ„æºæœåŠ¡å™¨ä¸­çš„æ•°æ®ã€‚è®¿é—®192.168.179.128:80â€¦â€¦å…¶ä»–çš„é¡µé¢ï¼Œæ˜¯æ­£å¸¸åå‘ä»£ç†è®¿é—®çš„åŠ¨æ€æ•°æ®</p><ol><li><p>å‡†å¤‡å·¥ä½œ</p><p>å°†é™æ€æ–‡ä»¶æ”¾åˆ°LinuxæœåŠ¡å™¨ä¸­ï¼Œå¦‚/data/image/1.jpg</p></li><li><p>é…ç½®nginxæœåŠ¡å™¨</p><pre class=" language-json"><code class="language-json">#é™æ€èµ„æºæœåŠ¡å™¨server <span class="token punctuation">{</span>    listen       <span class="token number">80</span><span class="token punctuation">;</span>    server_name  <span class="token number">192.169</span>.<span class="token number">179.128</span><span class="token punctuation">;</span>    location /image/ <span class="token punctuation">{</span>    root /data/    #index  index.html index.htm<span class="token punctuation">;</span>    #autoindex on<span class="token punctuation">;</span> #é¡µé¢æ˜¾ç¤ºç›®å½•åˆ—è¡¨<span class="token punctuation">}</span>#åŠ¨æ€èµ„æºæœåŠ¡å™¨ï¼ˆæ­£å¸¸çš„åå‘ä»£ç†ï¼‰server <span class="token punctuation">{</span>    listen       <span class="token number">80</span><span class="token punctuation">;</span>    server_name  <span class="token number">192.169</span>.<span class="token number">179.128</span><span class="token punctuation">;</span>    location / <span class="token punctuation">{</span>    proxy_pass http<span class="token operator">:</span>//<span class="token number">127.0</span>.<span class="token number">0.1</span><span class="token operator">:</span><span class="token number">8080</span><span class="token punctuation">;</span>    index  index.html index.htm<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootè‡ªå®šä¹‰æ‹¦æˆªå™¨å’Œå…¨å±€å¼‚å¸¸å¤„ç†å™¨</title>
      <link href="/2020/12/07/springboot/springboot-zi-ding-yi-lan-jie-qi-he-quan-ju-yi-chang-chu-li-qi/"/>
      <url>/2020/12/07/springboot/springboot-zi-ding-yi-lan-jie-qi-he-quan-ju-yi-chang-chu-li-qi/</url>
      
        <content type="html"><![CDATA[<h1 id="springbootè‡ªå®šä¹‰æ‹¦æˆªå™¨å’Œå…¨å±€å¼‚å¸¸å¤„ç†å™¨"><a href="#springbootè‡ªå®šä¹‰æ‹¦æˆªå™¨å’Œå…¨å±€å¼‚å¸¸å¤„ç†å™¨" class="headerlink" title="springbootè‡ªå®šä¹‰æ‹¦æˆªå™¨å’Œå…¨å±€å¼‚å¸¸å¤„ç†å™¨"></a>springbootè‡ªå®šä¹‰æ‹¦æˆªå™¨å’Œå…¨å±€å¼‚å¸¸å¤„ç†å™¨</h1><p><strong>ä¸€ã€è‡ªå®šä¹‰æ‹¦æˆªå™¨</strong></p><ol start="2"><li>åˆ›å»ºwebçš„å…¨å±€é…ç½®ç±»<ol><li>@Configuration</li><li>ç»§æ‰¿WebMvcConfigurerAdapter</li></ol></li><li></li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token comment" spellcheck="true">//å£°æ˜è¿™æ˜¯ä¸€ä¸ªé…ç½®</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyInterceptor</span> <span class="token keyword">extends</span> <span class="token class-name">WebMvcConfigurerAdapter</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span>InterceptorRegistry registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>        HandlerInterceptor inter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HandlerInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span>HttpServletRequest arg0<span class="token punctuation">,</span> HttpServletResponse arg1<span class="token punctuation">,</span> Object arg2<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è‡ªå®šä¹‰æ‹¦æˆªå™¨......"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span>HttpServletRequest arg0<span class="token punctuation">,</span> HttpServletResponse arg1<span class="token punctuation">,</span> Object arg2<span class="token punctuation">,</span> ModelAndView arg3<span class="token punctuation">)</span>                <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">// TODO Auto-generated method stub</span>            <span class="token punctuation">}</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span>HttpServletRequest arg0<span class="token punctuation">,</span> HttpServletResponse arg1<span class="token punctuation">,</span> Object arg2<span class="token punctuation">,</span> Exception arg3<span class="token punctuation">)</span>                <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">// TODO Auto-generated method stub</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>        registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span>inter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPathPatterns</span><span class="token punctuation">(</span><span class="token string">"/**"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>äºŒã€å…¨å±€å¼‚å¸¸å¤„ç†å™¨</strong></p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å…¨å±€å¼‚å¸¸å¤„ç†å™¨</span><span class="token annotation punctuation">@ControllerAdvice</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalExceptionHandler</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span>Exception<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token keyword">public</span> Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">></span> <span class="token function">handleException</span><span class="token punctuation">(</span>Exception exception<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"errorCode"</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"errorMsg"</span><span class="token punctuation">,</span> exception<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> map<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaä¸­è·å–requestå¯¹è±¡çš„å‡ ç§æ–¹æ³•</title>
      <link href="/2020/12/06/ssm-kuang-jia/java-zhong-huo-qu-request-dui-xiang-de-ji-chong-fang-fa/"/>
      <url>/2020/12/06/ssm-kuang-jia/java-zhong-huo-qu-request-dui-xiang-de-ji-chong-fang-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="Javaä¸­è·å–requestå¯¹è±¡çš„å‡ ç§æ–¹æ³•"><a href="#Javaä¸­è·å–requestå¯¹è±¡çš„å‡ ç§æ–¹æ³•" class="headerlink" title="Javaä¸­è·å–requestå¯¹è±¡çš„å‡ ç§æ–¹æ³•"></a>Javaä¸­è·å–requestå¯¹è±¡çš„å‡ ç§æ–¹æ³•</h1><p>1.é€šè¿‡æ³¨è§£è·å–ï¼ˆå¾ˆç®€å•ï¼Œæ¨èï¼‰ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Autowired</span>     HttpServletRequest request<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//è¿™é‡Œå¯ä»¥è·å–åˆ°request</span><span class="token punctuation">}</span></code></pre><p>2.åœ¨web.xmlä¸­é…ç½®ä¸€ä¸ªç›‘å¬ï¼š</p><blockquote><p>spring bootä¸­ä¸éœ€è¦é…ç½®ç›‘å¬ï¼Œç›´æ¥ä½¿ç”¨ç¬¬äºŒæ­¥è·å¾—è·å–å³å¯ï¼Œè¿˜å¯ä»¥è·å–response</p></blockquote><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">></span></span>         org.springframework.web.context.request.RequestContextListener     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">></span></span></code></pre><p>javaä»£ç ï¼šï¼ˆspringè‡ªå¸¦çš„ï¼Œåœ¨å®é™…ä¸­ç”¨åˆ°è¿‡è¿™ä¸ªï¼Œæ¨èä½¿ç”¨ï¼‰</p><pre class=" language-java"><code class="language-java">HttpServletRequest request <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ServletRequestAttributes<span class="token punctuation">)</span>RequestContextHolder<span class="token punctuation">.</span><span class="token function">getRequestAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>3.ç›´æ¥åœ¨å‚æ•°ä¸­ä¼ é€’ï¼ˆæ­¤æ–¹æ³•ä¸å¥½ç”¨ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼‰ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> String <span class="token function">hello</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">)</span></code></pre><p>4.å¦‚æœæœ‰Strutsï¼š</p><pre class=" language-java"><code class="language-java">HttpServletRequest request <span class="token operator">=</span> ServletActionContext<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ssmæ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨SpringBootä¸­ç”¨SpringAOPå®ç°æ—¥å¿—è®°å½•åŠŸèƒ½</title>
      <link href="/2020/12/05/springboot/zai-springboot-zhong-yong-springaop-shi-xian-ri-zhi-ji-lu-gong-neng/"/>
      <url>/2020/12/05/springboot/zai-springboot-zhong-yong-springaop-shi-xian-ri-zhi-ji-lu-gong-neng/</url>
      
        <content type="html"><![CDATA[<h1 id="åœ¨SpringBootä¸­ç”¨SpringAOPå®ç°æ—¥å¿—è®°å½•åŠŸèƒ½"><a href="#åœ¨SpringBootä¸­ç”¨SpringAOPå®ç°æ—¥å¿—è®°å½•åŠŸèƒ½" class="headerlink" title="åœ¨SpringBootä¸­ç”¨SpringAOPå®ç°æ—¥å¿—è®°å½•åŠŸèƒ½"></a>åœ¨SpringBootä¸­ç”¨SpringAOPå®ç°æ—¥å¿—è®°å½•åŠŸèƒ½</h1><h2 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h2><p>æˆ‘éœ€è¦åœ¨ä¸€ä¸ªSpringBootçš„é¡¹ç›®ä¸­çš„æ¯ä¸ªcontrolleråŠ å…¥ä¸€ä¸ªæ—¥å¿—è®°å½•ï¼Œè®°å½•å…³äºè¯·æ±‚çš„ä¸€äº›ä¿¡æ¯ã€‚</p><p>ä»£ç ç±»ä¼¼äº:</p><p>ã€€ã€€<code>logger.info(request.getRequestUrl());</code></p><p>ä¹‹ç±»çš„ã€‚</p><p>ä»£ç ä¸éš¾ï¼Œä½†ç”±äºControllerçš„æ•°é‡ä¸å°‘ï¼Œå¹²èµ·æ¥ä¹Ÿæ˜¯ä½“åŠ›æ´»ã€‚æ‰€ä»¥æƒ³åˆ°äº†ç”¨Spring AOPæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p><strong>é¦–å…ˆï¼Œåœ¨pomä¸­åŠ å…¥SpringAOPçš„ç›¸å…³ä¾èµ–ï¼š</strong></p><pre><code>&lt;dependency&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;&lt;/dependency&gt;</code></pre><p>springä¸­å®ç°aopï¼Œéœ€è¦@Aspectæ³¨è§£ï¼Œè¦åœ¨springçš„é…ç½®æ–‡ä»¶ä¸­åŠ å…¥</p><p>&lt;aop:aspectj-autoproxy /&gt;æˆ–è€…çº¯æ³¨è§£æ–¹å¼EnableAspectJAutoProxy</p><p>é‚£ä¹ˆæˆ‘ä»¬è¿™é‡Œè¦ä¸è¦åœ¨ç¨‹åºçš„ä¸»ç±»ä¸­å¢åŠ @EnableAspectJAutoProxyæ¥å¯ç”¨å‘¢ï¼Ÿ   å®é™…å¹¶<strong>ä¸éœ€è¦</strong>ï¼Œå¯ä»¥çœ‹ä¸‹é¢å…³äºAOPçš„é»˜è®¤é…ç½®å±æ€§ï¼Œå…¶ä¸­spring.aop.autoå±æ€§é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦å¼•å…¥äº†AOPä¾èµ–åï¼Œé»˜è®¤å·²ç»å¢åŠ äº†@EnableAspectJAutoProxyã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201208002944.png"></p><p>å¥½çš„ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦å¼•å…¥SpringAOPç›¸å…³çš„jaråŒ…ä¾èµ–ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ç›¸å…³çš„Aspetçš„ç¼–ç¨‹äº†ã€‚</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Aspect</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebLogAspect</span> <span class="token punctuation">{</span>        <span class="token keyword">private</span> <span class="token keyword">final</span> Logger logger <span class="token operator">=</span> LoggerFactory<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>WebLogAspect<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span><span class="token string">"execution(public * com.stuPayment.controller..*.*(..))"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//åˆ‡å…¥ç‚¹æè¿° è¿™ä¸ªæ˜¯controlleråŒ…çš„åˆ‡å…¥ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">controllerLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//ç­¾åï¼Œå¯ä»¥ç†è§£æˆè¿™ä¸ªåˆ‡å…¥ç‚¹çš„ä¸€ä¸ªåç§°</span>        <span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span><span class="token string">"execution(public * com.stuPayment.uiController..*.*(..))"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//åˆ‡å…¥ç‚¹æè¿°ï¼Œè¿™ä¸ªæ˜¯uiControlleråŒ…çš„åˆ‡å…¥ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">uiControllerLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>        <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">"controllerLog() || uiControllerLog()"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//åœ¨åˆ‡å…¥ç‚¹çš„æ–¹æ³•runä¹‹å‰è¦å¹²çš„</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">logBeforeController</span><span class="token punctuation">(</span>JoinPoint joinPoint<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        RequestAttributes requestAttributes <span class="token operator">=</span> RequestContextHolder<span class="token punctuation">.</span><span class="token function">getRequestAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¿™ä¸ªRequestContextHolderæ˜¯Springmvcæä¾›æ¥è·å¾—è¯·æ±‚çš„ä¸œè¥¿</span>        HttpServletRequest request <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ServletRequestAttributes<span class="token punctuation">)</span>requestAttributes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">// è®°å½•ä¸‹è¯·æ±‚å†…å®¹</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"################URL : "</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">getRequestURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"################HTTP_METHOD : "</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¯·æ±‚æ–¹å¼get/post</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"################IP : "</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">getRemoteAddr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"################THE ARGS OF THE CONTROLLER : "</span> <span class="token operator">+</span> Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>joinPoint<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//ä¸‹é¢è¿™ä¸ªgetSignature().getDeclaringTypeName()æ˜¯è·å–åŒ…+ç±»åçš„   ç„¶ååé¢çš„joinPoint.getSignature.getName()è·å–äº†æ–¹æ³•å</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"################CLASS_METHOD : "</span> <span class="token operator">+</span> joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaringTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"."</span> <span class="token operator">+</span> joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span></code></pre><h2 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h2><p><strong>@Aspectå’Œ@Component</strong></p><p>é¦–å…ˆï¼Œè¿™ä¸ª@Aspectæ³¨é‡Šå‘Šè¯‰Springè¿™æ˜¯ä¸ªåˆ‡é¢ç±»ï¼Œç„¶å@Compomentå°†è½¬æ¢æˆSpringå®¹å™¨ä¸­çš„beanæˆ–è€…æ˜¯ä»£ç†beanã€‚ æ€»ä¹‹è¦å†™åˆ‡é¢è¿™ä¸¤ä¸ªæ³¨è§£ä¸€èµ·ç”¨å°±æ˜¯äº†ã€‚</p><p>æ—¢ç„¶æ˜¯åˆ‡é¢ç±»ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯åŒ…å«PointCutè¿˜æœ‰Adviceä¸¤ä¸ªè¦ç´ çš„ï¼Œä¸‹é¢å¯¹å‡ ä¸ªæ³¨è§£å±•å¼€è®²æ¥çœ‹çœ‹åœ¨@Aspectä¸­æ˜¯æ€ä¹ˆç¡®å®šåˆ‡å…¥ç‚¹ï¼ˆPointCutï¼‰å’Œå¢å¼ºé€šçŸ¥ï¼ˆAdviceï¼‰çš„ã€‚</p><p><strong>@PointCut(è¡¨è¾¾å¼)</strong></p><p>åˆ‡å…¥ç‚¹ï¼ŒåŒ…å«è¡¨è¾¾å¼ã€ç­¾åä¸¤éƒ¨åˆ†ï¼Œ</p><p>è¡¨è¾¾å¼æ˜¯æ‹¿æ¥ç¡®å®šåˆ‡å…¥ç‚¹çš„ä½ç½®çš„ï¼Œè¯´ç™½äº†å°±æ˜¯é€šè¿‡ä¸€äº›è§„åˆ™æ¥ç¡®å®šï¼Œå“ªäº›æ–¹æ³•æ˜¯è¦å¢å¼ºçš„ï¼Œä¹Ÿå°±æ˜¯è¦æ‹¦æˆªå“ªäº›æ–¹æ³•ã€‚</p><p>ç­¾åå°±æ˜¯æ–¹æ³•åï¼Œæ²¡æœ‰å®é™…ç”¨å¤„ï¼Œå°±æ˜¯å”¯ä¸€æ ‡è¯†</p><p><strong>@Before(ç­¾å/è¡¨è¾¾å¼)</strong></p><p>æ ‡æ³¨åœ¨é€šçŸ¥æ–¹æ³•ä¸Šï¼Œæ ‡è¯†åœ¨æ–¹æ³•å‰æ‰§è¡Œâ€¦â€¦</p><p>ç„¶åçœ‹åˆ°æ³¨è§£ä¸‹é¢çš„æ–¹æ³•ï¼Œå°±æ˜¯æè¿°adviceçš„ï¼Œæˆ‘ä»¬çœ‹åˆ°æœ‰ä¸ªå‚æ•°<strong>JoinPoint</strong>ï¼Œè¿™ä¸ªä¸œè¥¿ä»£è¡¨ç€ç»‡å…¥å¢å¼ºå¤„ç†çš„è¿æ¥ç‚¹ã€‚JoinPointåŒ…å«äº†å‡ ä¸ªå¾ˆæœ‰ç”¨çš„å‚æ•°ï¼š</p><ul><li>Object[] getArgsï¼šè¿”å›ç›®æ ‡æ–¹æ³•çš„å‚æ•°</li><li>Signature getSignatureï¼šè¿”å›ç›®æ ‡æ–¹æ³•çš„ç­¾å</li><li>Object getTargetï¼šè¿”å›è¢«ç»‡å…¥å¢å¼ºå¤„ç†çš„ç›®æ ‡å¯¹è±¡</li><li>Object getThisï¼šè¿”å›AOPæ¡†æ¶ä¸ºç›®æ ‡å¯¹è±¡ç”Ÿæˆçš„ä»£ç†å¯¹è±¡</li></ul><p>é™¤äº†æ³¨è§£@Aroundçš„æ–¹æ³•å¤–ï¼Œå…¶ä»–éƒ½å¯ä»¥åŠ è¿™ä¸ªJoinPointä½œå‚æ•°ã€‚@Aroundæ³¨è§£çš„æ–¹æ³•çš„å‚æ•°ä¸€å®šè¦æ˜¯ProceedingJoinPointï¼Œä¸‹é¢ä¼šä»‹ç»ã€‚</p><p><strong>@Around</strong></p><p>ç¯ç»•é€šçŸ¥ï¼Œå‚æ•°ä¸€å®šè¦æ˜¯ProceedingJoinPointï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒçœ‹ä½œè¢«å¢å¼ºæ–¹æ³•çš„æ›¿èº«ï¼Œè¿™ä¸ªproceedingJoinPointæœ‰ä¸ªproceedï¼ˆï¼‰æ–¹æ³•ï¼Œç›¸å½“äºå°±æ˜¯é‚£åˆ‡å…¥ç‚¹çš„é‚£ä¸ªæ–¹æ³•æ‰§è¡Œï¼Œç®€å•åœ°è¯´å°±æ˜¯è®©ç›®æ ‡æ–¹æ³•æ‰§è¡Œï¼Œç„¶åè¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯é‚£ä¸ªåˆ‡å…¥ç‚¹æ‰€åœ¨ä½ç½®çš„æ–¹æ³•æ‰€è¿”å›çš„å¯¹è±¡ã€‚</p><p><strong>@AfterReturning</strong></p><p>æ‰§è¡Œåé€šçŸ¥ï¼Œè¿™ä¸ªæ³¨è§£å¯ä»¥æŒ‡å®šä¸¤ä¸ªå±æ€§ï¼Œç¬¬ä¸€ä¸ªæ˜¯pointcutåˆ‡å…¥ç‚¹è¡¨è¾¾å¼/ç­¾åï¼Œç¬¬äºŒä¸ªæ˜¯returningå±æ€§ï¼Œè¡¨æ˜å¯ä»¥åœ¨Adviceçš„æ–¹æ³•ä¸­æœ‰ç›®æ ‡æ–¹æ³•è¿”å›å€¼çš„å½¢å‚ã€‚</p><p><strong>@AfterThrowing</strong></p><p>å¼‚å¸¸æŠ›å‡ºå¢å¼ºï¼Œåœ¨å¼‚å¸¸æŠ›å‡ºåç»‡å…¥çš„å¢å¼ºã€‚æœ‰ç‚¹åƒä¸Šé¢çš„@AfterReturningï¼Œè¿™ä¸ªæ³¨è§£ä¹Ÿæ˜¯æœ‰ä¸¤ä¸ªå±æ€§ï¼Œpointcutå’Œthrowingã€‚</p><hr><h2 id="RequestContextHolder"><a href="#RequestContextHolder" class="headerlink" title="RequestContextHolder"></a>RequestContextHolder</h2><p>è¿™é‡Œè¿˜è¦æåˆ°ä¸Šé¢ç”¨åˆ°çš„ä¸€ä¸ªç±»ï¼Œjavaç±»ä¸­æƒ³è¦è·å¾—requestå’Œresponseå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨springmvcæä¾›çš„è¿™ä¸ªç±»ã€‚</p><pre class=" language-java"><code class="language-java">RequestAttributes requestAttributes <span class="token operator">=</span> RequestContextHolder<span class="token punctuation">.</span><span class="token function">currentRequestAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä»sessioné‡Œé¢è·å–å¯¹åº”çš„å€¼</span>String str <span class="token operator">=</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span> requestAttributes<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span>RequestAttributes<span class="token punctuation">.</span>SCOPE_SESSION<span class="token punctuation">)</span><span class="token punctuation">;</span> HttpServletRequest request <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ServletRequestAttributes<span class="token punctuation">)</span>requestAttributes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>HttpServletResponse response <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ServletRequestAttributes<span class="token punctuation">)</span>requestAttributes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>requestèƒ½è·å¾—ä»€ä¹ˆä¿¡æ¯</strong></p><p>è¯·æ±‚URLï¼š<code>request.getRequestURL().toString())</code></p><p>è¯·æ±‚æ–¹å¼(get/post)ï¼š<code>request.getMethod()</code></p><p>è¯·æ±‚IPï¼š<code>request.getRemoteAddr()</code></p><p><strong>joinPointèƒ½è·å¾—ä»€ä¹ˆä¿¡æ¯</strong></p><p>åŒ…åï¼š<code>joinPoint.getSignature().getDeclaringTypeName()</code></p><p>æ–¹æ³•åï¼š<code>joinPoint.getSignature().getName()</code></p><p>æ–¹æ³•å‚æ•°ï¼š<code>joinPoint.getArgs()</code></p>]]></content>
      
      
      <categories>
          
          <category> Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2020/12/03/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-ba-hou-duan-zhi-liu-yan-ban/"/>
      <url>/2020/12/03/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-ba-hou-duan-zhi-liu-yan-ban/</url>
      
        <content type="html"><![CDATA[<h1 id="springbootåšå®¢ï¼ˆå…«ï¼‰ï¼ˆåç«¯ä¹‹ç•™è¨€æ¿ï¼‰"><a href="#springbootåšå®¢ï¼ˆå…«ï¼‰ï¼ˆåç«¯ä¹‹ç•™è¨€æ¿ï¼‰" class="headerlink" title="springbootåšå®¢ï¼ˆå…«ï¼‰ï¼ˆåç«¯ä¹‹ç•™è¨€æ¿ï¼‰"></a>springbootåšå®¢ï¼ˆå…«ï¼‰ï¼ˆåç«¯ä¹‹ç•™è¨€æ¿ï¼‰</h1><h2 id="ç•™è¨€æ¿"><a href="#ç•™è¨€æ¿" class="headerlink" title="ç•™è¨€æ¿"></a>ç•™è¨€æ¿</h2><h3 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201203112243.png"></p><h3 id="åŠŸèƒ½åˆ†æ"><a href="#åŠŸèƒ½åˆ†æ" class="headerlink" title="åŠŸèƒ½åˆ†æ"></a>åŠŸèƒ½åˆ†æ</h3><ol><li>å’Œè¯„è®ºç±»ä¼¼</li><li>å¯¹ç«™ç‚¹è¿›è¡Œç•™è¨€ï¼Œå›å¤</li><li>ç•™è¨€æ˜¾ç¤º<ol><li>æŸ¥è¯¢ç•™è¨€åˆ—è¡¨çš„æ—¶å€™ï¼Œéœ€è¦å°†ç•™è¨€å’Œå›å¤åŠ ä»¥åŒºåˆ†ï¼Œæ ¹æ®ç•™è¨€åŠŸèƒ½æ¥çœ‹ï¼Œæœ‰çˆ¶ç•™è¨€ã€å­ç•™è¨€ï¼ˆå›å¤ï¼‰ï¼Œå¹¶ä¸”çˆ¶å­ç•™è¨€åœ¨å‰ç«¯æ˜¾ç¤ºçš„ä½ç½®æœ‰ä¸åŒï¼Œè¿™é‡Œç»†è¯´ä¸€ä¸‹æŸ¥è¯¢ï¼š<ul><li>æ ¹æ®idä¸ºâ€œ-1â€å’Œåšå®¢idæŸ¥è¯¢å‡ºæ‰€æœ‰çˆ¶ç•™è¨€ï¼ˆçˆ¶çº§ç•™è¨€idä¸ºâ€˜-1â€™ï¼‰</li><li>æ ¹æ®çˆ¶ç•™è¨€çš„idæŸ¥è¯¢å‡ºä¸€çº§å­å›å¤</li><li>æ ¹æ®å­å›å¤çš„idå¾ªç¯è¿­ä»£æŸ¥è¯¢å‡ºæ‰€æœ‰å­é›†å›å¤</li><li>å°†æŸ¥è¯¢å‡ºæ¥çš„å­å›å¤æ”¾åˆ°ä¸€ä¸ªé›†åˆä¸­</li></ul></li></ol></li></ol><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><ol><li><p>ç¼–å†™repository</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MessageRepository</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token operator">&lt;</span>Message<span class="token punctuation">,</span>Long<span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//æŸ¥æ‰¾çˆ¶çº§ç•™è¨€</span>    List<span class="token operator">&lt;</span>Message<span class="token operator">></span> <span class="token function">findAllByParentMessageNull</span><span class="token punctuation">(</span>Sort sort<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>ç¼–å†™service</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æŸ¥æ‰¾ç•™è¨€ä¿¡æ¯</span>List<span class="token operator">&lt;</span>Message<span class="token operator">></span> <span class="token function">listMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¿å­˜ç•™è¨€ä¿¡æ¯</span>Message <span class="token function">saveMessage</span><span class="token punctuation">(</span>Message message<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> List<span class="token operator">&lt;</span>Message<span class="token operator">></span> <span class="token function">listMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    Sort sort <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sort</span><span class="token punctuation">(</span>Sort<span class="token punctuation">.</span>Direction<span class="token punctuation">.</span>DESC<span class="token punctuation">,</span><span class="token string">"createTime"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    List<span class="token operator">&lt;</span>Message<span class="token operator">></span> parentMessage <span class="token operator">=</span> messageRepository<span class="token punctuation">.</span><span class="token function">findAllByParentMessageNull</span><span class="token punctuation">(</span>sort<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æŸ¥æ‰¾çˆ¶çº§ç•™è¨€</span>    <span class="token keyword">return</span> <span class="token function">eachMessage</span><span class="token punctuation">(</span>parentMessage<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è°ƒç”¨æ–¹æ³•</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> Message <span class="token function">saveMessage</span><span class="token punctuation">(</span>Message message<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Long parentMessageId <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">getParentMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å‰ç«¯ä¼ æ¥çš„æ˜¯-1æˆ–è€…å›å¤æ˜¯ä¼ æ¥çš„çˆ¶id</span>    <span class="token comment" spellcheck="true">//å‰ç«¯åªä¼ æ¥çš„id,æˆ‘ä»¬éœ€è¦å­˜æ”¾çš„æ˜¯messageå¯¹è±¡ï¼Œæ‰€ä»¥è¿›è¡Œä»¥ä¸‹æ“ä½œ</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>parentMessageId <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//æœ‰çˆ¶çº§</span>        message<span class="token punctuation">.</span><span class="token function">setParentMessage</span><span class="token punctuation">(</span>messageRepository<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span>parentMessageId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        message<span class="token punctuation">.</span><span class="token function">setParentMessage</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    message<span class="token punctuation">.</span><span class="token function">setCreateTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Message m <span class="token operator">=</span> messageRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> m<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*    å°†æ•°æ®å¦å¤–å­˜åœ¨ä¸€ä¸ªlistä¸­ï¼Œé¿å…æ”¹å˜è¡¨ä¸­æ•°æ®     */</span><span class="token keyword">private</span> List<span class="token operator">&lt;</span>Message<span class="token operator">></span> <span class="token function">eachMessage</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>Message<span class="token operator">></span> parents<span class="token punctuation">)</span><span class="token punctuation">{</span>    List<span class="token operator">&lt;</span>Message<span class="token operator">></span> messageView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Message parent <span class="token operator">:</span> parents<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//éå†çˆ¶ç•™è¨€</span>        Message m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Message</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        BeanUtils<span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>        messageView<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åŠ åˆ°é›†åˆä¸­</span>    <span class="token punctuation">}</span>    <span class="token function">combineChildren</span><span class="token punctuation">(</span>messageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è°ƒç”¨æ–¹æ³•</span>    <span class="token keyword">return</span> messageView<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*    éå†æ‰€æœ‰ä¸€çº§å­å›å¤     */</span><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">combineChildren</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>Message<span class="token operator">></span> messages<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>Message parent<span class="token operator">:</span> messages<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//éå†çˆ¶ç•™è¨€</span>        List<span class="token operator">&lt;</span>Message<span class="token operator">></span> firstChilds <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token function">getReplayMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å¾—ä¸€çº§å­ç•™è¨€</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>Message firstChild <span class="token operator">:</span> firstChilds<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//éå†å­ç•™è¨€</span>            <span class="token function">recursively</span><span class="token punctuation">(</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è°ƒç”¨æ–¹æ³•</span>        <span class="token punctuation">}</span>        parent<span class="token punctuation">.</span><span class="token function">setReplayMessage</span><span class="token punctuation">(</span>temReplys<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å°†æ‰€æœ‰å­ç•™è¨€ï¼ŒåŠ å…¥åˆ°çˆ¶ç•™è¨€ä¸­</span>        temReplys <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ¸…ç©ºä¸´æ—¶å­˜æ”¾å­ç•™è¨€çš„é›†åˆ</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">private</span> List<span class="token operator">&lt;</span>Message<span class="token operator">></span> temReplys <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¸´æ—¶å­˜æ”¾å­ç•™è¨€çš„é›†åˆ</span><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">recursively</span><span class="token punctuation">(</span>Message firstChild<span class="token punctuation">)</span><span class="token punctuation">{</span>    temReplys<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å°†ä¸€çº§å­ç•™è¨€å­˜æ”¾è¿›ä¸´æ—¶é›†åˆä¸­</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>firstChild<span class="token punctuation">.</span><span class="token function">getReplayMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å¦‚æœä¸€çº§å­ç•™è¨€è¿˜æœ‰å­ç•™è¨€</span>        List<span class="token operator">&lt;</span>Message<span class="token operator">></span> nextChilds <span class="token operator">=</span> firstChild<span class="token punctuation">.</span><span class="token function">getReplayMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å¾—äºŒçº§å­ç•™è¨€</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>Message nextChild <span class="token operator">:</span> nextChilds<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//éå†äºŒçº§å­ç•™è¨€</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>nextChild<span class="token punctuation">.</span><span class="token function">getReplayMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å¦‚æœäºŒçº§å­ç•™è¨€è¿˜æœ‰å­ç•™è¨€</span>                <span class="token function">recursively</span><span class="token punctuation">(</span>nextChild<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¿­ä»£ï¼ˆäºŒçº§åŠ å…¥ä¸´æ—¶é›†åˆä¸­ï¼Œå†çœ‹æœ‰æ²¡æœ‰æ›´å¤šçš„å­ç•™è¨€ï¼‰</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>ç¼–å†™controller</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${comment.avatar}"</span><span class="token punctuation">)</span><span class="token keyword">private</span> String avatar<span class="token punctuation">;</span><span class="token comment" spellcheck="true">/*    è·³è½¬åˆ°ç•™è¨€é¡µé¢     */</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/message"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"message"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*    ç‰‡æ®µåˆ·æ–°     */</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/messagecomment"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">messageComment</span><span class="token punctuation">(</span>Model model<span class="token punctuation">)</span><span class="token punctuation">{</span>    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"messages"</span><span class="token punctuation">,</span>messageService<span class="token punctuation">.</span><span class="token function">listMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"message :: messageList"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*    ä¿å­˜ç•™è¨€     */</span><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/message"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">post</span><span class="token punctuation">(</span>Message message<span class="token punctuation">,</span> HttpSession session<span class="token punctuation">)</span><span class="token punctuation">{</span>    User user <span class="token operator">=</span> <span class="token punctuation">(</span>User<span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>user <span class="token operator">!=</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//æ˜¯ç®¡ç†å‘˜</span>        message<span class="token punctuation">.</span><span class="token function">setAvatar</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getAvatar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        message<span class="token punctuation">.</span><span class="token function">setAdminMessage</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        message<span class="token punctuation">.</span><span class="token function">setAvatar</span><span class="token punctuation">(</span>avatar<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    messageService<span class="token punctuation">.</span><span class="token function">saveMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"redirect:/messagecomment"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>å‰ç«¯æ¸²æŸ“</p><p>```html</p><!-- æ–°å¢ç•™è¨€--><input type="hidden" name="parentMessage.id" value="-1"><input type="text" name="nickname" placeholder="Id" th:value="${session.user}!=null ? ${session.user.nickname}"><input type="text" name="email" placeholder="Email" th:value="${session.user}!=null ? ${session.user.email}"><!--ç•™è¨€åŒº--><div class="comment" th:each="message : ${messages}">    <a class="avatar">        <img src="/2020/12/03/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-ba-hou-duan-zhi-liu-yan-ban/static/image/avatar.png" th:src="@{${message.avatar}}">    </a>    <div class="content">        <a class="author">            <span th:text="${message.nickname}">Matt</span>            <div class="ui mini basic teal left pointing label m-padded-mini" th:if="${message.adminMessage}">åšä¸»</div>        </a>        <div class="metadata">            </div></div></div></li></ol>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
            <tag> ä¸ªäººåšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootåšå®¢ï¼ˆä¸ƒï¼‰ï¼ˆåç«¯ä¹‹éŸ³ä¹ç›’/å‰ç«¯é¡µé¢ä¼˜åŒ–ï¼‰</title>
      <link href="/2020/12/02/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-qi-hou-duan-zhi-yin-le-he-qian-duan-ye-mian-you-hua/"/>
      <url>/2020/12/02/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-qi-hou-duan-zhi-yin-le-he-qian-duan-ye-mian-you-hua/</url>
      
        <content type="html"><![CDATA[<h1 id="springbootåšå®¢ï¼ˆä¸ƒï¼‰ï¼ˆåç«¯ä¹‹éŸ³ä¹ç›’-å‰ç«¯é¡µé¢ä¼˜åŒ–ï¼‰"><a href="#springbootåšå®¢ï¼ˆä¸ƒï¼‰ï¼ˆåç«¯ä¹‹éŸ³ä¹ç›’-å‰ç«¯é¡µé¢ä¼˜åŒ–ï¼‰" class="headerlink" title="springbootåšå®¢ï¼ˆä¸ƒï¼‰ï¼ˆåç«¯ä¹‹éŸ³ä¹ç›’/å‰ç«¯é¡µé¢ä¼˜åŒ–ï¼‰"></a>springbootåšå®¢ï¼ˆä¸ƒï¼‰ï¼ˆåç«¯ä¹‹éŸ³ä¹ç›’/å‰ç«¯é¡µé¢ä¼˜åŒ–ï¼‰</h1><h2 id="éŸ³ä¹ç›’"><a href="#éŸ³ä¹ç›’" class="headerlink" title="éŸ³ä¹ç›’"></a>éŸ³ä¹ç›’</h2><h3 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201202155624.png"></p><h3 id="åŠŸèƒ½åˆ†æ"><a href="#åŠŸèƒ½åˆ†æ" class="headerlink" title="åŠŸèƒ½åˆ†æ"></a>åŠŸèƒ½åˆ†æ</h3><ol><li>éŸ³ä¹æ’­æ”¾</li></ol><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><ol><li><p>æ­å»ºé¡µé¢</p><p>ç›´æ¥å¥—ç”¨å›¾ç‰‡å¢™çš„ç½‘é¡µï¼ŒåŠ ä¸Šç½‘æ˜“äº‘çš„é“¾æ¥å³å¯</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>no<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">marginwidth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">marginheight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span>800</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span>400</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>//music.163.com/outchain/player?type<span class="token punctuation">=</span>0&amp;id<span class="token punctuation">=</span>2153548870&amp;auto<span class="token punctuation">=</span>1&amp;height<span class="token punctuation">=</span>430<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span></code></pre><blockquote><p>ç½‘æ˜“äº‘éŸ³ä¹é“¾æ¥è·å–ï¼š</p><ol><li>è¿›å…¥é¡µé¢é€‰æ‹©å–œæ¬¢çš„æ­Œå•</li><li>ç‚¹å‡»ç”Ÿæˆå¤–éƒ¨é“¾æ¥</li><li>æœ‰çš„æ­Œå•å› ä¸ºç‰ˆæƒåŸå› ä¸èƒ½ç”Ÿæˆï¼Œå¤šæ‰¾å‡ ä¸ªè¯•ä¸€ä¸‹</li></ol></blockquote></li><li><p>ç¼–å†™controller</p><ol><li>è·³è½¬åˆ°éŸ³ä¹ç›’ç•Œé¢</li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/music"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">music</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"music"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li></ol><h2 id="é¡µé¢åŠŸèƒ½ä¼˜åŒ–"><a href="#é¡µé¢åŠŸèƒ½ä¼˜åŒ–" class="headerlink" title="é¡µé¢åŠŸèƒ½ä¼˜åŒ–"></a>é¡µé¢åŠŸèƒ½ä¼˜åŒ–</h2><h3 id="index-htmlé¡µé¢"><a href="#index-htmlé¡µé¢" class="headerlink" title="index.htmlé¡µé¢"></a>index.htmlé¡µé¢</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201202180930.png"></p><blockquote><ol><li>é¡¶éƒ¨å›¾ç‰‡ç¾åŒ–</li><li>å›¾æ ‡æ˜¾ç¤ºä¿¡æ¯</li><li>å¯¼èˆªéšè—å›æ˜¾</li></ol></blockquote><pre class=" language-html"><code class="language-html">// æ˜¾ç¤ºå¾®ä¿¡$('.wechat').popup({    popup : $('.wechat-qr'),    position: 'bottom center'});// æ˜¾ç¤ºé‚®ç®±$('.email').popup();// å¯¼èˆªæ æ˜¾ç¤ºvar waypoint = new Waypoint({      element: document.getElementById('waypoint'),      handler: function(direction) {        if (direction == 'down') {          $('#nav').show(500);        } else {          $('#nav').hide(500);        }        console.log('Scrolled to waypoint!  ' + direction);      }    })</code></pre><h3 id="é¡¶éƒ¨å›¾ç‰‡"><a href="#é¡¶éƒ¨å›¾ç‰‡" class="headerlink" title="é¡¶éƒ¨å›¾ç‰‡"></a>é¡¶éƒ¨å›¾ç‰‡</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201202180750.png"></p><p>åˆ†ç±»ã€æ ‡ç­¾ã€å½’æ¡£ã€æœç´¢ã€éŸ³ä¹ã€å›¾ç‰‡ã€å‹é“¾ã€åšå®¢è¯¦æƒ…ã€å…³äºæˆ‘</p><p>å…¨éƒ¨åŠ ä¸Šäº†é¡¶éƒ¨å›¾ç‰‡ï¼Œå¹¶ä¸”è®¾ç½®ä¸ºåŠ¨æ€å›¾ç‰‡è·å–</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-bg-type_outer<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">40%</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://api.ixiaowai.cn/gqapi/gqapi.php<span class="token punctuation">"</span></span>  <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui m-bg image<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-bg-class_cover<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui container<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">position</span><span class="token punctuation">:</span> relative <span class="token punctuation">;</span><span class="token property">bottom</span><span class="token punctuation">:</span> -<span class="token number">540</span>px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-font-size-title m-right-bottom<span class="token punctuation">"</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-family</span><span class="token punctuation">:</span><span class="token string">'STXingkai'</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>åšå®¢åˆ†ç±»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-font-size-text-init-title m-margin-top<span class="token punctuation">"</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è®°å¿†æ˜¯ä¸€ç§ç›¸èšçš„æ–¹å¼ï¼Œæ”¾ä¸‹æ˜¯ä¸€ç§è‡ªç”±çš„å½¢å¼ã€‚ä¸å¿…æ‚²ä¼¤ï¼Œä¸å¿…å¿§æ„ï¼Œé‚‚é€…çš„å›å¿†éƒ½æ˜¯ç¾å¥½çš„æ•…äº‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><h3 id="å½’æ¡£"><a href="#å½’æ¡£" class="headerlink" title="å½’æ¡£"></a>å½’æ¡£</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201202180841.png"></p><p>ä½¿ç”¨timelineæ’ä»¶</p><ol><li><p>åœ¨<code>lib</code>ä¸­åŠ å…¥timelineçš„jsï¼Œ<code>css</code>ä¸­åŠ å…¥css</p></li><li><p>åŠ å…¥é“¾æ¥</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/css/timeline.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/timeline.css}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/lib/timeline/timeline.js<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/lib/timeline/timeline.js}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre></li><li><p>ä¸­é—´å†…å®¹</p><p>```html</p><div class="doc-container m-padded-tb-massive m-opacity" id="doc-container">    <th:block th:each="item : ${archiveMap}">        <section class="timeline">            <ul>                <li class="" th:each="blog : ${item.value}">                    <div>                        </div></li></ul></section></th:block></div></li></ol>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
            <tag> ä¸ªäººåšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootåšå®¢ï¼ˆå…­ï¼‰ï¼ˆåç«¯ä¹‹å‹é“¾/ç›¸å†Œï¼‰</title>
      <link href="/2020/12/01/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-liu-hou-duan-zhi-you-lian-xiang-ce/"/>
      <url>/2020/12/01/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-liu-hou-duan-zhi-you-lian-xiang-ce/</url>
      
        <content type="html"><![CDATA[<h1 id="springbootåšå®¢ï¼ˆå…­ï¼‰ï¼ˆåç«¯ä¹‹å‹é“¾-ç›¸å†Œï¼‰"><a href="#springbootåšå®¢ï¼ˆå…­ï¼‰ï¼ˆåç«¯ä¹‹å‹é“¾-ç›¸å†Œï¼‰" class="headerlink" title="springbootåšå®¢ï¼ˆå…­ï¼‰ï¼ˆåç«¯ä¹‹å‹é“¾/ç›¸å†Œï¼‰"></a>springbootåšå®¢ï¼ˆå…­ï¼‰ï¼ˆåç«¯ä¹‹å‹é“¾/ç›¸å†Œï¼‰</h1><h2 id="å‹æƒ…é“¾æ¥"><a href="#å‹æƒ…é“¾æ¥" class="headerlink" title="å‹æƒ…é“¾æ¥"></a>å‹æƒ…é“¾æ¥</h2><h3 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201202020214.png"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201202020235.png"></p><h3 id="åŠŸèƒ½åˆ†æ"><a href="#åŠŸèƒ½åˆ†æ" class="headerlink" title="åŠŸèƒ½åˆ†æ"></a>åŠŸèƒ½åˆ†æ</h3><ol><li>å¯¹å‹é“¾çš„å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥æ‰¾</li><li>ä¿®æ”¹æ—¶å›æ˜¾æ•°æ®</li><li>æ·»åŠ æ—¶åˆ¤æ–­æ˜¯å¦ç›¸åŒ</li></ol><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><h4 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h4><ol><li><p>ç¼–å†™å®ä½“ç±»ï¼Œç”Ÿæˆæ•°æ®åº“</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Id</span><span class="token annotation punctuation">@GeneratedValue</span><span class="token keyword">private</span> Long id<span class="token punctuation">;</span><span class="token keyword">private</span> String blogaddress<span class="token punctuation">;</span><span class="token keyword">private</span> String blogname<span class="token punctuation">;</span><span class="token annotation punctuation">@Temporal</span><span class="token punctuation">(</span>TemporalType<span class="token punctuation">.</span>TIMESTAMP<span class="token punctuation">)</span><span class="token keyword">private</span> Date createTime<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åˆ›å»ºæ—¶é—´</span><span class="token keyword">private</span> String pictureaddress<span class="token punctuation">;</span></code></pre></li><li><p>æ­å»ºå‹é“¾æ·»åŠ ã€å‹é“¾æ˜¾ç¤ºé¡µé¢</p></li><li><p>ç¼–å†™service</p><ol><li>æŸ¥æ‰¾æ‰€æœ‰</li><li>é€šè¿‡idæŸ¥æ‰¾ä¸€ä¸ª</li><li>åˆ†é¡µæŸ¥æ‰¾</li><li>ä¿å­˜</li><li>ä¿®æ”¹</li><li>åˆ é™¤</li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> List<span class="token operator">&lt;</span>FriendLink<span class="token operator">></span> <span class="token function">listFriendLinks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> friendLinkRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> FriendLink <span class="token function">saveFriendLink</span><span class="token punctuation">(</span>FriendLink friendLink<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> friendLinkRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>friendLink<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> FriendLink <span class="token function">getFriendLink</span><span class="token punctuation">(</span>Long id<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> friendLinkRepository<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> Page<span class="token operator">&lt;</span>FriendLink<span class="token operator">></span> <span class="token function">listFriendLink</span><span class="token punctuation">(</span>Pageable pageable<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> friendLinkRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span>pageable<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> FriendLink <span class="token function">updateFriendLink</span><span class="token punctuation">(</span>Long id<span class="token punctuation">,</span> FriendLink friendLink<span class="token punctuation">)</span> <span class="token punctuation">{</span>    FriendLink f <span class="token operator">=</span> friendLinkRepository<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>f <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NotFindException</span><span class="token punctuation">(</span><span class="token string">"å‹é“¾ä¸å­˜åœ¨ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    BeanUtils<span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>friendLink<span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> f<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteFriendLink</span><span class="token punctuation">(</span>Long id<span class="token punctuation">)</span> <span class="token punctuation">{</span>    friendLinkRepository<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>ç¼–å†™repository</p></li><li><p>ç¼–å†™controller</p><ol><li>friend<ol><li>è·³è½¬åˆ°å‹é“¾ç®¡ç†é¡µé¢</li><li>åˆ†é¡µæŸ¥è¯¢ä¿å­˜åˆ°modelä¸­</li></ol></li><li>input<ol><li>è·³è½¬åˆ°å‹é“¾æ–°å¢é¡µé¢</li><li>newä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸ºäº†å›æ˜¾ä¸æŠ¥é”™</li></ol></li><li>post<ol><li>å‹é“¾æ–°å¢</li><li>å‘RedirectAttributesä¸­å¢åŠ æç¤ºæ¶ˆæ¯</li><li>é‡å®šå‘åˆ°friendçš„è¯·æ±‚ä¸­</li></ol></li><li>editInput<ol><li>è·³è½¬åˆ°å‹é“¾ä¿®æ”¹é¡µé¢</li><li>å‘modelä¸­å­˜å‚¨friendLinkå¯¹è±¡</li></ol></li><li>editPost<ol><li>å‹é“¾ä¿®æ”¹</li><li>å‘RedirectAttributesä¸­å¢åŠ æç¤ºæ¶ˆæ¯</li><li>é‡å®šå‘åˆ°friendçš„è¯·æ±‚ä¸­</li></ol></li><li>delete<ol><li>å‹é“¾åˆ é™¤</li><li>å‘RedirectAttributesä¸­å¢åŠ æç¤ºæ¶ˆæ¯</li><li>é‡å®šå‘åˆ°friendçš„è¯·æ±‚ä¸­</li></ol></li></ol><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//è·³è½¬åˆ°å‹é“¾ç®¡ç†é¡µé¢</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/friendlinks"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">friend</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PageableDefault</span><span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>sort <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"id"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>direction <span class="token operator">=</span> Sort<span class="token punctuation">.</span>Direction<span class="token punctuation">.</span>DESC<span class="token punctuation">)</span> Pageable pageable<span class="token punctuation">,</span>                     Model model<span class="token punctuation">)</span><span class="token punctuation">{</span>    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"page"</span><span class="token punctuation">,</span>friendLinkService<span class="token punctuation">.</span><span class="token function">listFriendLink</span><span class="token punctuation">(</span>pageable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"admin/friendlinks"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//è·³è½¬åˆ°å‹é“¾æ–°å¢é¡µé¢</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/friendlinks/input"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">input</span><span class="token punctuation">(</span>Model model<span class="token punctuation">)</span><span class="token punctuation">{</span>    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"friendlink"</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">FriendLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"admin/friendlinks-input"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//è·³è½¬åˆ°ç¼–è¾‘é¡µé¢</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/friendlinks/{id}/input"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">edit</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> Long id<span class="token punctuation">,</span>Model model<span class="token punctuation">)</span><span class="token punctuation">{</span>    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"friendlink"</span><span class="token punctuation">,</span>friendLinkService<span class="token punctuation">.</span><span class="token function">getFriendLink</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"admin/friendlinks-input"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//å‹é“¾æ–°å¢æ“ä½œ</span><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/friendlinks"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">post</span><span class="token punctuation">(</span>FriendLink friendLink<span class="token punctuation">,</span>RedirectAttributes attributes<span class="token punctuation">)</span><span class="token punctuation">{</span>    friendLink<span class="token punctuation">.</span><span class="token function">setCreateTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    FriendLink F <span class="token operator">=</span> friendLinkService<span class="token punctuation">.</span><span class="token function">saveFriendLink</span><span class="token punctuation">(</span>friendLink<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>F <span class="token operator">==</span> null <span class="token punctuation">)</span> <span class="token punctuation">{</span>        attributes<span class="token punctuation">.</span><span class="token function">addFlashAttribute</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token string">"æ–°å¢å¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        attributes<span class="token punctuation">.</span><span class="token function">addFlashAttribute</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token string">"æ–°å¢æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token string">"redirect:/admin/friendlinks"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//ç¼–è¾‘æ“ä½œ</span><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/friendlinks/{id}"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">post</span><span class="token punctuation">(</span>FriendLink friendLink<span class="token punctuation">,</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span>Long id<span class="token punctuation">,</span> RedirectAttributes attributes<span class="token punctuation">)</span><span class="token punctuation">{</span>    friendLink<span class="token punctuation">.</span><span class="token function">setCreateTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    FriendLink F <span class="token operator">=</span> friendLinkService<span class="token punctuation">.</span><span class="token function">updateFriendLink</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>friendLink<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>F <span class="token operator">==</span> null <span class="token punctuation">)</span> <span class="token punctuation">{</span>        attributes<span class="token punctuation">.</span><span class="token function">addFlashAttribute</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token string">"æ›´æ–°å¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        attributes<span class="token punctuation">.</span><span class="token function">addFlashAttribute</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token string">"æ›´æ–°æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token string">"redirect:/admin/friendlinks"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//åˆ é™¤æ“ä½œ</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/friendlinks/{id}/delete"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">delete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> Long id<span class="token punctuation">,</span>RedirectAttributes attributes<span class="token punctuation">)</span><span class="token punctuation">{</span>    friendLinkService<span class="token punctuation">.</span><span class="token function">deleteFriendLink</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    attributes<span class="token punctuation">.</span><span class="token function">addFlashAttribute</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span><span class="token string">"åˆ é™¤æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"redirect:/admin/friendlinks"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li></ol><h4 id="å‰ç«¯æ¸²æŸ“"><a href="#å‰ç«¯æ¸²æŸ“" class="headerlink" title="å‰ç«¯æ¸²æŸ“"></a>å‰ç«¯æ¸²æŸ“</h4><ol><li><p>friendlinks.htmlå‹é“¾ç®¡ç†é¡µé¢</p><ol><li>å‹é“¾ä¿¡æ¯ï¼ˆå¾ªç¯ï¼‰<ol><li>ç¼–å·</li><li>åšå®¢å</li><li>åšå®¢åœ°å€</li><li>å›¾ç‰‡åœ°å€</li><li>æ—¥æœŸ</li></ol></li><li>ä¸Šä¸‹ä¸€é¡µ</li><li>ç¼–è¾‘ã€åˆ é™¤åœ°å€</li><li>æ–°å¢åœ°å€</li></ol><p>```html</p>    1    ONESTAR    https://onestar.newstar.net.cn/    https://onestar.newstar.net.cn/    </li></ol>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
            <tag> ä¸ªäººåšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootåšå®¢ï¼ˆäº”ï¼‰ï¼ˆå‰ç«¯ï¼‰</title>
      <link href="/2020/11/30/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-wu-qian-duan/"/>
      <url>/2020/11/30/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-wu-qian-duan/</url>
      
        <content type="html"><![CDATA[<h1 id="springbootåšå®¢ï¼ˆäº”ï¼‰ï¼ˆå‰ç«¯ï¼‰"><a href="#springbootåšå®¢ï¼ˆäº”ï¼‰ï¼ˆå‰ç«¯ï¼‰" class="headerlink" title="springbootåšå®¢ï¼ˆäº”ï¼‰ï¼ˆå‰ç«¯ï¼‰"></a>springbootåšå®¢ï¼ˆäº”ï¼‰ï¼ˆå‰ç«¯ï¼‰</h1><h2 id="é¦–é¡µä¼˜åŒ–"><a href="#é¦–é¡µä¼˜åŒ–" class="headerlink" title="é¦–é¡µä¼˜åŒ–"></a>é¦–é¡µä¼˜åŒ–</h2><ol><li><p>åšå®¢å›¾ç‰‡å±…ä¸­</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui middle aligned mobile reversed stackable grid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></li></ol><hr><h2 id="é¦–é¡µå±•ç¤º"><a href="#é¦–é¡µå±•ç¤º" class="headerlink" title="é¦–é¡µå±•ç¤º"></a>é¦–é¡µå±•ç¤º</h2><h3 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201130105435.png"></p><h3 id="åŠŸèƒ½åˆ†æ"><a href="#åŠŸèƒ½åˆ†æ" class="headerlink" title="åŠŸèƒ½åˆ†æ"></a>åŠŸèƒ½åˆ†æ</h3><ol><li>å¯ä»¥åˆ†é¡µæŸ¥çœ‹æ‰€æœ‰çš„åšå®¢</li><li>å¯ä»¥å¿«é€ŸæŸ¥çœ‹åšå®¢æ•°æœ€å¤šçš„6ä¸ªåˆ†ç±»</li><li>å¯ä»¥å¿«é€ŸæŸ¥çœ‹æ ‡è®°åšå®¢æœ€å¤šçš„10ä¸ªæ ‡ç­¾</li><li>å¯ä»¥å¿«é€ŸæŸ¥çœ‹æœ€æ–°çš„æ¨èåšå®¢</li></ol><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><h4 id="é¦–é¡µæ•°æ®è·å–ï¼ˆä¼ å‚ï¼‰"><a href="#é¦–é¡µæ•°æ®è·å–ï¼ˆä¼ å‚ï¼‰" class="headerlink" title="é¦–é¡µæ•°æ®è·å–ï¼ˆä¼ å‚ï¼‰"></a>é¦–é¡µæ•°æ®è·å–ï¼ˆä¼ å‚ï¼‰</h4><ol><li><p>ç¼–å†™controller</p><ol><li><p>å°†blogã€typesã€tagsã€recommendBlogså¯¹è±¡ä¼ å…¥model</p><ol><li><p>blogï¼ˆåšå®¢ï¼‰</p><ol><li>serviceå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œåªé€šè¿‡pageableæŸ¥è¯¢</li></ol><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> Page<span class="token operator">&lt;</span>Blog<span class="token operator">></span> <span class="token function">listBlog</span><span class="token punctuation">(</span>Pageable pageable<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> blogRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span>pageable<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>typesï¼ˆçƒ­é—¨åˆ†ç±»ï¼‰</p><blockquote><p>typeså’Œtagsæ¯”è¾ƒç‰¹æ®Šï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶</p><p>æŒ‰ç…§æŒ‡å®šæ•°é‡è·å–ï¼Œå¹¶ä¸”æ ¹æ®æ‰€åŒ…å«çš„blogé›†åˆçš„sizeæ¥æ’åº</p></blockquote><ol><li><p>serviceå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œå‚æ•°ä¸ºæŒ‡å®šçš„æ•°é‡ï¼Œå¹¶è§„å®šå…¶æ’åºçš„æ–¹å¼</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> List<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token function">listTypeTop</span><span class="token punctuation">(</span>Integer size<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Sort sort <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sort</span><span class="token punctuation">(</span>Sort<span class="token punctuation">.</span>Direction<span class="token punctuation">.</span>DESC<span class="token punctuation">,</span><span class="token string">"blogs.size"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æŒ‰ç…§blogs.sizeé™åºæ’åº</span>    Pageable pageable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PageRequest</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>size<span class="token punctuation">,</span>sort<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä»å¤´æŸ¥è¯¢ï¼ŒæŸ¥Sizeä¸ªï¼ŒæŒ‰ç…§sortæ–¹å¼æ’åº</span>    <span class="token keyword">return</span> typeRepository<span class="token punctuation">.</span><span class="token function">findTop</span><span class="token punctuation">(</span>pageable<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>daoå±‚å®šä¹‰æ–¹æ³•</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">"select t from Type t"</span><span class="token punctuation">)</span>List<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token function">findTop</span><span class="token punctuation">(</span>Pageable pageable<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol></li><li><p>tagsåŒä¸Šï¼ˆçƒ­é—¨æ ‡ç­¾ï¼‰</p></li><li><p>recommendBlogsï¼ˆæ¨èåšå®¢ï¼‰</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//åªæœ‰daoæœ‰ä¸€äº›å·®åˆ«</span><span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">"select b from Blog b where b.recommend = true"</span><span class="token punctuation">)</span>List<span class="token operator">&lt;</span>Blog<span class="token operator">></span> <span class="token function">findTop</span><span class="token punctuation">(</span>Pageable pageable<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol></li><li><p>ç¼–å†™controller</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">indexController</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PageableDefault</span><span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>sort <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"id"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>direction <span class="token operator">=</span> Sort<span class="token punctuation">.</span>Direction<span class="token punctuation">.</span>DESC<span class="token punctuation">)</span> Pageable pageable<span class="token punctuation">,</span>                              Model model<span class="token punctuation">)</span><span class="token punctuation">{</span>    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"blog"</span><span class="token punctuation">,</span>blogService<span class="token punctuation">.</span><span class="token function">listBlog</span><span class="token punctuation">(</span>pageable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"types"</span><span class="token punctuation">,</span>typeService<span class="token punctuation">.</span><span class="token function">listTypeTop</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"tags"</span><span class="token punctuation">,</span>tagService<span class="token punctuation">.</span><span class="token function">listTagTop</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"recommendBlogs"</span><span class="token punctuation">,</span>blogService<span class="token punctuation">.</span><span class="token function">listRecommendBlogTop</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li></ol></li></ol><h4 id="æ¸²æŸ“é¡µé¢"><a href="#æ¸²æŸ“é¡µé¢" class="headerlink" title="æ¸²æŸ“é¡µé¢"></a>æ¸²æŸ“é¡µé¢</h4><ol><li><p>åšå®¢æ€»æ•°ç›®</p><pre class=" language-html"><code class="language-html">å…± <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui orange header m-inline-block m-text-thin<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${page.totalElements}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 14 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span> ç¯‡</code></pre><blockquote><p>é‡åˆ°çš„å‘ï¼špageæ‰¾ä¸åˆ°</p><p>pageæ˜¯controllerä¼ è¿‡æ¥pageå¯¹è±¡çš„keyå€¼<code>model.addAttribute("page",blogService.listBlog(pageable));</code></p></blockquote></li><li><p>åšå®¢ï¼ˆå¾ªç¯ï¼‰</p><ol><li>æ ‡é¢˜ï¼šå¢åŠ é“¾æ¥ï¼Œå¼€å¯ä¸€ä¸ªæ–°æ ‡ç­¾é¡µè®¿é—®</li><li>æè¿°</li><li>å¤´åƒ</li><li>ä½œè€…æ˜µç§°</li><li>æ›´æ–°æ—¥æœŸ</li><li>æµè§ˆæ¬¡æ•°</li><li>åˆ†ç±»åç§°</li><li>é¦–å›¾ï¼šå¢åŠ é“¾æ¥</li><li>æ³¨é‡Šæ‰å…¶ä»–çš„é™æ€åšå®¢</li></ol><p>```html</p><div class="ui padded vertical segment m-padded-tb-large" th:each="blog : ${page.content}">     <h3 class="ui header"><a href="#" th:href="@{/blog/{id}(id=${blog.id})}" target="_blank" th:text="${blog.title}">æ ‡é¢˜</a></h3>    <p class="m-text" th:text="|${blog.description}......|">æè¿°...</p><!--è¿™é‡Œçš„||æ˜¯thymeleafæ¨¡æ¿çš„è§£æï¼Œä½œç”¨æ˜¯æ‹¼æ¥å­—ç¬¦ä¸²-->    <img src="https://unsplash.it/100/100?image=1005" th:src="@{${blog.user.avatar}}" alt="" class="ui avatar image">    <div class="content"><a href="#" class="header" th:text="${blog.user.nickname}">è´¾ æ°‘</a></div>    <i class="calendar icon"></i> </div></li></ol>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
            <tag> ä¸ªäººåšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootåšå®¢ï¼ˆå››ï¼‰ï¼ˆåå°ç®¡ç†ä¹‹åšå®¢ï¼‰</title>
      <link href="/2020/11/27/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-si-hou-tai-guan-li-zhi-bo-ke/"/>
      <url>/2020/11/27/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-si-hou-tai-guan-li-zhi-bo-ke/</url>
      
        <content type="html"><![CDATA[<h1 id="springbootåšå®¢ï¼ˆå››ï¼‰ï¼ˆåå°ç®¡ç†ä¹‹åšå®¢ï¼‰"><a href="#springbootåšå®¢ï¼ˆå››ï¼‰ï¼ˆåå°ç®¡ç†ä¹‹åšå®¢ï¼‰" class="headerlink" title="springbootåšå®¢ï¼ˆå››ï¼‰ï¼ˆåå°ç®¡ç†ä¹‹åšå®¢ï¼‰"></a>springbootåšå®¢ï¼ˆå››ï¼‰ï¼ˆåå°ç®¡ç†ä¹‹åšå®¢ï¼‰</h1><h2 id="åå°ç®¡ç†"><a href="#åå°ç®¡ç†" class="headerlink" title="åå°ç®¡ç†"></a>åå°ç®¡ç†</h2><h3 id="åšå®¢ç®¡ç†"><a href="#åšå®¢ç®¡ç†" class="headerlink" title="åšå®¢ç®¡ç†"></a>åšå®¢ç®¡ç†</h3><h4 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201130103628.png"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201130103831.png"></p><h4 id="åŠŸèƒ½åˆ†æ"><a href="#åŠŸèƒ½åˆ†æ" class="headerlink" title="åŠŸèƒ½åˆ†æ"></a>åŠŸèƒ½åˆ†æ</h4><ol><li>åšå®¢å±•ç¤ºã€åšå®¢æ–°å¢é¡µé¢æ­å»º</li><li>åšå®¢åˆ†é¡µæŸ¥è¯¢ï¼šæ ¹æ®æ ‡é¢˜/åˆ†ç±»/æ˜¯å¦æ¨èæŸ¥è¯¢ï¼ˆå¼‚æ­¥äº¤äº’ï¼‰</li><li>åšå®¢çš„å¢åŠ ã€ä¿®æ”¹ã€åˆ é™¤</li><li>å¢åŠ ã€ä¿®æ”¹æ—¶ï¼šæ ‡é¢˜ã€å†…å®¹ã€é¦–å›¾ã€æè¿°ä¸èƒ½ä¸ºç©º</li></ol><h4 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h4><h5 id="åšå®¢åˆ†é¡µæŸ¥è¯¢"><a href="#åšå®¢åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="åšå®¢åˆ†é¡µæŸ¥è¯¢"></a><strong>åšå®¢åˆ†é¡µæŸ¥è¯¢</strong></h5><ol><li><p>åˆ›å»ºBlogService/BlogServiceImpl/BlogRepository</p><p>æ³¨æ„æ¡ä»¶æŸ¥è¯¢çš„è¯­æ³•</p><p><strong>BlogServiceImpl</strong></p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BlogServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BlogService</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> BlogRepository blogRepository<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> Blog <span class="token function">getBlog</span><span class="token punctuation">(</span>Long id<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> blogRepository<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> Page<span class="token operator">&lt;</span>Blog<span class="token operator">></span> <span class="token function">listBlog</span><span class="token punctuation">(</span>Pageable pageable<span class="token punctuation">,</span> Blog blog<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">/*        æ­¤æ–¹æ³•éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œ        1:Specification:ç”¨äºæ ¹æ®æƒ…å†µæ‹¼æ¥æ¡ä»¶        2ï¼špageableï¼šåˆ†é¡µæŸ¥è¯¢         */</span>        <span class="token keyword">return</span> blogRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Specification</span><span class="token operator">&lt;</span>Blog<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> Predicate <span class="token function">toPredicate</span><span class="token punctuation">(</span>Root<span class="token operator">&lt;</span>Blog<span class="token operator">></span> root<span class="token punctuation">,</span><span class="token comment" spellcheck="true">//å°†å¯¹è±¡æ˜ å°„æˆrootï¼Œä»ä¸­è·å¾—è¡¨çš„å­—æ®µï¼Œå±æ€§å</span>                                         CriteriaQuery<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> cq<span class="token punctuation">,</span><span class="token comment" spellcheck="true">//å°è£…æ¡ä»¶çš„å®¹å™¨</span>                                         CriteriaBuilder cb<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//æ¡ä»¶è¡¨è¾¾å¼ï¼Œä»ä¸­å¯ä»¥è·å–like,==ç­‰</span>                <span class="token comment" spellcheck="true">//åœ¨æ­¤æ–¹æ³•ä¸­å†™æ¡ä»¶</span>                List<span class="token operator">&lt;</span>Predicate<span class="token operator">></span> predicates <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åˆæœŸè£…æ¡ä»¶ç”¨</span>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>blog<span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>blog<span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">//å¦‚æœå‰ç«¯å¢åŠ äº†æ ‡é¢˜titleæ¡ä»¶ï¼Œåˆ™æ‹¼æ¥è¿™ä¸ªæ¡ä»¶</span>                    predicates<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cb<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>&lt;String<span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"%"</span><span class="token operator">+</span>blog<span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"%"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//cb.like():å°±æ˜¯sqlè¯­å¥ä¸­çš„like</span>                    <span class="token comment" spellcheck="true">//å‚æ•°1ï¼šè¡¨è¾¾å¼ï¼ˆå°±æ˜¯è¡¨å­—æ®µï¼‰ï¼Œé€šè¿‡rootè·å–</span>                    <span class="token comment" spellcheck="true">//å‚æ•°2ï¼šå€¼ï¼ˆå°±æ˜¯å‰ç«¯ä¼ æ¥çš„Blogä¸­çš„å€¼ï¼‰</span>                    <span class="token comment" spellcheck="true">//æ‹¼æ¥ä¹‹åçš„ç»“æœï¼štitle like '%xxx%'</span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>blog<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">//å¦‚æœå‰ç«¯å¢åŠ äº†åˆ†ç±»typeæ¡ä»¶ï¼Œåˆ™æ‹¼æ¥è¿™ä¸ªæ¡ä»¶</span>                    predicates<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cb<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>&lt;Type<span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>blog<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>blog<span class="token punctuation">.</span><span class="token function">isCommentabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">//isCommentabled()å°±æ˜¯booleançš„getæ–¹æ³•ï¼Œå¦‚æœå‹¾é€‰åˆ™ä¸ºtrue</span>                    predicates<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cb<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>&lt;Boolean<span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"recommend"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>blog<span class="token punctuation">.</span><span class="token function">isCommentabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                cq<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>predicates<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Predicate</span><span class="token punctuation">[</span>predicates<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//cq.whereï¼šæœ€ç»ˆå°è£…æ‰€æœ‰æ¡ä»¶</span>                <span class="token comment" spellcheck="true">//å‚æ•°ï¼šæ•°ç»„ï¼Œå¹¶æŒ‡å®šé•¿åº¦</span>                <span class="token comment" spellcheck="true">//æ‹¼æ¥ä¹‹åçš„ç»“æœï¼šwhere title like '%xxx%' and ...</span>                <span class="token keyword">return</span> null<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> Blog <span class="token function">saveBlog</span><span class="token punctuation">(</span>Blog blog<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> blogRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>blog<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> Blog <span class="token function">updateBlog</span><span class="token punctuation">(</span>Long id<span class="token punctuation">,</span> Blog blog<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Blog b <span class="token operator">=</span> blogRepository<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>b <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NotFindException</span><span class="token punctuation">(</span><span class="token string">"ä¿®æ”¹çš„åšå®¢ä¸å­˜åœ¨ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        BeanUtils<span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>blog<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> blogRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteBlog</span><span class="token punctuation">(</span>Long id<span class="token punctuation">)</span> <span class="token punctuation">{</span>        blogRepository<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>BlogRepository</strong></p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/*ç»§æ‰¿å…³ç³»JpaRepository&lt;Blog,Long>ï¼šç”¨äºä½¿ç”¨Jpaè¯­å¥JpaSpecificationExecutor&lt;Blog>ï¼šç”¨äºå¤æ‚æ¡ä»¶æŸ¥è¯¢ï¼Œæ ¹æ®æƒ…å†µæ‹¼æ¥æ¡ä»¶ */</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BlogRepository</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token operator">&lt;</span>Blog<span class="token punctuation">,</span>Long<span class="token operator">></span><span class="token punctuation">,</span> JpaSpecificationExecutor<span class="token operator">&lt;</span>Blog<span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></li><li><p>ç¼–å†™controller</p><p>è¿›å…¥Blogçš„æ–¹æ³•ï¼šblogs(Pageable pageable,Blog blog,Model model)</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BlogController</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> BlogService blogService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/blogs"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">blogs</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PageableDefault</span><span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>sort <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"updateTime"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>direction <span class="token operator">=</span> Sort<span class="token punctuation">.</span>Direction<span class="token punctuation">.</span>DESC<span class="token punctuation">)</span> Pageable pageable<span class="token punctuation">,</span><span class="token comment" spellcheck="true">//åˆ†é¡µ</span>                        Blog blog<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//ç”¨äºæ¥æ”¶å‰ç«¯çš„blogæ•°æ®</span>                        Model model<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//ç”¨äºå­˜blog</span>        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"page"</span><span class="token punctuation">,</span>blogService<span class="token punctuation">.</span><span class="token function">listBlog</span><span class="token punctuation">(</span>pageable<span class="token punctuation">,</span> blog<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"/admin/blogs"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>ä¿®æ”¹å‰ç«¯é¡µé¢</p><ol><li><p>blogs.html</p><ol><li><p>å‰ç«¯è¿­ä»£å–å€¼ï¼Œç¼–è¾‘åˆ é™¤æŒ‰é’®</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blog,iterStat : ${page.content}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${iterStat.count}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${blog.title}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>åˆ»æ„ç»ƒä¹ æ¸…å•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${blog.type.name}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è®¤çŸ¥å‡çº§<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${blog.recommend}?<span class="token punctuation">'</span>æ˜¯<span class="token punctuation">'</span>:<span class="token punctuation">'</span>å¦<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ˜¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${blog.updateTime}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2017-10-02 09:45<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/blogs/{id}/input(id<span class="token punctuation">=</span>${blog.id})}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui mini teal basic button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç¼–è¾‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/blogs/{id}/delete(id<span class="token punctuation">=</span>${blog.id})}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui mini red basic button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></code></pre></li><li><p>ä¸Šä¸‹ä¸€é¡µï¼ˆå› ä¸ºéœ€è¦è·å–è¡¨å•çš„æ•°æ®ä¸€èµ·æäº¤ï¼Œæ‰€ä»¥éœ€è¦å°†ä¸Šä¸‹ä¸€é¡µæ¢æˆonclickï¼Œå½“ä½œè¡¨å•æäº¤ï¼‰ï¼šéšè—åŸŸï¼Œä¼ é€’pageï¼Œonclickï¼Œattrå±æ€§è‡ªå®šä¹‰å±æ€§ï¼Œscriptæ–¹æ³•å°†å€¼ç»‘å®šåˆ°éšè—åŸŸä¸­ï¼Œä¸€èµ·æäº¤ã€‚</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>page(this)<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>attr</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>data-page<span class="token punctuation">=</span>${page.number}-1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> item<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${page.first}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸Šä¸€é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>page(this)<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>attr</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>data-page<span class="token punctuation">=</span>${page.number}+1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> item<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${page.last}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸‹ä¸€é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>//ä¸Šä¸‹ä¸€é¡µç»™hiddenèµ‹å€¼    function page(obj) {      $("[name='page']").val($(obj).data("page"));      loaddata();<span class="token comment" spellcheck="true">&lt;!--è¿™é‡Œæ˜¯ç¬¬å››æ­¥æ·»åŠ çš„--></span>    }</code></pre></li><li><p>å¼‚æ­¥æäº¤ï¼ˆæäº¤controlleråªåˆ·æ–°å±€éƒ¨é¡µé¢ï¼Œéœ€è¦thymeleafç‰‡æ®µåˆ·æ–°+ajaxå¼‚æ­¥åˆ·æ–°ï¼‰</p><blockquote><p>å®ç°åŠŸèƒ½ï¼šç‚¹å‡»æœç´¢/ä¸Šä¸‹ä¸€é¡µï¼Œåªåˆ·æ–°åšå®¢åˆ—è¡¨çš„table</p><p>æ–¹æ³•ï¼š</p><ol><li>ç»™tableè®¾ç½®ä¸€ä¸ªfragmentç‰‡æ®µ</li><li>ç‚¹å‡»æœç´¢/ä¸Šä¸‹ä¸€é¡µé€šè¿‡ajaxå‘é€è¯·æ±‚ç»™controller</li><li>controllerå¤„ç†æ•°æ®ï¼Œè¿”å›ä¸€ä¸ªç‰‡æ®µï¼Œå®ç°å±€éƒ¨åˆ·æ–°</li></ol></blockquote><ol><li><p>ç»™tableè®¾ç½®ä¸€ä¸ªfragmentç‰‡æ®µ</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blogList<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui compact teal table<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></li><li><p>å¢åŠ controlleræ–¹æ³•ï¼Œè·³è½¬ç‰‡æ®µ</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/blogs/search"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//postè¯·æ±‚</span><span class="token keyword">public</span> String <span class="token function">search</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PageableDefault</span><span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>sort <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"updateTime"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>direction <span class="token operator">=</span> Sort<span class="token punctuation">.</span>Direction<span class="token punctuation">.</span>DESC<span class="token punctuation">)</span> Pageable pageable<span class="token punctuation">,</span><span class="token comment" spellcheck="true">//åˆ†é¡µ</span>                     BlogQuery blog<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//ç”¨äºæ¥æ”¶å‰ç«¯çš„blogæ•°æ®</span>                     Model model<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//ç”¨äºå­˜blog</span>    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"page"</span><span class="token punctuation">,</span>blogService<span class="token punctuation">.</span><span class="token function">listBlog</span><span class="token punctuation">(</span>pageable<span class="token punctuation">,</span> blog<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"/admin/blogs :: blogList"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ç‰‡æ®µ</span><span class="token punctuation">}</span></code></pre></li><li><p>ajaxå¼‚æ­¥åˆ·æ–°æ–¹æ³•</p><pre><code>function loaddata() {    $("#table-container").load(/*[[@{admin/blogs/search}]]*/"/admin/blogs/search",{    title : $("[name='title']").val(),    typeId : $("[name='typeId']").val(),    recommend : $("[name='recommend']").prop('checked'),    page : $("[name='page']").val()    });}</code></pre></li><li><p>å¢åŠ å¼‚æ­¥åˆ·æ–°æ–¹æ³•çš„divï¼Œä¿®æ”¹hiddenéšè—åŸŸtypeä¸ºtypeId</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--æŠŠè¡¨å•åŒ…è£¹é‡Œé¢--></span></code></pre></li><li><p>pageæ–¹æ³•å¢åŠ ajaxæ–¹æ³•</p><pre><code> loaddata();</code></pre></li><li><p>formè¡¨å•æ”¹ä¸ºdivï¼ŒsearchæŒ‰é’®å˜ä¸ºbuttonï¼Œé€šè¿‡jqueryæ–¹æ³•æäº¤</p><pre><code>&lt;div  class="ui secondary segment form"&gt;    &lt;button type="button" id="search-btn" class="ui mini teal basic button"&gt;&lt;i class="search icon"&gt;&lt;/i&gt;æœç´¢&lt;/button&gt;$("#search-btn").click(function () {    loaddata();});</code></pre></li></ol></li><li><p>æ˜¾ç¤ºåˆ†ç±»ä¸‹æ‹‰èœå•</p><ol><li><p>åœ¨controllerä¸­ä½¿ç”¨typeServiceæŸ¥è¯¢å‡ºæ‰€æœ‰åˆ†ç±»</p><ol><li><p>éœ€è¦å…ˆå®šä¹‰æŸ¥è¯¢æ‰€æœ‰åˆ†ç±»çš„æ–¹æ³•ï¼Œä¸éœ€è¦åˆ†é¡µæŸ¥è¯¢</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> List<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token function">listType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> typeRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>å­˜å…¥modelä¸­</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//åœ¨controllerçš„blogsæ–¹æ³•ä¸­æ·»åŠ ï¼Œå³ç¬¬ä¸€æ¬¡è®¿é—®æ—¶æŸ¥è¯¢åˆ†ç±»</span><span class="token comment" spellcheck="true">//ä¿å­˜typeä¸‹æ‹‰èœå•æ•°æ®</span>model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"types"</span><span class="token punctuation">,</span>typeService<span class="token punctuation">.</span><span class="token function">listType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol></li><li><p>å‰ç«¯æ¸²æŸ“ï¼š</p><ol><li><p>éå†èµ‹å€¼ï¼Œdata-value,text</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>type : ${types}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token attr-name">data-value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>data-value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${type.id}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${type.name}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>é”™è¯¯æ—¥å¿—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></li></ol></li><li><p>è§£å†³ç©ºæŒ‡é’ˆï¼ˆå‘ç°blog.gettype()æ˜¯ç©ºæŒ‡é’ˆï¼‰</p><ol><li><p>æ–°å»ºä¸€ä¸ªåŒ…ï¼švoï¼Œåˆ›å»ºä¸€ä¸ªå®ä½“ç±»BlogQueryç”¨äºå°è£…æŸ¥è¯¢ä¿¡æ¯</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BlogQuery</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> String title<span class="token punctuation">;</span>    <span class="token keyword">private</span> Long typeId<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> recommend<span class="token punctuation">;</span></code></pre></li><li><p>ä¿®æ”¹controllerã€serviceçš„Blogæ¢ä½BlogQueryç±»å‹</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/blogs"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">blogs</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PageableDefault</span><span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>sort <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"updateTime"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>direction <span class="token operator">=</span> Sort<span class="token punctuation">.</span>Direction<span class="token punctuation">.</span>DESC<span class="token punctuation">)</span> Pageable pageable<span class="token punctuation">,</span>                    BlogQuery blog<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//è¿™é‡Œä»Blogå¯¹è±¡æ¢ä½äº†BlogQueryï¼Œä¸“é—¨å­˜å‰ç«¯ä¼ è¿‡æ¥çš„æ¡ä»¶</span>                    Model model<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></li><li><p>åˆ¤æ–­æ¡ä»¶æ”¹ä¸ºæŸ¥è¯¢å¯¹è±¡ä¸­è·å–typeid</p><pre class=" language-java"><code class="language-java"><span class="token keyword">if</span><span class="token punctuation">(</span>blog<span class="token punctuation">.</span><span class="token function">getTypeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//è¿™é‡Œæ¢æˆä»blogQueryåˆ¤æ–­ï¼Œä¸ä¼šå‡ºç°ç©ºæŒ‡é’ˆ</span>    <span class="token comment" spellcheck="true">//å¦‚æœå‰ç«¯å¢åŠ äº†åˆ†ç±»typeæ¡ä»¶ï¼Œåˆ™æ‹¼æ¥è¿™ä¸ªæ¡ä»¶</span>    predicates<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cb<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>&lt;Type<span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>blog<span class="token punctuation">.</span><span class="token function">getTypeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li></ol></li></ol></li></ol></li></ol></li></ol><h5 id="åšå®¢æ·»åŠ "><a href="#åšå®¢æ·»åŠ " class="headerlink" title="åšå®¢æ·»åŠ "></a><strong>åšå®¢æ·»åŠ </strong></h5><ol><li><p>ä¿®æ”¹èµ„æºå¼•å…¥</p><ol><li><p>å°†æŠ½å–çš„ç‰‡æ®µèµ„æºå¼•å…¥åŠ å…¥editmd</p></li><li><p>æ£€æŸ¥blogs-input.htmlæ˜¯å¦å¼•å…¥æ­£ç¡®</p><pre><code>&lt;link rel="stylesheet" href="../../static/lib/editormd/css/editormd.min.css" th:href="@{/lib/editormd/css/editormd.min.css}"&gt;&lt;script src="../../static/lib/editormd/editormd.min.js" th:src="@{/lib/editormd/editormd.min.js}"&gt;&lt;/script&gt;</code></pre></li></ol></li><li><p>æ£€æŸ¥ä¿®æ”¹blogs-input.htmlä¸­çš„è¡¨å•nameå€¼æ˜¯å¦ä¸å®ä½“ç±»åŒ¹é…</p><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"hidden"</span> name<span class="token operator">=</span><span class="token string">"type.id"</span><span class="token operator">></span><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"hidden"</span> name<span class="token operator">=</span><span class="token string">"tagIds"</span><span class="token operator">></span><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> name<span class="token operator">=</span><span class="token string">"firstPicture"</span> placeholder<span class="token operator">=</span><span class="token string">"é¦–å›¾å¼•ç”¨åœ°å€"</span><span class="token operator">></span><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> id<span class="token operator">=</span><span class="token string">"shareStatement"</span> name<span class="token operator">=</span><span class="token string">"shareStatement"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"hidden"</span><span class="token operator">></span><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> id<span class="token operator">=</span><span class="token string">"commentabled"</span> name<span class="token operator">=</span><span class="token string">"commentabled"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"hidden"</span><span class="token operator">></span></code></pre></li><li><p>ä¿å­˜ã€å‘å¸ƒæŒ‰é’®çš„å¤„ç†ï¼ˆå°†publishedå€¼ä¹Ÿä¼ å…¥è¡¨å•ä¸­æäº¤ï¼‰</p><ol><li><p>å¢åŠ éšå«åŸŸpublished</p></li><li><p>ä¿å­˜å‘å¸ƒæŒ‰é’®ä¿®æ”¹</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>save-btn<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui secondary button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¿å­˜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>publish-btn<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui teal button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å‘å¸ƒ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre></li><li><p>ä¿®æ”¹formè¡¨å•</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blog-form<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/blogs}<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui form<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></li><li><p>å¢åŠ jqueryæ–¹æ³•æäº¤è¡¨å•</p><pre><code>//ä¿å­˜æŒ‰é’®$('#save-btn').click(function () {    $('[name="published"]').val(false);    $('#blog-form').submit();});//æäº¤æŒ‰é’®$('#publish-btn').click(function () {    $('[name="published"]').val(true);    $('#blog-form').submit();})</code></pre></li></ol></li><li><p>å‰ç«¯éç©ºæ ¡éªŒ</p><pre><code>// æ ‡é¢˜ã€å†…å®¹ã€åˆ†ç±»ã€é¦–å›¾éç©º$('.ui.form').form({      fields : {        title : {          identifier: 'title',          rules: [{            type : 'empty',            prompt: 'æ ‡é¢˜ï¼šè¯·è¾“å…¥åšå®¢æ ‡é¢˜'          }]        },        content : {          identifier: 'content',          rules: [{            type : 'empty',            prompt: 'æ ‡é¢˜ï¼šè¯·è¾“å…¥åšå®¢å†…å®¹'          }]        },        typeId : {          identifier: 'typeId',          rules: [{            type : 'empty',            prompt: 'æ ‡é¢˜ï¼šè¯·è¾“å…¥åšå®¢åˆ†ç±»'          }]        },        firstPicture : {          identifier: 'firstPicture',          rules: [{            type : 'empty',            prompt: 'æ ‡é¢˜ï¼šè¯·è¾“å…¥åšå®¢é¦–å›¾'          }]        }      }    });</code></pre></li><li><p>è·³è½¬æ–°å¢é¡µé¢æ–¹æ³•</p><ol><li><p>ä¼˜åŒ–returnï¼Œ<code>static final</code></p><pre class=" language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> String INPUT <span class="token operator">=</span> <span class="token string">"/admin/blogs-input"</span><span class="token punctuation">;</span><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> String LIST <span class="token operator">=</span> <span class="token string">"/admin/blogs"</span><span class="token punctuation">;</span><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> String REDIRECT_LIST <span class="token operator">=</span> <span class="token string">"redirect:/admin/blogs"</span><span class="token punctuation">;</span><span class="token keyword">public</span> String <span class="token function">blogs</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token keyword">return</span> LIST<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>controllerå®šä¹‰æ–¹æ³•</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/blogs/input"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">input</span><span class="token punctuation">(</span>Model model<span class="token punctuation">)</span><span class="token punctuation">{</span>    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"blog"</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Blog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¼ å…¥ä¸€ä¸ªç©ºçš„blogï¼Œé¿å…æ–°å¢ã€ä¿®æ”¹å¹¶ç”¨é¡µé¢ä¸­çš„${blog}æŠ¥ç©ºæŒ‡é’ˆ</span>    <span class="token comment" spellcheck="true">//ä¿å­˜typeä¸‹æ‹‰èœå•æ•°æ®</span>    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"types"</span><span class="token punctuation">,</span>typeService<span class="token punctuation">.</span><span class="token function">listType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//ä¿å­˜tagä¸‹æ‹‰èœå•æ•°æ®</span>    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"tags"</span><span class="token punctuation">,</span>tagService<span class="token punctuation">.</span><span class="token function">listTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> INPUT<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>å¢åŠ æŸ¥è¯¢æ‰€æœ‰tagçš„æ–¹æ³•</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> List<span class="token operator">&lt;</span>Tag<span class="token operator">></span> <span class="token function">listTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> tagRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>å‰ç«¯éå†åˆ†ç±»ã€æ ‡ç­¾</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>type : ${types}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span>  <span class="token attr-name">data-value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>data-value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${type.id}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${type.name}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>é”™è¯¯æ—¥å¿—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tag : ${tags}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span>  <span class="token attr-name">data-value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>data-value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${tag.id}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${tag.name}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></li><li><p>å‰ç«¯blogs.htmlå¢åŠ hrefå±æ€§ï¼ŒæŒ‡å‘è·³è½¬æ–¹æ³•</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/blogs/input}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui mini right floated teal basic button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ–°å¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre></li><li><p>ä¿®æ”¹jqueryçš„mdç¼–è¾‘å™¨çš„è·¯å¾„</p><pre><code>$(function() {    contentEditor = editormd("md-content", {        width   : "100%",        height  : 640,        syncScrolling : "single",        //path    : "../../static/lib/editormd/lib/"        path    : "/lib/editormd/lib/"    });});</code></pre></li><li><p>ä¿®æ”¹mdç¼–è¾‘å™¨çš„å®½åº¦</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-container m-padded-tb-big<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></li></ol></li><li><p>æ–°å¢åŠŸèƒ½</p><ol><li><p>controlleræ–°å¢æ–¹æ³•</p><ol><li><p>è·å–sessionä¸­çš„userå¯¹è±¡ï¼Œå­˜å…¥blogå¯¹è±¡ä¸­</p></li><li><p>è®¾ç½®typeåˆå§‹å€¼åˆ°blogå¯¹è±¡ä¸­</p></li><li><p>è®¾ç½®tagåˆå§‹å€¼åˆ°blogå¯¹è±¡ä¸­</p><ol><li><p>serviceå¢åŠ æŸ¥è¯¢tagsçš„æ–¹æ³•</p><blockquote><p>å‰ç«¯ä¼ è¿‡æ¥çš„æ˜¯ä¸€ä¸ªidsçš„æ ‡ç­¾idå­—ç¬¦ä¸²ï¼Œ1,2,3ã€‚</p><p>å°†å­—ç¬¦ä¸²æŒ‰ç…§,åˆ†å‰²æˆæ•°ç»„ï¼Œå†éå†æ•°ç»„æ’å…¥åˆ°é›†åˆå½“ä¸­</p></blockquote></li><li><p>åœ¨blogå®ä½“ç±»å¢åŠ å±æ€§tagIds</p><ol><li>åªæ˜¯ä¸€ä¸ªå±æ€§å€¼ï¼Œä¸å’Œæ•°æ®åº“ä¸€ä¸€æ˜ å°„ï¼Œ@Transient</li><li>set/get</li></ol></li></ol></li><li><p>ä¿å­˜</p></li><li><p>å¢åŠ æ¶ˆæ¯æç¤º</p></li></ol><pre class=" language-java"><code class="language-java"> <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/blogs"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">post</span><span class="token punctuation">(</span>Blog blog<span class="token punctuation">,</span> HttpSession session<span class="token punctuation">,</span> RedirectAttributes attributes<span class="token punctuation">)</span><span class="token punctuation">{</span>        blog<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span><span class="token punctuation">(</span>User<span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä»sessionä¸­å°†userä¼ å…¥blog</span>        blog<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span>typeService<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span>blog<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä»å¢åŠ æ¡ä»¶ä¸­çš„idè·å–çœŸæ­£typeå¯¹è±¡ä¼ å…¥blog</span>        blog<span class="token punctuation">.</span><span class="token function">setTags</span><span class="token punctuation">(</span>tagService<span class="token punctuation">.</span><span class="token function">listTag</span><span class="token punctuation">(</span>blog<span class="token punctuation">.</span><span class="token function">getIds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä»å¢åŠ æ¡ä»¶ä¸­çš„idsè·å–tagå¯¹è±¡ä¼ å…¥blog</span>        Blog blog1 <span class="token operator">=</span> blogService<span class="token punctuation">.</span><span class="token function">saveBlog</span><span class="token punctuation">(</span>blog<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¿å­˜æ–¹æ³•</span>        <span class="token comment" spellcheck="true">//å¢åŠ æ¶ˆæ¯æç¤º</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>blog1<span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>            attributes<span class="token punctuation">.</span><span class="token function">addFlashAttribute</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span><span class="token string">"å¢åŠ æˆåŠŸï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            attributes<span class="token punctuation">.</span><span class="token function">addFlashAttribute</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span><span class="token string">"å¢åŠ å¤±è´¥ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> REDIRECT_LIST<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre></li><li><p>Serviceä¿å­˜æ–¹æ³•</p><ol><li>è®¾ç½®åˆå§‹å€¼<ol><li>createTimeã€updateTimeã€views</li></ol></li></ol><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> Blog <span class="token function">saveBlog</span><span class="token punctuation">(</span>Blog blog<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//åˆå§‹åŒ–å€¼</span>    blog<span class="token punctuation">.</span><span class="token function">setCreateTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    blog<span class="token punctuation">.</span><span class="token function">setUpdateTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    blog<span class="token punctuation">.</span><span class="token function">setViews</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> blogRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>blog<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>serviceä¿å­˜ã€æ›´æ–°ã€åˆ é™¤æ”¾åœ¨äº‹åŠ¡é‡Œ</p><ol><li>@transactional</li></ol></li><li><p>å‰ç«¯å¢åŠ æ¶ˆæ¯æç¤º</p><ol><li><p>å¢åŠ æç¤ºæ¡†çš„div</p><p>```html</p><!--æ–°å¢æ“ä½œæˆåŠŸ/å¤±è´¥æç¤ºæ¡†--></li></ol></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
            <tag> ä¸ªäººåšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åå°éç©ºæ ¡éªŒ</title>
      <link href="/2020/11/26/xiang-mu/ge-ren-bo-ke-wang-zhan/hou-tai-fei-kong-xiao-yan/"/>
      <url>/2020/11/26/xiang-mu/ge-ren-bo-ke-wang-zhan/hou-tai-fei-kong-xiao-yan/</url>
      
        <content type="html"><![CDATA[<h1 id="åå°éç©ºæ ¡éªŒ"><a href="#åå°éç©ºæ ¡éªŒ" class="headerlink" title="åå°éç©ºæ ¡éªŒ"></a>åå°éç©ºæ ¡éªŒ</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨åšä¸ªäººåšå®¢é¡¹ç›®çš„æ—¶å€™ï¼Œå…¶ä¸­åˆ†ç±»ç®¡ç†æ¨¡å—å®ç°çš„ä¸€ä¸ªåŠŸèƒ½ï¼šæ–°å¢åˆ†ç±»ä¸èƒ½ä¸ºç©ºï¼Œéœ€è¦åœ¨åå°åŠ ä¸Šéç©ºæ ¡éªŒã€‚æ¶‰åŠåˆ°springboot+thymeleafï¼Œè¿™é‡Œæ€»ç»“ä¸€ä¸‹ã€‚</p><h2 id="å®ä½“ç±»"><a href="#å®ä½“ç±»" class="headerlink" title="å®ä½“ç±»"></a>å®ä½“ç±»</h2><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Setter</span><span class="token annotation punctuation">@Getter</span><span class="token annotation punctuation">@ToString</span><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token annotation punctuation">@Entity</span><span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"t_type"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Type</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Id</span>    <span class="token annotation punctuation">@GeneratedValue</span>    <span class="token keyword">private</span> Long id<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/*é€šè¿‡æ³¨è§£çš„æ–¹å¼ï¼Œæ·»åŠ æ ¡éªŒ    * nameä¸èƒ½ä¸ºç©º    * ä½¿ç”¨æ³¨è§£@NotBlank(message = "åˆ†ç±»åç§°ä¸èƒ½ä¸ºç©º")    * å¦‚æœä¸ºç©ºï¼Œåå°å°†ä¼šæŠ›å‡ºå¼‚å¸¸    * */</span>    <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"åˆ†ç±»åç§°ä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> String name<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åˆ†ç±»åç§°</span><span class="token punctuation">}</span></code></pre><blockquote><p>å…¶ä»–çš„æ ¡éªŒæ–¹å¼ï¼š</p><pre class=" language-java"><code class="language-java">JSRæä¾›çš„æ ¡éªŒæ³¨è§£ï¼š         <span class="token annotation punctuation">@Null</span>   è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º null    <span class="token annotation punctuation">@NotNull</span>    è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸ä¸º null    <span class="token annotation punctuation">@AssertTrue</span>     è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º <span class="token boolean">true</span>    <span class="token annotation punctuation">@AssertFalse</span>    è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º <span class="token boolean">false</span>    <span class="token annotation punctuation">@Min</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>     è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼    <span class="token annotation punctuation">@Max</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>     è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼    <span class="token annotation punctuation">@DecimalMin</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼    <span class="token annotation punctuation">@DecimalMax</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼    <span class="token annotation punctuation">@Size</span><span class="token punctuation">(</span>max<span class="token operator">=</span><span class="token punctuation">,</span> min<span class="token operator">=</span><span class="token punctuation">)</span>   è¢«æ³¨é‡Šçš„å…ƒç´ çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†…    <span class="token annotation punctuation">@Digits</span> <span class="token punctuation">(</span>integer<span class="token punctuation">,</span> fraction<span class="token punctuation">)</span>     è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»åœ¨å¯æ¥å—çš„èŒƒå›´å†…    <span class="token annotation punctuation">@Past</span>   è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªè¿‡å»çš„æ—¥æœŸ    <span class="token annotation punctuation">@Future</span>     è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªå°†æ¥çš„æ—¥æœŸ    <span class="token annotation punctuation">@Pattern</span><span class="token punctuation">(</span>regex<span class="token operator">=</span><span class="token punctuation">,</span>flag<span class="token operator">=</span><span class="token punctuation">)</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ç¬¦åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼      Hibernate Validatoræä¾›çš„æ ¡éªŒæ³¨è§£ï¼š  <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span><span class="token punctuation">)</span>   éªŒè¯å­—ç¬¦ä¸²énullï¼Œä¸”é•¿åº¦å¿…é¡»å¤§äº<span class="token number">0</span>    <span class="token annotation punctuation">@Email</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ç”µå­é‚®ç®±åœ°å€    <span class="token annotation punctuation">@Length</span><span class="token punctuation">(</span>min<span class="token operator">=</span><span class="token punctuation">,</span>max<span class="token operator">=</span><span class="token punctuation">)</span>  è¢«æ³¨é‡Šçš„å­—ç¬¦ä¸²çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†…    <span class="token annotation punctuation">@NotEmpty</span>   è¢«æ³¨é‡Šçš„å­—ç¬¦ä¸²çš„å¿…é¡»éç©º    <span class="token annotation punctuation">@Range</span><span class="token punctuation">(</span>min<span class="token operator">=</span><span class="token punctuation">,</span>max<span class="token operator">=</span><span class="token punctuation">,</span>message<span class="token operator">=</span><span class="token punctuation">)</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»åœ¨åˆé€‚çš„èŒƒå›´å†…</code></pre></blockquote><h2 id="å‰ç«¯ç•Œé¢"><a href="#å‰ç«¯ç•Œé¢" class="headerlink" title="å‰ç«¯ç•Œé¢"></a>å‰ç«¯ç•Œé¢</h2><p>```html</p><!--å¢åŠ th:object="${type}"ï¼šå°†è¡¨å•ä¸å®ä½“ç±»ç»‘å®šï¼Œä»¥åç”¨*{}å¯ç›´æ¥å–å…¶å±æ€§å€¼--><form action="#" method="post" th:action="@{/admin/types}" th:object="${type}" class="ui form"><!--å¢åŠ th:value="*{name}"ï¼šèƒ½ç›´æ¥å–å‡ºth:objectç»‘å®šå¯¹è±¡çš„å±æ€§,ä¸ºäº†å›æ˜¾æ•°æ®--><input type="text" name="name" placeholder="åˆ†ç±»åç§°" th:value="*{name}"><!--æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯--></form>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
            <tag> ä¸ªäººåšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sshæ¡†æ¶æ•´åˆ</title>
      <link href="/2020/11/26/ssh-kuang-jia/ssh-zheng-he/"/>
      <url>/2020/11/26/ssh-kuang-jia/ssh-zheng-he/</url>
      
        <content type="html"><![CDATA[<h1 id="SSHæ•´åˆ"><a href="#SSHæ•´åˆ" class="headerlink" title="SSHæ•´åˆ"></a>SSHæ•´åˆ</h1><blockquote><p>ç¯å¢ƒï¼š</p><p>jdk7ï¼ŒTomcat8</p><p>Myeclipseï¼Œmysql</p></blockquote><p><strong>åˆ›å»ºWebé¡¹ç›®</strong></p><h2 id="æ·»åŠ Springå¼€å‘åŠŸèƒ½"><a href="#æ·»åŠ Springå¼€å‘åŠŸèƒ½" class="headerlink" title="æ·»åŠ Springå¼€å‘åŠŸèƒ½"></a><strong>æ·»åŠ Springå¼€å‘åŠŸèƒ½</strong></h2><ol><li><p>å³é”®é¡¹ç›®ï¼ŒMyeclipseï¼ŒProject Facetï¼Œé€‰æ‹©Spring</p></li><li><p>å‹¾é€‰â€œSpring Persistenceâ€jaråŒ…ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201126172351.png"></p></li></ol><h2 id="æ·»åŠ Hibernateå¼€å‘åŠŸèƒ½"><a href="#æ·»åŠ Hibernateå¼€å‘åŠŸèƒ½" class="headerlink" title="æ·»åŠ Hibernateå¼€å‘åŠŸèƒ½"></a><strong>æ·»åŠ Hibernateå¼€å‘åŠŸèƒ½</strong></h2><ol><li><p>å³é”®é¡¹ç›®ï¼ŒMyeclipseï¼ŒProject Facetï¼Œé€‰æ‹©Habernate</p></li><li><p>å–æ¶ˆå‹¾é€‰â€œCreate SessionFactory classï¼Ÿâ€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201126172714.png"></p></li><li><p>åœ¨applicationContext.xmlæ–‡ä»¶ä¸­dataSourceçš„beanä¸­è®¾ç½®åŠ è½½é©±åŠ¨</p><pre class=" language-xml"><code class="language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span>        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.apache.commons.dbcp.BasicDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClassName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--æ·»åŠ æ­¤å¤„--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li><li><p>æ–°å»ºmodelåŒ…ï¼Œåå‘ç”ŸæˆPOJOç±»ï¼Œå¹¶æ³¨æ„æ”¹POJOç±»ä¸­çš„ç…§ç‰‡çš„æ ¼å¼ä¸ºbyte[]ç±»å‹ï¼Œä»¥åŠPOJOç±»çš„æ˜ å°„æ–‡ä»¶ä¸­ï¼Œç…§ç‰‡å­—æ®µçš„â€œtype=â€java.lang.Stringâ€â€åˆ é™¤æ‰ï¼›</p><ol><li><p>åå‘ç”Ÿæˆéœ€è¦Myeclipseå…ˆè¿æ¥æ•°æ®åº“</p><ol><li><p>å³ä¸Šè§’å¢åŠ Database Explorer</p></li><li><p>å³é”®æ•°æ®åº“new</p><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20201126173630.png" style="zoom:60%;"></li></ol></li><li><p>åå‘ç”Ÿæˆjavabean</p><p>é€‰æ‹©Hibernateï¼Œéœ€è¦æ³¨æ„çš„å‡ ç‚¹ï¼š</p><ol><li>å‹¾é€‰å‰ä¸¤ä¸ªå¯¹å‹¾</li><li>é€‰æ‹©ä¸»é”®ç”Ÿæˆç­–ç•¥ï¼šassignedä¸ºé»˜è®¤ï¼Œnativeä¸ºè‡ªå¢</li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201126173809.png"></p></li></ol></li></ol><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20201126174213.png" style="zoom:60%;"><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20201126174318.png" style="zoom:60%;"><ol start="5"><li><p>æ–°å»ºdaoåŒ…ï¼Œç¼–å†™æ·»åŠ å­¦ç”Ÿä¿¡æ¯çš„DAOï¼›</p><ol><li>è¿™é‡Œéœ€è¦ç¼–å†™ä¸€ä¸ªè·å¾—sessionçš„ç±»BaseDaoï¼Œé…ç½®bean</li><li>ç¼–å†™implå®ç°ç±»ï¼Œé…ç½®bean</li></ol><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoImpl</span> <span class="token keyword">extends</span> <span class="token class-name">BaseDao</span> <span class="token keyword">implements</span> <span class="token class-name">UserDao</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//ç»§æ‰¿BaseDao</span>        <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span>Xsb xs<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Session session <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//BaseDaoå·¥å…·ç±»è·å–session</span>        Transaction ts <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¼€å¯äº‹åŠ¡</span>        session<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>xs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¿å­˜æ“ä½œ</span>        ts<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æäº¤äº‹åŠ¡</span>        session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å…³é—­session</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> Xsb <span class="token function">findOne</span><span class="token punctuation">(</span>Integer xh<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Session session <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Transaction ts <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Query query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span><span class="token string">"from Xsb where xh = ?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æŸ¥è¯¢</span>        query<span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> xh<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è®¾ç½®ï¼Ÿå·</span>        List<span class="token operator">&lt;</span>Xsb<span class="token operator">></span> list<span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//éå†</span>        Xsb user <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æŸ¥è¯¢ä¸€ä¸ªæ—¶ï¼Œå¯ä»¥ç›´æ¥è·å¾—ç¬¬ä¸€ä¸ª</span>        ts<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">!=</span>null<span class="token punctuation">)</span>            <span class="token keyword">return</span> user<span class="token punctuation">;</span>        <span class="token keyword">else</span>            <span class="token keyword">return</span> null<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> List<span class="token operator">&lt;</span>Xsb<span class="token operator">></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Session session <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Transaction ts <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Query query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span><span class="token string">"from Xsb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        List<span class="token operator">&lt;</span>Xsb<span class="token operator">></span> list <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ts<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token operator">!=</span>null<span class="token punctuation">)</span>            <span class="token keyword">return</span> list<span class="token punctuation">;</span>        <span class="token keyword">else</span>            <span class="token keyword">return</span> null<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li></ol><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>baseDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.jk.dao.BaseDao<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sessionFactory<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sessionFactory<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--setæ–¹æ³•æ³¨å…¥--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.jk.dao.impl.UserDaoImpl<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>baseDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--æŒ‡å®šçˆ¶ç±»--></span>    </code></pre><blockquote><p>springçš„setæ–¹æ³•æ³¨å…¥ï¼š</p><ol><li>åœ¨ç±»ä¸­å£°æ˜</li><li>ç”Ÿæˆget/setæ–¹æ³•</li><li>é…ç½®æ–‡ä»¶ä¸­é…ç½®<code>property</code></li></ol></blockquote><ol start="6"><li><p>æ–°å»ºserviceåŒ…ï¼Œç¼–å†™æ·»åŠ å­¦ç”Ÿä¿¡æ¯çš„service</p><ol><li><p>ç¼–å†™implå®ç°ç±»ï¼Œé…ç½®bean</p><ol><li>æ³¨å…¥dao</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.jk.service.impl.UserServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userdao<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li></ol></li></ol><h2 id="æ·»åŠ Struts2å¼€å‘åŠŸèƒ½"><a href="#æ·»åŠ Struts2å¼€å‘åŠŸèƒ½" class="headerlink" title="æ·»åŠ Struts2å¼€å‘åŠŸèƒ½"></a><strong>æ·»åŠ Struts2å¼€å‘åŠŸèƒ½</strong></h2><p>åŠ å…¥jspé¡µé¢</p><ol><li><p>æ·»åŠ jaråŒ…ï¼›</p></li><li><p>åˆ›å»ºstruts.xmlï¼šsrcç›®å½•ä¸‹</p><p>æ•´åˆç»†èŠ‚ï¼šactionçš„classå±æ€§å€¼ä¸ºapplicationContext.xmlæ–‡ä»¶ä¸­æ³¨å…¥çš„actionçš„id</p><pre class=" language-xml"><code class="language-xml"><span class="token doctype">&lt;!DOCTYPE struts PUBLIC    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"    "http://struts.apache.org/dtds/struts-2.0.dtd"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>struts</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span> <span class="token attr-name">extends</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>struts-default<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>addXsView<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userAction<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>addXsView<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>success<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>/addXsInfo.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>package</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>struts</span><span class="token punctuation">></span></span></code></pre><blockquote><p>è§£é‡Šï¼š</p><p>packageï¼š</p><ol><li>nameï¼šå¿…é¡»ï¼Œéšæ„å–</li><li>extendsï¼šå¿…é¡»ï¼Œç”¨äºè¯†åˆ«è¿™äº›strutsæ ‡ç­¾</li></ol><p>actionï¼š</p><ol><li>nameï¼šè¯·æ±‚é“¾æ¥</li><li>classï¼šapplicationContext.xmlæ–‡ä»¶ä¸­æ³¨å…¥çš„actionç±»çš„beançš„id</li><li>methodï¼šæŒ‡å®šæ‰§è¡Œå“ªä¸ªæ–¹æ³•ï¼Œä¸æŒ‡å®šå°±é»˜è®¤æ‰§è¡Œexcuteæ–¹æ³•</li></ol><p>resultï¼š</p><ol><li>nameï¼šactionæ–¹æ³•è¿”å›çš„å­—ç¬¦ä¸²</li><li>å€¼ï¼šåœ°å€</li></ol></blockquote></li><li><p>åœ¨web.xmlä¸­æ·»åŠ è¿‡æ»¤å™¨ï¼›</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>struts2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">></span></span>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>actionPackages<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>com.mycompany.myapp.actions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>struts2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">></span></span></code></pre></li><li><p>åˆ›å»ºstruts.propertiesæ–‡ä»¶ï¼ˆå†™çš„ä»£ç ä¸ºstruts.objectFactory=springï¼‰</p><p>sshæ•´åˆçš„å…³é”®ï¼Œè¡¨ç¤ºstruts.xmlä½¿ç”¨springæ¥åŠ è½½Bean</p></li><li><p>æ–°å»ºactionåŒ…ï¼Œåˆ›å»ºaction</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">userAction</span> <span class="token keyword">extends</span> <span class="token class-name">ActionSupport</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//actionéœ€è¦ç»§æ‰¿ActionSupport</span>        <span class="token keyword">private</span> UserService userService<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//setæ–¹æ³•æ³¨å…¥</span>    <span class="token keyword">public</span> UserService <span class="token function">getUserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> userService<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUserService</span><span class="token punctuation">(</span>UserService userService<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>userService <span class="token operator">=</span> userService<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> Xsb xs<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–å‰ç«¯è¡¨å•ä¼ æ¥çš„å€¼</span>        <span class="token keyword">public</span> Xsb <span class="token function">getXs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> xs<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setXs</span><span class="token punctuation">(</span>Xsb xs<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>xs <span class="token operator">=</span> xs<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> String <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>        Integer xh1<span class="token operator">=</span>xs<span class="token punctuation">.</span><span class="token function">getXh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>userService<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span>xh1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> ERROR<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        Xsb xs1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Xsb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å…ˆåˆ›å»ºä¸€ä¸ªå¯¹è±¡</span>        xs1<span class="token punctuation">.</span><span class="token function">setXh</span><span class="token punctuation">(</span>xs<span class="token punctuation">.</span><span class="token function">getXh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å°†è·å–çš„å€¼ä¼ å…¥æ–°å¯¹è±¡ä¸­</span>        xs1<span class="token punctuation">.</span><span class="token function">setXm</span><span class="token punctuation">(</span>xs<span class="token punctuation">.</span><span class="token function">getXm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        xs1<span class="token punctuation">.</span><span class="token function">setXb</span><span class="token punctuation">(</span>xs<span class="token punctuation">.</span><span class="token function">getXb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        xs1<span class="token punctuation">.</span><span class="token function">setCssj</span><span class="token punctuation">(</span>xs<span class="token punctuation">.</span><span class="token function">getCssj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        xs1<span class="token punctuation">.</span><span class="token function">setBz</span><span class="token punctuation">(</span>xs<span class="token punctuation">.</span><span class="token function">getBz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        userService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>xs1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¿å­˜æ–°å¯¹è±¡</span>        <span class="token keyword">return</span> SUCCESS<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//SUCCESSæ˜¯strutså†…éƒ¨å®šä¹‰çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨æ—¶å¤§å†™ï¼Œä¸åŠ åŒå¼•å·ï¼Œä¹Ÿå¯ä»¥è‡ªå·±è¿”å›å­—ç¬¦ä¸²ï¼Œå¦‚"ok"</span>    <span class="token punctuation">}</span>        <span class="token keyword">public</span> String <span class="token function">addXsView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> SUCCESS<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">public</span> String <span class="token function">xsInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        HttpServletRequest request <span class="token operator">=</span> ServletActionContext<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å¾—requestå¯¹è±¡</span>        List<span class="token operator">&lt;</span>Xsb<span class="token operator">></span> list <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"list"</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å°†å€¼ä¿å­˜åˆ°requestä¸­</span>        <span class="token keyword">return</span> SUCCESS<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><blockquote><p>strutsè·å–å‰ç«¯çš„å€¼ï¼š</p><ol><li><p>ç±»ä¸­å£°æ˜å¯¹è±¡ï¼Œä¸ç”¨åˆ›å»º</p></li><li><p>ç”Ÿæˆget/setæ–¹æ³•</p></li><li><p>ä¿®æ”¹è¡¨å•å¯¹åº”çš„æ•°æ®</p><pre><code>&lt;s:form action="addXs" method="post" enctype="multipart/form-data"&gt;&lt;!--ä½¿ç”¨s:form--&gt;    &lt;table border="0" cellspacing="0" cellpadding="1"&gt;        &lt;tr&gt;            &lt;td&gt;                &lt;s:textfield name="xs.xh" label="å­¦å·" value=""&gt;&lt;/s:textfield&gt;&lt;!--xsä¸ºç±»ä¸­å£°æ˜çš„å˜é‡åï¼Œxhä¸ºå¯¹è±¡çš„å±æ€§--&gt;            &lt;/td&gt;        &lt;/tr&gt;</code></pre></li><li><p>è¿™æ—¶æäº¤è¡¨å•ï¼Œæ•°æ®å°±ä¼šä¿å­˜åœ¨å¯¹è±¡ä¸­ã€‚ä½†æ˜¯ä¿å­˜æ“ä½œæ—¶ï¼Œå› ä¸ºå¯¹è±¡æ²¡æœ‰å®ä¾‹åŒ–ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ä¿å­˜ã€‚éœ€è¦å…ˆnewä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç”¨setå’Œgetæ–¹æ³•å°†æ•°æ®ä¿å­˜è¿›æ–°å¯¹è±¡ä¸­</p></li></ol><p>è·å–requestå¯¹è±¡çš„æ–¹æ³•ï¼š</p><ol><li><code>HttpServletRequest request = ServletActionContext.getRequest();</code></li></ol></blockquote><pre><code>&lt;s:iterator value="#request.list" id="xs"&gt;&lt;!--éå†è·å–å€¼--&gt;    &lt;tr&gt;        &lt;td&gt;&lt;s:property value="#xs.xh"/&gt;&lt;/td&gt;&lt;!--æ˜¾ç¤ºå€¼--&gt;        &lt;td&gt;&lt;s:property value="#xs.xm"/&gt;&lt;/td&gt;        &lt;td&gt;            &lt;s:if test="#xs.xb==1"&gt;ç”·&lt;/s:if&gt;            &lt;s:else&gt;å¥³&lt;/s:else&gt;        &lt;/td&gt;        &lt;td&gt;&lt;s:property value="#xs.cssj"/&gt;&lt;/td&gt;        &lt;td&gt;&lt;s:property value="#xs.zxf"/&gt;&lt;/td&gt;        &lt;td&gt;            &lt;a href="findXs .action?xs.xh=&lt;s:property value="#xs.xh"/&gt;"&gt;è¯¦ç»†ä¿¡æ¯&lt;/a&gt;        &lt;/td&gt;    &lt;/tr&gt;&lt;/s:iterator&gt;</code></pre></li></ol><blockquote><p>é‡åˆ°çš„å‘ï¼š</p><ol><li><p>404æˆ–è€…æäº¤è¡¨å•å‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸</p><p>åŸå› ï¼šbaseDaoçš„beanæ²¡æœ‰é…ç½®å®Œæˆï¼Œæ£€æŸ¥applicationContext.xml</p></li></ol></blockquote><h2 id="æœ€ç»ˆçš„é…ç½®æ–‡ä»¶"><a href="#æœ€ç»ˆçš„é…ç½®æ–‡ä»¶" class="headerlink" title="æœ€ç»ˆçš„é…ç½®æ–‡ä»¶"></a><strong>æœ€ç»ˆçš„é…ç½®æ–‡ä»¶</strong></h2><p>application.xml</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span>    <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>p</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/p<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>tx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/tx<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span>        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.apache.commons.dbcp.BasicDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClassName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sessionFactory<span class="token punctuation">"</span></span>        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.orm.hibernate4.LocalSessionFactoryBean<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hibernateProperties<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hibernate.dialect<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    org.hibernate.dialect.MySQLDialect                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mappingResources<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>com/jk/model/User.hbm.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>com/jk/model/Xsb.hbm.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span>        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.orm.hibernate4.HibernateTransactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sessionFactory<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sessionFactory<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>annotation-driven</span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token comment" spellcheck="true">&lt;!--ä»¥ä¸‹ä¸ºæ‰‹åŠ¨é…ç½®çš„--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>baseDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.jk.dao.BaseDao<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sessionFactory<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sessionFactory<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.jk.dao.impl.UserDaoImpl<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>baseDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.jk.service.impl.UserServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userdao<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userAction<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.jk.action.userAction<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userService<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userService<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre><p>struts.xml</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token doctype">&lt;!DOCTYPE struts PUBLIC    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"    "http://struts.apache.org/dtds/struts-2.0.dtd"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>struts</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span> <span class="token attr-name">extends</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>struts-default<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>addXsView<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userAction<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>addXsView<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>success<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>/addXsInfo.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>addXs<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userAction<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>success<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>/success.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>/existXs.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>xsInfo<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userAction<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>xsInfo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>success<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>/xsInfo.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>package</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>struts</span><span class="token punctuation">></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20201126183724.png" style="zoom:80%;"><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20201126183724.png" style="zoom:80%;"></p>]]></content>
      
      
      <categories>
          
          <category> sshæ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sshæ•´åˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootåšå®¢ï¼ˆä¸‰ï¼‰ï¼ˆåå°ç®¡ç†ä¹‹åˆ†ç±»æ ‡ç­¾ï¼‰</title>
      <link href="/2020/11/23/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-san-hou-tai-guan-li-zhi-fen-lei-biao-qian/"/>
      <url>/2020/11/23/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-san-hou-tai-guan-li-zhi-fen-lei-biao-qian/</url>
      
        <content type="html"><![CDATA[<h1 id="springbootåšå®¢ï¼ˆä¸‰ï¼‰ï¼ˆåå°ç®¡ç†ä¹‹åˆ†ç±»æ ‡ç­¾ï¼‰"><a href="#springbootåšå®¢ï¼ˆä¸‰ï¼‰ï¼ˆåå°ç®¡ç†ä¹‹åˆ†ç±»æ ‡ç­¾ï¼‰" class="headerlink" title="springbootåšå®¢ï¼ˆä¸‰ï¼‰ï¼ˆåå°ç®¡ç†ä¹‹åˆ†ç±»æ ‡ç­¾ï¼‰"></a>springbootåšå®¢ï¼ˆä¸‰ï¼‰ï¼ˆåå°ç®¡ç†ä¹‹åˆ†ç±»æ ‡ç­¾ï¼‰</h1><h2 id="åå°ç®¡ç†"><a href="#åå°ç®¡ç†" class="headerlink" title="åå°ç®¡ç†"></a>åå°ç®¡ç†</h2><h3 id="åˆ†ç±»ç®¡ç†"><a href="#åˆ†ç±»ç®¡ç†" class="headerlink" title="åˆ†ç±»ç®¡ç†"></a>åˆ†ç±»ç®¡ç†</h3><h4 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201130103146.png"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201130103242.png"></p><h4 id="åŠŸèƒ½åˆ†æ"><a href="#åŠŸèƒ½åˆ†æ" class="headerlink" title="åŠŸèƒ½åˆ†æ"></a>åŠŸèƒ½åˆ†æ</h4><ol><li>åˆ†ç±»æ˜¾ç¤ºã€åˆ†ç±»æ–°å¢é¡µé¢æ­å»º</li><li>åˆ†ç±»æ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤</li><li>åˆ†ç±»ä¸Šä¸‹ä¸€é¡µå±•ç¤º</li><li>åˆ†ç±»ä¸èƒ½ä¸ºç©ºï¼Œä¸èƒ½é‡å¤</li></ol><h4 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h4><ol><li><p>åˆ†ç±»ç®¡ç†é¡µé¢</p><p>å¤åˆ¶blogsçš„é¡µé¢è¿›è¡Œä¿®æ”¹</p></li><li><p>åˆ†ç±»åˆ—è¡¨é¡µé¢</p><p>å¤åˆ¶blogs-inputçš„é¡µé¢è¿›è¡Œä¿®æ”¹</p></li><li><p><strong>åˆ†ç±»æ–°å¢</strong>ã€ä¿®æ”¹ã€åˆ é™¤</p><ol><li><p>åˆ›å»º<code>TypeServiceï¼ŒTypeServiceImplï¼ŒTypeRepostory</code></p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token annotation punctuation">@Transactional</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TypeServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">TypeService</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> TypeRepository typeRepository<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> Type <span class="token function">saveType</span><span class="token punctuation">(</span>Type type<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> typeRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> Type <span class="token function">getType</span><span class="token punctuation">(</span>Long id<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> typeRepository<span class="token punctuation">.</span><span class="token function">getOne</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token comment" spellcheck="true">/*    pageableæ˜¯springbootè‡ªå¸¦çš„åˆ†é¡µå·¥å…·    */</span>    <span class="token keyword">public</span> Page<span class="token operator">&lt;</span>Type<span class="token operator">></span> <span class="token function">listType</span><span class="token punctuation">(</span>Pageable pageable<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> typeRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span>pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> Type <span class="token function">updateType</span><span class="token punctuation">(</span>Long id<span class="token punctuation">,</span> Type type<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Type t <span class="token operator">=</span> typeRepository<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æŸ¥è¯¢åˆ°åˆ†ç±»</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>t <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NotFindException</span><span class="token punctuation">(</span><span class="token string">"ä¸å­˜åœ¨è¯¥åˆ†ç±»ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        BeanUtils<span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å°†åˆ†ç±»è¦†ç›–åˆ°æŸ¥åˆ°çš„å¯¹è±¡ä¸­ï¼Œå®ç°æ›´æ–°</span>        <span class="token keyword">return</span> typeRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å°†å…¶ä¿å­˜åˆ°æ•°æ®åº“</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteType</span><span class="token punctuation">(</span>Long id<span class="token punctuation">)</span> <span class="token punctuation">{</span>        typeRepository<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">TypeRepository</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token operator">&lt;</span>Type<span class="token punctuation">,</span>Long<span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></li><li><p>åˆ›å»º<code>Typecontroller</code>ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TypeController</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> TypeService typeService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/types"</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//å‚æ•°pageableï¼šspringbootä¼šå°†åˆ†é¡µçš„æ•°æ®å°è£…è¿›è¿™é‡Œï¼Œæ¯é¡µæ˜¾ç¤ºæ•°é‡8ï¼Œidå€’å™æ’åº</span>    <span class="token keyword">public</span> String <span class="token function">types</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PageableDefault</span><span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span>sort <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"id"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>direction <span class="token operator">=</span> Sort<span class="token punctuation">.</span>Direction<span class="token punctuation">.</span>DESC<span class="token punctuation">)</span> Pageable pageable<span class="token punctuation">,</span>                        Model model<span class="token punctuation">)</span><span class="token punctuation">{</span>        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"page"</span><span class="token punctuation">,</span>typeService<span class="token punctuation">.</span><span class="token function">listType</span><span class="token punctuation">(</span>pageable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"/admin/types"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>ä¿®æ”¹é¡µé¢</p><p><strong>pageå‘é€åˆ°å‰ç«¯çš„æ•°æ®ï¼š</strong></p><pre class=" language-json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"content"</span><span class="token operator">:</span><span class="token punctuation">[</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">123</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog122"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">122</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog121"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">121</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog120"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">120</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog119"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">119</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog118"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">118</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog117"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">117</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog116"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">116</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog115"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">115</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog114"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">114</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog113"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">113</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog112"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">112</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog111"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog110"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">110</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog109"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">109</span><span class="token punctuation">,</span><span class="token property">"title"</span><span class="token operator">:</span><span class="token string">"blog108"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"this is blog content"</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"last"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token property">"totalPages"</span><span class="token operator">:</span><span class="token number">9</span><span class="token punctuation">,</span>  <span class="token property">"totalElements"</span><span class="token operator">:</span><span class="token number">123</span><span class="token punctuation">,</span>  <span class="token property">"size"</span><span class="token operator">:</span><span class="token number">15</span><span class="token punctuation">,</span>  <span class="token property">"number"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>  <span class="token property">"first"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token property">"sort"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>    <span class="token property">"direction"</span><span class="token operator">:</span><span class="token string">"DESC"</span><span class="token punctuation">,</span>    <span class="token property">"property"</span><span class="token operator">:</span><span class="token string">"id"</span><span class="token punctuation">,</span>    <span class="token property">"ignoreCase"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token property">"nullHandling"</span><span class="token operator">:</span><span class="token string">"NATIVE"</span><span class="token punctuation">,</span>    <span class="token property">"ascending"</span><span class="token operator">:</span><span class="token boolean">false</span>  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"numberOfElements"</span><span class="token operator">:</span><span class="token number">15</span><span class="token punctuation">}</span></code></pre><ol><li>types.html</li></ol><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>type,iterStat : ${page.content}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--${page.content}ï¼šåˆ†ç±»çš„ä¿¡æ¯--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${iterStat.count}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${type.name}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>åˆ»æ„ç»ƒä¹ æ¸…å•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/types/{id}/input/(id<span class="token punctuation">=</span>${type.id})}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui mini teal basic button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç¼–è¾‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token comment" spellcheck="true">&lt;!--idä¼šèµ‹ç»™{id}ï¼Œä»è€Œèµ‹å€¼ç»™controllerä¸­çš„å‚æ•°id--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/types/{id}/delete/(id<span class="token punctuation">=</span>${type.id})}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui mini red basic button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tfoot</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui mini pagination menu<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/types(page<span class="token punctuation">=</span>${page.number}-1)}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸Šä¸€é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                 <span class="token comment" spellcheck="true">&lt;!--ä¼ å‚pageä¼šè¢«å°è£…è¿›controllerçš„pageableä¸­ï¼Œå®ç°ä¸Šä¸‹é¡µè½¬æ¢--></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/types(page<span class="token punctuation">=</span>${page.number}+1})}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸‹ä¸€é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/types/input}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui mini right floated teal basic button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ–°å¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tfoot</span><span class="token punctuation">></span></span></code></pre><ol start="2"><li><p>_fragment.html</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/blogs}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-item item m-mobile-hide<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>classappend</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${n<span class="token punctuation">=</span><span class="token punctuation">=</span>1}?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini home icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>åšå®¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/types}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> m-item item m-mobile-hide<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>classappend</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${n<span class="token punctuation">=</span><span class="token punctuation">=</span>2}?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini idea icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>åˆ†ç±»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/tags}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-item item m-mobile-hide<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>classappend</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${n<span class="token punctuation">=</span><span class="token punctuation">=</span>3}?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini tags icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>æ ‡ç­¾<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre></li></ol></li><li><p><strong>è·³è½¬æ–°å¢åˆ†ç±»é¡µé¢ï¼Œæ–°å¢åˆ†ç±»</strong></p><p>ç¼–å†™typeController</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/*    è·³è½¬æ–°å¢åˆ†ç±»é¡µé¢     */</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/types/input"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"/admin/types-input"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/*    æ–°å¢åˆ†ç±»     */</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/types"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">post</span><span class="token punctuation">(</span>Type type<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//è¡¨å•æäº¤çš„nameä¼šå°è£…è¿›typeå¯¹è±¡ä¸­</span>        Type t <span class="token operator">=</span> typeService<span class="token punctuation">.</span><span class="token function">saveType</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>t <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token string">"redirect:/admin/types"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>ç¼–å†™types-input.html</p><pre class=" language-html"><code class="language-html">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/types}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui form<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token comment" spellcheck="true">&lt;!--æ­¤å¤„å¢åŠ actionï¼Œpostè¯·æ±‚--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>field<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui left labeled input<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui teal basic label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>åç§°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>åˆ†ç±»åç§°<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui error message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui right aligned container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui button<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>window.history.go(-1)<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>è¿”å›<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui teal submit button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æäº¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>            <span class="token comment" spellcheck="true">&lt;!--æ­¤å¤„å¢åŠ submit--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre></li><li><p><strong>è®©ä¸Šä¸‹ä¸€é¡µæŒ‰æ¡ä»¶éšè—</strong></p><p>ç¼–å†™types.htmlé¡µé¢</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui mini pagination menu<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${page.totalPages}<span class="token punctuation">></span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--æ€»é¡µæ•°>1--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/types(page<span class="token punctuation">=</span>${page.number}-1)}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> item<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${page.first}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸Šä¸€é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--ä¼ å‚pageä¼šè¢«å°è£…è¿›controllerçš„pageableä¸­ï¼Œå®ç°ä¸Šä¸‹é¡µè½¬æ¢--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/admin/types(page<span class="token punctuation">=</span>${page.number}+1)}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> item<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${page.last}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸‹ä¸€é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></li><li><p><strong>å¢åŠ  æ·»åŠ æˆåŠŸ/å¤±è´¥çš„åé¦ˆæ¶ˆæ¯</strong></p><ol><li><p>controllerä¸­ç”¨redirectAttributeä¿å­˜æ¶ˆæ¯</p></li><li><p>åœ¨types.htmlé¡µé¢å¢åŠ ç»„ä»¶æ¥æ”¶æ¶ˆæ¯</p><p>```html</p><!--æ–°å¢æ“ä½œæˆåŠŸ/å¤±è´¥æç¤ºæ¡†--></li></ol></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
            <tag> ä¸ªäººåšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootåšå®¢ï¼ˆäºŒï¼‰ï¼ˆåå°ç®¡ç†ï¼‰</title>
      <link href="/2020/11/22/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-er-hou-tai-guan-li-zhi-deng-lu/"/>
      <url>/2020/11/22/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-er-hou-tai-guan-li-zhi-deng-lu/</url>
      
        <content type="html"><![CDATA[<h1 id="springbootåšå®¢ï¼ˆäºŒï¼‰ï¼ˆåå°ç®¡ç†ä¹‹ç™»å½•ï¼‰"><a href="#springbootåšå®¢ï¼ˆäºŒï¼‰ï¼ˆåå°ç®¡ç†ä¹‹ç™»å½•ï¼‰" class="headerlink" title="springbootåšå®¢ï¼ˆäºŒï¼‰ï¼ˆåå°ç®¡ç†ä¹‹ç™»å½•ï¼‰"></a>springbootåšå®¢ï¼ˆäºŒï¼‰ï¼ˆåå°ç®¡ç†ä¹‹ç™»å½•ï¼‰</h1><h2 id="åå°ç®¡ç†"><a href="#åå°ç®¡ç†" class="headerlink" title="åå°ç®¡ç†"></a>åå°ç®¡ç†</h2><h3 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h3><h4 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201130102036.png"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201130103100.png"></p><h4 id="åŠŸèƒ½åˆ†æ"><a href="#åŠŸèƒ½åˆ†æ" class="headerlink" title="åŠŸèƒ½åˆ†æ"></a>åŠŸèƒ½åˆ†æ</h4><ol><li>ç™»å½•é¡µé¢ã€åå°ç®¡ç†é¦–é¡µæ­å»º</li><li>ç”¨æˆ·åã€å¯†ç æ ¡éªŒï¼Œè·³è½¬åˆ°ç®¡ç†é¡µé¢</li><li>ç”¨æˆ·åå¯†ç ä¸èƒ½ä¸ºç©º</li><li>å¯†ç MD5åŠ å¯†</li><li>æœªç™»å½•ä¸èƒ½ç›´æ¥è¿›å…¥ç®¡ç†é¦–é¡µ</li></ol><h4 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h4><ol><li><p>æ„å»ºç™»é™†é¡µé¢å’Œåå°ç®¡ç†é¦–é¡µ</p><ol><li>ç™»é™†é¡µé¢ï¼šhead/javascrpitä¿ç•™ï¼Œä»<a href="https://semantic-ui.com/examples/login.html">semantic</a>æ‹·è´ç™»å½•é¡µé¢</li><li>åå°ç®¡ç†é¦–é¡µï¼šæ‹·è´admin/indexé¡µé¢</li><li>å…¬ç”¨é¡µé¢ï¼šä»åŸå…±æœ‰é¡µé¢æ‹·è´ï¼Œæ¢ä½adminçš„navå¯¼èˆªï¼Œä½¿ç”¨fragmentå¼•ç”¨å¸ƒå±€</li></ol></li><li><p>UserServiceå’ŒUserRepository</p><ol><li>UserServiceï¼š<code>checkUser()</code></li><li>UserRepositoryï¼šç»§æ‰¿jpaï¼Œ<code>findByUsernameAndPassword(String username,String password)</code></li></ol><blockquote><p>è¿™é‡Œä¸»è¦æ˜¯è·å–æ•°æ®åº“ä¸­çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œé€šè¿‡æ§åˆ¶å™¨ä¼ é€’è¿‡æ¥çš„å¯†ç è¿›è¡Œè§£æåŒ¹é…ï¼ŒåŒ¹é…æˆåŠŸåˆ™ç™»å½•</p></blockquote></li><li><p>LoginControllerå®ç°ç™»å½•</p><blockquote><ul><li>ç™»å½•æ ¡éªŒï¼šå°†å‰ç«¯ä¼ é€’è¿‡æ¥çš„ç”¨æˆ·åå’Œå¯†ç ç»™serviceè¿›è¡Œæ£€éªŒæ ¸å¯¹ï¼Œå¹¶æ”¾å…¥sessionåŸŸä¸­ï¼ˆsessionæ˜¯å…¨å±€çš„ï¼Œç™»å½•åè®¿é—®å…¶ä»–é¡µé¢æˆ–è€…é‡å¼€é¡µé¢ä¹Ÿæ˜¯ç™»å½•çŠ¶æ€ï¼‰</li><li>ç™»å½•æˆåŠŸè·³è½¬åå°ç®¡ç†é¡µé¢ï¼Œå¤±è´¥åˆ™è·³è½¬ç™»å½•é¡µé¢</li><li>ç™»å½•æˆåŠŸåå¯ä»¥è¿›è¡Œæ³¨é”€ï¼Œæ³¨é”€åè¿”å›ç™»å½•é¡µé¢</li></ul></blockquote><ol><li><p>adminï¼šè·³è½¬åˆ°ç™»å½•é¡µé¢</p></li><li><p>loginï¼šåˆ¤æ–­ç”¨æˆ·ï¼Œè¿›è¡Œç™»å½•ï¼ˆæ­£ç¡®è½¬å‘ï¼Œé”™è¯¯é‡å®šå‘ï¼‰ï¼Œæ­£ç¡®å­˜sessionï¼Œé”™è¯¯å­˜RedirectAttributesé”™è¯¯ä¿¡æ¯</p></li><li><p>logoutï¼šç§»é™¤Sessionï¼Œé‡å®šå‘<code>redirect:/admin</code></p></li><li><p>æŒ‡å®šè¡¨å•action,ç™»å½•æŒ‰é’®divæ¢æˆbutton,ç»™å‰ç«¯é¡µé¢ç™»å‡ºæŒ‰é’®å¢åŠ hrefï¼ˆåœ¨æŠ½å–çš„æ¨¡æ¿ä¸­ä¿®æ”¹ï¼‰</p></li><li><p>åœ¨æ•°æ®åº“å­˜ä¸ªä¿¡æ¯</p></li><li><p>å¢åŠ éªŒè¯ï¼šç”¨æˆ·åå¯†ç ä¸èƒ½ä¸ºç©ºï¼Œ</p></li><li><p>å¢åŠ ï¼ˆåŸæœ¬çš„æ¶ˆæ¯æç¤ºæ¡†æ˜¯éªŒè¯çš„æç¤ºæ¡†ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±å†™ä¸€ä¸ªï¼‰æç¤ºæ¶ˆæ¯æ¡†</p><p>```html</p></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
            <tag> ä¸ªäººåšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootåšå®¢ï¼ˆä¸€ï¼‰ï¼ˆç¯å¢ƒæ­å»ºï¼‰</title>
      <link href="/2020/11/15/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-yi-huan-jing-da-jian/"/>
      <url>/2020/11/15/xiang-mu/ge-ren-bo-ke-wang-zhan/springboot-bo-ke-yi-huan-jing-da-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="springbootåšå®¢ï¼ˆä¸€ï¼‰ï¼ˆç¯å¢ƒæ­å»ºï¼‰"><a href="#springbootåšå®¢ï¼ˆä¸€ï¼‰ï¼ˆç¯å¢ƒæ­å»ºï¼‰" class="headerlink" title="springbootåšå®¢ï¼ˆä¸€ï¼‰ï¼ˆç¯å¢ƒæ­å»ºï¼‰"></a>springbootåšå®¢ï¼ˆä¸€ï¼‰ï¼ˆç¯å¢ƒæ­å»ºï¼‰</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™æ˜¯ä¸€ç¯‡å…³äºspringbootçš„ä¸ªäººåšå®¢åç«¯æ­å»ºè¯¦ç»†è¿‡ç¨‹ï¼Œå…³äºå‰ç«¯é¡µé¢çš„ç¼–å†™è¿™é‡Œä¸å†è¯¦ç»†èµ˜è¿°ï¼Œä½†åç«¯ç”¨åˆ°çš„thymeleafæ¸²æŸ“é¡µé¢å’Œä¸€äº›å…³é”®jqueryä¹Ÿä¼šè®°å½•åœ¨å†…ã€‚è¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ç°åœ¨å°±å¼€å§‹å§ï¼</p><p>å…³äºå…·ä½“æ­å»ºè¿‡ç¨‹è¯·ç§»æ­¥åˆ°<strong>ç¯å¢ƒæ­å»ºã€é¡µé¢å¤„ç†</strong></p><blockquote><p><strong>æŠ€æœ¯é€‰å‹ï¼š</strong></p><ul><li> åç«¯ï¼šSpring Boot + JPA + thymeleafæ¨¡æ¿</li><li> æ•°æ®åº“ï¼šMySQL</li><li> å‰ç«¯UIï¼šSemantic UIæ¡†æ¶</li></ul><p><strong>å·¥å…·ä¸ç¯å¢ƒï¼š</strong></p><ul><li> IDEA</li><li> Maven 3</li><li> JDK 8</li></ul></blockquote><h2 id="éœ€æ±‚ä¸åŠŸèƒ½"><a href="#éœ€æ±‚ä¸åŠŸèƒ½" class="headerlink" title="éœ€æ±‚ä¸åŠŸèƒ½"></a>éœ€æ±‚ä¸åŠŸèƒ½</h2><h3 id="1-1-ç”¨æˆ·æ•…äº‹"><a href="#1-1-ç”¨æˆ·æ•…äº‹" class="headerlink" title="1.1 ç”¨æˆ·æ•…äº‹"></a>1.1 ç”¨æˆ·æ•…äº‹</h3><p>ç”¨æˆ·æ•…äº‹æ˜¯æ•æ·æ¡†æ¶ä¸­çš„ä¸€ç§å¼€å‘æ–¹æ³•ã€‚å¯ä»¥å¸®åŠ©å¼€å‘è€…è½¬æ¢è§†è§’ï¼Œä»¥ç”¨æˆ·çš„è§’åº¦æ›´å¥½çš„æŠŠæ¡éœ€æ±‚ï¼Œä»è€Œå®ç°å…·æœ‰å•†ä¸šä»·å€¼çš„åŠŸèƒ½ã€‚</p><p><strong>ç”¨æˆ·æ•…äº‹æ¨¡æ¿</strong>ï¼š</p><ul><li> ä½œä¸ºä¸€ä¸ª(æŸä¸ªè§’è‰²) ä½¿ç”¨è€…ï¼Œæˆ‘å¯ä»¥åš(æŸä¸ªåŠŸèƒ½) äº‹æƒ…ï¼Œå¦‚æ­¤å¯ä»¥æœ‰(æŸä¸ªå•†ä¸šä»·å€¼) çš„å¥½å¤„</li></ul><p><strong>å…³é”®ç‚¹</strong>ï¼šè§’è‰²ã€åŠŸèƒ½ã€å•†ä¸šä»·å€¼</p><p><strong>ä¸¾ä¾‹</strong>ï¼š</p><ul><li> ä½œä¸ºä¸€ä¸ªæ‹›è˜ç½‘ç«™<strong>æ³¨å†Œç”¨æˆ·</strong>ï¼Œæˆ‘æƒ³<strong>æŸ¥çœ‹æœ€è¿‘3å¤©å‘å¸ƒçš„æ‹›è˜ä¿¡æ¯</strong>ï¼Œä»¥ä¾¿äº<strong>äº†è§£æœ€æ–°çš„æ‹›è˜ä¿¡æ¯</strong>ã€‚</li><li> ä½œä¸ºå…¬å¸ï¼Œå¯ä»¥å¼ è´´æ–°å·¥ä½œã€‚</li></ul><p>ä¸ªäººåšå®¢ç³»ç»Ÿçš„ç”¨æˆ·æ•…äº‹ï¼š</p><p>è§’è‰²ï¼š<strong>æ™®é€šè®¿å®¢</strong>ï¼Œ<strong>ç®¡ç†å‘˜ï¼ˆæˆ‘ï¼‰</strong></p><ul><li> è®¿å®¢ï¼Œå¯ä»¥åˆ†é¡µæŸ¥çœ‹æ‰€æœ‰çš„åšå®¢</li><li> è®¿å®¢ï¼Œå¯ä»¥å¿«é€ŸæŸ¥çœ‹åšå®¢æ•°æœ€å¤šçš„6ä¸ªåˆ†ç±»</li><li> è®¿å®¢ï¼Œå¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„åˆ†ç±»</li><li> è®¿å®¢ï¼Œå¯ä»¥æŸ¥çœ‹æŸä¸ªåˆ†ç±»ä¸‹çš„åšå®¢åˆ—è¡¨</li><li> è®¿å®¢ï¼Œå¯ä»¥å¿«é€ŸæŸ¥çœ‹æ ‡è®°åšå®¢æœ€å¤šçš„10ä¸ªæ ‡ç­¾</li><li> è®¿å®¢ï¼Œå¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„æ ‡ç­¾</li><li> è®¿å®¢ï¼Œå¯ä»¥æŸ¥çœ‹æŸä¸ªæ ‡ç­¾ä¸‹çš„åšå®¢åˆ—è¡¨</li><li> è®¿å®¢ï¼Œå¯ä»¥æ ¹æ®å¹´åº¦æ—¶é—´çº¿æŸ¥çœ‹åšå®¢åˆ—è¡¨</li><li> è®¿å®¢ï¼Œå¯ä»¥å¿«é€ŸæŸ¥çœ‹æœ€æ–°çš„æ¨èåšå®¢</li><li> è®¿å®¢ï¼Œå¯ä»¥ç”¨å…³é”®å­—å…¨å±€æœç´¢åšå®¢</li><li> è®¿å®¢ï¼Œå¯ä»¥æŸ¥çœ‹å•ä¸ªåšå®¢å†…å®¹</li><li> è®¿å®¢ï¼Œå¯ä»¥å¯¹åšå®¢å†…å®¹è¿›è¡Œè¯„è®º</li><li> è®¿å®¢ï¼Œå¯ä»¥èµèµåšå®¢å†…å®¹</li><li> è®¿å®¢ï¼Œå¯ä»¥å¾®ä¿¡æ‰«ç é˜…è¯»åšå®¢å†…å®¹</li><li> è®¿å®¢ï¼Œå¯ä»¥åœ¨é¦–é¡µæ‰«æå…¬ä¼—å·äºŒç»´ç å…³æ³¨æˆ‘</li><li> æˆ‘ï¼Œå¯ä»¥ç”¨æˆ·åå’Œå¯†ç ç™»å½•åå°ç®¡ç†</li><li>æˆ‘ï¼Œå¯ä»¥ç®¡ç†åšå®¢<ul><li> æˆ‘ï¼Œå¯ä»¥å‘å¸ƒæ–°åšå®¢</li><li> æˆ‘ï¼Œå¯ä»¥å¯¹åšå®¢è¿›è¡Œåˆ†ç±»</li><li> æˆ‘ï¼Œå¯ä»¥å¯¹åšå®¢æ‰“æ ‡ç­¾</li><li> æˆ‘ï¼Œå¯ä»¥ä¿®æ”¹åšå®¢</li><li> æˆ‘ï¼Œå¯ä»¥åˆ é™¤åšå®¢</li><li> æˆ‘ï¼Œå¯ä»¥æ ¹æ®æ ‡é¢˜ï¼Œåˆ†ç±»ï¼Œæ ‡ç­¾æŸ¥è¯¢åšå®¢</li></ul></li><li>æˆ‘ï¼Œå¯ä»¥ç®¡ç†åšå®¢åˆ†ç±»<ul><li> æˆ‘ï¼Œå¯ä»¥æ–°å¢ä¸€ä¸ªåˆ†ç±»</li><li> æˆ‘ï¼Œå¯ä»¥ä¿®æ”¹ä¸€ä¸ªåˆ†ç±»</li><li> æˆ‘ï¼Œå¯ä»¥åˆ é™¤ä¸€ä¸ªåˆ†ç±»</li><li> æˆ‘ï¼Œå¯ä»¥æ ¹æ®åˆ†ç±»åç§°æŸ¥è¯¢åˆ†ç±»</li></ul></li><li>æˆ‘ï¼Œå¯ä»¥ç®¡ç†æ ‡ç­¾<ul><li> æˆ‘ï¼Œå¯ä»¥æ–°å¢ä¸€ä¸ªæ ‡ç­¾</li><li> æˆ‘ï¼Œå¯ä»¥ä¿®æ”¹ä¸€ä¸ªæ ‡ç­¾</li><li> æˆ‘ï¼Œå¯ä»¥åˆ é™¤ä¸€ä¸ªæ ‡ç­¾</li><li> æˆ‘ï¼Œå¯ä»¥æ ¹æ®åç§°æŸ¥è¯¢æ ‡ç­¾</li></ul></li></ul><h3 id="1-2-åŠŸèƒ½è§„åˆ’"><a href="#1-2-åŠŸèƒ½è§„åˆ’" class="headerlink" title="1.2 åŠŸèƒ½è§„åˆ’"></a>1.2 åŠŸèƒ½è§„åˆ’</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201130113147.png"></p><hr><h2 id="2ã€é¡µé¢è®¾è®¡ä¸å¼€å‘"><a href="#2ã€é¡µé¢è®¾è®¡ä¸å¼€å‘" class="headerlink" title="2ã€é¡µé¢è®¾è®¡ä¸å¼€å‘"></a>2ã€é¡µé¢è®¾è®¡ä¸å¼€å‘</h2><h3 id="2-1-è®¾è®¡"><a href="#2-1-è®¾è®¡" class="headerlink" title="2.1 è®¾è®¡"></a>2.1 è®¾è®¡</h3><p><strong>é¡µé¢è§„åˆ’ï¼š</strong></p><p>å‰ç«¯å±•ç¤ºï¼šé¦–é¡µã€è¯¦æƒ…é¡µã€åˆ†ç±»ã€æ ‡ç­¾ã€å½’æ¡£ã€å…³äºæˆ‘</p><p>åå°ç®¡ç†ï¼šç™»å½•é¡µã€åå°é¦–é¡µã€åšå®¢ã€åˆ†ç±»ã€æ ‡ç­¾</p><h3 id="2-2-é¡µé¢å¼€å‘"><a href="#2-2-é¡µé¢å¼€å‘" class="headerlink" title="2.2 é¡µé¢å¼€å‘"></a>2.2 é¡µé¢å¼€å‘</h3><p><a href="https://semantic-ui.com/">Semantic UIå®˜ç½‘</a></p><p><a href="http://www.semantic-ui.cn/">Semantic UIä¸­æ–‡å®˜ç½‘</a></p><p><a href="https://imcoding.me/blogs/5">WebStormä¸‹è½½ä¸ç ´è§£</a></p><p><a href="https://www.toptal.com/designers/subtlepatterns/">èƒŒæ™¯å›¾ç‰‡èµ„æº</a></p><h3 id="2-3-æ’ä»¶é›†æˆ"><a href="#2-3-æ’ä»¶é›†æˆ" class="headerlink" title="2.3 æ’ä»¶é›†æˆ"></a>2.3 æ’ä»¶é›†æˆ</h3><p><a href="https://pandao.github.io/editor.md/">ç¼–è¾‘å™¨ Markdown</a></p><p><a href="https://github.com/sofish/typo.css">å†…å®¹æ’ç‰ˆ typo.css</a></p><p><a href="https://daneden.github.io/animate.css/">åŠ¨ç”» animate.css</a></p><p><a href="https://github.com/PrismJS/prism">ä»£ç é«˜äº® prism</a></p><p><a href="https://tscanlin.github.io/tocbot/">ç›®å½•ç”Ÿæˆ Tocbot</a></p><p><a href="http://imakewebthings.com/waypoints/">æ»šåŠ¨ä¾¦æµ‹ waypoints</a></p><p><a href="https://github.com/flesler/jquery.scrollTo">å¹³æ»‘æ»šåŠ¨ jquery.scrollTo</a></p><p><a href="https://davidshimjs.github.io/qrcodejs/">äºŒç»´ç ç”Ÿæˆ qrcode.js</a></p><hr><h2 id="ç¯å¢ƒæ­å»ºã€é¡µé¢å¤„ç†"><a href="#ç¯å¢ƒæ­å»ºã€é¡µé¢å¤„ç†" class="headerlink" title="ç¯å¢ƒæ­å»ºã€é¡µé¢å¤„ç†"></a><strong>ç¯å¢ƒæ­å»ºã€é¡µé¢å¤„ç†</strong></h2><h3 id="1-ç¯å¢ƒæ„å»º"><a href="#1-ç¯å¢ƒæ„å»º" class="headerlink" title="1. ç¯å¢ƒæ„å»º"></a>1. ç¯å¢ƒæ„å»º</h3><ol><li><p>åˆ›å»ºspringbootå·¥ç¨‹ï¼Œjdk8</p></li><li><p>å¼•å…¥æ¨¡å—</p><ol><li>web</li><li>Thymeleaf</li><li>JPA</li><li>Mysql</li><li>Aspects</li><li>DevTools</li></ol><pre class=" language-xml"><code class="language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.5.7.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/></span></span> <span class="token comment" spellcheck="true">&lt;!-- lookup parent from repository --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--è¿™é‡Œthymeleafä½¿ç”¨3.xçš„ç‰ˆæœ¬--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thymeleaf.version</span><span class="token punctuation">></span></span>3.0.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thymeleaf.version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thymeleaf-layout-dialect.version</span><span class="token punctuation">></span></span>2.1.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thymeleaf-layout-dialect.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-data-jpa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.atlassian.commonmark<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commonmark<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.10.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.atlassian.commonmark<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commonmark-ext-heading-anchor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.10.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.atlassian.commonmark<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commonmark-ext-gfm-tables<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.10.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre></li><li><p>é…ç½®æ–‡ä»¶application.yml</p><pre class=" language-yml"><code class="language-yml">spring:  thymeleaf:    mode: HTML  profiles:    active: dev</code></pre><p>application-dev.yml</p><blockquote><p>éœ€è¦æå‰åˆ›å»ºå¥½æ•°æ®åº“</p></blockquote><pre class=" language-yml"><code class="language-yml">spring:  datasource:    driver-class-name: com.mysql.jdbc.Driver    url: jdbc:mysql://localhost:3306/myblog?useUnicode=true&characterEncoding=utf-8    username: root    password: 1234  jpa: #æ‰€æœ‰Jpaçš„é…ç½®é¡¹éƒ½åœ¨jpaPropertiesä¸­    hibernate:      ddl-auto: update #æ›´æ–°æˆ–åˆ›å»ºæ•°æ®è¡¨ç»“æ„    show-sql: true #æ§åˆ¶å°æ˜¾ç¤ºsqllogging:  level:    root: info    top.jm: debug  file: log/myblog-dev.log</code></pre><p>application-pro.xml</p><pre class=" language-yml"><code class="language-yml">spring:  datasource:    driver-class-name: com.mysql.jdbc.Driver    url: jdbc:mysql://localhost:3306/myblog?useUnicode=true&characterEncoding=utf-8    username: root    password: 1234  jpa:    hibernate:      ddl-auto: none    show-sql: truelogging:  level:    root: warn    top.jm: info  file: log/myblog-pro.log</code></pre><p>SpringBootä¸­æœ‰æ—¥å¿—é»˜è®¤çš„ç”Ÿæˆä»¥åŠåˆ‡åˆ†ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥é‡å†™SpringBooté»˜è®¤æ—¥å¿—é…ç½®ï¼Œè‡ªå®šä¹‰æ—¥å¿—å¤§å°å’Œåç§°ç­‰ç­‰ï¼Œåœ¨èµ„æºæ–‡ä»¶å¤¹ä¸‹æ·»åŠ logback-spring.xmlè¿›è¡Œé…ç½®</p></li></ol><h3 id="2-å¼‚å¸¸å¤„ç†"><a href="#2-å¼‚å¸¸å¤„ç†" class="headerlink" title="2. å¼‚å¸¸å¤„ç†"></a>2. å¼‚å¸¸å¤„ç†</h3><blockquote><p>åœ¨é¡µé¢è®¿é—®çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€äº›æ¯”è¾ƒå¸¸è§çš„å¼‚å¸¸æŠ¥é”™ä¿¡æ¯ï¼Œæ¯”å¦‚è·¯å¾„æ— æ³•è®¿é—®404å¼‚å¸¸ã€æœåŠ¡å™¨é”™è¯¯500å¼‚å¸¸ä»¥åŠè‡ªå·±å®šä¹‰çš„é”™è¯¯é¡µé¢ç­‰ç­‰ï¼ŒSpringBootæ¡†æ¶æä¾›äº†å¤„ç†é”™è¯¯é¡µé¢çš„æ–¹æ³•ï¼Œåœ¨è¿™é‡Œï¼Œå’±ä»¬å¯¹404ã€500ã€errorå¼‚å¸¸é¡µé¢è¿›è¡Œå¤„ç†ã€‚</p></blockquote><ol><li><p>åœ¨<code>resources/templates</code>ä¸‹åˆ›å»º<code>error</code>æ–‡ä»¶å¤¹ï¼Œåˆ›å»º404/500/error.htmlï¼Œspringbootåœ¨å‡ºç°è¯¥çŠ¶æ€ç æ—¶ä¼šè‡ªåŠ¨åœ¨è¯¥ç›®å½•æ‰¾è¯¥é¡µé¢ </p></li><li><p>åœ¨<code>templates</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºindex.htmlï¼Œç”¨äºæµ‹è¯•</p></li><li><p>åˆ›å»ºcontrollerï¼Œè·³è½¬æµ‹è¯•ç”¨</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExceptionController</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">indexController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//int i = 1/0;</span>        <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><blockquote><p>å°çŸ¥è¯†ï¼š</p><p>å› ä¸ºå¯¼å…¥äº†devtoolsçš„jaråŒ…ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°çƒ­éƒ¨ç½²ï¼Œé‡ç¼–è¯‘è¿è¡Œå°±å¯ä»¥äº†</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201023183434.png"></p></blockquote></li></ol><p><strong>è·³è½¬error.htmlçš„æ–¹æ³•</strong></p><blockquote><p>å¯¹äº404å’Œ500é”™è¯¯é¡µé¢ï¼ŒSpringBootå¯ä»¥æ ¹æ®é¡µé¢çš„å‘½åæ–¹å¼æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼Œè€Œè‡ªå®šä¹‰çš„é”™è¯¯å°±éœ€è¦æˆ‘ä»¬è‡ªå·±æ¥æ‹¦æˆªäº†ï¼Œè®©ä»£ç å‡ºç°é—®é¢˜çš„æ—¶å€™è·³è½¬åˆ°æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„é”™è¯¯é¡µé¢ï¼Œè¿™é‡Œå°±éœ€è¦è‡ªå®šä¹‰æ‹¦æˆªå™¨ã€‚</p></blockquote><ol><li><p>åˆ›å»ºæ‹¦æˆªå™¨ï¼Œæ‹¦æˆªæ‰€æœ‰controllerè¯·æ±‚</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@ControllerAdvice</span><span class="token comment" spellcheck="true">//è¡¨ç¤ºæ‹¦æˆªcontrollerçš„æ‰€æœ‰è¯·æ±‚</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ControllerExceptionHandler</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> Logger logger <span class="token operator">=</span>            LoggerFactory<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>ControllerExceptionHandler<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åˆ›å»ºæ—¥å¿—å¯¹è±¡</span>    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Exception<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//è¡¨ç¤ºè¿™æ˜¯ä¸ªå¼‚å¸¸å¤„ç†çš„æ‹¦æˆªå™¨</span>    <span class="token keyword">public</span> ModelAndView <span class="token function">exceptionHandler</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span>Exception e<span class="token punctuation">)</span><span class="token punctuation">{</span>        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Request URL:{},Exception:{}"</span><span class="token punctuation">,</span>request<span class="token punctuation">.</span><span class="token function">getRequestURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>        ModelAndView modelAndView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">,</span>request<span class="token punctuation">.</span><span class="token function">getRequestURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"exception"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>        modelAndView<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"error/error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¿™æ ·è·¯å¾„ä¼šè¯†åˆ«åˆ°templatesä¸‹çš„è·¯å¾„</span>        <span class="token keyword">return</span> modelAndView<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li></ol><p><strong>é”™è¯¯é¡µé¢ä¿¡æ¯æ˜¾ç¤ºï¼ˆä¾¿äºå¼€å‘æ—¶åœ¨é¡µé¢çœ‹åˆ°é”™è¯¯ï¼‰</strong></p><ol><li>åœ¨error.htmlä¸­åŠ ä¸Š</li></ol><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>utext</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>&amp;lt;!--<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--è¿™é‡Œæ˜¯è½¬ä¹‰ï¼Œå³â€œ&lt;--â€æ³¨é‡Šçš„å¼€å¤´ï¼Œè¿™æ ·åœ¨ç•Œé¢å°±ä¸ä¼šæ˜¾ç¤ºï¼Œå¼€å‘äººå‘˜å¼€å¯æ§åˆ¶å°çš„åŸä»£ç å°±èƒ½çœ‹åˆ°å¼‚å¸¸ä¿¡æ¯--></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>utext</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>Failed Request URL : <span class="token punctuation">'</span> + ${url}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>utext</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>Exception message : <span class="token punctuation">'</span> + ${exception.message}<span class="token punctuation">"</span></span><span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>st : ${exception.stackTrace}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token attr-name"><span class="token namespace">th:</span>utext</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${st}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>utext</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>--&amp;gt;<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p><strong>è®©404ä»ç„¶è·³è½¬åˆ°404.htmlï¼Œè€Œä¸æ˜¯æ‰€æœ‰å¼‚å¸¸éƒ½è·³è½¬error.html</strong></p><ol><li><p>ä¿®æ”¹å¼‚å¸¸ï¼ˆæµ‹è¯•ç”¨ï¼‰</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">indexController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//int i = 1/0;</span>    String blog <span class="token operator">=</span> null<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>blog <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NotFindException</span><span class="token punctuation">(</span><span class="token string">"blogæ˜¯null"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>åˆ›å»ºå¼‚å¸¸ç±»åœ¨myblogåŒ…å†…</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@ResponseStatus</span><span class="token punctuation">(</span>HttpStatus<span class="token punctuation">.</span>NOT_FOUND<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//è¡¨ç¤ºè¿™ä¸ªçŠ¶æ€ç æ˜¯404</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NotFindException</span> <span class="token keyword">extends</span> <span class="token class-name">RuntimeException</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token function">NotFindException</span><span class="token punctuation">(</span>String message<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token function">NotFindException</span><span class="token punctuation">(</span>String message<span class="token punctuation">,</span> Throwable cause<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> cause<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token function">NotFindException</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>è‡ªå®šä¹‰æ‹¦æˆªå™¨ä¸­å¢åŠ </p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å¦‚æœå¼‚å¸¸ä¿¡æ¯æ˜¯404ï¼Œå°±æŠ›å‡ºå»ç»™springbootæ¥å¤„ç†ï¼Œè‡ªå·±çš„æ‹¦æˆªå™¨ä¸æ‹¦æˆª</span><span class="token keyword">if</span><span class="token punctuation">(</span>AnnotationUtils<span class="token punctuation">.</span><span class="token function">findAnnotation</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ResponseStatus<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">throw</span> e<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li></ol><h3 id="3-æ—¥å¿—å¤„ç†"><a href="#3-æ—¥å¿—å¤„ç†" class="headerlink" title="3. æ—¥å¿—å¤„ç†"></a>3. æ—¥å¿—å¤„ç†</h3><h4 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h4><p>æ¯å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæ§åˆ¶å°å°±æ‰“å°æ—¥å¿—</p><pre><code>2020-11-30 10:50:25.544  INFO 16016 --- [nio-8080-exec-2] top.jm.myblog.aspect.LogAspect           : request:{}RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='top.jm.myblog.controller.IndexController.indexController', args=[Page request [number: 0, size 5, sort: id: DESC], {}]}</code></pre><h4 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h4><p>â€‹    é‡‡ç”¨springçš„aopæ¥å®ç°æ—¥å¿—å¤„ç†ï¼ŒAOPå¯ä»¥ä»¥åˆ‡é¢çš„å½¢å¼æ‹¦æˆªï¼Œå°†æ—¥å¿—å†…å®¹è®°å½•ä¸‹æ¥ï¼Œè¿™é‡Œè®°å½•ä»¥ä¸‹æ—¥å¿—ä¿¡æ¯ï¼š</p><ul><li>è®¿é—®çš„URL</li><li>è®¿é—®è€…çš„IP</li><li>è®¿é—®æ—¶è°ƒç”¨çš„æ–¹æ³•</li><li>è®¿é—®æ—¶ä¼ é€’çš„å‚æ•°</li><li>è®¿é—®æ—¶è¿”å›çš„å†…å®¹</li></ul><ol><li><p>åˆ›å»ºä¸€ä¸ªåˆ‡é¢ç±»</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Aspect</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LogAspect</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//è·å–æ—¥å¿—å¯¹è±¡</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> Logger logger <span class="token operator">=</span> LoggerFactory<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//åˆ‡é¢</span>    <span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span><span class="token string">"execution(* top.jm.myblog.controller.*.*(..))"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//å‰ç½®æ–¹æ³•</span>    <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">"log()"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doBefore</span><span class="token punctuation">(</span>JoinPoint joinPoint<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//è·å–requestå¯¹è±¡</span>        ServletRequestAttributes attributes <span class="token operator">=</span> <span class="token punctuation">(</span>ServletRequestAttributes<span class="token punctuation">)</span> RequestContextHolder<span class="token punctuation">.</span><span class="token function">getRequestAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        HttpServletRequest request <span class="token operator">=</span> attributes<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//è·å–ä¿¡æ¯</span>        String url <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–url</span>        String ip <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRemoteAddr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–ip</span>        String method <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaringTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"."</span><span class="token operator">+</span>joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–æ–¹æ³•å</span>        Object<span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–è¯·æ±‚å‚æ•°</span>        RequestLog requestLog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RequestLog</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>ip<span class="token punctuation">,</span>method<span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å°è£…å¹¶ç”¨æ—¥å¿—è¾“å‡º</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"request:{}"</span><span class="token operator">+</span>requestLog<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//logger.info("--------before--------");</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//åç½®æ–¹æ³•</span>    <span class="token annotation punctuation">@After</span><span class="token punctuation">(</span><span class="token string">"log()"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doAfter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//logger.info("--------after----------");</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//è¿”å›å€¼æ–¹æ³•</span>    <span class="token annotation punctuation">@AfterReturning</span><span class="token punctuation">(</span>pointcut <span class="token operator">=</span> <span class="token string">"log()"</span><span class="token punctuation">,</span>returning <span class="token operator">=</span> <span class="token string">"result"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doAfterReturning</span><span class="token punctuation">(</span>Object result<span class="token punctuation">)</span><span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">// logger.info("return-----{}",result);</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//ç”¨äºå°è£…logä¿¡æ¯</span>    <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">RequestLog</span><span class="token punctuation">{</span>        <span class="token keyword">private</span> String url<span class="token punctuation">;</span>        <span class="token keyword">private</span> String ip<span class="token punctuation">;</span>        <span class="token keyword">private</span> String classMethod<span class="token punctuation">;</span>        <span class="token keyword">private</span> Object<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token function">RequestLog</span><span class="token punctuation">(</span>String url<span class="token punctuation">,</span> String ip<span class="token punctuation">,</span> String classMethod<span class="token punctuation">,</span> Object<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>ip <span class="token operator">=</span> ip<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>classMethod <span class="token operator">=</span> classMethod<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>args <span class="token operator">=</span> args<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token string">"RequestLog{"</span> <span class="token operator">+</span>                    <span class="token string">"url='"</span> <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>                    <span class="token string">", ip='"</span> <span class="token operator">+</span> ip <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>                    <span class="token string">", classMethod='"</span> <span class="token operator">+</span> classMethod <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>                    <span class="token string">", args="</span> <span class="token operator">+</span> Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token operator">+</span>                    <span class="token string">'}'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>ä¿®æ”¹controllerï¼ˆæµ‹è¯•ç”¨ï¼‰</p><pre class=" language-java"><code class="language-java">    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/{id}/{name}"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">indexController</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">,</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span> String name<span class="token punctuation">)</span><span class="token punctuation">{</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"-------index--------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre></li></ol><h3 id="4-é¡µé¢å¤„ç†"><a href="#4-é¡µé¢å¤„ç†" class="headerlink" title="4. é¡µé¢å¤„ç†"></a>4. é¡µé¢å¤„ç†</h3><ol><li><p>é™æ€é¡µé¢å¯¼å…¥project</p><ol><li>å°†templatesã€staticå¯¼å…¥è¿›å»</li><li>ä½¿ç”¨mavençš„cleanæ¸…é™¤targetç¼“å­˜</li><li>é‡æ–°è¿è¡Œé€šè¿‡controllerè®¿é—®Index.html</li><li>å‘ç°æœ‰äº›æ ·å¼å’Œå›¾ç‰‡æ²¡æœ‰å¼•è¿›ï¼Œéœ€è¦ä¿®æ”¹thymeleafè·¯å¾„<ol><li><code>th:href="@{/css/me.css}"</code></li><li><code>th:src="@{images/wechat.jpg}"</code></li></ol></li></ol></li><li><p>thymeleafå…¬å…±å¸ƒå±€æŠ½å–</p><p>ä½œç”¨ï¼šå°†å…¬å…±å¸ƒå±€æŠ½å–åˆ°ä¸€ä¸ªé¡µé¢ä¸­ï¼Œä¿®æ”¹å…¬å…±é¡µé¢ï¼Œå³ä¿®æ”¹æ‰€æœ‰æ ·å¼</p><blockquote><p>æ¨¡æ¿ï¼š<code>th:fragment=""</code></p><ul><li>ä¼ å‚ï¼š<code>th:fragment="æ¨¡æ¿å(å‚æ•°å)"</code></li><li>ä½¿ç”¨å‚æ•°ï¼š<code>th:replace="${å‚æ•°å}"</code></li></ul><p>å¼•ç”¨ï¼š<code>th:replace="æ¨¡æ¿æ‰€åœ¨çš„htmlå::æ¨¡æ¿å"</code>ï¼ˆå°†è¡¨æ ‡ç­¾å†…åŠè‡ªå·±å…¨éƒ¨æ›¿æ¢ä¸ºæ¨¡æ¿ï¼‰</p><ul><li><p>ä¼ å‚ï¼š<code>th:replace="æ¨¡æ¿æ‰€åœ¨çš„htmlå::æ¨¡æ¿å(å‚æ•°)"</code></p></li><li><p>ä¼ å‚çš„è¿‡ç¨‹ï¼š</p><ol><li>å¼•ç”¨çš„å‚æ•°ä¼ ç»™æ¨¡æ¿</li><li>æ¨¡æ¿è¿›è¡Œæ¥æ”¶å‚æ•°è¿›è¡Œæ¸²æŸ“</li><li>æ¸²æŸ“å¥½çš„æ¨¡æ¿è¿”å›ç»™å¼•ç”¨</li></ol></li><li><p>å‚æ•°æ ¼å¼ï¼š</p><pre><code>~{ templatename :: selector }</code></pre><p>æ”¯æŒï¼š<br><code>~{ templatename :: #html_id }</code> è¡¨ç¤º å– html çš„ id æ ‡ç­¾<br><code>~{ ::selector}</code> è¡¨ç¤º ä»£ç æ®µåœ¨æœ¬é¡µé¢<br><code>~{ templatename }</code> å¼•å…¥ templatename æ‰€æœ‰çš„ html ä»£ç </p></li></ul></blockquote><ol><li><p>å»ºç«‹å…¬å…±é¡µé¢<code>_fragment.html</code></p></li><li><p>æŠ½å–å’Œä½¿ç”¨fragment</p><ol><li><p>headçš„æŠ½å–</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>head(title)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${title}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>åšå®¢è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/css/typo.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/typo.css}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/css/animate.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/animate.css}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/lib/prism/prism.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{lib/prism/prism.css}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/lib/tocbot/tocbot.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/lib/tocbot/tocbot.css}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/css/me.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/me.css}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></code></pre><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_fragment::head(~{::title})<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></code></pre><blockquote><p>åˆ†æï¼š</p><ol><li>æ¨¡æ¿æŠ½å–ï¼Œå‚æ•°ä¸ºtitle</li><li>å¼•ç”¨æ—¶ï¼Œä¼ å…¥å‚æ•°<code>~{::title}</code>ï¼Œè¡¨ç¤ºå¼•ç”¨çš„titleæ ‡ç­¾ä½œä¸ºå‚æ•°ä¼ å…¥æ¨¡æ¿</li><li>æ¨¡æ¿çš„<code>th:replace="${title}"</code>æ¸²æŸ“ä¸Šå€¼</li><li>æ¸²æŸ“åçš„æ¨¡æ¿æ›¿æ¢åˆ°å¼•ç”¨çš„ä½ç½®</li></ol></blockquote></li><li><p>navå¯¼èˆªçš„æŠ½å–</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted attached segment m-padded-tb-mini m-shadow-small<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nav(n)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted secondary stackable menu<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui teal header item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-item item m-mobile-hide<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>classappend</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${n<span class="token punctuation">=</span><span class="token punctuation">=</span>1}?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini home icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>é¦–é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-item item m-mobile-hide<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>classappend</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${n<span class="token punctuation">=</span><span class="token punctuation">=</span>2}?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini idea icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>åˆ†ç±»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-item item m-mobile-hide<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>classappend</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${n<span class="token punctuation">=</span><span class="token punctuation">=</span>3}?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini tags icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>æ ‡ç­¾<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-item item m-mobile-hide<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>classappend</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${n<span class="token punctuation">=</span><span class="token punctuation">=</span>4}?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini clone icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>å½’æ¡£<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-item item m-mobile-hide<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>classappend</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${n<span class="token punctuation">=</span><span class="token punctuation">=</span>5}?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini info icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>å…³äºæˆ‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>right m-item item m-mobile-hide<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui icon inverted transparent input m-margin-tb-tiny<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Search....<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>search link icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui menu toggle black icon button m-right-top m-mobile-show<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sidebar icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span></code></pre><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_fragment::nav(1)<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted attached segment m-padded-tb-mini m-shadow-small<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span></code></pre></li></ol></li><li><p>åº•éƒ¨footerçš„æŠ½å–</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted vertical segment m-padded-tb-massive<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    ...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span></code></pre><pre class=" language-html"><code class="language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_fragment::footer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted vertical segment m-padded-tb-massive<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span></code></pre><ol start="4"><li><p>scriptæŠ½å–</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">th:</span>block</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>script<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>//cdn.jsdelivr.net/npm/jquery.scrollto@2.1.2/jquery.scrollTo.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/lib/prism/prism.js<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{lib/prism/prism.js}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/lib/tocbot/tocbot.min.js<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{lib/tocbot/tocbot.min.js}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/lib/qrcode/qrcode.min.js<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{lib/qrcode/qrcode.min.js}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/lib/waypoints/jquery.waypoints.min.js<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{lib/waypoints/jquery.waypoints.min.js}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">th:</span>block</span><span class="token punctuation">></span></span></code></pre><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!--/*/&lt;th:block th:fragment="script">/*/--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--/*/&lt;/th:block>/*/--></span></code></pre><blockquote><p>è¿™é‡Œçš„/*/ï¼šåœ¨htmlä¸­æ˜¯æ³¨é‡Šçš„å­˜åœ¨ï¼Œä½†æ˜¯åœ¨thymeleafæ¨¡æ¿ä¸­ï¼Œä»ç„¶æœ‰æ•ˆ</p></blockquote></li></ol></li></ol></li><li><p>é”™è¯¯é¡µé¢ç¾åŒ–</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/1999/xhtml<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_fragment::head(~{::title})<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>é¦–é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/css/me.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/me.css}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--å¯¼èˆª--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_fragment::nav(0)<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted attached segment m-padded-tb-mini m-shadow-small<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted secondary stackable menu<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui teal header item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>active m-item item m-mobile-hide<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini home icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>é¦–é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-item item m-mobile-hide<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini idea icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>åˆ†ç±»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-item item m-mobile-hide<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini tags icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>æ ‡ç­¾<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-item item m-mobile-hide<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini clone icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>å½’æ¡£<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-item item m-mobile-hide<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mini info icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>å…³äºæˆ‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>right m-item item m-mobile-hide<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui icon inverted transparent input m-margin-tb-tiny<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Search....<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>search link icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui menu toggle black icon button m-right-top m-mobile-show<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sidebar icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-container-small m-padded-tb-massive<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui error message m-padded-tb-huge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>404<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>å¯¹ä¸èµ·ï¼Œæ‚¨è®¿é—®çš„èµ„æºä¸å­˜åœ¨ï¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--åº•éƒ¨footer--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_fragment::footer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted vertical segment m-padded-tb-massive<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui center aligned container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted divided stackable grid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>three wide column<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted link list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../static/images/wechat.jpg<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{images/wechat.jpg}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui rounded image<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">110</span>px</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>three wide column<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted header m-text-thin m-text-spaced <span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>æœ€æ–°åšå®¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted link list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item m-text-thin<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç”¨æˆ·æ•…äº‹ï¼ˆUser Storyï¼‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item m-text-thin<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç”¨æˆ·æ•…äº‹ï¼ˆUser Storyï¼‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item m-text-thin<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç”¨æˆ·æ•…äº‹ï¼ˆUser Storyï¼‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>three wide column<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted header m-text-thin m-text-spaced <span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è”ç³»æˆ‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted link list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item m-text-thin<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Emailï¼šlirenmi@163.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item m-text-thin<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>QQï¼š865729312<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>seven wide column<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted header m-text-thin m-text-spaced <span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-text-thin m-text-spaced m-opacity-mini<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è¿™æ˜¯æˆ‘çš„ä¸ªäººåšå®¢ã€ä¼šåˆ†äº«å…³äºç¼–ç¨‹ã€å†™ä½œã€æ€è€ƒç›¸å…³çš„ä»»ä½•å†…å®¹ï¼Œå¸Œæœ›å¯ä»¥ç»™æ¥åˆ°è¿™å„¿çš„äººæœ‰æ‰€å¸®åŠ©...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ui inverted section divider<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-text-thin m-text-spaced m-opacity-tiny<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Copyright Â© 2016 - 2017 Lirenmi Designed by Lirenmi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></li></ol><h2 id="åŠŸèƒ½å®ç°"><a href="#åŠŸèƒ½å®ç°" class="headerlink" title="åŠŸèƒ½å®ç°"></a>åŠŸèƒ½å®ç°</h2><h3 id="1-è®¾è®¡ä¸è§„èŒƒ"><a href="#1-è®¾è®¡ä¸è§„èŒƒ" class="headerlink" title="1. è®¾è®¡ä¸è§„èŒƒ"></a>1. è®¾è®¡ä¸è§„èŒƒ</h3><p>æˆ‘ä»¬æ ¹æ®é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ€æƒ³ï¼Œå…ˆå»ºç«‹å®ä½“ç±»ï¼Œåˆ©ç”¨JPAæ ¹æ®å®ä½“ç±»ç”Ÿæˆå¯¹åº”çš„æ•°æ®åº“ã€‚</p><p><strong>1.1 å®ä½“ç±»</strong></p><ul><li>åšå®¢Blog</li><li>åšå®¢åˆ†ç±»Type</li><li>åšå®¢æ ‡ç­¾Tag</li><li>åšå®¢è¯„è®ºComment</li><li>ç”¨æˆ·User</li></ul><p><strong>å®ä½“å…³ç³»</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201025152646.png"></p><p>è¯„è®ºç±»è‡ªå…³è”å…³ç³»</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201025152715.png"></p><p><strong>Blogç±»</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201025152757.png"></p><p><strong>Typeç±»</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201025152828.png"></p><p><strong>Tagç±»</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201025152848.png"></p><p><strong>Commentç±»</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201025152946.png"></p><p><strong>Userç±»</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201025153029.png"></p><p><strong>1.2 åº”ç”¨åˆ†å±‚</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201025153138.png"></p><p><strong>1.3 å‘½åçº¦å®š</strong></p><p>Service/Daoå±‚å‘½åçº¦å®šï¼š</p><ul><li>è·å–å•ä¸ªå¯¹è±¡çš„æ–¹æ³•ç”¨getä½œå‰ç¼€</li><li>è·å–å¤šä¸ªå¯¹è±¡çš„æ–¹æ³•ç”¨listä½œå‰ç¼€</li><li>è·å–ç»Ÿè®¡å€¼çš„æ–¹æ³•ç”¨countä½œå‰ç¼€</li><li>æ’å…¥çš„æ–¹æ³•saveæˆ–insertä½œå‰ç¼€</li><li>åˆ é™¤çš„æ–¹æ³•ç”¨removeæˆ–deleteä½œå‰ç¼€</li><li>ä¿®æ”¹çš„æ–¹æ³•ç”¨updateä½œå‰ç¼€</li></ul><h3 id="2-å®ä½“ç±»æ„å»º"><a href="#2-å®ä½“ç±»æ„å»º" class="headerlink" title="2. å®ä½“ç±»æ„å»º"></a>2. å®ä½“ç±»æ„å»º</h3><ol><li><p>åˆ›å»ºå®ä½“ç±»</p></li><li><p>é…ç½®å®ä½“å…³ç³»</p><ol><li><p>å£°æ˜å¯¹è±¡å˜é‡</p></li><li><p>æŒ‡æ˜ä¸€å¯¹å¤š/å¤šå¯¹å¤šå…³ç³»ï¼Œå¹¶è¡¨ç¤ºâ€œå¤šâ€ä¸ºç»´æŠ¤æ–¹ </p><blockquote><p>æ³¨æ„å‡ ç‚¹ï¼š</p><ol><li>@Tableåˆ«å¿˜äº†åŠ nameï¼Œè™½ç„¶çˆ†çº¢ï¼Œä½†ä¸å½±å“ä½¿ç”¨</li><li>@GeneratedValueæŒ‡æ˜idç”Ÿæˆç­–ç•¥</li><li>Dateéœ€è¦æŒ‡æ˜@Temporalæ—¶é—´æˆ³</li><li>@ManyToOneï¼šå¤šå¯¹1ï¼Œ1å¯¹å¤šçš„å…³ç³»ç•Œå®šï¼šå½“å‰å®ä½“ç±»å’Œå¯¹æ–¹çš„å…³ç³»ã€‚å¹¶ä¸”1çš„ä¸€æ–¹éœ€è¦æŒ‡æ˜è¢«è°ç»´æŠ¤mappedBy</li><li>è®°å¾—åŠ ä¸Šå¼•ç”¨å¯¹è±¡çš„get/setæ–¹æ³•</li><li>@ManyToManyçº§è”æ–°å¢</li></ol></blockquote><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Entity</span><span class="token comment" spellcheck="true">//æŒ‡æ˜å®ä½“ç±»</span><span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"t_blog"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//æŒ‡æ˜æ˜ å°„å“ªä¸ªè¡¨</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Blog</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Id</span><span class="token comment" spellcheck="true">//æ ‡è®°ä¸»é”®</span>    <span class="token annotation punctuation">@GeneratedValue</span><span class="token comment" spellcheck="true">//ä¸»é”®çš„ç”Ÿæˆç­–ç•¥ï¼Œé»˜è®¤è‡ªå¢</span>    <span class="token keyword">private</span> Long id<span class="token punctuation">;</span>    <span class="token keyword">private</span> String title<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//æ ‡é¢˜</span>    <span class="token keyword">private</span> String content<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å†…å®¹</span>    <span class="token keyword">private</span> String firstPicture<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//é¦–å›¾</span>    <span class="token keyword">private</span> String flag<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ ‡è®°</span>    <span class="token keyword">private</span> Integer views<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æµè§ˆæ¬¡æ•°</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> appreciation<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//èµèµå¼€å¯</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> shareStatement<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ç‰ˆæƒå¼€å¯</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> commentabled<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¯„è®ºå¼€å¯</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> published<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å‘å¸ƒ</span>    <span class="token annotation punctuation">@Temporal</span><span class="token punctuation">(</span>TemporalType<span class="token punctuation">.</span>TIMESTAMP<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//è¡¨ç¤ºæ˜¯ä¸€ä¸ªå®Œæ•´çš„æ—¶é—´</span>    <span class="token keyword">private</span> Date createTime<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åˆ›å»ºæ—¶é—´</span>    <span class="token annotation punctuation">@Temporal</span><span class="token punctuation">(</span>TemporalType<span class="token punctuation">.</span>TIMESTAMP<span class="token punctuation">)</span>    <span class="token keyword">private</span> Date updateTime<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ›´æ–°æ—¶é—´</span>    <span class="token annotation punctuation">@ManyToOne</span><span class="token comment" spellcheck="true">//å¤šä¸ªåšå®¢å±äº1ä¸ªç±»å‹</span>    <span class="token keyword">private</span> Type type<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ManyToMany</span><span class="token punctuation">(</span>cascade <span class="token operator">=</span> <span class="token punctuation">{</span>CascadeType<span class="token punctuation">.</span>PERSIST<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//çº§è”æ–°å¢ï¼Œå½“æ–°å¢ä¸€ä¸ªtagï¼Œæ•°æ®åº“ä¹Ÿä¼šè·Ÿç€æ–°å¢</span>    <span class="token keyword">private</span> List<span class="token operator">&lt;</span>Tag<span class="token operator">></span> tags <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//listçš„éœ€è¦new</span>    <span class="token annotation punctuation">@ManyToOne</span>    <span class="token keyword">private</span> User user<span class="token punctuation">;</span>    <span class="token annotation punctuation">@OneToMany</span><span class="token punctuation">(</span>mappedBy <span class="token operator">=</span> <span class="token string">"blog"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//â€œ1â€çš„ä¸€æ–¹éœ€è¦è¢«â€œå¤šâ€çš„ç»´æŠ¤ï¼šmappedByæŒ‡ï¼šè¢«ç»´æŠ¤</span>    <span class="token keyword">private</span> List<span class="token operator">&lt;</span>Comment<span class="token operator">></span> comments <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol></li><li><p>å¯åŠ¨é¡¹ç›®ï¼Œè‡ªåŠ¨ç”Ÿæˆè¡¨</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
            <tag> ä¸ªäººåšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysqlé«˜çº§ï¼ˆäºŒï¼‰</title>
      <link href="/2020/11/13/mysql/mysql-gao-ji-er/"/>
      <url>/2020/11/13/mysql/mysql-gao-ji-er/</url>
      
        <content type="html"><![CDATA[<h1 id="Mysqlé«˜çº§ï¼ˆäºŒï¼‰"><a href="#Mysqlé«˜çº§ï¼ˆäºŒï¼‰" class="headerlink" title="Mysqlé«˜çº§ï¼ˆäºŒï¼‰"></a>Mysqlé«˜çº§ï¼ˆäºŒï¼‰</h1><h2 id="é”æœºåˆ¶"><a href="#é”æœºåˆ¶" class="headerlink" title="é”æœºåˆ¶"></a>é”æœºåˆ¶</h2><p>åœ¨æ•°æ®åº“ä¸­ï¼Œæ•°æ®ä¹Ÿæ˜¯ä¸€ç§ä¾›è®¸å¤šç”¨æˆ·å…±äº«çš„èµ„æºï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‘æœ‰æ•ˆæ€§æ˜¯æ‰€æœ‰æ•°æ®åº“å¿…é¡»è§£å†³çš„ä¸€ä¸ªé—®é¢˜ï¼Œé”å†²çªä¹Ÿæ˜¯å½±å“æ•°æ®åº“å¹¶å‘è®¿é—®æ€§èƒ½çš„ä¸€ä¸ªé‡è¦å› ç´ ã€‚</p><h3 id="é”çš„åˆ†ç±»"><a href="#é”çš„åˆ†ç±»" class="headerlink" title="é”çš„åˆ†ç±»"></a>é”çš„åˆ†ç±»</h3><p> å¯¹æ•°æ®æ“ä½œçš„ç±»å‹ï¼š</p><ol><li>è¯»é”ï¼šå…±äº«é”ï¼Œé’ˆå¯¹åŒä¸€ä»½æ•°æ®ï¼Œå¤šä¸ªè¯»æ“ä½œå¯ä»¥åŒæ—¶è¿›è¡Œï¼Œä¸ä¼šäº’ç›¸å½±å“</li><li>å†™é”ï¼šæ’å®ƒé”ï¼Œå½“å‰å†™æ“ä½œæ²¡æœ‰å®Œæˆå‰ï¼Œå®ƒä¼šé˜»æ–­å…¶ä»–å†™é”å’Œè¯»é”</li></ol><p>å¯¹æ•°æ®æ“ä½œçš„ç²’åº¦ï¼š</p><ol><li>è¡¨é”</li><li>è¡Œé”</li></ol><hr><h3 id="è¡¨é”"><a href="#è¡¨é”" class="headerlink" title="è¡¨é”"></a>è¡¨é”</h3><p>ç‰¹ç‚¹ï¼šåå‘MyISAMå­˜å‚¨å¼•æ“ï¼Œå¼€é”€å°ï¼ŒåŠ é”å¿«ï¼›æ— æ­»é”ï¼›é”å®šç²’åº¦å¤§ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€é«˜ï¼Œå¹¶å‘åº¦æœ€ä½</p><p>Myisamçš„è¯»å†™é”è°ƒåº¦æ˜¯å†™ä¼˜å…ˆï¼Œè¿™ä¹Ÿæ˜¯myisamä¸é€‚åˆåšå†™ä¸ºä¸»è¡¨çš„å¼•æ“ã€‚å› ä¸ºå†™é”åï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½è¿›è¡Œä»»ä½•æ“ä½œï¼Œå¤§é‡çš„æ›´æ–°ä¼šè®©æŸ¥è¯¢å¾ˆéš¾è·å¾—é”ï¼Œä»è€Œé€ æˆæ°¸ä¹…é˜»å¡ã€‚</p><p>å‘½ä»¤ï¼š</p><ol start="3"><li>æ‰‹åŠ¨å¢åŠ è¡¨é”ï¼š<code>lock table è¡¨å read/write,è¡¨å read/write;</code></li><li>é‡Šæ”¾é”ï¼š<code>unlock tables</code></li></ol><p><strong>ï¼ˆè¡¨ï¼‰è¯»é”</strong></p><ol><li>session1ç»™è¡¨åŠ è¯»é”ï¼Œèƒ½å¯¹è¯¥è¡¨è¿›è¡Œè¯»ï¼Œå…¶ä»–sessionä¹Ÿèƒ½è¯»è¯¥è¡¨</li><li>session1ä¸èƒ½è¯»å…¶ä»–è¡¨ï¼Œå…¶ä»–sessionå¯ä»¥è¯»å…¶ä»–è¡¨</li><li>session1ä¸èƒ½æ”¹è‡ªå·±åŠ é”çš„è¡¨ï¼Œå…¶ä»–sessionæ”¹åŠ é”çš„è¡¨ä¼šè¿›å…¥é˜»å¡<ol><li>ç­‰session1é‡Šæ”¾é”ï¼Œå…¶ä»–sessionçš„æ”¹æ“ä½œæ‰ä¼šæ‰§è¡Œ</li></ol></li></ol><p><strong>ï¼ˆè¡¨ï¼‰å†™é”</strong></p><ol><li>session1ç»™è¡¨åŠ å†™é”ï¼Œèƒ½å¯¹è¯¥è¡¨è¿›è¡Œè¯»ã€æ”¹ï¼Œå…¶ä»–sessionè¯»è¯¥è¡¨ä¼šè¿›å…¥é˜»å¡<ol><li>ç­‰session1é‡Šæ”¾é”ï¼Œå…¶ä»–sessionçš„æ“ä½œæ‰ä¼šæ‰§è¡Œ</li></ol></li><li>session1ä¸èƒ½è¯»å…¶ä»–è¡¨ï¼Œå…¶ä»–sessionå¯ä»¥è¯»æ”¹å…¶ä»–è¡¨</li></ol><p><strong>æ€»ç»“</strong></p><p>è¯»é”ä¼šé˜»å¡å†™ï¼Œä½†æ˜¯ä¸ä¼šé˜»å¡è¯»ã€‚è€Œå†™é”ä¼šæŠŠè¯»å’Œå†™éƒ½é˜»å¡ã€‚</p><p><strong>åˆ†æè¡¨é”</strong></p><ol><li>æŸ¥çœ‹è¡¨ä¸ŠåŠ è¿‡çš„é”ï¼š<code>show open tables</code></li><li>æŸ¥çœ‹é”çš„çŠ¶æ€ï¼š<code>show status like 'table%'</code><ol><li>Table_locks_immediateï¼šäº§ç”Ÿæ ‡è®°é”å®šçš„æ¬¡æ•°ï¼Œè¡¨ç¤ºå¯ä»¥ç«‹å³è·å¾—é”çš„æŸ¥è¯¢æ¬¡æ•°</li><li>Table_locks_waitedï¼šå‡ºç°è¡¨çº§é”å®šäº‰ç”¨è€Œå‘ç”Ÿç­‰å¾…çš„æ¬¡æ•°ï¼ˆä¸èƒ½ç«‹å³è·å¾—é”çš„æ¬¡æ•°ï¼‰ï¼Œå€¼è¶Šé«˜ï¼Œè¯æ˜å­˜åœ¨ä¸¥é‡çš„è¡¨çº§äº‰ç”¨æƒ…å†µ</li></ol></li></ol><hr><h3 id="è¡Œé”"><a href="#è¡Œé”" class="headerlink" title="è¡Œé”"></a>è¡Œé”</h3><p>ç‰¹ç‚¹ï¼šåå‘InnoDBå­˜å‚¨å¼•æ“ï¼Œå¼€é”€å¤§ï¼ŒåŠ é”æ…¢ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦æœ€å°ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€ä½ï¼Œ<strong>å¹¶å‘åº¦æœ€é«˜</strong>ã€‚ä½†ä¹Ÿæœ‰å…¶è„†å¼±çš„ä¸€é¢ï¼Œå¦‚æœ</p><p>InnoDBä¸MyISAMçš„æœ€å¤§ä¸åŒæœ‰ä¸¤ç‚¹ï¼šä¸€æ˜¯æ”¯æŒäº‹åŠ¡ï¼›äºŒæ˜¯é‡‡ç”¨äº†è¡Œçº§é”ã€‚</p><p><strong>äº‹åŠ¡çš„ä¸€äº›çŸ¥è¯†</strong></p><p>ACIDï¼š</p><ol><li>åŸå­æ€§</li><li>ä¸€è‡´æ€§</li><li>éš”ç¦»æ€§</li><li>æŒä¹…æ€§</li></ol><p>å¹¶å‘äº‹åŠ¡å¸¦æ¥çš„é—®é¢˜ï¼š</p><ol><li>æ›´æ–°è¦†ç›–</li><li>è„è¯»</li><li>ä¸å¯é‡å¤è¯»</li><li>å¹»è¯»</li></ol><p>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼š</p><ol><li>è¯»æœªæäº¤</li><li>è¯»å·²æäº¤</li><li>å¯é‡å¤åº¦ï¼šInnoDBé»˜è®¤</li><li>ä¸²è¡ŒåŒ–</li></ol><p><strong>æ€»ç»“</strong></p><ol><li><p>è¡Œé”ä¸¤ä¸ªäº‹åŠ¡åŒæ—¶æ“ä½œåŒä¸€è¡Œæ—¶ï¼Œåé¢çš„äº‹åŠ¡ä¼šè¿›å…¥é˜»å¡çŠ¶æ€</p><ol><li>ç­‰å¾…äº‹åŠ¡1æäº¤ä¹‹åï¼Œäº‹åŠ¡2æ‰ä¼šæ‰§è¡Œ</li></ol></li><li><p>å½“æ“ä½œä¸åŒè¡Œæ—¶ï¼Œäº’ä¸å½±å“</p></li><li><p>ç´¢å¼•å¤±æ•ˆï¼Œä¼šå¯¼è‡´è¡Œé”å‡çº§ä¸ºè¡¨é”</p><pre class=" language-sql"><code class="language-sql">ç´¢å¼•ï¼š<span class="token number">a</span>ï¼Œç´¢å¼•ï¼š<span class="token number">b</span><span class="token comment" spellcheck="true">#session1</span><span class="token keyword">update</span> test <span class="token keyword">set</span> <span class="token number">a</span><span class="token operator">=</span><span class="token number">41</span> <span class="token keyword">where</span> <span class="token number">b</span><span class="token operator">=</span><span class="token number">4000</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#bæ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œæ²¡æœ‰åŠ å•å¼•å·å¯¼è‡´ç´¢å¼•å¤±æ•ˆ</span><span class="token comment" spellcheck="true">#session2</span><span class="token keyword">update</span> test <span class="token keyword">set</span> <span class="token number">b</span><span class="token operator">=</span><span class="token string">'9000'</span> whrer <span class="token number">b</span><span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šç”±äºsession1ä¸­çš„äº‹åŠ¡ç´¢å¼•å¤±æ•ˆï¼Œå¯¼è‡´session2è¿›å…¥é˜»å¡</span><span class="token comment" spellcheck="true">#session1</span>commmit<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šsession1æäº¤ä¹‹åï¼Œsession2æ¢å¤æ‰§è¡Œ</span></code></pre></li></ol><p><strong>é—´éš™é”</strong></p><ol><li>å½“æ‰§è¡Œè¿‡ç¨‹ä¸­é€šè¿‡<strong>èŒƒå›´æŸ¥æ‰¾</strong>ï¼Œå®ƒå°±ä¼šé”å®šæ•´ä¸ªèŒƒå›´å†…çš„æ‰€æœ‰ç´¢å¼•é”®å€¼ï¼Œå³ä½¿è¿™ä¸ªé”®å€¼ä¸å­˜åœ¨ã€‚<ol><li>ä¸å­˜åœ¨çš„é”®å€¼è¢«æ— è¾œé”å®šï¼Œå¯¼è‡´é”å®šä¹‹åï¼Œæ— æ³•åœ¨è¯¥èŒƒå›´å†…æ’å…¥ä»»ä½•æ•°æ®</li></ol></li></ol><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#è¡¨ä¸­æ•°æ®id:1,3,4,5,6</span><span class="token comment" spellcheck="true">#session1</span><span class="token keyword">update</span> test <span class="token keyword">set</span> age<span class="token operator">=</span><span class="token number">18</span> <span class="token keyword">where</span> id<span class="token operator">></span><span class="token number">1</span> <span class="token operator">and</span> id<span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#session2</span><span class="token keyword">insert</span> <span class="token keyword">into</span> test<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šå› ä¸ºidåœ¨1-6ä¹‹é—´ï¼Œåœ¨æ­¤èŒƒå›´å†…æ’å…¥æ•°æ®ï¼Œä¼šäº§ç”Ÿé—´éš™é”ï¼Œsession2è¿›å…¥é˜»å¡</span><span class="token comment" spellcheck="true">#session1</span><span class="token keyword">commit</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šsession1æäº¤ä¹‹åï¼Œsession2æ¢å¤æ‰§è¡Œã€‚ä»¥åsession2æ˜¯åœ¨session1ä¹‹åæ‰æ‰§è¡Œçš„ï¼Œæ•…ä¸ä¼šå—åˆ°1çš„æ“ä½œ</span></code></pre><p><strong>å¦‚ä½•é”å®šä¸€è¡Œ</strong></p><ol><li>begin</li><li>for update</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#session1</span><span class="token keyword">begin</span><span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">8</span> <span class="token keyword">for</span> <span class="token keyword">update</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">#for updateä¼šä¸ºid=8çš„è¡ŒåŠ ä¸Šé”</span><span class="token comment" spellcheck="true">#session2</span><span class="token keyword">update</span> test age<span class="token operator">=</span><span class="token number">18</span> <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">8</span> <span class="token punctuation">;</span><span class="token comment" spellcheck="true">#è¿›å…¥é˜»å¡çŠ¶æ€</span><span class="token comment" spellcheck="true">#session1</span><span class="token keyword">commit</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#session1æäº¤ä¹‹åï¼Œsession2æ¢å¤æ‰§è¡Œ</span></code></pre><p><strong>åˆ†æè¡Œé”</strong></p><ol><li><code>show status like 'innodb_row_lock%'</code></li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201113093632.png"></p><p><strong>ä¼˜åŒ–å»ºè®®</strong></p><ol><li>å°½å¯èƒ½è®©æ‰€æœ‰æ•°æ®æ£€ç´¢éƒ½é€šè¿‡ç´¢å¼•æ¥å®Œæˆï¼Œé¿å…ç´¢å¼•å¤±æ•ˆè¡Œé”å‡çº§ä¸ºè¡¨é”</li><li>åˆç†è®¾è®¡ç´¢å¼•ï¼Œå°½é‡ç¼©å°é”çš„èŒƒå›´ï¼Œé¿å…é—´éš™é”</li><li>å°½é‡æ§åˆ¶äº‹åŠ¡å¤§å°ï¼Œå‡å°‘é”å®šèµ„æºé‡å’Œæ—¶é—´é•¿åº¦</li><li>å°½å¯èƒ½ä½çº§åˆ«äº‹åŠ¡éš”ç¦»</li></ol><hr><h3 id="é¡µé”"><a href="#é¡µé”" class="headerlink" title="é¡µé”"></a>é¡µé”</h3><p>å¼€é”€å’ŒåŠ é”æ—¶é—´ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼›å¹¶å‘ä¸€èˆ¬ã€‚</p><h2 id="ä¸»ä»å¤åˆ¶"><a href="#ä¸»ä»å¤åˆ¶" class="headerlink" title="ä¸»ä»å¤åˆ¶"></a>ä¸»ä»å¤åˆ¶</h2><h3 id="åŸºæœ¬åŸç†"><a href="#åŸºæœ¬åŸç†" class="headerlink" title="åŸºæœ¬åŸç†"></a>åŸºæœ¬åŸç†</h3><p>slaveä¼šä»masterè¯»å–binlogæ¥è¿›è¡Œæ•°æ®åŒæ­¥</p><p>å¤åˆ¶è¿‡ç¨‹ï¼š</p><ol><li>masterå°†æ”¹å˜è®°å½•åˆ°äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆbinary logï¼‰ã€‚è¿™äº›è®°å½•è¿‡ç¨‹å«åšäºŒè¿›åˆ¶æ—¥å¿—äº‹ä»¶ï¼Œbinary log events</li><li>salveå°†masterçš„binary log eventsæ‹·è´åˆ°å®ƒçš„ä¸­ç»§æ—¥å¿—ï¼ˆrelay logï¼‰</li><li>salveé‡åšä¸­ç»§æ—¥å¿—ä¸­çš„äº‹ä»¶ï¼Œå°†æ”¹å˜åº”ç”¨åˆ°è‡ªå·±çš„æ•°æ®åº“ä¸­</li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201113105142.png"></p><h3 id="å¤åˆ¶çš„åŸºæœ¬åŸåˆ™"><a href="#å¤åˆ¶çš„åŸºæœ¬åŸåˆ™" class="headerlink" title="å¤åˆ¶çš„åŸºæœ¬åŸåˆ™"></a>å¤åˆ¶çš„åŸºæœ¬åŸåˆ™</h3><ol><li>æ¯ä¸ªslaveåªæœ‰ä¸€ä¸ªMaster</li><li>æ¯ä¸ªslaveåªèƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æœåŠ¡å™¨id</li><li>æ¯ä¸ªmasterå¯ä»¥æœ‰å¤šä¸ªslave</li></ol><h3 id="ä¸€ä¸»ä¸€ä»å¸¸è§é…ç½®"><a href="#ä¸€ä¸»ä¸€ä»å¸¸è§é…ç½®" class="headerlink" title="ä¸€ä¸»ä¸€ä»å¸¸è§é…ç½®"></a>ä¸€ä¸»ä¸€ä»å¸¸è§é…ç½®</h3><ol><li>mysqlç‰ˆæœ¬ä¸€è‡´ä¸”åå°ä»¥æœåŠ¡è¿è¡Œï¼Œå¿…é¡»åŒå‘ping ip èƒ½é€š</li><li>ä¸»ä»éƒ½é…ç½®åœ¨[mysqld]ç»“ç‚¹ä¸‹ï¼Œéƒ½æ˜¯å°å†™</li><li>ä¸»æœºä¿®æ”¹é…ç½®my.ini<ol><li>ã€å¿…é¡»ã€‘ä¸»æœåŠ¡å™¨å”¯ä¸€IDï¼š<code>sever-id=1</code></li><li>ã€å¿…é¡»ã€‘å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿—ï¼š<code>log-bin=è‡ªå·±æœ¬åœ°çš„è·¯å¾„/mysqlbin</code>ï¼Œå¦‚<code>log-bin=D:/devSoft/MySQLServer5.5/data/mysqlbin</code></li><li>ã€å¯é€‰ã€‘å¯åŠ¨é”™è¯¯æ—¥å¿—ï¼š<code>log-err=è‡ªå·±æœ¬åœ°çš„è·¯å¾„/mysqlerr</code></li><li>ã€å¯é€‰ã€‘æ ¹ç›®å½•ï¼š<code>basedir="è‡ªå·±æœ¬åœ°è·¯å¾„"</code>ï¼Œå¦‚<code>log-bin=D:/devSoft/MySQLServer5.5/</code></li><li>ã€å¯é€‰ã€‘ä¸´æ—¶ç›®å½•ï¼š<code>tempdir="è‡ªå·±æœ¬åœ°è·¯å¾„"</code></li><li>ã€å¯é€‰ã€‘æ•°æ®ç›®å½•ï¼š<code>datadir="è‡ªå·±æœ¬åœ°è·¯å¾„/Data/"</code></li><li>read-only=0ï¼Œä¸»æœºï¼Œè¯»å†™éƒ½å¯ä»¥</li><li>ã€å¯é€‰ã€‘è®¾ç½®ä¸è¦å¤åˆ¶çš„æ•°æ®åº“ï¼š<code>binlog-ignore-db=mysql</code></li><li>ã€å¯é€‰ã€‘è®¾ç½®éœ€è¦å¤åˆ¶çš„æ•°æ®åº“ï¼š<code>binlog-do-db=éœ€è¦å¤åˆ¶çš„ä¸»æ•°æ®åº“åå­—</code></li></ol></li><li>ä»æœºä¿®æ”¹é…ç½®my.cnf<ol><li>ã€å¿…é¡»ã€‘ä»æœåŠ¡å™¨å”¯ä¸€IDï¼šå°†<code>server-id=1</code>æ³¨é‡Šæ‰ï¼Œå¾€ä¸‹æ‹‰ï¼Œå¼€å¯<code>server-id=2</code>çš„æ³¨é‡Š</li><li>ã€å¯é€‰ã€‘å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿—</li></ol></li><li>ä¿®æ”¹é…ç½®æ–‡ä»¶åï¼Œé‡å¯ä¸»/ä»æœºçš„æœåŠ¡<ol><li><code>service mysql stop</code></li><li><code>service mysql start</code></li></ol></li><li>ä¸»æœºä»æœºå…³é—­é˜²ç«å¢™<ol><li>windowsæ‰‹åŠ¨å…³é—­</li><li>å…³é—­è™šæ‹ŸæœºLinuxé˜²æŠ¤å¢™ <code>service iptables stop</code></li></ol></li><li>åœ¨windowsä¸»æœºä¸Šå»ºç«‹è´¦æˆ·å¹¶æˆæƒslave<ol><li>ç™»å½•mysqlè´¦å·</li><li><code>grant replication slave on *.* to 'zhangsan'@'ä»æœºæ•°æ®åº“ip'identified by '123456'</code>ï¼šè¡¨ç¤ºä»æœºå¯ä»¥é€šè¿‡zhangsanç”¨æˆ·ï¼Œå¯†ç 123456æ¥æ“ä½œä¸»æœº</li><li>åˆ·æ–°ï¼š<code>flush privileges;</code></li><li>æŸ¥è¯¢masterçŠ¶æ€<ol><li><code>show master status;</code></li><li>è®°å½•ä¸‹fileã€positionçš„å€¼ï¼šè¡¨ç¤ºå‘ŠçŸ¥ä»æœºä»å“ªå¼€å§‹å¤åˆ¶</li></ol></li></ol></li><li>åœ¨Linuxä»æœºä¸Šé…ç½®éœ€è¦å¤åˆ¶çš„ä¸»æœº<ol><li>ç™»å½•mysqlè´¦å·</li><li>é…ç½®éœ€è¦å¤åˆ¶çš„ä¸»æœºï¼š<code>change master to master_host='ä¸»æœºæ•°æ®åº“ip',master_user='å¼ ä¸‰',master_password='123456',master_log_file='mysqlbin.ä¸Šè¿°fileçš„æ•°å­—',master_log_pos=ä¸Šè¿°positionçš„å€¼;</code><ol><li>å¦‚æœå‡ºç°error 1198ï¼Œéœ€è¦<code>stop slave</code>ï¼Œå†è¿›è¡Œé…ç½®</li></ol></li><li>å¯åŠ¨ä»æœåŠ¡å™¨å¤åˆ¶åŠŸèƒ½ï¼š<code>start slave;</code></li><li>æŸ¥çœ‹slaveçŠ¶æ€<ol><li><code>show slave status\G</code><ol><li>Slave_IO_Running:Yes</li><li>Slave_SQL_Running:Yesï¼šè¿™ä¸¤ä¸ªå€¼å¿…é¡»åŒæ—¶ä¸ºYesï¼Œå¦åˆ™å¤±è´¥</li></ol></li></ol></li></ol></li><li>é…ç½®å®Œæˆï¼Œè¿›è¡Œæµ‹è¯•ï¼š<ol><li>ä¸»æœºæ–°å»ºåº“ã€è¡¨ã€Insertæ“ä½œã€‚</li><li>ä»æœºè¿›è¡ŒæŸ¥è¯¢ï¼Œå‘ç°å·²ç»è‡ªåŠ¨å¤åˆ¶å®Œæˆ</li></ol></li><li>å…³é—­ä»æœåŠ¡å¤åˆ¶åŠŸèƒ½<ol><li><code>stop slave;</code></li></ol></li></ol><blockquote><p>æ³¨æ„ï¼š</p><p>å¦‚æœé…ç½®å‡ºç°é—®é¢˜ï¼Œå¦‚æ²¡æœ‰å‡ºç°ä¸¤ä¸ªYesï¼Œéœ€è¦å…³é—­ä»æœåŠ¡å¤åˆ¶åŠŸèƒ½ï¼Œé‡æ–°ä¸»æœºæˆæƒï¼Œè®°å½•æœ€æ–°çš„fileå’Œpositionå€¼ï¼Œå†åœ¨ä»æœºä¸Šé…ç½®éœ€è¦å¤åˆ¶çš„ä¸»æœºã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysqlé«˜çº§ï¼ˆä¸€ï¼‰</title>
      <link href="/2020/11/10/mysql/mysql-gao-ji-yi/"/>
      <url>/2020/11/10/mysql/mysql-gao-ji-yi/</url>
      
        <content type="html"><![CDATA[<h1 id="Mysqlé«˜çº§"><a href="#Mysqlé«˜çº§" class="headerlink" title="Mysqlé«˜çº§"></a>Mysqlé«˜çº§</h1><h2 id="mysqlçš„æ¶æ„ä»‹ç»"><a href="#mysqlçš„æ¶æ„ä»‹ç»" class="headerlink" title="mysqlçš„æ¶æ„ä»‹ç»"></a>mysqlçš„æ¶æ„ä»‹ç»</h2><h3 id="Linuxå®‰è£…Mysql"><a href="#Linuxå®‰è£…Mysql" class="headerlink" title="Linuxå®‰è£…Mysql"></a>Linuxå®‰è£…Mysql</h3><ol><li><p>æ£€æŸ¥å½“å‰ç³»ç»Ÿæ˜¯å¦å®‰è£…è¿‡mysql</p><ol><li>åœ¨optç›®å½•ä¸‹æ‰“å¼€å‘½ä»¤è¡Œ</li><li>æŸ¥è¯¢å‘½ä»¤ï¼š<code>rpm -qa|grep -i mysql</code></li><li>åˆ é™¤å‘½ä»¤ï¼š<code>rpm -e rpmè½¯ä»¶åŒ…å</code></li></ol></li><li><p>å®‰è£…MysqlæœåŠ¡ç«¯</p><ol><li>å®‰è£…<code>rpm -ivh Mysql-server-5.5.48...rpm</code></li></ol></li><li><p>å®‰è£…mysqlå®¢æˆ·ç«¯</p><ol><li>å®‰è£…<code>rpm -ivh mysql-client...rpm</code></li></ol></li><li><p>æŸ¥çœ‹mysqlå®‰è£…ç‰ˆæœ¬ï¼ˆæ˜¯å¦å®‰è£…æˆåŠŸï¼‰</p><p><code>mysqladmin --version</code>å‘½ä»¤ï¼Œç±»ä¼¼java -versionå¦‚æœæ‰“å‡ºæ¶ˆæ¯ï¼Œå³ä¸ºæˆåŠŸã€‚</p></li><li><p>å¯åŠ¨</p><p><code>service mysql start</code></p><p>æŸ¥çœ‹æ˜¯å¦å¼€å¯ï¼š<code>ps -ef|grep mysql</code></p></li><li><p>å…³é—­</p><p><code>service mysql stop</code></p></li><li><p>ä¿®æ”¹Mysqlç™»å½•å¯†ç </p><ol><li>å¯åŠ¨æœåŠ¡ä¹‹åï¼Œæ‰§è¡Œå‘½ä»¤<code>/usr/bin/mysqladmin -u root  password '123456'</code></li><li>é€šè¿‡<code>mysql -uroot -p123456</code>è¿›è¡Œç™»å½•</li></ol></li><li><p>è®¾ç½®mysqlè‡ªå¯åŠ¨</p><ol><li><code>chkconfig --level 5 mysql on</code>å¼€å¯</li><li><code>chkconfig --list|grep mysql</code>æŸ¥çœ‹</li><li>ã€å¯é€‰æ“ä½œã€‘<code>ntsysv</code>ä¹Ÿæ˜¯æŸ¥çœ‹ï¼Œå¦‚æœ[*]mysqlå¸¦ *ï¼Œå°±æ˜¯è‡ªå¯åŠ¨</li></ol></li><li><p>é…ç½®æ–‡ä»¶</p><ol><li><p>æ‹·è´é…ç½®æ–‡ä»¶</p><ol><li>5.5ç‰ˆæœ¬ï¼š <code>cp /usr/share/mysql/my-huge.cnf /etc/my.cnf</code></li><li>5.6ç‰ˆæœ¬ï¼š<code>cp /usr/share/mysql/my-default.cnf /etc/my.cnf</code></li></ol></li><li><p>é‡æ–°å¯åŠ¨mysql</p><p><code>service mysql stop/start</code></p></li><li><p>ç™»å½•</p><p><code>mysql -uroot -p123456</code></p></li><li><p>é€€å‡º</p><p><code>exit</code></p></li><li><p>ä¿®æ”¹å­—ç¬¦é›†</p><ol><li><code>cd /etc</code></li><li>æŸ¥çœ‹æ˜¯å¦æœ‰my.cnfæ–‡ä»¶ï¼Œ<code>ls -1 my.cnf</code></li><li><code>vim my.cnf</code></li><li>[client]èŠ‚ç‚¹ä¸‹ï¼Œsocketä¸‹åŠ ä¸Š<code>default-character-set=utf-8</code></li><li>[mysqld]èŠ‚ç‚¹ä¸‹ï¼Œportä¸‹åŠ ä¸Š<ol><li><code>character_set_server=utf8</code></li><li><code>charactet_set_client=utf8</code></li><li><code>collation-server=utf8_general_ci</code></li></ol></li><li>[mysql]èŠ‚ç‚¹ä¸‹ï¼Œno-auto-rehashä¸‹åŠ ä¸Š<code>default-character-set=utf8</code></li><li>escï¼Œ<code>wq!</code>ä¿å­˜é€€å‡º</li><li>é‡å¯æ•°æ®åº“ï¼Œç™»å½•æ•°æ®åº“ï¼Œæ’å…¥ä¸­æ–‡æµ‹è¯•ï¼ˆæ–°å»ºçš„åº“æ‰æœ‰ç”¨ï¼‰</li></ol></li></ol></li></ol><h4 id="mysqlå®‰è£…ç›®å½•ä»‹ç»"><a href="#mysqlå®‰è£…ç›®å½•ä»‹ç»" class="headerlink" title="mysqlå®‰è£…ç›®å½•ä»‹ç»"></a>mysqlå®‰è£…ç›®å½•ä»‹ç»</h4><p>æŸ¥çœ‹å®‰è£…ç›®å½•<code>ps -ef|grep mysql</code></p><table><thead><tr><th>è·¯å¾„</th><th>è§£é‡Š</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>/var/lib/mysql/</td><td>mysqlæ•°æ®åº“çš„å­˜æ”¾è·¯å¾„**</td><td>é‡è¦</td></tr><tr><td>/usr/share/mysql</td><td>é…ç½®æ–‡ä»¶ç›®å½•</td><td></td></tr><tr><td>/usr/bin</td><td>ç›¸å…³å‘½ä»¤ç›®å½•**</td><td>é‡è¦</td></tr><tr><td>/etc/init.d/mysql</td><td>å¯åœç›¸å…³è„šæœ¬</td><td></td></tr></tbody></table><h3 id="Mysqlé…ç½®æ–‡ä»¶"><a href="#Mysqlé…ç½®æ–‡ä»¶" class="headerlink" title="Mysqlé…ç½®æ–‡ä»¶"></a>Mysqlé…ç½®æ–‡ä»¶</h3><p><strong>äºŒè¿›åˆ¶æ—¥å¿—log-bin</strong></p><p>ç”¨äºä¸»ä»å¤åˆ¶</p><p><strong>é”™è¯¯æ—¥å¿—log-error</strong></p><p>é»˜è®¤æ˜¯å…³é—­çš„ï¼Œè®°å½•ä¸¥é‡çš„è­¦å‘Šå’Œé”™è¯¯ä¿¡æ¯ï¼Œæ¯æ¬¡å¯åŠ¨å…³é—­çš„ä¿¡æ¯</p><p><strong>æŸ¥è¯¢æ—¥å¿—log</strong></p><p>é»˜è®¤å…³é—­ï¼Œè®°å½•æŸ¥è¯¢åˆ°çš„sqlè¯­å¥</p><p><strong>æ•°æ®æ–‡ä»¶</strong></p><ol><li>åŒç³»ç»Ÿ<ol><li>windowï¼š\data</li><li>linuxï¼š/var/lib/mysqlï¼Œæ¯ä¸€ä¸ªç›®å½•ä»£è¡¨ä¸€ä¸ªåŒåçš„åº“</li></ol></li><li>frmæ–‡ä»¶ï¼šå­˜æ”¾è¡¨ç»“æ„</li><li>mydæ–‡ä»¶ï¼šå­˜æ”¾è¡¨æ•°æ®</li><li>myiæ–‡ä»¶ï¼šå­˜æ”¾è¡¨ç´¢å¼•</li></ol><p><strong>å¦‚ä½•é…ç½®</strong></p><ol><li>windowsï¼šmy.iniæ–‡ä»¶</li><li>linuxï¼š/etc/my.cnfæ–‡ä»¶</li></ol><h3 id="Mysqlé€»è¾‘æ¶æ„"><a href="#Mysqlé€»è¾‘æ¶æ„" class="headerlink" title="Mysqlé€»è¾‘æ¶æ„"></a>Mysqlé€»è¾‘æ¶æ„</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201108210850.png"></p><ol><li><p>è¿æ¥å±‚</p></li><li><p>æœåŠ¡å±‚</p><ol><li><p>Management Serveices &amp; Utilitiesï¼š ç³»ç»Ÿç®¡ç†å’Œæ§åˆ¶å·¥å…·</p></li><li><p>SQL Interface: SQLæ¥å£<br>æ¥å—ç”¨æˆ·çš„SQLå‘½ä»¤ï¼Œå¹¶ä¸”è¿”å›ç”¨æˆ·éœ€è¦æŸ¥è¯¢çš„ç»“æœã€‚æ¯”å¦‚select fromå°±æ˜¯è°ƒç”¨SQL Interface</p></li><li><p>Parser: è§£æå™¨<br>SQLå‘½ä»¤ä¼ é€’åˆ°è§£æå™¨çš„æ—¶å€™ä¼šè¢«è§£æå™¨éªŒè¯å’Œè§£æã€‚</p></li><li><p>Optimizer: æŸ¥è¯¢ä¼˜åŒ–å™¨ã€‚<br>SQLè¯­å¥åœ¨æŸ¥è¯¢ä¹‹å‰ä¼šä½¿ç”¨æŸ¥è¯¢ä¼˜åŒ–å™¨å¯¹æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ï¼Œå³é€‰å–æœ€ä¼˜çš„æ–¹å¼æ‰§è¡Œã€‚ </p></li><li><p>Cacheå’ŒBufferï¼š æŸ¥è¯¢ç¼“å­˜ã€‚</p><p>å¦‚æœæŸ¥è¯¢ç¼“å­˜æœ‰å‘½ä¸­çš„æŸ¥è¯¢ç»“æœï¼ŒæŸ¥è¯¢è¯­å¥å°±å¯ä»¥ç›´æ¥å»æŸ¥è¯¢ç¼“å­˜ä¸­å–æ•°æ®ã€‚</p></li></ol></li><li><p>å¼•æ“å±‚</p></li><li><p>å­˜å‚¨å±‚</p></li></ol><h3 id="å­˜å‚¨å¼•æ“"><a href="#å­˜å‚¨å¼•æ“" class="headerlink" title="å­˜å‚¨å¼•æ“"></a>å­˜å‚¨å¼•æ“</h3><ol><li><p>æŸ¥çœ‹å‘½ä»¤</p><ol><li>æ–¹å¼ä¸€ï¼šçœ‹ä½ çš„mysqlç°åœ¨å·²æä¾›ä»€ä¹ˆå­˜å‚¨å¼•æ“ï¼š<code>show engines;</code></li><li>æ–¹å¼äºŒï¼šçœ‹ä½ çš„mysqlå½“å‰é»˜è®¤çš„å­˜å‚¨å¼•æ“:<code>show variables like '%storage_engine%';</code></li></ol></li><li><p>MyISAMå’ŒInnoDB</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201031134947.png"></p></li></ol><hr><h2 id="ç´¢å¼•ä¼˜åŒ–åˆ†æ"><a href="#ç´¢å¼•ä¼˜åŒ–åˆ†æ" class="headerlink" title="ç´¢å¼•ä¼˜åŒ–åˆ†æ"></a>ç´¢å¼•ä¼˜åŒ–åˆ†æ</h2><p>æ•´ä½“ä¼˜åŒ–ç­–ç•¥ï¼š</p><ol><li>æ…¢æŸ¥è¯¢çš„å¼€å¯å¹¶æ•è·</li><li>explain+æ…¢sqlåˆ†æ</li><li>show profileæŸ¥è¯¢sqlåœ¨mysqlæœåŠ¡å™¨é‡Œæ‰§è¡Œç»†èŠ‚å’Œç”Ÿå‘½å‘¨æœŸæƒ…å†µ</li><li>sqlæ•°æ®åº“æœåŠ¡å™¨çš„å‚æ•°è°ƒä¼˜</li></ol><h3 id="æ€§èƒ½ä¸‹é™sqlæ…¢ï¼Œæ‰§è¡Œ-ç­‰å¾…æ—¶é—´é•¿"><a href="#æ€§èƒ½ä¸‹é™sqlæ…¢ï¼Œæ‰§è¡Œ-ç­‰å¾…æ—¶é—´é•¿" class="headerlink" title="æ€§èƒ½ä¸‹é™sqlæ…¢ï¼Œæ‰§è¡Œ/ç­‰å¾…æ—¶é—´é•¿"></a>æ€§èƒ½ä¸‹é™sqlæ…¢ï¼Œæ‰§è¡Œ/ç­‰å¾…æ—¶é—´é•¿</h3><ol><li>æŸ¥è¯¢è¯­å¥å†™çš„çƒ‚</li><li>ç´¢å¼•å¤±æ•ˆ<ol><li>å•å€¼<code>create index ç´¢å¼•åidx_user_name on è¡¨åuserï¼ˆåˆ—ånameï¼‰</code></li><li>å¤åˆ<code>create index ç´¢å¼•åidx_user_name on è¡¨åuserï¼ˆåˆ—ånameï¼‰</code></li></ol></li><li>å…³è”æŸ¥è¯¢å¤ªå¤šjoinï¼ˆè®¾è®¡ç¼ºé™·æˆ–ä¸å¾—å·²çš„éœ€æ±‚ï¼‰</li><li>æœåŠ¡å™¨è°ƒä¼˜åŠå„ä¸ªå‚æ•°è®¾ç½®ï¼ˆç¼“å†²ã€çº¿ç¨‹æ•°ç­‰ï¼‰</li></ol><h3 id="å¸¸è§é€šç”¨çš„JoinæŸ¥è¯¢"><a href="#å¸¸è§é€šç”¨çš„JoinæŸ¥è¯¢" class="headerlink" title="å¸¸è§é€šç”¨çš„JoinæŸ¥è¯¢"></a>å¸¸è§é€šç”¨çš„JoinæŸ¥è¯¢</h3><ol><li><p>æœºè¯»sqlæ‰§è¡Œé¡ºåº</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201109121045.png"></p></li><li><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201109121527.png"></p><p>æ³¨æ„ï¼šmysqlä¸æ”¯æŒfull join</p><ol><li><p>å…¨å¤–è¿ï¼š</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb_emp <span class="token number">a</span> <span class="token keyword">left</span> <span class="token keyword">join</span> tb_deptId <span class="token number">b</span> <span class="token keyword">on</span> <span class="token number">a</span><span class="token punctuation">.</span>deptId <span class="token operator">=</span> <span class="token number">b</span><span class="token punctuation">.</span>id <span class="token keyword">union</span> <span class="token comment" spellcheck="true">#è¿æ¥è¡¨ï¼Œå¹¶å»é‡</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb_emp <span class="token number">a</span> <span class="token keyword">right</span> <span class="token keyword">join</span> tb_deptId <span class="token number">b</span> <span class="token keyword">on</span> <span class="token number">a</span><span class="token punctuation">.</span>deptId <span class="token operator">=</span> <span class="token number">b</span><span class="token punctuation">.</span>id </code></pre></li><li><p>å…¨å¤–è¿ï¼Œä¸­é—´éƒ¨åˆ†å»æ‰</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb_emp <span class="token number">a</span> <span class="token keyword">left</span> <span class="token keyword">join</span> tb_deptId <span class="token number">b</span> <span class="token keyword">on</span> <span class="token number">a</span><span class="token punctuation">.</span>deptId <span class="token operator">=</span> <span class="token number">b</span><span class="token punctuation">.</span>id <span class="token keyword">where</span> <span class="token number">b</span><span class="token punctuation">.</span>id <span class="token operator">is</span> <span class="token boolean">null</span><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb_emp <span class="token number">a</span> <span class="token keyword">right</span> <span class="token keyword">join</span> tb_deptId <span class="token number">b</span> <span class="token keyword">on</span> <span class="token number">a</span><span class="token punctuation">.</span>deptId <span class="token operator">=</span> <span class="token number">b</span><span class="token punctuation">.</span>id <span class="token keyword">where</span> <span class="token number">a</span><span class="token punctuation">.</span>id <span class="token operator">is</span> <span class="token boolean">null</span></code></pre></li></ol></li></ol><h3 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h3><p>å®šä¹‰ï¼šæ˜¯å¸®åŠ©mysqlé«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„ã€‚ç®€å•ç†è§£ä¸ºï¼š<strong>æ’å¥½åºçš„å¿«é€ŸæŸ¥æ‰¾æ•°æ®ç»“æ„</strong></p><p>é™¤äº†æ•°æ®æœ¬èº«ä¹‹å¤–ï¼Œæ•°æ®åº“è¿˜ç»´æŠ¤ç€ä¸€ä¸ªæ»¡è¶³ç‰¹å®šæŸ¥æ‰¾ç®—æ³•çš„æ•°æ®ç»“æ„ï¼Œè¿™äº›æ•°æ®ç»“æ„ä»¥æŸç§æ–¹å¼æŒ‡å‘æ•°æ®ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨è¿™äº›æ•°æ®ç»“æ„çš„åŸºç¡€ä¸Šå®ç°é«˜çº§æŸ¥æ‰¾ç®—æ³•ï¼Œè¿™ç§æ•°æ®ç»“æ„å°±æ˜¯ç´¢å¼•ã€‚</p><p>ä¸€èˆ¬ç´¢å¼•æœ¬èº«ä¹Ÿå¾ˆå¤§ï¼Œä»¥ç´¢å¼•æ–‡ä»¶çš„å½¢å¼å­˜å‚¨åœ¨ç£ç›˜ä¸Š</p><p><strong>ä¼˜åŠ¿</strong></p><ol><li>ç±»ä¼¼å¤§å­¦å›¾ä¹¦é¦†çš„ä¹¦ç›®ç´¢å¼•ï¼Œæé«˜æ•°æ®æ£€ç´¢çš„æ•ˆç‡ï¼ˆæ ‘çš„é«˜åº¦ï¼‰ï¼Œé™ä½æ•°æ®åº“çš„ioæˆæœ¬</li><li>é€šè¿‡ç´¢å¼•åˆ—å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œé™ä½æ•°æ®æ’åºçš„æˆæœ¬ï¼Œé™ä½äº†cpuæˆæœ¬</li></ol><p><strong>åŠ£åŠ¿</strong></p><ol><li>å®é™…ä¸Šç´¢å¼•ä¹Ÿæ˜¯ä¸€å¼ è¡¨ï¼Œè¡¨ä¿å­˜äº†ä¸»é”®å’Œç´¢å¼•å­—æ®µï¼Œå¹¶æŒ‡å‘å®ä½“è¡¨çš„è®°å½•ï¼Œæ‰€ä»¥ç´¢å¼•åˆ—ä¹Ÿæ˜¯è¦å ç”¨ç©ºé—´çš„</li><li>è™½ç„¶ç´¢å¼•æé«˜äº†æŸ¥è¯¢é€Ÿåº¦ï¼ŒåŒæ—¶å´ä¼šé™ä½æ›´æ–°è¡¨çš„é€Ÿåº¦ã€‚æ¯æ¬¡æ›´æ–°è¡¨ï¼Œè¿˜è¦æ›´æ”¹ç´¢å¼•ä¿¡æ¯ã€‚</li><li>è¦èŠ±æ—¶é—´ç ”ç©¶å»ºç«‹æœ€ä¼˜ç§€çš„ç´¢å¼•</li></ol><h4 id="ç´¢å¼•çš„åˆ†ç±»"><a href="#ç´¢å¼•çš„åˆ†ç±»" class="headerlink" title="ç´¢å¼•çš„åˆ†ç±»"></a>ç´¢å¼•çš„åˆ†ç±»</h4><ol><li>å•å€¼ç´¢å¼•ï¼šä¸€ä¸ªç´¢å¼•åªåŒ…å«å•ä¸ªåˆ—ï¼Œä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ªå•å€¼ç´¢å¼•</li><li>å”¯ä¸€ç´¢å¼•ï¼šç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸ç©ºå€¼</li><li>å¤åˆç´¢å¼•ï¼šä¸€ä¸ªç´¢å¼•åŒ…å«å¤šä¸ªåˆ—</li></ol><p><strong>åŸºæœ¬è¯­æ³•ï¼š</strong></p><ol><li><p>åˆ›å»ºï¼š</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token punctuation">[</span><span class="token keyword">unique</span><span class="token punctuation">]</span> <span class="token keyword">index</span> indexName <span class="token keyword">on</span> mytable<span class="token punctuation">(</span>columnname<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">alter</span> mytable <span class="token keyword">add</span> <span class="token punctuation">[</span><span class="token keyword">unique</span><span class="token punctuation">]</span> <span class="token keyword">index</span><span class="token punctuation">[</span>indexName<span class="token punctuation">]</span> <span class="token keyword">on</span> <span class="token punctuation">(</span>columnname<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>åˆ é™¤ï¼š</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">index</span><span class="token punctuation">[</span>indexName<span class="token punctuation">]</span> <span class="token keyword">on</span> mytable<span class="token punctuation">;</span></code></pre></li><li><p>æŸ¥çœ‹ï¼š</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">index</span> <span class="token keyword">from</span> table_name</code></pre></li><li><p>alterå‘½ä»¤</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">add</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>åˆ—å<span class="token punctuation">)</span>ï¼šæ·»åŠ ä¸»é”®<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">add</span> <span class="token keyword">unique</span> ç´¢å¼•å<span class="token punctuation">(</span>åˆ—å<span class="token punctuation">)</span>ï¼šåˆ›å»ºç´¢å¼•çš„å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">add</span> <span class="token keyword">index</span> ç´¢å¼•åï¼ˆåˆ—åï¼‰ï¼šå¢åŠ æ™®é€šç´¢å¼•<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å fulltext ç´¢å¼•åï¼ˆåˆ—åï¼‰ï¼šå…¨æ–‡ç´¢å¼•</code></pre></li></ol><p><strong>å“ªäº›æƒ…å†µéœ€è¦åˆ›å»ºç´¢å¼•</strong></p><ol><li>ä¸»é”®è‡ªåŠ¨å»ºç«‹å”¯ä¸€ç´¢å¼•</li><li>é¢‘ç¹ä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„å­—æ®µ</li><li>æŸ¥è¯¢ä¸­ä¸å…¶ä»–è¡¨å…³è”çš„å­—æ®µï¼Œå¤–é”®å…³ç³»å»ºç«‹ç´¢å¼•</li><li>å•å€¼/ç»„åˆç´¢å¼•çš„é€‰æ‹©é—®é¢˜ï¼Œç»„åˆç´¢å¼•æ€§ä»·æ¯”æ›´é«˜</li><li>æŸ¥è¯¢ä¸­æ’åºçš„å­—æ®µï¼Œæ’åºå­—æ®µè‹¥é€šè¿‡ç´¢å¼•å»è®¿é—®å‘¢å°†å¤§å¤§æé«˜æ’åºé€Ÿåº¦</li><li>æŸ¥è¯¢ä¸­ç»Ÿè®¡æˆ–åˆ†ç»„å­—æ®µ</li></ol><p><strong>ä¸è¦åˆ›å»ºç´¢å¼•</strong></p><ol><li>è®°å½•æ•°æ®å°‘</li><li>ç»å¸¸å¢åˆ æ”¹</li><li>whereæ¡ä»¶ç”¨ä¸åˆ°çš„å­—æ®µ</li><li>è¿‡æ»¤æ€§ä¸å¥½</li></ol><h4 id="ç´¢å¼•ç»“æ„"><a href="#ç´¢å¼•ç»“æ„" class="headerlink" title="ç´¢å¼•ç»“æ„"></a>ç´¢å¼•ç»“æ„</h4><p>B+Tree</p><h3 id="æ€§èƒ½åˆ†æ"><a href="#æ€§èƒ½åˆ†æ" class="headerlink" title="æ€§èƒ½åˆ†æ"></a>æ€§èƒ½åˆ†æ</h3><p>ä½¿ç”¨EXPLAINå…³é”®å­—å¯ä»¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡ŒSQLæŸ¥è¯¢è¯­å¥ï¼ŒçŸ¥é“MYSQLæ˜¯æ€ä¹ˆå¤„ç†SQLè¯­å¥çš„</p><p>ç”¨æ³•ï¼šexplain+SQLè¯­å¥</p><p>ç”¨å¤„ï¼š</p><ol><li>è¡¨çš„è¯»å–é¡ºåº</li><li>æ•°æ®è¯»å–æ“ä½œçš„æ“ä½œç±»å‹</li><li>å“ªäº›ç´¢å¼•å¯ä»¥ä½¿ç”¨</li><li>å“ªäº›ç´¢å¼•è¢«å®é™…ä½¿ç”¨</li><li>è¡¨ä¹‹é—´çš„å¼•ç”¨</li><li>æ¯å¼ è¡¨æœ‰å¤šå°‘è¡Œè¢«ä¼˜åŒ–å™¨æŸ¥è¯¢</li></ol><h4 id="å„å­—æ®µçš„è§£é‡Š"><a href="#å„å­—æ®µçš„è§£é‡Š" class="headerlink" title="å„å­—æ®µçš„è§£é‡Š"></a>å„å­—æ®µçš„è§£é‡Š</h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201109172842.png"></p><ol><li>idï¼šæŸ¥è¯¢ä¸­æ‰§è¡Œselectå­å¥æˆ–æ“ä½œè¡¨è¾¾é¡ºåº<ol><li>idç›¸åŒï¼Œæ‰§è¡Œé¡ºåºä»ä¸Šåˆ°ä¸‹</li><li>idä¸åŒï¼Œidå€¼è¶Šå¤§ï¼Œè¶Šå…ˆè¢«æ‰§è¡Œ</li><li>idæœ‰ç›¸åŒæœ‰ä¸åŒï¼Œè¶Šå¤§è¶Šä¼˜å…ˆï¼Œå…¶ä½™é¡ºåºæ‰§è¡Œã€‚<ol><li>derivedè¡ç”Ÿè¡¨ï¼Œderived2å°±æ˜¯Idä¸º2æŸ¥è¯¢å‡ºæ¥çš„è¡¨ä½œä¸ºè¡ç”Ÿè¡¨ã€‚</li></ol></li></ol></li><li>select_typeï¼šæŸ¥è¯¢çš„ç±»å‹ï¼Œä¸»è¦ç”¨äºåŒºåˆ«æ™®é€šã€è”åˆã€å­æŸ¥è¯¢ç­‰å¤æ‚æŸ¥è¯¢<ol><li>simpleï¼šç®€å•çš„selectæŸ¥è¯¢ï¼ŒæŸ¥è¯¢ä¸­ä¸åŒ…å«å­æŸ¥è¯¢æˆ–union</li><li>primaryï¼šæŸ¥è¯¢ä¸­è‹¥åŒ…å«ä»»ä½•å¤æ‚çš„å­æŸ¥è¯¢ï¼Œæœ€å¤–å±‚æŸ¥è¯¢åˆ™è¢«æ ‡è®°ä¸º</li><li>subqueryï¼šåœ¨selectæˆ–whereåˆ—è¡¨ä¸­åŒ…å«çš„å­æŸ¥è¯¢</li><li>derivedï¼šåœ¨fromåˆ—è¡¨ä¸­åŒ…å«çš„çš„å­æŸ¥è¯¢è¢«æ ‡è®°ä¸ºderivedï¼ˆè¡ç”Ÿï¼‰ï¼Œmysqlä¼šé€’å½’æ‰§è¡Œè¿™äº›å­æŸ¥è¯¢ï¼ŒæŠŠç»“æœæ”¾åœ¨ä¸´æ—¶è¡¨é‡Œ</li><li>unionï¼šè‹¥ç¬¬äºŒä¸ªselectå‡ºç°åœ¨unionä¹‹åï¼Œåˆ™ä¼šæ ‡è®°ä¸ºunionï¼›è‹¥unionåŒ…å«åœ¨fromå­å¥çš„å­æŸ¥è¯¢ä¸­ï¼Œå¤–å±‚selectå°†è¢«æ ‡è®°ä¸ºderived</li><li>union resultï¼šä»unionè¡¨è·å¾—ç»“æœçš„select</li></ol></li><li>tableï¼šæ˜¾ç¤ºè¿™ä¸€è¡Œçš„æ•°æ®æ˜¯å…³äºå“ªå¼ è¡¨çš„</li><li>typeï¼šè®¿é—®ç±»å‹æ’åˆ—ï¼Œæ˜¾ç¤ºæŸ¥è¯¢ä½¿ç”¨äº†å“ªç§ç±»å‹<ol><li>æœ€å¥½åˆ°æœ€å·®ï¼šsystem&gt;const&gt;eq_ref&gt;ref&gt;range&gt;index&gt;all</li><li>ä¸€èˆ¬æ¥è¯´ï¼Œ<strong>ä¿è¯æŸ¥è¯¢è¾¾åˆ°rangeçº§åˆ«ï¼Œæœ€å¥½è¾¾åˆ°ref</strong><ol><li>systemï¼šè¡¨åªæœ‰ä¸€è¡Œè®°å½•ï¼Œconstç±»å‹çš„ç‰¹ä¾‹</li><li>constï¼šæ ‡è¯†é€šè¿‡ç´¢å¼•ä¸€æ¬¡å°±æŸ¥æ‰¾åˆ°ï¼Œconstç”¨äºæ¯”è¾ƒprimary key æˆ–è€… uniqueç´¢å¼•ã€‚å› ä¸ºåªåŒ¹é…ä¸€è¡Œæ•°æ®ï¼Œæ‰€ä»¥å¾ˆå¿«ã€‚è‹¥where id = 1ï¼ˆå”¯ä¸€/ä¸»é”®ç´¢å¼•ç¡®å®šï¼‰</li><li>eq_refï¼šå”¯ä¸€æ€§ç´¢å¼•æ‰«æï¼Œå¯¹äºæ¯ä¸ªç´¢å¼•é”®ï¼Œè¡¨ä¸­åªæœ‰ä¸€æ¡è®°å½•ä¸ä¹‹åŒ¹é…ã€‚å¸¸ç”¨äºä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•æ‰«æï¼ˆå¤šä¸ªè¡¨çš„å”¯ä¸€/ä¸»é”®ç´¢å¼•ç¡®å®šï¼‰</li><li>refï¼šéå”¯ä¸€æ€§ç´¢å¼•æ‰«æï¼Œè¿”å›åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„æ‰€æœ‰è¡Œ</li><li>rangeï¼šåªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œï¼Œä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥é€‰æ‹©è¡Œã€‚ä¸€èˆ¬æ¥è¯´å°±æ˜¯betweenã€&lt;ã€&gt;ï¼Œinï¼Œè¿™ç§èŒƒå›´æ‰«æç´¢å¼•æ‰«ææ¯”å…¨è¡¨æ‰«æå¥½ã€‚</li><li>indexï¼šå…¨ç´¢å¼•æ‰«æï¼Œä¸allåŒºåˆ«ä¸ºindexç±»å‹åªéå†æ ‘ï¼Œé€šå¸¸æ¯”allå¿«ï¼Œå› ä¸ºç´¢å¼•æ–‡ä»¶é€šå¸¸æ¯”æ•°æ®æ–‡ä»¶å°</li><li>allï¼šéå†å…¨è¡¨ä»¥æ‰¾åˆ°åŒ¹é…çš„è¡Œ</li></ol></li></ol></li><li>possible_keysï¼šæ˜¾ç¤ºå¯èƒ½åº”ç”¨åœ¨è¿™å¼ è¡¨ä¸­çš„ç´¢å¼•ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªã€‚æŸ¥è¯¢æ¶‰åŠåˆ°å­—æ®µå­˜åœ¨ç´¢å¼•ï¼Œä½†ä¸ä¸€å®šè¢«å®é™…ä½¿ç”¨</li><li>keyï¼šå®é™…ä½¿ç”¨çš„ç´¢å¼•ã€‚å¦‚æœä¸ºNullï¼Œåˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•ã€‚å¦‚æœä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼Œåˆ™è¯¥ç´¢å¼•å‡ºç°åœ¨keyåˆ—è¡¨ä¸­</li><li>key_lenï¼šè¡¨ç¤ºç´¢å¼•ä¸­ä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œæ˜¾ç¤ºçš„å€¼ä¸ºç´¢å¼•å­—æ®µæœ€å¤§å¯èƒ½é•¿åº¦ï¼Œå¹¶éå®é™…ä½¿ç”¨é•¿åº¦ã€‚åœ¨ä¸æŸå¤±ç²¾åº¦çš„æƒ…å†µä¸‹ï¼Œé•¿åº¦è¶ŠçŸ­è¶Šå¥½ã€‚</li><li>refï¼šæ˜¾ç¤ºç´¢å¼•çš„å“ªä¸€åˆ—è¢«ä½¿ç”¨äº†ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œæ˜¯ä¸€ä¸ªå¸¸æ•°ã€‚å“ªäº›åˆ—æˆ–å¸¸é‡è¢«ç”¨äºæŸ¥æ‰¾ç´¢å¼•åˆ—ä¸Šçš„å€¼</li><li>rowsï¼šæ ¹æ®è¡¨ç»Ÿè®¡ä¿¡æ¯åŠç´¢å¼•å¯»ç”¨æƒ…å†µï¼Œå¤§è‡´ä¼°ç®—å‡ºæ‰¾åˆ°æ‰€éœ€çš„å°±æ‰€éœ€è¦è¯»å–çš„è¡Œæ•°ï¼Œè¶Šå°è¶Šå¥½</li><li>extraï¼šåŒ…å«ä¸é€‚åˆåœ¨å…¶ä»–åˆ—ä¸­æ˜¾ç¤ºä½†æ˜¯ååˆ†é‡è¦çš„é¢å¤–ä¿¡æ¯<ol><li><strong>Using filesort</strong>ï¼šæˆ‘ä»¬åˆ›å»ºçš„ç´¢å¼•ï¼Œè™½ç„¶mysqlç”¨ç´¢å¼•æ¥æŸ¥æ‰¾ï¼Œä½†æ˜¯æ’åºå´æ²¡æœ‰ç”¨åˆ°ï¼Œè€Œæ˜¯è‡ªå·±åœ¨è¡¨å†…åˆè¿›è¡Œäº†å†…éƒ¨æ’åºã€‚Mysqlæ— æ³•åˆ©ç”¨ç´¢å¼•è¿›è¡Œæ’åºç§°ä½œâ€œæ–‡ä»¶æ’åºâ€ï¼ˆå¤åˆç´¢å¼•c1_c2_c3ï¼Œwhere c1=â€™â€™,order by c3ï¼‰</li><li><strong>Using temporary</strong>ï¼šä½¿ç”¨äº†ä¸´æ—¶è¡¨ä¿å­˜ä¸­é—´ç»“æœï¼ŒMysqlåœ¨å¯¹æŸ¥è¯¢ç»“æœæ’åºæ—¶ä½¿ç”¨ä¸´æ—¶è¡¨ã€‚å¸¸è§æ’åºorder byï¼Œæˆ–åˆ†ç»„æŸ¥è¯¢group byï¼ˆå¤åˆç´¢å¼•c1_c2,group by c2ï¼‰</li><li><strong>Using index</strong>ï¼šè¡¨ç¤ºå“åº”çš„selectæ“ä½œä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼Œé¿å…è®¿é—®äº†æ•°æ®è¡Œã€‚å¦‚æœåŒæ—¶å‡ºç°using whereï¼Œè¡¨æ˜ç´¢å¼•è¢«ç”¨ç±»æ‰§è¡Œç´¢å¼•é”®å€¼æŸ¥æ‰¾ã€‚å¦‚æœæ¯æ—¥æœ‰å‡ºç°using whereï¼Œè¡¨æ˜ç´¢å¼•ç”¨æ¥è¯»å–æ•°æ®è€Œå¹¶éæ‰§è¡ŒæŸ¥æ‰¾ã€‚<ol><li>è¦†ç›–ç´¢å¼•ï¼šå»ºç«‹çš„å¤åˆç´¢å¼•çš„ä¸ªæ•°å’Œé¡ºåºï¼Œå’ŒæŸ¥æ‰¾æ—¶çš„ä¸ªæ•°å’Œé¡ºåºç›¸åŒã€‚å°±æ˜¯selectçš„æ•°æ®åˆ—åªç”¨ä»ç´¢å¼•ä¸­å°±èƒ½å–å¾—ï¼Œä¸å¿…è¯»å–æ•°æ®è¡Œï¼Œmysqlå¯ä»¥åˆ©ç”¨ç´¢å¼•è¿”å›selectåˆ—è¡¨ä¸­çš„å­—æ®µï¼Œè€Œä¸å¿…æ ¹æ®ç´¢å¼•å†æ¬¡è¯»å–æ•°æ®æ–‡ä»¶ã€‚</li></ol></li><li>Using whereï¼šè¡¨æ˜ä½¿ç”¨äº†whereè¿‡æ»¤</li><li>using join bufferï¼šä½¿ç”¨äº†è¿æ¥ç¼“å­˜</li><li>impossible whereï¼šwhereå­å¥çš„å€¼æ€»æ˜¯falseï¼Œä¸èƒ½ç”¨æ¥è·å–ä»»ä½•å…ƒç»„</li><li>select tables optimized awayï¼š(ä¸å¸¸è§)åœ¨æ²¡æœ‰group byå­å¥ä¸‹ï¼Œå¯¹ç´¢å¼•ä¼˜åŒ–çš„ä¸€äº›æ“ä½œ</li><li>distinctï¼šï¼ˆä¸å¸¸è§ï¼‰ä¼˜åŒ–distinctæ“ä½œï¼Œåœ¨æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„æ—¶å€™å°±åœæ­¢æ‰¾ç›¸åŒå€¼çš„åŠ¨ä½œ</li></ol></li></ol><h3 id="ç´¢å¼•ä¼˜åŒ–"><a href="#ç´¢å¼•ä¼˜åŒ–" class="headerlink" title="ç´¢å¼•ä¼˜åŒ–"></a>ç´¢å¼•ä¼˜åŒ–</h3><h4 id="ç´¢å¼•åˆ†æ"><a href="#ç´¢å¼•åˆ†æ" class="headerlink" title="ç´¢å¼•åˆ†æ"></a>ç´¢å¼•åˆ†æ</h4><h5 id="å•è¡¨"><a href="#å•è¡¨" class="headerlink" title="å•è¡¨"></a>å•è¡¨</h5><ol><li><p>èŒƒå›´æŸ¥è¯¢ï¼Œåé¢çš„ç´¢å¼•ä¼šå¤±æ•ˆ</p></li><li><p>åˆ›å»ºæ‰€æœ‰æ¡ä»¶çš„ç´¢å¼•</p></li><li><p>åˆ é™¤ç´¢å¼•</p></li><li><p>åˆ›å»ºæ–°ç´¢å¼•</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹:æŸ¥è¯¢category_idä¸º1ä¸”commentså¤§äº1çš„æƒ…å†µä¸‹ï¼Œviewæœ€å¤šçš„article_id</span><span class="token keyword">select</span> id<span class="token punctuation">,</span>author_id <span class="token keyword">from</span> article <span class="token keyword">where</span> category_id <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> comments<span class="token operator">></span><span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> views <span class="token keyword">desc</span> <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç¬¬ä¸€æ¬¡åˆ›å»ºç´¢å¼•</span><span class="token keyword">create</span> <span class="token keyword">index</span> idx_article_ccv <span class="token keyword">on</span> article<span class="token punctuation">(</span>category_id<span class="token punctuation">,</span>comments<span class="token punctuation">,</span>views<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#å‡ºç°ä»¥ä¸‹é—®é¢˜ï¼štypeä¸ºrangeï¼Œç”¨åˆ°äº†ç´¢å¼•ï¼Œä½†ç”±äºcommentsæ˜¯èŒƒå›´æŸ¥æ‰¾ï¼Œå¯¼è‡´åé¢çš„viewsç´¢å¼•å¤±æ•ˆï¼Œå‡ºç°Using fileSort</span><span class="token comment" spellcheck="true">#åˆ é™¤ç´¢å¼•</span><span class="token keyword">drop</span> <span class="token keyword">index</span> idx_article_ccv <span class="token keyword">on</span> article<span class="token comment" spellcheck="true">#ç¬¬äºŒæ¬¡åˆ›å»ºç´¢å¼•</span><span class="token keyword">create</span> <span class="token keyword">index</span> idx_article_cv <span class="token keyword">on</span> article<span class="token punctuation">(</span>category_id<span class="token punctuation">,</span>views<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#å‡ºç°æƒ…å†µï¼štypeä¸ºref,ç”¨åˆ°äº†ç´¢å¼•ï¼Œå¹¶ä¸”refç”¨åˆ°äº†å¸¸é‡ï¼Œæ²¡æœ‰å‡ºç°Using fileSort</span></code></pre></li></ol><h5 id="ä¸¤è¡¨"><a href="#ä¸¤è¡¨" class="headerlink" title="ä¸¤è¡¨"></a>ä¸¤è¡¨</h5><ol><li><p>å·¦å³è¿æ¥ï¼Œç´¢å¼•å»ºåœ¨ä»è¡¨ä¸Š</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹ï¼š</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> class <span class="token keyword">left</span> <span class="token keyword">join</span> book <span class="token keyword">on</span> class<span class="token punctuation">.</span>card <span class="token operator">=</span> book<span class="token punctuation">.</span>card<span class="token comment" spellcheck="true">#å»ºç«‹ç´¢å¼•</span><span class="token keyword">create</span> <span class="token keyword">index</span> idx_class_card <span class="token keyword">on</span> class<span class="token punctuation">(</span>card<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#å‡ºç°çš„æƒ…å†µï¼šå»ºåœ¨ä¸»è¡¨ä¸Šï¼Œtypeä¸ºindex,æŸ¥æ‰¾rowsä»ç„¶æ˜¯æ‰€æœ‰æ•°æ®</span><span class="token comment" spellcheck="true">#å»ºç«‹ç´¢å¼•</span><span class="token keyword">create</span> <span class="token keyword">index</span> idx_book_card <span class="token keyword">on</span> book<span class="token punctuation">(</span>card<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#å‡ºç°çš„æƒ…å†µï¼šå»ºç«‹åœ¨ä»è¡¨ä¸Šï¼Œtypeä¸ºrefï¼Œå¹¶ä¸”refæ˜¯class.cardï¼ŒæŸ¥æ‰¾çš„rowså˜ä¸º1</span></code></pre></li></ol><h5 id="ä¸‰è¡¨"><a href="#ä¸‰è¡¨" class="headerlink" title="ä¸‰è¡¨"></a>ä¸‰è¡¨</h5><ol><li><p>å·¦å³è¿æ¥ï¼Œç´¢å¼•å»ºåœ¨ä»è¡¨</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹ï¼š</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> class <span class="token keyword">left</span> <span class="token keyword">join</span> book <span class="token keyword">on</span> class<span class="token punctuation">.</span>card <span class="token operator">=</span> book<span class="token punctuation">.</span>card <span class="token keyword">left</span> <span class="token keyword">join</span> phone <span class="token keyword">on</span> book<span class="token punctuation">.</span>card <span class="token operator">=</span> phone<span class="token punctuation">.</span>card<span class="token comment" spellcheck="true">#å»ºç«‹ç´¢å¼•</span><span class="token keyword">create</span> <span class="token keyword">index</span> idx_book_card <span class="token keyword">on</span> book<span class="token punctuation">(</span>card<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#å»ºç«‹ç´¢å¼•</span><span class="token keyword">create</span> <span class="token keyword">index</span> idx_phone_card <span class="token keyword">on</span> phone<span class="token punctuation">(</span>card<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#å‡ºç°çš„æƒ…å†µï¼šå»ºç«‹åœ¨ä»è¡¨ä¸Šï¼Œtypeä¸ºrefï¼Œå¹¶ä¸”refæ˜¯class.cardã€book.cardï¼ŒæŸ¥æ‰¾çš„rowså˜ä¸º1</span></code></pre></li><li><p>joinè¯­å¥çš„ä¼˜åŒ–ï¼š</p><ol><li>å°½å¯èƒ½å‡å°‘joinè¯­å¥å¾ªç¯åµŒå¥—ï¼Œæ°¸è¿œç”¨å°è¡¨é©±åŠ¨å¤§è¡¨ï¼ˆå°è¡¨ä½œä¸ºä¸»è¡¨ï¼‰</li><li>ä¼˜å…ˆä¼˜åŒ–å¾ªç¯åµŒå¥—çš„å†…å±‚å¾ªç¯</li><li>ä¿è¯joinè¯­å¥ä¸­è¢«é©±åŠ¨è¡¨ä¸Šçš„Joinæ¡ä»¶å­—æ®µå·²è¢«ç´¢å¼•</li><li>å½“æ— æ³•ä¿è¯è¢«é©±åŠ¨è¡¨çš„joinæ¡ä»¶å­—æ®µè¢«ç´¢å¼•ä¸”å†…å­˜å……è¶³ï¼Œè°ƒå¤§joinbufferçš„è®¾ç½®</li></ol></li></ol><h4 id="ç´¢å¼•å¤±æ•ˆ"><a href="#ç´¢å¼•å¤±æ•ˆ" class="headerlink" title="ç´¢å¼•å¤±æ•ˆ"></a>ç´¢å¼•å¤±æ•ˆ</h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201110200535.png"></p><ol><li><p>å…¨å€¼åŒ¹é…ï¼šå¤åˆç´¢å¼•3ä¸ªï¼Œç”¨åˆ°çš„æŸ¥è¯¢æ¡ä»¶ä¹Ÿæ˜¯3ä¸ªã€‚</p></li><li><p>æœ€å·¦å‰ç¼€æ³•åˆ™ï¼š</p><ol><li>å¸¦å¤´å¤§å“¥ä¸èƒ½æ­»ï¼šç¬¬ä¸€ä¸ªç´¢å¼•æ²¡æœ‰ç”¨åˆ°ï¼Œå…¶ä»–ç´¢å¼•å°±ä¼šå¤±æ•ˆ</li><li>ä¸­é—´å…„å¼Ÿä¸èƒ½æ–­ï¼šç¬¬ä¸€ä¸ªç´¢å¼•ç”¨åˆ°äº†ï¼Œä½†ç¬¬äºŒä¸ªæ¡ä»¶ä¸­æ²¡æœ‰ç”¨åˆ°ï¼Œåˆ™åç»­çš„ç´¢å¼•éƒ½ä¸ä¼šç”¨åˆ°</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#ç¬¦åˆç´¢å¼•c1,c2,c3,c4</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test03 <span class="token keyword">where</span> <span class="token number">c1</span> <span class="token operator">=</span> <span class="token string">'a1'</span> <span class="token operator">and</span> <span class="token number">c3</span><span class="token operator">=</span><span class="token string">'a3'</span> <span class="token operator">and</span> <span class="token number">c2</span> <span class="token operator">=</span><span class="token string">'a2'</span><span class="token comment" spellcheck="true">#ç»“æœï¼šc123éƒ½ç”¨åˆ°äº†ç´¢å¼•ï¼Œmysqlåœ¨åº•å±‚å·²ç»ä¼˜åŒ–ç¿»è¯‘</span></code></pre></li><li><p>ç´¢å¼•åˆ—ä¸Šä¸åšä»»ä½•æ“ä½œï¼ˆè®¡ç®—ã€å‡½æ•°ã€ï¼ˆè‡ªåŠ¨æˆ–æ‰‹åŠ¨ï¼‰ç±»å‹è½¬æ¢ï¼‰ï¼Œä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆè€Œè½¬å‘å…¨è¡¨æ‰«æ</p><ol><li><p>åœ¨æ¡ä»¶è¯­å¥ä¸­ï¼Œå¯¹ç´¢å¼•åˆ—åŒ…è£¹æœ‰å‡½æ•°</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#ç¬¦åˆç´¢å¼•ä¸º(nameAgePosition)ï¼Œå¤±æ•ˆ</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> staffs <span class="token keyword">where</span> <span class="token keyword">left</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'judy'</span></code></pre></li></ol></li><li><p>èŒƒå›´æŸ¥è¯¢ï¼Œåé¢çš„ç´¢å¼•ä¼šå¤±æ•ˆ</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#nameç”¨åˆ°ç´¢å¼•ï¼Œageç”¨åˆ°rangeèŒƒå›´ç´¢å¼•ï¼Œposå¤±æ•ˆ</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> staffs <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'judy'</span> <span class="token operator">and</span> age<span class="token operator">></span><span class="token number">25</span> <span class="token operator">and</span> pos <span class="token operator">=</span> <span class="token string">'manager'</span><span class="token comment" spellcheck="true">#å¤åˆç´¢å¼•c1,c2,c3,c4</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test03 <span class="token keyword">where</span> <span class="token number">c1</span><span class="token operator">=</span><span class="token string">'a1'</span> <span class="token operator">and</span> <span class="token number">c2</span><span class="token operator">=</span><span class="token string">'a2'</span> <span class="token operator">and</span> <span class="token number">c4</span><span class="token operator">></span><span class="token string">'a4'</span> <span class="token operator">and</span> <span class="token number">c3</span> <span class="token operator">=</span> <span class="token string">'a3'</span><span class="token comment" spellcheck="true">#ç»“æœï¼š4ä¸ªå‡ç”¨åˆ°ç´¢å¼•</span></code></pre></li><li><p>å°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œå‡å°‘select *</p><p>è¿™æ ·åªä¼šåœ¨ç´¢å¼•ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œè€Œä¸éœ€è¦è¿›è¡Œioæ“ä½œæŸ¥æ‰¾è¡¨ä¸­æ•°æ®</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> staffs <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'judy'</span> <span class="token operator">and</span> age<span class="token operator">=</span><span class="token number">25</span> <span class="token operator">and</span> pos<span class="token operator">=</span><span class="token string">'manager'</span><span class="token comment" spellcheck="true">#å‡ºç°çš„æƒ…å†µï¼šé™¤äº†ç´¢å¼•çš„åˆ—ï¼Œå…¶ä»–åˆ—è¿˜éœ€è¦åœ¨è¡¨ä¸­æŸ¥æ‰¾</span><span class="token keyword">select</span> name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>pos <span class="token keyword">from</span> staffs <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'judy'</span> <span class="token operator">and</span> age<span class="token operator">=</span><span class="token number">25</span> <span class="token operator">and</span> pos<span class="token operator">=</span><span class="token string">'manager'</span><span class="token comment" spellcheck="true">#å‡ºç°çš„æƒ…å†µï¼šåªä¼šåœ¨ç´¢å¼•ä¸­æŸ¥æ‰¾ã€‚å‡ºç°Using index</span><span class="token keyword">select</span> name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>pos <span class="token keyword">from</span> staffs <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'judy'</span><span class="token comment" spellcheck="true">#å‡ºç°çš„æƒ…å†µï¼šä¹Ÿä¼šç”¨åˆ°ç´¢å¼•ä¸­æ‰«æï¼Œå‡ºç°Using index</span><span class="token keyword">select</span> name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>pos <span class="token keyword">from</span> staffs <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'judy'</span> <span class="token operator">and</span> age<span class="token operator">></span><span class="token number">25</span> <span class="token operator">and</span> pos<span class="token operator">=</span><span class="token string">'manager'</span><span class="token comment" spellcheck="true">#å‡ºç°çš„æƒ…å†µï¼štypeæ˜¯refï¼Œè€Œä¸æ˜¯rangeï¼Œå› ä¸ºæŸ¥æ‰¾çš„æ•°æ®éƒ½æ˜¯åœ¨ç´¢å¼•ä¸­æŸ¥æ‰¾ï¼Œçº§åˆ«å°±æ˜¯refï¼Œæ¶‰åŠåˆ°è¡¨ä¸­æŸ¥æ‰¾æ‰ä¼šä½¿range</span></code></pre></li><li><p>ä½¿ç”¨ä¸ç­‰äºä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ</p></li><li><p>is null,is not nullæ— æ³•ä½¿ç”¨ç´¢å¼•</p></li><li><p>likeä»¥é€šé…ç¬¦å¼€å¤´ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ</p><ol><li><p>likeç™¾åˆ†å·åŠ å³è¾¹</p><p>è¿™ç§æƒ…å†µä¸‹ï¼Œtypeæ˜¯rangeçº§åˆ«</p></li><li><p>å¦‚æœä¸€å®šè¦ç”¨ %å­—ç¬¦ä¸²%ï¼Œä¸ºä¿è¯ç´¢å¼•ä¸å¤±æ•ˆï¼Œéœ€è¦ä½¿ç”¨è¦†ç›–ç´¢å¼•è§£å†³ï¼ŒæŸ¥è¯¢çš„å­—æ®µéƒ½éœ€è¦åœ¨ç´¢å¼•ä¸Šã€‚å¦‚æœæœ‰ä¸€ä¸ªä¸åœ¨å°±ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆä»è€Œå…¨ç›˜æ‰«æã€‚</p></li></ol></li><li><p>å­—ç¬¦ä¸²ä¸åŠ å•å¼•å·ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼ˆè‡ªåŠ¨åšäº†ç±»å‹è½¬æ¢ï¼Œå‚è€ƒç¬¬ä¸‰æ¡ï¼‰</p></li><li><p>å°‘ç”¨orï¼Œç´¢å¼•ä¼šå¤±æ•ˆ</p></li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201111160635.png"></p><p><strong>æ¡ˆä¾‹</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#å¤åˆç´¢å¼•c1,c2,c3,c4</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> <span class="token number">c1</span><span class="token operator">=</span><span class="token string">'a1'</span> <span class="token operator">and</span> <span class="token number">c2</span><span class="token operator">=</span><span class="token string">'a2'</span> <span class="token operator">and</span> <span class="token number">c4</span><span class="token operator">=</span><span class="token string">'a4'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">c3</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šc1,c2ç”¨äºæŸ¥æ‰¾ï¼Œc3ç”¨æ¥æ’åº</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test03 <span class="token keyword">where</span> <span class="token number">c1</span><span class="token operator">=</span><span class="token string">'a1'</span> <span class="token operator">and</span> <span class="token number">c2</span><span class="token operator">=</span><span class="token string">'a2'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token string">'c4'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šc1,c2ç”¨åˆ°ï¼Œc4æ²¡ç”¨åˆ°æ’åºï¼Œäº§ç”Ÿfilesort å†…æ’åº</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> <span class="token number">c1</span><span class="token operator">=</span><span class="token string">'a1'</span> <span class="token operator">and</span> <span class="token number">c5</span><span class="token operator">=</span><span class="token string">'a5'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">c2</span><span class="token punctuation">,</span><span class="token number">c3</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šc1ç”¨åˆ°ï¼Œc2,c3ç”¨äºæ’åºï¼Œæ— filesort</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> <span class="token number">c1</span><span class="token operator">=</span><span class="token string">'a1'</span> <span class="token operator">and</span> <span class="token number">c5</span><span class="token operator">=</span><span class="token string">'a5'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">c3</span><span class="token punctuation">,</span><span class="token number">c2</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šc1ç”¨åˆ°ï¼Œå‡ºç°filesort</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> <span class="token number">c1</span><span class="token operator">=</span><span class="token string">'a1'</span> <span class="token operator">and</span> <span class="token number">c2</span><span class="token operator">=</span><span class="token string">'a2'</span> <span class="token keyword">where</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">c3</span><span class="token punctuation">,</span><span class="token number">c2</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šc1ç”¨åˆ°ï¼Œå› ä¸ºc2æ˜¯ä¸ªå¸¸é‡ï¼Œæ‰€ä»¥åªæœ‰c3åšäº†æ’åºï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°filesort</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> <span class="token number">c1</span><span class="token operator">=</span><span class="token string">'a1'</span> <span class="token operator">and</span> <span class="token number">c4</span><span class="token operator">=</span><span class="token string">'a4'</span> <span class="token keyword">group</span> <span class="token keyword">by</span> <span class="token number">c2</span><span class="token punctuation">,</span><span class="token number">c3</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šc1ç”¨åˆ°ï¼Œc2,c3ç”¨äºæ’åº</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> <span class="token number">c1</span><span class="token operator">=</span><span class="token string">'a1'</span> <span class="token operator">and</span> <span class="token number">c4</span><span class="token operator">=</span><span class="token string">'a4'</span> <span class="token keyword">group</span> <span class="token keyword">by</span> <span class="token number">c3</span><span class="token punctuation">,</span><span class="token number">c2</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼Œc1ç”¨åˆ°ï¼Œå‡ºç°using filesort,using temporaryã€‚</span>å®šå€¼æ˜¯å¸¸é‡ï¼ŒèŒƒå›´ä¹‹åæ˜¯å¤±æ•ˆï¼Œæœ€åçœ‹æ’åºã€‚<span class="token keyword">group</span> <span class="token keyword">by</span>åˆ†ç»„å‰å¿…æ’åºï¼Œå¦‚æœæ’åºé”™ä¹±ï¼Œåˆ™ä¼šäº§ç”Ÿå†…æ’åºå’Œä¸´æ—¶è¡¨</code></pre><p><strong>ä¸€èˆ¬æ€§å»ºè®®</strong></p><ol><li>å¯¹äºå•å€¼ç´¢å¼•ï¼Œå°½é‡é€‰æ‹©é’ˆå¯¹å½“å‰æŸ¥è¯¢è¿‡æ»¤æ€§æ›´å¥½çš„ç´¢å¼•</li><li>åœ¨é€‰æ‹©ç»„åˆç´¢å¼•ï¼Œä½†å…¶æŸ¥è¯¢è¿‡æ»¤æ€§æœ€å¥½çš„å­—æ®µåº”è¯¥æ”¾åœ¨æœ€é å·¦çš„ä½ç½®</li><li>åœ¨é€‰æ‹©ç»„åˆç´¢å¼•æ—¶ï¼Œå°½é‡é€‰æ‹©èƒ½å¤ŸåŒ…å«å½“å‰æŸ¥è¯¢ä¸­whereå­—å¥æ›´é¢‘ç¹çš„å­—æ®µçš„ç´¢å¼•</li><li>å°½å¯èƒ½é€šè¿‡åˆ†æç»Ÿè®¡ä¿¡æ¯å’Œè°ƒæ•´æŸ¥è¯¢çš„å†™æ³•ï¼Œæ¥è¾¾åˆ°åˆé€‚ç´¢å¼•çš„ç›®çš„</li></ol><h3 id="Order-By-ä¼˜åŒ–"><a href="#Order-By-ä¼˜åŒ–" class="headerlink" title="Order By ä¼˜åŒ–"></a>Order By ä¼˜åŒ–</h3><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#å¤åˆç´¢å¼•age_birth</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tbl <span class="token keyword">where</span> age <span class="token operator">></span> <span class="token number">20</span> <span class="token keyword">order</span> <span class="token keyword">by</span> age<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šç”¨åˆ°ç´¢å¼•æ’åºusing index</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tbl <span class="token keyword">where</span> age <span class="token operator">></span> <span class="token number">20</span> <span class="token keyword">order</span> <span class="token keyword">by</span> birth<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šusing filesort</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tbl <span class="token keyword">where</span> age <span class="token operator">></span> <span class="token number">20</span> <span class="token keyword">order</span> <span class="token keyword">by</span> birth<span class="token punctuation">,</span>age<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœ: using filesort</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tbl <span class="token keyword">where</span> age <span class="token operator">></span> <span class="token number">20</span> <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span><span class="token punctuation">,</span>birth <span class="token keyword">desc</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šusing filesort</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tbl <span class="token keyword">where</span> age <span class="token operator">></span> <span class="token number">20</span> <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">desc</span><span class="token punctuation">,</span>birth <span class="token keyword">desc</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ç»“æœï¼šç”¨åˆ°ç´¢å¼•æ’åºusing index(åŒå‡ã€åŒé™éƒ½èƒ½ç”¨åˆ°ç´¢å¼•)</span><span class="token keyword">key</span> a_b_c<span class="token punctuation">(</span><span class="token number">a</span><span class="token punctuation">,</span><span class="token number">b</span><span class="token punctuation">,</span><span class="token number">c</span><span class="token punctuation">)</span>ä½¿ç”¨ç´¢å¼•éµå¾ªæœ€å·¦å‰ç¼€<span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">a</span><span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">a</span><span class="token punctuation">,</span><span class="token number">b</span><span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">a</span><span class="token punctuation">,</span><span class="token number">b</span><span class="token punctuation">,</span><span class="token number">c</span><span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">a</span> <span class="token keyword">desc</span><span class="token punctuation">,</span><span class="token number">b</span> <span class="token keyword">desc</span><span class="token punctuation">,</span><span class="token number">c</span> <span class="token keyword">desc</span>å¦‚æœ<span class="token keyword">where</span>ä½¿ç”¨ç´¢å¼•çš„æœ€å·¦å‰ç¼€å®šä¹‰ä¸ºå¸¸é‡ï¼Œ<span class="token keyword">order</span> <span class="token keyword">by</span> èƒ½ä½¿ç”¨ç´¢å¼•<span class="token keyword">where</span> <span class="token number">a</span> <span class="token operator">=</span> const <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">b</span><span class="token punctuation">,</span><span class="token number">c</span><span class="token keyword">where</span> <span class="token number">a</span> <span class="token operator">=</span> const <span class="token operator">and</span> <span class="token number">b</span> <span class="token operator">=</span> const <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">c</span><span class="token keyword">where</span> <span class="token number">a</span> <span class="token operator">=</span> const <span class="token operator">and</span> <span class="token number">b</span> <span class="token operator">></span> const <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">b</span><span class="token punctuation">,</span><span class="token number">c</span> <span class="token comment" spellcheck="true">#è¿™é‡Œè™½ç„¶bæ˜¯èŒƒå›´ï¼Œä½†æ˜¯aæ˜¯å¸¸é‡å’Œorderçš„bcç›¸è¿ï¼Œæ•…ç”Ÿæ•ˆ</span>ç´¢å¼•<span class="token operator">*</span><span class="token operator">*</span>ä¸èƒ½<span class="token operator">*</span><span class="token operator">*</span>è¿›è¡Œæ’åºçš„æƒ…å†µï¼š<span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">a</span> <span class="token keyword">asc</span><span class="token punctuation">,</span><span class="token number">b</span> <span class="token keyword">desc</span><span class="token punctuation">,</span><span class="token number">c</span> <span class="token keyword">desc</span> <span class="token comment" spellcheck="true">#æ’åºä¸ä¸€è‡´</span><span class="token keyword">where</span> g<span class="token operator">=</span>const <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">b</span><span class="token punctuation">,</span><span class="token number">c</span> <span class="token comment" spellcheck="true">#ä¸¢å¤±aç´¢å¼•</span><span class="token keyword">where</span> <span class="token number">a</span><span class="token operator">=</span>const <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">c</span> <span class="token comment" spellcheck="true">#ä¸¢å¤±bç´¢å¼•</span><span class="token keyword">where</span> <span class="token number">a</span><span class="token operator">=</span>const <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">a</span><span class="token punctuation">,</span><span class="token number">d</span> <span class="token comment" spellcheck="true">#dä¸æ˜¯ç´¢å¼•çš„ä¸€éƒ¨åˆ†</span><span class="token keyword">where</span> <span class="token number">a</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">b</span><span class="token punctuation">,</span><span class="token number">c</span> <span class="token comment" spellcheck="true">#å¯¹äºæ’åºæ¥è¯´ï¼Œå¤šä¸ªç›¸ç­‰æ¡ä»¶ä¹Ÿæ˜¯èŒƒå›´æŸ¥è¯¢</span></code></pre><p>Mysqlæ”¯æŒä¸¤ç§æ–¹å¼æ’åºï¼šFileSortå’ŒIndexï¼ŒIndexæ•ˆç‡é«˜ï¼Œå®ƒæŒ‡mysqlæ‰«æç´¢å¼•æœ¬èº«å®Œæˆæ’åºï¼ŒFilesortæ–¹å¼ä¸ºå†…æ’åº</p><p><strong>ä¼šindexæ–¹å¼æ’åºçš„æƒ…å†µï¼š</strong></p><p>mysqlèƒ½ä¸ºæ’åºä¸æŸ¥è¯¢ä½¿ç”¨ç›¸åŒçš„ç´¢å¼•</p><ol><li>order byè¯­å¥ä½¿ç”¨ç´¢å¼•æœ€å·¦å‰åˆ—ï¼ˆæœ€å·¦å‰ç¼€åŸåˆ™ï¼‰</li><li>ä½¿ç”¨whereå­å¥ä¸order byå­å¥æ¡ä»¶åˆ—ç»„åˆæ»¡è¶³ç´¢å¼•æœ€å·¦å‰åˆ—</li></ol><p><strong>filesortçš„ä¸¤ç§æ’åºç®—æ³•ï¼š</strong></p><ol><li>åŒè·¯æ’åºï¼šï¼ˆåœ¨mysql5ä¹‹å‰ï¼‰è¿›è¡Œä¸¤æ¬¡IOæ“ä½œï¼Œæ•°æ®å¯ä»¥å…¨éƒ¨å–å‡º</li><li>å•è·¯æ’åºï¼šä¸€èˆ¬è¿›è¡Œä¸€æ¬¡IOæ“ä½œï¼Œæ€§èƒ½ä¼˜äºåŒè·¯ã€‚ä½†æ•°æ®åªèƒ½å–å‡ºsort_bufferç¼“å†²åŒºå¤§å°ï¼Œå¦‚æœæ²¡æœ‰å¾—åˆ°éœ€è¦çš„ç»“æœï¼Œè¿˜éœ€è¦ç»§ç»­å–å‡ºï¼Œä»è€Œå‡ºç°å¤šæ¬¡IOæ“ä½œï¼Œæœ‰å¯èƒ½ä¸å¦‚åŒè·¯ã€‚<ol><li>ä¼˜åŒ–ç­–ç•¥ï¼š<ol><li>é¿å…ä½¿ç”¨select *ï¼Œå®ƒä¼šå¢åŠ å­—æ®µå¤§å°ä»è€Œå æ»¡ç¼“å†²åŒº<ol><li>å¦‚æœæŸ¥è¯¢çš„å­—æ®µå¤§å°æ€»å’Œå°äºmax_length_for_sort_dataï¼Œå°±ä¼šç”¨å•è·¯ï¼Œå¦åˆ™ä¼šç”¨å¤šè·¯</li><li>ä¸¤ç§ç®—æ³•éƒ½æœ‰å¯èƒ½å æ»¡sort_bufferï¼Œè¶…å‡ºåä¼šè¿›è¡Œå¤šæ¬¡å–æ•°æ®çš„IOæ“ä½œ</li></ol></li><li>å°è¯•æé«˜sort_buffer_size</li><li>å°è¯•æé«˜max_length_for_sort_data</li></ol></li></ol></li></ol><h3 id="Group-by-ä¼˜åŒ–ï¼š"><a href="#Group-by-ä¼˜åŒ–ï¼š" class="headerlink" title="Group by ä¼˜åŒ–ï¼š"></a>Group by ä¼˜åŒ–ï¼š</h3><ol><li>group by å®è´¨æ˜¯å…ˆæ’åºåè¿›è¡Œåˆ†ç»„ï¼Œéµå¾ªç´¢å¼•çš„æœ€å·¦å‰ç¼€åŸåˆ™</li><li>å½“æ— æ³•ä½¿ç”¨ç´¢å¼•åˆ—ï¼Œå¢å¤§max_length_for_sort_dataã€sort_buffer_size</li><li>whereé«˜äºhavingï¼Œèƒ½å†™åœ¨whereé™å®šçš„æ¡ä»¶å°±ä¸è¦ç”¨åœ¨having</li></ol><hr><h2 id="æŸ¥è¯¢æˆªå–åˆ†æ"><a href="#æŸ¥è¯¢æˆªå–åˆ†æ" class="headerlink" title="æŸ¥è¯¢æˆªå–åˆ†æ"></a>æŸ¥è¯¢æˆªå–åˆ†æ</h2><h3 id="inä¸existsçš„ä¼˜åŒ–"><a href="#inä¸existsçš„ä¼˜åŒ–" class="headerlink" title="inä¸existsçš„ä¼˜åŒ–"></a>inä¸existsçš„ä¼˜åŒ–</h3><p><strong>å°è¡¨é©±åŠ¨å¤§è¡¨ï¼Œå³å°çš„æ•°æ®é›†é©±åŠ¨å¤§çš„æ•°æ®é›†</strong></p><ol><li><p>å½“Bè¡¨çš„æ•°æ®é›†å°äºAè¡¨çš„æ•°æ®é›†æ—¶ï¼Œinä¼˜äºexists</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> A <span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> B<span class="token punctuation">)</span>ç­‰ä»·äº<span class="token keyword">for</span> <span class="token keyword">select</span> id <span class="token keyword">from</span> B <span class="token comment" spellcheck="true">#å¤–å¾ªç¯æ•°æ®é›†å°</span><span class="token keyword">for</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> A <span class="token keyword">where</span> A<span class="token punctuation">.</span>id <span class="token operator">=</span> B<span class="token punctuation">.</span>id <span class="token comment" spellcheck="true">#å†…å¾ªç¯æ•°æ®é›†å¤§</span></code></pre></li><li><p>å½“Aè¡¨æ•°æ®é›†å°äºBè¡¨çš„æ•°æ®é›†æ—¶ï¼Œç”¨existsä¼˜äºin</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> A <span class="token keyword">where</span> <span class="token keyword">exists</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> B <span class="token keyword">where</span> B<span class="token punctuation">.</span>id <span class="token operator">=</span> A<span class="token punctuation">.</span>id<span class="token punctuation">)</span>ç­‰ä»·äº<span class="token keyword">for</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> A <span class="token comment" spellcheck="true">#å¤–å¾ªç¯æ•°æ®é›†å°</span><span class="token keyword">for</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> B <span class="token keyword">where</span> B<span class="token punctuation">.</span>id <span class="token operator">=</span> A<span class="token punctuation">.</span>id <span class="token comment" spellcheck="true">#å†…å¾ªç¯æ•°æ®é›†å¤§    </span></code></pre><p>æ„æ€å°±æ˜¯ï¼šå°†ä¸»æŸ¥è¯¢çš„æ•°æ®ï¼Œæ”¾åˆ°å­æŸ¥è¯¢ä¸­åšæ¡ä»¶éªŒè¯ï¼Œæ ¹æ®éªŒè¯ç»“æœï¼ˆtrueæˆ–falseï¼‰æ¥å†³å®šä¸»æŸ¥è¯¢çš„æ•°æ®ç»“æœæ˜¯å¦å¾—ä»¥ä¿ç•™</p><p>Exists: å…ˆæŸ¥è¯¢ä¸€æ¬¡å¤–SELECTï¼Œåå»å­æŸ¥è¯¢é‡ŒåšéªŒè¯ã€‚INï¼šå…ˆæŸ¥è¯¢å­SELECTï¼Œç„¶åç”¨å¤–è¡¨çš„ä¸€ä¸ªè®°å½•åšéªŒè¯ã€‚</p></li></ol><h3 id="æ…¢æŸ¥è¯¢æ—¥å¿—"><a href="#æ…¢æŸ¥è¯¢æ—¥å¿—" class="headerlink" title="æ…¢æŸ¥è¯¢æ—¥å¿—"></a>æ…¢æŸ¥è¯¢æ—¥å¿—</h3><p>æ˜¯mysqlæä¾›çš„ä¸€ç§æ—¥å¿—è®°å½•ï¼Œå®ƒç”¨äºè®°å½•mysqlå“åº”æ—¶é—´è¶…è¿‡é˜ˆå€¼çš„è¯­å¥ã€‚å…·ä½“è¿è¡Œæ—¶é—´è¶…è¿‡long_query_time</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œmysqlæ•°æ®åº“æ²¡æœ‰å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®å‚æ•°ã€‚ä¸è°ƒä¼˜çš„æ—¶å€™ï¼Œä¸€èˆ¬å»ºè®®å…³é—­</p><ol><li>æŸ¥çœ‹æ˜¯å¦å¼€å¯ï¼š<code>show variables like '%slow_query_log%'</code></li><li>å¼€å¯ï¼š<code>set global slow_query_log=1</code><ol><li>å¼€å¯åªä¼šå¯¹å½“å‰æ•°æ®åº“ç”Ÿæ•ˆï¼Œé‡å¯mysqlä¼šå¤±æ•ˆ</li></ol></li><li>ã€å¯é€‰ã€‘æŒ‡å®šé»˜è®¤è·¯å¾„ï¼š<code>slow_query_log_file</code>ï¼Œç³»ç»Ÿé»˜è®¤ä¸ºï¼š<code>host_name-slow.log</code></li><li>æŸ¥çœ‹é˜ˆå€¼ï¼š<code>show variables like 'long_query_time%'</code>ï¼Œé»˜è®¤ä¸º10s</li><li>è®¾ç½®é˜ˆå€¼ï¼š<code>set global long_query_time=3</code><ol><li>éœ€è¦é‡æ–°è¿æ¥æˆ–æ–°å¼€ä¸€ä¸ªä¼šè¯æ‰ä¼šçœ‹åˆ°ç”Ÿæ•ˆ</li></ol></li><li>æŸ¥çœ‹æŠ“å–äº†å‡ æ¡æ…¢æŸ¥è¯¢sqlï¼š<code>show global status like '%Slow_queries%'</code></li></ol><p><strong>æ…¢æŸ¥è¯¢æ—¥å¿—åˆ†æå·¥å…·mysqldumpslow</strong></p><p> <img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201112140911.png"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201112141001.png"></p><h3 id="æ‰¹é‡æ’å…¥æ•°æ®è„šæœ¬"><a href="#æ‰¹é‡æ’å…¥æ•°æ®è„šæœ¬" class="headerlink" title="æ‰¹é‡æ’å…¥æ•°æ®è„šæœ¬"></a>æ‰¹é‡æ’å…¥æ•°æ®è„šæœ¬</h3><p>æ¡ˆä¾‹éœ€æ±‚ï¼šæ’å…¥50wä¸ªè®°å½•ï¼Œè¦æ±‚å‘˜å·¥åå’Œéƒ¨é—¨ç¼–å·ä¸ºéšæœº</p><ol><li><p>å»ºè¡¨</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># æ–°å»ºåº“</span><span class="token keyword">create</span> <span class="token keyword">database</span> bigData<span class="token punctuation">;</span><span class="token keyword">use</span> bigData<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">#1 å»ºè¡¨dept</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> dept<span class="token punctuation">(</span>  id <span class="token keyword">INT</span> UNSIGNED <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>  deptno <span class="token keyword">MEDIUMINT</span> UNSIGNED <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span>   dname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">""</span><span class="token punctuation">,</span>  loc <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">""</span>  <span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>UTF8 <span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">#2 å»ºè¡¨emp</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> emp  <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> UNSIGNED <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>  empno <span class="token keyword">MEDIUMINT</span> UNSIGNED <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">/*ç¼–å·*/</span>  ename <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">/*åå­—*/</span>  job <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">""</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">/*å·¥ä½œ*/</span>  mgr <span class="token keyword">MEDIUMINT</span> UNSIGNED <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">/*ä¸Šçº§ç¼–å·*/</span>  hiredate <span class="token keyword">DATE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">/*å…¥èŒæ—¶é—´*/</span>  sal <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">/*è–ªæ°´*/</span>  comm <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">/*çº¢åˆ©*/</span>  deptno <span class="token keyword">MEDIUMINT</span> UNSIGNED <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token comment" spellcheck="true">/*éƒ¨é—¨ç¼–å·*/</span>  <span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>UTF8 <span class="token punctuation">;</span> </code></pre></li><li><p>è®¾ç½®å‚æ•°<code>log_bin_trust_function_creators</code></p><ol><li>ç”±äºå¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œéœ€è¦é…ç½®ä¸€ä¸ªå‚æ•°ï¼Œå¦åˆ™åˆ›å»ºå‡½æ•°ä¼šæŠ¥é”™<code>DETERMINISTIC</code></li><li><code>show variables like 'log_bin_trust_function_creators';</code></li><li><code>set global log_bin_turst_function_creators=1;</code></li></ol></li><li><p>åˆ›å»ºå‡½æ•°ï¼Œä¿è¯æ¯æ¡æ•°æ®éƒ½ä¸åŒ</p><ol><li><p>éšæœºäº§ç”Ÿå­—ç¬¦ä¸²</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">DELIMITER</span> $$<span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> rand_string<span class="token punctuation">(</span>n <span class="token keyword">INT</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token keyword">BEGIN</span>    <span class="token comment" spellcheck="true">##æ–¹æ³•å¼€å§‹</span> <span class="token keyword">DECLARE</span> chars_str <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span>   <span class="token string">'abcdefghijklmnopqrstuvwxyzABCDEFJHIJKLMNOPQRSTUVWXYZ'</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">##å£°æ˜ä¸€ä¸ª å­—ç¬¦çªœé•¿åº¦ä¸º 100 çš„å˜é‡ chars_str ,é»˜è®¤å€¼ </span> <span class="token keyword">DECLARE</span> return_str <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token keyword">DECLARE</span> i <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">##å¾ªç¯å¼€å§‹</span> <span class="token keyword">WHILE</span> i <span class="token operator">&lt;</span> n <span class="token keyword">DO</span>   <span class="token keyword">SET</span> return_str <span class="token operator">=</span>CONCAT<span class="token punctuation">(</span>return_str<span class="token punctuation">,</span>SUBSTRING<span class="token punctuation">(</span>chars_str<span class="token punctuation">,</span>FLOOR<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">52</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">##concat è¿æ¥å‡½æ•°  ï¼Œsubstring(a,index,length) ä»indexå¤„å¼€å§‹æˆªå–</span> <span class="token keyword">SET</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">END</span> <span class="token keyword">WHILE</span><span class="token punctuation">;</span> <span class="token keyword">RETURN</span> return_str<span class="token punctuation">;</span><span class="token keyword">END</span> $$</code></pre></li><li><p>éšæœºäº§ç”Ÿéƒ¨é—¨ç¼–å·</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#ç”¨äºéšæœºäº§ç”Ÿéƒ¨é—¨ç¼–å·</span><span class="token keyword">DELIMITER</span> $$<span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> rand_num<span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>  <span class="token keyword">BEGIN</span>    <span class="token keyword">DECLARE</span> i <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token keyword">SET</span> i <span class="token operator">=</span> FLOOR<span class="token punctuation">(</span><span class="token number">100</span><span class="token operator">+</span>RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">RETURN</span> i<span class="token punctuation">;</span>   <span class="token keyword">END</span> $$</code></pre></li></ol></li><li><p>åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ï¼Œç”¨äºæ’å…¥æ•°æ®</p><ol><li><p>empè¡¨</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">DELIMITER</span> $$<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> insert_emp10000<span class="token punctuation">(</span><span class="token operator">IN</span> <span class="token keyword">START</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">IN</span> max_num <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">/*å‚æ•°1ï¼šèµ·å§‹å‘˜å·¥idï¼Œå‚æ•°2ï¼šæ’å…¥çš„æ•°æ®é‡*/</span><span class="token keyword">BEGIN</span>  <span class="token keyword">DECLARE</span> i <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">#set autocommit =0 æŠŠautocommitè®¾ç½®æˆ0  ï¼›äº‹åŠ¡å¼€å¯</span> <span class="token keyword">SET</span> autocommit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     REPEAT  <span class="token comment" spellcheck="true">##é‡å¤ï¼Œå…ˆæ‰§è¡Œååˆ¤æ–­</span> <span class="token keyword">SET</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp10000 <span class="token punctuation">(</span>empno<span class="token punctuation">,</span> ename <span class="token punctuation">,</span>job <span class="token punctuation">,</span>mgr <span class="token punctuation">,</span>hiredate <span class="token punctuation">,</span>sal <span class="token punctuation">,</span>comm <span class="token punctuation">,</span>deptno <span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">START</span><span class="token operator">+</span>i<span class="token punctuation">)</span> <span class="token punctuation">,</span>rand_string<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'SALESMAN'</span><span class="token punctuation">,</span><span class="token number">0001</span><span class="token punctuation">,</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>FLOOR<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>FLOOR<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rand_num<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   UNTIL i <span class="token operator">=</span> max_num   <span class="token comment" spellcheck="true">##ç›´åˆ°  ä¸Šé¢ä¹Ÿæ˜¯ä¸€ä¸ªå¾ªç¯</span> <span class="token keyword">END</span> REPEAT<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">##æ»¡è¶³æ¡ä»¶åç»“æŸå¾ªç¯</span> <span class="token keyword">COMMIT</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">##æ‰§è¡Œå®Œæˆåä¸€èµ·æäº¤</span> <span class="token keyword">END</span> $$</code></pre></li><li><p>deptè¡¨</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ï¼Œå¾€deptè¡¨æ·»åŠ éšæœºæ•°æ®</span><span class="token keyword">DELIMITER</span> $$<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> insert_dept<span class="token punctuation">(</span><span class="token operator">IN</span> <span class="token keyword">START</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">IN</span> max_num <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">/*å‚æ•°1ï¼šèµ·å§‹éƒ¨é—¨idï¼Œå‚æ•°2ï¼šæ’å…¥çš„æ•°æ®é‡*/</span><span class="token keyword">BEGIN</span>  <span class="token keyword">DECLARE</span> i <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">SET</span> autocommit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     REPEAT   <span class="token keyword">SET</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept <span class="token punctuation">(</span>deptno <span class="token punctuation">,</span>dname<span class="token punctuation">,</span>loc <span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token keyword">START</span> <span class="token operator">+</span>i <span class="token punctuation">,</span>rand_string<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rand_string<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   UNTIL i <span class="token operator">=</span> max_num   <span class="token keyword">END</span> REPEAT<span class="token punctuation">;</span>   <span class="token keyword">COMMIT</span><span class="token punctuation">;</span>   <span class="token keyword">END</span> $$</code></pre></li></ol></li><li><p>è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ï¼Œæ’å…¥æ•°æ®</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">DELIMITER</span> <span class="token punctuation">;</span><span class="token keyword">CALL</span> insert_dept<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">CALL</span> insert_emp<span class="token punctuation">(</span><span class="token number">100001</span><span class="token punctuation">,</span><span class="token number">500000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre></li></ol><h3 id="Show-Profile"><a href="#Show-Profile" class="headerlink" title="Show Profile"></a>Show Profile</h3><p>ç”¨æ¥åˆ†æå½“å‰ä¼šè¯ä¸­è¯­å¥æ‰§è¡Œçš„èµ„æºæ¶ˆè€—ï¼Œè®°å½•æ¯ä¸€æ­¥èŠ±è´¹äº†å¤šå°‘æ—¶é—´</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¤„äºå…³é—­çŠ¶æ€ï¼Œå¹¶ä¿å­˜æœ€è¿‘15æ­¤è¿è¡Œç»“æœ</p><p><strong>æ­¥éª¤</strong></p><ol><li>æŸ¥çœ‹Mysqlç‰ˆæœ¬æ˜¯å¦æ”¯æŒï¼š<code>show variables like 'profiling'</code></li><li>å¼€å¯åŠŸèƒ½ï¼š<code>set profiling = on</code></li><li>è¿è¡Œsqlï¼šæ‰§è¡Œä¸€äº›sqlè¯­å¥ï¼Œç”¨äºä¹‹åçš„è®°å½•</li><li>æŸ¥çœ‹ç»“æœï¼š<code>show profiles</code></li><li>è¯Šæ–­sqlï¼ˆæŸ¥è¯¢è¿™ä¸ªsqlçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸæ¯ä¸ªé˜¶æ®µçš„æ—¶é—´ï¼‰ï¼š<code>show profile cpu,block io for query å·ç </code>ï¼Œè¿™é‡Œçš„å·ç æ˜¯ä¸Šä¸€æ­¥æŸ¥å‡ºæ¥çš„id</li><li>ç»“è®ºï¼šå‡ºç°æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼Œéœ€è¦ä¼˜åŒ–<ol><li>converting heap to myisam æŸ¥è¯¢ç»“æœå¤ªå¤§ï¼Œå†…å­˜ä¸å¤Ÿç”¨</li><li>creating tem table åˆ›å»ºä¸´æ—¶è¡¨<ol><li>æ‹·è´æ•°æ®åˆ°ä¸´æ—¶è¡¨</li><li>ç”¨å®Œå†åˆ é™¤</li></ol></li><li>copying to tmp table on disk æŠŠå†…å­˜ä¸­ä¸´æ—¶è¡¨å¤åˆ¶åˆ°ç£ç›˜</li><li>Locked</li></ol></li></ol><h3 id="å…¨å±€æŸ¥è¯¢æ—¥å¿—"><a href="#å…¨å±€æŸ¥è¯¢æ—¥å¿—" class="headerlink" title="å…¨å±€æŸ¥è¯¢æ—¥å¿—"></a>å…¨å±€æŸ¥è¯¢æ—¥å¿—</h3><p>ä½œç”¨ï¼šç”¨äºæŠŠæ‰€æœ‰sqlè¯­å¥ï¼Œå°†ä¼šè®°å½•åœ¨mysqlåº“é‡Œçš„general_logè¡¨ä¸­ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„æŒ‡ä»¤æŸ¥çœ‹</p><p><code>select * from mysql.general_log;</code></p><p>æ³¨æ„ï¼šä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒå¼€å¯è¿™ä¸ªåŠŸèƒ½</p><p><strong>æ­¥éª¤</strong></p><ol><li><code>set global general_log = 1;</code></li><li><code>set global log_output='TABLE'</code></li></ol>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MysqlåŸºç¡€</title>
      <link href="/2020/11/07/mysql/mysql/"/>
      <url>/2020/11/07/mysql/mysql/</url>
      
        <content type="html"><![CDATA[<h1 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h1><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p><strong>æ•°æ®åº“çš„å¥½å¤„</strong></p><ol><li>æŒä¹…åŒ–æ•°æ®åˆ°æœ¬åœ°</li><li>å¯ä»¥å®ç°ç»“æ„åŒ–æŸ¥è¯¢ï¼Œæ–¹ä¾¿ç®¡ç†</li></ol><p><strong>æ•°æ®åº“ç›¸å…³æ¦‚å¿µ</strong></p><ol><li>DBï¼šæ•°æ®åº“ï¼Œä¿å­˜ä¸€ç»„æœ‰ç»„ç»‡çš„æ•°æ®çš„å®¹å™¨</li><li>DBMSï¼šæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œåˆç§°ä¸ºæ•°æ®åº“è½¯ä»¶ï¼ˆäº§å“ï¼‰ï¼Œç”¨äºç®¡ç†DBä¸­çš„æ•°æ®</li><li>SQL:ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œç”¨äºå’ŒDBMSé€šä¿¡çš„è¯­è¨€</li></ol><p><strong>æ•°æ®åº“å­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹</strong></p><ol><li>å°†æ•°æ®æ”¾åˆ°è¡¨ä¸­ï¼Œè¡¨å†æ”¾åˆ°åº“ä¸­</li><li>ä¸€ä¸ªæ•°æ®åº“ä¸­å¯ä»¥æœ‰å¤šä¸ªè¡¨ï¼Œæ¯ä¸ªè¡¨éƒ½æœ‰ä¸€ä¸ªçš„åå­—ï¼Œç”¨æ¥æ ‡è¯†è‡ªå·±ã€‚è¡¨åå…·æœ‰å”¯ä¸€æ€§ã€‚</li><li>è¡¨å…·æœ‰ä¸€äº›ç‰¹æ€§ï¼Œè¿™äº›ç‰¹æ€§å®šä¹‰äº†æ•°æ®åœ¨è¡¨ä¸­å¦‚ä½•å­˜å‚¨ï¼Œç±»ä¼¼javaä¸­ â€œç±»â€çš„è®¾è®¡ã€‚</li><li>è¡¨ç”±åˆ—ç»„æˆï¼Œæˆ‘ä»¬ä¹Ÿç§°ä¸ºå­—æ®µã€‚æ‰€æœ‰è¡¨éƒ½æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—ç»„æˆçš„ï¼Œæ¯ä¸€åˆ—ç±»ä¼¼java ä¸­çš„â€å±æ€§â€</li><li>è¡¨ä¸­çš„æ•°æ®æ˜¯æŒ‰è¡Œå­˜å‚¨çš„ï¼Œæ¯ä¸€è¡Œç±»ä¼¼äºjavaä¸­çš„â€œå¯¹è±¡â€ã€‚</li></ol><hr><h2 id="Mysqlè½¯ä»¶æ“ä½œ"><a href="#Mysqlè½¯ä»¶æ“ä½œ" class="headerlink" title="Mysqlè½¯ä»¶æ“ä½œ"></a>Mysqlè½¯ä»¶æ“ä½œ</h2><p><strong>Mysqlå®‰è£…/å¸è½½</strong></p><p><strong>å®‰è£…</strong></p><ol><li>å®‰è£…mysqlï¼Œé€‰æ‹©customè‡ªå®šä¹‰å®‰è£…å¯ä»¥æŒ‡å®šè·¯å¾„</li><li>mysqlé…ç½®ï¼Œåœ¨å¼¹å‡ºçš„é…ç½®å³å¯ã€‚å¦‚æœå…³é—­äº†å°±åœ¨å®‰è£…è·¯å¾„ä¸‹çš„bin/MySQLInstanceConfig.exe<ol><li>Detailed Configuration ç²¾ç¡®é…ç½®</li><li>Developer Machine å¼€å‘æœº</li><li>Multifunctional Database å¤šåŠŸèƒ½æ•°æ®åº“</li><li> DDS/OLAP å¹¶å‘é“¾æ¥æ•°æœ€å¤§20</li><li>Manual å­—ç¬¦é›†ï¼šutf8</li><li>Launch the MySQL ï¼ˆå°å¯¹å‹¾ï¼‰å¼€æœºè‡ªå¯ï¼Œæ ¹æ®éœ€è¦ä¿®æ”¹</li><li>Include Bin Directory ï¼šå¼€å¯doså‘½ä»¤è¡Œæ“ä½œæ•°æ®åº“ã€‚å³å¸®åŠ©é…ç½®ç¯å¢ƒå˜é‡</li><li>Enable root access from remote ï¼ˆå°å¯¹å‹¾ï¼‰ï¼šå¼€å¯è¿œç¨‹æœºè®¿é—®ï¼Œæ ¹æ®éœ€è¦ä¿®æ”¹</li></ol></li></ol><p><strong>å¸è½½</strong></p><ol><li>æ§åˆ¶é¢æ¿ï¼Œå¸è½½</li><li>æ‰¾åˆ°å®‰è£…è·¯å¾„ï¼ŒæŠŠå®‰è£…è·¯å¾„çš„æ–‡ä»¶åˆ é™¤</li><li>æ‰¾åˆ°c:/program Data ï¼ˆéšè—æ–‡ä»¶å¤¹ï¼‰çš„mysqlæ–‡ä»¶å¤¹åˆ é™¤</li><li>å®‰è£…ä»ä¸æˆåŠŸå°±æ¸…ç†æ³¨å†Œè¡¨</li></ol><p><strong>é…ç½®æ–‡ä»¶</strong></p><p><code>my.ini</code>ï¼ˆmysqldï¼‰</p><p>portï¼šç«¯å£å·</p><p>basedirï¼šå®‰è£…ç›®å½•</p><p>datadirï¼šæ•°æ®ç›®å½•</p><p>character-set-serverï¼šå­—ç¬¦é›†</p><blockquote><p>doså‘½ä»¤è¡Œä¸‹ä¸­æ–‡ä¹±ç ï¼š</p><ol><li><code>show variables like 'char%';</code>æŸ¥çœ‹å­—ç¬¦é›†</li><li><code>set character_set_results=gb2312;</code>ä¿®æ”¹å­—ç¬¦é›†ä¸ºgb2312</li></ol></blockquote><p>default-storage-engineï¼šé»˜è®¤å­˜å‚¨å¼•æ“</p><blockquote><p>æ³¨æ„ï¼šéœ€è¦é‡å¯æœåŠ¡æ‰ä¼šç”Ÿæ•ˆ</p></blockquote><p><strong>å¯åŠ¨å’Œåœæ­¢</strong></p><p>æ–¹å¼ä¸€ï¼šè®¡ç®—æœºâ€”â€”å³å‡»ç®¡ç†â€”â€”æœåŠ¡â€”â€”Mysqlå<br>æ–¹å¼äºŒï¼šé€šè¿‡ç®¡ç†å‘˜èº«ä»½è¿è¡Œ<br>net start æœåŠ¡åï¼ˆå¯åŠ¨æœåŠ¡ï¼‰<br>net stop æœåŠ¡åï¼ˆåœæ­¢æœåŠ¡ï¼‰</p><p><strong>ç™»å½•å’Œé€€å‡ºr</strong></p><p>æ–¹å¼ä¸€ï¼šé€šè¿‡mysqlè‡ªå¸¦çš„å®¢æˆ·ç«¯<br>åªé™äºrootç”¨æˆ·</p><p>æ–¹å¼äºŒï¼šé€šè¿‡windowsè‡ªå¸¦çš„å®¢æˆ·ç«¯<br>ç™»å½•ï¼š<br>mysql ã€-hä¸»æœºå -Pç«¯å£å· ã€‘-uç”¨æˆ·å -på¯†ç ï¼ˆ-på¯†ç ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼‰</p><p>é€€å‡ºï¼š<br>exitæˆ–ctrl+C</p><blockquote><p>å¦‚æœdosç¯å¢ƒä¸è¯†åˆ«mysqlï¼Œè¯æ˜ç¯å¢ƒå˜é‡æ²¡æœ‰é…å¥½</p><p>æ‰¾åˆ°ç³»ç»Ÿå˜é‡ï¼ŒPathï¼Œå°†mysqlå®‰è£…è·¯å¾„æ”¾åœ¨æœ€å‰é¢ï¼Œç”¨;éš”å¼€</p></blockquote><p><strong>å¯è§†åŒ–å›¾å½¢ç•Œé¢SQLyog</strong></p><p>æ–°å»ºè¿æ¥ï¼Œè¾“å…¥ä¹‹åå³å¯é“¾æ¥</p><p>ctrl+æ»šè½®ï¼šè°ƒæ•´å­—ä½“å¤§å°</p><hr><h2 id="MySQLçš„å¸¸è§å‘½ä»¤"><a href="#MySQLçš„å¸¸è§å‘½ä»¤" class="headerlink" title="MySQLçš„å¸¸è§å‘½ä»¤"></a>MySQLçš„å¸¸è§å‘½ä»¤</h2><pre class=" language-sql"><code class="language-sql"><span class="token number">1</span><span class="token punctuation">.</span>æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„æ•°æ®åº“    <span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>        <span class="token operator">></span> information_schema    å…ƒæ•°æ®ä¿¡æ¯        <span class="token operator">></span> mysql    ç”¨æˆ·ä¿¡æ¯        <span class="token operator">></span> perfoemance_schema    æ€§èƒ½ä¿¡æ¯<span class="token number">2</span><span class="token punctuation">.</span>æ‰“å¼€æŒ‡å®šçš„åº“    <span class="token keyword">use</span> åº“å<span class="token number">3</span><span class="token punctuation">.</span>æŸ¥çœ‹å½“å‰åº“çš„æ‰€æœ‰è¡¨    <span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span><span class="token number">4</span><span class="token punctuation">.</span>æŸ¥çœ‹å…¶å®ƒåº“çš„æ‰€æœ‰è¡¨ï¼ˆå¹¶ä¸ä¼šè·³è½¬åˆ°è¯¥åº“ï¼‰    <span class="token keyword">show</span> <span class="token keyword">tables</span> <span class="token keyword">from</span> åº“å<span class="token punctuation">;</span>    æŸ¥çœ‹å½“å‰æ‰€åœ¨åº“    <span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">5</span><span class="token punctuation">.</span>åˆ›å»ºè¡¨    <span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span>        åˆ—å åˆ—ç±»å‹<span class="token punctuation">,</span>        åˆ—å åˆ—ç±»å‹ï¼Œ        ã€‚ã€‚ã€‚    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token number">6</span><span class="token punctuation">.</span>æŸ¥çœ‹è¡¨ç»“æ„    <span class="token keyword">desc</span> è¡¨å<span class="token punctuation">;</span><span class="token number">7</span><span class="token punctuation">.</span>æŸ¥çœ‹æœåŠ¡å™¨çš„ç‰ˆæœ¬    æ–¹å¼ä¸€ï¼šç™»å½•åˆ°mysqlæœåŠ¡ç«¯    <span class="token keyword">select</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    æ–¹å¼äºŒï¼šæ²¡æœ‰ç™»å½•åˆ°mysqlæœåŠ¡ç«¯    mysql <span class="token comment" spellcheck="true">--version</span>    æˆ–    mysql <span class="token comment" spellcheck="true">--V</span></code></pre><p><strong>MySQLçš„è¯­æ³•è§„èŒƒ</strong></p><ol><li>ä¸åŒºåˆ†å¤§å°å†™,ä½†å»ºè®®å…³é”®å­—å¤§å†™ï¼Œè¡¨åã€åˆ—åå°å†™</li><li>æ¯æ¡å‘½ä»¤æœ€å¥½ç”¨åˆ†å·ç»“å°¾</li><li>æ¯æ¡å‘½ä»¤æ ¹æ®éœ€è¦ï¼Œå¯ä»¥è¿›è¡Œç¼©è¿› æˆ–æ¢è¡Œ</li><li>æ³¨é‡Š<pre><code>å•è¡Œæ³¨é‡Šï¼š#æ³¨é‡Šæ–‡å­—   å•è¡Œæ³¨é‡Šï¼š-- æ³¨é‡Šæ–‡å­—   å¤šè¡Œæ³¨é‡Šï¼š/* æ³¨é‡Šæ–‡å­—  */</code></pre></li></ol><hr><h2 id="DQLæ•°æ®æŸ¥è¯¢è¯­è¨€"><a href="#DQLæ•°æ®æŸ¥è¯¢è¯­è¨€" class="headerlink" title="DQLæ•°æ®æŸ¥è¯¢è¯­è¨€"></a>DQLæ•°æ®æŸ¥è¯¢è¯­è¨€</h2><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20201103115505683.png"></p><blockquote><p>éœ€è¦å…ˆåˆ‡æ¢åˆ°æŒ‡å®šåº“</p><p>`æŠ˜ä¸­å·å¯ä»¥çœç•¥</p><p>æ ¼å¼åŒ–ï¼šé€‰ä¸­ï¼ŒF12</p><p>åŒå‡»åˆ—åå¯ä»¥ç›´æ¥å‡ºç°ï¼Œä¸ç”¨æ‰‹æ•²å­—æ®µå</p></blockquote><h3 id="åŸºç¡€æŸ¥è¯¢"><a href="#åŸºç¡€æŸ¥è¯¢" class="headerlink" title="åŸºç¡€æŸ¥è¯¢"></a>åŸºç¡€æŸ¥è¯¢</h3><pre class=" language-sql"><code class="language-sql">è¯­æ³•ï¼š<span class="token keyword">SELECT</span> è¦æŸ¥è¯¢çš„ä¸œè¥¿ã€<span class="token keyword">FROM</span> è¡¨åã€‘<span class="token punctuation">;</span>ç‰¹ç‚¹ï¼šâ‘ é€šè¿‡<span class="token keyword">select</span>æŸ¥è¯¢å®Œçš„ç»“æœ ï¼Œæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„è¡¨æ ¼ï¼Œä¸æ˜¯çœŸå®å­˜åœ¨â‘¡ è¦æŸ¥è¯¢çš„ä¸œè¥¿ å¯ä»¥æ˜¯å¸¸é‡å€¼ï¼ˆ<span class="token keyword">select</span> <span class="token number">100</span><span class="token punctuation">;</span>ï¼‰ã€å¯ä»¥æ˜¯è¡¨è¾¾å¼<span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">100</span><span class="token operator">%</span><span class="token number">98</span><span class="token punctuation">;</span><span class="token punctuation">)</span>ã€å¯ä»¥æ˜¯å­—æ®µ<span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token string">'john'</span><span class="token punctuation">;</span><span class="token punctuation">)</span>ã€å¯ä»¥æ˜¯å‡½æ•°<span class="token punctuation">(</span><span class="token keyword">select</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">)</span></code></pre><p><strong>èµ·åˆ«å<code>as</code></strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> last_name <span class="token keyword">as</span> name<span class="token keyword">select</span> last_name name</code></pre><p>å¦‚æœåˆ«åæœ‰ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦ä½¿ç”¨åŒå¼•å·â€nameâ€</p><p>å½“ç»™è¡¨èµ·åˆ«åï¼ŒæŸ¥è¯¢çš„å­—æ®µå°±ä¸èƒ½ä½¿ç”¨åŸæ¥è¡¨ååšé™å®šï¼Œè€Œæ˜¯<code>åˆ«å.å­—æ®µå</code></p><p><strong>å»é‡<code>distinct</code></strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">distinct</span> department_id <span class="token keyword">from</span> emplyees</code></pre><p><strong>+å·çš„ä½œç”¨</strong></p><p>åªæœ‰ä¸€ä¸ªåŠŸèƒ½ï¼šè¿ç®—ç¬¦</p><ol><li><p>select 100+90;ä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯æ•°å€¼å‹ï¼ŒåšåŠ æ³•è¿ç®—</p></li><li><p>select â€˜123â€™+90;å…¶ä¸­ä¸€æ–¹ä¸ºå­—ç¬¦å‹ï¼Œè¯•å›¾å°†å­—ç¬¦å‹æ•°å€¼è½¬æ¢ä¸ºæ•°å€¼ã€‚</p><p>  select â€˜johnâ€™+90;</p><p>  å¦‚æœè½¬æ¢æˆåŠŸï¼Œåˆ™åŠ æ³•è¿ç®—</p><p>  å¦‚æœè½¬æ¢å¤±è´¥ï¼Œåˆ™å°†å­—ç¬¦å‹æ•°å€¼è½¬æ¢ä¸º0</p><p>  å¦‚æœä¸€æ–¹ä¸ºnullï¼Œåˆ™ç»“æœä¸€å®šä¸ºnull</p></li></ol><p><strong>æ‹¼æ¥<code>concat</code></strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> concat<span class="token punctuation">(</span>å­—æ®µ<span class="token number">1</span><span class="token punctuation">,</span>å­—æ®µ<span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">as</span> ç»“æœ<span class="token punctuation">;</span></code></pre><h3 id="æ¡ä»¶æŸ¥è¯¢"><a href="#æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="æ¡ä»¶æŸ¥è¯¢"></a>æ¡ä»¶æŸ¥è¯¢</h3><pre class=" language-sql"><code class="language-sql">è¯­æ³•ï¼š<span class="token keyword">select</span>     è¦æŸ¥è¯¢çš„å­—æ®µ<span class="token operator">|</span>è¡¨è¾¾å¼<span class="token operator">|</span>å¸¸é‡å€¼<span class="token operator">|</span>å‡½æ•°<span class="token keyword">from</span>     è¡¨<span class="token keyword">where</span>     æ¡ä»¶ <span class="token punctuation">;</span></code></pre><p><strong>åˆ†ç±»ï¼š</strong></p><ol><li><p>æ¡ä»¶è¡¨è¾¾å¼</p><pre><code>ç¤ºä¾‹ï¼šsalary&gt;10000   æ¡ä»¶è¿ç®—ç¬¦ï¼š</code></pre><p>&lt; &gt;= &lt;= = != &lt;&gt;<br><strong>æ³¨æ„</strong>ï¼š!=å’Œ&lt;&gt;å’Œnot(â€¦)æ˜¯ç›¸åŒæ¦‚å¿µï¼Œæ¨èä½¿ç”¨&lt;&gt;</p></li><li><p>é€»è¾‘è¡¨è¾¾å¼<br>ç¤ºä¾‹ï¼šsalary&gt;10000 &amp;&amp; salary&lt;20000</p></li><li><p>é€»è¾‘è¿ç®—ç¬¦ï¼š<br>andï¼ˆ&amp;&amp;ï¼‰:ä¸¤ä¸ªæ¡ä»¶å¦‚æœåŒæ—¶æˆç«‹ï¼Œç»“æœä¸ºtrueï¼Œå¦åˆ™ä¸ºfalse<br>or(||)ï¼šä¸¤ä¸ªæ¡ä»¶åªè¦æœ‰ä¸€ä¸ªæˆç«‹ï¼Œç»“æœä¸ºtrueï¼Œå¦åˆ™ä¸ºfalse<br>not(!)ï¼šå¦‚æœæ¡ä»¶æˆç«‹ï¼Œåˆ™notåä¸ºfalseï¼Œå¦åˆ™ä¸ºtrue</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æŸ¥è¯¢éƒ¨é—¨ç¼–å·ä¸æ˜¯åœ¨90-100ä¹‹é—´ï¼Œæˆ–è€…å·¥èµ„é«˜äº15000çš„å‘˜å·¥ä¿¡æ¯</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span><span class="token operator">not</span><span class="token punctuation">(</span>department_id<span class="token operator">></span><span class="token number">90</span> <span class="token operator">and</span> department_id <span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">or</span> salary<span class="token operator">></span><span class="token number">15000</span><span class="token punctuation">;</span></code></pre></li><li><p>æ¨¡ç³ŠæŸ¥è¯¢</p><p><strong><code>like</code></strong></p><ol><li><p>é€šå¸¸ä¸é€šé…ç¬¦ä½¿ç”¨</p></li><li><p><code>like '%%'</code>æŸ¥è¯¢ä¸åˆ°nullå€¼</p><p>é€šé…ç¬¦ï¼š</p><p>  <code>%</code>ï¼šä»»æ„å¤šä¸ªå­—ç¬¦ï¼ŒåŒ…å«0ä¸ªå­—ç¬¦</p><p>  <code> _</code>ï¼šä»»æ„å•ä¸ªå­—ç¬¦</p></li></ol><p>è½¬ä¹‰å­—ç¬¦<code>eacape</code></p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#è½¬ä¹‰å­—ç¬¦</span><span class="token comment" spellcheck="true">#æŸ¥è¯¢å‘˜å·¥åä¸­ç¬¬äºŒä¸ªå­—ç¬¦ä¸º_ä¸‹åˆ’çº¿çš„</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> last_name <span class="token operator">like</span> <span class="token string">'_$%'</span> <span class="token keyword">escape</span><span class="token string">' $'</span> <span class="token punctuation">;</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¨¡ç³ŠæŸ¥è¯¢like</span><span class="token comment" spellcheck="true">#æŸ¥è¯¢å‘˜å·¥åä¸­ç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸ºeçš„</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> last_name <span class="token operator">like</span> <span class="token string">'__n%'</span><span class="token punctuation">;</span></code></pre><p><strong>betweenâ€¦andâ€¦</strong></p><ol><li><p>è¦æ±‚å°æ•°åœ¨å‰</p></li><li><p>åŒ…å«ä¸´ç•Œå€¼</p></li></ol><p><strong>in</strong></p><ol><li>åˆ—è¡¨çš„å€¼ç±»å‹å¿…é¡»ç»Ÿä¸€æˆ–è€…å…¼å®¹</li></ol></li><li><p>ä¸æ”¯æŒé€šé…ç¬¦</p><ol start="3"><li>ä¸åŒºåˆ†å¤§å°å†™</li></ol></li><li><p>å­—ç¬¦å¿…é¡»ç”¨å•å¼•å·æ‹¬èµ·æ¥</p></li></ol><p><strong><code>is null</code></strong></p><ol><li>=æˆ–&lt;&gt;ä¸èƒ½ç”¨äºåˆ¤æ–­nullå€¼</li><li>å®‰å…¨ç­‰äº<code>&lt;=&gt;</code>å’Œ<code>is null</code>ï¼Œå‰è€…å¯ä»¥åˆ¤æ–­æ™®é€šæ•°å€¼å’Œnullï¼Œåè€…åªèƒ½åˆ¤æ–­nullï¼Œä½†åè€…å¯è¯»æ€§é«˜ï¼Œæ¨èä½¿ç”¨<ol start="3"><li>å‡½æ•°ifnull(x1,x2)ï¼šå¦‚æœx1ä¸ä¸ºnullåˆ™è¿”å›x1ï¼Œå¦åˆ™è¿”å›x2</li></ol></li></ol><h3 id="æ’åºæŸ¥è¯¢"><a href="#æ’åºæŸ¥è¯¢" class="headerlink" title="æ’åºæŸ¥è¯¢"></a>æ’åºæŸ¥è¯¢</h3><pre class=" language-sql"><code class="language-sql">è¯­æ³•ï¼š<span class="token keyword">select</span>    è¦æŸ¥è¯¢çš„ä¸œè¥¿<span class="token keyword">from</span>    è¡¨<span class="token keyword">where</span>     æ¡ä»¶<span class="token keyword">order</span> <span class="token keyword">by</span> æ’åºçš„å­—æ®µ<span class="token operator">|</span>è¡¨è¾¾å¼<span class="token operator">|</span>å‡½æ•°<span class="token operator">|</span>åˆ«å ã€<span class="token keyword">asc</span><span class="token operator">|</span><span class="token keyword">desc</span>ã€‘</code></pre><p>ç‰¹ç‚¹ï¼š</p><ol><li>ascä¸ºå‡åºï¼Œä¸å†™é»˜è®¤ä¸ºå‡åº</li><li>descä¸ºé™åºï¼Œä»é«˜åˆ°ä½</li><li>å¯ä»¥è®¾ç½®å¤šä¸ªæ’åºè§„åˆ™ï¼Œå¦‚<code>order by salary desc,employee_id asc</code></li><li>order byå­å¥ä¸€èˆ¬æ”¾åœ¨æŸ¥è¯¢è¯­å¥çš„æœ€åé¢ï¼Œlimitå­å¥é™¤å¤–</li></ol><h3 id="å¸¸è§å‡½æ•°"><a href="#å¸¸è§å‡½æ•°" class="headerlink" title="å¸¸è§å‡½æ•°"></a>å¸¸è§å‡½æ•°</h3><p>ä¸€ã€å•è¡Œå‡½æ•°ï¼ˆå¤„ç†å‡½æ•°ï¼‰</p><pre><code>1ã€å­—ç¬¦å‡½æ•°    concatæ‹¼æ¥ï¼šconcat(firstname,'_',lastname)    substræˆªå–å­ä¸²ï¼šsubstr('abcde',3)--&gt;cdeï¼Œsubstr('abcde',1,2)--&gt;abï¼ˆç´¢å¼•ä»1å¼€å§‹ï¼‰    upperè½¬æ¢æˆå¤§å†™    lowerè½¬æ¢æˆå°å†™    trimå»å‰åæŒ‡å®šçš„ç©ºæ ¼å’Œå­—ç¬¦ï¼štrim(' a  ')ï¼Œtrim('a' from 'aaaabaaacaaa')--&gt;baaac    ltrimå»å·¦è¾¹ç©ºæ ¼    rtrimå»å³è¾¹ç©ºæ ¼    replaceæ›¿æ¢ï¼šreplace('abc','b','a')--&gt;aac    lpadå·¦å¡«å……ï¼šlpad('abc',5,'*')--&gt;**abc    rpadå³å¡«å……    instrè¿”å›å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼šinstr('abcde','cd')--&gt;3    length è·å–å­—èŠ‚ä¸ªæ•°    2ã€æ•°å­¦å‡½æ•°    round å››èˆäº”å…¥ï¼šround(1.2)--&gt;1ï¼Œround(1.22,1)--&gt;1.2    rand éšæœºæ•°    floorå‘ä¸‹å–æ•´ï¼šfloor(-9.9)--&gt;-10    ceilå‘ä¸Šå–æ•´    modå–ä½™ï¼šmod(10,-3)--&gt;1,mod(-10,3)--&gt;-1ï¼Œï¼ˆä½™æ•°å’Œè¢«é™¤æ•°çš„ç¬¦å·æœ‰å…³ï¼‰ï¼ˆå…¬å¼:a-a/b*bï¼‰    truncateæˆªæ–­ï¼štruncate(1.6999,1)--&gt;1.6    3ã€æ—¥æœŸå‡½æ•°    nowå½“å‰ç³»ç»Ÿæ—¥æœŸ+æ—¶é—´    curdateå½“å‰ç³»ç»Ÿæ—¥æœŸï¼Œä¸åŒ…å«æ—¶é—´    curtimeå½“å‰ç³»ç»Ÿæ—¶é—´ï¼Œä¸åŒ…å«æ—¥æœŸ    datediffè®¡ç®—ç›¸å·®å¤©æ•°    year å¹´/æœˆ/æ—¥/æ—¶/åˆ†/ç§’ï¼šyear(birthday)--&gt;è¿”å›å¹´    monthname è‹±æ–‡æœˆ    day    å¤©    hour å°æ—¶    minute    åˆ†é’Ÿ    second    ç§’    str_to_date å°†å­—ç¬¦è½¬æ¢æˆæ—¥æœŸï¼šstr_to_date('9-12-1999','%m-%d-%Y')ï¼Œ    date_formatå°†æ—¥æœŸè½¬æ¢æˆå­—ç¬¦ï¼šdata_format(now(),'%yå¹´%mæœˆ%dæ—¥')    4ã€æµç¨‹æ§åˆ¶å‡½æ•°    if å¤„ç†åŒåˆ†æ”¯ï¼šselect name,if(salary is null,'æ²¡å·¥èµ„','æœ‰å·¥èµ„') as å¤‡æ³¨ from employees    caseè¯­å¥ å¤„ç†å¤šåˆ†æ”¯        æƒ…å†µ1ï¼šå¤„ç†ç­‰å€¼åˆ¤æ–­(caseåæœ‰å€¼)            select salary åŸå·¥èµ„,            case department_id            when 30 then salary*1.1            when 40 then salary*1.2            else salary            end as æ–°å·¥èµ„            from employees        æƒ…å†µ2ï¼šå¤„ç†æ¡ä»¶åˆ¤æ–­ï¼ˆcaseåæ— å€¼ï¼‰            select salary,            case            when salary&gt;20000 then 'a'            when salary&gt;15000 then 'b'            else 'c'            end as å·¥èµ„çº§åˆ«            from employees    5ã€å…¶ä»–å‡½æ•°    versionç‰ˆæœ¬    databaseå½“å‰åº“    userå½“å‰è¿æ¥ç”¨æˆ·</code></pre><table><thead><tr><th align="center">%Y</th><th align="center">å››ä½å¹´ä»½</th></tr></thead><tbody><tr><td align="center">%y</td><td align="center">2ä½å¹´ä»½</td></tr><tr><td align="center">%m</td><td align="center">æœˆä»½01ï¼Œ02</td></tr><tr><td align="center">%c</td><td align="center">æœˆä»½1ï¼Œ2</td></tr><tr><td align="center">%d</td><td align="center">æ—¥01ï¼Œ02</td></tr><tr><td align="center">%H</td><td align="center">å°æ—¶ï¼Œ24å°æ—¶åˆ¶</td></tr><tr><td align="center">%h</td><td align="center">å°æ—¶ï¼Œ12å°æ—¶åˆ¶</td></tr><tr><td align="center">%i</td><td align="center">åˆ†é’Ÿ00ï¼Œ01</td></tr><tr><td align="center">%s</td><td align="center">ç§’00ï¼Œ01</td></tr></tbody></table><p>äºŒã€åˆ†ç»„å‡½æ•°ï¼ˆèšåˆ/ç»Ÿè®¡å‡½æ•°ï¼‰</p><pre><code>sum æ±‚å’Œmax æœ€å¤§å€¼min æœ€å°å€¼avg å¹³å‡å€¼count è®¡æ•°ç‰¹ç‚¹ï¼š    1ã€ä»¥ä¸Šäº”ä¸ªåˆ†ç»„å‡½æ•°éƒ½å¿½ç•¥nullå€¼ï¼Œé™¤äº†count(*)    2ã€sumå’Œavgä¸€èˆ¬ç”¨äºå¤„ç†æ•°å€¼å‹    maxã€minã€countå¯ä»¥å¤„ç†ä»»ä½•æ•°æ®ç±»å‹    3ã€éƒ½å¯ä»¥æ­é…distinctä½¿ç”¨ï¼Œç”¨äºç»Ÿè®¡å»é‡åçš„ç»“æœ    4ã€countçš„å‚æ•°å¯ä»¥æ”¯æŒï¼š    å­—æ®µã€*ã€å¸¸é‡å€¼ï¼Œä¸€èˆ¬æ”¾1        æ•ˆç‡ï¼š        MYISAMï¼šcount(*)æ•ˆç‡é«˜ï¼Œå› ä¸ºå†…éƒ¨æœ‰è®¡æ•°å™¨        INNODBï¼šcount(*)å’Œcount(1)çš„æ•ˆç‡å·®ä¸å¤šï¼Œæ¯”count(å­—æ®µ)é«˜ï¼Œå­—æ®µéœ€è¦è¿›è¡Œåˆ¤æ–­æ˜¯å¦ä¸ºnullï¼Œæ¥å†³å®šæ˜¯å¦+1çš„æ“ä½œã€‚å»ºè®®ä½¿ç”¨ count(*)    5ã€å’Œåˆ†ç»„å‡½æ•°ä¸€åŒæŸ¥è¯¢çš„å­—æ®µè¦æ±‚æ˜¯group byåçš„å­—æ®µ</code></pre><h3 id="åˆ†ç»„æŸ¥è¯¢"><a href="#åˆ†ç»„æŸ¥è¯¢" class="headerlink" title="åˆ†ç»„æŸ¥è¯¢"></a>åˆ†ç»„æŸ¥è¯¢</h3><pre class=" language-sql"><code class="language-sql">è¯­æ³•ï¼š<span class="token keyword">select</span> æŸ¥è¯¢çš„å­—æ®µï¼Œåˆ†ç»„å‡½æ•°<span class="token keyword">from</span> è¡¨<span class="token punctuation">[</span><span class="token keyword">where</span> ç­›é€‰æ¡ä»¶<span class="token punctuation">]</span><span class="token keyword">group</span> <span class="token keyword">by</span> åˆ†ç»„çš„å­—æ®µ<span class="token punctuation">[</span><span class="token keyword">having</span> ç­›é€‰æ¡ä»¶<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token keyword">order</span> <span class="token keyword">by</span> å­å¥<span class="token punctuation">]</span></code></pre><pre><code>ç‰¹ç‚¹ï¼š1ã€å¯ä»¥æŒ‰å•ä¸ªå­—æ®µã€å¤šä¸ªå­—æ®µã€è¡¨è¾¾å¼/å‡½æ•°åˆ†ç»„ï¼ˆç”¨çš„è¾ƒå°‘ï¼‰2ã€å’Œèšåˆå‡½æ•°ä¸€åŒæŸ¥è¯¢çš„å­—æ®µæœ€å¥½æ˜¯åˆ†ç»„å(group by)çš„å­—æ®µï¼ˆé‡è¦ï¼‰3ã€åˆ†ç»„ç­›é€‰            é’ˆå¯¹çš„è¡¨        ä½ç½®                å…³é”®å­—åˆ†ç»„å‰ç­›é€‰ï¼š    åŸå§‹è¡¨            group byçš„å‰é¢          whereåˆ†ç»„åç­›é€‰ï¼š    åˆ†ç»„åçš„ç»“æœé›†      group byçš„åé¢        having*èšåˆå‡½æ•°åšç­›é€‰æ¡ä»¶ï¼Œä¸€å®šæ˜¯åœ¨havingå­å¥ä¸­*èƒ½åœ¨åˆ†ç»„å‰ç­›é€‰çš„ï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨åˆ†ç»„å‰ç­›é€‰ï¼ˆæ•ˆç‡é—®é¢˜ï¼‰4ã€å¯ä»¥æŒ‰å¤šä¸ªå­—æ®µåˆ†ç»„ï¼Œå­—æ®µä¹‹é—´ç”¨é€—å·éš”å¼€ï¼ˆå°±æ˜¯å°†å¤šä¸ªå­—æ®µéƒ½ç›¸åŒçš„åˆ†ä¸ºä¸€ä¸ªç»„ï¼‰5ã€å¯ä»¥æ”¯æŒæ’åº6ã€havingåå¯ä»¥æ”¯æŒåˆ«å(oracleä¸æ”¯æŒ)</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šæŸ¥è¯¢æ¯ä¸ªå·¥ç§çš„æœ€é«˜å·¥èµ„</span><span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>job_id<span class="token keyword">from</span> employees<span class="token keyword">group</span> <span class="token keyword">by</span> job_id<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹2ï¼šæŸ¥è¯¢æ¯ä¸ªä½ç½®ä¸Šçš„éƒ¨é—¨ä¸ªæ•°</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>location_id<span class="token keyword">from</span> departments<span class="token keyword">group</span> <span class="token keyword">by</span> location_id<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹3ï¼šæŸ¥è¯¢æœ‰å¥–é‡‘çš„æ¯ä¸ªé¢†å¯¼æ‰‹ä¸‹å‘˜å·¥çš„æœ€é«˜å·¥èµ„</span><span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>manager_id<span class="token keyword">from</span> employees<span class="token keyword">where</span> commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token keyword">group</span> <span class="token keyword">by</span> manager_id<span class="token comment" spellcheck="true">#æ¡ˆä¾‹4ï¼šæŸ¥è¯¢æ¯ä¸ªå·¥ç§æœ‰å¥–é‡‘çš„å‘˜å·¥çš„æœ€é«˜å·¥èµ„>12000çš„å·¥ç§ç¼–å·å’Œæœ€é«˜å·¥èµ„</span><span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>job_id<span class="token keyword">from</span> employees<span class="token keyword">where</span> commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token keyword">group</span> <span class="token keyword">by</span> job_id<span class="token keyword">having</span> job_id<span class="token operator">></span><span class="token number">12000</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹5ï¼šæŸ¥è¯¢å„ä¸ªç®¡ç†è€…æ‰‹ä¸‹å‘˜å·¥çš„æœ€ä½å·¥èµ„ï¼Œå…¶ä¸­æœ€ä½å·¥èµ„ä¸èƒ½ä½äº6000ï¼Œæ²¡æœ‰ç®¡ç†è€…çš„å‘˜å·¥ä¸è®¡ç®—åœ¨å†…</span><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>manager_id<span class="token keyword">from</span> employees<span class="token keyword">where</span> manager_id <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token keyword">group</span> <span class="token keyword">by</span> manager_id<span class="token keyword">having</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">>=</span><span class="token number">6000</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹6ï¼šæŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨çš„ç¼–å·ï¼Œå‘˜å·¥æ•°é‡å’Œå·¥èµ„å¹³å‡å€¼ï¼Œå¹¶æŒ‰ç…§å¹³å‡å·¥èµ„é™åº</span><span class="token keyword">select</span> department_id<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token keyword">from</span> employees<span class="token keyword">group</span> <span class="token keyword">by</span> department_id<span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">desc</span></code></pre><h3 id="å¤šè¡¨è¿æ¥æŸ¥è¯¢"><a href="#å¤šè¡¨è¿æ¥æŸ¥è¯¢" class="headerlink" title="å¤šè¡¨è¿æ¥æŸ¥è¯¢"></a>å¤šè¡¨è¿æ¥æŸ¥è¯¢</h3><p>åˆ†ç±»ï¼š</p><pre><code>æŒ‰å¹´ä»£åˆ†ç±»ï¼š    sql92æ ‡å‡†ï¼šä»…æ”¯æŒå†…è¿æ¥     sql99æ ‡å‡†ï¼ˆæ¨èï¼‰ï¼šå…¨æ”¯æŒï¼Œé™¤äº†å¤–è¿æ¥çš„å…¨å¤–ä¸æ”¯æŒæŒ‰åŠŸèƒ½åˆ†ç±»    1.å†…è¿æ¥ï¼š        ç­‰å€¼è¿æ¥:            1. å¤šè¡¨ç­‰å€¼è¿æ¥ç»“æœæ˜¯å¤šè¡¨äº¤é›†éƒ¨åˆ†            2. nè¡¨è¿æ¥ï¼Œéœ€è¦n-1ä¸ªè¿æ¥æ¡ä»¶            3. å¤šè¡¨é¡ºåºæ— è¦æ±‚            4. ä¸€èˆ¬ç»™è¡¨èµ·åˆ«åï¼ˆç”¨åˆ«åï¼Œselectå­—æ®µä¹Ÿéœ€è¦åˆ«åè¿›è¡Œé™å®šï¼‰            5. å¯ä»¥æ­é…æ‰€æœ‰å­å¥ä½¿ç”¨        éç­‰å€¼è¿æ¥        è‡ªè¿æ¥        å†…è¿æ¥ inner            è¯­æ³•ï¼š                select æŸ¥è¯¢åˆ—è¡¨                from è¡¨1 åˆ«å [è¿æ¥ç±»å‹]                join è¡¨2 åˆ«å                on è¿æ¥æ¡ä»¶                [where ç­›é€‰æ¡ä»¶]                [group by åˆ†ç»„]                [having ç­›é€‰æ¡ä»¶]                [order by æ’åºåˆ—è¡¨]            1.innerå¯ä»¥çœç•¥            2. ç­›é€‰æ¡ä»¶æ”¾åœ¨whereåé¢ï¼Œè¿æ¥æ¡ä»¶æ”¾åœ¨onåé¢    2.å¤–è¿æ¥ï¼š        åº”ç”¨åœºæ™¯ï¼š            **ç”¨äºæŸ¥è¯¢ä¸€ä¸ªè¡¨ä¸­æœ‰ï¼Œå¦ä¸€ä¸ªè¡¨æ²¡æœ‰çš„è®°å½•**            1. æŸ¥è¯¢ç»“æœä¸ºä¸»è¡¨å·¦å³è®°å½•                å¦‚æœè¡¨ä¸­æœ‰å’Œå®ƒåŒ¹é…çš„ï¼Œå°±åŒ¹é…                æ²¡æœ‰å°±æ˜¾ç¤ºä¸ºNull                å¤–è¿æ¥æŸ¥è¯¢ç»“æœ=å†…è¿æ¥ç»“æœ+ä¸»è¡¨æœ‰è€Œä»è¡¨æ²¡æœ‰çš„è®°å½•        å·¦å¤–è¿æ¥ left [outer] å·¦è¡¨ä¸ºä¸»è¡¨        å³å¤–è¿æ¥ right [outer] å³è¡¨ä¸ºä¸»è¡¨        å…¨å¤–è¿æ¥ full [outer]            å…¨å¤–è¿æ¥=å†…è¿æ¥ç»“æœ+è¡¨1æœ‰ä½†è¡¨2æ²¡æœ‰+è¡¨2æœ‰ä½†è¡¨1æ²¡æœ‰    3.äº¤å‰è¿æ¥ï¼ˆç¬›å¡å°”ä¹˜ç§¯ï¼‰ cross</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼ˆç­‰å€¼+ç­›é€‰ï¼‰ï¼šæŸ¥è¯¢æœ‰å¥–é‡‘çš„å‘˜å·¥åã€éƒ¨é—¨å</span><span class="token keyword">select</span> last_name<span class="token punctuation">,</span>department_name<span class="token keyword">from</span> employees <span class="token number">e</span><span class="token punctuation">,</span>departments <span class="token number">d</span><span class="token keyword">where</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id<span class="token operator">and</span> <span class="token number">e</span><span class="token punctuation">.</span>commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹2ï¼ˆç­‰å€¼+åˆ†ç»„ï¼‰ï¼šæŸ¥è¯¢æ¯ä¸ªåŸå¸‚çš„éƒ¨é—¨ä¸ªæ•°</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> ä¸ªæ•°<span class="token punctuation">,</span>city<span class="token keyword">from</span> departments <span class="token number">d</span><span class="token punctuation">,</span>locations l<span class="token keyword">where</span> <span class="token number">d</span><span class="token punctuation">.</span>location_id <span class="token operator">=</span> l<span class="token punctuation">.</span>location_id<span class="token keyword">group</span> <span class="token keyword">by</span> city<span class="token comment" spellcheck="true">#æ¡ˆä¾‹3ï¼šæŸ¥è¯¢æœ‰å¥–é‡‘çš„æ¯ä¸ªéƒ¨é—¨çš„éƒ¨é—¨åå’Œéƒ¨é—¨çš„é¢†å¯¼ç¼–å·å’Œè¯¥éƒ¨é—¨çš„æœ€ä½å·¥èµ„</span><span class="token keyword">select</span> department_name<span class="token punctuation">,</span>department<span class="token punctuation">.</span>manager_id<span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">from</span> employees<span class="token punctuation">,</span>departments<span class="token keyword">where</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token operator">and</span> commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token keyword">group</span> <span class="token keyword">by</span> department_name<span class="token comment" spellcheck="true">#æ¡ˆä¾‹4ï¼ˆéç­‰å€¼è¿æ¥ï¼‰ï¼šæŸ¥è¯¢å‘˜å·¥çš„å·¥èµ„å’Œå·¥èµ„çº§åˆ«</span><span class="token keyword">select</span> salary<span class="token punctuation">,</span>grade_level<span class="token keyword">from</span> emplpyees <span class="token number">e</span> <span class="token punctuation">,</span>job_grades g<span class="token keyword">where</span> salary <span class="token operator">between</span> g<span class="token punctuation">.</span>lowest_sal <span class="token operator">and</span> g<span class="token punctuation">.</span>highest<span class="token punctuation">.</span>sal<span class="token comment" spellcheck="true">#æ¡ˆä¾‹5ï¼ˆè‡ªè¿æ¥ï¼‰ï¼šæŸ¥è¯¢å‘˜å·¥åå’Œä¸Šçº§çš„åç§°</span><span class="token keyword">select</span> <span class="token number">e</span><span class="token punctuation">.</span>employees_id<span class="token punctuation">,</span><span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>m<span class="token punctuation">.</span>employees_id<span class="token punctuation">,</span>m<span class="token punctuation">.</span>last_name<span class="token keyword">from</span> employees <span class="token number">e</span><span class="token punctuation">,</span>emoloyees m<span class="token keyword">where</span> <span class="token number">e</span><span class="token punctuation">.</span>manager_id <span class="token operator">=</span> m<span class="token punctuation">.</span>employees_id</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#å†…è¿æŸ¥è¯¢</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šæŸ¥è¯¢éƒ¨é—¨ä¸ªæ•°>3çš„åŸå¸‚åå’Œéƒ¨é—¨ä¸ªæ•°</span><span class="token keyword">select</span> city<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> éƒ¨é—¨ä¸ªæ•°<span class="token keyword">from</span> departments <span class="token number">d</span> <span class="token keyword">inner</span> <span class="token keyword">join</span> locations l<span class="token keyword">on</span> <span class="token number">d</span><span class="token punctuation">.</span>location_id <span class="token operator">=</span> l<span class="token punctuation">.</span>location_id<span class="token keyword">group</span> <span class="token keyword">by</span> city<span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">3</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹2ï¼šæŸ¥è¯¢å“ªä¸ªéƒ¨é—¨çš„å‘˜å·¥ä¸ªæ•°>3çš„éƒ¨é—¨åå’Œå‘˜å·¥ä¸ªæ•°ï¼Œå¹¶æŒ‰ä¸ªæ•°é™åº</span><span class="token keyword">select</span> department_name<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">from</span> department <span class="token number">d</span> <span class="token keyword">inner</span> <span class="token keyword">join</span> employees <span class="token number">e</span><span class="token keyword">on</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id<span class="token keyword">group</span> <span class="token keyword">by</span> department_name<span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">3</span><span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹3ï¼ˆ3è¡¨è¿æ¥ï¼‰ï¼šæŸ¥è¯¢å‘˜å·¥åã€éƒ¨é—¨åã€å·¥ç§åï¼Œå¹¶æŒ‰ç…§éƒ¨é—¨åé™åº</span><span class="token keyword">select</span> last_name<span class="token punctuation">,</span>department_name<span class="token punctuation">,</span>job_title<span class="token keyword">from</span> employees <span class="token number">e</span><span class="token keyword">inner</span> <span class="token keyword">join</span> departments <span class="token number">d</span> <span class="token keyword">on</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id<span class="token keyword">inner</span> <span class="token keyword">join</span> job j <span class="token keyword">on</span> <span class="token number">e</span><span class="token punctuation">.</span>job_id <span class="token operator">=</span> j<span class="token punctuation">.</span>job_id<span class="token keyword">order</span> <span class="token keyword">by</span> department_name <span class="token keyword">desc</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹4ï¼ˆéç­‰å€¼è¿æ¥ï¼‰ï¼šæŸ¥è¯¢å·¥èµ„çº§åˆ«çš„ä¸ªæ•°>20çš„ä¸ªæ•°ï¼Œå¹¶ä¸”æŒ‰ç…§å·¥èµ„çº§åˆ«é™åº</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>grade_lecel<span class="token keyword">from</span> employees <span class="token number">e</span> <span class="token keyword">join</span> job_grades g<span class="token keyword">on</span> <span class="token number">e</span><span class="token punctuation">.</span>salary <span class="token operator">between</span> g<span class="token punctuation">.</span>lowest_sal <span class="token operator">and</span> g<span class="token punctuation">.</span>highest_sal<span class="token keyword">group</span> <span class="token keyword">by</span> grade_level<span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">20</span><span class="token keyword">order</span> <span class="token keyword">by</span> grade_level <span class="token keyword">desc</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#å¤–è”æŸ¥è¯¢</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šæŸ¥è¯¢æ²¡æœ‰ç”·æœ‹å‹çš„å¥³ç¥åå•</span><span class="token keyword">select</span> <span class="token number">b</span><span class="token punctuation">.</span>name<span class="token keyword">from</span> beauty <span class="token number">b</span> <span class="token keyword">left</span> <span class="token keyword">join</span> boys bo<span class="token keyword">on</span> <span class="token number">b</span><span class="token punctuation">.</span>boyfriend_id <span class="token operator">=</span> bo<span class="token punctuation">.</span>id<span class="token keyword">where</span> bo<span class="token punctuation">.</span>id <span class="token operator">is</span> <span class="token boolean">null</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹2ï¼šæŸ¥è¯¢å“ªä¸ªéƒ¨é—¨æ²¡æœ‰å‘˜å·¥</span><span class="token keyword">select</span> <span class="token number">d</span><span class="token punctuation">.</span>department_name<span class="token keyword">from</span> departments <span class="token number">d</span> <span class="token keyword">left</span> <span class="token keyword">join</span> employees <span class="token number">e</span><span class="token keyword">on</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id<span class="token keyword">where</span> <span class="token number">e</span><span class="token punctuation">.</span>employees_id <span class="token operator">is</span> <span class="token boolean">null</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹3ï¼šæŸ¥è¯¢ç¼–å·>3çš„å¥³ç¥çš„ç”·æœ‹å‹ä¿¡æ¯ï¼Œå¦‚æœæœ‰åˆ™åˆ—å‡ºè¯¦æƒ…ï¼Œæ²¡æœ‰ï¼Œç”¨Nullå¡«å……</span><span class="token keyword">select</span> <span class="token number">b</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>bo<span class="token punctuation">.</span><span class="token operator">*</span><span class="token keyword">from</span> beauty <span class="token number">b</span> <span class="token keyword">left</span> <span class="token keyword">join</span> boys bo<span class="token keyword">on</span> <span class="token number">b</span><span class="token punctuation">.</span>boyfriend_id <span class="token operator">=</span> bo<span class="token punctuation">.</span>id<span class="token keyword">where</span> <span class="token number">b</span><span class="token punctuation">.</span>id<span class="token operator">></span><span class="token number">3</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹4ï¼šæŸ¥è¯¢å“ªä¸ªåŸå¸‚æ²¡æœ‰éƒ¨é—¨</span><span class="token keyword">select</span> city<span class="token keyword">from</span> location l <span class="token keyword">left</span> <span class="token keyword">join</span> department <span class="token number">d</span><span class="token keyword">on</span> l<span class="token punctuation">.</span>location_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>id<span class="token keyword">where</span> l<span class="token punctuation">.</span>department_id <span class="token operator">is</span> <span class="token boolean">null</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹5ï¼šæŸ¥è¯¢éƒ¨é—¨åä¸ºSALæˆ–ITçš„å‘˜å·¥ä¿¡æ¯</span><span class="token keyword">select</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>department_name<span class="token keyword">from</span> employees <span class="token number">e</span> <span class="token keyword">inner</span> <span class="token keyword">join</span> departments <span class="token number">d</span><span class="token keyword">on</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id<span class="token keyword">where</span> <span class="token number">e</span><span class="token punctuation">.</span>department_name <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'SAL'</span><span class="token punctuation">,</span><span class="token string">'IT'</span><span class="token punctuation">)</span></code></pre><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201104232057.png"></p><h3 id="å­æŸ¥è¯¢"><a href="#å­æŸ¥è¯¢" class="headerlink" title="å­æŸ¥è¯¢"></a>å­æŸ¥è¯¢</h3><p>å«ä¹‰ï¼š</p><pre><code>åˆç§°å¤šè¡¨æŸ¥è¯¢ï¼Œå½“æŸ¥è¯¢çš„å­—æ®µæ¥è‡ªäºå¤šä¸ªè¡¨æ—¶ï¼Œå°±ä¼šç”¨åˆ°è¿æ¥æŸ¥è¯¢ä¸€æ¡æŸ¥è¯¢è¯­å¥ä¸­åˆåµŒå¥—äº†å¦ä¸€æ¡å®Œæ•´çš„selectè¯­å¥ï¼Œå…¶ä¸­è¢«åµŒå¥—çš„selectè¯­å¥ï¼Œç§°ä¸ºå­æŸ¥è¯¢æˆ–å†…æŸ¥è¯¢åœ¨å¤–é¢çš„æŸ¥è¯¢è¯­å¥ï¼Œç§°ä¸ºä¸»æŸ¥è¯¢æˆ–å¤–æŸ¥è¯¢</code></pre><p>åˆ†ç±»ï¼š</p><pre><code>æŒ‰å­æŸ¥è¯¢å‡ºç°çš„ä½ç½®ï¼š    selectåé¢ï¼š        æ”¯æŒæ ‡é‡å­æŸ¥è¯¢    from åé¢        æ”¯æŒè¡¨å­æŸ¥è¯¢    whereæˆ–havingåé¢â˜…        æ ‡é‡å­æŸ¥è¯¢â˜…         åˆ—å­æŸ¥è¯¢â˜…        è¡Œå­æŸ¥è¯¢ ï¼ˆç”¨çš„è¾ƒå°‘ï¼‰    existsåé¢ï¼ˆç›¸å…³å­æŸ¥è¯¢ï¼‰:        è¯­æ³•ï¼š            select exists(select * from x) --&gt; 0ä¸å­˜åœ¨,1å­˜åœ¨        è¡¨å­æŸ¥è¯¢æŒ‰ç»“æœé›†çš„è¡Œåˆ—æ•°ä¸åŒ    æ ‡é‡å­æŸ¥è¯¢ï¼ˆç»“æœé›†åªæœ‰ä¸€è¡Œä¸€åˆ—ï¼‰    åˆ—å­æŸ¥è¯¢ï¼ˆç»“æœé›†åªæœ‰ä¸€åˆ—å¤šè¡Œï¼‰    è¡Œå­æŸ¥è¯¢ï¼ˆç»“æœé›†åªæœ‰ä¸€è¡Œå¤šåˆ—ï¼‰    è¡¨å­æŸ¥è¯¢ï¼ˆç»“æœé›†ä¸€èˆ¬ä¸ºå¤šè¡Œå¤šåˆ—ï¼‰</code></pre><p>ç‰¹ç‚¹ï¼š</p><pre><code>1ã€å­æŸ¥è¯¢éƒ½æ”¾åœ¨å°æ‹¬å·å†…2ã€å­æŸ¥è¯¢å¯ä»¥æ”¾åœ¨fromåé¢ã€selectåé¢ã€whereåé¢ã€havingåé¢ï¼Œä½†ä¸€èˆ¬æ”¾åœ¨æ¡ä»¶çš„å³ä¾§3ã€å­æŸ¥è¯¢ä¼˜å…ˆäºä¸»æŸ¥è¯¢æ‰§è¡Œï¼Œä¸»æŸ¥è¯¢ä½¿ç”¨äº†å­æŸ¥è¯¢çš„æ‰§è¡Œç»“æœ4ã€å­æŸ¥è¯¢æ ¹æ®æŸ¥è¯¢ç»“æœçš„è¡Œæ•°ä¸åŒåˆ†ä¸ºä»¥ä¸‹ä¸¤ç±»ï¼šâ‘  å•è¡Œå­æŸ¥è¯¢    ç»“æœé›†åªæœ‰ä¸€è¡Œ    ä¸€èˆ¬æ­é…å•è¡Œæ“ä½œç¬¦ä½¿ç”¨ï¼š&gt; &lt; = &lt;&gt; &gt;= &lt;=     éæ³•ä½¿ç”¨å­æŸ¥è¯¢çš„æƒ…å†µï¼š    aã€å­æŸ¥è¯¢çš„ç»“æœä¸ºä¸€ç»„å€¼    bã€å­æŸ¥è¯¢çš„ç»“æœä¸ºç©º    â‘¡ å¤šè¡Œå­æŸ¥è¯¢    ç»“æœé›†æœ‰å¤šè¡Œ    ä¸€èˆ¬æ­é…å¤šè¡Œæ“ä½œç¬¦ä½¿ç”¨ï¼šanyã€allã€inã€not in    inï¼š å±äºå­æŸ¥è¯¢ç»“æœä¸­çš„ä»»æ„ä¸€ä¸ªå°±è¡Œ    anyå’Œallï¼Œå’Œå­æŸ¥è¯¢ç»“æœä¸­æŸä¸€ä¸ªè¿›è¡Œæ¯”è¾ƒï¼Œtrueåˆ™è¿”å›ï¼Œä¸å¸¸ç”¨ï¼Œå¾€å¾€å¯ä»¥ç”¨å…¶ä»–æŸ¥è¯¢ä»£æ›¿</code></pre><ol><li>whereåé¢</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ ‡é‡å­æŸ¥è¯¢</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šæŸ¥è¯¢å…¬å¸å·¥èµ„æœ€å°‘çš„å‘˜å·¥çš„last_name,job_idå’Œsalary</span><span class="token keyword">select</span> last_name<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span>salary<span class="token keyword">from</span> employees<span class="token keyword">where</span> salary<span class="token operator">=</span><span class="token punctuation">(</span>    <span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>    <span class="token keyword">from</span> employees<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹2ï¼šæŸ¥è¯¢æœ€ä½å·¥èµ„å¤§äº50å·éƒ¨é—¨æœ€ä½å·¥èµ„çš„éƒ¨é—¨idå’Œå…¶æœ€ä½å·¥èµ„</span><span class="token comment" spellcheck="true">#1.æŸ¥è¯¢50å·éƒ¨é—¨æœ€ä½å·¥èµ„</span><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token keyword">from</span> employees<span class="token keyword">where</span> department_id <span class="token operator">=</span> <span class="token number">50</span><span class="token comment" spellcheck="true">#2.æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨çš„æœ€ä½å·¥èµ„</span><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>department_id<span class="token keyword">from</span> employees<span class="token keyword">group</span> <span class="token keyword">by</span> department_id<span class="token comment" spellcheck="true">#3. 2>1çš„åŸºç¡€ä¸Šï¼ŒæŸ¥è¯¢éƒ¨é—¨idå’Œå…¶æœ€ä½å·¥èµ„</span><span class="token keyword">select</span> department_id<span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token keyword">from</span> employees<span class="token keyword">group</span> <span class="token keyword">by</span> department_id<span class="token keyword">having</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">></span><span class="token punctuation">(</span>    <span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>    <span class="token keyword">from</span> employees    <span class="token keyword">where</span> department_id <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#åˆ—å­æŸ¥è¯¢ï¼ˆå¤šè¡Œå­æŸ¥è¯¢ï¼‰</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šè¿”å›location_idæ˜¯1400æˆ–1700çš„éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥å§“å</span><span class="token comment" spellcheck="true">#1.æŸ¥è¯¢idä¸º1400ï¼Œ1700çš„éƒ¨é—¨ç¼–å·</span><span class="token keyword">select</span> department_id<span class="token keyword">from</span> locations<span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1400</span><span class="token punctuation">,</span><span class="token number">1700</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#2.æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥ï¼Œéƒ¨é—¨å·æ˜¯1</span><span class="token keyword">select</span> last_name<span class="token keyword">from</span> employees<span class="token keyword">where</span> department_id <span class="token operator">in</span> <span class="token punctuation">(</span>    <span class="token keyword">select</span> department_id    <span class="token keyword">from</span> locations    <span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1400</span><span class="token punctuation">,</span><span class="token number">1700</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹2ï¼šè¿”å›å…¶å®ƒéƒ¨é—¨ä¸­æ¯”job_idä¸º'IT_PROG'éƒ¨é—¨ä»»ä¸€å·¥èµ„ä½çš„å‘˜å·¥çš„å‘˜å·¥å·ã€å§“åã€job_idä»¥åŠsalary</span><span class="token comment" spellcheck="true">#1.job_idä¸º'IT_PROG'éƒ¨é—¨çš„æœ€ä½å·¥èµ„</span><span class="token keyword">select</span> <span class="token keyword">distinct</span> salary<span class="token keyword">from</span> employees<span class="token keyword">where</span> job_id<span class="token operator">=</span><span class="token string">'IT_PROG'</span><span class="token comment" spellcheck="true">#2.</span><span class="token keyword">select</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span>salary<span class="token keyword">from</span> employees<span class="token keyword">where</span> salary <span class="token operator">&lt;</span> <span class="token keyword">any</span><span class="token punctuation">(</span>    <span class="token keyword">select</span> <span class="token keyword">distinct</span> salary    <span class="token keyword">from</span> employees    <span class="token keyword">where</span> job_id<span class="token operator">=</span><span class="token string">'IT_PROG'</span><span class="token punctuation">)</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#è¡Œå­æŸ¥è¯¢ï¼ˆç»“æœé›†ä¸€è¡Œå¤šåˆ—æˆ–å¤šè¡Œå¤šåˆ—ï¼‰</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹ï¼šæŸ¥è¯¢å‘˜å·¥ç¼–å·æœ€å°å¹¶ä¸”å·¥èµ„æœ€é«˜çš„å‘˜å·¥ä¿¡æ¯</span><span class="token comment" spellcheck="true">#å±€é™ï¼šä¸¤ä¸ªå­—æ®µéƒ½éœ€è¦ç›¸åŒçš„çº¦æŸç¬¦=,in</span><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> employees<span class="token keyword">where</span> <span class="token punctuation">(</span>employees_id<span class="token punctuation">,</span>salary<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>     <span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>employees_id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>    <span class="token keyword">from</span> employees<span class="token punctuation">)</span></code></pre><ol start="2"><li>selectåé¢</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šæŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„å‘˜å·¥ä¸ªæ•°</span><span class="token comment" spellcheck="true">#çº¦æŸï¼šå¿…é¡»æ˜¯æ ‡é‡å­æŸ¥è¯¢ï¼Œç»“æœé›†æ˜¯ä¸€è¡Œä¸€åˆ—</span><span class="token keyword">select</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token punctuation">(</span>    <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>    <span class="token keyword">from</span> employees <span class="token number">e</span>    <span class="token keyword">where</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id<span class="token punctuation">)</span>ä¸ªæ•°<span class="token keyword">from</span> departments <span class="token number">d</span></code></pre><ol start="3"><li>fromåé¢</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šæŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„å¹³å‡å·¥èµ„çš„å·¥èµ„ç­‰çº§</span><span class="token keyword">select</span> ag_dep<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>g<span class="token punctuation">.</span>level<span class="token keyword">from</span> <span class="token punctuation">(</span>    <span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>department_id    <span class="token keyword">from</span> employees    <span class="token keyword">group</span> <span class="token keyword">by</span> department_id<span class="token punctuation">)</span> ag_dep<span class="token keyword">inner</span> <span class="token keyword">join</span> job_grades g<span class="token keyword">on</span> ag_dep<span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">between</span> lowest_sal <span class="token operator">and</span> highest_sal<span class="token punctuation">;</span></code></pre><ol start="4"><li>existsåé¢ï¼ˆç›¸å…³å­æŸ¥è¯¢ï¼‰</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šæŸ¥è¯¢æœ‰å‘˜å·¥çš„éƒ¨é—¨å</span><span class="token keyword">select</span> department_name<span class="token keyword">from</span> departments <span class="token number">d</span><span class="token keyword">where</span> <span class="token keyword">exists</span><span class="token punctuation">(</span>    <span class="token keyword">select</span> <span class="token operator">*</span>    <span class="token keyword">from</span> employees <span class="token number">e</span>    <span class="token keyword">where</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id<span class="token punctuation">)</span><span class="token punctuation">;</span>https:<span class="token comment" spellcheck="true">//wenku.baidu.com/view/9fb65893b94cf7ec4afe04a1b0717fd5360cb28c.html</span></code></pre><h3 id="åˆ†é¡µæŸ¥è¯¢"><a href="#åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="åˆ†é¡µæŸ¥è¯¢"></a>åˆ†é¡µæŸ¥è¯¢</h3><p>åº”ç”¨åœºæ™¯</p><pre><code>å®é™…çš„webé¡¹ç›®ä¸­éœ€è¦æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚æäº¤å¯¹åº”çš„åˆ†é¡µæŸ¥è¯¢çš„sqlè¯­å¥</code></pre><p>è¯­æ³•ï¼š</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> å­—æ®µ<span class="token operator">|</span>è¡¨è¾¾å¼<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">from</span> è¡¨ã€<span class="token keyword">where</span> æ¡ä»¶ã€‘ã€<span class="token keyword">group</span> <span class="token keyword">by</span> åˆ†ç»„å­—æ®µã€‘ã€<span class="token keyword">having</span> æ¡ä»¶ã€‘ã€<span class="token keyword">order</span> <span class="token keyword">by</span> æ’åºçš„å­—æ®µã€‘<span class="token keyword">limit</span> ã€èµ·å§‹çš„æ¡ç›®ç´¢å¼•ã€‘ï¼Œæ¡ç›®æ•°<span class="token punctuation">;</span></code></pre><p>ç‰¹ç‚¹ï¼š</p><pre><code>1.èµ·å§‹æ¡ç›®ç´¢å¼•ä»0å¼€å§‹2.limitå­å¥æ”¾åœ¨æŸ¥è¯¢è¯­å¥çš„æœ€å3.ç´¢å¼•å…¬å¼ï¼šselect * from  è¡¨ limit ï¼ˆpage-1ï¼‰*size,sizepage:è¦æ˜¾ç¤ºçš„é¡µæ•°sizePerpageï¼šæ˜¾ç¤ºçš„ä¸ªæ•°å‡å¦‚:æ¯é¡µæ˜¾ç¤ºæ¡ç›®æ•°sizeè¦æ˜¾ç¤ºçš„é¡µæ•° page</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1:æœ‰å¥–é‡‘çš„å‘˜å·¥ä¿¡æ¯ï¼Œå¹¶ä¸”å·¥èµ„è¾ƒé«˜çš„å‰ååæ˜¾ç¤ºå‡ºæ¥</span><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> employees <span class="token number">e</span><span class="token keyword">where</span> comission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token keyword">order</span> <span class="token keyword">by</span> salary <span class="token keyword">desc</span><span class="token keyword">limit</span> <span class="token number">10</span></code></pre><h3 id="è”åˆæŸ¥è¯¢"><a href="#è”åˆæŸ¥è¯¢" class="headerlink" title="è”åˆæŸ¥è¯¢"></a>è”åˆæŸ¥è¯¢</h3><p>å¼•å…¥ï¼š<br>    union è”åˆã€åˆå¹¶</p><p>åº”ç”¨åœºæ™¯ï¼š</p><p>â€‹    å¤šè¡¨æŸ¥è¯¢ï¼Œè¡¨ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œä¸”æŸ¥è¯¢çš„ä¿¡æ¯ä¸€è‡´</p><p>è¯­æ³•ï¼š</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> å­—æ®µ<span class="token operator">|</span>å¸¸é‡<span class="token operator">|</span>è¡¨è¾¾å¼<span class="token operator">|</span>å‡½æ•° ã€<span class="token keyword">from</span> è¡¨ã€‘ ã€<span class="token keyword">where</span> æ¡ä»¶ã€‘ <span class="token keyword">union</span> ã€<span class="token keyword">all</span>ã€‘<span class="token keyword">select</span> å­—æ®µ<span class="token operator">|</span>å¸¸é‡<span class="token operator">|</span>è¡¨è¾¾å¼<span class="token operator">|</span>å‡½æ•° ã€<span class="token keyword">from</span> è¡¨ã€‘ ã€<span class="token keyword">where</span> æ¡ä»¶ã€‘ <span class="token keyword">union</span> ã€<span class="token keyword">all</span>ã€‘<span class="token keyword">select</span> å­—æ®µ<span class="token operator">|</span>å¸¸é‡<span class="token operator">|</span>è¡¨è¾¾å¼<span class="token operator">|</span>å‡½æ•° ã€<span class="token keyword">from</span> è¡¨ã€‘ ã€<span class="token keyword">where</span> æ¡ä»¶ã€‘ <span class="token keyword">union</span>  ã€<span class="token keyword">all</span>ã€‘<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">select</span> å­—æ®µ<span class="token operator">|</span>å¸¸é‡<span class="token operator">|</span>è¡¨è¾¾å¼<span class="token operator">|</span>å‡½æ•° ã€<span class="token keyword">from</span> è¡¨ã€‘ ã€<span class="token keyword">where</span> æ¡ä»¶ã€‘</code></pre><p>ç‰¹ç‚¹ï¼š</p><pre><code>1ã€å¤šæ¡æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢çš„åˆ—æ•°å¿…é¡»æ˜¯ä¸€è‡´çš„2ã€å¤šæ¡æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢çš„åˆ—çš„ç±»å‹å’Œé¡ºåºå‡ ä¹ç›¸åŒ3ã€unionä»£è¡¨å»é‡ï¼Œunion allä»£è¡¨ä¸å»é‡</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šæŸ¥è¯¢ä¸­å›½ç”¨æˆ·ç”·æ€§çš„ä¿¡æ¯ä»¥åŠå¤–å›½ç”¨æˆ·ç”·æ€§çš„ä¿¡æ¯</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_ca <span class="token keyword">where</span> sex<span class="token operator">=</span> <span class="token string">'ç”·'</span><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_ua <span class="token keyword">where</span> gender<span class="token operator">=</span> <span class="token string">'male'</span> </code></pre><hr><h2 id="DMLæ•°æ®æ“ä½œè¯­è¨€"><a href="#DMLæ•°æ®æ“ä½œè¯­è¨€" class="headerlink" title="DMLæ•°æ®æ“ä½œè¯­è¨€"></a>DMLæ•°æ®æ“ä½œè¯­è¨€</h2><p>###æ’å…¥</p><p>è¯­æ³•ï¼š </p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ–¹å¼1ï¼š</span>    <span class="token keyword">insert</span> <span class="token keyword">into</span> è¡¨å<span class="token punctuation">(</span>å­—æ®µåï¼Œ<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    <span class="token keyword">values</span><span class="token punctuation">(</span>å€¼<span class="token number">1</span>ï¼Œ<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#æ–¹å¼2ï¼š</span>    <span class="token keyword">insert</span> <span class="token keyword">into</span> è¡¨å    <span class="token keyword">set</span> åˆ—å<span class="token operator">=</span>å€¼ï¼Œåˆ—å<span class="token operator">=</span>å€¼<span class="token comment" spellcheck="true">#ä¸¤ç§æ–¹å¼çš„åŒºåˆ«</span>    æ–¹å¼<span class="token number">1</span>æ”¯æŒæ’å…¥å¤šè¡Œï¼Œ<span class="token number">2</span>ä¸æ”¯æŒ    æ–¹å¼<span class="token number">1</span>æ”¯æŒå­æŸ¥è¯¢ï¼Œ<span class="token number">2</span>ä¸æ”¯æŒ        <span class="token keyword">insert</span> <span class="token keyword">into</span> beauty<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>phone<span class="token punctuation">)</span>        <span class="token keyword">select</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>phone <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">where</span> id<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span></code></pre><p>ç‰¹ç‚¹ï¼š</p><pre><code>1ã€å­—æ®µç±»å‹å’Œå€¼ç±»å‹ä¸€è‡´æˆ–å…¼å®¹ï¼Œè€Œä¸”ä¸€ä¸€å¯¹åº”2ã€å¯ä»¥ä¸ºç©ºçš„å­—æ®µï¼Œå¯ä»¥ä¸ç”¨æ’å…¥å€¼ï¼Œæˆ–ç”¨nullå¡«å……3ã€ä¸å¯ä»¥ä¸ºç©ºçš„å­—æ®µï¼Œå¿…é¡»æ’å…¥å€¼4ã€å­—æ®µä¸ªæ•°å’Œå€¼çš„ä¸ªæ•°å¿…é¡»ä¸€è‡´5ã€å­—æ®µå¯ä»¥çœç•¥ï¼Œä½†é»˜è®¤æ‰€æœ‰å­—æ®µï¼Œå¹¶ä¸”é¡ºåºå’Œè¡¨ä¸­çš„å­˜å‚¨é¡ºåºä¸€è‡´</code></pre><p>###ä¿®æ”¹</p><p>ä¿®æ”¹å•è¡¨è¯­æ³•ï¼š</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">update</span> è¡¨å <span class="token keyword">set</span> å­—æ®µ<span class="token operator">=</span>æ–°å€¼<span class="token punctuation">,</span>å­—æ®µ<span class="token operator">=</span>æ–°å€¼ã€<span class="token keyword">where</span> æ¡ä»¶ã€‘</code></pre><p>ä¿®æ”¹å¤šè¡¨è¯­æ³•ï¼š</p><pre class=" language-sql"><code class="language-sql">sql92è¯­æ³•ï¼š<span class="token keyword">update</span> è¡¨<span class="token number">1</span> åˆ«å<span class="token number">1</span><span class="token punctuation">,</span>è¡¨<span class="token number">2</span> åˆ«å<span class="token number">2</span><span class="token keyword">set</span> å­—æ®µ<span class="token operator">=</span>æ–°å€¼ï¼Œå­—æ®µ<span class="token operator">=</span>æ–°å€¼<span class="token keyword">where</span> è¿æ¥æ¡ä»¶<span class="token operator">and</span> ç­›é€‰æ¡ä»¶sql99è¯­æ³•ï¼š<span class="token keyword">update</span> è¡¨<span class="token number">1</span> åˆ«å<span class="token keyword">inner</span><span class="token operator">|</span><span class="token keyword">left</span><span class="token operator">|</span><span class="token keyword">right</span> <span class="token keyword">join</span> è¡¨<span class="token number">2</span> åˆ«å<span class="token keyword">on</span> è¿æ¥æ¡ä»¶<span class="token keyword">set</span> åˆ—å <span class="token operator">=</span> å€¼<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">where</span> ç­›é€‰æ¡ä»¶</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#ä¿®æ”¹å¤šè¡¨è®°å½•</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šä¿®æ”¹å¼ æ— å¿Œçš„å¥³æœ‹å‹çš„æ‰‹æœºå·ä¸º114</span><span class="token keyword">update</span> boys <span class="token number">b</span><span class="token keyword">inner</span> <span class="token keyword">join</span> beauty <span class="token number">be</span><span class="token keyword">on</span> <span class="token number">b</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">be</span><span class="token punctuation">.</span>boyfriend<span class="token punctuation">.</span>id<span class="token keyword">set</span> <span class="token number">be</span><span class="token punctuation">.</span>phone <span class="token operator">=</span> <span class="token string">'114'</span><span class="token keyword">where</span> <span class="token number">b</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'å¼ æ— å¿Œ'</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹2ï¼šä¿®æ”¹æ²¡æœ‰ç”·æœ‹å‹çš„å¥³ç¥çš„ç”·æœ‹å‹çš„ç¼–å·éƒ½ä¸º2å·</span><span class="token keyword">update</span> beauty <span class="token number">be</span><span class="token keyword">left</span> <span class="token keyword">join</span> boys <span class="token number">b</span><span class="token keyword">on</span> <span class="token number">be</span><span class="token punctuation">.</span>boyfriend<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">b</span><span class="token punctuation">.</span>id<span class="token keyword">set</span> <span class="token number">be</span><span class="token punctuation">.</span>boyfriend<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'2'</span><span class="token keyword">where</span> <span class="token number">b</span><span class="token punctuation">.</span>id <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token comment" spellcheck="true">#æ³¨æ„è¿™é‡Œæ˜¯ä»è¡¨æ˜¯nullï¼Œä¸æ˜¯ä¸»è¡¨çš„be.boyfried_id</span></code></pre><p>###åˆ é™¤</p><p>æ–¹å¼1ï¼šdeleteè¯­å¥ </p><pre class=" language-sql"><code class="language-sql">å•è¡¨çš„åˆ é™¤ï¼š â˜…    <span class="token keyword">delete</span> <span class="token keyword">from</span> è¡¨å ã€<span class="token keyword">where</span> ç­›é€‰æ¡ä»¶ã€‘</code></pre><pre class=" language-sql"><code class="language-sql">sql92å¤šè¡¨çš„åˆ é™¤ï¼š    <span class="token keyword">delete</span> åˆ«å<span class="token number">1</span>ï¼Œåˆ«å<span class="token number">2</span>    <span class="token keyword">from</span> è¡¨<span class="token number">1</span> åˆ«å<span class="token number">1</span>ï¼Œè¡¨<span class="token number">2</span> åˆ«å<span class="token number">2</span>    <span class="token keyword">where</span> è¿æ¥æ¡ä»¶    <span class="token operator">and</span> ç­›é€‰æ¡ä»¶<span class="token punctuation">;</span>sql99:    <span class="token keyword">delete</span> åˆ«å<span class="token number">1</span>ï¼Œåˆ«å<span class="token number">2</span>    <span class="token keyword">from</span> è¡¨<span class="token number">1</span> åˆ«å<span class="token number">1</span>     <span class="token keyword">inner</span><span class="token operator">|</span><span class="token keyword">left</span><span class="token operator">|</span><span class="token keyword">right</span> <span class="token keyword">join</span> è¡¨<span class="token number">2</span> åˆ«å<span class="token number">2</span>     <span class="token keyword">on</span> è¿æ¥æ¡ä»¶    <span class="token keyword">where</span> ç­›é€‰æ¡ä»¶</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#å¤šè¡¨åˆ é™¤æ¡ˆä¾‹</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šåˆ é™¤å¼ æ— å¿Œçš„å¥³æœ‹å‹çš„ä¿¡æ¯</span><span class="token keyword">delete</span> <span class="token number">be</span><span class="token keyword">from</span> boys <span class="token number">b</span> <span class="token keyword">inner</span> <span class="token keyword">join</span> beauty <span class="token number">be</span><span class="token keyword">on</span> <span class="token number">b</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">be</span><span class="token punctuation">.</span>boyfriend_id<span class="token keyword">where</span> <span class="token number">be</span><span class="token punctuation">.</span>boyName<span class="token operator">=</span><span class="token string">'å¼ æ— å¿Œ'</span></code></pre><p>æ–¹å¼2ï¼štruncateè¯­å¥ï¼ˆæ¸…ç©ºè¡¨æ•°æ®ï¼‰</p><pre><code>truncate table è¡¨å</code></pre><p>ä¸¤ç§æ–¹å¼çš„åŒºåˆ«ã€é¢è¯•é¢˜ã€‘</p><pre><code>1.    Deleteå¯ä»¥åŠ whereæ¡ä»¶ï¼Œtruncateä¸èƒ½åŠ 2.    Truncateåˆ é™¤ï¼Œæ•ˆç‡é«˜ä¸€ç‚¹3.    å¦‚æœç”¨deleteåˆ é™¤åï¼Œå†æ’å…¥æ•°æ®ï¼Œè‡ªå¢é•¿åˆ—çš„å€¼ä»æ–­ç‚¹å¼€å§‹è€Œtruncateåˆ é™¤åï¼Œå†æ’å…¥æ•°æ®ï¼Œè‡ªå¢é•¿åˆ—çš„å€¼ä»1å¼€å§‹4.    Truncateåˆ é™¤æ²¡æœ‰è¿”å›å€¼ï¼Œdeleteåˆ é™¤æœ‰è¿”å›å€¼5.    Truncateåˆ é™¤ä¸èƒ½å›æ»šï¼Œdeleteåˆ é™¤å¯ä»¥å›æ»š</code></pre><hr><h2 id="DDLæ•°æ®åº“æ“ä½œè¯­è¨€"><a href="#DDLæ•°æ®åº“æ“ä½œè¯­è¨€" class="headerlink" title="DDLæ•°æ®åº“æ“ä½œè¯­è¨€"></a>DDLæ•°æ®åº“æ“ä½œè¯­è¨€</h2><h3 id="åº“çš„ç®¡ç†"><a href="#åº“çš„ç®¡ç†" class="headerlink" title="åº“çš„ç®¡ç†"></a>åº“çš„ç®¡ç†</h3><pre class=" language-sql"><code class="language-sql">åˆ›å»º:    <span class="token keyword">create</span> <span class="token keyword">database</span> ã€<span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span>å¦‚æœå·²åˆ›å»ºåˆ™ä¸æ‰§è¡Œã€‘ åº“åä¿®æ”¹ï¼š    <span class="token keyword">alter</span> <span class="token keyword">database</span> åº“å <span class="token keyword">character set</span> å­—ç¬¦é›†åˆ é™¤ï¼š    <span class="token keyword">drop</span> <span class="token keyword">database</span> ã€<span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span>å¦‚æœå·²åˆ›å»ºåˆ™ä¸æ‰§è¡Œã€‘ åº“å</code></pre><h3 id="è¡¨çš„ç®¡ç†"><a href="#è¡¨çš„ç®¡ç†" class="headerlink" title="è¡¨çš„ç®¡ç†"></a>è¡¨çš„ç®¡ç†</h3><pre class=" language-sql"><code class="language-sql">åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤åˆ›ï¼š    <span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span>        åˆ—å åˆ—çš„ç±»å‹ã€ï¼ˆé•¿åº¦ï¼‰ çº¦æŸã€‘        åˆ—å åˆ—çš„ç±»å‹ã€ï¼ˆé•¿åº¦ï¼‰ çº¦æŸã€‘        â€¦     <span class="token punctuation">)</span>ä¿®æ”¹ï¼š    <span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">add</span><span class="token operator">|</span><span class="token keyword">drop</span><span class="token operator">|</span><span class="token keyword">modify</span><span class="token operator">|</span>change <span class="token keyword">column</span> åˆ—å ã€åˆ—ç±»å‹ çº¦æŸã€‘    <span class="token number">1</span><span class="token punctuation">.</span>    ä¿®æ”¹åˆ—å         <span class="token keyword">Alter</span> <span class="token keyword">table</span> è¡¨å change <span class="token keyword">column</span> æ—§åˆ—å æ–°åˆ—å æ–°ç±»å‹    <span class="token number">2</span><span class="token punctuation">.</span>    ä¿®æ”¹åˆ—çš„ç±»å‹æˆ–çº¦æŸ        <span class="token keyword">Alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">modify</span> <span class="token keyword">column</span> åˆ—å æ–°ç±»å‹    <span class="token number">3</span><span class="token punctuation">.</span>    å¢åŠ æ–°åˆ—        <span class="token keyword">Alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">add</span> <span class="token keyword">column</span> åˆ—å ç±»å‹    <span class="token number">4</span><span class="token punctuation">.</span>    åˆ é™¤åˆ—        <span class="token keyword">Alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">drop</span> <span class="token keyword">column</span> åˆ—å    <span class="token number">5</span><span class="token punctuation">.</span>    ä¿®æ”¹è¡¨å        <span class="token keyword">Alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">rename</span> <span class="token keyword">to</span> æ–°è¡¨ååˆ é™¤ï¼š<span class="token keyword">drop</span> <span class="token keyword">table</span> è¡¨åé€šç”¨å†™æ³•ï¼š    <span class="token keyword">Drop</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> æ—§åº“å    <span class="token keyword">Create</span> <span class="token keyword">database</span> æ–°åº“å    <span class="token keyword">Drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> æ—§è¡¨å    <span class="token keyword">Create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span><span class="token punctuation">)</span> è¡¨çš„å¤åˆ¶ï¼š    <span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å <span class="token operator">like</span> è¢«å¤åˆ¶çš„è¡¨å    <span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> author</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šå°†è¡¨departmentsä¸­çš„æ•°æ®æ’å…¥æ–°è¡¨dept2ä¸­</span><span class="token keyword">Create</span> <span class="token keyword">table</span> dept2<span class="token keyword">Select</span> department_id <span class="token punctuation">,</span>department_name<span class="token keyword">From</span> myemployees<span class="token punctuation">.</span>departments<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">#è·¨åº“æŸ¥è¯¢ </span></code></pre><h3 id="å¸¸è§ç±»å‹"><a href="#å¸¸è§ç±»å‹" class="headerlink" title="å¸¸è§ç±»å‹"></a>å¸¸è§ç±»å‹</h3><pre><code>æ•°å€¼å‹ï¼š    æ•´å‹ï¼š        Tinyint(å­—èŠ‚1ï¼Œæœ‰ç¬¦å·-128-127ï¼Œæ— ç¬¦å·0-255),è®¾ç½®æ— ç¬¦å·ï¼š int unsigned        Smallint(2)        Mediumint(3)        Intã€integer(4)        Bitint(8)        ç‰¹ç‚¹ï¼š            1. ä¸è®¾ç½®æœ‰æ— ç¬¦å·ï¼Œé»˜è®¤ä¸ºæœ‰ç¬¦å·ï¼Œå¦‚æœè®¾ç½®æ— ç¬¦å·ï¼š int unsigned            2. æ’å…¥è¶…è¿‡æ•´å½¢èŒƒå›´ï¼ŒæŠ¥out of rangeå¼‚å¸¸ï¼Œå¹¶æ’å…¥ä¸´ç•Œå€¼            3. ä¸è®¾ç½®é•¿åº¦ï¼Œä¼šé»˜è®¤é•¿åº¦            4. é•¿åº¦ä»£è¡¨æœ€å¤§å®½åº¦ï¼Œå¦‚æœä¸å¤Ÿä¼šç”¨0åœ¨å·¦è¾¹å¡«å……ï¼Œå¿…é¡»æ­é…zerofillä½¿ç”¨        å°æ•°ï¼š        æµ®ç‚¹å‹            float(4å­—èŠ‚)            double(8å­—èŠ‚)        å®šç‚¹å‹(ç²¾åº¦æ›´é«˜)            decã€decimal        ç‰¹ç‚¹ï¼š            1. ä¸¤ä¸ªå‚æ•°Float(M,D)                Mï¼šæ•´æ•°éƒ¨ä½+å°æ•°éƒ¨ä½                Dï¼šå°æ•°éƒ¨ä½            2. å‚æ•°å¯ä»¥çœç•¥                å¦‚æœæ˜¯decimalï¼ŒMé»˜è®¤ä¸º10ï¼ŒDä¸º0                å¦‚æœæ˜¯floatã€doubleï¼Œæ’å…¥ä»€ä¹ˆæ•°å€¼å°±æ˜¯ä»€ä¹ˆç²¾åº¦å­—ç¬¦å‹ï¼š    è¾ƒçŸ­çš„æ–‡æœ¬:charã€varchar        ç‰¹ç‚¹ï¼š            1. 1ä¸ªå‚æ•°char(M)                M:æœ€å¤§å­—ç¬¦æ•°                char é»˜è®¤1ï¼Œvarcharä¸å¯ä»¥çœç•¥            2. ä¸¤ä¸ªåŒºåˆ«ï¼šcharå›ºå®šé•¿åº¦ã€æ•ˆç‡é«˜ï¼Œvarcharå¯å˜é•¿åº¦ã€æ•ˆç‡ä½ï¼ˆæ ¹æ®ä¼ å…¥å¤šå°‘å­—ç¬¦å¼€è¾Ÿå¤šå°‘ç©ºé—´ï¼‰    è¾ƒé•¿çš„æ–‡æœ¬:textã€blob(è¾ƒé•¿çš„äºŒè¿›åˆ¶æ•°æ®)    å…¶ä»–ï¼š        binaryå’Œvarbinaryç”¨äºä¿å­˜è¾ƒçŸ­çš„äºŒè¿›åˆ¶        enumç”¨äºä¿å­˜æšä¸¾        setç”¨äºä¿å­˜é›†åˆæ—¥æœŸå‹ï¼š    date ï¼š2000-01-01    datetimeï¼š2000-01-01 00ï¼š00ï¼š00    timestampï¼šæŸä¸ªæ—¶åˆ»çš„    timeï¼š00ï¼š00ï¼š00    yearï¼š2000    ç‰¹ç‚¹ï¼š        1.datetimeå’Œtimstampçš„åŒºåˆ«            datetimeèŒƒå›´å¤§ï¼Œ1000-9999ï¼Œ8å­—èŠ‚ï¼Œä¸å—æ—¶æœŸå½±å“            timestampèŒƒå›´å°ï¼Œ1970-2038ï¼Œ4å­—èŠ‚ï¼Œå—æ—¶æœŸå½±å“</code></pre><h3 id="å¸¸è§çº¦æŸ"><a href="#å¸¸è§çº¦æŸ" class="headerlink" title="å¸¸è§çº¦æŸ"></a>å¸¸è§çº¦æŸ</h3><p>å«ä¹‰ï¼š</p><pre><code>ä¸€ç§é™åˆ¶ï¼Œç”¨äºé™å®šè¡¨ä¸­çš„æ•°æ®ï¼Œä¸ºäº†ä¿è¯è¡¨ä¸­çš„æ•°æ®çš„å‡†ç¡®æ€§å’Œå¯é æ€§</code></pre><p>è¯­æ³•</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨åï¼ˆ    å­—æ®µå å­—æ®µç±»å‹ çº¦æŸï¼‰</code></pre><p>ç±»å‹</p><pre class=" language-sql"><code class="language-sql"><span class="token operator">NOT</span> <span class="token boolean">NULL</span>ï¼šéç©ºï¼Œç”¨äºä¿è¯å­—æ®µçš„å€¼ä¸èƒ½ä¸ºç©º<span class="token keyword">DEFAULT</span>ï¼šé»˜è®¤ï¼Œç”¨äºä¿è¯è¯¥å­—æ®µæœ‰é»˜è®¤å€¼<span class="token keyword">UNIQUE</span>ï¼šå”¯ä¸€çº¦æŸï¼Œç”¨äºä¿è¯è¯¥å­—æ®µçš„å€¼å…·æœ‰å”¯ä¸€æ€§ï¼Œå¯ä»¥ä¸ºç©ºï¼Œä½†åªèƒ½ä¿ç•™ä¸€ä¸ª<span class="token boolean">Null</span>å€¼<span class="token keyword">CHECK</span>ï¼šæ£€æŸ¥çº¦æŸã€mysqlä¸æ”¯æŒã€‘<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>ï¼šä¸»é”®ï¼Œç”¨äºä¿è¯è¯¥å­—æ®µçš„å€¼å…·æœ‰å”¯ä¸€æ€§ï¼Œå¹¶ä¸”éç©º<span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span>ï¼šå¤–é”®ï¼Œç”¨äºé™å®šä¸¤ä¸ªè¡¨çš„å…³ç³»ï¼Œç”¨äºä¿è¯è¯¥å­—æ®µçš„å€¼å¿…é¡»æ¥è‡ªä¸»è¡¨çš„å…³è”åˆ—çš„å€¼    åœ¨<span class="token operator">*</span><span class="token operator">*</span>ä»è¡¨æ·»åŠ å¤–é”®çº¦æŸï¼Œç”¨äºå¼•ç”¨ä¸»è¡¨ä¸­çš„æŸåˆ—çš„å€¼<span class="token operator">*</span><span class="token operator">*</span></code></pre><p>æ·»åŠ çº¦æŸçš„æ—¶æœºï¼š</p><ol><li><p>åˆ›å»ºè¡¨æ—¶</p><ol><li>è¯­æ³•ï¼š<ol><li>ç›´æ¥åœ¨å­—æ®µåå’Œç±»å‹åé¢è¿½åŠ  çº¦æŸç±»å‹å³å¯</li><li>åªæ”¯æŒï¼šé»˜è®¤ã€éç©ºã€ä¸»é”®ã€å”¯ä¸€</li></ol></li></ol></li><li><p>ä¿®æ”¹è¡¨æ—¶</p><ol><li>è¯­æ³•</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#å¢åŠ åˆ—çº§çº¦æŸ</span><span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">modify</span> <span class="token keyword">column</span> å­—æ®µå å­—æ®µç±»å‹ æ–°çº¦æŸ<span class="token comment" spellcheck="true">#å¢åŠ è¡¨çº§çº¦æŸ</span><span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">add</span> ã€<span class="token keyword">constraint</span> çº¦æŸåã€‘ çº¦æŸï¼ˆå­—æ®µåï¼‰ ã€å¤–é”®å¼•ç”¨ã€‘</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> stuinfo <span class="token keyword">modify</span> <span class="token keyword">column</span> stuname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#å¢åŠ çº¦æŸ</span><span class="token keyword">alter</span> <span class="token keyword">table</span> stuinfo <span class="token keyword">modify</span> <span class="token keyword">column</span> stuname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">;</span><span class="token comment" spellcheck="true">#åˆ é™¤éç©ºçº¦æŸ</span><span class="token keyword">alter</span> <span class="token keyword">table</span> stuinfo <span class="token keyword">modify</span> <span class="token keyword">column</span> age <span class="token keyword">int</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#åˆ é™¤é»˜è®¤çº¦æŸ</span><span class="token keyword">alter</span> <span class="token keyword">table</span> stuinfo <span class="token keyword">drop</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#åˆ é™¤ä¸»é”®</span><span class="token keyword">alter</span> <span class="token keyword">table</span> stuinfo <span class="token keyword">drop</span> <span class="token keyword">index</span> seat<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#åˆ é™¤å”¯ä¸€</span><span class="token comment" spellcheck="true">#å¢åŠ å¤–é”®</span><span class="token keyword">alter</span> <span class="token keyword">table</span> stuinfo <span class="token keyword">add</span> ã€<span class="token keyword">constraint</span> fk_stuinfo_majorã€‘ <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>majorid<span class="token punctuation">)</span> <span class="token keyword">references</span> major<span class="token punctuation">(</span>id<span class="token punctuation">)</span> ã€<span class="token keyword">on</span> <span class="token keyword">delete</span> <span class="token keyword">cascade</span>ã€‘<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">#on delete cascade çº§è”åˆ é™¤ï¼Œåˆ é™¤ä¸»è¡¨ï¼Œä»è¡¨ç›¸å…³æ•°æ®ä¹Ÿä¼šåˆ é™¤</span><span class="token comment" spellcheck="true">#åˆ é™¤å¤–é”®</span><span class="token keyword">alter</span> <span class="token keyword">table</span> stuinfo <span class="token keyword">drop</span> <span class="token keyword">foreign</span> <span class="token keyword">key</span> fk_stuinfo_major</code></pre><ol start="2"><li><p>çº§è”æ“ä½œ</p><pre><code>#åœ¨æ·»åŠ å¤–é”®æ—¶å¢åŠ çº§è”æ“ä½œ#çº§è”åˆ é™¤ï¼ˆåˆ é™¤ä¸»è¡¨ï¼Œä»è¡¨ç›¸å…³æ•°æ®ä¹Ÿä¼šåˆ é™¤ï¼‰alter table stuinfo add ã€constraint fk_stuinfo_majorã€‘ foreign key(majorid) references major(id) ã€on delete cascadeã€‘#çº§è”ç½®ç©ºï¼ˆåˆ é™¤ä¸»è¡¨ï¼Œä»è¡¨ç›¸å…³æ•°æ®å˜ä¸ºnullï¼‰alter table stuinfo add ã€constraint fk_stuinfo_majorã€‘ foreign key(majorid) references major(id) ã€on delete set nullã€‘</code></pre></li></ol></li></ol><p>çº¦æŸçš„æ·»åŠ åˆ†ç±»ï¼š</p><ol><li><p>åˆ—çº§çº¦æŸ</p><ol><li>å…­å¤§çº¦æŸè¯­æ³•éƒ½æ”¯æŒï¼Œå¤–é”®æ²¡æ•ˆæœ</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#åˆ—çº§çº¦æŸä¸¾ä¾‹</span><span class="token keyword">create</span> <span class="token keyword">table</span> stuinfo<span class="token punctuation">(</span>    id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">#ä¸»é”®</span>    stuName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">#éç©º</span>    gender char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">check</span><span class="token punctuation">(</span>gender<span class="token operator">=</span><span class="token string">'ç”·'</span> <span class="token operator">or</span> gender<span class="token operator">=</span><span class="token string">'å¥³'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#æ£€æŸ¥ï¼Œåªæ˜¯ç¤ºä¾‹ï¼Œmysqlä¸æ”¯æŒ</span>    seat <span class="token keyword">int</span> <span class="token keyword">unique</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">#å”¯ä¸€</span>    age <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">18</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">#é»˜è®¤</span>    majorId <span class="token keyword">int</span> <span class="token keyword">references</span> major<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#å¤–é”®,åªæ˜¯ç¤ºä¾‹ï¼Œå› ä¸ºå¤–é”®ä¸æ”¯æŒåˆ—çº§çº¦æŸ</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">create</span> <span class="token keyword">table</span> major<span class="token punctuation">(</span>    id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>    marjorName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></li><li><p>è¡¨çº§çº¦æŸ</p><ol><li>é™¤äº†éç©ºã€é»˜è®¤ï¼Œå…¶ä»–çš„éƒ½æ”¯æŒ</li><li>è¯­æ³•ï¼š</li></ol><pre class=" language-sql"><code class="language-sql">ã€<span class="token keyword">constraint</span> çº¦æŸåã€‘ çº¦æŸç±»å‹ <span class="token punctuation">(</span>å­—æ®µå<span class="token punctuation">)</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#è¡¨çº§çº¦æŸä¸¾ä¾‹</span><span class="token keyword">create</span> <span class="token keyword">table</span> stuinfo<span class="token punctuation">(</span>    id <span class="token keyword">int</span><span class="token punctuation">,</span>    stuName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    gender char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    seat <span class="token keyword">int</span><span class="token punctuation">,</span>    age <span class="token keyword">int</span><span class="token punctuation">,</span>    majorId <span class="token keyword">int</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">#å¢åŠ æ ‡è®°çº¦æŸ</span>    <span class="token keyword">constraint</span> pk <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">#ä¸»é”®</span>    <span class="token keyword">constraint</span> uq <span class="token keyword">unique</span><span class="token punctuation">(</span>seat<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">#å”¯ä¸€é”®</span>    contraint ck <span class="token keyword">check</span><span class="token punctuation">(</span>gender<span class="token operator">=</span><span class="token string">'ç”·'</span> <span class="token operator">or</span> gender<span class="token operator">=</span><span class="token string">'å¥³'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">#æ£€æŸ¥</span>    contraint fk_stuinfo_major <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>majorid<span class="token punctuation">)</span> <span class="token keyword">references</span> major<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#å¤–é”®</span><span class="token punctuation">)</span><span class="token keyword">show</span> <span class="token keyword">index</span> <span class="token keyword">from</span> stuinfo <span class="token comment" spellcheck="true">#æŸ¥çœ‹ç´¢å¼•</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#é€šç”¨å†™æ³•</span><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> stuinfo<span class="token punctuation">(</span>    id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>    stuName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>    gender char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    seat <span class="token keyword">int</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>    age <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">18</span><span class="token punctuation">,</span>    majorId <span class="token keyword">int</span><span class="token punctuation">,</span>    contraint fk_stuinfo_major <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>majorid<span class="token punctuation">)</span> <span class="token keyword">references</span> major<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#å¤–é”®</span><span class="token punctuation">)</span></code></pre></li></ol><p><strong>ä¸»é”®å’Œå”¯ä¸€çš„åŒºåˆ«</strong></p><pre><code>å”¯ä¸€æ€§ï¼š    éƒ½èƒ½ä¿è¯ä¸ºç©ºï¼š    ä¸»é”®ä¸å…è®¸ï¼Œå”¯ä¸€å…è®¸ï¼ˆä½†åªèƒ½ä¿ç•™1ä¸ªNullï¼‰ä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šå°‘ä¸ªï¼š    ä¸»é”®è‡³å¤šæœ‰ä¸€ä¸ªï¼Œå”¯ä¸€å¯ä»¥æœ‰å¤šä¸ªæ˜¯å¦å…è®¸ç»„åˆï¼ˆå¤šä¸ªåˆ—ç»„æˆä¸»é”®/å”¯ä¸€ï¼‰ï¼š    ç»„åˆä¸»é”®çš„å«ä¹‰ï¼šæ¯”å¦‚ä¸¤ä¸ªåˆ—ç»„æˆçš„ä¸»é”®ï¼Œåªæœ‰ä¸¤ä¸ªåˆ—éƒ½ç›¸åŒæ‰ç­‰äºé‡å¤    éƒ½å¯ä»¥ï¼Œä½†ä¸æ¨èï¼Œæ•°æ®ä¸ç¨³å®š</code></pre><p><strong>å¤–é”®ç‰¹ç‚¹</strong></p><ol><li>è¦æ±‚åœ¨ä»è¡¨è®¾ç½®å¤–é”®å…³ç³»ï¼Œå¼•ç”¨ä¸»è¡¨çš„æ•°æ®</li><li>ä»è¡¨çš„å¤–é”®åˆ—çš„ç±»å‹å’Œä¸»è¡¨çš„å…³è”åˆ—çš„ç±»å‹è¦æ±‚ä¸€è‡´æˆ–å…¼å®¹ï¼Œåå­—æ— è¦æ±‚</li><li>ä¸»è¡¨çš„å…³è”åˆ—å¿…é¡»æ—¶ä¸€ä¸ªkeyï¼ˆä¸€èˆ¬æ—¶ä¸»é”®æˆ–å”¯ä¸€ï¼‰</li><li>æ’å…¥æ•°æ®æ—¶ï¼Œ<strong>å…ˆæ’å…¥ä¸»è¡¨ï¼Œå†æ’å…¥ä»è¡¨</strong></li><li>åˆ é™¤æ•°æ®æ—¶ï¼Œ<strong>å…ˆåˆ é™¤ä»è¡¨ï¼Œå†åˆ é™¤ä¸»è¡¨</strong></li></ol><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#å‘è¡¨emp2çš„Idåˆ—ä¸­æ·»åŠ primary keyçº¦æŸï¼ˆmy_emp_id_pkï¼‰</span><span class="token keyword">alter</span> <span class="token keyword">table</span> emp2 <span class="token keyword">modify</span> <span class="token keyword">column</span> id <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">;</span><span class="token keyword">alter</span> <span class="token keyword">table</span> emp2 <span class="token keyword">add</span> <span class="token keyword">constraint</span> my_emp_id_pk <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#å‘è¡¨emp2ä¸­æ·»åŠ åˆ—dept_idï¼Œå¹¶åœ¨å…¶ä¸­å®šä¹‰foreign keyçº¦æŸï¼Œä¸ä¹‹ç›¸å…³çš„åˆ—æ˜¯dept2è¡¨ä¸­çš„idåˆ—</span><span class="token keyword">alter</span> <span class="token keyword">table</span> emp2 <span class="token keyword">add</span> <span class="token keyword">column</span> dept_id<span class="token punctuation">;</span><span class="token keyword">alter</span> <span class="token keyword">table</span> emp2 <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_emp2_dept2 <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">references</span> dept2<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="æ ‡è¯†åˆ—"><a href="#æ ‡è¯†åˆ—" class="headerlink" title="æ ‡è¯†åˆ—"></a>æ ‡è¯†åˆ—</h3><p>åˆç§°è‡ªå¢é•¿åˆ—</p><p>å«ä¹‰ï¼šå¯ä»¥ä¸ç”¨æ‰‹åŠ¨çš„æ’å…¥å€¼ï¼Œç³»ç»Ÿæä¾›é»˜è®¤çš„åºåˆ—å€¼</p><ol><li>åˆ›å»ºè¡¨æ—¶è®¾ç½®æ ‡è¯†åˆ—ï¼ˆçº¦æŸåœ°æ–¹åå†™æ ‡è¯†åˆ—ï¼šAUTO_INCREMENTï¼‰</li><li>ä¿®æ”¹è¡¨æ—¶è®¾ç½®æ ‡è¯†åˆ—<code>alter table è¡¨å modify column åˆ—å ç±»å çº¦æŸ æ ‡è¯†åˆ—</code></li><li>ä¿®æ”¹è¡¨æ—¶åˆ é™¤æ ‡è¯†åˆ—<code>alter table è¡¨å modify column åˆ—å ç±»å çº¦æŸ</code></li></ol><p>ç‰¹ç‚¹ï¼š</p><pre><code>1. æ ‡è¯†åˆ—å¿…é¡»ä¸keyæ­é…ï¼ˆä¸»é”®ã€å”¯ä¸€é”®ã€å¤–é”®ï¼‰2. ä¸€ä¸ªè¡¨æœ€å¤šæœ‰ä¸€ä¸ªæ ‡è¯†åˆ—3. æ ‡è¯†åˆ—çš„ç±»å‹åªèƒ½æ˜¯æ•°å€¼å‹4. æ›´æ”¹æ­¥é•¿ï¼šset auto_increment_increment = 3</code></pre><hr><h2 id="TCLäº‹åŠ¡æ§åˆ¶è¯­è¨€"><a href="#TCLäº‹åŠ¡æ§åˆ¶è¯­è¨€" class="headerlink" title="TCLäº‹åŠ¡æ§åˆ¶è¯­è¨€"></a>TCLäº‹åŠ¡æ§åˆ¶è¯­è¨€</h2><p><strong>å«ä¹‰</strong></p><pre><code>é€šè¿‡ä¸€ç»„é€»è¾‘æ“ä½œå•å…ƒï¼ˆä¸€ç»„dmlè¯­è¨€ï¼‰ï¼Œå°†æ•°æ®ä»ä¸€ç§çŠ¶æ€åˆ‡æ¢åˆ°å¦å¤–ä¸€ç§çŠ¶æ€</code></pre><p><strong>ç‰¹ç‚¹</strong></p><pre><code>ï¼ˆACIDï¼‰åŸå­æ€§ï¼šè¦ä¹ˆéƒ½æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½å›æ»šä¸€è‡´æ€§ï¼šä¿è¯æ•°æ®çš„çŠ¶æ€æ“ä½œå‰å’Œæ“ä½œåä¿æŒä¸€è‡´éš”ç¦»æ€§ï¼šå¤šä¸ªäº‹åŠ¡åŒæ—¶æ“ä½œç›¸åŒæ•°æ®åº“çš„åŒä¸€ä¸ªæ•°æ®æ—¶ï¼Œä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸å—å¦å¤–ä¸€ä¸ªäº‹åŠ¡çš„å¹²æ‰°æŒä¹…æ€§ï¼šä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œåˆ™æ•°æ®å°†æŒä¹…åŒ–åˆ°æœ¬åœ°ï¼Œé™¤éå…¶ä»–äº‹åŠ¡å¯¹å…¶è¿›è¡Œä¿®æ”¹</code></pre><p><strong>äº‹åŠ¡çš„åˆ†ç±»</strong></p><p>éšå¼äº‹åŠ¡ï¼Œæ²¡æœ‰æ˜æ˜¾çš„å¼€å¯å’Œç»“æŸäº‹åŠ¡çš„æ ‡å¿—</p><pre><code>æ¯”å¦‚insertã€updateã€deleteè¯­å¥æœ¬èº«å°±æ˜¯ä¸€ä¸ªäº‹åŠ¡</code></pre><p>æ˜¾å¼äº‹åŠ¡ï¼Œå…·æœ‰æ˜æ˜¾çš„å¼€å¯å’Œç»“æŸäº‹åŠ¡çš„æ ‡å¿—</p><pre><code>æŸ¥çœ‹mysqlæ”¯æŒçš„å­˜å‚¨å¼•æ“show enginesè®¾ç½®å­—ç¬¦é›†set names gbk1ã€å¼€å¯äº‹åŠ¡å–æ¶ˆè‡ªåŠ¨æäº¤äº‹åŠ¡çš„åŠŸèƒ½set autocommit=0;start transaction; å¯é€‰çš„ï¼ˆæ‰§è¡Œå®Œset autocommitå°±ä¼šè‡ªåŠ¨æ‰§è¡Œè¯¥è¯­å¥ï¼‰2ã€ç¼–å†™äº‹åŠ¡çš„ä¸€ç»„é€»è¾‘æ“ä½œå•å…ƒï¼ˆå¤šæ¡sqlè¯­å¥ï¼‰insertupdatedelete3ã€æäº¤äº‹åŠ¡æˆ–å›æ»šäº‹åŠ¡commitï¼›æäº¤äº‹åŠ¡rollbackï¼›å›æ»šäº‹åŠ¡savepoint  ä¿å­˜ç‚¹rollback to å›æ»šåˆ°</code></pre><blockquote><p>æ³¨æ„ï¼šdeleteæ”¯æŒäº‹åŠ¡å›æ»šï¼Œtruncateä¸æ”¯æŒ</p></blockquote><p><strong>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</strong></p><p>äº‹åŠ¡å¹¶å‘é—®é¢˜å¦‚ä½•å‘ç”Ÿï¼Ÿ</p><pre><code>å½“å¤šä¸ªäº‹åŠ¡åŒæ—¶æ“ä½œåŒä¸€ä¸ªæ•°æ®åº“çš„ç›¸åŒæ•°æ®æ—¶</code></pre><p>äº‹åŠ¡çš„å¹¶å‘é—®é¢˜æœ‰å“ªäº›ï¼Ÿ</p><pre><code>è„è¯»ï¼št1,t2ï¼Œt1è¯»å–åˆ°t2æ’å…¥æˆ–æ›´æ–°ä½†æ²¡æœ‰æäº¤çš„æ•°æ®ä¸å¯é‡å¤è¯»ï¼št1,t2ï¼Œt1è¯»å–äº†ä¸€ä¸ªå­—æ®µï¼Œç„¶åt2æ›´æ–°äº†è¯¥å­—æ®µå¹¶æäº¤ï¼Œt1å†è¯»è¯¥å­—æ®µï¼Œå€¼ä¸ç›¸åŒå¹»è¯»ï¼št1,t2ï¼Œt1ä»è¡¨ä¸­è¯»å–åˆ°ä¸€ä¸ªå­—æ®µï¼Œt2åœ¨è¯¥è¡¨æ’å…¥äº†æ–°çš„è¡Œå¹¶æäº¤ï¼Œä¹‹åï¼Œt1å†æ“ä½œåŒä¸€å¼ è¡¨ï¼Œå¤šäº†ä¸€è¡Œ</code></pre><p>å¦‚ä½•é¿å…äº‹åŠ¡çš„å¹¶å‘é—®é¢˜ï¼Ÿ</p><pre><code>é€šè¿‡è®¾ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«1ã€READ UNCOMMITTEDï¼ˆè¯»æœªæäº¤ï¼‰2ã€READ COMMITTEDï¼ˆè¯»å·²æäº¤ï¼‰ å¯ä»¥é¿å…è„è¯»ï¼ˆoracleé»˜è®¤éš”ç¦»çº§åˆ«ï¼‰3ã€REPEATABLE READï¼ˆå¯é‡å¤è¯»ï¼‰ å¯ä»¥é¿å…è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œä¸€éƒ¨åˆ†å¹»è¯»ï¼ˆmysqlé»˜è®¤éš”ç¦»çº§åˆ«ï¼‰4ã€SERIALIZABLEï¼ˆä¸²è¡ŒåŒ–ï¼‰ å¯ä»¥é¿å…è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ã€‚ä½†æ€§èƒ½ä½ä¸‹ï¼ˆé˜»å¡æ“ä½œï¼‰</code></pre><p>è®¾ç½®éš”ç¦»çº§åˆ«ï¼š</p><pre><code>set session|global  transaction isolation level éš”ç¦»çº§åˆ«å;</code></pre><p>æŸ¥çœ‹éš”ç¦»çº§åˆ«ï¼š</p><pre><code>select @@tx_isolation;</code></pre><hr><h2 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h2><p>å«ä¹‰ï¼šç†è§£æˆä¸€å¼ è™šæ‹Ÿçš„è¡¨ï¼Œå°±æ˜¯å’Œæ–¹æ³•ä¸€æ ·ï¼Œå°†ä¸€äº›æŸ¥è¯¢è¯­å¥å°è£…è¿›è§†å›¾å½“ä¸­</p><p><strong>è§†å›¾å’Œè¡¨çš„åŒºåˆ«ï¼š</strong></p><pre><code>    ä½¿ç”¨æ–¹å¼    å ç”¨ç‰©ç†ç©ºé—´                    å¢åˆ æ”¹æŸ¥è§†å›¾    å®Œå…¨ç›¸åŒ    ä¸å ç”¨ï¼Œä»…ä»…ä¿å­˜çš„æ˜¯sqlé€»è¾‘        å¯ä»¥ï¼Œä¸€èˆ¬ä¸èƒ½å¢åˆ æ”¹è¡¨    å®Œå…¨ç›¸åŒ    å ç”¨ï¼Œä¿å­˜çš„æ˜¯æ•°æ®                å¯ä»¥</code></pre><p><strong>è§†å›¾çš„å¥½å¤„ï¼š</strong></p><pre><code>1ã€sqlè¯­å¥æé«˜é‡ç”¨æ€§ï¼Œæ•ˆç‡é«˜2ã€å’Œè¡¨å®ç°äº†åˆ†ç¦»ï¼Œæé«˜äº†å®‰å…¨æ€§</code></pre><p><strong>è§†å›¾çš„åˆ›å»º</strong></p><pre><code>è¯­æ³•ï¼šCREATE or replace VIEW  è§†å›¾å #or replace #æ— åˆ™åˆ›å»ºï¼Œæœ‰åˆ™ä¿®æ”¹ASæŸ¥è¯¢è¯­å¥;ä¿®æ”¹è¯­æ³•2ï¼šalter view è§†å›¾åasæŸ¥è¯¢è¯­å¥;</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šæŸ¥è¯¢å§“åä¸­åŒ…å«aå­—ç¬¦çš„å‘˜å·¥åã€éƒ¨é—¨åã€å·¥ç§ä¿¡æ¯</span><span class="token keyword">create</span> <span class="token keyword">view</span> v1 <span class="token keyword">as</span><span class="token keyword">select</span> last_name<span class="token punctuation">,</span>department_name<span class="token punctuation">,</span>job_title<span class="token keyword">from</span> employees <span class="token number">e</span><span class="token keyword">join</span> departments <span class="token number">d</span> <span class="token keyword">on</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id<span class="token keyword">join</span> job j <span class="token keyword">on</span> j<span class="token punctuation">.</span>job_id <span class="token operator">=</span> <span class="token number">e</span><span class="token punctuation">.</span>job_id<span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> v1 <span class="token keyword">where</span> last_name <span class="token operator">like</span> <span class="token string">'%a%'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#æ¡ˆä¾‹2ï¼šæŸ¥è¯¢å¹³å‡å·¥èµ„æœ€ä½çš„éƒ¨é—¨ä¿¡æ¯</span><span class="token comment" spellcheck="true">#åˆ›å»ºæ¯ä¸ªéƒ¨é—¨å¹³å‡å·¥èµ„çš„è§†å›¾</span><span class="token keyword">create</span> <span class="token keyword">view</span> v1<span class="token keyword">as</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>department_id<span class="token keyword">from</span> employees <span class="token number">e</span><span class="token keyword">group</span> <span class="token keyword">by</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id<span class="token comment" spellcheck="true">#åˆ›å»ºå¹³å‡å·¥èµ„æœ€ä½çš„è§†å›¾</span><span class="token keyword">create</span> <span class="token keyword">view</span> v2 <span class="token keyword">as</span><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> v1<span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">asc</span><span class="token keyword">limit</span> <span class="token number">1</span><span class="token comment" spellcheck="true">#æŸ¥è¯¢å¹³å‡å·¥èµ„æœ€ä½çš„éƒ¨é—¨ä¿¡æ¯</span><span class="token keyword">select</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>v2<span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token keyword">from</span> v2 <span class="token keyword">inner</span> <span class="token keyword">join</span> departments <span class="token number">d</span><span class="token keyword">on</span> v2<span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id</code></pre><p><strong>è§†å›¾çš„æ“ä½œ</strong></p><pre class=" language-sql"><code class="language-sql">ä¿®æ”¹    <span class="token comment" spellcheck="true">#æ–¹å¼1è¯­æ³•</span>    <span class="token keyword">create</span> <span class="token operator">or</span> replace <span class="token keyword">view</span> è§†å›¾å <span class="token comment" spellcheck="true">#or replaceï¼šæœ‰åˆ™ä¿®æ”¹ï¼Œæ— åˆ™åˆ›å»º</span>    <span class="token keyword">as</span>    æŸ¥è¯¢è¯­å¥    <span class="token comment" spellcheck="true">#æ–¹å¼2è¯­æ³•</span>    <span class="token keyword">alter</span> <span class="token keyword">view</span> è§†å›¾å    <span class="token keyword">as</span>    æŸ¥è¯¢è¯­å¥åˆ é™¤    <span class="token keyword">drop</span> <span class="token keyword">view</span> è§†å›¾åï¼Œè§†å›¾å<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>æŸ¥çœ‹è§†å›¾    <span class="token keyword">desc</span> è§†å›¾å</code></pre><p><strong>è§†å›¾æ•°æ®çš„å¢åˆ æ”¹æŸ¥</strong></p><p>ä¹Ÿä¼šæ›´æ–°è¡¨ä¸­çš„æ•°æ®</p><pre class=" language-sql"><code class="language-sql"><span class="token number">1</span>ã€æŸ¥çœ‹è§†å›¾çš„æ•°æ® â˜…<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_v4<span class="token punctuation">;</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_v1 <span class="token keyword">WHERE</span> last_name<span class="token operator">=</span><span class="token string">'Partners'</span><span class="token punctuation">;</span><span class="token number">2</span>ã€æ’å…¥è§†å›¾çš„æ•°æ®<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_v4<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span>department_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'è™šç«¹'</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token number">3</span>ã€ä¿®æ”¹è§†å›¾çš„æ•°æ®<span class="token keyword">UPDATE</span> my_v4 <span class="token keyword">SET</span> last_name <span class="token operator">=</span><span class="token string">'æ¢¦å§‘'</span> <span class="token keyword">WHERE</span> last_name<span class="token operator">=</span><span class="token string">'è™šç«¹'</span><span class="token punctuation">;</span><span class="token number">4</span>ã€åˆ é™¤è§†å›¾çš„æ•°æ®<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> my_v4<span class="token punctuation">;</span></code></pre><p><strong>æŸäº›è§†å›¾ä¸èƒ½æ•°æ®ä¿®æ”¹</strong></p><pre class=" language-sql"><code class="language-sql">åŒ…å«ä»¥ä¸‹å…³é”®å­—çš„sqlè¯­å¥ï¼šåˆ†ç»„å‡½æ•°ã€<span class="token keyword">distinct</span>ã€<span class="token keyword">group</span>  <span class="token keyword">by</span>ã€<span class="token keyword">having</span>ã€<span class="token keyword">union</span>æˆ–è€…<span class="token keyword">union</span> <span class="token keyword">all</span>å¸¸é‡è§†å›¾<span class="token keyword">Select</span>ä¸­åŒ…å«å­æŸ¥è¯¢<span class="token keyword">join</span><span class="token keyword">from</span>ä¸€ä¸ªä¸èƒ½æ›´æ–°çš„è§†å›¾<span class="token keyword">where</span>å­å¥çš„å­æŸ¥è¯¢å¼•ç”¨äº†<span class="token keyword">from</span>å­å¥ä¸­çš„è¡¨</code></pre><hr><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><p><strong>åˆ†ç±»</strong></p><pre><code>ç³»ç»Ÿå˜é‡ï¼š    å…¨å±€å˜é‡ï¼ˆç³»ç»Ÿæä¾›ï¼Œä¸æ˜¯ç”¨æˆ·å®šä¹‰ï¼ŒæœåŠ¡å™¨å±‚é¢ï¼‰    ä¼šè¯å˜é‡    è‡ªå®šä¹‰å˜é‡ï¼š    ç”¨æˆ·å˜é‡    å±€éƒ¨å˜é‡</code></pre><p><strong>è¯­æ³•</strong></p><p>ç³»ç»Ÿå˜é‡</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#ç³»ç»Ÿå˜é‡è¯­æ³•</span><span class="token comment" spellcheck="true">#æ³¨æ„ï¼šå¦‚æœæ˜¯å…¨å±€çº§åˆ«ï¼Œéœ€è¦åŠ globalï¼Œå¦‚æœæ˜¯ä¼šè¯çº§åˆ«ï¼Œåˆ™éœ€è¦åŠ sessionï¼Œå¦‚æœä¸å†™ï¼Œåˆ™é»˜è®¤session</span><span class="token comment" spellcheck="true">#ä½œç”¨åŸŸï¼šå…¨å±€æ€§çš„ï¼Œå¯ä»¥è·¨é“¾æ¥æœ‰æ•ˆï¼Œä½†æ˜¯é‡å¯æœåŠ¡å™¨åä¼šåˆå§‹åŒ–</span><span class="token number">1</span><span class="token punctuation">.</span>æŸ¥çœ‹æ‰€æœ‰ç³»ç»Ÿå˜é‡    <span class="token keyword">show</span> <span class="token keyword">global</span><span class="token operator">|</span>ã€<span class="token keyword">session</span>ã€‘ variables<span class="token number">2</span><span class="token punctuation">.</span>æŸ¥çœ‹æ»¡è¶³æ¡ä»¶çš„éƒ¨åˆ†ç³»ç»Ÿå˜é‡    <span class="token keyword">show</span> <span class="token keyword">global</span><span class="token operator">|</span>ã€<span class="token keyword">session</span>ã€‘ variables <span class="token operator">like</span> <span class="token string">'%char%'</span><span class="token number">3</span><span class="token punctuation">.</span>æŸ¥çœ‹æŒ‡å®šçš„æŸä¸ªç³»ç»Ÿå˜é‡çš„å€¼    <span class="token keyword">select</span> @<span class="token variable">@global</span><span class="token operator">|</span>ã€<span class="token keyword">session</span>ã€‘<span class="token punctuation">.</span>ç³»ç»Ÿå˜é‡å<span class="token number">4</span><span class="token punctuation">.</span>ä¸ºæŸä¸ªç³»ç»Ÿå˜é‡èµ‹å€¼    æ–¹å¼ä¸€:    <span class="token keyword">set</span> <span class="token keyword">global</span><span class="token operator">|</span>ã€<span class="token keyword">session</span>ã€‘ ç³»ç»Ÿå˜é‡å <span class="token operator">=</span> å€¼    æ–¹å¼äºŒï¼š    <span class="token keyword">set</span> @<span class="token variable">@global</span><span class="token operator">|</span>ã€<span class="token keyword">session</span>ã€‘<span class="token punctuation">.</span>ç³»ç»Ÿå˜é‡å <span class="token operator">=</span> å€¼</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#ä¼šè¯å˜é‡</span><span class="token comment" spellcheck="true">#ä½œç”¨åŸŸï¼šä»…ä»…é’ˆå¯¹å½“å‰ä¼šè¯æœ‰æ•ˆ</span></code></pre><p>è‡ªå®šä¹‰å˜é‡</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#å˜é‡æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ï¼Œä¸æ˜¯ç”±ç³»ç»Ÿçš„</span><span class="token comment" spellcheck="true">#ä½¿ç”¨æ­¥éª¤ï¼š</span>    å£°æ˜        <span class="token keyword">set</span> @ç”¨æˆ·å˜é‡å<span class="token operator">=</span>å€¼        <span class="token keyword">set</span> @ç”¨æˆ·å˜é‡åï¼š<span class="token operator">=</span>å€¼        <span class="token keyword">select</span> @ç”¨æˆ·å˜é‡åï¼š<span class="token operator">=</span>å€¼    èµ‹å€¼        æ–¹å¼ä¸€ï¼šé€šè¿‡<span class="token keyword">set</span>æˆ–<span class="token keyword">Select</span>            <span class="token keyword">set</span> @ç”¨æˆ·å˜é‡å<span class="token operator">=</span>å€¼            <span class="token keyword">set</span> @ç”¨æˆ·å˜é‡åï¼š<span class="token operator">=</span>å€¼            <span class="token keyword">select</span> @ç”¨æˆ·å˜é‡åï¼š<span class="token operator">=</span>å€¼         æ–¹å¼äºŒï¼šé€šè¿‡<span class="token keyword">Select</span> <span class="token keyword">into</span>             <span class="token keyword">select</span> å­—æ®µ <span class="token keyword">into</span> @å˜é‡å             <span class="token keyword">from</span> è¡¨    ä½¿ç”¨ï¼ˆæŸ¥çœ‹ã€æ¯”è¾ƒã€è¿ç®—ç­‰ï¼‰        <span class="token keyword">select</span> @å˜é‡å<span class="token comment" spellcheck="true">#1.ç”¨æˆ·å˜é‡</span>    ä½œç”¨åŸŸï¼šé’ˆå¯¹äºå½“å‰ä¼šè¯ï¼ˆè¿æ¥ï¼‰æœ‰æ•ˆ </code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹</span><span class="token comment" spellcheck="true">#å£°æ˜å¹¶åˆå§‹åŒ–</span><span class="token keyword">set</span> <span class="token variable">@name</span> <span class="token operator">=</span> <span class="token string">'john'</span><span class="token punctuation">;</span><span class="token keyword">set</span> <span class="token variable">@name</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token keyword">set</span> <span class="token variable">@count</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#èµ‹å€¼</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">into</span> <span class="token variable">@count</span><span class="token keyword">from</span> student<span class="token comment" spellcheck="true">#æŸ¥çœ‹</span><span class="token keyword">select</span> <span class="token variable">@count</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#å±€éƒ¨å˜é‡</span>ä½œç”¨åŸŸï¼šä»…ä»…åœ¨å®šä¹‰å®ƒçš„<span class="token keyword">begin</span> <span class="token keyword">end</span>ä¸­æœ‰æ•ˆï¼Œä¸”å¿…é¡»æ˜¯ç¬¬ä¸€å¥è¯æ­¥éª¤ï¼š    <span class="token number">1</span><span class="token punctuation">.</span>å£°æ˜        <span class="token keyword">declare</span> å˜é‡å ç±»å‹ï¼›        <span class="token keyword">declare</span> å˜é‡å ç±»å‹ <span class="token keyword">default</span> å€¼ï¼›    <span class="token number">2</span><span class="token punctuation">.</span>èµ‹å€¼        æ–¹å¼ä¸€ï¼šé€šè¿‡<span class="token keyword">set</span>æˆ–<span class="token keyword">select</span>            <span class="token keyword">set</span> å±€éƒ¨å˜é‡å <span class="token operator">=</span> å€¼            <span class="token keyword">set</span> å±€éƒ¨å˜é‡å ï¼š<span class="token operator">=</span>å€¼            <span class="token keyword">select</span> @å±€éƒ¨å˜é‡åï¼š<span class="token operator">=</span>å€¼        æ–¹å¼äºŒ:é€šè¿‡<span class="token keyword">select</span> <span class="token keyword">into</span>            <span class="token keyword">select</span> å­—æ®µ <span class="token keyword">into</span> å±€éƒ¨å˜é‡å            <span class="token keyword">from</span> è¡¨    <span class="token number">3</span><span class="token punctuation">.</span>ä½¿ç”¨        <span class="token keyword">select</span> å±€éƒ¨å˜é‡å</code></pre><p>å¯¹æ¯”ç”¨æˆ·å˜é‡å’Œå±€éƒ¨å˜é‡ï¼š</p><pre><code>1.ä½œç”¨åŸŸï¼š    ç”¨æˆ·å˜é‡æ˜¯å½“å‰ä¼šè¯ï¼Œå±€éƒ¨å˜é‡æ˜¯begin endä¸­2.å®šä¹‰å’Œä½¿ç”¨çš„ä½ç½®    ä¼šè¯ä¸­çš„ä»»ä½•åœ°æ–¹ï¼Œåªèƒ½åœ¨begin endä¸­ï¼Œä¸”ä¸ºç¬¬ä¸€å¥è¯3.è¯­æ³•ï¼šç”¨æˆ·å˜é‡å¿…é¡»åŠ ä¸Š@ç¬¦å·ï¼Œå±€éƒ¨å˜é‡ä¸€èˆ¬ä¸åŠ @ç¬¦å·ï¼Œéœ€è¦é™å®šç±»å‹</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹,æ³¨æ„éœ€è¦åœ¨begin endä¸­ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œè¿™é‡Œåªæ˜¯æ¼”ç¤º</span><span class="token keyword">declare</span> m <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">declare</span> n <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token keyword">declare</span> sum <span class="token keyword">int</span><span class="token punctuation">;</span><span class="token keyword">set</span> sum <span class="token operator">=</span> m<span class="token operator">+</span>n<span class="token punctuation">;</span><span class="token keyword">select</span> sum<span class="token punctuation">;</span></code></pre><hr><p>##å­˜å‚¨è¿‡ç¨‹</p><p>å«ä¹‰ï¼šä¸€ç»„ç»è¿‡<strong>é¢„å…ˆç¼–è¯‘</strong>çš„sqlè¯­å¥çš„é›†åˆ<br>å¥½å¤„ï¼š</p><pre><code>1ã€æé«˜äº†sqlè¯­å¥çš„é‡ç”¨æ€§ï¼Œå‡å°‘äº†å¼€å‘ç¨‹åºå‘˜çš„å‹åŠ›2ã€æé«˜äº†æ•ˆç‡3ã€å‡å°‘äº†ç¼–è¯‘æ¬¡æ•°ï¼Œå¹¶å‡å°‘äº†ä¸æ•°æ®åº“çš„è¿æ¥æ¬¡æ•°</code></pre><p>å‚æ•°åˆ†ç±»ï¼š</p><pre><code>1ã€æ— è¿”å›æ— å‚2ã€ä»…ä»…å¸¦inç±»å‹ï¼Œæ— è¿”å›æœ‰å‚3ã€ä»…ä»…å¸¦outç±»å‹ï¼Œæœ‰è¿”å›æ— å‚ 4ã€æ—¢å¸¦inåˆå¸¦outï¼Œæœ‰è¿”å›æœ‰å‚5ã€å¸¦inoutï¼Œæœ‰è¿”å›æœ‰å‚æ³¨æ„ï¼šinã€outã€inoutéƒ½å¯ä»¥åœ¨ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ä¸­å¸¦å¤šä¸ª</code></pre><p><strong>åˆ›å»ºå­˜å‚¨è¿‡ç¨‹</strong></p><p>è¯­æ³•ï¼š</p><pre><code>create procedure å­˜å‚¨è¿‡ç¨‹å(in|out|inout å‚æ•°å  å‚æ•°ç±»å‹,...)begin    å­˜å‚¨è¿‡ç¨‹ä½“end</code></pre><p>ç±»ä¼¼äºæ–¹æ³•</p><p>æ³¨æ„</p><pre><code>1ã€éœ€è¦è®¾ç½®æ–°çš„ç»“æŸæ ‡è®°(åœ¨doså‘½ä»¤è¡Œä¸­æ‰æœ‰æ•ˆï¼Œå¯è§†åŒ–sqlyogæ— æ•ˆ)delimiter æ–°çš„ç»“æŸæ ‡è®°ç¤ºä¾‹ï¼šdelimiter $CREATE PROCEDURE å­˜å‚¨è¿‡ç¨‹å(IN|OUT|INOUT å‚æ•°å  å‚æ•°ç±»å‹,...)BEGIN    sqlè¯­å¥1;    sqlè¯­å¥2;END $2ã€å­˜å‚¨è¿‡ç¨‹ä½“ä¸­å¯ä»¥æœ‰å¤šæ¡sqlè¯­å¥ï¼Œå¦‚æœä»…ä»…ä¸€æ¡sqlè¯­å¥ï¼Œåˆ™å¯ä»¥çœç•¥begin end3ã€å‚æ•°å‰é¢çš„ç¬¦å·çš„æ„æ€in:è¯¥å‚æ•°åªèƒ½ä½œä¸ºè¾“å…¥ ï¼ˆè¯¥å‚æ•°ä¸èƒ½åšè¿”å›å€¼ï¼‰outï¼šè¯¥å‚æ•°åªèƒ½ä½œä¸ºè¾“å‡ºï¼ˆè¯¥å‚æ•°åªèƒ½åšè¿”å›å€¼ï¼‰inoutï¼šæ—¢èƒ½åšè¾“å…¥åˆèƒ½åšè¾“å‡º</code></pre><p><strong>è°ƒç”¨è¯­æ³•</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">call</span> å­˜å‚¨è¿‡ç¨‹å<span class="token punctuation">(</span>å®å‚åˆ—è¡¨<span class="token punctuation">)</span> ç»“æŸæ ‡è®°</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹(æœ‰å‚æ— è¿”å›)ï¼šåˆ›å»ºå­˜å‚¨è¿‡ç¨‹å®ç°ï¼Œç”¨æˆ·æ˜¯å¦ç™»å½•æˆåŠŸ</span><span class="token keyword">create</span> <span class="token keyword">procedure</span> myp1<span class="token punctuation">(</span><span class="token operator">in</span> username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">in</span> password <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">begin</span>    <span class="token keyword">declare</span> result <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#å£°æ˜å˜é‡å¹¶åˆå§‹åŒ–</span>    <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">into</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#èµ‹å€¼</span>    <span class="token keyword">from</span> admin    <span class="token keyword">where</span> admin<span class="token punctuation">.</span>username <span class="token operator">=</span> username    <span class="token operator">and</span> admin<span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>        <span class="token keyword">select</span> <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'æˆåŠŸ'</span><span class="token punctuation">,</span><span class="token string">'å¤±è´¥'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#ä½¿ç”¨</span><span class="token keyword">END</span> $<span class="token comment" spellcheck="true">#è°ƒç”¨å­˜å‚¨è¿‡ç¨‹</span><span class="token keyword">call</span> myp1<span class="token punctuation">(</span><span class="token string">'å¼ é£'</span><span class="token punctuation">,</span><span class="token string">'8888'</span><span class="token punctuation">)</span>$</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹ï¼ˆæœ‰å‚ç”±è¿”å›ï¼‰ï¼šæ ¹æ®å¥³ç¥åï¼Œè¿”å›å¯¹åº”ç”·ç¥åå’Œé­…åŠ›å€¼</span><span class="token keyword">create</span> <span class="token keyword">procedure</span> myp2<span class="token punctuation">(</span><span class="token operator">in</span> beautyName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">out</span> boyName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">out</span> userCP <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token keyword">begin</span>    <span class="token keyword">select</span> bo<span class="token punctuation">.</span>boyName<span class="token punctuation">,</span>bo<span class="token punctuation">.</span>userCP <span class="token keyword">into</span> boyName<span class="token punctuation">,</span>userCP <span class="token comment" spellcheck="true"># èµ‹å€¼</span>    <span class="token keyword">from</span> boys bo    <span class="token keyword">inner</span> <span class="token keyword">join</span> beauty <span class="token number">b</span> <span class="token keyword">on</span> bo<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">b</span><span class="token punctuation">.</span>boyfriend_id    <span class="token keyword">where</span> <span class="token number">b</span><span class="token punctuation">.</span>name <span class="token operator">=</span> beautyName<span class="token punctuation">;</span> <span class="token keyword">end</span>$<span class="token comment" spellcheck="true">#è°ƒç”¨å­˜å‚¨è¿‡ç¨‹</span><span class="token keyword">call</span> myp2<span class="token punctuation">(</span><span class="token string">'å°æ˜­'</span><span class="token punctuation">,</span><span class="token variable">@bName</span><span class="token punctuation">,</span><span class="token variable">@userCP</span><span class="token punctuation">)</span>$<span class="token keyword">select</span> <span class="token variable">@bName</span><span class="token punctuation">,</span><span class="token variable">@userCP$</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹ï¼ˆinputï¼‰ï¼šä¼ å…¥a,bä¸¤ä¸ªå€¼ï¼Œæœ€ç»ˆa,béƒ½ç¿»å€å¹¶è¿”å›</span><span class="token keyword">create</span> <span class="token keyword">procedure</span> myp3ï¼ˆinput <span class="token number">a</span> <span class="token keyword">int</span><span class="token punctuation">,</span>input <span class="token number">b</span> <span class="token keyword">int</span>ï¼‰<span class="token keyword">begin</span>    <span class="token keyword">set</span> <span class="token number">a</span> <span class="token operator">=</span> <span class="token number">a</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">set</span> <span class="token number">b</span> <span class="token operator">=</span> <span class="token number">b</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">end</span>$<span class="token comment" spellcheck="true">#è°ƒç”¨å­˜å‚¨è¿‡ç¨‹(æ³¨æ„ï¼šinputéœ€è¦ä¼ å…¥ä¸¤ä¸ªå¸¦å‚çš„å˜é‡ï¼Œç”¨äºä¼ å…¥å’Œæ¥æ”¶å€¼)</span><span class="token keyword">set</span> <span class="token variable">@m</span> <span class="token operator">=</span> <span class="token number">10</span>$<span class="token keyword">set</span> <span class="token variable">@n</span> <span class="token operator">=</span> <span class="token number">20</span>$<span class="token keyword">call</span> myp3<span class="token punctuation">(</span><span class="token variable">@m</span><span class="token punctuation">,</span><span class="token variable">@n</span><span class="token punctuation">)</span>$<span class="token keyword">select</span> <span class="token variable">@m</span><span class="token punctuation">,</span><span class="token variable">@n$</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#åˆ›å»ºå­˜å‚¨è¿‡ç¨‹å®ç°ä¼ å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œæ’å…¥åˆ°adminè¡¨ä¸­</span><span class="token keyword">create</span> <span class="token keyword">procedure</span> myp4<span class="token punctuation">(</span><span class="token operator">in</span> username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">in</span> password <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">begin</span>    <span class="token keyword">insert</span> <span class="token keyword">into</span> admin<span class="token punctuation">(</span>admin<span class="token punctuation">.</span>username<span class="token punctuation">,</span>admin<span class="token punctuation">.</span>password<span class="token punctuation">)</span>    <span class="token keyword">values</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token keyword">end</span>$<span class="token comment" spellcheck="true">#åˆ›å»ºå­˜å‚¨è¿‡ç¨‹æˆ–å‡½æ•°å®ç°ä¼ å…¥å¥³ç¥ç¼–å·ï¼Œè¿”å›å¥³ç¥åç§°å’Œå¥³ç¥ç”µè¯</span><span class="token keyword">create</span> <span class="token keyword">procedure</span> myp5<span class="token punctuation">(</span><span class="token operator">in</span> id <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">out</span> name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">out</span> phone <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">begin</span>    <span class="token keyword">select</span> <span class="token number">b</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token number">b</span><span class="token punctuation">.</span>phone <span class="token keyword">into</span> name<span class="token punctuation">,</span>phone    <span class="token keyword">from</span> beauty <span class="token number">b</span>    <span class="token keyword">where</span> <span class="token number">b</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token keyword">end</span>$<span class="token comment" spellcheck="true">#åˆ›å»ºå­˜å‚¨è¿‡ç¨‹æˆ–å‡½æ•°å®ç°ä¼ å…¥ä¸¤ä¸ªå¥³ç¥ç”Ÿæ—¥ï¼Œè¿”å›å¤§å°</span><span class="token comment" spellcheck="true">#åˆ›å»ºå­˜å‚¨è¿‡ç¨‹å®ç°ä¼ å…¥ä¸€ä¸ªæ—¥æœŸï¼Œæ ¼å¼åŒ–æˆxxå¹´xxæœˆxxæ—¥å¹¶è¿”å›</span><span class="token keyword">create</span> <span class="token keyword">procedure</span> myp6<span class="token punctuation">(</span><span class="token operator">in</span> mydate <span class="token keyword">datetime</span> <span class="token punctuation">,</span><span class="token keyword">out</span> strdate <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">begin</span>    <span class="token keyword">select</span> date_format<span class="token punctuation">(</span>mydate<span class="token punctuation">,</span><span class="token string">'%yå¹´%mæœˆ%dæ—¥'</span><span class="token punctuation">)</span> <span class="token keyword">into</span> strdate<span class="token punctuation">;</span><span class="token keyword">end</span>$<span class="token keyword">call</span><span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token variable">@str</span><span class="token punctuation">)</span>$<span class="token keyword">select</span> <span class="token variable">@str</span> $</code></pre><p><strong>åˆ é™¤å­˜å‚¨è¿‡ç¨‹</strong></p><p>æ³¨æ„ï¼šä¸èƒ½åŒæ—¶åˆ é™¤å¤šä¸ªå­˜å‚¨è¿‡ç¨‹</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">procedure</span> å­˜å‚¨è¿‡ç¨‹å </code></pre><p><strong>æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹ä¿¡æ¯</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">procedure</span> å­˜å‚¨è¿‡ç¨‹å</code></pre><hr><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p><strong>å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹çš„åŒºåˆ«</strong></p><pre><code>å­˜å‚¨è¿‡ç¨‹ï¼š    å…³é”®å­— procedure    å¯ä»¥æœ‰0ä¸ªè¿”å›ï¼Œä¹Ÿå¯ä»¥ç”±å¤šä¸ªè¿”å›ï¼Œé€‚åˆæ‰¹é‡æ’å…¥ï¼Œæ‰¹é‡æ›´æ–°ï¼ˆé€‚åˆå¢åˆ æ”¹ï¼‰å‡½æ•°ï¼š    å…³é”®å­— function    æœ‰ä¸”ä»…æœ‰1ä¸ªè¿”å›ï¼Œé€‚åˆåšå¤„ç†æ•°æ®åè¿”å›ä¸€ä¸ªç»“æœï¼ˆé€‚åˆæŸ¥è¯¢ï¼‰</code></pre><p>###åˆ›å»ºå‡½æ•°</p><p>å­¦è¿‡çš„å‡½æ•°ï¼šLENGTHã€SUBSTRã€CONCATç­‰<br>è¯­æ³•ï¼š</p><pre><code>CREATE FUNCTION å‡½æ•°å(å‚æ•°å å‚æ•°ç±»å‹,...) RETURNS è¿”å›ç±»å‹BEGIN    å‡½æ•°ä½“END</code></pre><p>æ³¨æ„ï¼š</p><pre><code>1.å‡½æ•°ä½“ï¼šå¿…é¡»è¦ç”±returnè¯­å¥2.å‡½æ•°ä½“å°±ä¸€å¥è¯ï¼Œå¯ä»¥çœç•¥begin end3.ä½¿ç”¨delimiterè¯­å¥è®¾ç½®ç»“æŸæ ‡è®°</code></pre><p>###è°ƒç”¨å‡½æ•°</p><pre><code>SELECT å‡½æ•°åï¼ˆå®å‚åˆ—è¡¨ï¼‰</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹ï¼ˆæ— å‚æœ‰è¿”å›ï¼‰ï¼šè¿”å›å…¬å¸çš„å‘˜å·¥ä¸ªæ•°</span><span class="token keyword">create</span> <span class="token keyword">function</span> myf1<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token keyword">int</span><span class="token keyword">begin</span>    <span class="token keyword">declare</span> result <span class="token keyword">default</span> <span class="token number">0</span> <span class="token comment" spellcheck="true">#å£°æ˜å˜é‡</span>    <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">into</span> result <span class="token comment" spellcheck="true">#èµ‹å€¼</span>    <span class="token keyword">from</span> employees<span class="token punctuation">;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">#è¿”å›</span><span class="token keyword">end</span>$<span class="token comment" spellcheck="true">#è°ƒç”¨å‡½æ•°</span><span class="token keyword">select</span> myf1<span class="token punctuation">(</span><span class="token punctuation">)</span> $<span class="token comment" spellcheck="true">#æ¡ˆä¾‹ï¼ˆæœ‰å‚æœ‰è¿”å›ï¼‰ï¼šæ ¹æ®éƒ¨é—¨åï¼Œè¿”å›è¯¥éƒ¨é—¨çš„å¹³å‡å·¥èµ„</span><span class="token keyword">create</span> <span class="token keyword">function</span> myf2<span class="token punctuation">(</span>dept_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token keyword">double</span><span class="token keyword">begin</span>    <span class="token keyword">set</span> <span class="token variable">@result</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#å£°æ˜å˜é‡</span>    <span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">into</span> <span class="token variable">@result</span><span class="token comment" spellcheck="true">#èµ‹å€¼</span>    <span class="token keyword">from</span> employees <span class="token number">e</span>    <span class="token keyword">inner</span> <span class="token keyword">join</span> departments <span class="token number">d</span>    <span class="token keyword">on</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id    <span class="token keyword">where</span> <span class="token number">d</span><span class="token punctuation">.</span>department_name <span class="token operator">=</span> dept_name<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#æ ¹æ®æ¡ä»¶ç­›é€‰</span>    <span class="token keyword">return</span> <span class="token variable">@result</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#è¿”å›</span><span class="token keyword">end</span>$<span class="token comment" spellcheck="true">#è°ƒç”¨å‡½æ•°</span><span class="token keyword">select</span> myf2<span class="token punctuation">(</span><span class="token string">'IT'</span><span class="token punctuation">)</span>$</code></pre><p><strong>æŸ¥çœ‹å‡½æ•°</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">function</span> å‡½æ•°å</code></pre><p><strong>åˆ é™¤å‡½æ•°</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">function</span> å‡½æ•°å</code></pre><hr><h2 id="æµç¨‹æ§åˆ¶ç»“æ„"><a href="#æµç¨‹æ§åˆ¶ç»“æ„" class="headerlink" title="æµç¨‹æ§åˆ¶ç»“æ„"></a>æµç¨‹æ§åˆ¶ç»“æ„</h2><p><strong>åˆ†æ”¯</strong></p><p>ä¸€ã€ifå‡½æ•°<br>    è¯­æ³•ï¼šif(æ¡ä»¶ï¼Œå€¼1ï¼Œå€¼2)<br>    ç‰¹ç‚¹ï¼šå¯ä»¥ç”¨åœ¨ä»»ä½•ä½ç½®</p><p>äºŒã€caseè¯­å¥</p><p>è¯­æ³•ï¼š</p><pre><code>æƒ…å†µä¸€ï¼šç±»ä¼¼äºswitchcase è¡¨è¾¾å¼ when å€¼1 then å€¼when å€¼2 then å€¼...else å€¼end ã€caseã€‘ï¼ˆå¦‚æœæ˜¯æ”¾åœ¨begin endä¸­éœ€è¦åŠ ä¸Šcaseï¼Œå¦‚æœæ”¾åœ¨selectåé¢ä¸éœ€è¦ï¼‰æƒ…å†µäºŒï¼šç±»ä¼¼äºå¤šé‡ifcase when æ¡ä»¶1 then ç»“æœ1æˆ–è¯­å¥1(å¦‚æœæ˜¯è¯­å¥ï¼Œéœ€è¦åŠ åˆ†å·) when æ¡ä»¶2 then ç»“æœ2æˆ–è¯­å¥2(å¦‚æœæ˜¯è¯­å¥ï¼Œéœ€è¦åŠ åˆ†å·)...else ç»“æœnæˆ–è¯­å¥n(å¦‚æœæ˜¯è¯­å¥ï¼Œéœ€è¦åŠ åˆ†å·)end ã€caseã€‘ï¼ˆå¦‚æœæ˜¯æ”¾åœ¨begin endä¸­éœ€è¦åŠ ä¸Šcaseï¼Œå¦‚æœæ”¾åœ¨selectåé¢ä¸éœ€è¦ï¼‰</code></pre><p>ç‰¹ç‚¹ï¼š</p><ol><li>å¯ä»¥ä½œä¸ºè¡¨è¾¾å¼ï¼ŒåµŒå¥—åœ¨å…¶ä»–è¯­å¥ä¸­ä½¿ç”¨ï¼Œå¯ä»¥æ”¾åœ¨ä»»ä½•åœ°æ–¹</li><li>å¯ä»¥ä½œä¸ºç‹¬ç«‹çš„è¯­å¥å»ä½¿ç”¨ï¼Œåªèƒ½æ”¾åœ¨begin endä¸­</li><li>åœ¨begin endä¸­ï¼Œå¦‚æœæ²¡æœ‰elseï¼Œwhenéƒ½ä¸æ»¡è¶³ï¼Œè¿”å›null</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹ï¼šåˆ›å»ºå­˜å‚¨è¿‡ç¨‹ï¼Œä¼ å…¥æˆç»©ï¼Œæ˜¾ç¤ºç­‰çº§</span><span class="token keyword">create</span> <span class="token keyword">procedure</span> test<span class="token punctuation">(</span><span class="token operator">in</span> score <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token keyword">begin</span>     <span class="token keyword">case</span>    <span class="token keyword">when</span> score<span class="token operator">>=</span><span class="token number">90</span> <span class="token operator">and</span> socre <span class="token operator">&lt;=</span><span class="token number">100</span> <span class="token keyword">then</span> <span class="token keyword">select</span> <span class="token string">'A'</span><span class="token punctuation">;</span>    <span class="token keyword">when</span> score<span class="token operator">>=</span><span class="token number">80</span> <span class="token keyword">then</span> <span class="token keyword">select</span> <span class="token string">'B'</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> <span class="token keyword">select</span> <span class="token string">'D'</span><span class="token punctuation">;</span>    <span class="token keyword">end</span> <span class="token keyword">case</span><span class="token punctuation">;</span><span class="token keyword">end</span>$<span class="token comment" spellcheck="true">#è°ƒç”¨</span><span class="token keyword">call</span> test_case<span class="token punctuation">(</span><span class="token number">95</span><span class="token punctuation">)</span>$</code></pre><p>ä¸‰ã€if ç»“æ„ï¼ˆéifå‡½æ•°ï¼‰</p><p>è¯­æ³•ï¼š</p><pre><code>if æƒ…å†µ1 then è¯­å¥1;elseif æƒ…å†µ2 then è¯­å¥2;  #elseifä¸­é—´æ²¡æœ‰ç©ºæ ¼...else è¯­å¥n;end if;</code></pre><p>ç‰¹ç‚¹ï¼š<br>    åªèƒ½ç”¨åœ¨begin endä¸­ï¼</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹ï¼šä¼ å…¥æˆç»©ï¼Œæ˜¾ç¤ºç­‰çº§</span><span class="token keyword">create</span> <span class="token keyword">function</span> test<span class="token punctuation">(</span>score <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> char<span class="token keyword">begin</span>    <span class="token keyword">if</span> score<span class="token operator">>=</span><span class="token number">90</span> <span class="token operator">and</span> score <span class="token operator">&lt;=</span><span class="token number">100</span> <span class="token keyword">then</span> <span class="token keyword">return</span> <span class="token string">'A'</span>    elseif score<span class="token operator">>=</span><span class="token number">80</span> <span class="token keyword">then</span> <span class="token keyword">return</span> <span class="token string">'B'</span>    <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token string">'C'</span>    <span class="token keyword">end</span> <span class="token keyword">if</span><span class="token punctuation">;</span><span class="token keyword">end</span>$<span class="token comment" spellcheck="true">#è°ƒç”¨</span><span class="token keyword">select</span> test<span class="token punctuation">(</span><span class="token number">85</span><span class="token punctuation">)</span>$</code></pre><p>ä¸‰è€…æ¯”è¾ƒï¼š<br>            åº”ç”¨åœºåˆ<br>    ifå‡½æ•°        ç®€å•åŒåˆ†æ”¯<br>    caseç»“æ„    ç­‰å€¼åˆ¤æ–­ çš„å¤šåˆ†æ”¯<br>    ifç»“æ„        åŒºé—´åˆ¤æ–­ çš„å¤šåˆ†æ”¯</p><p><strong>å¾ªç¯</strong></p><p>åˆ†ç±»ï¼š</p><p>éƒ½éœ€è¦åœ¨begin endä¸­æ‰§è¡Œ</p><pre><code>while:å…ˆåˆ¤æ–­å†æ‰§è¡Œloopï¼šæ²¡æœ‰æ¡ä»¶çš„æ­»å¾ªç¯repeatï¼šå…ˆæ‰§è¡Œååˆ¤æ–­è¿™ä¸‰ç§å¾ªç¯éƒ½å¯ä»¥çœç•¥åç§°ï¼Œä½†å¦‚æœå¾ªç¯ä¸­æ·»åŠ äº†å¾ªç¯æ§åˆ¶è¯­å¥ï¼ˆleaveæˆ–iterateï¼‰åˆ™å¿…é¡»æ·»åŠ åç§°</code></pre><p>å¾ªç¯æ§åˆ¶ï¼š</p><pre><code>iterateç±»ä¼¼äº continue ï¼Œè·³å‡ºæœ¬æ¬¡å¾ªç¯ï¼Œè¯­æ³•ï¼š iterate æ ‡ç­¾åleaveç±»ä¼¼äº breakï¼Œè·³å‡ºæ‰€åœ¨å¾ªç¯ï¼Œè¯­æ³•ï¼š leave æ ‡ç­¾å</code></pre><p>è¯­æ³•ï¼š</p><pre><code>#whileè¯­å¥ã€æ ‡ç­¾ï¼šã€‘WHILE å¾ªç¯æ¡ä»¶  DO    å¾ªç¯ä½“END WHILE ã€æ ‡ç­¾ã€‘;#loopè¯­å¥ï¼ˆå¯ä»¥ç”¨æ¥æ¨¡æ‹Ÿæ­»å¾ªç¯ï¼Œå¯ä»¥ç”¨leaveè·³å‡ºå¾ªç¯ï¼‰ã€æ ‡ç­¾ï¼šã€‘loop    å¾ªç¯ä½“ï¼›end loop ã€æ ‡ç­¾ã€‘ï¼›#repeatè¯­å¥ï¼ˆç±»ä¼¼äºdo whileï¼‰ã€æ ‡ç­¾ï¼šã€‘ repeat    å¾ªç¯ä½“ï¼›until ç»“æŸå¾ªç¯çš„æ¡ä»¶ï¼›end repeat ã€æ ‡ç­¾ã€‘ï¼›</code></pre><p>ç‰¹ç‚¹ï¼š</p><pre><code>åªèƒ½æ”¾åœ¨BEGIN ENDé‡Œé¢å¦‚æœè¦æ­é…leaveè·³è½¬è¯­å¥ï¼Œéœ€è¦ä½¿ç”¨æ ‡ç­¾ï¼Œå¦åˆ™å¯ä»¥ä¸ç”¨æ ‡ç­¾leaveç±»ä¼¼äºjavaä¸­çš„breakè¯­å¥ï¼Œè·³å‡ºæ‰€åœ¨å¾ªç¯ï¼ï¼ï¼</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#æ¡ˆä¾‹1ï¼šæ‰¹é‡æ’å…¥ï¼Œæ ¹æ®æ¬¡æ•°æ’å…¥åˆ°adminè¡¨ä¸­å¤šæ¡æ•°æ®</span><span class="token keyword">create</span> <span class="token keyword">procedure</span> pro_while1<span class="token punctuation">(</span><span class="token operator">in</span> insertCount <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token keyword">begin</span>    <span class="token keyword">declare</span> i <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> i<span class="token operator">&lt;=</span>insertCount <span class="token keyword">do</span>        <span class="token keyword">insert</span> <span class="token keyword">into</span> admin<span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>concat<span class="token punctuation">(</span><span class="token string">'xiaoming'</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">set</span> i <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">end</span> <span class="token keyword">while</span><span class="token punctuation">;</span><span class="token keyword">end</span>$<span class="token comment" spellcheck="true">#è°ƒç”¨</span><span class="token keyword">call</span> pro_while1<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>$<span class="token comment" spellcheck="true">#æ¡ˆä¾‹2(åŠ å…¥leaveè¯­å¥)ï¼šæ‰¹é‡æ’å…¥ï¼Œæ ¹æ®æ¬¡æ•°æ’å…¥adminè¡¨ä¸­å¤šæ¡è®°å½•ï¼Œå¦‚æœæ¬¡æ•°>20åˆ™åœæ­¢</span><span class="token keyword">create</span> <span class="token keyword">procedure</span> pro_while2<span class="token punctuation">(</span><span class="token operator">in</span> insertCount <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token keyword">begin</span>    <span class="token keyword">declare</span> i <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token number">a</span>:<span class="token keyword">while</span> i<span class="token operator">&lt;=</span>insertCount <span class="token keyword">do</span>        <span class="token keyword">if</span> i<span class="token operator">></span><span class="token number">20</span> <span class="token keyword">then</span> leave <span class="token number">a</span><span class="token punctuation">;</span>        <span class="token keyword">end</span> <span class="token keyword">if</span><span class="token punctuation">;</span>        <span class="token keyword">insert</span> <span class="token keyword">into</span> admin<span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>concat<span class="token punctuation">(</span><span class="token string">'xiaoming'</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">set</span> i <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">end</span> <span class="token keyword">while</span> <span class="token number">a</span><span class="token punctuation">;</span><span class="token keyword">end</span>$<span class="token comment" spellcheck="true">#æ¡ˆä¾‹3ï¼ˆåŠ å…¥iterateè¯­å¥ï¼‰ï¼šæ‰¹é‡æ’å…¥ï¼Œæ ¹æ®æ¬¡æ•°æ’å…¥adminè¡¨ä¸­å¤šæ¡è®°å½•ï¼Œåªæ’å…¥å¶æ•°æ•°æ®</span><span class="token keyword">create</span> <span class="token keyword">procedure</span> pro_while3<span class="token punctuation">(</span><span class="token operator">in</span> insertCount <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token keyword">begin</span>    <span class="token keyword">declare</span> i <span class="token keyword">default</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token number">a</span>:<span class="token keyword">while</span> i<span class="token operator">&lt;=</span>insertCount <span class="token keyword">do</span>        <span class="token keyword">set</span> i <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> mod<span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token number">0</span> <span class="token keyword">then</span> iterate        <span class="token keyword">end</span> <span class="token keyword">if</span><span class="token punctuation">;</span>        <span class="token keyword">insert</span> <span class="token keyword">into</span> admin<span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>concat<span class="token punctuation">(</span><span class="token string">'xiaoming'</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">end</span> <span class="token keyword">while</span> <span class="token number">a</span> <span class="token punctuation">;</span><span class="token keyword">end</span>$<span class="token comment" spellcheck="true">#å‘è¡¨ä¸­æ’å…¥æŒ‡å®šä¸ªæ•°çš„ï¼Œéšæœºçš„å­—ç¬¦ä¸²</span><span class="token keyword">create</span> <span class="token keyword">procedure</span> test_randstr<span class="token punctuation">(</span><span class="token operator">in</span> insertCount <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token keyword">begin</span>    <span class="token keyword">declare</span> i <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#å¾ªç¯æ¬¡æ•°</span>    <span class="token keyword">declare</span> str <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">'abcdefghijklmnopqrstuvwxyz'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#å­—ç¬¦ä¸²</span>    <span class="token keyword">declare</span> startIndex <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">#èµ·å§‹ä½ç½®</span>    <span class="token keyword">declare</span> len <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#æˆªå–é•¿åº¦</span>    <span class="token number">a</span>:<span class="token keyword">while</span> i<span class="token operator">&lt;</span>insertCount <span class="token keyword">do</span>        <span class="token keyword">set</span> startIndex <span class="token operator">=</span> floor<span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">26</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">set</span> len <span class="token operator">=</span> floor<span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token operator">-</span>startIndex<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">insert</span> <span class="token keyword">into</span> test<span class="token punctuation">(</span>strs<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>substr<span class="token punctuation">(</span>str<span class="token punctuation">,</span>startIndex<span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">set</span> i <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">end</span> <span class="token keyword">while</span> <span class="token number">a</span><span class="token punctuation">;</span><span class="token keyword">end</span>$</code></pre><h2 id="å¤‡ä»½ä¸è¿˜åŸ"><a href="#å¤‡ä»½ä¸è¿˜åŸ" class="headerlink" title="å¤‡ä»½ä¸è¿˜åŸ"></a>å¤‡ä»½ä¸è¿˜åŸ</h2><blockquote><p>åœ¨linuxç¯å¢ƒä¸‹è¿›è¡Œ</p></blockquote><p>å…¨é‡å¤‡ä»½ï¼š<code>mysqldump -uroot -p1234 -A &gt; å¤‡ä»½æ–‡ä»¶è·¯å¾„</code>ï¼Œè·¯å¾„ï¼š<code>/root/1.sql</code></p><p>æŒ‡å®šåº“å¤‡ä»½ï¼š<code>mysqldump -uroot -p1234 åº“å &gt; å¤‡ä»½æ–‡ä»¶è·¯å¾„</code></p><p>å¤šä¸ªåº“å¤‡ä»½ï¼š<code>mysqldump -uroot -p1234 --databases db1 db2 &gt; å¤‡ä»½æ–‡ä»¶è·¯å¾„</code></p><pre><code>è®¡åˆ’ä»»åŠ¡çš„è„šæœ¬ï¼šæ¯ä¸€åˆ†é’Ÿè¿›è¡Œå¤‡ä»½ä¸€æ¬¡æ•°æ®åº“#!/bin/bashfilename="test_"`date +'%Y%m%d%H%M%S'`".sql"mysqldump -uroot -p1234 &gt; /root/$filenamecrontab -e * * * * * /root/test.sh</code></pre><p><strong>è¿˜åŸ</strong></p><p>mysqlå‘½ä»¤è¡Œä¸­ï¼š<code>source å¤‡ä»½æ–‡ä»¶è·¯å¾„</code></p><p>è¿˜åŸå•ä¸ªæ•°æ®åº“ï¼š</p><ol><li>use åº“å</li><li>source å¤‡ä»½æ–‡ä»¶è·¯å¾„</li></ol>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java8æ–°ç‰¹æ€§</title>
      <link href="/2020/11/01/xue-xi/java8-xin-te-xing/"/>
      <url>/2020/11/01/xue-xi/java8-xin-te-xing/</url>
      
        <content type="html"><![CDATA[<h1 id="Java8æ–°ç‰¹æ€§"><a href="#Java8æ–°ç‰¹æ€§" class="headerlink" title="Java8æ–°ç‰¹æ€§"></a>Java8æ–°ç‰¹æ€§</h1><p>ç‰¹ç‚¹ï¼š</p><p>é€Ÿåº¦æ›´å¿«ï¼šhashMapçº¢é»‘æ ‘</p><p>ä»£ç æ›´å°‘ï¼šlambdaè¡¨è¾¾å¼</p><p>å¼ºå¤§çš„Stream API</p><p>ä¾¿äºå¹¶è¡Œï¼šæé«˜äº†ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡</p><p>æœ€å¤§åŒ–å‡å°‘ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼šOptional</p><p>Nashornå¼•æ“ï¼Œå…è®¸åœ¨JVMä¸Šè¿è¡ŒJSåº”ç”¨ </p><h2 id="Lambdaè¡¨è¾¾å¼"><a href="#Lambdaè¡¨è¾¾å¼" class="headerlink" title="Lambdaè¡¨è¾¾å¼"></a>Lambdaè¡¨è¾¾å¼</h2><blockquote><p>å¯ä»¥ç»™å‡½æ•°å¼æ¥å£èµ‹å€¼</p></blockquote><p>ä½¿ç”¨ï¼š</p><ol><li><p>ä¸¾ä¾‹ï¼š <code>(o1,o2) -&gt; Integer.compare(o1,o2)</code></p></li><li><p>æ ¼å¼ï¼š</p><ol><li><code>-&gt;</code> :lambdaæ“ä½œç¬¦ æˆ– ç®­å¤´æ“ä½œç¬¦</li><li><code>-&gt;</code>å·¦è¾¹ ï¼š lambdaå½¢å‚åˆ—è¡¨ï¼ˆå…¶å®å°±æ˜¯æ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å½¢å‚åˆ—è¡¨ï¼‰</li><li><code>-&gt;</code>å³è¾¹ ï¼š lambdaä½“ï¼ˆå…¶å®å°±æ˜¯é‡å†™çš„æŠ½è±¡æ–¹æ³•çš„æ–¹æ³•ä½“ï¼‰</li></ol></li><li><p>Lambdaè¡¨è¾¾å¼çš„ä½¿ç”¨ï¼šï¼ˆåˆ†ä¸º6ç§æƒ…å†µä»‹ç»ï¼‰</p><ol><li><p>æ— å‚ï¼Œæ— è¿”å›å€¼</p><pre class=" language-java"><code class="language-java">Runnable run <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"gogogo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>run<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"**********lambda************"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Runnable run1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"runrunrun"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>run1<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>æœ‰å‚ï¼Œæ— è¿”å›å€¼</p><pre class=" language-java"><code class="language-java">Consumer<span class="token operator">&lt;</span>Integer<span class="token operator">></span> con <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Consumer</span><span class="token operator">&lt;</span>Integer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span>Integer integer<span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>con<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"**********lambda************"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Consumer<span class="token operator">&lt;</span>Integer<span class="token operator">></span> con1 <span class="token operator">=</span> <span class="token punctuation">(</span>Integer integer<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>con1<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>ç±»å‹æ¨æ–­</p><pre class=" language-java"><code class="language-java">System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"**********ç±»å‹æ¨æ–­************"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Consumer<span class="token operator">&lt;</span>Integer<span class="token operator">></span> con2 <span class="token operator">=</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>con2<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token number">789</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>åªæœ‰1ä¸ªå‚æ•°ï¼Œå‚æ•°å°æ‹¬å·å¯ä»¥çœç•¥</p><pre class=" language-java"><code class="language-java">System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"**********1ä¸ªå‚æ•°************"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Consumer<span class="token operator">&lt;</span>Integer<span class="token operator">></span> con2 <span class="token operator">=</span> i<span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>con2<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token number">789</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>æœ‰2ä¸ªæˆ–ä»¥ä¸Šå‚æ•°ï¼Œå¤šæ¡æ‰§è¡Œè¯­å¥ï¼Œå¹¶ä¸”æœ‰è¿”å›å€¼</p><pre class=" language-java"><code class="language-java">Comparator<span class="token operator">&lt;</span>Integer<span class="token operator">></span> comparator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token operator">&lt;</span>Integer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span>Integer o1<span class="token punctuation">,</span> Integer o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> o1<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comparator<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"***æœ‰2ä¸ªæˆ–ä»¥ä¸Šå‚æ•°ï¼Œå¤šæ¡æ‰§è¡Œè¯­å¥ï¼Œå¹¶ä¸”æœ‰è¿”å›å€¼***"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Comparator<span class="token operator">&lt;</span>Integer<span class="token operator">></span> comparator1 <span class="token operator">=</span> <span class="token punctuation">(</span>o1<span class="token punctuation">,</span>o2<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> o1<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comparator1<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>å½“lambdaä½“åªæœ‰ä¸€æ¡è¯­å¥æ—¶ï¼Œreturnä¸å¤§æ‹¬å·éƒ½å¯ä»¥çœç•¥</p><pre class=" language-java"><code class="language-java">System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"***åªæœ‰ä¸€æ¡è¯­å¥æ—¶ï¼Œreturnä¸å¤§æ‹¬å·éƒ½å¯ä»¥çœç•¥***"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Comparator<span class="token operator">&lt;</span>Integer<span class="token operator">></span> comparator2 <span class="token operator">=</span> <span class="token punctuation">(</span>o1<span class="token punctuation">,</span>o2<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span> o1<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comparator2<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><p><strong>è¯­æ³•æ€»ç»“</strong></p><p><code>-&gt;</code>å·¦è¾¹ï¼šlambdaå½¢å‚åˆ—è¡¨çš„å‚æ•°ç±»å‹å¯ä»¥çœç•¥ï¼ˆç±»å‹æ¨æ–­ï¼‰ï¼›å½¢å‚åªæœ‰1ä¸ªï¼Œ()çœç•¥</p><p><code>-&gt;</code>å³è¾¹ï¼šlambdaä½“åº”è¯¥ç”¨{}åŒ…è£¹ï¼Œå¦‚æœåªæœ‰ä¸€æ¡æ‰§è¡Œè¯­å¥ï¼Œ{}çœç•¥ï¼Œreturnä¹Ÿéœ€è¦çœç•¥</p></li><li><p><strong>Lambdaè¡¨è¾¾å¼çš„æœ¬è´¨ï¼šä½œä¸ºå‡½æ•°å¼æ¥å£çš„å®ä¾‹</strong></p></li><li><p>å¦‚æœä¸€ä¸ªæ¥å£ä¸­ï¼Œåªå£°æ˜äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œåˆ™æ­¤æ¥å£å°±ç§°ä¸ºå‡½æ•°å¼æ¥å£</p></li></ol><h2 id="å‡½æ•°å¼æ¥å£"><a href="#å‡½æ•°å¼æ¥å£" class="headerlink" title="å‡½æ•°å¼æ¥å£"></a>å‡½æ•°å¼æ¥å£</h2><p><code>@FunctionalInterface</code></p><p>å¦‚æœä¸€ä¸ªæ¥å£ä¸­ï¼Œåªå£°æ˜äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œåˆ™æ­¤æ¥å£å°±ç§°ä¸ºå‡½æ•°å¼æ¥å£ã€‚å¦‚ï¼šRunableã€compartor</p><p>å¯ä»¥é€šè¿‡Lambdaè¡¨è¾¾å¼æ¥åˆ›å»ºè¯¥æ¥å£çš„å¯¹è±¡ï¼Œå³ä»¥å‰ç”¨åŒ¿åæ˜¯è¥¿å®‰ç±»è¡¨ç¤ºçš„ç°åœ¨éƒ½å¯ä»¥ç”¨Lambdaè¡¨è¾¾å¼æ¥å†™</p><p><code>java.util.function</code>æä¾›äº†å¤§é‡çš„å‡½æ•°å¼æ¥å£</p><table><thead><tr><th></th><th>æ¥å£å</th><th>è¿”å›å€¼  æ–¹æ³•</th></tr></thead><tbody><tr><td>æ¶ˆè´¹å‹æ¥å£</td><td>Consumer<t></t></td><td>void  accept(T t)</td></tr><tr><td>ä¾›ç»™å‹æ¥å£</td><td>Supplier<t></t></td><td>T get()</td></tr><tr><td>å‡½æ•°å‹æ¥å£</td><td>Function&lt;T,R&gt;</td><td>R apply(T t)</td></tr><tr><td>æ–­å®šå‹æ¥å£</td><td>Predicate<t></t></td><td>boolean test(T t)</td></tr></tbody></table><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">consume</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Consumer</span><span class="token operator">&lt;</span>Integer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span>Integer integer<span class="token punctuation">)</span> <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸€å…±æ¶ˆè´¹"</span><span class="token operator">+</span>integer<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"******lambda*******"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">consume</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span>i <span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸€å…±æ¶ˆè´¹"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">consume</span><span class="token punctuation">(</span>Integer money<span class="token punctuation">,</span> Consumer<span class="token operator">&lt;</span>Integer<span class="token operator">></span> consumer<span class="token punctuation">)</span><span class="token punctuation">{</span>    consumer<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    List<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"åŒ—äº¬"</span><span class="token punctuation">,</span><span class="token string">"ä¸œäº¬"</span><span class="token punctuation">,</span><span class="token string">"è¥¿äº¬"</span><span class="token punctuation">,</span><span class="token string">"æ™®äº¬"</span><span class="token punctuation">,</span><span class="token string">"åŒ—æ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    List<span class="token operator">&lt;</span>String<span class="token operator">></span> l <span class="token operator">=</span> <span class="token function">filterString</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Predicate</span><span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">test</span><span class="token punctuation">(</span>String s<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//åˆ¶å®šè§„åˆ™ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«äº¬åˆ™è¿”å›ä¸ºtrue</span>            <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"äº¬"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"*********lambda**********"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    List<span class="token operator">&lt;</span>String<span class="token operator">></span> l2 <span class="token operator">=</span> <span class="token function">filterString</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> s <span class="token operator">-</span><span class="token operator">></span> s<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"äº¬"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>l2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">public</span> List<span class="token operator">&lt;</span>String<span class="token operator">></span> <span class="token function">filterString</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>String<span class="token operator">></span> list<span class="token punctuation">,</span>Predicate<span class="token operator">&lt;</span>String<span class="token operator">></span> pre<span class="token punctuation">)</span><span class="token punctuation">{</span>    List<span class="token operator">&lt;</span>String<span class="token operator">></span> l<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>String s <span class="token operator">:</span> list<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//éå†é›†åˆï¼ŒæŒ‰ç…§æŸç§è§„åˆ™è¿›è¡Œåˆ¤æ–­ï¼Œä¸ºtrueåˆ™æ·»åŠ è¿›é›†åˆ</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            l<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> l<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨"><a href="#æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨" class="headerlink" title="æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨"></a>æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨</h2><blockquote><p>åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨æ¥æ›¿æ¢lambdaè¡¨è¾¾å¼</p></blockquote><ol><li>ä½¿ç”¨æƒ…å¢ƒï¼šå½“è¦ä¼ é€’ç»™Lambdaä½“çš„æ“ä½œï¼Œå·²ç»æœ‰å®ç°çš„æ–¹æ³•äº†ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨</li><li>æ–¹æ³•å¼•ç”¨ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯Lambdaè¡¨è¾¾å¼ï¼Œè€ŒLambdaè¡¨è¾¾å¼ä½œä¸ºå‡½æ•°æ—¶æ¥å£çš„å®ä¾‹ï¼Œæ‰€ä»¥<strong>æ–¹æ³•å¼•ç”¨ï¼Œä¹Ÿæ˜¯å‡½æ•°å¼æ¥å£çš„å®ä¾‹</strong></li><li>ä½¿ç”¨æ ¼å¼ï¼š  ç±»ï¼ˆæˆ–å¯¹è±¡ï¼‰ ï¼šï¼š æ–¹æ³•å</li><li>å…·ä½“æœ‰ä¸‰ç§æƒ…å†µ<ol><li>å¯¹è±¡ ï¼šï¼šéé™æ€æ–¹æ³•</li><li>ç±» ï¼šï¼šé™æ€æ–¹æ³•</li><li>ç±»ï¼šï¼šéé™æ€æ–¹æ³•</li></ol></li></ol><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å¯¹è±¡ï¼šï¼šéé™æ€æ–¹æ³•</span><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Consumer<span class="token operator">&lt;</span>String<span class="token operator">></span> consumer1 <span class="token operator">=</span> s <span class="token operator">-</span><span class="token operator">></span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//lambdaä½“ä¸­å·²ç»æœ‰å®ç°çš„æ–¹æ³•println()ï¼Œå‚æ•°å’Œè¿”å›å€¼ä¸€æ ·ï¼Œå°±å¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨</span>    consumer1<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"******æ–¹æ³•å¼•ç”¨******"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    PrintStream print <span class="token operator">=</span> System<span class="token punctuation">.</span>out<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¯¹è±¡</span>    Consumer<span class="token operator">&lt;</span>String<span class="token operator">></span> consumer2 <span class="token operator">=</span> print <span class="token operator">:</span><span class="token operator">:</span> println<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¯¹è±¡ï¼šï¼šæ–¹æ³•</span>    consumer2<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">"def"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ç±»ï¼šï¼šé™æ€æ–¹æ³•</span><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Comparator<span class="token operator">&lt;</span>Integer<span class="token operator">></span> comparator1 <span class="token operator">=</span> <span class="token punctuation">(</span>o1<span class="token punctuation">,</span>o2<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> Integer<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comparator1<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"******æ–¹æ³•å¼•ç”¨*********"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Comparator<span class="token operator">&lt;</span>Integer<span class="token operator">></span> comparator2 <span class="token operator">=</span> Integer<span class="token operator">:</span><span class="token operator">:</span>compare<span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comparator2<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ç±»ï¼šï¼šéé™æ€æ–¹æ³•</span><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Comparator<span class="token operator">&lt;</span>Integer<span class="token operator">></span> comparator <span class="token operator">=</span> <span class="token punctuation">(</span>o1<span class="token punctuation">,</span>o2<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> o1<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//compareToæ˜¯éé™æ€æ–¹æ³•</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comparator<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"*******æ–¹æ³•å¼•ç”¨*******"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//compareToæ˜¯é€šè¿‡å‚æ•°Integer o1è°ƒç”¨çš„ï¼Œï¼šï¼šå·¦è¾¹ä½¿ç”¨è°ƒç”¨æ‰€å±çš„ç±»ï¼Œå³è¾¹ä¸ºæ–¹æ³•</span>    Comparator<span class="token operator">&lt;</span>Integer<span class="token operator">></span> comparator1 <span class="token operator">=</span> Integer<span class="token operator">:</span><span class="token operator">:</span>compareTo<span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comparator1<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æ–¹æ³•å¼•ç”¨ä½¿ç”¨çš„è¦æ±‚ï¼š</p><p>å‡½æ•°å¼æ¥å£ä¸­çš„<strong>æŠ½è±¡æ–¹æ³•</strong>çš„å½¢å‚åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ä¸<strong>æ–¹æ³•å¼•ç”¨çš„æ–¹æ³•</strong>çš„å½¢å‚åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ç›¸åŒ</p><p>ï¼ˆæ­¤è¦æ±‚é€‚ç”¨äº1ï¼Œ2ä¸¤ç§æƒ…å†µï¼‰</p><p><strong>æ„é€ å™¨å¼•ç”¨</strong></p><p>æŠ½è±¡æ–¹æ³•çš„è¿”å›å€¼ç±»å‹å³ä¸ºæ„é€ å™¨æ‰€å±çš„ç±»çš„ç±»å‹</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ„é€ å™¨å¼•ç”¨</span><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Supplier<span class="token operator">&lt;</span>Student<span class="token operator">></span> supplier <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>supplier<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"*****æ–¹æ³•å¼•ç”¨*****"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Supplier<span class="token operator">&lt;</span>Student<span class="token operator">></span> supplier1 <span class="token operator">=</span> Student<span class="token operator">:</span><span class="token operator">:</span><span class="token keyword">new</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>supplier1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æœ‰å‚æ„é€ å™¨å¼•ç”¨</span><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Function<span class="token operator">&lt;</span>Integer<span class="token punctuation">,</span>Student<span class="token operator">></span> function <span class="token operator">=</span> i <span class="token operator">-</span><span class="token operator">></span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>function<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"******æ–¹æ³•å¼•ç”¨*******"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Function<span class="token operator">&lt;</span>Integer<span class="token punctuation">,</span>Student<span class="token operator">></span> function1 <span class="token operator">=</span> Student<span class="token operator">:</span><span class="token operator">:</span><span class="token keyword">new</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>function1<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"******äºŒå…ƒæ„é€ å™¨*********"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    BiFunction<span class="token operator">&lt;</span>Integer<span class="token punctuation">,</span>String<span class="token punctuation">,</span>Student<span class="token operator">></span> biFunction <span class="token operator">=</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span>s<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>biFunction<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"xiaoming"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"****æ–¹æ³•å¼•ç”¨*****"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    BiFunction<span class="token operator">&lt;</span>Integer<span class="token punctuation">,</span>String<span class="token punctuation">,</span>Student<span class="token operator">></span> biFunction1 <span class="token operator">=</span> Student<span class="token operator">:</span><span class="token operator">:</span><span class="token keyword">new</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>biFunction1<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"xiaohong"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>æ•°ç»„å¼•ç”¨</strong></p><p>å¯ä»¥çœ‹ä½œä¸€ä¸ªç‰¹æ®Šçš„ç±»ï¼Œå†™æ³•å’Œæ„é€ å™¨ä¸€æ ·</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ•°ç»„å¼•ç”¨</span><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test6</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Function<span class="token operator">&lt;</span>Integer<span class="token punctuation">,</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> function1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token operator">&lt;</span>Integer<span class="token punctuation">,</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">apply</span><span class="token punctuation">(</span>Integer integer<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>integer<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"****lambda******"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Function<span class="token operator">&lt;</span>Integer<span class="token punctuation">,</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> function2 <span class="token operator">=</span> length <span class="token operator">-</span><span class="token operator">></span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>    String<span class="token punctuation">[</span><span class="token punctuation">]</span> str <span class="token operator">=</span> function2<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"******æ–¹æ³•å¼•ç”¨**********"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Function<span class="token operator">&lt;</span>Integer<span class="token punctuation">,</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> function3 <span class="token operator">=</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span><span class="token operator">:</span> <span class="token keyword">new</span><span class="token punctuation">;</span>    String<span class="token punctuation">[</span><span class="token punctuation">]</span> str3 <span class="token operator">=</span> function3<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>str3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="Stream-API"><a href="#Stream-API" class="headerlink" title="Stream API"></a>Stream API</h2><p><code>java.util.stream</code></p><p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨streamAPIï¼š</strong></p><p>æˆ‘ä»¬åœ¨å¤„ç†æ•°æ®æ—¶ï¼Œä¼šè®¾ç½®ä¸€äº›è¿‡æ»¤æ¡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨æ•°æ®åº“å±‚é¢è¿›è¡Œè¿‡æ»¤æ“ä½œã€‚å¦‚æœæ˜¯redisç­‰Nosqlæ•°æ®åº“ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨javaå±‚é¢è¿›è¡Œè¿‡æ»¤ï¼ŒStreamAPIå¯ä»¥å®ç°è¿™ä¸€ç‚¹ã€‚</p><p><strong>Streamå’ŒCollectioné›†åˆçš„åŒºåˆ«ï¼š</strong></p><p>Collectionæ˜¯é™æ€çš„å†…å­˜æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨æ•°æ®ï¼Œä¸»è¦é¢å‘å†…å­˜</p><p>Streamæ˜¯æœ‰å…³è®¡ç®—çš„ï¼ˆä¸å­˜å‚¨æ•°æ®ï¼Œå’Œè¿­ä»£å™¨ç±»ä¼¼ï¼‰ï¼Œä¸»è¦é¢å‘CPU</p><p>æ³¨æ„ï¼š</p><ol><li>Streamä¸å­˜å‚¨æ•°æ®</li><li>Streamä¸ä¼šæ”¹å˜æºå¯¹è±¡ï¼Œç›¸åï¼Œå®ƒä»¬ä¼šè¿”å›ä¸€ä¸ªæŒæœ‰ç»“æœçš„æ–°Stream</li><li>Streamæ“ä½œæ˜¯å»¶è¿Ÿæ‰§è¡Œçš„ã€‚åªæœ‰è¿›è¡Œç»ˆæ­¢æ“ä½œï¼Œæ‰ä¼šæ‰§è¡Œå‰é¢çš„ä¸­é—´æ“ä½œ</li></ol><p><strong>Stream æ‰§è¡Œæµç¨‹</strong></p><ol><li>Streamçš„å®ä¾‹åŒ–</li><li>ä¸€ç³»åˆ—çš„ä¸­é—´æ“ä½œï¼ˆè¿‡æ»¤ã€æ˜ å°„ï¼‰</li><li>ç»ˆæ­¢æ“ä½œ</li></ol><p>è¯´æ˜ï¼š</p><ol><li>ä¸€ä¸ªä¸­é—´æ“ä½œé“¾ï¼Œå¯¹æ•°æ®æºçš„æ•°æ®è¿›è¡Œå¤„ç†</li><li>ï¼ˆåˆ›å»ºã€ä¸­é—´æ“ä½œã€ä¸­æ­¢æ“ä½œï¼‰ï¼Œä¸€æ—¦æ‰§è¡Œç»ˆæ­¢æ“ä½œï¼Œå°±æ‰§è¡Œä¸­é—´æ“ä½œé“¾ï¼Œå¹¶äº§ç”Ÿç»“æœã€‚ä¹‹åï¼Œä¸ä¼šå†è¢«ä½¿ç”¨ã€‚</li></ol><h3 id="Streamçš„å®ä¾‹åŒ–"><a href="#Streamçš„å®ä¾‹åŒ–" class="headerlink" title="Streamçš„å®ä¾‹åŒ–"></a>Streamçš„å®ä¾‹åŒ–</h3><ol><li><p>é€šè¿‡é›†åˆ</p><table><thead><tr><th>default Stream<e> stream()</e></th><th>è¿”å›ä¸€ä¸ªé¡ºåºæµ</th><th>é¡ºåºæµåœ¨æ“ä½œæ˜¯ä¼šæŒ‰ç…§é¡ºåºæ“ä½œ</th></tr></thead><tbody><tr><td>default Stream<e> parallelStream()</e></td><td>è¿”å›ä¸€ä¸ªå¹¶è¡Œæµ</td><td>å¹¶è¡Œæµåœ¨æ“ä½œæ˜¯ä¼šå¤šä¸ªä¸€èµ·æ“ä½œ</td></tr></tbody></table><pre class=" language-java"><code class="language-java">List<span class="token operator">&lt;</span>Student<span class="token operator">></span> students <span class="token operator">=</span> StudentData<span class="token punctuation">.</span><span class="token function">getStudents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Stream<span class="token operator">&lt;</span>Student<span class="token operator">></span> stream <span class="token operator">=</span> students<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//é¡ºåºæµ</span>Stream<span class="token operator">&lt;</span>Student<span class="token operator">></span> parallelStream <span class="token operator">=</span> students<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¹¶è¡Œæµ</span></code></pre></li><li><p>é€šè¿‡æ•°ç»„</p><table><thead><tr><th>è°ƒç”¨Arraysç±»çš„é™æ€æ–¹æ³•</th><th></th></tr></thead><tbody><tr><td>Stream<t> stream(T[] array)</t></td><td>è¿”å›ä¸€ä¸ªæµ</td></tr></tbody></table><pre class=" language-java"><code class="language-java"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>IntStream stream <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>Student<span class="token punctuation">[</span><span class="token punctuation">]</span> arr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>stu1<span class="token punctuation">,</span>stu2<span class="token punctuation">}</span><span class="token punctuation">;</span>Stream<span class="token operator">&lt;</span>Student<span class="token operator">></span> stream1 <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>é€šè¿‡Streamç±»æœ¬èº«</p><table><thead><tr><th>é€šè¿‡Streamç±»æœ¬èº«çš„é™æ€æ–¹æ³•</th><th></th></tr></thead><tbody><tr><td>public static<t> Stream<t> of(Tâ€¦ values)</t></t></td><td>è¿”å›ä¸€ä¸ªæµ</td></tr></tbody></table><pre class=" language-java"><code class="language-java">Stream<span class="token operator">&lt;</span>Integer<span class="token operator">></span> stream <span class="token operator">=</span> Stream<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>åˆ›å»ºæ— é™æµ</p><p>ä½œç”¨ï¼šç”Ÿæˆä¸€äº›ä¸œè¥¿</p></li></ol><table><thead><tr><th>public static<t> Stream<t> iterate(final T seed,final UnaryOperator<t> f)</t></t></t></th><th>å‚æ•°ï¼šUnaryOperatorï¼Œä¸€ä¸ªç‰¹æ®Šçš„functionï¼Œä¼ å…¥ä¸€ä¸ªç±»å‹è¿”å›ç›¸åŒç±»å‹</th><th>è¿­ä»£</th></tr></thead><tbody><tr><td>public static<t> Stream<t> generate(Supplier<t> s)</t></t></t></td><td>å‚æ•°ï¼šSupplierï¼Œä¾›ç»™å‹æ¥å£ï¼Œä¸ä¼ å€¼ç”Ÿäº§å€¼</td><td>ç”Ÿæˆ</td></tr></tbody></table><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//è¿­ä»£</span><span class="token comment" spellcheck="true">//éå†å‰10ä¸ªå¶æ•°</span>Stream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>t <span class="token operator">-</span><span class="token operator">></span> t<span class="token operator">+</span><span class="token number">2</span> <span class="token punctuation">)</span><span class="token comment" spellcheck="true">//åˆ›å»ºæµï¼šä»0å¼€å§‹ï¼Œä¼ å…¥ä¸€ä¸ªæ•°å°±åŠ 2</span>    <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//ä¸­é—´æ“ä½œï¼šé™åˆ¶æ•°ä¸º10</span>    <span class="token punctuation">.</span><span class="token function">foreach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¸­æ­¢æ“ä½œï¼šéå†ï¼ˆå‚æ•°ï¼šæ¶ˆè´¹è€…æ¥å£ï¼‰</span><span class="token comment" spellcheck="true">//ç”Ÿæˆ</span>Stream<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>Math<span class="token operator">:</span><span class="token operator">:</span>random<span class="token punctuation">)</span><span class="token punctuation">.</span>limit<span class="token punctuation">.</span><span class="token function">foreach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="ä¸­é—´æ“ä½œ"><a href="#ä¸­é—´æ“ä½œ" class="headerlink" title="ä¸­é—´æ“ä½œ"></a>ä¸­é—´æ“ä½œ</h3><h4 id="ç­›é€‰ä¸åˆ‡ç‰‡"><a href="#ç­›é€‰ä¸åˆ‡ç‰‡" class="headerlink" title="ç­›é€‰ä¸åˆ‡ç‰‡"></a>ç­›é€‰ä¸åˆ‡ç‰‡</h4><table><thead><tr><th>filter(Predicate p)</th><th>ä»æµä¸­æ’é™¤æŸäº›æ•°æ®</th></tr></thead><tbody><tr><td>limit(n)</td><td>æˆªæ–­æµï¼Œä½¿å…¶å…ƒç´ ä¸è¶…è¿‡å…ƒç´ ä¸è¶…è¿‡ç»™å®šæ•°é‡</td></tr><tr><td>skip(n)</td><td>è·³è¿‡å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ‰”æ‰äº†å‰nä¸ªå…ƒç´ çš„æµï¼Œè‹¥æµä¸­å…ƒç´ ä¸è¶³Nä¸ªï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæµ</td></tr><tr><td>distinct()</td><td>ç­›é€‰ï¼Œé€šè¿‡æµæ‰€ç”Ÿæˆå…ƒç´ çš„hashCode()å’Œequals()å»é™¤é‡å¤å…ƒç´ </td></tr></tbody></table><pre class=" language-java"><code class="language-java">stream<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>e <span class="token operator">-</span><span class="token operator">></span> e<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foreach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="æ˜ å°„"><a href="#æ˜ å°„" class="headerlink" title="æ˜ å°„"></a>æ˜ å°„</h4><table><thead><tr><th>map(Function f)</th><th>å°†å…ƒç´ è½¬æ¢ä¸ºå…¶ä»–å½¢å¼æˆ–æå–ä¿¡æ¯ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ï¼Œå¹¶å°†å…¶æ˜ å°„æˆæ–°çš„å…ƒç´ ï¼Œè¿”å›å€¼ä»ç„¶æ˜¯ä¸€ä¸ªæµ</th></tr></thead><tbody><tr><td>flatMap(Function f)</td><td>å°†æµä¸­çš„æ¯ä¸ªå€¼éƒ½æ¢æˆå¦ä¸€ä¸ªæµï¼Œç„¶åæŠŠæ‰€æœ‰çš„æµè¿æˆä¸€ä¸ªæµã€‚å¦‚é›†åˆä¸­çš„addAll()æ–¹æ³•ï¼ŒList.add(list)å¯¼è‡´ç»“æœä¸­listä¸­æœ‰listï¼ŒaddAllå°±ä¼šå°†å†…å±‚Listæ‹†æ•£å†åŠ åˆ°listä¸­ã€‚flatMapä¹Ÿæ˜¯ç›¸åŒçš„é“ç†ï¼Œå°†æµæ‹†æ•£åŠ åˆ°æ€»æµé‡Œ</td></tr></tbody></table><pre class=" language-java"><code class="language-java">List<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"aa"</span><span class="token punctuation">,</span><span class="token string">"bb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>t<span class="token operator">-</span><span class="token operator">></span>t<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foreach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å°†é›†åˆæ˜ å°„æˆå¤§å†™</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//è·å–å­¦ç”Ÿå§“åé•¿åº¦å¤§äº3çš„å‘˜å·¥å§“å</span>List<span class="token operator">&lt;</span>Student<span class="token operator">></span> students <span class="token operator">=</span> StudentData<span class="token punctuation">.</span><span class="token function">getStudents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Stream<span class="token operator">&lt;</span>String<span class="token operator">></span> nameStream <span class="token operator">=</span> students<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">map</span><span class="token punctuation">(</span>stu<span class="token operator">-</span><span class="token operator">></span>stu<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>nameStream<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>name <span class="token operator">-</span><span class="token operator">></span> name<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h4><table><thead><tr><th>sorted()</th><th>è‡ªç„¶æ’åº</th></tr></thead><tbody><tr><td>sorted(Compartor com)</td><td>å®šåˆ¶æ’åº</td></tr></tbody></table><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//è‡ªç„¶æ’åº</span>List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å®šåˆ¶æ’åº</span>List<span class="token operator">&lt;</span>Student<span class="token operator">></span> students <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>students<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>students<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>students<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>students<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span>o2<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">{</span>    <span class="token keyword">int</span> compare <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>o1<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o2<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>compare <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//å½“idä¸ç›¸ç­‰æ—¶ï¼Œè¿›è¡Œæ’åº</span>        <span class="token keyword">return</span> compare<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//å½“idç›¸ç­‰ï¼Œæ ¹æ®nameè¿›è¡Œæ’åº</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> o1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>o2<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> i<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="ç»ˆæ­¢æ“ä½œ"><a href="#ç»ˆæ­¢æ“ä½œ" class="headerlink" title="ç»ˆæ­¢æ“ä½œ"></a>ç»ˆæ­¢æ“ä½œ</h3><h4 id="åŒ¹é…ä¸æŸ¥æ‰¾"><a href="#åŒ¹é…ä¸æŸ¥æ‰¾" class="headerlink" title="åŒ¹é…ä¸æŸ¥æ‰¾"></a>åŒ¹é…ä¸æŸ¥æ‰¾</h4><table><thead><tr><th>allMatch(Predicate p)</th><th>æ£€æŸ¥æ˜¯å¦æ‰€æœ‰å…ƒç´ éƒ½ç¬¦åˆæ¡ä»¶</th></tr></thead><tbody><tr><td>anyMatch(Predicate p)</td><td>æ£€æŸ¥æ˜¯å¦è‡³å°‘ä¸€ä¸ªå…ƒç´ ç¬¦åˆæ¡ä»¶</td></tr><tr><td>nonMatch(Predicate p)</td><td>æ£€æŸ¥æ˜¯å¦æ²¡æœ‰å…ƒç´ ç¬¦åˆæ¡ä»¶</td></tr><tr><td>findFirst</td><td>è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ </td></tr><tr><td>findAny</td><td>è¿”å›å½“å‰æµçš„ä»»æ„å…ƒç´ </td></tr><tr><td>count</td><td>è¿”å›æµçš„å…ƒç´ æ€»ä¸ªæ•°</td></tr><tr><td>max(Comparator c)</td><td>è¿”å›æµä¸­æœ€å¤§å€¼</td></tr><tr><td>min(Comparator c)</td><td>è¿”å›æµä¸­æœ€å°å€¼</td></tr><tr><td>forEach(Consumer c)</td><td>å†…éƒ¨è¿­ä»£</td></tr></tbody></table><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ£€æŸ¥æ‰€æœ‰å…ƒç´ idéƒ½å¤§äº1</span><span class="token keyword">boolean</span> b <span class="token operator">=</span> students<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">allMatch</span><span class="token punctuation">(</span>s <span class="token operator">-</span><span class="token operator">></span> s<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¿”å›idæœ€å¤§çš„å…ƒç´ </span>Optional<span class="token operator">&lt;</span>Student<span class="token operator">></span> max <span class="token operator">=</span> students<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> Integer<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>o1<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o2<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å†…éƒ¨è¿­ä»£</span><span class="token comment" spellcheck="true">//students.stream().forEach(s -> System.out.println(s));</span>students<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="å½’çº¦"><a href="#å½’çº¦" class="headerlink" title="å½’çº¦"></a>å½’çº¦</h4><table><thead><tr><th>reduce(T seed,BinaryOperator b)</th><th>å¯ä»¥å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ï¼Œè¿”å›T</th><th>å‚æ•°ï¼šseedï¼šåˆå§‹å€¼ï¼ŒBinaryOperator äºŒå…ƒå‡½æ•°</th></tr></thead><tbody><tr><td>reduce(BinaryOperator b)</td><td>å¯ä»¥å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ï¼Œè¿”å›Optional<t></t></td><td></td></tr></tbody></table><pre class=" language-java"><code class="language-java">List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Optional<span class="token operator">&lt;</span>Integer<span class="token operator">></span> sum <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>Integer<span class="token operator">:</span><span class="token operator">:</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//Optional&lt;Integer> sum = list.stream().reduce((i1, i2) -> i1 + i2);</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>List<span class="token operator">&lt;</span>Student<span class="token operator">></span> students <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>students<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>students<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>students<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Stream<span class="token operator">&lt;</span>Integer<span class="token operator">></span> idStream <span class="token operator">=</span> students<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>s <span class="token operator">-</span><span class="token operator">></span> s<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å¾—idæµ</span><span class="token comment" spellcheck="true">//idStream.reduce(Integer::sum);</span>Optional<span class="token operator">&lt;</span>Integer<span class="token operator">></span> sum1 <span class="token operator">=</span> idStream<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i1<span class="token punctuation">,</span> i2<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> i1 <span class="token operator">+</span> i2<span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sum1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½’çº¦ä¼šå’Œmapæ˜ å°„ä¸€èµ·ä½¿ç”¨</p></blockquote><h4 id="æ”¶é›†"><a href="#æ”¶é›†" class="headerlink" title="æ”¶é›†"></a>æ”¶é›†</h4><table><thead><tr><th>Collectorï¼šé€šå¸¸ç”¨é™æ€æ–¹æ³•æ¥è°ƒç”¨</th><th>Collectors.toList(),toSet()</th></tr></thead><tbody><tr><td>collect(Collector c)</td><td>å°†æµè½¬æ¢ä¸ºå…¶ä»–å½¢å¼ï¼ˆList,Setï¼‰</td></tr></tbody></table><pre class=" language-java"><code class="language-java">List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Stream<span class="token operator">&lt;</span>Integer<span class="token operator">></span> stream <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>e <span class="token operator">-</span><span class="token operator">></span> e <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list1 <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>Collectors<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//        for (Integer i:list1) {</span><span class="token comment" spellcheck="true">//            System.out.println(i);</span><span class="token comment" spellcheck="true">//        }</span>list1<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="Optionalç±»"><a href="#Optionalç±»" class="headerlink" title="Optionalç±»"></a>Optionalç±»</h2><p>ä½œç”¨ï¼šæœ‰æ•ˆçš„è§£å†³ç©ºæŒ‡é’ˆå¼‚å¸¸</p><p>å®ƒæ˜¯ä¸€ä¸ªå®¹å™¨ç±»ï¼Œä¿å­˜ç±»å‹ä¸ºTçš„å€¼ï¼Œä»£è¡¨è¿™ä¸ªå€¼å­˜åœ¨ã€‚æˆ–è€…ä¿å­˜ä¸€ä¸ªNullï¼Œè¡¨ç¤ºå€¼ä¸å­˜åœ¨ã€‚å°±æ˜¯å°†ä¸€ä¸ªå¯¹è±¡<code>boy</code>ï¼ŒæŠŠå®ƒçš„å€¼æ”¾åœ¨optionalç±»ä¸­ï¼Œæˆ‘ä»¬æ“ä½œboyå…¶å®å°±æ˜¯åœ¨æ“ä½œoptionalï¼Œå¦‚æœboyæ˜¯Null,åˆ™optionalç±»çš„valueå€¼å°±æ˜¯Null</p><h3 id="åˆ›å»ºOptionalç±»å¯¹è±¡çš„æ–¹æ³•"><a href="#åˆ›å»ºOptionalç±»å¯¹è±¡çš„æ–¹æ³•" class="headerlink" title="åˆ›å»ºOptionalç±»å¯¹è±¡çš„æ–¹æ³•"></a>åˆ›å»ºOptionalç±»å¯¹è±¡çš„æ–¹æ³•</h3><table><thead><tr><th>Optional.of(T t)</th><th>åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œtå¿…é¡»éç©º</th></tr></thead><tbody><tr><td>Optional.empty()</td><td>åˆ›å»ºä¸€ä¸ªç©ºçš„Optionalå®ä¾‹</td></tr><tr><td>Optional.ofNullable(T t)</td><td><strong>tå¯ä»¥ä¸ºNull</strong></td></tr></tbody></table><h3 id="åˆ¤æ–­Optionalå®¹å™¨ä¸­æ˜¯å¦åŒ…å«å¯¹è±¡"><a href="#åˆ¤æ–­Optionalå®¹å™¨ä¸­æ˜¯å¦åŒ…å«å¯¹è±¡" class="headerlink" title="åˆ¤æ–­Optionalå®¹å™¨ä¸­æ˜¯å¦åŒ…å«å¯¹è±¡"></a>åˆ¤æ–­Optionalå®¹å™¨ä¸­æ˜¯å¦åŒ…å«å¯¹è±¡</h3><p><code>boolean isPresent()</code>ï¼šåˆ¤æ–­æ˜¯å¦åŒ…å«å¯¹è±¡</p><h3 id="è·å–Optionalå®¹å™¨çš„å¯¹è±¡"><a href="#è·å–Optionalå®¹å™¨çš„å¯¹è±¡" class="headerlink" title="è·å–Optionalå®¹å™¨çš„å¯¹è±¡"></a>è·å–Optionalå®¹å™¨çš„å¯¹è±¡</h3><table><thead><tr><th>T get()</th><th>è·å–optionalçš„å€¼ï¼Œå¦‚æœå€¼ä¸ºç©ºåˆ™ä¼šæŠ›å¼‚å¸¸</th></tr></thead><tbody><tr><td>T orElse(T other)</td><td>æœ‰å€¼å°†å…¶è¿”å›ï¼Œæ²¡æœ‰åˆ™è¿”å›å‚æ•°otherå¯¹è±¡</td></tr></tbody></table><blockquote><p>é€šå¸¸</p><p>Optional.orf(T t)å’Œget()ä¸€èµ·ä½¿ç”¨ï¼Œåœ¨ä¿è¯éç©ºçš„æƒ…å†µä¸‹å†è·å–æ•°æ®</p><p>Optional.ofNullable(T t)å’ŒorElse(T other)ä¸€èµ·ä½¿ç”¨ï¼Œåœ¨ä¸ç¡®å®šç©ºä¸ç©ºçš„æƒ…å†µä¸‹è·å–æ•°æ®ï¼Œotheræœ‰å…œåº•å¯¹è±¡</p></blockquote><pre class=" language-java"><code class="language-java">Student student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"æ­£å®«"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>student <span class="token operator">=</span> null<span class="token punctuation">;</span>Optional<span class="token operator">&lt;</span>Student<span class="token operator">></span> studentOptional <span class="token operator">=</span> Optional<span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//student2ä¸€å®šéç©º</span>Student student2 <span class="token operator">=</span> studentOptional<span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"å¤‡é€‰å¯¹è±¡"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>student2<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¤‡é€‰å¯¹è±¡</span></code></pre><h2 id="æ¥å£é»˜è®¤æ–¹æ³•ã€é™æ€æ–¹æ³•"><a href="#æ¥å£é»˜è®¤æ–¹æ³•ã€é™æ€æ–¹æ³•" class="headerlink" title="æ¥å£é»˜è®¤æ–¹æ³•ã€é™æ€æ–¹æ³•"></a>æ¥å£é»˜è®¤æ–¹æ³•ã€é™æ€æ–¹æ³•</h2><p>é™¤äº†å®šä¹‰å…¨å±€å¸¸é‡å’ŒæŠ½è±¡æ–¹æ³•æ„å¤–ï¼Œè¿˜å¯ä»¥å®šä¹‰é™æ€æ–¹æ³•ã€é»˜è®¤æ–¹æ³•</p><ol><li>é™æ€æ–¹æ³•åªèƒ½é€šè¿‡æ¥å£è°ƒç”¨</li><li>é€šè¿‡å®ç°ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨æ¥å£ä¸­é»˜è®¤æ–¹æ³•</li><li>ç±»ä¼˜å…ˆåŸåˆ™ï¼Œå¦‚æœæ¥å£çš„æ–¹æ³•å’Œå­ç±»æ–¹æ³•åŒåï¼Œå…ˆè°ƒç”¨çš„æ˜¯extendså­ç±»çš„æ–¹æ³•</li><li>å¦‚æœå®ç°äº†ä¸¤ä¸ªæ¥å£ï¼Œå…¶ä¸­æœ‰åŒåæ–¹æ³•ï¼Œå®ç°ç±»é‡å†™å“ªä¸ªé»˜è®¤æ–¹æ³•ï¼Œå°±è°ƒç”¨çš„æ˜¯é‡å†™åçš„æ–¹æ³•</li></ol><h2 id="å¯é‡å¤æ³¨è§£ã€æ–°ç±»å‹æ³¨è§£"><a href="#å¯é‡å¤æ³¨è§£ã€æ–°ç±»å‹æ³¨è§£" class="headerlink" title="å¯é‡å¤æ³¨è§£ã€æ–°ç±»å‹æ³¨è§£"></a>å¯é‡å¤æ³¨è§£ã€æ–°ç±»å‹æ³¨è§£</h2><ol><li><p>å¯é‡å¤æ³¨è§£ï¼š</p><ol><li>åœ¨æ³¨è§£ç±»ä¸Šå£°æ˜@Repeatableï¼Œæˆå‘˜å€¼ä¸ºMyAnnotations.class</li><li>åœ¨MyAnnotationçš„å…ƒæ³¨è§£å’ŒMyAnnotationsç›¸åŒ</li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Repeatable</span><span class="token punctuation">(</span>MyAnnotations<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//å¯é‡å¤æ³¨è§£ï¼Œå‚æ•°ï¼šæ³¨è§£ç±»çš„æ•°ç»„</span><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span>TYPE<span class="token punctuation">,</span>FIELD<span class="token punctuation">,</span>METHOD<span class="token punctuation">,</span>PARAMETER<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//èƒ½ç”¨äºä¿®é¥°å“ªäº›ç¨‹åºå…ƒç´ </span><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>RetentionPolicy<span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//ä¿®é¥°çš„æ³¨è§£ç”Ÿå‘½å‘¨æœŸ</span><span class="token keyword">public</span> @<span class="token keyword">interface</span> <span class="token class-name">MyAnnotation</span><span class="token punctuation">{</span>    String <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">"abc"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span>TYPE<span class="token punctuation">,</span>FIELD<span class="token punctuation">,</span>METHOD<span class="token punctuation">,</span>PARAMETER<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//å¿…é¡»å’Œä¸Šä¸ªæ³¨è§£ä¿æŒä¸€è‡´</span><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>RetentionPolicy<span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//å¿…é¡»å’Œä¸Šä¸ªæ³¨è§£ä¿æŒä¸€è‡´</span><span class="token keyword">public</span> @<span class="token keyword">interface</span> <span class="token class-name">MyAnnotations</span><span class="token punctuation">{</span>    MyAnnotation<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">{</span>    <span class="token annotation punctuation">@MyAnnotation</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@MyAnnotation</span><span class="token punctuation">(</span><span class="token string">"world"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token punctuation">}</span>            <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>           <span class="token comment" spellcheck="true">//é€šè¿‡åå°„è·å–æ³¨è§£</span>        Class<span class="token operator">&lt;</span>TestAnnotation<span class="token operator">></span> clazz <span class="token operator">=</span> Test<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>        Method m1 <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">"show"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        MyAnnotation<span class="token punctuation">[</span><span class="token punctuation">]</span> mas <span class="token operator">=</span> m1<span class="token punctuation">.</span><span class="token function">getAnnotationsByType</span><span class="token punctuation">(</span>MyAnnotation<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–æ³¨è§£æ•°ç»„</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>MyAnnotation myAnnotation <span class="token operator">:</span> mas<span class="token punctuation">)</span><span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>myAnnotation<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//hello world</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>æ–°ç±»å‹æ³¨è§£ï¼ˆTargetï¼‰</p><ol><li>ElementType.TYPE_PARAMETER è¡¨ç¤ºè¯¥æ³¨è§£èƒ½å†™åœ¨ç±»å‹å˜é‡çš„å£°æ˜è¯­å¥ä¸­</li><li>ElementType.TYPE_USE æ ‡è¯†è¯¥æ³¨è§£èƒ½å†™åœ¨ä½¿ç”¨ç±»å‹çš„ä»»ä½•è¯­å¥ä¸­</li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ideaè¿æ¥mysql</title>
      <link href="/2020/10/23/mysql/idea-lian-jie-mysql/"/>
      <url>/2020/10/23/mysql/idea-lian-jie-mysql/</url>
      
        <content type="html"><![CDATA[<h1 id="Ideaè¿æ¥mysql"><a href="#Ideaè¿æ¥mysql" class="headerlink" title="Ideaè¿æ¥mysql"></a>Ideaè¿æ¥mysql</h1><h2 id="è¿æ¥"><a href="#è¿æ¥" class="headerlink" title="è¿æ¥"></a>è¿æ¥</h2><p>ç‚¹å‡»datasourceï¼Œ+ï¼Œmysqlï¼Œè¾“å…¥ä¿¡æ¯</p><blockquote><p>é”™è¯¯é—®é¢˜ï¼š Server returns invalid timezone. Go to â€˜Advancedâ€™ tab and set â€˜serverTimezoneâ€™ property manually. </p><p>è§£å†³ï¼š</p><p>å¦‚æœä½ æ˜¯8.xåˆ™é€‰æ‹©mysqlå³å¯ï¼Œç¬¬ä¸€æ¬¡éœ€è¦ä¸‹è½½é©±åŠ¨ä¿¡æ¯</p><p>å¦‚æœä½ æ˜¯5.xï¼Œåˆ™é€‰æ‹©5.1</p></blockquote><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201023110156.png"></p><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><h3 id="å¢-åˆ -ä¿®æ”¹-æŸ¥è¯¢è¡¨"><a href="#å¢-åˆ -ä¿®æ”¹-æŸ¥è¯¢è¡¨" class="headerlink" title="å¢/åˆ /ä¿®æ”¹/æŸ¥è¯¢è¡¨"></a>å¢/åˆ /ä¿®æ”¹/æŸ¥è¯¢è¡¨</h3><p>ä¿®æ”¹ï¼šåŒå‡»è¡¨ï¼ŒåŒå‡»è¡¨æ•°æ®ï¼Œè¿›è¡Œæ“ä½œ</p><p>å¢åˆ ï¼šå³é”®è¡¨æ•°æ®ï¼Œadd/delete row</p><p>æäº¤ï¼šå³é”®è¡¨æ•°æ®ï¼Œsubmitï¼Œ<strong>æäº¤ä¹‹åæ‰ä¼šç”Ÿæ•ˆ</strong></p><p>æŸ¥è¯¢ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201023111053.png"></p><h3 id="æ§åˆ¶å°æ“ä½œ"><a href="#æ§åˆ¶å°æ“ä½œ" class="headerlink" title="æ§åˆ¶å°æ“ä½œ"></a>æ§åˆ¶å°æ“ä½œ</h3><p>å¦‚æœéœ€è¦è¾“å…¥è¯­å¥æŸ¥è¯¢ï¼Œæ‰“å¼€æ§åˆ¶å°è¾“å…¥sqlè¯­å¥ï¼Œctrl+enteræ‰§è¡Œ</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201023111155.png"></p><h3 id="ç”Ÿæˆæ•°æ®åº“æˆ–è¡¨çš„SQLè¯­å¥"><a href="#ç”Ÿæˆæ•°æ®åº“æˆ–è¡¨çš„SQLè¯­å¥" class="headerlink" title="ç”Ÿæˆæ•°æ®åº“æˆ–è¡¨çš„SQLè¯­å¥"></a>ç”Ÿæˆæ•°æ®åº“æˆ–è¡¨çš„SQLè¯­å¥</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201023111514.png"></p><h3 id="å¯¼å…¥æˆ–å¯¼å‡ºæ•°æ®åº“æˆ–è¡¨"><a href="#å¯¼å…¥æˆ–å¯¼å‡ºæ•°æ®åº“æˆ–è¡¨" class="headerlink" title="å¯¼å…¥æˆ–å¯¼å‡ºæ•°æ®åº“æˆ–è¡¨"></a>å¯¼å…¥æˆ–å¯¼å‡ºæ•°æ®åº“æˆ–è¡¨</h3><p><strong>å¯¼å‡º</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201023111643.png"></p><p><strong>å¯¼å…¥</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201023111820.png"></p><h3 id="æ ¹æ®è¡¨ç”Ÿæˆå®ä½“ç±»"><a href="#æ ¹æ®è¡¨ç”Ÿæˆå®ä½“ç±»" class="headerlink" title="æ ¹æ®è¡¨ç”Ÿæˆå®ä½“ç±»"></a>æ ¹æ®è¡¨ç”Ÿæˆå®ä½“ç±»</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201023111914.png"></p>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåšå®¢ä¼˜åŒ–ç¯‡(matery)(ä¸€)</title>
      <link href="/2020/10/22/hexo/hexo-bo-ke-you-hua-pian-matery-yi/"/>
      <url>/2020/10/22/hexo/hexo-bo-ke-you-hua-pian-matery-yi/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ¬¡æ˜¯å¯¹materyä¸»é¢˜çš„å†æ¬¡ä¼˜åŒ–ï¼Œå¯¹åŸæœ‰åŠŸèƒ½çš„å¢åˆ ï¼Œç»‘å®šåŸŸåï¼ŒcdnåŠ é€Ÿâ€¦â€¦</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å…­æœˆä»½æ­å»ºèµ·æ¥çš„åšå®¢ï¼Œå°è‹åªæ˜¯å½“æ—¶è¿›è¡Œäº†ç®€å•çš„ä¼˜åŒ–å’Œä¸€äº›é­”æ”¹ï¼Œç”±äºå­¦ä¹ çš„åŸå› ï¼Œä¸€ç›´æ²¡æœ‰æœºä¼šå¯¹åšå®¢è¿›ä¸€æ­¥çš„ä¼˜åŒ–ã€‚è¿™æ¬¡æ›´åŠ æ·±å…¥çš„äº†è§£ä¸€ä¸‹ï¼Œå‘ç°äº†æœ¬ç«™æœ‰ä¸å°çš„æ¼æ´ï¼Œåœ¨æ­¤æŸ¥æ¼è¡¥ç¼ºï¼Œå¯¹åŸæœ‰çš„åŠŸèƒ½è¿›è¡Œå¢åˆ ï¼ŒåŒ…æ‹¬ä¸€ç›´æƒ³è¦å®ç°çš„åŸŸåç»‘å®šå’Œå…¨ç«™åŠ é€Ÿï¼Œè¿™ä¸€æ¬¡å…¨éƒ¨å®ç°ã€‚</p><h1 id="é­”æ”¹è®°å½•"><a href="#é­”æ”¹è®°å½•" class="headerlink" title="é­”æ”¹è®°å½•"></a>é­”æ”¹è®°å½•</h1><h2 id="âŒåˆ é™¤"><a href="#âŒåˆ é™¤" class="headerlink" title="âŒåˆ é™¤"></a>âŒåˆ é™¤</h2><ul><li><input disabled="" type="checkbox"> è‡ªå®šä¹‰é¼ æ ‡æ ·å¼ï¼ˆç”±äºcdnå’Œé…ç½®ä¸åŒæ­¥ï¼Œæ€»æ˜¯æ— æ³•åŠ è½½ï¼‰</li><li><input disabled="" type="checkbox"> éŸ³ä¹æ’­æ”¾å™¨ï¼ˆåŠ è½½é€Ÿåº¦è¿‡æ…¢ï¼Œå½±å“é¡µé¢åŠ è½½ï¼‰</li></ul><h2 id="âœ…æ–°å¢åŠŸèƒ½"><a href="#âœ…æ–°å¢åŠŸèƒ½" class="headerlink" title="âœ…æ–°å¢åŠŸèƒ½"></a>âœ…æ–°å¢åŠŸèƒ½</h2><ul><li><input checked="" disabled="" type="checkbox"> å¢åŠ ï¼Œç¾åŒ–artitalkè¯´è¯´é¡µé¢</li></ul><h2 id="âœ…æ–°å¢ç¾åŒ–"><a href="#âœ…æ–°å¢ç¾åŒ–" class="headerlink" title="âœ…æ–°å¢ç¾åŒ–"></a>âœ…æ–°å¢ç¾åŒ–</h2><ul><li><input checked="" disabled="" type="checkbox"> ä¸»é¡µèƒŒæ™¯apiéšæœºè½®æ¢</li><li><input checked="" disabled="" type="checkbox"> æ•´ä½“èƒŒæ™¯ä¿®æ”¹</li><li><input checked="" disabled="" type="checkbox"> å¯¼èˆªæ¡é¢œè‰²</li><li><input checked="" disabled="" type="checkbox"> ç›®å½•é€æ˜åŒ–</li><li><input checked="" disabled="" type="checkbox"> sakuraæ¨±èŠ±ä¿®æ”¹</li><li><input checked="" disabled="" type="checkbox"> æ»šåŠ¨æ¡ç¾åŒ–</li><li><input checked="" disabled="" type="checkbox"> æ›´æ¢æ–‡ç« ç‰¹è‰²å›¾ç‰‡</li></ul><h2 id="ğŸ†—å†…å®¹ä¿®æ”¹"><a href="#ğŸ†—å†…å®¹ä¿®æ”¹" class="headerlink" title="ğŸ†—å†…å®¹ä¿®æ”¹"></a>ğŸ†—å†…å®¹ä¿®æ”¹</h2><ul><li><input checked="" disabled="" type="checkbox"> å¢åŠ ç•™è¨€é¡»çŸ¥</li><li><input checked="" disabled="" type="checkbox"> å¢åŠ å‹é“¾è¯´æ˜</li><li><input checked="" disabled="" type="checkbox"> å¢åŠ å‹é“¾</li><li><input checked="" disabled="" type="checkbox"> ä¿®æ”¹ä¸ªäººç®€ä»‹</li><li><input checked="" disabled="" type="checkbox"> å¢åŠ é¦–é¡µè§†é¢‘</li><li><input checked="" disabled="" type="checkbox"> å¢åŠ å›¾åº“å†…å®¹</li></ul><h2 id="ğŸ”±åšå®¢ä¼˜åŒ–"><a href="#ğŸ”±åšå®¢ä¼˜åŒ–" class="headerlink" title="ğŸ”±åšå®¢ä¼˜åŒ–"></a>ğŸ”±åšå®¢ä¼˜åŒ–</h2><ul><li><input checked="" disabled="" type="checkbox"> CDNåŠ é€Ÿ</li><li><input checked="" disabled="" type="checkbox"> ç»‘å®šåŸŸå(githubã€codingåŒç»‘å®š)</li><li><input checked="" disabled="" type="checkbox"> è¯ä¹¦è®¤è¯</li></ul><h2 id="é™„é¡µï¼ˆå­¦åˆ°çš„çŸ¥è¯†ï¼‰"><a href="#é™„é¡µï¼ˆå­¦åˆ°çš„çŸ¥è¯†ï¼‰" class="headerlink" title="é™„é¡µï¼ˆå­¦åˆ°çš„çŸ¥è¯†ï¼‰"></a>é™„é¡µï¼ˆå­¦åˆ°çš„çŸ¥è¯†ï¼‰</h2><ul><li>cdnç¼“å­˜åˆ·æ–°é—®é¢˜ï¼Œctrl+f5</li><li>ä»€ä¹ˆæ˜¯cdnï¼Œæ€ä¹ˆå®ç°çš„</li><li>å›¾åºŠçš„ä½œç”¨ï¼Œå›¾åºŠ+cdnæ€ä¹ˆå®ç°çš„</li><li>å›¾ç‰‡æ—‹è½¬å‰¯æœ¬ä¿å­˜</li><li>getåˆ°çš„ç½‘ç«™ï¼š<a href="https://www.heytoolman.com/rmwatermark">è§†é¢‘ä¸‹è½½</a>ï¼Œ<a href="http://www.fhdq.net/emoji/emojifuhao.html">emoji</a>ï¼Œæ¥å£apiï¼Œ<a href="https://www.sioe.cn/yingyong/yanse-rgb-16/">é¢œè‰²ç è¿›åˆ¶è½¬æ¢</a></li></ul><blockquote><p>æœ¬æ¬¡é­”æ”¹éš¾åº¦è¾ƒå¤§ï¼Œé‡å‘è¾ƒå¤šï¼Œå‰æå·²ç»çœ‹äº†æˆ‘ä¹‹å‰çš„ä¸¤æœŸï¼Œå†å›å¤´çœ‹è¿™ä¸ªä¼šæœ‰å¾ˆå¤§çš„å¸®åŠ©ï¼š<a href="https://sulog.top/2020/06/18/hexo/hexo-github-da-jian-matery-bo-ke-er-zhu-ti-pei-zhi-pian/">Hexo+githubæ­å»ºmateryåšå®¢</a></p></blockquote><h1 id="æ­£ç‰‡å¼€å§‹"><a href="#æ­£ç‰‡å¼€å§‹" class="headerlink" title="æ­£ç‰‡å¼€å§‹"></a>æ­£ç‰‡å¼€å§‹</h1><h2 id="1-âŒåˆ é™¤åŠŸèƒ½"><a href="#1-âŒåˆ é™¤åŠŸèƒ½" class="headerlink" title="1. âŒåˆ é™¤åŠŸèƒ½"></a>1. âŒåˆ é™¤åŠŸèƒ½</h2><h3 id="1-1è‡ªå®šä¹‰é¼ æ ‡æ ·å¼"><a href="#1-1è‡ªå®šä¹‰é¼ æ ‡æ ·å¼" class="headerlink" title="1.1è‡ªå®šä¹‰é¼ æ ‡æ ·å¼"></a>1.1è‡ªå®šä¹‰é¼ æ ‡æ ·å¼</h3><p>é”™è¯¯ï¼šæ€»æ˜¯å‡ºç°404æ‰¾ä¸åˆ°å›¾ç‰‡ï¼Œå¤šæ¬¡ä¿®æ”¹æ— æœ</p><p>åŸå› ï¼šç”±äºcdnå’Œé…ç½®ä¸åŒæ­¥ï¼Œæ€»æ˜¯æ— æ³•åŠ è½½</p><h3 id="1-2-éŸ³ä¹æ’­æ”¾å™¨"><a href="#1-2-éŸ³ä¹æ’­æ”¾å™¨" class="headerlink" title="1.2 éŸ³ä¹æ’­æ”¾å™¨"></a>1.2 éŸ³ä¹æ’­æ”¾å™¨</h3><p>åŸå› ï¼šæœ€ä¸»è¦è¿˜æ˜¯åŠ è½½é€Ÿåº¦è¿‡æ…¢ï¼Œå½±å“é¡µé¢åŠ è½½ï¼Œèˆå¼ƒ</p><hr><h2 id="2-âœ…æ–°å¢åŠŸèƒ½"><a href="#2-âœ…æ–°å¢åŠŸèƒ½" class="headerlink" title="2.  âœ…æ–°å¢åŠŸèƒ½"></a>2.  âœ…æ–°å¢åŠŸèƒ½</h2><h3 id="2-1-å¢åŠ artitalkè¯´è¯´é¡µé¢"><a href="#2-1-å¢åŠ artitalkè¯´è¯´é¡µé¢" class="headerlink" title="2.1 å¢åŠ artitalkè¯´è¯´é¡µé¢"></a>2.1 å¢åŠ artitalkè¯´è¯´é¡µé¢</h3><blockquote><p>å‚è€ƒ<a href="https://artitalk.js.org/">å®˜æ–¹æ–‡æ¡£</a></p></blockquote><p>å…ˆå±•ç¤ºä¸€å¼ æ•ˆæœå›¾ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201022131814.png"></p><p>ä¼ é€é—¨ï¼š<a href="https://sulog.top/artitalk/">å°è‹çš„è¯´è¯´é¡µé¢</a></p><hr><h4 id="æ­å»º"><a href="#æ­å»º" class="headerlink" title="æ­å»º"></a>æ­å»º</h4><p>æ­å»ºartitalkéœ€è¦æœ‰ä¸¤å¤§æ­¥éª¤ï¼š</p><ol><li><p>å‡†å¤‡leanCloudç¯å¢ƒï¼Œç”¨äºå­˜å‚¨è¯´è¯´ä¿¡æ¯ï¼ˆç±»ä¼¼äºæ•°æ®åº“ï¼‰</p></li><li><p>materyé…ç½®</p></li></ol><p><strong>leanCloudç¯å¢ƒæ­¥éª¤ï¼š</strong></p><ol><li>éœ€è¦å‡†å¤‡ä¸€ä¸ªleanCloud<strong>å›½é™…ç‰ˆ</strong>è´¦å·ï¼ˆå›½å†…ç‰ˆå’Œå›½é™…ç‰ˆä¸äº’é€šï¼‰</li><li>å‰å¾€ <a href="https://leancloud.app/">LeanCloud å›½é™…ç‰ˆ</a>ï¼Œæ³¨å†Œè´¦å·ã€‚</li><li>æ³¨å†Œå®Œæˆä¹‹åæ ¹æ® LeanCloud çš„æç¤ºç»‘å®šæ‰‹æœºå·å’Œé‚®ç®±ã€‚</li><li>ç»‘å®šå®Œæˆä¹‹åç‚¹å‡»<code>åˆ›å»ºåº”ç”¨</code>ï¼Œåº”ç”¨åç§°éšæ„ï¼Œæ¥ç€åœ¨<code>ç»“æ„åŒ–æ•°æ®</code>ä¸­åˆ›å»º <code>class</code>ï¼Œå‘½åä¸º <code>shuoshuo</code>ã€‚ï¼ˆè¿™é‡Œå‘½åå¿…é¡»æ˜¯shuoshuoï¼‰</li><li>åœ¨ä½ æ–°å»ºçš„åº”ç”¨ä¸­æ‰¾åˆ°<code>ç»“æ„åŒ–æ•°æ®</code>ä¸‹çš„<code>ç”¨æˆ·</code>ã€‚ç‚¹å‡»<code>æ·»åŠ ç”¨æˆ·</code>ï¼Œè¾“å…¥æƒ³ç”¨çš„ç”¨æˆ·ååŠå¯†ç ã€‚</li><li>å›åˆ°<code>ç»“æ„åŒ–æ•°æ®</code>ä¸­ï¼Œç‚¹å‡» <code>class</code> ä¸‹çš„ <code>shuoshuo</code>ã€‚æ‰¾åˆ°æƒé™ï¼Œåœ¨ <code>Class è®¿é—®æƒé™</code>ä¸­å°† <code>add_fields</code> ä»¥åŠ <code>create</code> æƒé™è®¾ç½®ä¸ºæŒ‡å®šç”¨æˆ·ï¼Œè¾“å…¥ä½ åˆšæ‰è¾“å…¥çš„ç”¨æˆ·åä¼šè‡ªåŠ¨åŒ¹é…ã€‚ä¸ºäº†å®‰å…¨èµ·è§ï¼Œå°† <code>delete</code> å’Œ <code>update</code> ä¹Ÿè®¾ç½®ä¸ºè·Ÿå®ƒä»¬ä¸€æ ·çš„æƒé™ã€‚</li><li>ç„¶åæ–°å»ºä¸€ä¸ªåä¸º<code>atComment</code>çš„classï¼Œæƒé™ä»€ä¹ˆçš„ä½¿ç”¨é»˜è®¤çš„å³å¯ã€‚</li><li>ç‚¹å‡» <code>class</code> ä¸‹çš„ <code>_User</code> æ·»åŠ åˆ—ï¼Œåˆ—åç§°ä¸º <code>img</code>ï¼Œé»˜è®¤å€¼å¡«ä¸Šä½ è¿™ä¸ªè´¦å·æƒ³è¦ç”¨çš„å‘å¸ƒè¯´è¯´çš„å¤´åƒurlï¼Œè¿™ä¸€é¡¹ä¸è¿›è¡Œé…ç½®ï¼Œè¯´è¯´å¤´åƒä¼šæ˜¾ç¤ºä¸ºé»˜è®¤å¤´åƒ â€”â€” Artitalk çš„ logoã€‚</li><li>åœ¨æœ€èœå•æ ä¸­æ‰¾åˆ°è®¾ç½®-&gt; åº”ç”¨ keysï¼Œè®°ä¸‹æ¥ <code>AppID</code> å’Œ <code>AppKey</code> ï¼Œä¸€ä¼šéœ€è¦ç”¨ã€‚</li><li>æœ€åå°† <code>_User</code> ä¸­çš„æƒé™å…¨éƒ¨è°ƒä¸ºæŒ‡å®šç”¨æˆ·ï¼Œæˆ–è€…æ•°æ®åˆ›å»ºè€…ï¼Œä¸ºäº†ä¿è¯ä¸è¢«ç¯¡æ”¹ç”¨æˆ·æ•°æ®å·²è¾¾åˆ°å¼ºåˆ¶å‘å¸ƒè¯´è¯´ã€‚</li></ol><p><strong>materyé…ç½®æ­¥éª¤</strong></p><ol><li><p>æ–°å»º<code>source\artitalk\index.md</code></p><pre class=" language-markdown"><code class="language-markdown"><span class="token hr punctuation">---</span>title: artitalktype: artitalklayout: 'artitalk'<span class="token title important">noDate: 'true'<span class="token punctuation">---</span></span></code></pre></li><li><p>æ–°å»ºæ ·å¼<code>themes\Matery\layout\artitalk.ejs</code></p><pre><code>&lt;%- partial('_partial/bg-cover') %&gt;&lt;main class="content"&gt;    &lt;div class="container friends-container"&gt;        &lt;div class="card"&gt;            &lt;div class="card-content"&gt;                &lt;!-- artitalk --&gt;                &lt;script type="text/javascript" src="https://unpkg.com/artitalk"&gt;</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>                <span class="token operator">&lt;</span><span class="token operator">div</span> id<span class="token operator">=</span><span class="token string">"artitalk_main"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">div</span><span class="token operator">></span>                <span class="token operator">&lt;</span>script<span class="token operator">></span>                    new Artitalk<span class="token punctuation">(</span>{                        <span class="token comment" spellcheck="true">//è¿™é‡Œæ˜¯å…·ä½“é…ç½®ï¼Œéœ€è¦çœ‹å®˜ç½‘çš„å‚æ•°è¿›è¡Œé…ç½®</span>                        appId: <span class="token string">'L0DQwgoqrBI3t8azuI5sjVuU-MdYXbMMI'</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//ä½ çš„leanCloudçš„appid</span>                        appKey: <span class="token string">'wqky9qmnyUhaHprw5WCgH1s1'</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//ä½ çš„leanCloudçš„appkey</span>                        pagesize: <span class="token string">'5'</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//ä¸€é¡µæ˜¾ç¤ºçš„è¯´è¯´ä¸ªæ•°</span>                        color1: '<span class="token comment" spellcheck="true">#6DD0F2',//èƒŒæ™¯é¢œè‰²1</span>                        color2: '<span class="token comment" spellcheck="true">#F59ABE',//èƒŒæ™¯é¢œè‰²2ï¼ŒåŒè‰²</span>                        color3: <span class="token string">'white'</span><span class="token comment" spellcheck="true">//å­—ä½“é¢œè‰²</span>                    }<span class="token punctuation">)</span>                <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>                <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token comment" spellcheck="true">-- artitalk.end --></span>            <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">div</span><span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">div</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">div</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">></span></code></pre><blockquote><p>è¿™ä¸¤ä¸ªä»£ç å—æ˜¯è¿èµ·æ¥çš„</p></blockquote><p>å…·ä½“é…ç½®é¡¹è§<a href="https://artitalk.js.org/settings.html">å®˜ç½‘</a></p></li><li><p>ä¸»é¢˜ç›®å½•æ·»åŠ å¯¼èˆªæ <code>themes\Matery\_config.yml</code></p><p>æ³¨æ„ç¼©è¿›</p><pre class=" language-yml"><code class="language-yml">Artitalk:url: /artitalkicon: fas fa-comment</code></pre></li></ol><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><ol><li>ç™»å½•<ol><li>å³ä¸‹è§’çš„æŒ‰é’®ï¼Œåœ¨èº«ä»½éªŒè¯çš„è¾“å…¥æ¡†ä¸­å¡«å…¥Leancloudè®¾ç½®çš„ç”¨æˆ·å¯†ç </li></ol></li><li>è¾“å…¥å†…å®¹<ol><li>æ”¯æŒmarkdownæ ¼å¼</li><li>æ”¯æŒhtmlæ ¼å¼</li></ol></li><li>åˆ é™¤<ol><li>ç‚¹å‡»å³ä¸Šè§’çš„x</li><li>ä¹Ÿå¯ä»¥ç™»å½•leancloudï¼Œæ‰¾åˆ°shuoshuoåˆ é™¤å†…å®¹å³å¯</li></ol></li></ol><hr><h2 id="3-âœ…æ–°å¢ç¾åŒ–"><a href="#3-âœ…æ–°å¢ç¾åŒ–" class="headerlink" title="3.  âœ…æ–°å¢ç¾åŒ–"></a>3.  âœ…æ–°å¢ç¾åŒ–</h2><p>è¿™æ˜¯æˆ‘çš„èƒŒæ™¯å›¾æ•ˆæœ</p><p><code>å¦‚æœä½ è§‰å¾—æœ‰å‚è€ƒæ„ä¹‰ï¼Œä¸å¦¨çœ‹çœ‹æˆ‘çš„ä¼˜åŒ–ç¬”è®°</code></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201022134118.png"></p><h3 id="3-1-ä¸»é¡µèƒŒæ™¯apiéšæœºè½®æ¢"><a href="#3-1-ä¸»é¡µèƒŒæ™¯apiéšæœºè½®æ¢" class="headerlink" title="3.1 ä¸»é¡µèƒŒæ™¯apiéšæœºè½®æ¢"></a>3.1 ä¸»é¡µèƒŒæ™¯apiéšæœºè½®æ¢</h3><p>åœ¨ä»¥ä¸‹æ–‡ä»¶<code>themes\Matery\layout\_partial\bg-cover-content.ejs</code>ä½ç½®ã€‚</p><pre class=" language-ejs"><code class="language-ejs"><% if (theme.banner.enable) { %><script>    // æ¯å¤©åˆ‡æ¢ banner å›¾.  Switch banner image every day.    $('.bg-cover').css('background-image', 'url(<%- theme.jsDelivr.url %><%- url_for('/medias/banner/' + new Date().getDay() + '.jpg') %>)');</script><% } else { %><script>    $('.bg-cover').css('background-image', 'url(<%- theme.jsDelivr.url %><%- url_for('/medias/banner/0.jpg') %>)');</script><% } %></code></pre><p>ä¿®æ”¹ä¸ºapiæ¥å£</p><pre class=" language-ejs"><code class="language-ejs"><% if (theme.banner.enable) { %>    <script>        $('.bg-cover').css('background-image', 'url(https://api.ixiaowai.cn/api/api.php)');    </script><% } %></code></pre><blockquote><p><code>url</code>å°±æ˜¯æ¥å£</p><p>è¿™æ˜¯æˆ‘æ‰¾åˆ°çš„å‡ ä¸ªå¥½çœ‹ï¼ŒåŠ è½½é€Ÿåº¦å¿«çš„æ¥å£ï¼š</p><p><code>https://api.ixiaowai.cn/api/api.php</code>ï¼ˆäºŒæ¬¡å…ƒåŠ¨æ¼«ï¼‰</p><p><code>https://api.ixiaowai.cn/gqapi/gqapi.php</code>ï¼ˆé«˜æ¸…å£çº¸ï¼‰</p><p>æ¯”è¾ƒå¥½ç©çš„æ–‡å­—API<br><code>https://api.ixiaowai.cn/ylapi/index.php</code>ï¼ˆä¸€è¨€è¯­å½•ï¼‰</p><p><code>https://api.ixiaowai.cn/tgrj/index.php</code>ï¼ˆèˆ”ç‹—æ—¥è®°ï¼‰</p></blockquote><p><font color="red">ç‰¹åˆ«æ³¨æ„ï¼š</font></p><p>å¦‚æœä½ å¼€å¯äº†materyçš„cdnåŠ é€Ÿï¼Œå°†å¾ˆæœ‰å¯èƒ½åœ¨ä¿®æ”¹ä¹‹åï¼Œåˆ·æ–°å¹¶æ²¡æœ‰å‡ºç°æ•ˆæœã€‚ï¼ˆå½“æ—¶æˆ‘ç”šè‡³æŠŠcsså…¨éƒ¨åˆ æ‰ï¼Œä»ç„¶å¯ä»¥è¿è¡Œï¼Œä»¥ä¸ºcsséƒ½æ²¡æœ‰äº§ç”Ÿæ•ˆæœï¼‰</p><p>åŸå› ï¼š</p><ol><li>å› ä¸ºæµè§ˆå™¨ç¼“å­˜äº†ä½ ä»¥å‰çš„cssé™æ€æ–‡ä»¶ï¼Œéœ€è¦æ¸…é™¤ç¼“å­˜å†è¿›è¡Œè®¿é—®</li><li>å› ä¸ºcdnä¼šç¼“å­˜ä½ ä»¥å‰çš„cssé™æ€æ–‡ä»¶ï¼Œè€Œä¸”cdnçš„ç¼“å­˜æ–‡ä»¶æ˜¯24å°æ—¶å†…æ‰åˆ·æ–°ï¼Œè¿™æ‰å¯¼è‡´ä½ çŸ­æ—¶é—´ä¸èƒ½æŸ¥çœ‹æ•ˆæœ</li></ol><p>è§£å†³æ–¹æ³•ï¼š</p><ol><li>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼šéƒ¨ç½²ä¹‹åï¼Œå°è¯•ctrl+f5é¡µé¢ï¼ˆctrl+f5çš„ä½œç”¨ï¼šæŠŠæµè§ˆå™¨ä¸­çš„ä¸´æ—¶æ–‡ä»¶å¤¹çš„æ–‡ä»¶åˆ é™¤å†é‡æ–°ä»æœåŠ¡å™¨ä¸‹è½½ï¼‰</li><li>åˆ·æ–°cdnï¼šè¿™ä¸ªå¹¶ä¸çŸ¥é“ç®¡ä¸ç®¡ç”¨ï¼Œå¯ä»¥å°è¯•è®¿é—®<code>https://purge.jsdelivr.net/gh/ä½ çš„githubè´¦å·/ä½ çš„ä»“åº“å/css/matery.css</code>ï¼Œå¦‚æˆ‘çš„ï¼š<code>https://cdn.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/css/matery.css</code>ï¼Œè®¿é—®ä¹‹åå†ctrl+f5æŸ¥çœ‹é¡µé¢</li></ol><blockquote><p>è¿™é‡Œå»ºè®®çœ‹ä¸€çœ‹hexoçš„åŸç†ï¼Œçœ‹çœ‹hexoå¼•æ“æ˜¯å¦‚ä½•æ¸²æŸ“cssçš„ï¼š<a href="https://segmentfault.com/a/1190000008784436">æµ…æhexo</a></p></blockquote><h3 id="3-2-æ•´ä½“èƒŒæ™¯ä¿®æ”¹"><a href="#3-2-æ•´ä½“èƒŒæ™¯ä¿®æ”¹" class="headerlink" title="3.2 æ•´ä½“èƒŒæ™¯ä¿®æ”¹"></a>3.2 æ•´ä½“èƒŒæ™¯ä¿®æ”¹</h3><p>åœ¨<code>themes\Matery\source\css\matery.css</code>ï¼Œctrl+Få¿«æ·é”®æŸ¥æ‰¾<code>body</code><br>ä¿®æ”¹æ ·å¼å¦‚ä¸‹ï¼š</p><pre class=" language-css"><code class="language-css"><span class="token selector">body </span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/* background-color: #eaeaea; */</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span><span class="token number">60</span>deg, <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span>, <span class="token number">165</span>, <span class="token number">150</span>, <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token number">5%</span>, <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">228</span>, <span class="token number">255</span>, <span class="token number">0.35</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token number">0%</span> <span class="token number">0%</span> / cover, <span class="token url">url("https://ae01.alicdn.com/kf/H18a4b998752a4ae68b8e85d432a5aef0l.png")</span>, <span class="token url">url("https://ae01.alicdn.com/kf/H21b5f6b8496141a1979a33666e1074d9x.jpg")</span> <span class="token number">0</span>px <span class="token number">0</span>px<span class="token punctuation">;</span>    <span class="token property">background-attachment</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#7F95D1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="3-3-å¯¼èˆªæ¡é¢œè‰²"><a href="#3-3-å¯¼èˆªæ¡é¢œè‰²" class="headerlink" title="3.3 å¯¼èˆªæ¡é¢œè‰²"></a>3.3 å¯¼èˆªæ¡é¢œè‰²</h3><p>ä¿®æ”¹<code>themes\Matery\source\css\matery.css</code>æ ·å¼</p><p>å¿«æ·é”®ctrl+FæŸ¥æ‰¾å®šä½åˆ°<code>#4cbf30</code>ï¼ˆæµ…ç»¿è‰²ï¼‰å’Œ<code>#0f9d58</code>ï¼ˆæ·±ç»¿è‰²ï¼‰è¿˜æœ‰é¦–é¡µå­—ä½“é¢œè‰²ï¼Œ</p><p>ç„¶åå°†å…¶ä¿®æ”¹ä¸ºä½ å–œæ¬¢çš„é¢œè‰²</p><blockquote><p>æ³¨æ„ï¼šä¸çŸ¥æœ‰ä¸€å¤„éœ€è¦æ›¿æ¢ï¼Œå»ºè®®å°†æ‰€æœ‰çš„éƒ½æµ…ç»¿è‰²å’Œæ·±ç»¿è‰²éƒ½æ›¿æ¢æˆä½ çš„é¢œè‰²</p><p>é‡åˆ°çš„å‘ï¼š</p><p>å¿˜è®°ä¿®æ”¹è¿™ä¸ªï¼Œå¯¼è‡´å¯¼èˆªæ¡é¢œè‰²æ²¡æœ‰ä¿®æ”¹æˆåŠŸ</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.bg-color</span> </span><span class="token punctuation">{</span>    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right, <span class="token hexcode">#6DD0F2</span> <span class="token number">0%</span>, <span class="token hexcode">#F59ABE</span> <span class="token number">100%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0.8</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">/*é€æ˜æ•ˆæœ å€¼èŒƒå›´ 0~1ï¼Œçœ‹æƒ…å†µè‡ªå·±ä¿®æ”¹*/</span><span class="token punctuation">}</span></code></pre></blockquote><h3 id="3-4-æ»šåŠ¨æ¡ç¾åŒ–"><a href="#3-4-æ»šåŠ¨æ¡ç¾åŒ–" class="headerlink" title="3.4 æ»šåŠ¨æ¡ç¾åŒ–"></a>3.4 æ»šåŠ¨æ¡ç¾åŒ–</h3><p>åœ¨<code>themes\Matery\source\css\matery.css</code></p><p>æ ·å¼æ·»åŠ å¦‚ä¸‹ï¼š</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* æ»šåŠ¨æ¡ */</span><span class="token selector"><span class="token pseudo-element">::-webkit-scrollbar-thumb</span> </span><span class="token punctuation">{</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#FF2A68</span><span class="token punctuation">;</span>    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">-webkit-linear-gradient</span><span class="token punctuation">(</span><span class="token number">45</span>deg,<span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">.4</span><span class="token punctuation">)</span> <span class="token number">25%</span>,transparent <span class="token number">25%</span>,transparent <span class="token number">50%</span>,<span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">.4</span><span class="token punctuation">)</span> <span class="token number">50%</span>,<span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">255</span>,<span class="token number">.4</span><span class="token punctuation">)</span> <span class="token number">75%</span>,transparent <span class="token number">75%</span>,transparent<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">3</span>em<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token pseudo-element">::-webkit-scrollbar-track</span> </span><span class="token punctuation">{</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#ffcaca</span>ff<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">3</span>em<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token pseudo-element">::-webkit-scrollbar</span> </span><span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">8</span>px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">15</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="3-5-ç›®å½•é€æ˜åŒ–"><a href="#3-5-ç›®å½•é€æ˜åŒ–" class="headerlink" title="3.5 ç›®å½•é€æ˜åŒ–"></a>3.5 ç›®å½•é€æ˜åŒ–</h3><p>å¢åŠ æ ·å¼åœ¨<code>themes\Matery\layout\_partial\post-detail-toc.ejs</code></p><p><strong>ä¿®æ”¹</strong>å†…å®¹å¦‚ä¸‹ï¼š</p><pre class=" language-ejs"><code class="language-ejs">.toc-widget {width: 345px;padding-left: 20px;background-color: rgb(255, 255, 255,0.7);border-radius: 10px;box-shadow: 0 10px 35px 2px rgba(0, 0, 0, .15), 0 5px 15px rgba(0, 0, 0, .07), 0 2px 5px -5px rgba(0, 0, 0, .1) !important;}</code></pre><h3 id="3-6-sakuraæ¨±èŠ±ä¿®æ”¹"><a href="#3-6-sakuraæ¨±èŠ±ä¿®æ”¹" class="headerlink" title="3.6 sakuraæ¨±èŠ±ä¿®æ”¹"></a>3.6 sakuraæ¨±èŠ±ä¿®æ”¹</h3><blockquote><p>ä¹‹å‰çš„æ¨±èŠ±æ•ˆæœå¹¶æ²¡æœ‰æˆåŠŸæ˜¾ç¤ºï¼Œäºæ˜¯æ¢äº†ä¸€ä¸ªæ€è·¯ï¼ŒæˆåŠŸï¼</p></blockquote><ol><li><p>æ‰¾åˆ°<code>themes\hexo-theme-matery\source\libs\others</code>æ–‡ä»¶å¤¹</p></li><li><p>åœ¨é‡Œé¢æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œæ‰“å¼€è¿™ä¸ªç½‘å€<a href="https://sulog.oss-cn-hangzhou.aliyuncs.com/Yafine/cdn@2.5/source/js/sakura.js">ä¼ é€é—¨</a>ï¼Œå°†å†…å®¹å¤åˆ¶ç²˜è´´åˆ°æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œå†å°†å…¶å‘½åä¸º<code>sakura.js</code></p></li><li><p>æ¥ç€æ¥åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œæ‰¾åˆ°<code>libs.js</code>ï¼Œåœ¨jsæœ€åä¸€è¡Œæ·»åŠ  <code>sakura: /libs/others/sakura.js</code></p></li><li><p>ç„¶åå†åˆ°<code>themes\hexo-theme-matery\layout\layout.ejs</code>é‡Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-ejs"><code class="language-ejs"><% if (theme.sakura.enable) { %><script type="text/javascript" src="<%- theme.libs.js.sakura %>"></script><% } %></code></pre></li><li><p>æœ€åå†åˆ°matery<strong>ä¸»é¢˜</strong>é…ç½®æ–‡ä»¶æ·»åŠ ï¼š</p><p>æ³¨æ„ç¼©è¿›</p><pre class=" language-yml"><code class="language-yml">sakura:  enable: true</code></pre><p>åˆ°è¿™é‡Œå°±å¤§åŠŸå‘Šæˆäº†ï¼ä»¥åä½ æƒ³å¼€å°±å¼€ï¼Œè§‰å¾—ä¸å¥½çœ‹äº†è¿˜å¯ä»¥æ¢ç‰¹æ•ˆã€‚</p></li></ol><p><strong>ä¿®æ”¹èŠ±ç“£çš„æ•°é‡</strong></p><p>å› ä¸ºæ™®éåœ¨ä½¿ç”¨çš„æ¨±èŠ±èƒŒæ™¯æ•ˆæœèŠ±ç“£æ•°å¤ªå¤šäº†ï¼Œä¸€äº›äººä¸å¤ªå–œæ¬¢ã€‚</p><p>äºæ˜¯æŒ‰ä¸åŒèŠ±ç“£æ•°é‡åšäº†å‡ ä¸ªæ–°çš„ <code>js</code> ï¼Œå¹¶æä¾›å¦‚ä¸‹ <code>cdn</code> å½¢å¼çš„å¼•ç”¨ï¼š</p><pre><code>https://cdn.jsdelivr.net/gh/fz6m/Private-web@1.2/js/sakura/sakura-small.js</code></pre><p>ä»¥ä¸Šä¸ºå°‘é‡æ¨±èŠ±æ•ˆæœï¼Œå¦æä¾›å‡ ä¸ªä¸åŒæ•°é‡çš„æ–‡ä»¶å¼•ç”¨åï¼š</p><table><thead><tr><th>æ–‡ä»¶å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>sakura-small.js</td><td>å°‘é‡æ¨±èŠ±</td></tr><tr><td>sakura-half.js</td><td>æ¨±èŠ±ç›¸å¯¹åŸæ•ˆæœæ•°é‡å‡åŠ</td></tr><tr><td>sakura-reduce.js</td><td>æ¨±èŠ±ç›¸å¯¹åŸæ•ˆæœå‡å°‘1/4</td></tr><tr><td>sakura-original.js</td><td>æ¨±èŠ±æ•°é‡ä¸å˜ï¼ˆåŸæ•ˆæœï¼‰</td></tr></tbody></table><h3 id="3-7-æ›´æ¢æ–‡ç« ç‰¹è‰²å›¾ç‰‡"><a href="#3-7-æ›´æ¢æ–‡ç« ç‰¹è‰²å›¾ç‰‡" class="headerlink" title="3.7  æ›´æ¢æ–‡ç« ç‰¹è‰²å›¾ç‰‡"></a>3.7  æ›´æ¢æ–‡ç« ç‰¹è‰²å›¾ç‰‡</h3><ol><li><p>å°†å›¾ç‰‡æ”¾åœ¨<code>\themes\matery\source\medias\featureimages</code></p><ol><li>å›¾ç‰‡é€‰æ‹©å®¹é‡å°çš„</li><li>å›¾ç‰‡é€‰æ‹©æ¨ªå±çš„ï¼Œå¦‚æœéœ€è¦æ—‹è½¬ï¼Œwin10ç³»ç»Ÿæ—‹è½¬æ–¹æ³•ï¼š<ol><li>ç‚¹å¼€å›¾ç‰‡ï¼Œæ—‹è½¬ï¼Œctrl+så¦å­˜ä¸º</li><li><strong>å¦‚æœåªæ˜¯æ—‹è½¬æ²¡æœ‰å¦å­˜ä¸ºï¼Œå…¶å®å¹¶æ²¡æœ‰æ—‹è½¬è¿‡æ¥ï¼Œä¸Šä¼ ä¹‹åä»ç„¶æ˜¯ç«–å±çš„ï¼</strong></li></ol></li></ol></li><li><p>æ‰¾åˆ°<strong>ä¸»é¢˜</strong>é…ç½®æ–‡ä»¶<code>\themes\matery\</code></p></li><li><p>æœç´¢<code>featureImages</code>ï¼Œå¢åŠ å›¾åºŠçš„æ–‡ä»¶è·¯å¾„</p><ol><li>è¿™é‡Œå¦‚æœå¼€å¯äº†materyçš„cdnåŠ é€Ÿï¼Œåˆ™åŠ è½½æ—¶ä¼šè‡ªåŠ¨åœ¨å›¾ç‰‡é“¾æ¥å‰åŠ ä¸Šcdnçš„é“¾æ¥ï¼Œæ•…è¿™é‡Œåªéœ€è¦å†™æ–‡ä»¶è·¯å¾„å³å¯</li></ol></li></ol><blockquote><p>å¯ä»¥çœ‹åˆ°å›¾ç‰‡æ˜¯å’Œåšå®¢æ”¾åœ¨ä¸€èµ·çš„ï¼Œä¸ºäº†åŠ å¿«åšå®¢çš„åŠ è½½é€Ÿåº¦ï¼Œå°½é‡é€‰æ‹©<strong>å®¹é‡å°çš„å›¾ç‰‡ï¼</strong></p></blockquote><pre class=" language-yml"><code class="language-yml">featureImages:- /medias/featureimages/f2.jpg- /medias/featureimages/f1.jpg- /medias/featureimages/fe3.jpg- /medias/featureimages/f4.jpg- /medias/featureimages/fe5.jpg- /medias/featureimages/fe6.jpg- /medias/featureimages/fe7.jpg</code></pre><hr><h2 id="4-ğŸ”±å†…å®¹ä¿®æ”¹"><a href="#4-ğŸ”±å†…å®¹ä¿®æ”¹" class="headerlink" title="4. ğŸ”±å†…å®¹ä¿®æ”¹"></a>4. ğŸ”±å†…å®¹ä¿®æ”¹</h2><h3 id="4-1-ç•™è¨€é¡»çŸ¥-å‹é“¾è¯´æ˜-ä¸ªäººç®€ä»‹"><a href="#4-1-ç•™è¨€é¡»çŸ¥-å‹é“¾è¯´æ˜-ä¸ªäººç®€ä»‹" class="headerlink" title="4.1 ç•™è¨€é¡»çŸ¥/å‹é“¾è¯´æ˜/ä¸ªäººç®€ä»‹"></a>4.1 ç•™è¨€é¡»çŸ¥/å‹é“¾è¯´æ˜/ä¸ªäººç®€ä»‹</h3><p>å‡åœ¨<code>\source\</code>å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸‹çš„<code>index.md</code>ä¸­æ·»åŠ å†…å®¹å³å¯</p><h3 id="4-2-å‹é“¾"><a href="#4-2-å‹é“¾" class="headerlink" title="4.2 å‹é“¾"></a>4.2 å‹é“¾</h3><p>åœ¨<code>\source\_data\friends.json</code>æ·»åŠ jsonå­—ç¬¦ä¸²</p><p><font color="pink">æ¬¢è¿å°ä¼™ä¼´åˆ†äº«å‹é“¾å‘€~</font></p><p><strong>Materyç‰ˆï¼š</strong></p><p>äº¤æ¢å‹é“¾è¿˜è¯·è¯„è®ºæ­¤æ ¼å¼å“¦~ğŸŒ¿</p><pre class=" language-json"><code class="language-json"><span class="token punctuation">{</span>    <span class="token property">"avatar"</span><span class="token operator">:</span> <span class="token string">"https://cdn.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/medias/logo.png"</span><span class="token punctuation">,</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"å°è‹ã®ä¸‡äº‹å±‹"</span><span class="token punctuation">,</span>    <span class="token property">"introduction"</span><span class="token operator">:</span> <span class="token string">"ä¸€ä¸ªä¸æ˜¯åªä¼šå†™ä¸šåŠ¡ä»£ç çš„åç«¯æ”»åŸç‹®ï¼"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://sulog.top/"</span><span class="token punctuation">,</span>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"å‰å»å…³ç…§"</span><span class="token punctuation">}</span></code></pre><p><strong>éMateryç‰ˆï¼š</strong></p><pre><code>åšå®¢åç§°: å°è‹ã®ä¸‡äº‹å±‹åšå®¢åœ°å€: https://sulog.top/åšå®¢å¤´åƒ: https://cdn.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/medias/logo.pngåšå®¢ç®€ä»‹: ä¸€ä¸ªä¸æ˜¯åªä¼šå†™ä¸šåŠ¡ä»£ç çš„åç«¯æ”»åŸç‹®ï¼å¯é€‰æ ‡é¢˜: è®¿é—®ä¸»é¡µ</code></pre><h3 id="4-3-é¦–é¡µè§†é¢‘"><a href="#4-3-é¦–é¡µè§†é¢‘" class="headerlink" title="4.3 é¦–é¡µè§†é¢‘"></a>4.3 é¦–é¡µè§†é¢‘</h3><p>åœ¨<code>matery</code><strong>ä¸»é¢˜</strong>é…ç½®æ–‡ä»¶ä¸­æœç´¢<code>video</code>ï¼Œ</p><p>é…ç½®å¹¶å¼€å¯å³å¯</p><pre class=" language-yml"><code class="language-yml">video:  enable: true  showTitle: true  title: æ°¸ä¸æ”¾å¼ƒ  url: https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/images/wudi2.mp4 # å¿…å¡«  pic:  thumbnails:  height: # å¦‚ï¼š400  autoplay: false # æ˜¯å¦è‡ªåŠ¨æ’­æ”¾  theme: '#42b983'  loop: false # æ˜¯å¦å¾ªç¯æ’­æ”¾  preload: 'auto' # é¢„åŠ è½½ï¼Œå¯é€‰å€¼: 'none', 'metadata', 'auto'  volume: 0.7</code></pre><blockquote><p>æ³¨æ„ï¼š</p><p><code>url</code>ï¼šæœ€å¥½æ˜¯å°†è§†é¢‘ä¸‹è½½ä¸‹æ¥ï¼Œå¹¶ä¸Šä¼ åˆ°å›¾åºŠï¼Œä½¿ç”¨cdné“¾æ¥åŠ é€Ÿ</p><p>ä½¿ç”¨å›¾åºŠç›®çš„ä¸ºäº†è®©å¤§æ–‡ä»¶å’Œéƒ¨ç½²çš„åšå®¢åˆ†ç¦»ï¼ŒåŠ å¿«åšå®¢åŠ è½½é€Ÿåº¦ï¼š<a href="https://yafine-blog.cn/posts/eb3a.html">æ­å»ºå›¾åºŠæ•™ç¨‹</a></p><p>è¿™é‡Œæœ€å¥½å­¦ä¹ ä¸€ä¸‹cdnçš„åŸç†ï¼Œæ›´å¥½çš„ç†è§£ä¸ºä»€ä¹ˆæ¢ä¸ªé“¾æ¥å°±å¯ä»¥åŠ é€Ÿï¼š<a href="https://juejin.im/post/6844903890706661389#heading-0">ä»€ä¹ˆæ˜¯CDNï¼Œæ€ä¹ˆå®ç°åŠ é€Ÿ</a></p></blockquote><h3 id="4-4-å¢åŠ å›¾åº“å†…å®¹"><a href="#4-4-å¢åŠ å›¾åº“å†…å®¹" class="headerlink" title="4.4 å¢åŠ å›¾åº“å†…å®¹"></a>4.4 å¢åŠ å›¾åº“å†…å®¹</h3><blockquote><p>å‰æï¼š</p><ol><li>æœ‰è‡ªå®šä¹‰ç›¸å†Œï¼š<a href="https://sulog.top/2020/06/18/hexo/hexo-github-da-jian-matery-bo-ke-er-zhu-ti-pei-zhi-pian/#toc-heading-5">æ­å»ºè‡ªå®šä¹‰ç›¸å†Œæ•™ç¨‹</a></li></ol></blockquote><ol><li><p>é¦–å…ˆéœ€è¦æœ‰å›¾ç‰‡ï¼Œå°†å›¾ç‰‡ä¸Šä¼ åˆ°å›¾åºŠã€‚</p><p>å›¾åºŠç›®çš„ä¸ºäº†è®©å¤§æ–‡ä»¶å’Œéƒ¨ç½²çš„åšå®¢åˆ†ç¦»ï¼ŒåŠ å¿«åšå®¢åŠ è½½é€Ÿåº¦ï¼š<a href="https://yafine-blog.cn/posts/eb3a.html">æ­å»ºå›¾åºŠæ•™ç¨‹</a></p></li><li><p>è¿™æ—¶ä½ çš„å›¾åºŠå·²ç»æœ‰äº†å›¾ç‰‡ï¼Œæ‰¾åˆ°<code>source\_data\galleries.json </code></p><p>å¢åŠ å›¾åºŠä¸­å›¾ç‰‡çš„åå­—ï¼Œå¦‚æœæ²¡æœ‰æ·»åŠ åˆ™ä¸ä¼šæ˜¾ç¤º</p><pre class=" language-json"><code class="language-json"><span class="token punctuation">[</span>  <span class="token punctuation">{</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"ç›¸å†Œåå­—"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"images/p0.png"</span><span class="token punctuation">,</span>      <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"ç›¸å†Œçš„æè¿°"</span><span class="token punctuation">,</span>      <span class="token property">"photos"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token string">"images/node-1.png"</span><span class="token punctuation">,</span>        <span class="token string">"images/node-2.png"</span><span class="token punctuation">,</span>        <span class="token string">"images/node-3.png"</span><span class="token punctuation">,</span>        <span class="token string">"images/node-4.png"</span><span class="token punctuation">,</span>        <span class="token string">"images/node-5.png"</span><span class="token punctuation">,</span>        <span class="token string">"images/node-6.png"</span><span class="token punctuation">,</span>        <span class="token string">"images/node-7.png"</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre></li></ol><hr><h2 id="5-åšå®¢ä¼˜åŒ–"><a href="#5-åšå®¢ä¼˜åŒ–" class="headerlink" title="5. åšå®¢ä¼˜åŒ–"></a>5. åšå®¢ä¼˜åŒ–</h2><h3 id="5-1-CDNåŠ é€Ÿ"><a href="#5-1-CDNåŠ é€Ÿ" class="headerlink" title="5.1 CDNåŠ é€Ÿ"></a>5.1 CDNåŠ é€Ÿ</h3><p>éœ€è¦å…ˆäº†è§£ä»€ä¹ˆæ˜¯CDNï¼Œå®ƒæ˜¯æ€ä¹ˆåŠ é€Ÿçš„ï¼š<a href="https://juejin.im/post/6844903890706661389#heading-0">CDNçš„ç†è§£</a></p><p>åœ¨matery<strong>ä¸»é¢˜</strong>é…ç½®æ–‡ä»¶ä¸­ï¼Œæœç´¢<code>jsDelivr</code></p><pre class=" language-yml"><code class="language-yml">jsDelivr:  url: https://cdn.jsdelivr.net/gh/githubç”¨æˆ·å/åšå®¢ä»“åº“åæˆ‘çš„ï¼šjsDelivr:  url: https://cdn.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io</code></pre><p>jsdelivræ˜¯ä¸€ä¸ªCDNæœåŠ¡æä¾›å•†ï¼Œä¼˜ç‚¹åœ¨äºå…è´¹ä¸”å…¨çƒé€šç”¨ã€‚å®ƒå¯ä»¥åŠ è½½githubä¸Šçš„æ–‡ä»¶ã€‚</p><p>è€Œä¸”materyå°±æ˜¯ä½¿ç”¨çš„jsDelivrä½œä¸ºcdnåŠ é€Ÿå¼•æ“ï¼Œmateryé€šè¿‡é…ç½®æ–‡ä»¶çš„é…ç½®ï¼Œå°†å¤§éƒ¨åˆ†é™æ€æ–‡ä»¶å‰éƒ½åŠ ä¸Šäº†è¿™ä¸€ä¸²cdné“¾æ¥ï¼Œå®ç°åŠ é€Ÿ</p><p><font color="red">ç‰¹åˆ«æ³¨æ„ï¼š</font></p><p>å¦‚æœä½ å¼€å¯äº†materyçš„cdnåŠ é€Ÿï¼Œå°†å¾ˆæœ‰å¯èƒ½åœ¨ä¿®æ”¹ä¹‹åï¼Œåˆ·æ–°å¹¶æ²¡æœ‰å‡ºç°æ•ˆæœã€‚ï¼ˆå½“æ—¶æˆ‘ç”šè‡³æŠŠcsså…¨éƒ¨åˆ æ‰ï¼Œä»ç„¶å¯ä»¥è¿è¡Œï¼Œä»¥ä¸ºcsséƒ½æ²¡æœ‰äº§ç”Ÿæ•ˆæœï¼‰</p><p>åŸå› ï¼š</p><ol><li>å› ä¸ºæµè§ˆå™¨ç¼“å­˜äº†ä½ ä»¥å‰çš„cssé™æ€æ–‡ä»¶ï¼Œéœ€è¦æ¸…é™¤ç¼“å­˜å†è¿›è¡Œè®¿é—®</li><li>å› ä¸ºcdnä¼šç¼“å­˜ä½ ä»¥å‰çš„cssé™æ€æ–‡ä»¶ï¼Œè€Œä¸”cdnçš„ç¼“å­˜æ–‡ä»¶æ˜¯24å°æ—¶å†…æ‰åˆ·æ–°ï¼Œè¿™æ‰å¯¼è‡´ä½ çŸ­æ—¶é—´ä¸èƒ½æŸ¥çœ‹æ•ˆæœ</li></ol><p>è§£å†³æ–¹æ³•ï¼š</p><ol><li>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼šéƒ¨ç½²ä¹‹åï¼Œå°è¯•ctrl+f5é¡µé¢ï¼ˆctrl+f5çš„ä½œç”¨ï¼šæŠŠæµè§ˆå™¨ä¸­çš„ä¸´æ—¶æ–‡ä»¶å¤¹çš„æ–‡ä»¶åˆ é™¤å†é‡æ–°ä»æœåŠ¡å™¨ä¸‹è½½ï¼‰</li><li>åˆ·æ–°cdnï¼šè¿™ä¸ªå¹¶ä¸çŸ¥é“ç®¡ä¸ç®¡ç”¨ï¼Œå¯ä»¥å°è¯•è®¿é—®<code>https://purge.jsdelivr.net/gh/ä½ çš„githubè´¦å·/ä½ çš„ä»“åº“å/css/matery.css</code>ï¼Œå¦‚æˆ‘çš„ï¼š<code>https://cdn.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/css/matery.css</code>ï¼Œè®¿é—®ä¹‹åå†ctrl+f5æŸ¥çœ‹é¡µé¢</li></ol><h3 id="5-2-åŸŸåç»‘å®š"><a href="#5-2-åŸŸåç»‘å®š" class="headerlink" title="5.2 åŸŸåç»‘å®š"></a>5.2 åŸŸåç»‘å®š</h3><ol><li><p>é¦–å…ˆè´­ä¹°ä¸ªåŸŸåï¼šæˆ‘è´­ä¹°çš„æ˜¯é˜¿é‡Œäº‘çš„åŸŸå</p><ol><li>é˜¿é‡Œäº‘éœ€è¦é‚®ç®±è®¤è¯ï¼Œä¿¡æ¯æ¨¡æ¿è¦èº«ä»½è¯è®¤è¯ï¼ˆè¿™ä¸ªæ—¶é—´ä¹…ä¸€ç‚¹ï¼Œæˆ‘å¤§æ¦‚2å¤©æ‰è®¤è¯å®Œæˆï¼‰</li><li>åªæœ‰è®¤è¯é€šè¿‡ä¹‹åï¼ŒåŸŸåæ‰ä¼šç”Ÿæ•ˆï¼Œä¹‹åçš„æ“ä½œæ‰ä¼šç”Ÿæ•ˆ</li></ol></li><li><p>åœ¨ç»‘å®šåŸŸåä¹‹å‰é¦–å…ˆéœ€è¦å°†è®¿é—®åœ°å€æ·»åŠ åˆ° DNS åŸŸåï¼ˆä½ ä¹°çš„åŸŸåï¼‰è§£æä¹‹ä¸­ã€‚</p><blockquote><p>å› ä¸ºæˆ‘å®ç°çš„æ˜¯githubå’ŒcodingåŒéƒ¨ç½²ï¼Œæ‰€ä»¥è®¾ç½®äº†ä¸¤ç»„</p></blockquote><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201022182931.png"></p></li></ol><table><thead><tr><th>ä¸»æœºè®°å½•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>www</td><td>æŒ‡www.å¼€å¤´æ‰èƒ½è®¿é—®è¯¥åŸŸå<code>www.sulog.top</code></td></tr><tr><td>@</td><td>æŒ‡ç›´æ¥è§£æä¸»åŸŸåsulog.top</td></tr></tbody></table><table><thead><tr><th>è®°å½•ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>A</td><td>ç”¨æ¥æŒ‡å®šåŸŸåçš„ IPv4 åœ°å€ï¼ˆå¦‚ 8.8.8.8ï¼‰ï¼Œå¦‚æœéœ€è¦å°†åŸŸåæŒ‡å‘ä¸€ä¸ª IP åœ°å€ï¼ˆå°±æ˜¯ä½ pingä½ ç½‘ç«™çš„ipï¼‰ï¼Œå°±éœ€è¦æ·»åŠ  A è®°å½•ã€‚</td></tr><tr><td>CNAME</td><td>éœ€è¦å°†åŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸåï¼Œå†ç”±å¦ä¸€ä¸ªåŸŸåæä¾› IP åœ°å€ï¼Œå°±éœ€è¦æ·»åŠ  CNAME è®°å½•ã€‚</td></tr></tbody></table><h4 id="5-2-1-Githubç»‘å®šåŸŸåæ“ä½œ"><a href="#5-2-1-Githubç»‘å®šåŸŸåæ“ä½œ" class="headerlink" title="5.2.1 Githubç»‘å®šåŸŸåæ“ä½œ"></a>5.2.1 Githubç»‘å®šåŸŸåæ“ä½œ</h4><ol><li><p>å®Œæˆä¸Šè¿°æ­¥éª¤    </p></li><li><p>åœ¨ç«™ç‚¹æ ¹ç›®å½•çš„ source ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª CNAME æ–‡ä»¶ï¼ˆæ²¡æœ‰åç¼€ï¼Œå°±å«å¤§å†™çš„CNAMEï¼‰ï¼Œé‡Œé¢å†™å…¥è‡ªå·±çš„åŸŸåï¼Œç„¶åä¿å­˜ï¼Œåœ¨è¿›è¡Œå¦‚ä¸‹çš„æ­¥éª¤ã€‚è¿™æ ·åˆ°æœ€åå½“ä½ åœ¨åœ°å€æ è¾“å…¥ xxx.github.io æ—¶ï¼Œæ‰ä¼šè‡ªåŠ¨è·³è½¬åˆ°ä½ çš„åŸŸåã€‚</p></li><li><p>åœ¨ä½ çš„ GitHub åšå®¢ä»“åº“é‡Œï¼Œç‚¹å‡»ä¸­é—´çš„settingï¼Œè¿›å…¥ä¸‹é¢çš„é¡µé¢ï¼Œå°†ä½ çš„åŸŸåå¡«åˆ° Custom domain é€‰é¡¹ä¸‹</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201022183934.png"></p></li><li><p>å¼ºåˆ¶å¼€å¯ httpsï¼Œå³å½“ä½ åœ¨åœ°å€æ è¾“å…¥åŸŸåï¼Œä¼šè‡ªåŠ¨è¯†åˆ«åŸŸåä¸º https å¼€å¤´ã€‚ç„¶åè¿›è¡Œä¿å­˜ã€‚</p></li><li><p>æˆåŠŸå•¦ï¼Œæµ‹è¯•ä¸€ä¸‹</p><blockquote><p>ç°åœ¨githubæ”¹ç‰ˆï¼Œä¿å­˜åŸŸååï¼Œgithubä¼šè‡ªåŠ¨ç”³è¯·è¯ä¹¦ï¼Œåœ¨æˆ‘ä»¬åŸŸåè§£æè®¿é—®githubçš„åšå®¢åœ°å€æ—¶ï¼Œä¼šæœ‰è¯ä¹¦ã€‚å½“ç„¶éœ€è¦æˆ‘ä»¬è‡ªå·±é‡æ–°æ‰“å¼€æµè§ˆå™¨æ‰ä¼šç”Ÿæ•ˆå™¢~</p></blockquote></li></ol><h4 id="5-2-2-codingç»‘å®šåŸŸåæ“ä½œ"><a href="#5-2-2-codingç»‘å®šåŸŸåæ“ä½œ" class="headerlink" title="5.2.2 codingç»‘å®šåŸŸåæ“ä½œ"></a>5.2.2 codingç»‘å®šåŸŸåæ“ä½œ</h4><ol><li><p>å®Œæˆä¸Šè¿°æ“ä½œ</p></li><li><p>æ‰“å¼€codingçš„åšå®¢ä»“åº“ï¼Œç‚¹å‡»é™æ€ç½‘ç«™ï¼Œè®¾ç½®</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201022184131.png"></p></li><li><p>æ‰¾åˆ°è‡ªå®šä¹‰åŸŸåï¼Œè¾“å…¥åŸŸåç»‘å®šï¼Œå°†ä¸å¸¦wwwçš„è®¾ä¸ºé¦–é€‰ï¼Œwwwçš„å‹¾é€‰è·³è½¬è‡³é¦–é€‰ï¼Œå¼ºåˆ¶HTTPS</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201022184236.png"></p><blockquote><p>æ³¨æ„ï¼š</p><p>å½“å‡ºç°è¯ä¹¦è®¤è¯å¤±è´¥çš„æ—¶å€™ï¼Œå°†ä¸Šè¿°åŸŸåè§£æçš„githubä¸¤ä¸ªæš‚åœï¼Œå†æ¬¡è®¤è¯ï¼Œå…ˆè®¤è¯é¦–é€‰çš„ï¼Œå¤šè¯•å‡ æ¬¡å³å¯æˆåŠŸï¼</p></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> matery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueå‰ç«¯æ¡†æ¶</title>
      <link href="/2020/10/19/qian-duan/vue/"/>
      <url>/2020/10/19/qian-duan/vue/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><p><a href="https://cn.vuejs.org/">https://cn.vuejs.org</a></p><p>ä½œç”¨ï¼š</p><ol><li>JavaScriptæ¡†æ¶</li><li>ç®€åŒ–Domæ“ä½œ(ä¸éœ€è¦è·å–å…ƒç´ å†æ“ä½œå…ƒç´ )</li><li>å“åº”å¼æ•°æ®é©±åŠ¨ï¼ˆé¡µé¢éšæ•°æ®åŒæ­¥æ›´æ–°ï¼‰</li></ol><p><strong>å‡†å¤‡ç¯å¢ƒ</strong>ï¼šVSCode+è‡ªåŠ¨åˆ·æ–°æ’ä»¶live server</p><blockquote><p>live serverå®‰è£…å’Œä½¿ç”¨ï¼š</p><ol><li><p>æ‰“å¼€VSCodeï¼Œå®‰è£…æ’ä»¶</p><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20201019203249.png" style="zoom:67%;"></li><li><p>å°†htmlæ–‡ä»¶æ‹–æ‹½è¿›VSCode</p><p>å³é”®</p><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20201019203450.png" style="zoom: 67%;"></li></ol></blockquote><h2 id="Vue-åŸºç¡€"><a href="#Vue-åŸºç¡€" class="headerlink" title="Vue åŸºç¡€"></a>Vue åŸºç¡€</h2><h3 id="ç¬¬ä¸€ä¸ªVueç¨‹åº"><a href="#ç¬¬ä¸€ä¸ªVueç¨‹åº" class="headerlink" title="ç¬¬ä¸€ä¸ªVueç¨‹åº"></a>ç¬¬ä¸€ä¸ªVueç¨‹åº</h3><ol><li>å¯¼å…¥å¼€å‘ç‰ˆæœ¬çš„Vue.js</li><li>åˆ›å»ºVueå®ä¾‹å¯¹è±¡ï¼Œè®¾ç½®elå±æ€§å’Œdataå±æ€§</li><li>ä½¿ç”¨ç®€ä»‹çš„æ¨¡æ¿è¯­æ³•æŠŠæ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸Š</li></ol><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue/dist/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  {{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript"><span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>    message<span class="token punctuation">:</span> <span class="token string">'Hello Vue!'</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h3 id="ELæŒ‚è½½ç‚¹"><a href="#ELæŒ‚è½½ç‚¹" class="headerlink" title="ELæŒ‚è½½ç‚¹"></a>ELæŒ‚è½½ç‚¹</h3><p>ä½œç”¨ï¼šç”¨äºè®¾ç½®vueå®ä¾‹æŒ‚è½½çš„å…ƒç´ </p><p>ä½œç”¨èŒƒå›´ï¼šä¼šç®¡ç†elé€‰é¡¹<strong>å‘½ä¸­çš„å…ƒç´ </strong>åŠå…¶å†…éƒ¨çš„<strong>åä»£å…ƒç´ </strong></p><p>é€‰æ‹©å™¨ï¼šå¯ä»¥ä½¿ç”¨å…¶ä»–é€‰æ‹©å™¨ï¼Œå»ºè®®ä½¿ç”¨<strong>IDé€‰æ‹©å™¨</strong></p><p>æ ‡ç­¾ï¼šå¯ä»¥ä½¿ç”¨åœ¨åŒæ ‡ç­¾ï¼Œä½†ä¸èƒ½ä½¿ç”¨åœ¨<strong>HTMLå’ŒBODY</strong>ä¸Š</p><h3 id="dataæ•°æ®å¯¹è±¡"><a href="#dataæ•°æ®å¯¹è±¡" class="headerlink" title="dataæ•°æ®å¯¹è±¡"></a>dataæ•°æ®å¯¹è±¡</h3><p>ä½œç”¨ï¼šæ•°æ®å®šä¹‰åœ¨dataä¸­</p><p>æ˜¾ç¤ºå¤æ‚æ•°æ®ï¼šå¯¹è±¡ã€æ•°ç»„</p><pre class=" language-html"><code class="language-html">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue/dist/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      {{ message }}      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>{{school.name}}{{school.mobile}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>{{campus[0]}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>{{campus[1]}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>      data<span class="token punctuation">:</span> <span class="token punctuation">{</span>        message<span class="token punctuation">:</span> <span class="token string">'Hello Vue!'</span><span class="token punctuation">,</span>        school<span class="token punctuation">:</span><span class="token punctuation">{</span>            name<span class="token punctuation">:</span><span class="token string">"å°æ˜"</span><span class="token punctuation">,</span>            mobile<span class="token punctuation">:</span><span class="token string">"123456"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        campus<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">"aå°åŒº"</span><span class="token punctuation">,</span><span class="token string">"bå°åŒº"</span><span class="token punctuation">]</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h2 id="æœ¬åœ°åº”ç”¨"><a href="#æœ¬åœ°åº”ç”¨" class="headerlink" title="æœ¬åœ°åº”ç”¨"></a>æœ¬åœ°åº”ç”¨</h2><h3 id="VueæŒ‡ä»¤-å…ƒç´ å†…éƒ¨çš„å±æ€§"><a href="#VueæŒ‡ä»¤-å…ƒç´ å†…éƒ¨çš„å±æ€§" class="headerlink" title="VueæŒ‡ä»¤(å…ƒç´ å†…éƒ¨çš„å±æ€§)"></a>VueæŒ‡ä»¤(å…ƒç´ å†…éƒ¨çš„å±æ€§)</h3><h4 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h4><p>ä½œç”¨ï¼šè®¾ç½®æ ‡ç­¾çš„æ–‡æœ¬å€¼ï¼ˆä¼šå°†æ–‡æœ¬ä¸­çš„å€¼æ›¿æ¢æ‰ï¼‰</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>éƒ‘å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--Hello Vue!--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>{{message}}éƒ‘å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--Hello Vue!éƒ‘å·--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      el<span class="token punctuation">:</span> <span class="token string">'#text1'</span><span class="token punctuation">,</span>      data<span class="token punctuation">:</span> <span class="token punctuation">{</span>        message<span class="token punctuation">:</span> <span class="token string">'Hello Vue!'</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h4 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h4><p>ä½œç”¨ï¼šè§£ææ ‡ç­¾ä¸­çš„æ–‡æœ¬å’Œhtmlæ ‡ç­¾ï¼ŒinnerHTMLï¼ˆä¼šå°†æ–‡æœ¬ä¸­çš„å€¼æ›¿æ¢æ‰ï¼‰</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>html1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--ç™¾åº¦--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        el<span class="token punctuation">:</span> <span class="token string">'#html1'</span><span class="token punctuation">,</span>        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>            content<span class="token punctuation">:</span><span class="token string">"&lt;a href='http://baidu.com'>ç™¾åº¦&lt;/a>"</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h4 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h4><p>ä½œç”¨ï¼šç»‘å®šäº‹ä»¶</p><p>å¯ä»¥ä¼ å‚ï¼Œå®šä¹‰æ–¹æ³•æ—¶å®šä¹‰å½¢å‚æ¥æ¥æ”¶ä¼ å…¥çš„å®å‚</p><p>äº‹ä»¶åè·Ÿä¸Š<code>.ä¿®é¥°ç¬¦</code>å¯ä»¥å¯¹äº‹ä»¶è¿›è¡Œé™åˆ¶ï¼šå¦‚<code>.enter</code>é™åˆ¶è§¦å‘çš„æŒ‰é”®ä¸ºå›è½¦</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>on<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>v-onæŒ‡ä»¤<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doIt<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>v-onç®€åŒ–<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doIt<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--@ç®€å†™æ–¹å¼--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>changeFood<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{food}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ä¼ å€¼<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>chuanZhi(666)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">@keyup.enter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>keyup<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        el<span class="token punctuation">:</span> <span class="token string">'#on'</span><span class="token punctuation">,</span>        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>            food<span class="token punctuation">:</span><span class="token string">"è¥¿å…°èŠ±"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        methods<span class="token punctuation">:</span><span class="token punctuation">{</span>            doIt<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"åšIt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            changeFood<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>food<span class="token operator">+</span><span class="token operator">=</span><span class="token string">"å¥½åƒï¼"</span><span class="token comment" spellcheck="true">//è¿™é‡Œé€šè¿‡thiså¯ä»¥æ‹¿åˆ°dataå…ƒç´ çš„å€¼ï¼Œå› ä¸ºvueæ˜¯å“åº”å¼çš„ï¼Œæˆ‘ä»¬åªéœ€è¦æ“ä½œdataæ•°æ®å°±å¯ä»¥å®ç°é¡µé¢çš„å˜åŒ–</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            chuanZhi<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token function">alert</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            keyup<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"æµ‹è¯•äº‹ä»¶é™åˆ¶ä¿®é¥°ç¬¦"</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h4 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h4><p>ä½œç”¨ï¼šæ ¹æ®è¡¨è¾¾å¼çœŸå‡åˆ‡æ¢å…ƒç´ çš„æ˜¾ç¤ºçŠ¶æ€</p><p>åŸç†ï¼šä¿®æ”¹å…ƒç´ çš„idsplayå€¼ï¼Œå®ç°æ˜¾ç¤ºéšè—</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>show1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æµ‹è¯•v-showæŒ‡ä»¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//åªæœ‰åŠ ä¸Šè¿™äº›jsï¼Œv-å±æ€§æ‰ä¼šç”Ÿæ•ˆ</span>        el<span class="token punctuation">:</span> <span class="token string">'#show1'</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>show1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æµ‹è¯•v-showæŒ‡ä»¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>age<span class="token punctuation">></span><span class="token punctuation">=</span>18<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æµ‹è¯•v-showæŒ‡ä»¤2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>changeShow<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>æ”¹å˜show<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>addAge<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>å¢åŠ å¹´é¾„<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        el<span class="token punctuation">:</span> <span class="token string">'#show1'</span><span class="token punctuation">,</span>        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>            isShow<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>            age<span class="token punctuation">:</span><span class="token number">17</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        methods<span class="token punctuation">:</span><span class="token punctuation">{</span>            changeShow<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>isShow<span class="token operator">=</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isShow<span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            addAge<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">+</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h4 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h4><p>ä½œç”¨ï¼šæ ¹æ®è¡¨è¾¾å¼çœŸå‡åˆ‡æ¢å…ƒç´ çš„æ˜¾ç¤ºçŠ¶æ€ï¼Œå’Œv-showæ•ˆæœä¸€æ ·</p><p>åŸç†ï¼šæœ¬è´¨æ˜¯æ“ä½œdomå…ƒç´ æ¥åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€ï¼ˆå¦‚æœæ¡ä»¶ä¸æ»¡è¶³è¿™ä¸ªæ ‡ç­¾å°±ä¸ä¼šå‡ºç°ï¼Œè€Œv-showæ˜¯å…ƒç´ è¿˜åœ¨ï¼Œåªæ˜¯displayå±æ€§éšè—äº†ï¼‰</p><p>é¢‘ç¹æ“ä½œä½¿ç”¨v-showï¼Œåä¹‹ä½¿ç”¨v-ifï¼Œå‰è€…åˆ‡æ¢æ¶ˆè€—å°</p><h4 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h4><p>ä½œç”¨ï¼šä¸ºå…ƒç´ ç»‘å®šå±æ€§</p><p>è¯­æ³•ï¼š    <code>v-bind:å±æ€§å</code>ï¼Œç®€å†™ï¼š <code>:å±æ€§å</code></p><p>éœ€è¦åŠ¨æ€çš„å¢åˆ classå»ºè®®ä½¿ç”¨å¯¹è±¡çš„æ–¹æ³•</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">    <span class="token selector"><span class="token class">.active</span></span><span class="token punctuation">{</span>        <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid red<span class="token punctuation">;</span>    <span class="token punctuation">}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bind1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>baidu<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç™¾åº¦ä¸€ä¸‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>baidu<span class="token punctuation">"</span></span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>baiduTitile<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç™¾åº¦ä¸€ä¸‹å•Š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>baidu<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isActive?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç™¾åº¦ä¸€ä¸‹class1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>  <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{active:isActive}<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>changeIsActive<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç™¾åº¦ä¸€ä¸‹class2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--æ¨èä½¿ç”¨ï¼Œå¦‚æœisActiveä¸ºtrueï¼Œåˆ™classå€¼ä¸ºactive--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        el<span class="token punctuation">:</span> <span class="token string">'#bind1'</span><span class="token punctuation">,</span>        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>            baidu<span class="token punctuation">:</span> <span class="token string">"www.baidu.com"</span><span class="token punctuation">,</span>            baiduTitile<span class="token punctuation">:</span><span class="token string">"ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“"</span><span class="token punctuation">,</span>            isActive<span class="token punctuation">:</span><span class="token boolean">true</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        methods<span class="token punctuation">:</span><span class="token punctuation">{</span>            changeIsActive<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>isActive <span class="token operator">=</span> <span class="token operator">!</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isActive<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p><strong>æ¡ˆä¾‹ï¼šå›¾ç‰‡åˆ‡æ¢</strong></p><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!--å›¾ç‰‡åˆ‡æ¢--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>changeImg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>imgs[index]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript:void(0)<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pre<span class="token punctuation">"</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>index!<span class="token punctuation">=</span>0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸Šä¸€å¼ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript:void(0)<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>next<span class="token punctuation">"</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>index&lt;imgs.length-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸‹ä¸€å¼ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        el<span class="token punctuation">:</span> <span class="token string">'#changeImg'</span><span class="token punctuation">,</span>        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>            imgs<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">"./1/311.png"</span><span class="token punctuation">,</span>                  <span class="token string">"./1/604.jpg"</span><span class="token punctuation">,</span>                  <span class="token string">"./1/605.jpg"</span><span class="token punctuation">,</span>                  <span class="token string">"./1/606.jpg"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            index<span class="token punctuation">:</span><span class="token number">0</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        methods<span class="token punctuation">:</span><span class="token punctuation">{</span>            pre<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token operator">--</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            next<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h4 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h4><p>ä½œç”¨ï¼šæ ¹æ®æ•°æ®ç”Ÿæˆåˆ—è¡¨ç»“æ„</p><p>v-forç»å¸¸ä¸æ•°ç»„ç»“åˆä½¿ç”¨</p><p>è¯­æ³•ï¼š<code>(item,index) in æ•°æ®</code></p><p>itemå’Œindexå¯ä»¥ç»“åˆå…¶ä»–æŒ‡ä»¤ä¸€èµ·ä½¿ç”¨</p><p>å“åº”å¼ï¼Œæ•°ç»„é•¿åº¦çš„æ›´æ–°åŒæ­¥ä¼šåˆ°é¡µé¢ä¸Š</p><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!--v-for--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>for1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item in food<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>é£Ÿç‰©ï¼š{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item in objs<span class="token punctuation">"</span></span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item.obj<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å¯¹è±¡ï¼š{{item.obj}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        el<span class="token punctuation">:</span> <span class="token string">'#for1'</span><span class="token punctuation">,</span>        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>            food<span class="token punctuation">:</span><span class="token punctuation">[</span>                <span class="token string">"é±¼é¦™è‚‰ä¸"</span><span class="token punctuation">,</span>                <span class="token string">"éº»å©†è±†è…"</span><span class="token punctuation">,</span>                <span class="token string">"æ°´ç…®è‚‰ç‰‡"</span>            <span class="token punctuation">]</span><span class="token punctuation">,</span>            objs<span class="token punctuation">:</span><span class="token punctuation">[</span>                <span class="token punctuation">{</span>obj<span class="token punctuation">:</span><span class="token string">"å·èœ"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">{</span>obj<span class="token punctuation">:</span><span class="token string">"ç²¤èœ"</span><span class="token punctuation">}</span>            <span class="token punctuation">]</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h4 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h4><p>ä½œç”¨ï¼šä¾¿æ·çš„è®¾ç½®å’Œè·å–<strong>è¡¨å•</strong>å…ƒç´ çš„å€¼</p><p>ç»‘å®šçš„æ•°æ®ä¼šå’Œè¡¨å•å…ƒç´ çš„<strong>å€¼</strong>ç›¸å…³è”</p><p>ç»‘å®šçš„æ•°æ®å’Œè¡¨å•å…ƒç´ çš„å€¼æ˜¯<strong>åŒå‘ç»‘å®š</strong>çš„</p><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!--v-model--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>model1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--ä¿®æ”¹ä¸Šé¢çš„å€¼ï¼Œå®æ—¶ä¼šæ”¹å˜dataå…ƒç´ ä¸­çš„message--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>{{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        el<span class="token punctuation">:</span> <span class="token string">'#model1'</span><span class="token punctuation">,</span>        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>            message<span class="token punctuation">:</span> <span class="token string">'Hello Vue!'</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p><strong>æ¡ˆä¾‹ï¼šè®°äº‹æœ¬</strong></p><p>åŠŸèƒ½ï¼š</p><ol><li>æ–°å¢ï¼š<ol><li>v-forï¼šéå†æ•°ç»„ä¸­å…ƒç´ ç”Ÿæˆæ ‡ç­¾</li><li>v-modelï¼šåŒå‘ç»‘å®šè¾“å…¥æ¡†å†…å®¹</li><li>v-onï¼šäº‹ä»¶ä¿®é¥°ç¬¦ï¼Œå›è½¦è§¦å‘äº‹ä»¶ï¼Œå°†è¾“å…¥æ¡†ç»‘å®šå†…å®¹æ·»åŠ è¿›æ•°ç»„ä¸­</li></ol></li><li>åˆ é™¤ï¼š<ol><li>äº‹ä»¶è‡ªå®šä¹‰å‚æ•°ï¼Œç‚¹å‡»è§¦å‘äº‹ä»¶ï¼Œä¼ å…¥ç´¢å¼•</li><li>spliceæ–¹æ³•åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ <code>this.arr.splice(index,1)</code>ï¼šä»ç´¢å¼•æ•°åˆ é™¤1ä¸ª</li></ol></li><li>ç»Ÿè®¡ï¼š<ol><li>åŸºäºæ•°æ®çš„å¼€å‘æ–¹å¼ï¼Œæ‰¾åˆ°å¯¹åº”å…ƒç´ ï¼Œä¿®æ”¹æˆæ•°ç»„çš„é•¿åº¦å³å¯</li></ol></li><li>æ¸…ç©ºï¼š<ol><li>v-onï¼šç»‘å®šäº‹ä»¶ï¼Œç‚¹å‡»è§¦å‘äº‹ä»¶ï¼Œå°†æ•°ç»„è®¾ç½®ä¸º[ ]ç©º</li></ol></li><li>éšè—ï¼š<ol><li>v-show/v-if æ•°ç»„éç©ºï¼šæ²¡æœ‰æ•°æ®æ—¶ï¼Œéšè—å…ƒç´ </li></ol></li></ol><h2 id="ç½‘ç»œåº”ç”¨"><a href="#ç½‘ç»œåº”ç”¨" class="headerlink" title="ç½‘ç»œåº”ç”¨"></a>ç½‘ç»œåº”ç”¨</h2><h3 id="axiosç½‘ç»œåº“"><a href="#axiosç½‘ç»œåº“" class="headerlink" title="axiosç½‘ç»œåº“"></a>axiosç½‘ç»œåº“</h3><ol><li>axioså¿…é¡»å…ˆå¯¼å…¥æ‰å¯ä»¥ä½¿ç”¨</li><li>ä½¿ç”¨get/postæ–¹æ³•å³å¯å‘é€å¯¹åº”çš„è¯·æ±‚</li><li>thenæ–¹æ³•ä¸­çš„å›è°ƒå‡½æ•°ä¼šåœ¨è¯·æ±‚æˆåŠŸæˆ–å¤±è´¥æ—¶è§¦å‘</li><li>é€šè¿‡å›è°ƒå‡½æ•°çš„å½¢å‚å¯ä»¥è·å–ç›¸åº”å†…å®¹æˆ–é”™è¯¯ä¿¡æ¯</li></ol><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://unpkg.com/axios/dist/axios.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--axios--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>getè¯·æ±‚<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>get<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>postè¯·æ±‚<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".get"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//è¿™é‡Œæ²¡æœ‰ä½¿ç”¨vueï¼Œä½¿ç”¨çš„æ˜¯æ™®é€šdomè·å–å¯¹è±¡</span>        axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"https://autumnfish.cn/api/joke/list?num=6"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//url</span>            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å›è°ƒå‡½æ•°ï¼Œè·å–å“åº”çš„å€¼</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å›è°ƒå‡½æ•°ï¼Œå“åº”é”™è¯¯æ—¶çš„æ–¹æ³•</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".post"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"https://autumnfish.cn/api/user/reg"</span><span class="token punctuation">,</span><span class="token punctuation">{</span>username<span class="token punctuation">:</span><span class="token string">"å¤§è¥¿ç“œ"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//postéœ€è¦ä¼ å‚</span>            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h3 id="axios-Vue"><a href="#axios-Vue" class="headerlink" title="axios+Vue"></a>axios+Vue</h3><p>vueçš„dataä¸­çš„æ•°æ®ï¼Œä¸€éƒ¨åˆ†æ—¶é€šè¿‡ç½‘ç»œaxiosè·å–åˆ°çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨axioså“åº”å›æ•°æ®ä¹‹åï¼Œå°†å€¼è®¾ç½®åˆ°å¯¹åº”çš„dataå½“ä¸­</p><blockquote><p>æ³¨æ„ï¼š</p><p>å› ä¸ºaxiosçš„å›è°ƒå‡½æ•°ä¸­thiså’Œvueä¸­çš„thisä¸åŒï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨this</p><p>éœ€è¦æŠŠthisä¿å­˜èµ·æ¥ï¼Œä½¿ç”¨å›è°ƒå‡½æ•°ç›´æ¥ä½¿ç”¨ä¿å­˜çš„thiså³å¯</p></blockquote><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!--axios+vue--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>axios1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>åˆ‡æ¢ç¬‘è¯<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>changeJoke<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>{{joke}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> app2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        el <span class="token punctuation">:</span> <span class="token string">'#axios1'</span><span class="token punctuation">,</span>        data <span class="token punctuation">:</span> <span class="token punctuation">{</span>            joke <span class="token punctuation">:</span> <span class="token string">"æç¬‘çš„ç¬‘è¯"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        methods<span class="token punctuation">:</span><span class="token punctuation">{</span>            <span class="token function">changeJoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¿™é‡Œå°†thisä¿å­˜åœ¨thatä¸­</span>                axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"https://autumnfish.cn/api/joke"</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">{</span>                    that<span class="token punctuation">.</span>joke <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token comment" spellcheck="true">//è¿™é‡ŒthatæŒ‡çš„å°±æ˜¯dataä¸­çš„å…ƒç´ ï¼Œresponseæ˜¯å“åº”çš„æ•°æ®ï¼Œå…¶ä¸­dataæ˜¯æˆ‘ä»¬æƒ³è¦çš„</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">{</span>                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p><strong>æ¡ˆä¾‹ï¼šå¤©æ°”æŸ¥è¯¢</strong></p><p>åŠŸèƒ½ï¼š</p><ol><li>å›è½¦æŸ¥è¯¢ï¼š<ol><li>jsä»£ç æœ€å¥½ä¸é¡µé¢åˆ†ç¦»ï¼Œå•ç‹¬çš„Jsæ–‡ä»¶ç¼–å†™ï¼Œhtmlé€šè¿‡scriptæ ‡ç­¾å¼•å…¥jsæ–‡ä»¶</li><li>ç‚¹å‡»å›è½¦ï¼ˆv-onç»‘å®šäº‹ä»¶ï¼‰</li><li>æŸ¥è¯¢æ•°æ®ï¼ˆaxiosç½‘ç»œæŸ¥è¯¢ï¼‰</li><li>æ¸²æŸ“æ•°æ®ï¼ˆå°†å“åº”çš„æ•°æ®è®¾ç½®è¿›dataæ•°ç»„ä¸­ï¼Œå°†htmlå€¼ä¿®æ”¹æˆdataä¸­çš„å€¼ï¼‰</li></ol></li><li>ç‚¹å‡»æŸ¥è¯¢<ol><li>ç‚¹å‡»åŸå¸‚ï¼Œç»‘å®šäº‹ä»¶ï¼Œä¼ å…¥å‚æ•°ï¼šè‡ªå®šä¹‰å‚æ•°å¯ä»¥è®©ä»£ç çµæ´»æ€§æ›´é«˜</li><li>äº‹ä»¶ä¸­å°†å‚æ•°ï¼ˆæ³¨æ„å±‚çº§ç»“æ„ï¼‰ç»‘å®šåˆ°dataä¸­ï¼Œå¹¶è°ƒç”¨æŸ¥è¯¢ä¸Šè¿°æŸ¥è¯¢å‡½æ•°ï¼šmethodsä¸­å®šä¹‰çš„æ–¹æ³•å†…éƒ¨ï¼Œå¯ä»¥é€šè¿‡thiså…³é”®å­ç‚¹å‡ºå…¶ä»–çš„æ–¹æ³•</li></ol></li></ol><h2 id="ç»¼åˆåº”ç”¨"><a href="#ç»¼åˆåº”ç”¨" class="headerlink" title="ç»¼åˆåº”ç”¨"></a>ç»¼åˆåº”ç”¨</h2><h3 id="éŸ³ä¹æ’­æ”¾å™¨"><a href="#éŸ³ä¹æ’­æ”¾å™¨" class="headerlink" title="éŸ³ä¹æ’­æ”¾å™¨"></a>éŸ³ä¹æ’­æ”¾å™¨</h3><blockquote><p>é€šè¿‡å®¡æŸ¥å…ƒç´ å¿«è¯»å®šä½åˆ°éœ€è¦æ“ä½œçš„å…ƒç´ </p><p>vueçš„dataä¸­çš„æ•°æ®ï¼Œä¸€éƒ¨åˆ†æ—¶é€šè¿‡ç½‘ç»œaxiosè·å–åˆ°çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨axioså“åº”å›æ•°æ®ä¹‹åï¼Œå°†å€¼è®¾ç½®åˆ°å¯¹åº”çš„dataå½“ä¸­ï¼Œå†å°†dataä¸­çš„æ•°æ®è®¾ç½®åˆ°htmlå…ƒç´ ä¸­</p><p>å“åº”å¼çš„é¡µé¢è¦æ›¿æ¢æˆvueæ•°æ®</p></blockquote><p>åŠŸèƒ½ï¼š</p><ol><li>æ­Œæ›²æœç´¢<ol><li>é€šè¿‡å®¡æŸ¥å…ƒç´ å¿«è¯»å®šä½åˆ°éœ€è¦æ“ä½œçš„å…ƒç´ </li><li>å›è½¦æŸ¥è¯¢ï¼ˆv-on v-modelç»‘å®šæ•°æ®ï¼‰</li><li>æŸ¥è¯¢æ•°æ®ï¼šaxiosé€šè¿‡dataå€¼æŸ¥è¯¢æ•°æ®</li><li>æ¸²æŸ“æ•°æ®ï¼šv-foréå†ï¼Œå°†å€¼è®¾ç½®åˆ°dataçš„æ•°ç»„å…ƒç´ ä¸­(that)ï¼Œæ›¿æ¢åŸhtmlå±æ€§</li></ol></li><li>æ­Œæ›²æ’­æ”¾<ol><li>ç‚¹å‡»æ’­æ”¾ï¼ˆv-on è‡ªå®šä¹‰å‚æ•°(æ­Œæ›²Id)ï¼‰ï¼Œidé€šè¿‡éå†çš„itemä¸­è·å–</li><li>æ­Œæ›²åœ°å€è·å–ï¼ˆæ¥å£ æ­Œæ›²Idï¼‰ï¼šåœ¨ä¸Šè¿°ç»‘å®šçš„äº‹ä»¶ä¸­ï¼Œaxiosä¼ å‚è·å–ï¼Œå°†è·å–çš„å€¼è®¾ç½®åˆ°dataçš„urlä¸­</li><li>æ­Œæ›²åœ°å€è®¾ç½®ï¼ˆv-bind è®¾ç½®srcï¼‰</li></ol></li><li>æ­Œæ›²å°é¢<ol><li>ç‚¹å‡»æ’­æ”¾ï¼ˆåœ¨ä¸Šè¿°çš„ç‚¹å‡»æ’­æ”¾å‡½æ•°å¢åŠ é€»è¾‘å³å¯ï¼‰</li><li>æ­Œæ›²å°é¢è·å–(æ¥å£ æ­Œæ›²id)ï¼šåœ¨ç‚¹å‡»æ’­æ”¾çš„æ–¹æ³•ä¸­ï¼ŒåŠ ä¸Šä¸€ä¸ªaxiosæ¥å£è°ƒç”¨ï¼Œè·å–è¯¦æƒ…ä¿¡æ¯ï¼Œå¹¶å°†imgUrlåœ°å€è®¾ç½®åˆ°dataçš„imgUrlä¸­</li><li>æ­Œæ›²å°é¢è®¾ç½®ï¼ˆv-bind è®¾ç½®srcï¼‰</li></ol></li><li>æ­Œæ›²è¯„è®º<ol><li>ç‚¹å‡»æ’­æ”¾ï¼ˆå¢åŠ é€»è¾‘ï¼‰</li><li>æ­Œæ›²è¯„è®ºè·å–ï¼ˆæ¥å£ æ­Œæ›²Idï¼‰ï¼šåœ¨ç‚¹å‡»æ’­æ”¾çš„æ–¹æ³•ä¸­ï¼ŒåŠ ä¸Šä¸€ä¸ªaxiosæ¥å£è°ƒç”¨ï¼Œè·å–è¯„è®ºä¿¡æ¯ï¼Œå¹¶å°†çƒ­é—¨è¯„è®ºè®¾ç½®åˆ°dataçš„hotCommentsçš„æ•°ç»„ä¸­</li><li>è¯„è®ºæ¸²æŸ“ï¼ˆv-forï¼‰ï¼šv-foréå†ï¼Œå†å°†dataå€¼è®¾ç½®åœ¨htmlä¸­</li></ol></li><li>æ’­æ”¾åŠ¨ç”»<ol><li>å›¾ç‰‡æ˜¯å¦æš‚åœæ—‹è½¬ï¼Œå–å†³äºclasså±æ€§æ˜¯å¦æœ‰playing</li><li>audioæ ‡ç­¾çš„play/pauseäº‹ä»¶ä¼šåœ¨éŸ³é¢‘æ’­æ”¾/æš‚åœçš„æ—¶å€™è§¦å‘ï¼Œæ•…ä½¿ç”¨ä¸¤ä¸ªäº‹ä»¶æ¥åˆ‡æ¢dataä¸­isPlayingçš„å€¼</li><li>é€šè¿‡å¯¹è±¡çš„æ–¹å¼è®¾ç½®ç±»å<code>{playing:isPlaying}</code>ï¼Œç±»åæ˜¯å¦ç”Ÿæ•ˆå–å†³äºåè€…çš„çœŸå‡</li></ol></li><li>mvæ’­æ”¾<ol><li>mvå›¾æ ‡æ˜¾ç¤ºï¼ˆv-ifï¼‰ï¼šåœ¨mvå›¾æ ‡çš„æ ‡ç­¾æ·»åŠ <code>v-if</code>åˆ¤æ–­mvidæ˜¯å¦ç­‰äº0ï¼Œä¸º0åˆ™ä¸æ˜¾ç¤º</li><li>mvåœ°å€è·å–ï¼ˆæ¥å£ mvidï¼‰ï¼šåœ¨mvæŒ‰é’®ä¸­ç»‘å®šäº‹ä»¶ï¼ˆv-onï¼‰ï¼ŒåŠ ä¸Šä¸€ä¸ªaxiosæ¥å£è°ƒç”¨ï¼Œè·å–mvåœ°å€ä¿¡æ¯ï¼Œå¹¶å°†çƒ­é—¨è¯„è®ºè®¾ç½®åˆ°dataçš„mvUrlä¸­ï¼Œå¹¶å°†é®ç½©å±‚isShowè®¾ç½®ä¸ºtrue</li><li>é®ç½©å±‚ï¼ˆv-show v-onï¼‰ï¼šåœ¨mvçš„divä¸­å¢åŠ <code>v-show:"isShow"</code>ï¼Œåœ¨é®ç½©å±‚çš„divç»‘å®šäº‹ä»¶ï¼Œä¿®æ”¹isShowå®ç°é€€å‡º</li><li>mvåœ°å€è®¾ç½®ï¼ˆv-bindï¼‰ï¼šå°†mvUrlå€¼è®¾ç½®ä¸Šå»</li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸç†æ–‡ç« </title>
      <link href="/2020/10/15/xue-xi/yuan-li-wen-zhang/"/>
      <url>/2020/10/15/xue-xi/yuan-li-wen-zhang/</url>
      
        <content type="html"><![CDATA[<h1 id="åŸç†æ–‡ç« "><a href="#åŸç†æ–‡ç« " class="headerlink" title="åŸç†æ–‡ç« "></a>åŸç†æ–‡ç« </h1><p><strong>åšå®¢</strong></p><p><a href="https://juejin.im/post/6844903890706661389#heading-0">ä»€ä¹ˆæ˜¯CDNï¼Œæ€ä¹ˆå®ç°åŠ é€Ÿ</a>ï¼Œjsdelivræ˜¯ä¸€ä¸ªCDNæœåŠ¡æä¾›å•†ï¼Œä¼˜ç‚¹åœ¨äºå…¨çƒé€šç”¨ã€‚</p><p><a href="https://mp.weixin.qq.com/s/uGyGldbwmShDDPDau5pAPw">æ¶æ„ï¼šä¸‰åœ°äº”ä¸­å¿ƒ</a></p><p><strong>åç«¯</strong></p><p> <a href="https://www.cnblogs.com/chongaizhen/p/11151892.html">æ·±å…¥springbootåŸç†â€”â€”ä¸€æ­¥æ­¥åˆ†æspringbootå¯åŠ¨æœºåˆ¶ï¼ˆstarteræœºåˆ¶ï¼‰</a></p><p><a href="https://blog.csdn.net/ziyonghong/article/details/83472867">IOCçš„å®ç°åŸç†â€“å·¥å‚æ¨¡å¼ä¸­çš„åå°„æœºåˆ¶</a></p><p><a href="https://blog.csdn.net/h2604396739/article/details/104506186/">Mybatiså·¥ä½œåŸç†ä¸æµç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>äºŒåˆ·JavaåŸºç¡€</title>
      <link href="/2020/10/01/xue-xi/er-shua-java-ji-chu/"/>
      <url>/2020/10/01/xue-xi/er-shua-java-ji-chu/</url>
      
        <content type="html"><![CDATA[<h1 id="äºŒåˆ·JavaåŸºç¡€"><a href="#äºŒåˆ·JavaåŸºç¡€" class="headerlink" title="äºŒåˆ·JavaåŸºç¡€"></a>äºŒåˆ·JavaåŸºç¡€</h1><h2 id="javaæ¦‚è¿°"><a href="#javaæ¦‚è¿°" class="headerlink" title="javaæ¦‚è¿°"></a>javaæ¦‚è¿°</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>JDKï¼ˆå¼€å‘å·¥å…·åŒ…ï¼‰ï¼šæ˜¯æä¾›å¼€å‘äººå‘˜æ˜¯hiç”¨çš„ï¼Œjavaå¼€å‘å·¥å…·ã€åŒ…æ‹¬JRE</p><p>JREï¼ˆè¿è¡Œç¯å¢ƒï¼‰ï¼šåŒ…æ‹¬javaè™šæ‹Ÿæœºå’Œæ‰€éœ€è¦çš„æ ¸å¿ƒç±»åº“ï¼Œå¯ä»¥è¿è¡Œjavaç¨‹åº</p><p>JVMï¼šè™šæ‹Ÿæœº</p><p>å…³é”®å­—ï¼šè¢«javaèµ‹äºˆäº†ç‰¹æ®Šçš„å«ä¹‰ï¼Œæ‰€æœ‰å­—æ¯éƒ½æ˜¯å°å†™</p><p>ä¿ç•™å­—ï¼šjavaå°šæœªä½¿ç”¨ï¼Œä½†ä¹‹åå¯èƒ½ä¼šä½œä¸ºå…³é”®å­—ä½¿ç”¨ï¼Œå‘½åæ—¶é¿å¼€</p><p>æ ‡è¯†ç¬¦ï¼šç»™å˜é‡ã€æ–¹æ³•ã€ç±»ç­‰å…ƒç´ å‘½åçš„å­—ç¬¦</p><h3 id="Javaç‰¹ç‚¹"><a href="#Javaç‰¹ç‚¹" class="headerlink" title="Javaç‰¹ç‚¹"></a>Javaç‰¹ç‚¹</h3><ol><li>çº¯ç²¹çš„é¢å‘å¯¹è±¡<ol><li>ç±»ï¼Œå¯¹è±¡</li><li>å°è£…ã€é›†æˆã€å¤šæ€</li></ol></li><li>å¥å£®æ€§<ol><li>å»æ‰äº†cä¸­çš„æŒ‡é’ˆ</li><li>å¢åŠ äº†åƒåœ¾å›æ”¶æœºåˆ¶</li></ol></li><li>è·¨å¹³å°æ€§<ol><li>JVMè™šæ‹Ÿæœº</li><li>Javaä»£ç â€“å­—èŠ‚ç æ–‡ä»¶â€“JVMè™šæ‹Ÿæœºâ€“æ“ä½œç³»ç»Ÿâ€“ç¡¬ä»¶</li></ol></li></ol><h2 id="æ ‡è¯†ç¬¦"><a href="#æ ‡è¯†ç¬¦" class="headerlink" title="æ ‡è¯†ç¬¦"></a>æ ‡è¯†ç¬¦</h2><h4 id="å‘½åè§„åˆ™"><a href="#å‘½åè§„åˆ™" class="headerlink" title="å‘½åè§„åˆ™"></a>å‘½åè§„åˆ™</h4><ol><li>26è‹±æ–‡å­—ç¬¦ã€0-9ï¼Œ_æˆ–$</li><li>æ•°å­—ä¸èƒ½å¼€å¤´</li><li>ä¸èƒ½ä½¿ç”¨å…³é”®å­—å’Œä¿ç•™å­—</li><li>ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œé•¿åº¦æ— é™åˆ¶</li><li>ä¸èƒ½æœ‰ç©ºæ ¼</li></ol><h4 id="å‘½åè§„èŒƒ"><a href="#å‘½åè§„èŒƒ" class="headerlink" title="å‘½åè§„èŒƒ"></a>å‘½åè§„èŒƒ</h4><ol><li><p>åŒ…åï¼šå¤šå•è¯ç»„æˆå…¨å°å†™</p></li><li><p>ç±»ã€æ¥å£åï¼šå¤šå•è¯é¦–å­—æ¯å¤§å†™</p></li><li><p>å˜é‡ã€æ–¹æ³•åï¼šç¬¬ä¸€ä¸ªé¦–å­—æ¯å°å†™ï¼Œå…¶ä»–é©¼å³°å‘½å</p></li><li><p>å¸¸é‡åï¼šå…¨å¤§å†™ï¼Œå¤šå•è¯ç”¨ä¸‹åˆ’çº¿è¿æ¥</p></li></ol><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><h4 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200925095549.png"></p><h5 id="æ•´æ•°ç±»å‹ï¼ˆbyte-short-int-longï¼‰"><a href="#æ•´æ•°ç±»å‹ï¼ˆbyte-short-int-longï¼‰" class="headerlink" title="æ•´æ•°ç±»å‹ï¼ˆbyte,short,int,longï¼‰"></a>æ•´æ•°ç±»å‹ï¼ˆbyte,short,int,longï¼‰</h5><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200925100001.png"></p><h5 id="æµ®ç‚¹å‹ï¼ˆfloat-doubleï¼‰"><a href="#æµ®ç‚¹å‹ï¼ˆfloat-doubleï¼‰" class="headerlink" title="æµ®ç‚¹å‹ï¼ˆfloat,doubleï¼‰"></a>æµ®ç‚¹å‹ï¼ˆfloat,doubleï¼‰</h5><p>Eè¡¨ç¤º10çš„å¤šå°‘æ¬¡æ–¹ï¼Œå¦‚E38å°±æ˜¯10çš„38æ¬¡æ–¹</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200925100131.png"></p><h5 id="å­—ç¬¦ç±»å‹ï¼ˆcharï¼‰"><a href="#å­—ç¬¦ç±»å‹ï¼ˆcharï¼‰" class="headerlink" title="å­—ç¬¦ç±»å‹ï¼ˆcharï¼‰"></a>å­—ç¬¦ç±»å‹ï¼ˆcharï¼‰</h5><p>2å­—èŠ‚ï¼Œç”¨å•å¼•å·æ‹¬èµ·æ¥</p><ol><li>å£°æ˜ä¸€ä¸ªå­—ç¬¦</li><li>è½¬ä¹‰å­—ç¬¦<code>'\n'</code></li><li>Unicodeå€¼è¡¨ç¤ºå€¼</li></ol><h5 id="Stringå¼•ç”¨æ•°æ®ç±»å‹"><a href="#Stringå¼•ç”¨æ•°æ®ç±»å‹" class="headerlink" title="Stringå¼•ç”¨æ•°æ®ç±»å‹"></a>Stringå¼•ç”¨æ•°æ®ç±»å‹</h5><p>å¯ä»¥ä¸8ä¸­åŸºæœ¬æ•°æ®ç±»å‹åšè¿ç®—ï¼Œè¿ç®—åªèƒ½æ˜¯+</p><pre><code>3+4+"hello" ----&gt;  7hello"hello"+3+4 ----&gt;  hello34String a = 4;//é”™String a = 4+"";//å¯¹</code></pre><h4 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h4><h5 id="è‡ªåŠ¨ç±»å‹è½¬æ¢"><a href="#è‡ªåŠ¨ç±»å‹è½¬æ¢" class="headerlink" title="è‡ªåŠ¨ç±»å‹è½¬æ¢"></a>è‡ªåŠ¨ç±»å‹è½¬æ¢</h5><p>(charã€byteã€short)â€“intâ€“longâ€“floatâ€“double</p><pre><code>short s = 5;s = s-2;//ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸º2æ˜¯intï¼Œæ‰€ä»¥ç»“æœæ˜¯Ints = (short)(s-2);//é€šè¿‡ï¼Œå¼ºåˆ¶ç±»å‹è½¬æ¢</code></pre><h5 id="å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>å¼ºåˆ¶ç±»å‹è½¬æ¢</h5><p>å¼ºè½¬ç¬¦ï¼ˆï¼‰</p><p>å¦‚ï¼š<code>double d1 = 12.9;    int i2=12</code></p><h2 id="è¿›åˆ¶è½¬æ¢"><a href="#è¿›åˆ¶è½¬æ¢" class="headerlink" title="è¿›åˆ¶è½¬æ¢"></a>è¿›åˆ¶è½¬æ¢</h2><h4 id="äºŒè¿›åˆ¶è½¬åè¿›åˆ¶"><a href="#äºŒè¿›åˆ¶è½¬åè¿›åˆ¶" class="headerlink" title="äºŒè¿›åˆ¶è½¬åè¿›åˆ¶"></a>äºŒè¿›åˆ¶è½¬åè¿›åˆ¶</h4><p>10101ï¼Œä»å³å¾€å·¦ï¼š2^0^x1+2^1^x0+2^2^x1+2^3^x0+2^4^x1=21</p><h4 id="åè¿›åˆ¶è½¬äºŒè¿›åˆ¶"><a href="#åè¿›åˆ¶è½¬äºŒè¿›åˆ¶" class="headerlink" title="åè¿›åˆ¶è½¬äºŒè¿›åˆ¶"></a>åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</h4><p>21ï¼Œé™¤2å–ä½™çš„é€†ï¼šå•†10ä½™1ï¼Œå•†5ä½™0ï¼Œå•†2ä½™1ï¼Œå•†1ä½™0ï¼Œå•†0ä½™1</p><p>å–é€†ï¼š10101</p><h4 id="äºŒè¿›åˆ¶è½¬å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶"><a href="#äºŒè¿›åˆ¶è½¬å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶" class="headerlink" title="äºŒè¿›åˆ¶è½¬å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶"></a>äºŒè¿›åˆ¶è½¬å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶</h4><p>å…«è¿›åˆ¶ï¼š3ä¸ªä¸€ä½</p><p>åå…­è¿›åˆ¶ï¼š4ä¸ªä¸€ä½</p><p>åŸç ã€åç ã€è¡¥ç ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210402153548.png"></p><h2 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h2><h4 id="ç®—æœ¯è¿ç®—ç¬¦"><a href="#ç®—æœ¯è¿ç®—ç¬¦" class="headerlink" title="ç®—æœ¯è¿ç®—ç¬¦"></a>ç®—æœ¯è¿ç®—ç¬¦</h4><h5 id="å–ä½™è¿ç®—"><a href="#å–ä½™è¿ç®—" class="headerlink" title="å–ä½™è¿ç®—%"></a>å–ä½™è¿ç®—%</h5><p>ç»“æœçš„ç¬¦å·ä¸è¢«æ¨¡æ•°ç¬¦å·ç›¸åŒ</p><h5 id="ï¼Œâ€“"><a href="#ï¼Œâ€“" class="headerlink" title="++ï¼Œâ€“"></a>++ï¼Œâ€“</h5><h4 id="æ¯”è¾ƒè¿ç®—ç¬¦"><a href="#æ¯”è¾ƒè¿ç®—ç¬¦" class="headerlink" title="æ¯”è¾ƒè¿ç®—ç¬¦"></a>æ¯”è¾ƒè¿ç®—ç¬¦</h4><h5 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h5><p>æ£€æŸ¥æ˜¯å¦æ˜¯ç±»çš„å¯¹è±¡</p><p>å¦‚ï¼š<code>Hello</code> instanceof String ç»“æœï¼štrue</p><h4 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h4><h5 id="amp-amp-ï¼Œ-çŸ­è·¯ä¸-æˆ–"><a href="#amp-amp-ï¼Œ-çŸ­è·¯ä¸-æˆ–" class="headerlink" title="&amp;&amp;ï¼Œ|| çŸ­è·¯ä¸/æˆ–"></a>&amp;&amp;ï¼Œ|| çŸ­è·¯ä¸/æˆ–</h5><h5 id="å¼‚æˆ–"><a href="#å¼‚æˆ–" class="headerlink" title="^å¼‚æˆ–"></a>^å¼‚æˆ–</h5><p>åˆ¤æ–­ä¸¤ä¸ªæ˜¯å¦ä¸åŒï¼Œä¸åŒä¸ºtrueï¼ŒåŒä¸ºfalse</p><h3 id="ä½è¿ç®—ç¬¦"><a href="#ä½è¿ç®—ç¬¦" class="headerlink" title="ä½è¿ç®—ç¬¦"></a>ä½è¿ç®—ç¬¦</h3><p>&lt;&lt;ï¼šå·¦ç§»ï¼Œå¦‚ï¼š<code>int i = 21;    i&lt;&lt;2</code>ï¼Œç»“æœï¼ši=84,è¿‡ç¨‹ï¼š21*2^2^</p><h3 id="ä¸‰å…ƒè¿ç®—ç¬¦"><a href="#ä¸‰å…ƒè¿ç®—ç¬¦" class="headerlink" title="ä¸‰å…ƒè¿ç®—ç¬¦"></a>ä¸‰å…ƒè¿ç®—ç¬¦</h3><p>æ ¼å¼ï¼š(æ¡ä»¶è¡¨è¾¾å¼)ï¼Ÿè¡¨è¾¾å¼1ï¼šè¡¨è¾¾å¼2</p><p>å¦‚æœæ¡ä»¶ä¸ºtrueï¼Œç»“æœä¸ºè¡¨è¾¾å¼1ï¼Œå¦åˆ™ä¸º2</p><h2 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h2><h4 id="1-switch-case"><a href="#1-switch-case" class="headerlink" title="1.switch case"></a>1.switch case</h4><p>è¡¨è¾¾å¼ä¸­åªèƒ½æœ‰6ç§æ•°æ®ç±»å‹ï¼š</p><p>byteã€shortã€charã€intã€æšä¸¾ã€String</p><pre class=" language-java"><code class="language-java"><span class="token keyword">switch</span><span class="token punctuation">(</span>è¡¨è¾¾å¼<span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token keyword">case</span> å¸¸é‡<span class="token number">1</span>ï¼š          è¯­å¥ï¼›          <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¸åŠ çš„è¯ï¼Œä¼šæŒ‰é¡ºä¸‹å¾€ä¸‹æ‰§è¡Œ</span>      <span class="token keyword">case</span> å¸¸é‡<span class="token number">2</span>ï¼š          è¯­å¥ï¼›          <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">default</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>æœ€ç»ˆå…œåº•ï¼Œå¯å†™å¯ä¸å†™        è¯­å¥<span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="2-for"><a href="#2-for" class="headerlink" title="2.for"></a>2.for</h4><pre class=" language-java"><code class="language-java"><span class="token keyword">for</span><span class="token punctuation">(</span>åˆå§‹åŒ–æ¡ä»¶<span class="token punctuation">;</span>å¾ªç¯æ¡ä»¶<span class="token punctuation">(</span><span class="token keyword">boolean</span>ç±»å‹<span class="token punctuation">)</span><span class="token punctuation">;</span>è¿­ä»£æ¡ä»¶<span class="token punctuation">)</span><span class="token punctuation">{</span>    å¾ªç¯ä½“<span class="token punctuation">}</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="3-while-å…ˆåˆ¤æ–­åæ‰§è¡Œ"><a href="#3-while-å…ˆåˆ¤æ–­åæ‰§è¡Œ" class="headerlink" title="3.while(å…ˆåˆ¤æ–­åæ‰§è¡Œ)"></a>3.while(å…ˆåˆ¤æ–­åæ‰§è¡Œ)</h4><pre class=" language-java"><code class="language-java"><span class="token keyword">while</span><span class="token punctuation">(</span>å¾ªç¯æ¡ä»¶<span class="token punctuation">)</span><span class="token punctuation">{</span>    å¾ªç¯ä½“    è¿­ä»£æ¡ä»¶<span class="token punctuation">}</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    i<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>while(true)æ— é™å¾ªç¯ï¼šä½¿ç”¨breakæ¥è·³å‡º</p><h4 id="4-do-while-å…ˆæ‰§è¡Œååˆ¤æ–­"><a href="#4-do-while-å…ˆæ‰§è¡Œååˆ¤æ–­" class="headerlink" title="4.do-while(å…ˆæ‰§è¡Œååˆ¤æ–­)"></a>4.do-while(å…ˆæ‰§è¡Œååˆ¤æ–­)</h4><pre class=" language-java"><code class="language-java"><span class="token keyword">do</span><span class="token punctuation">{</span>  å¾ªç¯ä½“  è¿­ä»£æ¡ä»¶<span class="token punctuation">}</span><span class="token keyword">while</span><span class="token punctuation">(</span>å¾ªç¯æ¡ä»¶<span class="token punctuation">)</span></code></pre><h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><ol><li>æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œå…ƒç´ å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹</li><li>åœ¨å†…å­˜ç§å¼€è¾Ÿä¸€æ•´å—å†…å­˜ç©ºé—´</li><li>æ•°ç»„é•¿åº¦ä¸€æ—¦ç¡®å®šï¼Œä¸èƒ½ä¿®æ”¹</li><li>è§’æ ‡ä»0å¼€å§‹</li></ol><h3 id="ä¸€ç»´æ•°ç»„"><a href="#ä¸€ç»´æ•°ç»„" class="headerlink" title="ä¸€ç»´æ•°ç»„"></a>ä¸€ç»´æ•°ç»„</h3><ol><li><p>åˆå§‹åŒ–</p><p>å¿…é¡»æŒ‡å®šé•¿åº¦ï¼Œå†…å­˜æ‰ä¼šåˆ†é…ç©ºé—´</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//é™æ€åˆå§‹åŒ–</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array1<span class="token punctuation">;</span>array1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> arr3<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åŠ¨æ€åˆå§‹åŒ–</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> array2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//é»˜è®¤åˆå§‹åŒ–å€¼ï¼š</span>æ•´å‹<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>æµ®ç‚¹å‹<span class="token operator">:</span><span class="token number">0.0</span><span class="token punctuation">,</span><span class="token keyword">char</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">boolean</span><span class="token operator">:</span><span class="token boolean">false</span>ï¼Œå¼•ç”¨æ•°æ®ç±»å‹<span class="token operator">:</span>null</code></pre></li><li><p>è°ƒç”¨</p><pre class=" language-java"><code class="language-java">array1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"å°æ˜"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–é•¿åº¦</span>array1<span class="token punctuation">.</span>length<span class="token comment" spellcheck="true">//éå†ï¼Œæ¡ä»¶è¡¨è¾¾å¼æ²¡æœ‰ç­‰å·</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>array1<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>å†…å­˜è§£æ</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200925151309.png"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200925151400.png"></p></li></ol><h3 id="äºŒç»´æ•°ç»„"><a href="#äºŒç»´æ•°ç»„" class="headerlink" title="äºŒç»´æ•°ç»„"></a>äºŒç»´æ•°ç»„</h3><ol><li><p>åˆå§‹åŒ–</p><pre class=" language-java"><code class="language-java"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr4 <span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li><li><p>è°ƒç”¨</p><pre class=" language-java"><code class="language-java">arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">//è·å–é•¿åº¦</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr4 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span>arr4<span class="token punctuation">.</span>length<span class="token comment" spellcheck="true">//3</span>arr4<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token comment" spellcheck="true">//3</span><span class="token comment" spellcheck="true">//éå†</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr4<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>arr4<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arr4<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>é»˜è®¤åˆå§‹åŒ–å€¼</p><p><code>int[][] arr = new int[4][3]</code></p><p>å¤–å±‚å…ƒç´ ï¼šarr[0]ï¼Œåœ°å€å€¼</p><p>å†…å±‚å…ƒç´ ï¼šarr[0] [0],0</p><p><code>int[][] arr = new int[4][]</code></p><p>å¤–å±‚å…ƒç´ ï¼šåœ°å€å€¼</p><p>å†…å±‚å…ƒç´ ï¼šç©ºæŒ‡é’ˆï¼Œå› ä¸ºæ²¡æœ‰æŒ‡å®šå†…å­˜ç©ºé—´</p></li><li><p>å†…å­˜è§£æ</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200925153444.png"></p></li><li><p>äºŒç»´æ•°ç»„ç®—æ³•</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/***æ¨è¾‰ä¸‰è§’*è¦æ±‚ï¼š1.æ‰“å°ä¸€ä¸ª10è¡Œæ¨è¾‰ä¸‰è§’2.ç¬¬ä¸€è¡Œæœ‰1ä¸ªå…ƒç´ ï¼Œç¬¬nè¡Œæœ‰nä¸ªå…ƒç´ 3.æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ æ˜¯14.ä»ç¬¬ä¸‰è¡Œå¼€å§‹ï¼Œå¯¹äºéç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ ï¼Œyanghui[i][j]=yanghui[i-1][j-1]+yanghui[i-1][j]**/</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å£°æ˜å¹¶åˆå§‹åŒ–æ•°ç»„</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> yangHui <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//ç»™æ•°ç»„èµ‹å€¼</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>yangHui<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        yangHui<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//ç»™é¦–ä½å…ƒç´ èµ‹å€¼</span>        yangHui<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>yangHui<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//ç»™ä¸­é—´èµ‹å€¼,è¿™ä¸ªåˆ¤æ–­è¯­å¥å¯ä»¥çœç•¥ï¼Œå› ä¸ºå½“iä¸º0æˆ–1æ—¶ï¼Œforåˆ¤æ–­è¯­å¥ä¹Ÿè¿›ä¸å»</span>       <span class="token comment" spellcheck="true">// if(i>1){</span>            <span class="token comment" spellcheck="true">//ä»ç¬¬äºŒä¸ªæ•°ç»„å¼€å§‹ï¼Œåˆ°å€’æ•°ç¬¬äºŒä¸ªæ•°ç»„ç»“æŸ</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>yangHui<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                yangHui<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>yangHui<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>yangHui<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>            <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//}</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//éå†æ•°ç»„</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>yangHui<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>yangHui<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>yangHui<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java">å¤šç»´æ•°ç»„çš„ä½¿ç”¨    å£°æ˜ï¼š<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> x<span class="token punctuation">,</span>y<span class="token punctuation">[</span><span class="token punctuation">]</span>ï¼Œä»¥ä¸‹å…è®¸é€šè¿‡ç¼–è¯‘çš„æ˜¯    <span class="token comment" spellcheck="true">//é¦–å…ˆï¼Œint[] xï¼Œæ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œyæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„</span>    x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> y<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¸å¯ä»¥ï¼Œint=äºŒç»´æ•°ç»„</span>    y<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¯ä»¥ï¼Œä¸€ç»´=ä¸€ç»´</span>    y<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¸å¯ä»¥ï¼Œint = ä¸€ç»´</span>    y<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¯ä»¥ï¼Œint = int</span></code></pre><pre class=" language-java"><code class="language-java">å®šä¹‰ä¸€ä¸ª<span class="token keyword">int</span>å‹ä¸€ç»´æ•°ç»„ï¼ŒåŒ…å«<span class="token number">10</span>ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«èµ‹äºˆéšæœºæ•´æ•°ï¼Œæ±‚æ‰€æœ‰å…ƒç´ çš„æœ€å¤§å€¼æœ€å°å€¼ï¼Œå’Œï¼Œå¹³å‡å€¼è¦æ±‚ï¼šæ‰€æœ‰éšæœºæ•°éƒ½æ˜¯ä¸¤ä½æ•°    å…¬å¼ï¼š<span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">]</span>çš„æ•´æ•°ï¼Œ<span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>b<span class="token operator">-</span>a<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>a<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//(int)(Math.random()*(99-10+1)+10)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">99</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//æœ€å¤§å€¼</span>    <span class="token keyword">int</span> max <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>max<span class="token operator">&lt;</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            max<span class="token operator">=</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//æœ€å°å€¼</span>    <span class="token keyword">int</span> min <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>min<span class="token operator">></span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            min<span class="token operator">=</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//å’Œ</span>    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        sum<span class="token operator">+=</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//å¹³å‡å€¼</span>    <span class="token keyword">int</span> avg <span class="token operator">=</span> sum<span class="token operator">/</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ•°ç»„å¤åˆ¶</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>arr1<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr1<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    arr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>arr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ•°ç»„åè½¬</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr1<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> temp <span class="token operator">=</span> arr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    arr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>arr1<span class="token punctuation">[</span>arr1<span class="token punctuation">.</span>length<span class="token operator">-</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    arr1<span class="token punctuation">[</span>arr1<span class="token punctuation">.</span>length<span class="token operator">-</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li></ol><h3 id="æ•°ç»„æŸ¥æ‰¾"><a href="#æ•°ç»„æŸ¥æ‰¾" class="headerlink" title="æ•°ç»„æŸ¥æ‰¾"></a>æ•°ç»„æŸ¥æ‰¾</h3><h5 id="çº¿æ€§æŸ¥æ‰¾"><a href="#çº¿æ€§æŸ¥æ‰¾" class="headerlink" title="çº¿æ€§æŸ¥æ‰¾"></a>çº¿æ€§æŸ¥æ‰¾</h5><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    String<span class="token punctuation">[</span><span class="token punctuation">]</span> arr1 <span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"a"</span><span class="token punctuation">,</span><span class="token string">"b"</span><span class="token punctuation">,</span><span class="token string">"c"</span><span class="token punctuation">}</span>    String dest <span class="token operator">=</span> <span class="token string">"b"</span><span class="token punctuation">;</span>    <span class="token keyword">boolean</span> isFlag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr1<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>dest<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰¾åˆ°äº†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            isFlag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>isFlag<span class="token punctuation">)</span><span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ²¡æœ‰æ‰¾åˆ°"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h5 id="äºŒåˆ†æ³•æŸ¥æ‰¾"><a href="#äºŒåˆ†æ³•æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æ³•æŸ¥æ‰¾"></a>äºŒåˆ†æ³•æŸ¥æ‰¾</h5><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å‰æï¼šè¦æŸ¥æ‰¾çš„æ•°ç»„å¿…é¡»æ˜¯æœ‰åºçš„</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> dest <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¦æŸ¥æ‰¾çš„æ•°</span>    <span class="token keyword">boolean</span> isFlag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> head <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//èµ·å§‹ç´¢å¼•</span>    <span class="token keyword">int</span> end <span class="token operator">=</span> arr1<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æœ«ç´¢å¼•</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>head<span class="token operator">&lt;=</span>end<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> middle <span class="token operator">=</span> <span class="token punctuation">(</span>head<span class="token operator">+</span>end<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¸­é—´ç´¢å¼•</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>dest<span class="token operator">==</span>arr1<span class="token punctuation">[</span>middle<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰¾åˆ°äº†ï¼Œä½ç½®åœ¨"</span><span class="token operator">+</span>middle<span class="token punctuation">)</span><span class="token punctuation">;</span>            ifFlag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>dest<span class="token operator">></span>arr1<span class="token punctuation">[</span>middle<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            head <span class="token operator">=</span> middle<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//dest&lt;arr1[middle]</span>            end <span class="token operator">=</span> middle<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>isFlag<span class="token punctuation">)</span><span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ²¡æœ‰æ‰¾åˆ°"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="æ’åºç®—æ³•"><a href="#æ’åºç®—æ³•" class="headerlink" title="æ’åºç®—æ³•"></a>æ’åºç®—æ³•</h3><h5 id="ç®—æ³•çš„5å¤§ç‰¹å¾"><a href="#ç®—æ³•çš„5å¤§ç‰¹å¾" class="headerlink" title="ç®—æ³•çš„5å¤§ç‰¹å¾"></a>ç®—æ³•çš„5å¤§ç‰¹å¾</h5><ol><li>æœ‰è¾“å…¥</li><li>æœ‰è¾“å‡º</li><li>æœ‰ç©·æ€§ï¼šèƒ½ç»“æŸï¼Œä¸æ˜¯æ­»å¾ªç¯</li><li>ç¡®å®šæ€§ï¼šæœ‰ç¡®å®šå«ä¹‰ï¼Œæ²¡æœ‰äºŒä¹‰æ€§</li><li>å¯è¡Œæ€§ï¼šæ¸…æ¥šå¯è¡Œ</li></ol><p>é€‰æ‹©æ’åºï¼š<strong>å †æ’åº</strong></p><p>äº¤æ¢æ’åºï¼š==<strong>å†’æ³¡æ’åºï¼ˆn^2^ï¼‰ã€å¿«é€Ÿæ’åºï¼ˆnlog2nï¼‰</strong>==ï¼Œå¹³å‡æ—¶é—´ä¸Šï¼šå¿«é€Ÿæ’åºæœ€ä½³</p><p><strong>å½’å¹¶æ’åº</strong></p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å†’æ³¡æ’åº</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr1<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//è´Ÿè´£æ§åˆ¶å‡ è½®ï¼Œ8ä¸ªå…ƒç´ ï¼Œi&lt;7ï¼Œå…±7è½®ï¼Œç¬¬8è½®å°±è‡ªå·±ä¸éœ€è¦æ’åº</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>arr1<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>i<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//è´Ÿè´£æ§åˆ¶å¯¹æ¯”çš„æ¬¡æ•°ï¼Œç¬¬ä¸€è½®å¯¹æ¯”7æ¬¡ï¼Œç¬¬äºŒè½®å¯¹æ¯”6æ¬¡</span>            <span class="token keyword">int</span> temp <span class="token operator">=</span> arr1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            arr1<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr1<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            arr1<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å¿«é€Ÿæ’åº</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">,</span><span class="token keyword">int</span> left<span class="token punctuation">,</span><span class="token keyword">int</span> right<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> i <span class="token operator">=</span>left<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å…ˆå¤‡ä»½ï¼Œä¿è¯ijå˜åŠ¨ï¼Œä¼ å…¥çš„å‚æ•°ä¸å˜</span>    <span class="token keyword">int</span> j <span class="token operator">=</span> right<span class="token punctuation">;</span>    <span class="token keyword">int</span> key <span class="token operator">=</span> arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> temp <span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token operator">=</span>null<span class="token operator">||</span>arr<span class="token punctuation">.</span>length<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>j<span class="token operator">&amp;&amp;</span>arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">>=</span>key<span class="token punctuation">)</span><span class="token punctuation">{</span>            j<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>j<span class="token operator">&amp;&amp;</span>arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">&lt;=</span>key<span class="token punctuation">)</span><span class="token punctuation">{</span>            i<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>            t <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">;</span>    <span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>left<span class="token punctuation">,</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>ï¼›    <span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="Arrayså·¥å…·ç±»"><a href="#Arrayså·¥å…·ç±»" class="headerlink" title="Arrayså·¥å…·ç±»"></a>Arrayså·¥å…·ç±»</h3><table><thead><tr><th>1</th><th>boolean equals(int[] a,int[] b)</th><th>åˆ¤æ–­ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰</th></tr></thead><tbody><tr><td>2</td><td>String toString(int[] a)</td><td>è¾“å‡ºæ•°ç»„ä¿¡æ¯</td></tr><tr><td>3</td><td>void fill(int[] a,int val)</td><td>å°†åªç­‰å€¼å¡«å……åˆ°æ•°ç»„ä¹‹ä¸­</td></tr><tr><td>4</td><td>void sort(int[] a)</td><td>å¯¹æ•°ç»„è¿›è¡Œæ’åº</td></tr><tr><td>5</td><td>int binarySearch(int[] a,int key)</td><td>å¯¹æ’åºåçš„æ•°ç»„è¿›è¡ŒäºŒåˆ†æ³•æ£€ç´¢æŒ‡å®šçš„å€¼</td></tr></tbody></table><h3 id="æ•°ç»„å¸¸è§å¼‚å¸¸"><a href="#æ•°ç»„å¸¸è§å¼‚å¸¸" class="headerlink" title="æ•°ç»„å¸¸è§å¼‚å¸¸"></a>æ•°ç»„å¸¸è§å¼‚å¸¸</h3><ol><li>æ•°ç»„è§’æ ‡è¶Šç•Œå¼‚å¸¸ï¼š<code>ArrayIndexOutOfBoundsException</code></li><li>ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼š<code>NullPointerException</code></li></ol><h2 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h2><h3 id="å¯¹è±¡çš„å†…å­˜åˆ†æ"><a href="#å¯¹è±¡çš„å†…å­˜åˆ†æ" class="headerlink" title="å¯¹è±¡çš„å†…å­˜åˆ†æ"></a>å¯¹è±¡çš„å†…å­˜åˆ†æ</h3><ol><li>å †ï¼šå­˜æ”¾å¯¹è±¡å®ä¾‹ï¼ˆåŒ…æ‹¬å¯¹è±¡ä¸­çš„å±æ€§(æˆå‘˜å˜é‡)ï¼‰</li><li>æ ˆï¼šå­˜æ”¾å±€éƒ¨å˜é‡ï¼ˆä¿å­˜åœ¨æ–¹æ³•ç§çš„å˜é‡ï¼‰</li><li>æ–¹æ³•åŒºï¼šå­˜æ”¾ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡</li></ol><h3 id="å˜é‡-1"><a href="#å˜é‡-1" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><p>æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡ï¼š</p><ol><li>æˆå‘˜å˜é‡ï¼šç±»ä¸­çš„å±æ€§ï¼ŒåŠ è½½åˆ°å †ç©ºé—´</li><li>å±€éƒ¨å˜é‡ï¼šæ–¹æ³•ä¸­çš„å±æ€§ï¼ŒåŠ è½½åˆ°æ ˆç©ºé—´</li><li>æˆå‘˜å˜é‡æœ‰åˆå§‹åŒ–å€¼</li><li>å±€éƒ¨å˜é‡æ²¡æœ‰åˆå§‹åŒ–å€¼ï¼Œå¼•ç”¨æ—¶éœ€è¦æ˜¾å¼èµ‹å€¼</li></ol><h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><ol><li><p>æ ¼å¼ï¼šæƒé™ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•åï¼ˆå½¢å‚åˆ—è¡¨ï¼‰{æ–¹æ³•ä½“}</p></li><li><p>å…³é”®å­—[å¯é€‰]:staticã€finalã€abstract</p></li><li><p>æƒé™ä¿®é¥°ç¬¦ï¼šprivateã€ç¼ºçœã€protectedã€publicï¼ˆç±»å†…éƒ¨ï¼ŒåŒä¸€ä¸ªåŒ…ï¼Œä¸åŒåŒ…çš„å­ç±»ï¼ŒåŒä¸€ä¸ªå·¥ç¨‹ï¼‰</p></li></ol><h4 id="é‡è½½"><a href="#é‡è½½" class="headerlink" title="é‡è½½"></a>é‡è½½</h4><p><strong>ä¸¤åŒä¸€ä¸åŒï¼š</strong></p><p>åŒä¸€ä¸ªç±»ï¼Œç›¸åŒæ–¹æ³•åï¼Œ</p><p>å‚æ•°åˆ—è¡¨ä¸åŒï¼šå‚æ•°ä¸ªæ•°ä¸åŒï¼Œå‚æ•°ç±»å‹ä¸åŒ</p><h5 id="å¯å˜ä¸ªæ•°å½¢å‚"><a href="#å¯å˜ä¸ªæ•°å½¢å‚" class="headerlink" title="å¯å˜ä¸ªæ•°å½¢å‚"></a>å¯å˜ä¸ªæ•°å½¢å‚</h5><p>å…è®¸ç›´æ¥å®šä¹‰èƒ½å’Œå¤šä¸ªå®å‚ç±»å‹ç›¸åŒ¹é…çš„å½¢å‚</p><p><code>public void show(String ... strs)</code></p><h3 id="æ„é€ å™¨"><a href="#æ„é€ å™¨" class="headerlink" title="æ„é€ å™¨"></a>æ„é€ å™¨</h3><ol><li>å¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰ç±»çš„æ„é€ å™¨çš„è¯ï¼Œç³»ç»Ÿé»˜è®¤æä¾›ä¸€ä¸ªç©ºå‚çš„æ„é€ å™¨</li><li>ä¸€æ—¦æ˜¾ç¤ºå®šä¹‰äº†ç±»çš„æ„é€ å™¨ä¹‹åï¼Œç³»ç»Ÿå°±ä¸ä¼šå†æä¾›ç©ºå‚çš„æ„é€ å™¨</li><li>ä¸€ä¸ªç±»è‡³å°‘ä¼šæœ‰ä¸€ä¸ªæ„é€ å™¨</li></ol><h3 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="headerlink" title="å…³é”®å­—"></a>å…³é”®å­—</h3><h4 id="this"><a href="#this" class="headerlink" title="this"></a>this</h4><p>åœ¨ç±»ä¸­ï¼ŒthisæŒ‡çš„æ˜¯è¿™ä¸ªç±»çš„å¯¹è±¡ï¼Œé€šè¿‡<code>this.å±æ€§</code>æ¥è°ƒç”¨å¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹å±æ€§å’Œå½¢å‚é‡åæ‰ä¼šä½¿ç”¨ã€‚</p><p>ä¹Ÿå¯ä»¥è°ƒç”¨æ„é€ å™¨ï¼Œå¦‚this(),å°±æ˜¯è°ƒç”¨çš„ç©ºå‚ï¼Œä¹Ÿå¯ä»¥å†™æœ‰å‚çš„this(id,age)ï¼Œä¸€èˆ¬éƒ½æ”¾åœ¨æ–¹æ³•çš„é¦–è¡Œ</p><h4 id="super"><a href="#super" class="headerlink" title="super"></a>super</h4><ol><li>åœ¨å­ç±»çš„æ–¹æ³•æˆ–æ„é€ å™¨ä¸­ï¼Œé€šè¿‡super.å±æ€§æˆ–super.æ–¹æ³•ï¼Œæ˜¾å¼è°ƒç”¨çˆ¶ç±»ä¸­å£°æ˜çš„å±æ€§æˆ–æ–¹æ³•</li><li>å½“å­ç±»å’Œçˆ¶ç±»å®šä¹‰äº†åŒåçš„å±æ€§/æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦ç”¨<code>super.å±æ€§</code>è¡¨ç¤ºè°ƒç”¨çš„æ˜¯çˆ¶ç±»ä¸­å£°æ˜çš„å±æ€§</li></ol><h4 id="static"><a href="#static" class="headerlink" title="static"></a>static</h4><ol><li>é™æ€çš„</li><li>staticå¯ä»¥ç”¨æ¥ä¿®é¥°ï¼šå±æ€§ï¼ˆç±»å˜é‡ï¼‰ã€æ–¹æ³•ã€ä»£ç å—ã€å†…éƒ¨ç±»</li><li>é™æ€å˜é‡ï¼ˆç±»å˜é‡ï¼‰ï¼š<ol><li>éšç€ç±»åŠ è½½è€ŒåŠ è½½ï¼Œæ—©äºå¯¹è±¡çš„åˆ›å»ºã€‚</li><li>å¯ä»¥é€šè¿‡â€œç±».é™æ€å˜é‡â€æ¥è°ƒç”¨</li><li>ç±»ä¸èƒ½è°ƒç”¨å®ä¾‹å˜é‡<code>Student.name</code>æ˜¯ä¸è¡Œçš„ï¼Œå¦‚æœæ˜¯ç±»å˜é‡å¯ä»¥</li></ol></li><li>é™æ€æ–¹æ³•<ol><li>éšç€ç±»åŠ è½½è€ŒåŠ è½½ï¼Œå¯ä»¥é€šè¿‡â€œç±».é™æ€æ–¹æ³•â€çš„æ–¹å¼è¿›è¡Œè°ƒç”¨</li><li>ç±»ä¸èƒ½è°ƒç”¨éé™æ€æ–¹æ³•æˆ–å±æ€§</li><li>éé™æ€æ–¹æ³•å¯ä»¥è°ƒç”¨é™æ€æ–¹æ³•å’Œå±æ€§ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨éé™æ€</li><li>åœ¨é™æ€æ–¹æ³•å†…ï¼Œä¸èƒ½ä½¿ç”¨thiså…³é”®å­—ï¼Œsuperå…³é”®å­—</li><li>ä»€ä¹ˆæ—¶å€™å£°æ˜staticï¼šå±æ€§è¢«å¤šä¸ªå¯¹è±¡å…±äº«çš„ï¼Œä¸ä¼šéšå¯¹è±¡è€Œä¸åŒã€‚æ“ä½œé™æ€å±æ€§çš„æ–¹æ³•ã€‚å·¥å…·ç±»</li></ol></li></ol><h4 id="final"><a href="#final" class="headerlink" title="final"></a>final</h4><ol><li><p>å¯ä»¥ç”¨æ¥ä¿®é¥°çš„ç»“æ„ï¼šç±»ã€æ–¹æ³•ã€å˜é‡</p></li><li><p>ç±»ï¼šæ­¤ç±»ä¸èƒ½è¢«ç»§æ‰¿</p></li><li><p>æ–¹æ³•ï¼šæ­¤ç±»ä¸èƒ½è¢«é‡å†™</p></li><li><p>å˜é‡ï¼šè®©å…¶å˜ä¸ºä¸€ä¸ªå¸¸é‡ï¼Œä¸èƒ½å†ä¿®æ”¹</p><ol><li><p>ä¿®é¥°å±æ€§ï¼šæ˜¾ç¤ºåˆå§‹åŒ–ã€ä»£ç å—ä¸­åˆå§‹åŒ–ã€æ„é€ å™¨ä¸­åˆå§‹åŒ–(ç”¨äºå€¼ä¸ä¸€æ ·çš„æ—¶å€™)</p></li><li><p>ä¿®é¥°å±€éƒ¨å˜é‡ï¼šä¿®é¥°å½¢å‚æ—¶ï¼Œè¡¨æ˜å½¢å‚æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œå½“æˆ‘ä»¬è°ƒç”¨æ­¤æ–¹æ³•ï¼Œç»™å¸¸é‡å½¢å‚èµ‹äºˆä¸€ä¸ªå®å‚ï¼Œä»¥åè°ƒç”¨ä»¥åå°±åªèƒ½å†æ–¹æ³•ä½“å†…ä½¿ç”¨è¯¥å½¢å‚ï¼Œä¸èƒ½è¿›è¡Œé‡æ–°èµ‹å€¼</p></li></ol></li></ol><h3 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h3><ol><li>ä½œç”¨ï¼šç”¨äºåˆå§‹åŒ–ç±»ã€å¯¹è±¡</li><li>ä»£ç å—åªèƒ½ç”¨staticä¿®é¥°</li><li>é™æ€ä»£ç å—ï¼š<ol><li>å†…éƒ¨å¯ä»¥æœ‰è¾“å‡ºè¯­å¥</li><li><strong>éšç€ç±»çš„åŠ è½½è€Œæ‰§è¡Œï¼Œä¸”åªæ‰§è¡Œä¸€æ¬¡</strong></li><li>ç±»ä¸­å¯ä»¥å®šä¹‰å¤šä¸ªé™æ€ä»£ç å—</li><li>é™æ€ä»£ç å—æ‰§è¡Œä¼˜å…ˆäºéé™æ€ä»£ç å—</li><li>é™æ€ä»£ç å—å†…åªèƒ½è°ƒç”¨é™æ€å±æ€§ï¼Œé™æ€æ–¹æ³•ï¼Œä¸èƒ½è°ƒç”¨éé™æ€ç»“æ„</li></ol></li><li>éé™æ€ä»£ç å—<ol><li>å†…éƒ¨å¯ä»¥æœ‰è¾“å‡ºè¯­å¥</li><li><strong>éšç€å¯¹è±¡çš„åˆ›å»ºè€Œæ‰§è¡Œ</strong></li><li>æ¯åˆ›å»ºä¸€æ¬¡å°±ä¼šè¢«æ‰§è¡Œä¸€æ¬¡</li><li>ä½œç”¨ï¼šå¯ä»¥åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯¹å¯¹è±¡çš„å±æ€§è¿›è¡Œåˆå§‹åŒ–</li></ol></li></ol><h3 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h3><p>å±æ€§ç§æœ‰ï¼Œgetï¼Œset</p><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><ol><li>åªæ”¯æŒå•ç»§æ‰¿å’Œå¤šå±‚ç»§æ‰¿<ol><li>1ä¸ªå­ç±»åªèƒ½æœ‰1ä¸ªçˆ¶ç±»</li><li>1ä¸ªçˆ¶ç±»å¯ä»¥æœ‰å¤šä¸ªå­ç±»</li></ol></li></ol><h3 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h3><ol><li><p>çˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡<code>Person p1 = new Man();</code></p></li><li><p>è™šæ‹Ÿæ–¹æ³•è°ƒç”¨ï¼šå½“è°ƒç”¨æ–¹æ³•æ—¶ï¼Œç¼–è¯‘æœŸï¼Œåªèƒ½è°ƒç”¨çˆ¶ç±»å£°æ˜çš„æ–¹æ³•ã€‚ä½†åœ¨è¿è¡ŒæœŸï¼Œæˆ‘ä»¬å®é™…æ‰§è¡Œçš„æ—¶å­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€‚</p><p>æ€»ç»“ï¼šç¼–è¯‘ï¼Œçœ‹å·¦è¾¹ï¼›è¿è¡Œï¼Œçœ‹å³è¾¹ï¼ˆ<strong>è¿è¡Œæ—¶è¡Œä¸º</strong>ï¼‰</p></li><li><p>ä½œç”¨ï¼šåœ¨æ–¹æ³•ä¸Šçš„å½¢å‚ä½¿ç”¨çˆ¶ç±»ï¼Œå½“è°ƒç”¨æ–¹æ³•æ—¶ä¼ å…¥å­ç±»å¯¹è±¡ï¼Œå°±ä¼šæ˜¯å­ç±»è°ƒç”¨æ–¹æ³•ã€‚</p></li><li><p>æ³¨æ„ï¼šå¯¹è±¡çš„å¤šæ€æ€§åªé€‚ç”¨äºæ–¹æ³•ï¼Œä¸é€‚ç”¨äºå±æ€§</p></li><li><p>å‘ä¸‹è½¬å‹ï¼šçˆ¶ç±»æƒ³è½¬å‹ä¸ºå­ç±»ï¼Œéœ€è¦åŠ ä¸Šå¼ºåˆ¶è½¬æ¢ï¼ˆå­ç±»ï¼‰,ä½†å¦‚æœå·²ç»å¤šæ€ä½¿ç”¨äº†å‘ä¸Šè½¬å‹ï¼Œå†è½¬å…¶ä»–ç±»å‹å°±ä¼šæŠ¥é”™ï¼Œå¦‚ï¼š<code>Person p2 = new Man();  Woman woman =(Woman)p2;</code>å°±ä¼šæŠ¥é”™ClassCastException</p></li><li><p>instanceofï¼šä¸ºäº†é¿å…åœ¨å‘ä¸‹è½¬å‹æ—¶å‡ºç°å¼‚å¸¸ï¼Œæˆ‘ä»¬åœ¨å‘ä¸‹è½¬å‹ä¹‹å‰ï¼Œå…ˆè¿›è¡Œinstanceofçš„åˆ¤æ–­ï¼Œä¸€æ—¦ä¸ºtrueï¼Œå°±è¿›è¡Œå‘ä¸‹è½¬å‹ï¼Œflaseå°±ä¸è½¬å‹ã€‚</p></li></ol><h3 id="é‡å†™"><a href="#é‡å†™" class="headerlink" title="é‡å†™"></a>é‡å†™</h3><ol><li>å­ç±»ä¸èƒ½é‡å†™çˆ¶ç±»å£°æ˜ä¸ºprivateæƒé™çš„æ–¹æ³•</li></ol><h3 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h3><p><code>public abstract class test{}</code></p><ol start="0"><li><p>æŠ½è±¡ç±»æ˜¯ç»§æ‰¿é‡å†™</p></li><li><p>æŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–</p></li><li><p>abstractä¸èƒ½ç”¨æ¥ä¿®é¥°ï¼šå±æ€§ã€æ„é€ å™¨</p></li><li><p>ä¸èƒ½ç”¨æ¥ä¿®é¥°ç§æœ‰æ–¹æ³•ã€é™æ€æ–¹æ³•ã€finalæ–¹æ³•</p></li></ol><h4 id="æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼"><a href="#æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼" class="headerlink" title="æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼"></a>æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼</h4><ol><li>åœ¨è½¯ä»¶å¼€å‘å®ç°ä¸€ä¸ªç®—æ³•æ—¶ï¼Œæ•´ä½“æ­¥éª¤å¾ˆå›ºå®šé€šç”¨ï¼Œè¿™äº›æ­¥éª¤å·²ç»åœ¨çˆ¶ç±»å†™å¥½äº†ã€‚æŸäº›éƒ¨åˆ†æ˜“å˜ï¼Œæ˜“å˜çš„éƒ¨åˆ†å¯ä»¥æŠ½è±¡å‡ºæ¥ï¼Œç»™å­ç±»å®ç°ã€‚</li></ol><h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><ol start="0"><li><p>å…ˆå†™extendsï¼Œåå†™implements</p></li><li><p>å’Œç±»æ˜¯ç›¸åŒçº§åˆ«ï¼Œå¦‚æœçˆ¶ç±»å’Œæ¥å£å®šä¹‰äº†ç›¸åŒ<strong>å˜é‡</strong>ï¼ˆéæ–¹æ³•ï¼Œæ–¹æ³•æ˜¯è°é‡å†™ç”¨è°çš„ï¼Œéƒ½æ²¡é‡å†™ç±»ä¼˜å…ˆï¼‰ï¼Œéœ€è¦åŠ å‰ç¼€ï¼Œ<code>super/æ¥å£å.å˜é‡</code></p></li><li><p>å¦‚æœåŒæ—¶å®ç°ä¸¤ä¸ªæ¥å£ä¸­çš„åŒåæ–¹æ³•ï¼Œåˆ™éƒ½é‡å†™ï¼Œè°ƒç”¨æ—¶<code>æ¥å£å.super.æ–¹æ³•</code>ï¼Œæ²¡æœ‰é‡å†™å°±æŠ¥é”™ã€‚</p></li><li><p>æ¥å£ä¸­çš„å¯¹è±¡ä¹Ÿæ˜¯finalçš„ä¸èƒ½ä¿®æ”¹ã€‚</p></li><li><p>jdk7åŠä¹‹å‰ï¼šåªèƒ½å®šä¹‰å…¨å±€å¸¸é‡å’ŒæŠ½è±¡æ–¹æ³•</p><ol><li>å…¨å±€å¸¸é‡ï¼š<code>public static final</code> ï¼Œä¹¦å†™æ—¶å¯ä»¥çœç•¥</li><li>æŠ½è±¡æ–¹æ³•ï¼š<code>public abstract</code></li></ol></li><li><p>jdk8ï¼šé™¤äº†å®šä¹‰å…¨å±€å¸¸é‡å’ŒæŠ½è±¡æ–¹æ³•æ„å¤–ï¼Œè¿˜å¯ä»¥å®šä¹‰é™æ€æ–¹æ³•ã€é»˜è®¤æ–¹æ³•</p><ol><li>é™æ€æ–¹æ³•åªèƒ½é€šè¿‡æ¥å£è°ƒç”¨</li><li>é€šè¿‡å®ç°ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨æ¥å£ä¸­é»˜è®¤æ–¹æ³•</li><li>å¦‚æœå®ç°ç±»é‡å†™äº†æ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•ï¼Œä»ç„¶è°ƒç”¨çš„æ˜¯é‡å†™åçš„æ–¹æ³•ï¼ˆç±»ä¼˜å…ˆåŸåˆ™ï¼‰</li></ol></li><li><p>æ¥å£ä¸­ä¸èƒ½å®šä¹‰æ„é€ å™¨ï¼Œæ„å‘³ç€æ¥å£ä¸å¯ä»¥å®ä¾‹åŒ–</p></li><li><p>æ¥å£ä¸æ¥å£é—´æ˜¯ç»§æ‰¿ï¼Œè€Œä¸”å¯ä»¥å¤šç»§æ‰¿</p></li><li><p><strong>æŠ½è±¡ç±»å’Œæ¥å£æœ‰å“ªäº›å¼‚åŒ</strong></p><pre><code>1.éƒ½ä¸èƒ½å®ä¾‹åŒ–2.å®ç°çš„æ–¹å¼éƒ½ä½“ç°äº†å¤šæ€</code></pre></li><li><p>æ¥å£çš„åº”ç”¨ï¼š<strong>ä»£ç†æ¨¡å¼</strong></p><p>åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œæ„é€ å™¨ä¸­ä¼ å…¥è¢«ä»£ç†å¯¹è±¡ï¼Œè°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼Œåˆ™ä¼šæ‰§è¡Œè¢«ä»£ç†å¯¹è±¡æ–¹æ³•å’Œä»£ç†å¯¹è±¡è‡ªå¸¦çš„æ–¹æ³•</p></li></ol><h3 id="å†…éƒ¨ç±»"><a href="#å†…éƒ¨ç±»" class="headerlink" title="å†…éƒ¨ç±»"></a>å†…éƒ¨ç±»</h3><p><strong>åˆ†ç±»</strong>ï¼šæˆå‘˜å†…éƒ¨ç±»ï¼ˆé™æ€ã€éé™æ€ï¼‰ vs å±€éƒ¨å†…éƒ¨ç±»ï¼ˆæ–¹æ³•å†…ã€ä»£ç å—å†…ã€æ„é€ å™¨å†…ï¼‰</p><ol><li>æˆå‘˜å†…éƒ¨ç±»ï¼š<ol><li>ä½œä¸ºå¤–éƒ¨ç±»çš„æˆå‘˜<ol><li>è°ƒç”¨å¤–éƒ¨ç±»çš„ç»“æ„</li><li>å¯ä»¥è¢«staticä¿®é¥°</li><li>å¯ä»¥è¢«4ç§ä¸åŒçš„æƒé™ä¿®é¥°</li></ol></li><li>ä½œä¸ºä¸€ä¸ªç±»<ol><li>ç±»å†…å¯ä»¥å®šä¹‰å±æ€§æ–¹æ³•æ„é€ å™¨</li><li>å¯ä»¥è¢«finalä¿®é¥°ï¼Œè¡¨ç¤ºæ­¤ç±»ä¸å¯è¢«ç»§æ‰¿</li><li>å¯è¢«abstractä¿®é¥°</li></ol></li></ol></li><li>åˆ›å»ºé™æ€æˆå‘˜å†…éƒ¨ç±»<code>Person.Dog dog = new Person.Dog();</code></li><li>åˆ›å»ºéé™æ€æˆå‘˜å†…éƒ¨ç±»<code>Person p = new Person(); Person.Bird bird = p.new Bird();</code></li><li>è°ƒç”¨å±æ€§ï¼š<ol><li>å†…éƒ¨ç±»å±æ€§ï¼šthis.name</li><li>å½¢å‚ï¼šname</li><li>å¤–éƒ¨ç±»å˜é‡ï¼šå¤–éƒ¨ç±»å.this.name</li><li>å±æ€§åä¸åŒå¯ç›´æ¥è°ƒç”¨</li></ol></li></ol><h2 id="å¸¸ç”¨ç±»çš„ä½¿ç”¨"><a href="#å¸¸ç”¨ç±»çš„ä½¿ç”¨" class="headerlink" title="å¸¸ç”¨ç±»çš„ä½¿ç”¨"></a>å¸¸ç”¨ç±»çš„ä½¿ç”¨</h2><h3 id="Objectç±»çš„ä½¿ç”¨"><a href="#Objectç±»çš„ä½¿ç”¨" class="headerlink" title="Objectç±»çš„ä½¿ç”¨"></a>Objectç±»çš„ä½¿ç”¨</h3><ol><li><p>finalã€finallyã€finalizeçš„åŒºåˆ«</p><pre><code>finalæ˜¯å…³é”®å­—ï¼Œæ ‡è®°åœ¨å±æ€§ä¸Šï¼Œè¯¥å±æ€§å°±ä¸ä¼šè¢«æ”¹å˜ï¼›æ ‡è®°åœ¨æ–¹æ³•ä¸Šï¼Œè¯¥æ–¹æ³•ä¸ä¼šè¢«é‡å†™ï¼Œæ ‡è®°åœ¨ç±»ä¸Šï¼Œè¯¥ç±»ä¸ä¼šè¢«ç»§æ‰¿finallyæ˜¯åœ¨å¼‚å¸¸ä¸­ï¼Œæœ€åä¸€å®šæ‰§è¡Œçš„è¯­å¥å—finalizeæ˜¯åƒåœ¾å›æ”¶çš„æ–¹æ³•</code></pre></li><li><p>== å’Œ equalsï¼ˆï¼‰çš„åŒºåˆ«</p><pre><code>==è¿ç®—ç¬¦å¦‚æœæ¯”è¾ƒçš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼šæ¯”è¾ƒä¸¤ä¸ªå˜é‡ä¿å­˜æ•°æ®æ˜¯å¦ç›¸ç­‰å¦‚æœæ¯”è¾ƒçš„æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼šæ¯”è¾ƒä¸¤ä¸ªå˜é‡çš„åœ°å€å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå³å¼•ç”¨çš„æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå®ä½“equals()æ–¹æ³•åªé€‚ç”¨äºå¼•ç”¨æ•°æ®ç±»å‹ï¼šObjectç±»ä¸­çš„equalsæ–¹æ³•ï¼šå’Œ==çš„ä½œç”¨æ˜¯ç›¸åŒçš„ï¼Œä¸€æ ·æ˜¯æ¯”è¾ƒåœ°å€å€¼å…¶ä»–ç±»å¯ä»¥é‡å†™equalsæ–¹æ³•ï¼Œæ¥è¿›è¡Œæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å®ä½“å†…å®¹æ˜¯å¦ç›¸åŒ</code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//é‡å†™equalsæ–¹æ³•</span><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object obj<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å¦‚æœä¸¤ä¸ªéƒ½æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè‚¯å®šç›¸ç­‰</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å¦‚æœæ˜¯ä¸€ä¸ªç±»å‹ï¼Œè¿›è¡Œæ¯”è¾ƒï¼Œä¸æ˜¯ç›´æ¥è¿”å›false</span>        Person p1 <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token punctuation">)</span> obj<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">==</span> p1<span class="token punctuation">.</span>age <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¿™é‡Œnameæ˜¯å­—ç¬¦ä¸²ï¼Œéœ€è¦ä½¿ç”¨å­—ç¬¦ä¸²é‡å†™çš„equalsæ–¹æ³•ï¼Œå¦åˆ™è¿˜æ˜¯æ¯”è¾ƒçš„åœ°å€</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><blockquote><p>æ³¨æ„ï¼šä½¿ç”¨equalsæ–¹æ³•æ—¶ï¼Œæœ€å¥½å…ˆåˆ¤æ–­x.equals(y)çš„xæ˜¯ä¸æ˜¯Nullï¼Œå¦‚æœæ˜¯nullä¼šæŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸</p></blockquote></li><li><p>toString()</p><pre><code>åœ¨æ²¡æœ‰é‡å†™æ—¶ï¼Œobjç±»ä¸­è¾“å‡ºçš„æ˜¯åœ°å€å€¼ï¼Œname@å“ˆå¸Œå€¼é‡å†™ä¹‹åï¼Œè¿”å›çš„æ˜¯å®ä½“å†…å®¹ä¿¡æ¯</code></pre></li></ol><h3 id="å•å…ƒæµ‹è¯•æ–¹æ³•çš„ä½¿ç”¨"><a href="#å•å…ƒæµ‹è¯•æ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="å•å…ƒæµ‹è¯•æ–¹æ³•çš„ä½¿ç”¨"></a>å•å…ƒæµ‹è¯•æ–¹æ³•çš„ä½¿ç”¨</h3><ol><li>æ­¤ç±»ä¸­æ˜¯publicï¼Œæ­¤ç±»æä¾›å…¬å…±çš„æ— å‚æ„é€ å™¨</li><li>æ–¹æ³•ä¸Š@Test</li></ol><h3 id="åŒ…è£…ç±»çš„ä½¿ç”¨"><a href="#åŒ…è£…ç±»çš„ä½¿ç”¨" class="headerlink" title="åŒ…è£…ç±»çš„ä½¿ç”¨"></a>åŒ…è£…ç±»çš„ä½¿ç”¨</h3><ol><li><p>javaæä¾›8ç§åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„åŒ…è£…ç±»ï¼Œä½¿å¾—åŸºæœ¬æ•°æ®ç±»å‹å˜é‡å…·æœ‰ç±»çš„ç‰¹å¾</p></li><li><p>åŸºæœ¬æ•°æ®ç±»å‹â€”&gt;åŒ…è£…ç±»ï¼š<code>new Integer()</code></p></li><li><p>åŒ…è£…ç±»â€”&gt;åŸºæœ¬æ•°æ®ç±»å‹ï¼š<code>.xxxvalue()</code></p></li><li><p>è‡ªåŠ¨è£…ç®±ï¼š<code>int num1 = 1; Integer a1 = num1;</code>ï¼Œä¸éœ€è¦newäº†</p></li><li><p>è‡ªåŠ¨æ‹†ç®±ï¼š<code>Integer b1 = new Integer(); int num = b1;</code>ï¼Œä¸éœ€è¦xxxvalue()äº†</p></li><li><p>åŸºæœ¬æ•°æ®ç±»å‹/åŒ…è£…ç±» â€”&gt;Stringç±»å‹</p><ol><li><p>æ–¹å¼1ï¼šè¿æ¥è¿ç®—ï¼š<code>String str1 = num1+"";</code></p></li><li><p>æ–¹å¼2ï¼šè°ƒç”¨Stringçš„valueOf(xxx)çš„æ–¹æ³•ï¼š<code>String str2 = String.valueOf(num2);</code></p></li><li><p>æ–¹å¼3ï¼šè°ƒç”¨åŒ…è£…ç±»çš„parseXXX()æ–¹æ³•ï¼Œ<code>Integer.paseInt(str1);</code></p><blockquote><p>æ³¨æ„ï¼šè¿™é‡Œå¦‚æœè½¬æ¢ä¸æ­£ç¡®ï¼Œä¼šå‡ºç°NumberFormatExceptionï¼Œæ£€æŸ¥æ•°æ®æ˜¯å¦æ­£ç¡®</p></blockquote></li></ol></li></ol><h3 id="main-æ–¹æ³•çš„ä½¿ç”¨"><a href="#main-æ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="main()æ–¹æ³•çš„ä½¿ç”¨"></a>main()æ–¹æ³•çš„ä½¿ç”¨</h3><ol><li>main()æ–¹æ³•ä½œä¸ºç¨‹åºçš„å…¥å£</li><li>main()æ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šçš„é™æ€æ–¹æ³•</li><li>main()æ–¹æ³•å¯ä»¥ä½œä¸ºæˆ‘ä»¬ä¸æ§åˆ¶å°äº¤äº’çš„æ–¹å¼ run configurationsâ€“argumentsâ€“program argumentsâ€“è¾“å…¥å‚æ•°</li></ol><h3 id="Stringç±»"><a href="#Stringç±»" class="headerlink" title="Stringç±»"></a>Stringç±»</h3><ol><li>æ˜¯ä¸€ä¸ªfinalç±»ï¼Œä»£è¡¨ä¸å¯å˜çš„å­—ç¬¦åºåˆ—<ol><li>å½“å¯¹å­—ç¬¦ä¸²é‡æ–°èµ‹å€¼æ—¶ï¼Œä¼šåœ¨å†…å­˜åŒºé‡æ–°å¼€è¾Ÿä¸€ä¸ªç©ºé—´è¿›è¡Œèµ‹å€¼</li><li>å½“å¯¹ç°æœ‰çš„å­—ç¬¦ä¸²è¿›è¡Œè¿æ¥æ“ä½œæ—¶ï¼Œä¹Ÿä¼šåœ¨å†…å­˜åŒºé‡æ–°å¼€è¾Ÿä¸€ä¸ªç©ºé—´è¿›è¡Œèµ‹å€¼</li><li>å½“è°ƒç”¨Stringçš„repalceï¼ˆï¼‰æ–¹æ³•ä¿®æ”¹æŒ‡å®šå†…å­˜æˆ–å­—ç¬¦ä¸²æ—¶ï¼Œä¹Ÿä¼šåœ¨å†…å­˜åŒºé‡æ–°å¼€è¾Ÿä¸€ä¸ªç©ºé—´è¿›è¡Œèµ‹å€¼</li></ol></li><li>åº•å±‚æ˜¯æ•°ç»„</li><li>Stringå®ç°äº†Serializableæ¥å£ï¼šè¡¨ç¤ºå­—ç¬¦ä¸²æ˜¯æ”¯æŒåºåˆ—åŒ–çš„</li><li>Stringå®ç°äº†Comparableæ¥å£ï¼šè¡¨ç¤ºStringå¯ä»¥æ¯”è¾ƒå¤§å°</li><li>æ¯ä¸ªå­—é¢é‡åœ¨å†…å­˜ä¸­åªä¼šå­˜åœ¨ä¸€ä¸ªï¼Œå¦‚æœ<code>a = "123",b = "123"</code>ï¼Œåˆ™è¿™ä¸¤ä¸ªæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåœ°å€</li></ol><h4 id="Stringå¯¹è±¡çš„åˆ›å»º"><a href="#Stringå¯¹è±¡çš„åˆ›å»º" class="headerlink" title="Stringå¯¹è±¡çš„åˆ›å»º"></a>Stringå¯¹è±¡çš„åˆ›å»º</h4><ol><li><code>String s1 = "123"</code></li><li><code>String s2 = new String("123")</code>ï¼›</li></ol><blockquote><p>è¿™ä¸¤ç§æƒ…å†µæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><ol><li>ç¬¬ä¸€ç§æƒ…å†µï¼Œs1çš„æ•°æ®å£°æ˜åœ¨æ–¹æ³•åŒºçš„å¸¸é‡æ± ä¸­</li><li>ç¬¬äºŒç§æƒ…å†µï¼Œs2ä¿å­˜çš„æ˜¯åœ°å€å€¼ï¼Œæ•°æ®åœ¨å †ç©ºé—´ä¸­å¼€è¾Ÿç©ºé—´ä»¥åå¯¹åº”çš„åœ°å€å€¼</li><li>ä¸¤è€…ä¸ç›¸ç­‰</li><li>ç¬¬äºŒç§æƒ…å†µåœ¨å†…å­˜ä¸­æœ‰ä¸¤ä¸ªå¯¹è±¡ï¼š1ä¸ªæ˜¯å †ç©ºé—´ä¸­newç»“æ„ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯char[]å¯¹åº”çš„å¸¸é‡æ± ä¸­çš„æ•°æ®â€123â€</li></ol></blockquote><h4 id="Stringå¯¹è±¡ä¹‹é—´çš„å¯¹æ¯”"><a href="#Stringå¯¹è±¡ä¹‹é—´çš„å¯¹æ¯”" class="headerlink" title="Stringå¯¹è±¡ä¹‹é—´çš„å¯¹æ¯”"></a>Stringå¯¹è±¡ä¹‹é—´çš„å¯¹æ¯”</h4><pre class=" language-java"><code class="language-java">String s1 <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>String s2 <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span>String s3 <span class="token operator">=</span> <span class="token string">"hello"</span> <span class="token operator">+</span> <span class="token string">"world"</span><span class="token punctuation">;</span>String s4 <span class="token operator">=</span> <span class="token string">"helloworld"</span><span class="token punctuation">;</span>String s5 <span class="token operator">=</span>  s1 <span class="token operator">+</span> s2<span class="token punctuation">;</span>String s6 <span class="token operator">=</span> s1 <span class="token operator">+</span> <span class="token string">"world"</span><span class="token punctuation">;</span>String <span class="token keyword">final</span> s7 <span class="token operator">=</span> s1 <span class="token operator">+</span> <span class="token string">"world"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å› ä¸ºfinalä¹‹åæ˜¯å¸¸é‡ï¼Œåœ¨å†…å­˜ä¸­æ˜¯åœ¨å¸¸é‡æ± çš„ä½ç½®</span>s3 <span class="token operator">==</span> s4<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//true</span>s3 <span class="token operator">==</span> s5<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//false</span>s3 <span class="token operator">==</span> s6<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//false</span>s3 <span class="token operator">==</span> s7<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//true</span></code></pre><blockquote><p>ç»“è®ºï¼š</p><ul><li>å¸¸é‡ä¸å¸¸é‡ä¹‹é—´çš„æ‹¼æ¥ï¼Œç»“æœä»ç„¶åœ¨å¸¸é‡æ± ï¼Œå¸¸é‡æ± ä¸­ä¸ä¼šå­˜åœ¨ä»»ä½•ç›¸åŒå†…å®¹çš„å¸¸é‡</li><li>åªè¦å…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯å˜é‡ï¼Œç»“æœéƒ½æ˜¯åœ¨å †ä¸­</li><li>å¦‚æœæ‹¼æ¥çš„ç»“æœè°ƒç”¨intern()æ–¹æ³•ï¼Œè¿”å›å€¼å°±æ˜¯åœ¨å¸¸é‡æ± ä¸­</li></ul></blockquote><h4 id="Stringå¯¹è±¡çš„å€¼ä¼ é€’"><a href="#Stringå¯¹è±¡çš„å€¼ä¼ é€’" class="headerlink" title="Stringå¯¹è±¡çš„å€¼ä¼ é€’"></a>Stringå¯¹è±¡çš„å€¼ä¼ é€’</h4><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StringTest</span><span class="token punctuation">{</span>    String str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"good"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ch <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'t'</span><span class="token punctuation">.</span><span class="token string">'e'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">change</span><span class="token punctuation">(</span>String str<span class="token punctuation">,</span><span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å› ä¸ºè¿™é‡Œçš„å½¢å‚æ˜¯å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæŒ‡å‘äº†å¦ä¸€ä¸ªå­—é¢é‡ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°åŸå¯¹è±¡</span>        str<span class="token operator">=</span><span class="token string">"test"</span><span class="token punctuation">;</span>        ch<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'b'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å½¢å‚æ˜¯å¦ä¸€ä¸ªå¯¹è±¡ï¼Œä¸¤ä¸ªæŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ªæ•°ç»„ï¼Œæ”¹å˜æ•°ç»„å°±æ”¹å˜åŸå€¼</span>    <span class="token punctuation">}</span>    <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        StringTest ex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ex<span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span>ex<span class="token punctuation">.</span>str<span class="token punctuation">,</span>ex<span class="token punctuation">.</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>        ex<span class="token punctuation">.</span>str<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//good</span>        ex<span class="token punctuation">.</span>ch<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//be</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="Stringå¸¸ç”¨æ–¹æ³•"><a href="#Stringå¸¸ç”¨æ–¹æ³•" class="headerlink" title="Stringå¸¸ç”¨æ–¹æ³•"></a>Stringå¸¸ç”¨æ–¹æ³•</h4><table><thead><tr><th>int length()</th><th>è¿”å›å­—ç¬¦ä¸²é•¿åº¦</th></tr></thead><tbody><tr><td>char charAt(int index)</td><td>è¿”å›æŸç´¢å¼•å¤„çš„å­—ç¬¦ï¼ˆä»0å¼€å§‹ï¼‰</td></tr><tr><td>boolean isEmpty()</td><td>åˆ¤æ–­æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸²</td></tr><tr><td>String toLowerCase()</td><td>å°†æ‰€æœ‰å­—ç¬¦è½¬æ¢ä¸ºå°å†™ï¼ˆä¸ä¼šå½±å“åŸå­—ç¬¦ä¸²ï¼‰</td></tr><tr><td>String toUpperCase()</td><td>å°†æ‰€æœ‰å­—ç¬¦è½¬æ¢ä¸ºå¤§å†™</td></tr><tr><td>String trim()</td><td>å–å‡ºé¦–ä½ç©ºç™½</td></tr><tr><td>boolean equalsï¼ˆObject objï¼‰</td><td>æ¯”è¾ƒå­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸åŒ</td></tr><tr><td>boolean equalsIgnoreCase(String anotherString)</td><td>å¿½ç•¥å¤§å°å†™æ¯”è¾ƒå†…å®¹</td></tr><tr><td>int copareTo(String anotherString)</td><td>æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¤§å°</td></tr><tr><td>String substring(int beginIndex)</td><td>å°†å­—ç¬¦ä¸²ä»å¼€å§‹ç´¢å¼•æˆªå–åˆ°æœ€åï¼Œä»0å¼€å§‹</td></tr><tr><td>String substring(int beginIndex,int endIndex)</td><td>å·¦é—­å³å¼€åŒºé—´[ï¼‰æˆªå–ï¼Œä»0å¼€å§‹</td></tr><tr><td><strong>å‰åç¼€</strong></td><td></td></tr><tr><td>boolean endsWith(String suffix)</td><td>æµ‹è¯•æ­¤å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šåç¼€ç»“æŸ</td></tr><tr><td>boolean startsWith(String prefix)</td><td>æµ‹è¯•æ­¤å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå‰ç¼€å¼€å§‹</td></tr><tr><td>boolean startsWith(String prefix,int toffset)</td><td>æµ‹è¯•æ­¤å­—ç¬¦ä¸²ä»æŒ‡å®šç´¢å¼•å¼€å§‹æœ‰æŒ‡å®šå­—ç¬¦ä¸²</td></tr><tr><td><strong>æŸ¥æ‰¾</strong></td><td></td></tr><tr><td>boolean contains(String str)</td><td>åˆ¤æ–­æ˜¯å¦åŒ…å«å­—ç¬¦ä¸²</td></tr><tr><td>int indexOf(String str)</td><td>è¿”å›æŒ‡å®šå­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•</td></tr><tr><td>int indexOf(String str,int fromIndex)</td><td>è¿”å›æŒ‡å®šå­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œä»ç´¢å¼•å¤„å¼€å§‹æŸ¥æ‰¾</td></tr><tr><td>int lastIndexOf(String str)</td><td>ä»å³è¾¹è¿”å›æŒ‡å®šå­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•</td></tr><tr><td>int lastIndexOf(String str,int fromIndex)</td><td>ä»å³è¾¹è¿”å›æŒ‡å®šå­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œä»ç´¢å¼•å¤„å¼€å§‹æŸ¥æ‰¾</td></tr><tr><td>æ³¨æ„</td><td>indexOfå’ŒlastIndexOfæ²¡æœ‰æ‰¾åˆ°è¿”å›çš„éƒ½æ˜¯-1</td></tr><tr><td><strong>æ›¿æ¢</strong></td><td></td></tr><tr><td>String replace(char old,char new)</td><td>è¿”å›æ–°å­—ç¬¦ä¸²,å°†æ–°å­—ç¬¦æ›¿æ¢æ—§å­—ç¬¦</td></tr><tr><td>String replace(String old,String new)</td><td>è¿”å›æ–°å­—ç¬¦ä¸²,å°†æ–°å­—ç¬¦ä¸²æ›¿æ¢æ—§å­—ç¬¦ä¸²</td></tr><tr><td>String replaceAll(regexæ­£åˆ™,String new)</td><td>è¿”å›æ–°å­—ç¬¦ä¸²,å°†æ–°å­—ç¬¦ä¸²æ›¿æ¢å…¨éƒ¨çš„åŒ¹é…æ­£åˆ™çš„å­—ç¬¦ä¸²</td></tr><tr><td>String replaceFirst(regexæ­£åˆ™,String new)</td><td>è¿”å›æ–°å­—ç¬¦ä¸²,å°†æ–°å­—ç¬¦ä¸²æ›¿æ¢ç¬¬ä¸€ä¸ªçš„åŒ¹é…æ­£åˆ™çš„å­—ç¬¦ä¸²</td></tr><tr><td><strong>åŒ¹é…</strong></td><td></td></tr><tr><td>boolean matches(String regex)</td><td>å‘ŠçŸ¥æ­¤å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼</td></tr><tr><td><strong>åˆ‡ç‰‡</strong></td><td></td></tr><tr><td>String[] split(String regex)</td><td>æ ¹æ®ç»™å®šæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ‹†åˆ†æ­¤å­—ç¬¦ä¸²</td></tr><tr><td>String[] split(String regex,int limit)</td><td>æ ¹æ®åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼æ¥æ‹†åˆ†æ­¤å­—ç¬¦ä¸²ï¼Œæœ€å¤šä¸è¶…è¿‡é™åˆ¶çš„ä¸ªæ•°</td></tr></tbody></table><h4 id="Stringçš„ç±»å‹è½¬æ¢"><a href="#Stringçš„ç±»å‹è½¬æ¢" class="headerlink" title="Stringçš„ç±»å‹è½¬æ¢"></a>Stringçš„ç±»å‹è½¬æ¢</h4><h5 id="ä¸åŸºæœ¬ç±»å‹è½¬æ¢"><a href="#ä¸åŸºæœ¬ç±»å‹è½¬æ¢" class="headerlink" title="ä¸åŸºæœ¬ç±»å‹è½¬æ¢"></a>ä¸åŸºæœ¬ç±»å‹è½¬æ¢</h5><p>åŸºæœ¬æ•°æ®ç±»å‹/åŒ…è£…ç±» â€”&gt;Stringç±»å‹</p><ol><li>æ–¹å¼1ï¼šè¿æ¥è¿ç®—ï¼š<code>String str1 = num1+"";</code></li><li>æ–¹å¼2ï¼šè°ƒç”¨Stringçš„calueOf(xxx)çš„æ–¹æ³•ï¼š<code>String str2 = String.valueOf(num2);</code></li></ol><p>Stringç±»å‹ â€”&gt;åŸºæœ¬æ•°æ®ç±»å‹/åŒ…è£…ç±»</p><ol><li>è°ƒç”¨åŒ…è£…ç±»çš„parseXXX()æ–¹æ³•ï¼Œ<code>Integer.paseInt(str1);</code></li></ol><h5 id="ä¸charç±»å‹è½¬æ¢"><a href="#ä¸charç±»å‹è½¬æ¢" class="headerlink" title="ä¸charç±»å‹è½¬æ¢"></a>ä¸charç±»å‹è½¬æ¢</h5><p>String â€”&gt; char[]</p><ol><li>è°ƒç”¨Stringçš„toCharArray()</li></ol><p>char[] â€”&gt; String</p><ol><li>è°ƒç”¨Stringçš„æ„é€ å™¨</li></ol><h5 id="ä¸byteç±»å‹è½¬æ¢"><a href="#ä¸byteç±»å‹è½¬æ¢" class="headerlink" title="ä¸byteç±»å‹è½¬æ¢"></a>ä¸byteç±»å‹è½¬æ¢</h5><p>String â€”&gt; byte[]</p><ol><li>è°ƒç”¨Stringçš„getBytes[]</li><li>ä¹Ÿå¯ä»¥æŒ‡å®šç¼–ç çš„å­—ç¬¦é›†ï¼šgetBytes[æŒ‡å®šå­—ç¬¦é›†â€gbkâ€]</li></ol><p>char[] â€”&gt; String</p><ol><li>è°ƒç”¨Stringçš„æ„é€ å™¨ï¼ˆé»˜è®¤ä½¿ç”¨é»˜è®¤çš„è§£ç ï¼‰</li><li>å‡ºç°ä¹±ç æ˜¯å› ä¸ºç¼–ç å’Œè§£ç ä¸ä¸€è‡´</li></ol><h3 id="StringBufferç±»"><a href="#StringBufferç±»" class="headerlink" title="StringBufferç±»"></a>StringBufferç±»</h3><p><strong>Stringã€StringBufferã€StringBuilderä¸‰è€…çš„å¼‚åŒ</strong></p><p>Stringï¼šä¸å¯å˜çš„å­—ç¬¦åºåˆ—ï¼›åº•å±‚ä½¿ç”¨char[]æ•°ç»„è¿›è¡Œä¿å­˜</p><p>StringBufferï¼šå¯å˜çš„å­—ç¬¦åºåˆ—ï¼šçº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡ä½ï¼›åº•å±‚ä½¿ç”¨char[]æ•°ç»„è¿›è¡Œä¿å­˜</p><p>StringBuilderï¼šå¯å˜çš„å­—ç¬¦åºåˆ—ï¼šçº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œæ•ˆç‡é«˜ï¼›åº•å±‚ä½¿ç”¨char[]æ•°ç»„è¿›è¡Œä¿å­˜</p><p>æ•ˆç‡å¯¹æ¯”ï¼šStringBuilder &gt; StringBuffer &gt; String</p><blockquote><p>æºç åˆ†æï¼š</p><p>é—®é¢˜1ï¼š<code>System.out.println(sb.length())</code>é•¿åº¦ä¸º0</p><p>åŸå› 1ï¼šè™½ç„¶StringBufferåœ¨åº•å±‚ä¸ºæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªé•¿åº¦ä¸º16çš„charæ•°ç»„ï¼Œä½†åœ¨æ²¡æœ‰ç»™StringBufferèµ‹å€¼æ—¶ï¼Œè¾“å‡ºçš„é•¿åº¦è‡ªç„¶æ˜¯0ï¼Œæ˜¯æŒ‰èµ‹å€¼çš„é•¿åº¦è¾“å‡ºçš„</p><p>é—®é¢˜2ï¼šæ‰©å®¹é—®é¢˜ï¼Œå¦‚æœåœ¨æ·»åŠ æ•°æ®åˆ°åº•å±‚æ•°ç»„è£…ä¸ä¸‹ï¼Œå³è¶…è¿‡16æ—¶ï¼Œåº•å±‚ä¸ºæˆ‘ä»¬è‡ªåŠ¨æ‰©å®¹ã€‚</p><p>åŸå› 2ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰©å®¹ä¸ºåŸæ¥å®¹é‡çš„2å€+2ï¼ŒåŒæ—¶å°†æ•°ç»„çš„å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­</p><p>æŒ‡å¯¼æ„è§ï¼šå¼€å‘æ—¶æœ€å¥½ä½¿ç”¨StringBuffer(int capacity)æˆ–StringBuilder(int capacity)ã€‚å‚æ•°å°±æ˜¯æˆ‘ä»¬æŒ‡å®šçš„é•¿åº¦ï¼Œé¿å…ç»å¸¸æ‰©å®¹</p></blockquote><p>å°é—®é¢˜ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    String str <span class="token operator">=</span> null<span class="token punctuation">;</span>    StringBuffer sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åº•å±‚è°ƒç”¨çš„æ˜¯æ‹¼æ¥å­—ç¬¦ä¸²</span>    sb<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//4</span>    sb<span class="token comment" spellcheck="true">//"null"</span>            StringBuffer sb1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æŠ›å¼‚å¸¸ï¼ŒNullPointerExceptionã€‚åº•å±‚è°ƒç”¨çš„æ˜¯str.length(),ç©ºæŒ‡é’ˆ</span><span class="token punctuation">}</span></code></pre><h4 id="StringBufferå¸¸ç”¨çš„æ–¹æ³•"><a href="#StringBufferå¸¸ç”¨çš„æ–¹æ³•" class="headerlink" title="StringBufferå¸¸ç”¨çš„æ–¹æ³•"></a>StringBufferå¸¸ç”¨çš„æ–¹æ³•</h4><table><thead><tr><th>StringBuffer append(xxx)</th><th>å¢ï¼šæä¾›äº†å¾ˆå¤šappendæ–¹æ³•ï¼Œç”¨äºè¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥</th></tr></thead><tbody><tr><td>StringBuffer delete(int start,int end)</td><td>åˆ ï¼šåˆ é™¤æŒ‡å®šä½ç½®çš„å†…å®¹</td></tr><tr><td>StringBuffer replace(int start,int end,String str)</td><td>æ”¹ï¼šæŠŠ[start,end)ä½ç½®æ›¿æ¢ä¸ºtr</td></tr><tr><td>StringBuffer insert(int offset,xxx)</td><td>æ’ï¼šåœ¨æŒ‡å®šä½ç½®æ’å…¥xxx</td></tr><tr><td>StringBuffer reverse()</td><td>æŠŠå½“å‰å­—ç¬¦åºåˆ—é€†è½¬</td></tr><tr><td>int indexOf(String str)</td><td>è¿”å›æŒ‡å®šå­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•</td></tr><tr><td>String substring(int start,int end)</td><td>å°†å­—ç¬¦ä¸²ä»å¼€å§‹ç´¢å¼•æˆªå–åˆ°ç»“æŸï¼Œä»0å¼€å§‹</td></tr><tr><td>int length()</td><td>é•¿åº¦ï¼šè¿”å›é•¿åº¦</td></tr><tr><td>char charAt(int n)</td><td>æŸ¥ï¼šè¿”å›æŸç´¢å¼•å¤„çš„å­—ç¬¦ï¼ˆä»0å¼€å§‹ï¼‰</td></tr><tr><td>void setCharAt(int n,char ch)</td><td>è®¾ç½®æŸç´¢å¼•å¤„çš„å­—ç¬¦</td></tr></tbody></table><p>éå†ï¼šfor(sb.length())+charAt() / toString()</p><h4 id="Stringç®—æ³•é¢˜"><a href="#Stringç®—æ³•é¢˜" class="headerlink" title="Stringç®—æ³•é¢˜"></a>Stringç®—æ³•é¢˜</h4><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å°†å­—ç¬¦ä¸²ä¸­æŒ‡å®šä½ç½®è¿›è¡Œåè½¬</span><span class="token keyword">public</span> String <span class="token function">reverse</span><span class="token punctuation">(</span>String str<span class="token punctuation">,</span><span class="token keyword">int</span> startIndex<span class="token punctuation">,</span><span class="token keyword">int</span> endIndex<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>str <span class="token operator">!=</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//ç¬¬ä¸€éƒ¨åˆ†</span>        String reverseStr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>startIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//ç¬¬äºŒéƒ¨åˆ†</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> endIndex<span class="token punctuation">;</span>i <span class="token operator">>=</span> startIndex<span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            reverseStr <span class="token operator">+=</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//ç¬¬ä¸‰éƒ¨åˆ†</span>        reverseStr <span class="token operator">+=</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>endIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> reverseStr<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> null<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//æ–¹å¼2ï¼šä½¿ç”¨StringBuffer/StringBuilderæ›¿æ¢String</span><span class="token keyword">public</span> String <span class="token function">reverse2</span> <span class="token punctuation">(</span>String str<span class="token punctuation">,</span><span class="token keyword">int</span> startIndex<span class="token punctuation">,</span><span class="token keyword">int</span> endIndex<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>str <span class="token operator">!=</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>        StringBuffer sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//ç¬¬1éƒ¨åˆ†</span>        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>startIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//ç¬¬2éƒ¨åˆ†</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> endIndex<span class="token punctuation">;</span>i<span class="token operator">>=</span>startIndex<span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//ç¬¬3éƒ¨åˆ†</span>        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>endIndex<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> null<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//è·å–ä¸€ä¸ªå­—ç¬¦ä¸²åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ¬¡æ•°</span><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span>String mainStr<span class="token punctuation">,</span>String subStr<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> mainLength <span class="token operator">=</span> mainStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> subLength <span class="token operator">=</span> subStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>mainLength <span class="token operator">>=</span> subLength<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>index <span class="token operator">=</span> mainStr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>subStr<span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//ä»indexå¤„å¼€å§‹æŸ¥æ‰¾ï¼Œè¿”å›ç´¢å¼•ï¼Œç¬¬ä¸€æ¬¡ä¸º0ï¼Œä¹‹åä¾æ¬¡ä»ç´¢å¼•+sublengthå¤„å¼€å§‹ç»§ç»­æŸ¥æ‰¾</span>            count <span class="token operator">++</span> <span class="token punctuation">;</span>            index <span class="token operator">+=</span> subLength<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="æ—¶é—´ç±»"><a href="#æ—¶é—´ç±»" class="headerlink" title="æ—¶é—´ç±»"></a>æ—¶é—´ç±»</h3><p><strong>æ—¶é—´æˆ³</strong></p><p><code>System.currentTimeMillis()</code>ï¼š1970å¹´1æœˆ1æ—¥0ç‚¹åˆ°ç°åœ¨çš„æ¯«ç§’å€¼</p><h4 id="Dateç±»"><a href="#Dateç±»" class="headerlink" title="Dateç±»"></a>Dateç±»</h4><h5 id="Util-Date"><a href="#Util-Date" class="headerlink" title="Util.Date"></a>Util.Date</h5><table><thead><tr><th>Date()ç©ºå‚æ„é€ å™¨</th><th></th></tr></thead><tbody><tr><td>toString()</td><td>æ˜¾ç¤ºå½“å‰å¹´æœˆæ—¥æ—¶åˆ†ç§’</td></tr><tr><td>getTime()</td><td>è·å–å½“å‰Dateå¯¹è±¡å¯¹ç”µå½±çš„æ¯«ç§’æ•°</td></tr><tr><td><strong>Date(åˆ›å»ºæŒ‡å®šæ¯«ç§’æ•°çš„Dateå¯¹è±¡)</strong></td><td></td></tr><tr><td></td><td></td></tr></tbody></table><p><strong>Util.Dateä¸Sql.Dateè½¬æ¢</strong></p><p><code>Date date = new Date();</code></p><p><code>java.sql.Date date2 = new java.sql.Date(date.getTime());</code></p><h4 id="SimpleDateFormatæ—¥æœŸæ ¼å¼åŒ–ç±»"><a href="#SimpleDateFormatæ—¥æœŸæ ¼å¼åŒ–ç±»" class="headerlink" title="SimpleDateFormatæ—¥æœŸæ ¼å¼åŒ–ç±»"></a>SimpleDateFormatæ—¥æœŸæ ¼å¼åŒ–ç±»</h4><p>å› ä¸ºæ˜¯éé™æ€çš„ç±»ï¼Œéœ€è¦å®ä¾‹åŒ–å¯¹è±¡æ‰èƒ½ä½¿ç”¨<code>SimpleDateFormat sdf = new SimpleDateFormat();</code></p><ol start="0"><li><p>å®ä¾‹åŒ–</p><pre class=" language-java"><code class="language-java">SimpleDateFormat sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å‚æ•°å¯ä»¥æ˜¯:yyyy-MM-dd hh:mm:ss</span></code></pre></li><li><p>æ ¼å¼åŒ–ï¼šæ—¥æœŸ â€”&gt; å­—ç¬¦ä¸²</p><pre class=" language-java"><code class="language-java">Date date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>String format <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>è§£æï¼šå­—ç¬¦ä¸² â€”&gt; æ—¥æœŸ</p><pre class=" language-java"><code class="language-java">String str <span class="token operator">=</span> <span class="token string">"20-10-04 ä¸Šåˆ11:11"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è§£æçš„æ ¼å¼å¿…é¡»å’Œå®ä¾‹åŒ–çš„æ ¼å¼ä¸€æ ·</span>Date date1 <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><h4 id="Calendaræ—¥å†ç±»"><a href="#Calendaræ—¥å†ç±»" class="headerlink" title="Calendaræ—¥å†ç±»"></a>Calendaræ—¥å†ç±»</h4><p>å› ä¸ºæ˜¯éé™æ€çš„ç±»ï¼Œéœ€è¦å®ä¾‹åŒ–å¯¹è±¡æ‰èƒ½ä½¿ç”¨</p><ol start="0"><li><p>å®ä¾‹åŒ–</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ–¹å¼1ï¼šåˆ›å»ºå…¶å­ç±»ï¼ˆGregorianCalendarï¼‰çš„å¯¹è±¡</span><span class="token comment" spellcheck="true">//æ–¹å¼2ï¼šå¸¦å“¦ç”¨å…¶é™æ€æ–¹æ³•getInstance()</span>Calendar calendar <span class="token operator">=</span> Calendar<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><p><strong>å¸¸ç”¨æ–¹æ³•</strong></p><p>get()ï¼šè·å–ç›¸å…³ä¿¡æ¯ï¼Œ<code>calendar.get(Calendar.DAY_OF_MONTH)</code>ï¼›</p><p>set()ï¼šæ”¹å˜ç›¸å…³ä¿¡æ¯ï¼Œå°†calendarå¯¹è±¡çš„å€¼ä¿®æ”¹ï¼Œå¯å˜æ€§ã€‚<code>calendar.set(Calendar.DAY_OF_MONTH,22);</code></p><p>add()ï¼šä¿®æ”¹ä¿¡æ¯ï¼Œ<code>calendar.add(Calendar.DAY_OF_MONTH,-3)</code></p><p>getTime()ï¼šæ—¥å†ç±» â€”&gt; Dateï¼Œ<code>Date date = calendar.getTime()</code>;</p><p>setTime()ï¼šDate â€”&gt; æ—¥å†ç±»ï¼Œ<code>calendar.setTime(date);</code></p><blockquote><p>æ³¨æ„ï¼šæœˆä»½æ˜¯ä»0å¼€å§‹</p></blockquote><h4 id="JDK8æ–°æ—¶é—´ç±»"><a href="#JDK8æ–°æ—¶é—´ç±»" class="headerlink" title="JDK8æ–°æ—¶é—´ç±»"></a>JDK8æ–°æ—¶é—´ç±»</h4><p><strong>LocalDate,LocalTime,LocalDateTime(ä½¿ç”¨é¢‘ç‡è¾ƒé«˜)</strong></p><table><thead><tr><th>nowï¼ˆï¼‰</th><th>è·å–å½“å‰æ—¥æœŸ/æ—¶é—´/æ—¥æœŸ+æ—¶é—´</th><th>LocalDate.now()</th></tr></thead><tbody><tr><td>of()</td><td>è®¾ç½®æŒ‡å®šå¹´æœˆæ—¥ï¼Œæ—¶åˆ†ç§’</td><td>LocalDate.of(2020.10.4)</td></tr><tr><td>getxxx()</td><td>è·å–æ—¶é—´</td><td>LocalDate.getMonth()</td></tr><tr><td>withxxx()</td><td>è®¾ç½®ç›¸å…³å±æ€§ï¼Œæœ‰è¿”å›å€¼ï¼Œä½“ç°ä¸å¯å˜æ€§</td><td>localDate.withDayOfMonth(22)</td></tr><tr><td>plusxxx()</td><td>å¢åŠ ç›¸å…³å±æ€§ï¼Œæœ‰è¿”å›å€¼ï¼Œä½“ç°ä¸å¯å˜æ€§</td><td>localDate.plusMonths(3)</td></tr><tr><td>minusxxx()</td><td>å‡å°‘ç›¸å…³å±æ€§ï¼Œæœ‰è¿”å›å€¼ï¼Œä½“ç°ä¸å¯å˜æ€§</td><td>localDate.minusMonths(3)</td></tr></tbody></table><h3 id="Javaæ¯”è¾ƒå™¨"><a href="#Javaæ¯”è¾ƒå™¨" class="headerlink" title="Javaæ¯”è¾ƒå™¨"></a>Javaæ¯”è¾ƒå™¨</h3><p>Comparableæ¥å£çš„ä½¿ç”¨ä¸¾ä¾‹ï¼š</p><ol><li>Stringã€åŒ…è£…ç±»ç­‰å®ç°äº†Comparableæ¥å£ï¼Œé‡å†™äº†compareTo(obj)æ–¹æ³•ï¼Œç»™å‡ºäº†æ¯”è¾ƒå¯¹è±¡çš„é€»è¾‘ï¼Œä»–ä»¬æ˜¯è¿›è¡Œäº†ä»å°åˆ°å¤§çš„æ’åˆ—</li><li>é‡å†™compareTo(obj)çš„è§„åˆ™<ol><li>å¦‚æœå½“å‰å¯¹è±¡thiså¤§äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›æ­£æ•´æ•°</li><li>å¦‚æœå½“å‰å¯¹è±¡thiså°äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›è´Ÿæ•´æ•°</li><li>å¦‚æœå½“å‰å¯¹è±¡thisç­‰äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›é›¶</li></ol></li></ol><blockquote><p>æ€»ç»“ï¼šComparableæ¥å£ä¸Comparatorçš„ä½¿ç”¨çš„å¯¹æ¯”</p><ol><li>Comparableæ¥å£çš„æ–¹å¼ä¸€æ—¦æŒ‡å®šï¼Œä¿è¯Comparableæ¥å£å®ç°ç±»çš„å¯¹è±¡åœ¨ä»»ä½•ä½ç½®éƒ½å¯ä»¥æ¯”è¾ƒå¤§å°</li><li>Comparatoræ¥å£å±äºä¸´æ—¶æ€§çš„æ¯”è¾ƒï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦å°±åˆ›å»ºä¸€ä¸ªå®ç°ç±»ã€‚</li></ol></blockquote><h4 id="è‡ªå®šä¹‰å®ç°Comparableè‡ªç„¶æ’åº"><a href="#è‡ªå®šä¹‰å®ç°Comparableè‡ªç„¶æ’åº" class="headerlink" title="è‡ªå®šä¹‰å®ç°Comparableè‡ªç„¶æ’åº"></a>è‡ªå®šä¹‰å®ç°Comparableè‡ªç„¶æ’åº</h4><ol><li><p>è‡ªå®šä¹‰ç±»ï¼ˆbeanï¼‰å®ç°Comparableæ¥å£</p></li><li><p>é‡å†™é‡Œé¢çš„compareToï¼ˆï¼‰æ–¹æ³•ï¼Œå°±æ˜¯æ’åºçš„é€»è¾‘</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">foods</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        Foods foods <span class="token operator">=</span> <span class="token punctuation">(</span>Foods<span class="token punctuation">)</span>o<span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">></span> foods<span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å¦‚æœå½“å‰å¯¹è±¡thiså¤§äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›æ­£æ•´æ•°</span>            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">&lt;</span> foods<span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//return this.name.compareTo(foos.name) äºŒçº§æ’åºï¼ˆå®ç°çš„æ–¹å¼å’Œä¸Šè¿°æ•ˆæœä¸€æ ·ï¼‰</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"ä¼ è¾“çš„æ•°æ®ç±»å‹ä¸ä¸€è‡´"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre></li><li><p>è°ƒç”¨</p><pre class=" language-java"><code class="language-java">Foods<span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foods</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foods</span><span class="token punctuation">(</span><span class="token string">"aaa"</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foods</span><span class="token punctuation">(</span><span class="token string">"bbb"</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Arrays<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><h4 id="å®ç°Comparatorå®šåˆ¶æ’åº"><a href="#å®ç°Comparatorå®šåˆ¶æ’åº" class="headerlink" title="å®ç°Comparatorå®šåˆ¶æ’åº"></a>å®ç°Comparatorå®šåˆ¶æ’åº</h4><ol><li><p>ä½¿ç”¨åŒ¿åå®ç°ç±»Comparator</p><pre class=" language-java"><code class="language-java">Foods<span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foods</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foods</span><span class="token punctuation">(</span><span class="token string">"aaa"</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foods</span><span class="token punctuation">(</span><span class="token string">"bbb"</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Arrays<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span>Object o1<span class="token punctuation">,</span>Object o2<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>o1 <span class="token keyword">instanceof</span> <span class="token class-name">String</span> <span class="token operator">&amp;&amp;</span> o2 <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            String s1 <span class="token operator">=</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span> o1<span class="token punctuation">;</span>            String s2 <span class="token operator">=</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span> o2<span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token operator">-</span>s1<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä½¿ç”¨comparebleå®ç°çš„æ–¹æ³•ä»å°åˆ°å¤§æ’åˆ—çš„åä¹‰è¯ï¼Œå³ä»å¤§åˆ°å°æ’åˆ—</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//return 0;</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"è¾“å…¥çš„æ•°æ®ç±»å‹ä¸ä¸€æ ·"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><h3 id="Systemç±»"><a href="#Systemç±»" class="headerlink" title="Systemç±»"></a>Systemç±»</h3><ul><li><p>æ„é€ å™¨æ˜¯ç§æœ‰çš„</p></li><li><p>å†…éƒ¨æˆå‘˜å˜é‡ã€æ–¹æ³•éƒ½æ˜¯stsaticçš„</p></li><li><p>æˆå‘˜å˜é‡ï¼šin,out,err</p></li><li><p>æˆå‘˜æ–¹æ³•</p><table><thead><tr><th>long currentTimeMillis()</th><th>è¿”å›å½“å‰è®¡ç®—æœºæ—¶é—´ï¼š1970.1.1æ¯«ç§’æ•°</th></tr></thead><tbody><tr><td>void exit(int status)</td><td>0ï¼šé€€å‡ºï¼Œé0ï¼šå¼‚å¸¸é€€å‡ºã€‚ç”¨äºå›¾å½¢åŒ–ç•Œé¢é€€å‡º</td></tr><tr><td>void gc()</td><td>è¯·æ±‚ç³»ç»Ÿè¿›è¡Œåƒåœ¾å›æ”¶ï¼Œå¹¶ä¸ä¸€å®šç«‹å³å›æ”¶</td></tr><tr><td>String getProperty(String key)</td><td>è·å–ç³»ç»Ÿå±æ€§å€¼</td></tr></tbody></table></li></ul><h3 id="Mathç±»"><a href="#Mathç±»" class="headerlink" title="Mathç±»"></a>Mathç±»</h3><ul><li><p>éƒ½æ˜¯é™æ€æ–¹æ³•</p></li><li><p>æ–¹æ³•å‚æ•°å’Œè¿”å›å€¼ä¸€èˆ¬éƒ½æ˜¯doubleç±»å‹</p><table><thead><tr><th>abs</th><th>ç»å¯¹å€¼</th></tr></thead><tbody><tr><td>sqrt</td><td>å¹³æ–¹æ ¹</td></tr><tr><td>pow(double a,double b)</td><td>açš„bæ¬¡å¹‚</td></tr><tr><td>log</td><td>è‡ªç„¶å¯¹æ•°</td></tr><tr><td>exp</td><td>eä¸ºåº•çš„å€¼æ•°</td></tr><tr><td>max/min(double a,double b)</td><td></td></tr><tr><td>random()</td><td>è¿”å›ã€0.0-1.0ï¼‰çš„éšæœºæ•°</td></tr><tr><td>å…¬å¼ï¼šå–è§„å®š[a,b]çš„æ•´æ•°</td><td>(int)(Math.random()*(b-a+1)+a)</td></tr><tr><td>long round(double a)</td><td>doubleç±»å‹æ•°æ®aè½¬æ¢ä¸ºLongå‹ï¼ˆå››èˆäº”å…¥ï¼‰</td></tr></tbody></table></li></ul><h2 id="æšä¸¾ç±»"><a href="#æšä¸¾ç±»" class="headerlink" title="æšä¸¾ç±»"></a>æšä¸¾ç±»</h2><ul><li>ç±»çš„å¯¹è±¡åªæœ‰æœ‰é™ä¸ªï¼Œç¡®å®šçš„</li><li>å½“éœ€è¦å®šä¹‰ä¸€ç»„å¸¸é‡ï¼Œå»ºè®®ä½¿ç”¨æšä¸¾ç±»</li><li>å¦‚æœæšä¸¾ç±»ä¸­åªæœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥ä½œä¸ºå•ä¾‹æ¨¡å¼çš„å®ç°æ–¹å¼</li><li>è°ƒç”¨ï¼šç±».æšä¸¾å±æ€§</li></ul><h3 id="ä½¿ç”¨enumå…³é”®è¯åˆ›å»ºæšä¸¾ç±»"><a href="#ä½¿ç”¨enumå…³é”®è¯åˆ›å»ºæšä¸¾ç±»" class="headerlink" title="ä½¿ç”¨enumå…³é”®è¯åˆ›å»ºæšä¸¾ç±»"></a>ä½¿ç”¨enumå…³é”®è¯åˆ›å»ºæšä¸¾ç±»</h3><ul><li>è§„åˆ™<ul><li>ä½¿ç”¨enumå…³é”®å­—</li><li>å…ˆæä¾›å½“å‰æšä¸¾ç±»å¯¹è±¡ï¼Œå†å£°æ˜å±æ€§</li><li>å¤šä¸ªå¯¹è±¡ä¹‹é—´ç”¨,éš”å¼€ æœ«å°¾å¯¹è±¡ç”¨ï¼›ç»“æŸ</li><li>ä¸éœ€è¦é‡å†™toStringæ–¹æ³•</li><li>æ²¡æœ‰Setæ–¹æ³•</li></ul></li></ul><pre class=" language-java"><code class="language-java"><span class="token keyword">enum</span> Season1<span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//æä¾›å½“å‰æšä¸¾ç±»å¯¹è±¡ï¼Œå¤šä¸ªå¯¹è±¡ä¹‹é—´ç”¨,éš”å¼€ æœ«å°¾å¯¹è±¡ç”¨ï¼›ç»“æŸ</span>    <span class="token function">SPRING</span><span class="token punctuation">(</span><span class="token string">"æ˜¥å¤©"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">SUMMER</span><span class="token punctuation">(</span><span class="token string">"å¤å¤©"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//å£°æ˜Seasonå¯¹è±¡çš„å±æ€§ï¼šprivate finalä¿®é¥°</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> String seasonName<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//ç§æœ‰åŒ–æ„é€ å™¨ï¼Œå¹¶ç»™å¯¹è±¡å±æ€§èµ‹å€¼</span>    <span class="token keyword">private</span> <span class="token function">Srason1</span><span class="token punctuation">(</span>String seasonName<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>seasonName <span class="token operator">=</span> seasonName<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//getæ–¹æ³•</span><span class="token punctuation">}</span></code></pre><table><thead><tr><th>values()</th><th>è¿”å›æšä¸¾ç±»çš„å¯¹è±¡æ•°ç»„ï¼Œæ–¹ä¾¿éå†æ‰€æœ‰æšä¸¾å€¼</th></tr></thead><tbody><tr><td>valueOf(String str)</td><td>è¿”å›æšä¸¾ç±»ä¸­å¯¹åº”å¯¹è±¡åæ˜¯objNameçš„å¯¹è±¡ï¼Œæ²¡æœ‰æ‰¾åˆ°ä¼šæŠ¥IllegalArgumentException</td></tr><tr><td>toString()</td><td>è¿”å›å½“å‰æšä¸¾ç±»å¯¹è±¡çš„åç§°</td></tr></tbody></table><h3 id="å®ç°æ¥å£"><a href="#å®ç°æ¥å£" class="headerlink" title="å®ç°æ¥å£"></a>å®ç°æ¥å£</h3><p>æ–¹å¼ä¸€ï¼šè°ƒç”¨ä»»ä½•æšä¸¾ç±»å‹éƒ½ä¼šè°ƒç”¨è¯¥æ–¹æ³•</p><ol><li>å®ç°æ¥å£ï¼Œé‡å†™æ–¹æ³•</li></ol><p>æ–¹å¼äºŒï¼šä¸åŒæšä¸¾ç±»å‹è°ƒç”¨ä¸åŒæ–¹æ³•</p><pre class=" language-java"><code class="language-java">    <span class="token function">SPRING</span><span class="token punctuation">(</span><span class="token string">"æ˜¥å¤©"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ˜¥å¤©ä½ å¥½"</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">SUMMER</span><span class="token punctuation">(</span><span class="token string">"å¤å¤©"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¤å¤©ä½ å¥½"</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h2><p>jdk5.0æ–°å¢åŠŸèƒ½</p><ol><li>ç”Ÿæˆæ–‡æ¡£ç›¸å…³æ³¨è§£</li><li>åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ ¼å¼æ£€æŸ¥ï¼ˆé‡å†™ã€è¿‡æ—¶ã€æŠ‘åˆ¶è­¦å‘Šï¼‰</li><li>è·Ÿè¸ªä»£ç ä¾èµ–æ€§ï¼Œå®ç°ä»£æ›¿é…ç½®æ–‡ä»¶åŠŸèƒ½</li></ol><table><thead><tr><th>@SuppressWarnings</th><th>æŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Š</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h3 id="è‡ªå®šä¹‰Annotation"><a href="#è‡ªå®šä¹‰Annotation" class="headerlink" title="è‡ªå®šä¹‰Annotation"></a>è‡ªå®šä¹‰Annotation</h3><ul><li>è§„åˆ™<ul><li>ä½¿ç”¨@interfaceå…³é”®å­—</li><li>å†…éƒ¨å®šä¹‰æˆå‘˜ï¼Œé€šå¸¸ä½¿ç”¨valueè¡¨ç¤º</li><li>å¯ä»¥æŒ‡å®šæˆå‘˜çš„é»˜è®¤å€¼ï¼Œä½¿ç”¨defalutå®šä¹‰</li><li>å¦‚æœè‡ªå®šä¹‰æ³¨è§£æ²¡æœ‰æˆå‘˜ï¼Œè¡¨æ˜æ˜¯ä¸€ä¸ªæ ‡è¯†ä½œç”¨</li><li>å¦‚æœæœ‰æˆå‘˜ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦æŒ‡å®švalueå€¼</li></ul></li></ul><h3 id="å…ƒæ³¨è§£"><a href="#å…ƒæ³¨è§£" class="headerlink" title="å…ƒæ³¨è§£"></a>å…ƒæ³¨è§£</h3><p>å¯¹ç°æœ‰çš„æ³¨è§£è¿›è¡Œè§£é‡Šè¯´æ˜çš„æ³¨è§£</p><ol><li>Retentionï¼šæŒ‡å®šæ‰€ä¿®é¥°çš„æ³¨è§£ç”Ÿå‘½å‘¨æœŸï¼šSOURCEç¼–è¯‘å‰\CLASSç¼–è¯‘åï¼ˆé»˜è®¤è¡Œä¸ºï¼‰\RUNTIMEè¿è¡Œå<ol><li>åªæœ‰å£°æ˜ä¸ºRUNTIMEç”Ÿå‘½å‘¨æœŸçš„æ³¨è§£ï¼Œæ‰èƒ½é€šè¿‡åå°„æ¥è·å–</li></ol></li><li>Targetï¼šç”¨äºæŒ‡å®šè¢«ä¿®é¥°çš„æ³¨è§£èƒ½ç”¨äºä¿®é¥°å“ªäº›ç¨‹åºå…ƒç´ </li><li>Documentedï¼šæ‰€ä¿®é¥°çš„æ³¨è§£åœ¨è¢«javadocè§£ææ—¶ï¼Œä¿ç•™ä¸‹æ¥</li><li>Inheritedï¼šè¢«å…¶ä¿®é¥°çš„æ³¨è§£å°†å…·æœ‰ç»§æ‰¿æ€§</li></ol><h3 id="JDK8æ–°ç‰¹æ€§"><a href="#JDK8æ–°ç‰¹æ€§" class="headerlink" title="JDK8æ–°ç‰¹æ€§"></a>JDK8æ–°ç‰¹æ€§</h3><ol><li>å¯é‡å¤æ³¨è§£ï¼š<ol><li>åœ¨æ³¨è§£ç±»ä¸Šå£°æ˜@Repeatableï¼Œæˆå‘˜å€¼ä¸ºMyAnnotation.class</li><li>åœ¨MyAnnotationçš„Targetå’ŒRetentionå’ŒMyAnnotationsï¼ŒInheritedç›¸åŒ</li></ol></li><li>æ–°ç±»å‹æ³¨è§£ï¼ˆTargetï¼‰<ol><li>ElementType.TYPE_PARAMETER è¡¨ç¤ºè¯¥æ³¨è§£èƒ½å†™åœ¨ç±»å‹å˜é‡çš„å£°æ˜è¯­å¥ä¸­</li><li>ElementType.TYPE_USE æ ‡è¯†è¯¥æ³¨è§£èƒ½å†™åœ¨ä½¿ç”¨ç±»å‹çš„ä»»ä½•è¯­å¥ä¸­</li></ol></li></ol><h2 id="é›†åˆæ¡†æ¶"><a href="#é›†åˆæ¡†æ¶" class="headerlink" title="é›†åˆæ¡†æ¶"></a>é›†åˆæ¡†æ¶</h2><h3 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p><strong>æ•°ç»„åœ¨å­˜å‚¨å¤šä¸ªæ•°æ®çš„ç‰¹ç‚¹</strong></p><ol><li>ä¸€æ—¦åˆå§‹åŒ–ä¹‹åï¼Œé•¿åº¦å’Œå…ƒç´ çš„ç±»å‹éƒ½å·²ç»ç¡®å®š</li></ol><p><strong>æ•°ç»„åœ¨å­˜å‚¨å¤šä¸ªæ•°æ®çš„ç¼ºç‚¹</strong></p><ol><li>åˆå§‹åŒ–ä¹‹åï¼Œé•¿åº¦ä¸èƒ½ä¿®æ”¹</li><li>æ•°ç»„æä¾›çš„æ–¹æ³•æœ‰é™ï¼Œå¯¹å¢åˆ æ’æ“ä½œéå¸¸ä¸ä¾¿ï¼Œæ•ˆç‡ä¸é«˜</li><li>è·å–æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œæ•°ç»„æ²¡æœ‰ç°æˆçš„æ–¹æ³•å’Œå±æ€§å¯ç”¨</li><li>æ•°ç»„å­˜å‚¨çš„ç‰¹ç‚¹ï¼šæœ‰åºã€å¯é‡å¤ã€‚å¯¹æ— åºï¼Œä¸å¯é‡å¤çš„éœ€æ±‚ä¸èƒ½æ»¡è¶³</li></ol><p><strong>ä½“ç³»</strong></p><ul><li>Collectionæ¥å£ï¼šå•åˆ—æ•°æ®<ul><li>Listï¼šå…ƒç´ æœ‰åºã€å¯é‡å¤ï¼ˆâ€œåŠ¨æ€â€æ•°ç»„ï¼‰    </li><li>Setï¼šå…ƒç´ æ— åºï¼Œä¸å¯é‡å¤</li></ul></li><li>Mapæ¥å£ï¼šåŒåˆ—æ•°æ®</li></ul><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201005150638.png"></p><blockquote><p>å®çº¿ï¼šç»§æ‰¿å…³ç³»ï¼Œè™šçº¿ï¼šå®ç°å…³ç³»</p></blockquote><h3 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h3><p>å› ä¸ºæ˜¯æ¥å£ï¼Œéœ€è¦åˆ›å»ºå…¶å®ç°ç±»è°ƒç”¨è¿™äº›æ–¹æ³•api</p><p>æ³¨æ„ï¼šå¯¹å®ç°ç±»å¯¹è±¡ä¸­æ·»åŠ æ•°æ®objæ—¶ï¼Œè¦æ±‚å¯¹objæ‰€åœ¨ç±»é‡å†™equals()æ–¹æ³•</p><table><thead><tr><th>add(Object obj)</th><th>å¢åŠ å…ƒç´ åˆ°é›†åˆä¸­</th></tr></thead><tbody><tr><td>addAll(List l)</td><td>å°†é›†åˆä¸­çš„å…ƒç´ æ·»åŠ åˆ°å½“å‰é›†åˆä¸­</td></tr><tr><td>size()</td><td>è·å–å¢å‡çš„å…ƒç´ ä¸ªæ•°</td></tr><tr><td>boolean isEmpty()</td><td>åˆ¤æ–­å½“å‰é›†åˆæ˜¯å¦ä¸ºç©º</td></tr><tr><td>clear()</td><td>æ¸…ç©ºé›†åˆå…ƒç´ ï¼Œå¹¶ä¸æ˜¯ç©ºæŒ‡é’ˆ</td></tr><tr><td>boolean contains(Object obj)</td><td>åˆ¤æ–­é›†åˆä¸­æ˜¯å¦å­˜åœ¨è¯¥å…ƒç´ ï¼ˆæŸ¥çš„æ˜¯å†…å®¹ï¼Œåˆ¤æ–­æ—¶ä¼šè°ƒç”¨objå¯¹è±¡çš„equals()æ–¹æ³•ï¼‰</td></tr><tr><td>boolean containsAll(Collection c)</td><td>åˆ¤æ–­å½¢å‚é›†åˆä¸­æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½å­˜åœ¨äºå½“å‰é›†åˆä¸­</td></tr><tr><td>remove(Object obj)</td><td>ç§»é™¤æ•°æ®ï¼Œï¼ˆåŒæ ·åº•å±‚è°ƒç”¨objå¯¹è±¡çš„equals()æ–¹æ³•ï¼‰</td></tr><tr><td>removeAll(Collection c)</td><td>ä»å½“å‰é›†åˆä¸­ç§»é™¤cé›†åˆä¸­çš„å…ƒç´ </td></tr><tr><td>Collection retainAll(Collection c)</td><td>è·å–å½“å‰é›†åˆå’Œcé›†åˆçš„äº¤é›†ï¼Œå¹¶è¿”å›é›†åˆ</td></tr><tr><td>equals(Object o)</td><td>æ¯”è¾ƒä¸¤ä¸ªé›†åˆä¸­æ¯ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒ</td></tr><tr><td>hashCode()</td><td>è¿”å›å½“å‰å¯¹è±¡çš„å“ˆå¸Œå€¼</td></tr><tr><td>Object[] toArray()</td><td>é›†åˆ â€”&gt; æ•°ç»„</td></tr><tr><td>Arrays.asList(Array a[])</td><td>æ•°ç»„ â€”&gt; é›†åˆï¼Œæ³¨æ„ï¼š<code>Arrays.asList(new int[]{1,2})</code>è¿”å›çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œæ•°ç»„ä¸ªæ•°ä¹Ÿæ˜¯1ï¼Œéœ€è¦å°†intæ¢æˆInteger</td></tr><tr><td>iterator iterator()</td><td>è¿­ä»£å™¨ï¼Œè¿”å›ä¸€ä¸ªiteractoræ¥å£çš„å®ä¾‹ï¼Œç”¨äºéå†é›†åˆå…ƒç´ </td></tr></tbody></table><h4 id="Iteratorè¿­ä»£å™¨"><a href="#Iteratorè¿­ä»£å™¨" class="headerlink" title="Iteratorè¿­ä»£å™¨"></a>Iteratorè¿­ä»£å™¨</h4><p>æ˜¯ä¸€ä¸ªæ¥å£ï¼Œéœ€è¦é›†åˆè°ƒç”¨<code>iteratorï¼ˆï¼‰</code>æ–¹æ³•æ¥è·å¾—è¿­ä»£å™¨æ¥å£å®ä¾‹ã€‚</p><p>å®ƒåªæ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå¹¶ä¸æ˜¯å®¹å™¨ï¼Œç±»ä¼¼æŒ‡é’ˆï¼Œä¸ä¼šåˆ›å»ºæ–°çš„é›†åˆ</p><p>æ¯æ¬¡è°ƒç”¨<code>iterator()</code>æ–¹æ³•éƒ½ä¼šå¾—åˆ°ä¸€ä¸ªå…¨æ–°çš„è¿­ä»£å™¨å¯¹è±¡</p><p>next()æ–¹æ³•åšäº†ä¸¤ä»¶äº‹:1.æŒ‡é’ˆä¸‹ç§»ï¼Œ2.å°†ä¸‹ç§»ä¹‹åæŒ‡å‘çš„å…ƒç´ è¿”å›</p><table><thead><tr><th>Object next()</th><th>è·å–é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ (1.æŒ‡é’ˆä¸‹ç§»ï¼Œ2.å°†ä¸‹ç§»ä¹‹åæŒ‡å‘çš„å…ƒç´ è¿”å›)</th></tr></thead><tbody><tr><td>boolean hasNext()</td><td>åˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ </td></tr><tr><td>remove()</td><td>ç§»é™¤è¿­ä»£å™¨æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ </td></tr></tbody></table><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//éå†é›†åˆ</span>Collection col1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Iterator it <span class="token operator">=</span>col1<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å¾—è¿­ä»£å™¨å®ä¾‹</span><span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å¦‚æœè¿˜æœ‰å…ƒç´ ï¼Œåˆ™è¿›å…¥å¾ªç¯</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//é”™è¯¯æ–¹å¼1ï¼šè·³ç€è¾“å‡º</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//ä¸‹ç§»äº†ä¸€æ¬¡</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åˆä¸‹ç§»ä¸€æ¬¡ï¼Œå½“æœ€åä¸€æ¬¡ä¼šå‡ºç°æ²¡æœ‰æ‰¾åˆ°æ•°æ®æƒ…å†µ</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//é”™è¯¯æ–¹å¼2ï¼šæ–°è¿­ä»£å™¨ï¼Œæ­»å¾ªç¯</span><span class="token keyword">while</span><span class="token punctuation">(</span>col1<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>col1<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åˆ›å»ºæ–°çš„è¿­ä»£å™¨å¯¹è±¡ï¼Œåªä¼šè¯»å‡ºç¬¬ä¸€è¡Œæ•°æ®</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//remove()</span>Collection col1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Iterator it <span class="token operator">=</span>col1<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å¾—è¿­ä»£å™¨å®ä¾‹</span><span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//åˆ¤æ–­è¯¥å€¼æ˜¯å¦ä¸ºtomï¼Œå°ç»†èŠ‚ï¼šæŠŠå­—ç¬¦ä¸²æ”¾åœ¨å‰é¢ï¼Œä¸ç”¨å¯¹è±¡æ”¾å‰è¾¹å¯ä»¥é˜²æ­¢ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œä»£ç å¥å£®æ€§æ›´å¥½</span>        it<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><blockquote><p>æ³¨æ„ï¼šåœ¨è¿˜æ²¡æœ‰next()ä¹‹å‰ï¼Œä¸è¦è°ƒç”¨remove()ï¼Œä¼šæŠ¥IllegalStateExceptionå¼‚å¸¸</p></blockquote><h4 id="å¢å¼ºforå¾ªç¯-for-each"><a href="#å¢å¼ºforå¾ªç¯-for-each" class="headerlink" title="å¢å¼ºforå¾ªç¯(for each)"></a>å¢å¼ºforå¾ªç¯(for each)</h4><p>æ ¼å¼ï¼š<code>for(é›†åˆå…ƒç´ çš„ç±»å‹ å±€éƒ¨å˜é‡ï¼šé›†åˆå¯¹è±¡)</code></p><p>æœ¬è´¨ä¹Ÿæ˜¯è¿­ä»£å™¨</p><pre class=" language-java"><code class="language-java"><span class="token keyword">for</span><span class="token punctuation">(</span>Object obj <span class="token operator">:</span> col1<span class="token punctuation">)</span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><blockquote><p>æ³¨æ„ï¼šä½¿ç”¨for eachå¾ªç¯ç»™æ•°ç»„èµ‹å€¼æ—¶ï¼Œä¸ä¼šå°†åŸæ•°ç»„çš„å€¼ç›¸ç­‰</p></blockquote><h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><ul><li>å…ƒç´ æœ‰åºã€å¯é‡å¤</li></ul><p><strong>ArrayListã€LinkedListã€Vectorä¸‰è€…çš„å¼‚åŒ</strong></p><ol><li>åŒï¼šä¸‰ä¸ªç±»éƒ½å®ç°äº†Listæ¥å£ï¼Œå­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹ç›¸åŒï¼šå­˜å‚¨æœ‰åºã€å¯é‡å¤</li></ol><p>ä¸åŒï¼š</p><ol><li>ArrayListï¼šä½œä¸ºListæ¥å£ä¸»è¦å®ç°ç±»ï¼›çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œæ•ˆç‡é«˜ï¼›åº•å±‚ä½¿ç”¨Object[]<strong>æ•°ç»„</strong>å­˜å‚¨</li><li>LinkedListï¼šå¯¹äºé¢‘ç¹æ’å…¥ã€åˆ é™¤æ“ä½œï¼Œä½¿ç”¨æ­¤ç±»æ•ˆç‡æ¯”Arraylisté«˜ï¼›åº•å±‚ä½¿ç”¨<strong>åŒå‘é“¾è¡¨</strong>å­˜å‚¨</li><li>Vectorï¼šä½œä¸ºListæ¥å£çš„å¤è€å®ç°ç±»ï¼›çº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡ä½ï¼›åº•å±‚ä½¿ç”¨Object[] <strong>æ•°ç»„</strong>å­˜å‚¨ï¼ˆæ‰©å®¹2å€ï¼‰</li></ol><h4 id="ArrayListæºç åˆ†æ"><a href="#ArrayListæºç åˆ†æ" class="headerlink" title="ArrayListæºç åˆ†æ"></a>ArrayListæºç åˆ†æ</h4><h5 id="jdk7æƒ…å†µä¸‹"><a href="#jdk7æƒ…å†µä¸‹" class="headerlink" title="jdk7æƒ…å†µä¸‹"></a>jdk7æƒ…å†µä¸‹</h5><pre class=" language-java"><code class="language-java">ArrayList list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åº•å±‚åˆ›å»ºäº†é•¿åº¦ä¸º10çš„Object[]æ•°ç»„</span>list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//elementData[0] = new Integer(1);</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token comment" spellcheck="true">//å¦‚æœæ­¤æ¬¡æ·»åŠ å¯¼è‡´åº•å±‚æ•°ç»„å®¹é‡ä¸å¤Ÿï¼Œåˆ™æ‰©å®¹</span>    <span class="token comment" spellcheck="true">//é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰©å®¹ä¸ºåŸæ¥çš„å®¹é‡1.5å€ï¼ŒåŒæ—¶éœ€è¦å°†åŸæ¥çš„æ•°ç»„å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­</span></code></pre><blockquote><p>ç»“è®º</p><ol><li>åˆå§‹åŒ–é•¿åº¦ä¸º10ï¼Œå®¹é‡ä¸å¤Ÿåˆ™æ‰©å®¹1.5å€</li><li>å¼€å‘ä¸­å»ºè®®ä½¿ç”¨å¸¦å‚æ„é€ å™¨ï¼Œå°†é•¿åº¦ç›´æ¥å†™ä¸Šå»ï¼Œé¿å…æ‰©å®¹ï¼Œ<code>ArrayList list = new ArrayList(int xxx)</code></li></ol></blockquote><h5 id="jdk8ä¹‹å"><a href="#jdk8ä¹‹å" class="headerlink" title="jdk8ä¹‹å"></a>jdk8ä¹‹å</h5><pre class=" language-java"><code class="language-java">ArrayList list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åº•å±‚Object[] åˆå§‹åŒ–ä¸º{}ï¼Œå¹¶æ²¡æœ‰åˆ›å»ºé•¿åº¦</span>list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>ï¼›<span class="token comment" spellcheck="true">//ç¬¬ä¸€æ¬¡è°ƒç”¨addï¼ˆï¼‰æ—¶ï¼Œåº•å±‚æ‰åˆ›å»ºäº†é•¿åº¦ä¸º10çš„æ•°ç»„ï¼Œå¹¶å°†æ•°æ®æ·»åŠ åˆ°æ•°ç»„å½“ä¸­</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token comment" spellcheck="true">//åç»­æ‰©å®¹é—®é¢˜è·Ÿjdk7æ— å¼‚</span></code></pre><blockquote><p>ç»“è®ºï¼š</p><ol><li>åˆå§‹åŒ–é•¿åº¦ä¸º0ï¼Œåªæœ‰åœ¨ç¬¬ä¸€æ¬¡å¢åŠ æ“ä½œæ—¶ï¼Œæ•°ç»„æ‰åˆå§‹åŒ–ä¸º10</li></ol></blockquote><h4 id="LinkedListæºç åˆ†æ"><a href="#LinkedListæºç åˆ†æ" class="headerlink" title="LinkedListæºç åˆ†æ"></a>LinkedListæºç åˆ†æ</h4><pre class=" language-java"><code class="language-java">LinkedList list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å†…éƒ¨å£°æ˜äº†Nodeç±»å‹çš„firstå’Œlastå±æ€§ï¼Œé»˜è®¤å€¼ä¸ºnull</span>list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å°†123å°è£…è¿›nodeä¸­ï¼Œåˆ›å»ºäº†Nodeå¯¹è±¡</span><span class="token comment" spellcheck="true">//å…¶ä¸­ï¼ŒNodeå®šä¹‰ä¸ºï¼šä½“ç°äº†LinkedListçš„åŒå‘é“¾è¡¨çš„è¯´æ³•</span></code></pre><h4 id="Listå¸¸ç”¨æ–¹æ³•"><a href="#Listå¸¸ç”¨æ–¹æ³•" class="headerlink" title="Listå¸¸ç”¨æ–¹æ³•"></a>Listå¸¸ç”¨æ–¹æ³•</h4><table><thead><tr><th>void add(int index,Object obj)</th><th>åœ¨indexä½ç½®æ’å…¥å…ƒç´ </th></tr></thead><tbody><tr><td>boolean addAll(int index,Collection c)</td><td>ä»Indexä½ç½®å¼€å§‹å°†cä¸­æ‰€æœ‰å…ƒç´ æ·»åŠ è¿›æ¥</td></tr><tr><td>Object get(int index)</td><td>è·å–æŒ‡å®šIndexä½ç½®çš„å…ƒç´ ï¼ˆä»0å¼€å§‹ï¼‰</td></tr><tr><td>int indexOf(Object obj)</td><td>è¿”å›Objåœ¨é›†åˆä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®</td></tr><tr><td>int lastIndexOf(Object obj)</td><td>è¿”å›Objåœ¨é›†åˆä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®</td></tr><tr><td>Object remove(int index)</td><td>ç§»é™¤æŒ‡å®šIndexä½ç½®çš„å…ƒç´ ï¼Œå¹¶è¿”å›æ­¤å…ƒç´ </td></tr><tr><td>Object set(int index,Object obj)</td><td>è®¾ç½®æŒ‡å®šindexä½ç½®çš„å…ƒç´ ä¸ºobj</td></tr><tr><td>List subList(int fromIndex,int toIndex)</td><td>è¿”å›ä»fromIndexåˆ°toIndexä½ç½®çš„å­é›†åˆ</td></tr></tbody></table><blockquote><p>æ€»ç»“ï¼š</p><p>å¢ï¼šadd(Object obj)</p><p>åˆ ï¼šremove(int index)/remove(Object)ï¼Œé»˜è®¤æ˜¯ç´¢å¼•ï¼Œå¦‚æœæƒ³åˆ å…ƒç´ éœ€è¦è£…ç®±new Integer(value)</p><p>æ”¹ï¼šset(int index,Object o)</p><p>æŸ¥ï¼šget(int index)</p><p>æ’ï¼šadd(int index,Object o)</p><p>éå†ï¼š</p><ol><li>Iterator è¿­ä»£å™¨</li><li>å¢å¼ºfor</li><li>æ™®é€šå¾ªç¯</li></ol></blockquote><h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><ul><li>æ— åºçš„ï¼Œä¸å¯é‡å¤çš„<ul><li>æ— åºæ€§ï¼š<strong>ä¸ç­‰äºéšæœºæ€§</strong>ã€‚å­˜å‚¨çš„æ•°æ®åœ¨åº•å±‚æ•°ç»„ä¸­ï¼Œå¹¶éæŒ‰ç…§æ•°ç»„ç´¢å¼•çš„é¡ºåºå¢åŠ ï¼Œè€Œæ˜¯é€šè¿‡æ•°æ®çš„å“ˆå¸Œå€¼å†³å®šçš„</li><li>ä¸å¯é‡å¤æ€§ï¼šä¿è¯æ·»åŠ çš„å…ƒç´ æŒ‰ç…§equals()åˆ¤æ–­æ—¶ï¼Œä¸èƒ½è¿”å›trueã€‚å³ï¼šç›¸åŒçš„å…ƒç´ åªèƒ½æ·»åŠ ä¸€ä¸ª</li></ul></li><li>Setæ²¡æœ‰é¢å¤–çš„æ–¹æ³•ï¼Œéƒ½æ˜¯ç”¨çš„Collectionä¸­çš„æ–¹æ³•</li></ul><p><strong>HashSetã€LinkedHashSetã€TreeSetä¹‹é—´çš„å¼‚åŒ</strong></p><ol><li>HashSetï¼šä½œä¸ºSetæ¥å£çš„ä¸»è¦å®ç°ç±»ï¼›çº¿ç¨‹ä¸å®‰å…¨çš„ï¼›å¯ä»¥å­˜å‚¨Nullå€¼<ol><li>LinkedHashSetï¼šä½œä¸ºHashSetçš„å­ç±»ï¼›éå†å…¶å†…éƒ¨æ•°æ®æ—¶ï¼Œå¯ä»¥æŒ‰ç…§æ’å…¥çš„é¡ºåºè¿›è¡Œæ’åºï¼Œå¯¹äºé¢‘ç¹éå†çš„æ“ä½œï¼Œå®ƒçš„æ•ˆç‡æ¯”HashSeté«˜ä¸€äº›</li></ol></li><li>TreeSetï¼šå¯ä»¥æŒ‰ç…§æŒ‡å®šå±æ€§ï¼Œè¿›è¡Œæ’åº</li></ol><h4 id="HashSetåº•å±‚åˆ†æ"><a href="#HashSetåº•å±‚åˆ†æ" class="headerlink" title="HashSetåº•å±‚åˆ†æ"></a>HashSetåº•å±‚åˆ†æ</h4><p>åº•å±‚ï¼šæ•°ç»„+å•å‘é“¾è¡¨</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201005210810.png"></p><p>å¢åŠ å…ƒç´ çš„è¿‡ç¨‹ï¼šä»¥HashSetä¸ºä¾‹</p><p>æˆ‘ä»¬å‘HashSetä¸­æ·»åŠ å…ƒç´ aï¼Œé¦–å…ˆä¼šè°ƒç”¨å…ƒç´ aæ‰€åœ¨ç±»çš„**hashCode()**æ–¹æ³•ï¼Œè®¡ç®—å‡ºå…ƒç´ açš„å“ˆå¸Œå€¼</p><p>æ­¤å“ˆå¸Œå€¼æ¥ç€é€šè¿‡æŸç§ç®—æ³•è®¡ç®—å‡ºåœ¨hashSetåº•å±‚<strong>æ•°ç»„ä¸­çš„å­˜æ”¾ä½ç½®</strong>ï¼ˆç´¢å¼•ä½ç½®ï¼‰ï¼Œ</p><p>åˆ¤æ–­æ•°ç»„æ­¤ä½ç½®ä¸Š<strong>æ˜¯å¦æœ‰å…ƒç´ </strong></p><p>å¦‚æœ<strong>æ²¡æœ‰å…ƒç´ </strong>ï¼Œåˆ™æ·»åŠ æˆåŠŸâ€”-æƒ…å†µ1</p><p>å¦‚æœä½ç½®ä¸Š<strong>æœ‰å…¶ä»–å…ƒç´ </strong>ï¼ˆæˆ–ä»¥é“¾è¡¨å­˜åœ¨å¤šä¸ªå…ƒç´ ï¼‰ï¼Œåˆ™<strong>æ¯”è¾ƒå…ƒç´ aå’Œæ‰€åœ¨ä½ç½®å…ƒç´ çš„å“ˆå¸Œå€¼</strong>ï¼š</p><p>å¦‚æœ<strong>å“ˆå¸Œå€¼ä¸ç›¸ç­‰</strong>ï¼Œåˆ™æ·»åŠ <strong>æˆåŠŸ</strong>â€”-æƒ…å†µ2</p><p>å¦‚æœ<strong>å“ˆå¸Œç›¸ç­‰</strong>ï¼Œåˆ™è¿›ä¸€æ­¥è°ƒç”¨å…ƒç´ aæ‰€åœ¨ç±»çš„<strong>equalsï¼ˆï¼‰</strong>æ–¹æ³•ï¼š</p><p>equals()è¿”å›ä¸º<strong>true</strong>ï¼Œè¯æ˜ä¸¤ä¸ªå€¼ç›¸åŒï¼Œåˆ™<strong>æ·»åŠ å¤±è´¥</strong></p><p>equals()è¿”å›ä¸º<strong>false</strong>ï¼Œåˆ™å…ƒç´ aæ·»åŠ <strong>æˆåŠŸ</strong>â€”-æƒ…å†µ3</p><ul><li>å¯¹äºæƒ…å†µ2ï¼Œ3ï¼šå…ƒç´ aäºè¯¥ç´¢å¼•ä½ç½®ä¸Šçš„å…¶ä»–å…ƒç´ æ˜¯ä»¥<strong>å•å‘é“¾è¡¨</strong>çš„å½¢å¼å­˜å‚¨çš„</li><li>jdk7ï¼šæ–°å…ƒç´ æ”¾åœ¨æ•°ç»„ä¸­ï¼ŒæŒ‡å‘æ—§å…ƒç´ </li><li>jdk8ï¼šæ—§å…ƒç´ ä»ç„¶åœ¨æ•°ç»„ä¸­ï¼ŒæŒ‡å‘æ–°å…ƒç´ </li><li>æ€»ç»“ï¼šä¸ƒä¸Šå…«ä¸‹</li></ul><blockquote><p>è¦æ±‚ï¼š</p><ol><li>å‘Setä¸­æ·»åŠ çš„æ•°æ®ï¼Œå…¶æ‰€åœ¨ç±»ä¸€å®šè¦é‡å†™hashCode()å’Œequals()æ–¹æ³•</li><li>é‡å†™çš„hashCode()å’Œequals()å°½å¯èƒ½ä¿æŒä¸€è‡´æ€§ï¼šç›¸åŒå†…å®¹çš„å¯¹è±¡ï¼Œå“ˆå¸Œå€¼ä¹Ÿç›¸åŒ<ul><li>ä¸€èˆ¬ç›´æ¥ç”¨ç³»ç»Ÿç”Ÿæˆçš„å°±å¯ä»¥ä¿è¯ä¸€è‡´æ€§</li></ul></li></ol></blockquote><h4 id="LinkedHashSetåº•å±‚åˆ†æ"><a href="#LinkedHashSetåº•å±‚åˆ†æ" class="headerlink" title="LinkedHashSetåº•å±‚åˆ†æ"></a>LinkedHashSetåº•å±‚åˆ†æ</h4><p>ä½œä¸ºHashSetçš„å­ç±»ï¼Œåœ¨æ·»åŠ æ•°æ®çš„åŒæ—¶ï¼Œæ¯ä¸ªæ•°æ®è¿˜ç»´æŠ¤äº†ä¸¤ä¸ªå¼•ç”¨ï¼Œè®°å½•æ­¤æ•°æ®å‰ä¸€ä¸ªæ•°æ®å’Œåä¸€ä¸ªæ•°æ®    </p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201006143751.png"></p><p>ä¼˜ç‚¹ï¼šå¯¹äºé¢‘ç¹çš„éå†æ“ä½œï¼ŒLinkedHashSetæ•ˆç‡é«˜äºHashSet</p><h4 id="TreeSetåº•å±‚åˆ†æ"><a href="#TreeSetåº•å±‚åˆ†æ" class="headerlink" title="TreeSetåº•å±‚åˆ†æ"></a>TreeSetåº•å±‚åˆ†æ</h4><ul><li><p>æ’å…¥æ•°æ®ï¼Œè¦æ±‚æ˜¯ç›¸åŒç±»çš„å¯¹è±¡</p></li><li><p>ä¸¤ç§æ’åºæ–¹å¼ï¼šè‡ªç„¶æ’åºï¼ˆæ•°æ®å¯¹åº”ç±»å®ç°Comparableæ¥å£ï¼‰å’Œå®šåˆ¶æ’åº</p></li><li><p>è‡ªç„¶æ’åºä¸­ï¼Œæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒçš„æ ‡å‡†:compareTo()è¿”å›0ï¼ˆå®ç°è‡ªç„¶æ’åºå¿…é¡»é‡å†™è¯¥æ–¹æ³•ï¼‰ï¼Œä¸å†æ˜¯equals()ï¼Œå³åªæŒ‰è§„åˆ™è¿›è¡Œæ’åºï¼Œä¸æŒ‰å†…å®¹ï¼ˆæ’å…¥æ—¶è§„åˆ™ç›¸åŒï¼Œå°±ä¸èƒ½æ’å…¥ï¼‰</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">User</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        User user <span class="token operator">=</span> <span class="token punctuation">(</span>User<span class="token punctuation">)</span>o<span class="token punctuation">;</span>        <span class="token keyword">int</span> compare <span class="token operator">=</span> <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>compare <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å†…å®¹ä¸ç›¸åŒ</span>            <span class="token keyword">return</span> compare<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¿”å›æ­£è´Ÿå€¼ï¼Œæ¥è¿›è¡Œæ’åº</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å†…å®¹ç›¸åŒï¼ŒæŒ‰ä¸‹ä¸€ä¸ªå†…å®¹è¿›è¡Œæ’åº</span>            <span class="token keyword">return</span> Integer<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">,</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"è¾“å…¥ç±»å‹ä¸åŒ¹é…"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>å®šåˆ¶æ’åº</p><pre class=" language-java"><code class="language-java">Comparator com <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span>Object o1<span class="token punctuation">,</span>Object o2<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>o1 <span class="token keyword">instanceof</span> <span class="token class-name">User</span> <span class="token operator">&amp;&amp;</span> o2 <span class="token keyword">instanceof</span> <span class="token class-name">User</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            User u1 <span class="token operator">=</span> <span class="token punctuation">(</span>User<span class="token punctuation">)</span> o1<span class="token punctuation">;</span>            User u2 <span class="token operator">=</span> <span class="token punctuation">(</span>User<span class="token punctuation">)</span> o2<span class="token punctuation">;</span>            <span class="token keyword">return</span> Integer<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>u1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>u2<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"è¾“å…¥çš„æ•°æ®ç±»å‹ä¸åŒ¹é…"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span>TreeSet set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token punctuation">(</span>com<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¼ å…¥å‚åˆ™ä½¿ç”¨å®šåˆ¶æ’åºï¼Œå¦åˆ™ä½¿ç”¨è‡ªç„¶æ’åº</span></code></pre></li></ul><h3 id="é›†åˆé¢è¯•é¢˜"><a href="#é›†åˆé¢è¯•é¢˜" class="headerlink" title="é›†åˆé¢è¯•é¢˜"></a>é›†åˆé¢è¯•é¢˜</h3><ol><li><p>é›†åˆCollectionä¸­å­˜å‚¨çš„å¦‚æœæ˜¯è‡ªå®šä¹‰ç±»çš„å¯¹è±¡ï¼Œéœ€è¦è‡ªå®šä¹‰ç±»é‡å†™å“ªäº›æ–¹æ³•ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p><pre><code>equals()æ–¹æ³•ã€‚ åœ¨è°ƒç”¨contains()/remove()ç­‰æ–¹æ³•æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨equalsæ–¹æ³•Listï¼šequals()æ–¹æ³•Setï¼šï¼ˆHashSetã€LinkedHashSetä¸ºä¾‹ï¼‰ï¼šequals()ã€hashCode()    ï¼ˆTreeSetä¸ºä¾‹ï¼‰ï¼šComparableï¼šcompareTo(Object obj)                    Comparatorï¼šcompare(Object o1,Object o2)</code></pre></li><li><p>ArrayListï¼ŒLinkedListï¼ŒVectorä¸‰è€…çš„ç›¸åŒç‚¹ä¸ä¸åŒç‚¹</p><pre><code>ç›¸åŒï¼šéƒ½å®ç°äºListæ¥å£ï¼Œæ•°æ®ç»“æ„çš„ç‰¹ç‚¹ç›¸åŒï¼šæœ‰åºã€å¯é‡å¤ä¸åŒï¼šArrayListï¼šæ˜¯æœ€ä¸»è¦çš„å®ç°ç±»ï¼Œåº•å±‚æ˜¯æ•°ç»„å­˜å‚¨ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜ï¼Œåº•å±‚æ•°ç»„æ‰©å®¹æ˜¯ä»¥å‰çš„1.5å€Vectorï¼šæ˜¯æ¯”è¾ƒå¤è€çš„å®ç°ç±»ï¼Œåº•å±‚æ˜¯æ•°ç»„å­˜å‚¨ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡è¾ƒä½ï¼Œåº•å±‚æ•°ç»„æ‰©å®¹æ˜¯ä»¥å‰çš„2å€LinkedListï¼šåº•å±‚æ˜¯åŒå‘é“¾è¡¨ï¼Œæ’å…¥ã€åˆ é™¤çš„æ•ˆç‡é«˜ã€‚æºç :ArrayListåº•å±‚æºç åœ¨jdk8ä¹‹åæœ‰æ‰€æ”¹åŠ¨ï¼Œåœ¨jdk8ä¹‹å‰ï¼Œnewä¸€ä¸ªArrayListä¼šåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º10çš„æ•°ç»„ï¼Œä¹‹åçš„ç‰ˆæœ¬newåªä¼šåˆ›å»ºä¸€ä¸ªç©ºçš„æ•°ç»„ï¼Œå½“ç¬¬ä¸€æ¬¡è°ƒç”¨addï¼ˆï¼‰æ—¶ï¼Œæ‰ä¼šåˆ›å»ºé•¿åº¦10çš„æ•°ç»„ï¼Œå¹¶ä¸”åº“å®¹éƒ½æ˜¯1.5å€LinkedListï¼šå†…éƒ¨å£°æ˜çš„éƒ½æ˜¯Nodeç±»å‹ï¼Œä¸ä»…å­˜æœ‰æ•°æ®ï¼Œè¿˜å­˜æœ‰ä¸Šä¸€ä¸ªnodeå’Œä¸‹ä¸€ä¸ªNodeçš„æ•°æ®ã€‚Vectorï¼šåº•å±‚ä¹Ÿæ˜¯æ•°ç»„ï¼Œé•¿åº¦ä¸º10æ²¡æœ‰å˜åŠ¨ï¼Œæ‰©å®¹æ˜¯2å€</code></pre></li><li><p>Listå’ŒSetçš„åŒºåˆ«</p><pre><code>ç›¸åŒï¼šéƒ½å®ç°äºCollectionæ¥å£ä¸åŒï¼šListï¼šæœ‰åºå¯é‡å¤Setï¼šæ— åºä¸å¯é‡å¤</code></pre></li><li><p>Listæ¥å£æœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•ï¼Ÿ</p><pre class=" language-java"><code class="language-java">å¢ï¼š<span class="token function">add</span><span class="token punctuation">(</span>Object obj<span class="token punctuation">)</span>åˆ <span class="token operator">:</span><span class="token function">remove</span><span class="token punctuation">(</span>Object obj<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span>æ”¹<span class="token operator">:</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span>Object obj<span class="token punctuation">)</span>æŸ¥ï¼š<span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span>æ’ï¼š<span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span>Object obj<span class="token punctuation">)</span>é•¿åº¦ï¼š<span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//å…ƒç´ çš„ä¸ªæ•°</span>éå†ï¼šiterator<span class="token punctuation">,</span>foreach<span class="token punctuation">,</span>æ™®é€š<span class="token keyword">for</span>ï¼ˆæœ‰ç´¢å¼•ï¼ŒSetå’ŒCollecitonä¸å¯ä»¥ä½¿ç”¨ï¼‰</code></pre></li><li><p>å¦‚ä½•ä½¿ç”¨Iteratorå’Œå¢å¼ºforå¾ªç¯éå†list</p><pre class=" language-java"><code class="language-java">Iterator it <span class="token operator">=</span> list1<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">for</span><span class="token punctuation">(</span>Object obj <span class="token operator">:</span> list1<span class="token punctuation">)</span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>Setå­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿå¸¸è§çš„å®ç°ç±»æœ‰ä»€ä¹ˆï¼Ÿè¯´æ˜ä¸€ä¸‹å½¼æ­¤çš„ç‰¹ç‚¹</p><pre><code>ç‰¹ç‚¹ï¼šæ— åºä¸å¯é‡å¤å®ç°ç±»ï¼šHashSetã€LinkedHashSetã€TreeSetHashSetï¼šæ˜¯Setçš„ä¸»è¦å®ç°ç±»ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œå¯ä»¥å­˜å‚¨Nullå€¼LinkedHashSetï¼šæ˜¯HashSetçš„ä¸»è¦å®ç°ç±»ï¼Œåœ¨å†…éƒ¨å­˜å‚¨æ—¶ä¼šè®°å½•æ’å…¥çš„é¡ºåºï¼Œéå†æ—¶å¯ä»¥æŒ‰ç…§æ’å…¥é¡ºåºè¿›è¡Œæ’åºï¼Œéå†æ—¶æ•ˆç‡é«˜ä¸€äº›TreeSetï¼šå¯ä»¥æŒ‰ç…§æŒ‡å®šçš„å±æ€§è¿›è¡Œæ’åº</code></pre></li><li><p>åˆ¤æ–­ç»“æœ</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    HashSet set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Person p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"1001"</span><span class="token punctuation">,</span><span class="token string">"aa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Person p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"1002"</span><span class="token punctuation">,</span><span class="token string">"bb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>    set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2ä¸ª</span>    p1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"cc"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ­¤æ—¶1001ccä»ç„¶ä¿å­˜åœ¨1001aaçš„ä½ç½®</span>    set<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ­¤æ—¶æ‰¾çš„æ˜¯1001ccçš„å“ˆå¸Œå€¼ï¼Œä½†æ›´æ”¹åçš„ccä»ç„¶åœ¨aaçš„ä½ç½®ï¼Œæ•…æ²¡æœ‰åˆ é™¤</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2ä¸ª</span>    set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span><span class="token string">"cc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ­¤æ—¶æ‰¾çš„æ˜¯1001ccçš„å“ˆå¸Œå€¼ï¼Œæ•…æ’å…¥æˆåŠŸ</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//3ä¸ªï¼Œbb,cc,cc</span>    set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span><span class="token string">"aa"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ­¤æ—¶æ‰¾çš„æ˜¯1001aaçš„å“ˆå¸Œå€¼ï¼Œè™½ç„¶ä½ç½®ä¸Šæœ‰ccï¼Œä½†æ˜¯equals()æ–¹æ³•æ¯”è¾ƒä¸¤ä¸ªä¸ä¸€æ ·ï¼Œæ•…ç”¨é“¾è¡¨å­˜å‚¨æˆåŠŸ</span>     System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//4ä¸ª,bb, cc,aa ,cc</span><span class="token punctuation">}</span></code></pre></li></ol><h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201005150742.png"></p><p>åŒåˆ—æ•°æ®ï¼Œå­˜å‚¨Key-valueå¯¹çš„æ•°æ®</p><p> <strong>ä¸åŒå®ç°ç±»çš„åŒºåˆ«</strong></p><p>HashMapï¼šä½œä¸ºMapçš„ä¸»è¦å®ç°ç±»ï¼›çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œæ•ˆç‡é«˜ï¼›å­˜å‚¨Null</p><p>â€“LinkedHashMapï¼šä¿è¯åœ¨æ·»åŠ Mapå…ƒç´ æ—¶ï¼Œå¯ä»¥æŒ‰ç…§æ·»åŠ çš„é¡ºåºå®ç°éå†ï¼ˆåœ¨åŸæœ‰HashMapç»“æ„ä¸Šï¼Œå¢åŠ äº†ä¸€å¯¹æŒ‡é’ˆï¼ŒæŒ‡å‘å‰ä¸€ä¸ªå’Œåä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå¯¹äºé¢‘ç¹çš„éå†æ“ä½œï¼Œæ­¤ç±»æ•ˆç‡é«˜</p><p>TreeMapï¼šä¿è¯æŒ‰ç…§æ·»åŠ çš„Key-valueè¿›è¡Œæ’åºï¼ŒæŒ‰ç…§ï¼ˆkeyï¼‰æ¥æ’åºã€‚æ­¤æ—¶è€ƒè™‘keyçš„è‡ªç„¶æ’åºå’Œå®šåˆ¶æ’åº ã€‚åº•å±‚ä½¿ç”¨çš„çº¢é»‘æ ‘</p><p>Hashtableï¼šä½œä¸ºå¤è€çš„å®ç°ç±»ï¼›çº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡ä½ï¼›ä¸èƒ½å­˜å‚¨null</p><p>â€“Propertiesï¼šå¸¸ç”¨æ¥å¤„ç†é…ç½®æ–‡ä»¶ï¼Œkey-valueéƒ½æ˜¯Stringç±»å‹</p><p>HashMapçš„åº•å±‚ï¼šæ•°ç»„+é“¾è¡¨ï¼ˆjdk7åŠä»¥å‰ï¼‰ã€‚æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼ˆjdk8ï¼‰</p><p><strong>é¢è¯•é¢˜</strong>ï¼š</p><ol><li>HashMapçš„åº•å±‚å®ç°åŸç†ï¼Ÿ</li><li>HashMapå’ŒHashtableçš„å¼‚åŒï¼Ÿ</li><li>CurrentHashMapä¸Hashtableçš„å¼‚åŒï¼Ÿ</li></ol><p><strong>Mapç»“æ„çš„ç†è§£</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201006202544.png"></p><p>keyï¼šæ— åºçš„ã€ä¸å¯é‡å¤çš„ï¼Œä½¿ç”¨Setå­˜å‚¨æ‰€æœ‰çš„Key â€”&gt; key æ‰€åœ¨ç±»è¦é‡å†™equals()å’ŒhashCode()</p><p>valueï¼šæ— åºçš„ã€å¯é‡å¤çš„ï¼Œä½¿ç”¨Collectionå­˜å‚¨æ‰€æœ‰çš„value â€”&gt;valueæ‰€åœ¨çš„ç±»è¯é‡å†™equals()</p><p>entryï¼šå°±æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼Œæ— åºçš„ã€ä¸å¯é‡å¤çš„ï¼Œä½¿ç”¨Setå­˜å‚¨æ‰€æœ‰çš„entry</p><h4 id="HashMapçš„åº•å±‚å®ç°åŸç†ï¼Ÿ"><a href="#HashMapçš„åº•å±‚å®ç°åŸç†ï¼Ÿ" class="headerlink" title="HashMapçš„åº•å±‚å®ç°åŸç†ï¼Ÿ"></a>HashMapçš„åº•å±‚å®ç°åŸç†ï¼Ÿ</h4><p><strong>JDK7ä¸ºä¾‹</strong></p><p><code>HashMap map = new HashMap();</code></p><p>åœ¨å®ä¾‹åŒ–ä»¥åï¼Œåº•å±‚åˆ›å»ºäº†<strong>é•¿åº¦ä¸º16</strong>çš„ä¸€ç»´æ•°ç»„Entry[] table</p><p><code>map.put(key1,value1);</code></p><p>é¦–å…ˆï¼Œè°ƒç”¨key1æ‰€åœ¨ç±»çš„<strong>hashCode()è®¡ç®—key1çš„å“ˆå¸Œå€¼</strong>ï¼Œæ­¤å“ˆå¸Œå€¼ç»è¿‡æŸç§ç®—æ³•ä¹‹åï¼Œ<strong>å¾—åˆ°Entryæ•°ç»„æ‰€åœ¨çš„ä½ç½®</strong></p><p>å¦‚æœ<strong>è¯¥ä½ç½®æ•°æ®ä¸ºç©º</strong>ï¼Œåˆ™key1-value1<strong>æ·»åŠ æˆåŠŸ</strong>ã€‚â€”æƒ…å†µ1</p><p>å¦‚æœ<strong>è¯¥ä½ç½®æ•°æ®ä¸ä¸ºç©º</strong>ï¼ˆæ„å‘³ç€æ­¤ä½ç½®ä¸Šå­˜åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®ï¼ˆä»¥é“¾è¡¨çš„å½¢å¼å­˜åœ¨ï¼‰ï¼‰ï¼Œ<strong>æ¯”è¾ƒ</strong>Key1å’Œä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®çš„<strong>å“ˆå¸Œå€¼</strong>ï¼š</p><p>å¦‚æœkey1çš„å“ˆå¸Œå€¼å’Œå…¶ä»–æ•°æ®<strong>å“ˆå¸Œå€¼ä¸ç›¸åŒ</strong>ï¼Œåˆ™key1-value1<strong>æ·»åŠ æˆåŠŸ</strong>ã€‚â€”æƒ…å†µ2</p><p>å¦‚æœkey1çš„å“ˆå¸Œå€¼å’Œå…¶ä»–æ•°æ®å“ˆå¸Œå€¼<strong>ç›¸åŒ</strong>ï¼Œåˆ™ç»§ç»­**æ¯”è¾ƒequals(key)**ï¼Œ</p><p>å¦‚æœequalsè¿”å›ä¸º<strong>falseï¼ˆä¸ç›¸åŒï¼‰</strong>ï¼š<strong>åˆ™æ·»åŠ æˆåŠŸ</strong>ã€‚â€”æƒ…å†µ3</p><p>å¦‚æœequalsè¿”å›ä¸º<strong>true</strong>ï¼šä½¿ç”¨value1<strong>æ›¿æ¢</strong>åŸæœ‰valueå€¼ï¼ˆä¿®æ”¹çš„ä½œç”¨ï¼‰ã€‚</p><p><strong>è¡¥å……</strong>ï¼šæƒ…å†µ2ï¼Œ3å­˜å‚¨çš„æ•°æ®æ˜¯ä»¥é“¾è¡¨çš„å½¢å¼å­˜å‚¨ã€‚</p><p>å¦‚æœæ¶‰åŠåˆ°æ‰©å®¹é—®é¢˜ï¼Œå½“è¶…å‡ºä¸´ç•Œå€¼ï¼ˆä¸”è¦å­˜æ”¾çš„ä½ç½®æœ‰å€¼ï¼‰æ—¶ï¼Œæ‰©å®¹ä¸º<strong>åŸæ¥å®¹é‡çš„2å€</strong>ï¼Œåˆ™å¹¶å°†åŸæœ‰æ•°æ®å¤åˆ¶è¿‡æ¥ã€‚å¦‚æœåˆ°ä¸´ç•Œå€¼ï¼Œè¦å­˜æ”¾çš„ä½ç½®æ— å€¼ï¼Œåˆ™ç»§ç»­å¾€ååŠ å€¼ã€‚</p><p><strong>JDK8ç›¸è¾ƒäº7åœ¨åº•å±‚å®ç°æ–¹é¢çš„ä¸åŒ</strong></p><ol><li><p>new HashMap()ï¼šåº•å±‚<strong>æ²¡æœ‰åˆ›å»º</strong>ä¸€ä¸ªé•¿åº¦ä¸º16çš„æ•°ç»„</p></li><li><p>Jdk8 åº•å±‚çš„æ•°ç»„æ˜¯ï¼šNode[]ï¼Œè€ŒéEntry[]</p></li><li><p>é¦–æ¬¡è°ƒç”¨put()æ–¹æ³•æ—¶ï¼Œåº•å±‚åˆ›å»º<strong>é•¿åº¦ä¸º16</strong>çš„æ•°ç»„</p></li><li><p>jdk7åº•å±‚ç»“æ„åªæœ‰ï¼šæ•°ç»„+é“¾è¡¨ã€‚Jdk8ä¸­åº•å±‚ç»“æ„ï¼š<strong>æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘</strong></p><p>å½“æ•°ç»„æŸä¸ªç´¢å¼•ä½ç½®ä¸Šçš„å…ƒç´ <strong>ä»¥é“¾è¡¨å½¢å¼å­˜åœ¨çš„æ•°æ®ä¸ªæ•°&gt;8ï¼Œä¸”æ•°ç»„é•¿åº¦&gt;64æ—¶</strong>ï¼Œ</p><p>æ­¤æ—¶è¯¥ç´¢å¼•ä½ç½®ä¸Šçš„æ‰€æœ‰æ•°æ®æ”¹ä¸ºä½¿ç”¨<strong>çº¢é»‘æ ‘</strong>å­˜å‚¨</p></li></ol><p>DEFAULT_INITIA_CAPACITYï¼šHashMapçš„é»˜è®¤å®¹é‡ï¼š16</p><p>DEFAULT_LOAD_FACTORï¼šHashMapçš„é»˜è®¤åŠ è½½å› å­ï¼š0.75ï¼ˆå°ä¼šå¯¼è‡´æ•°æ®ç¢°æ’å°ï¼Œæ•°ç»„ç©ºé—´ç»å¸¸ä¼šæ‰©å®¹ï¼Œé“¾è¡¨çŸ­ï¼›å¤§ä¼šå¯¼è‡´æ•°æ®ç¢°æ’é«˜ï¼Œé“¾è¡¨é•¿ï¼Œå½±å“æŸ¥è¯¢å’Œæ’å…¥ï¼‰å†³å®šäº†HashMapçš„æ•°æ®å¯†åº¦</p><p>thresholdï¼šæ‰©å®¹çš„ä¸´ç•Œå€¼ï¼Œå®¹é‡ * åŠ è½½å› å­ï¼š16*0.75=12ï¼ˆè¾¾åˆ°è¯¥ä¸´ç•Œå€¼ï¼ˆä¸”åç»­æœ‰å€¼ï¼‰å°±ä¼šæ‰©å®¹ï¼‰</p><p>TREEIFY_THRESHOLDï¼šé“¾è¡¨é•¿åº¦å¤§äºè¯¥é»˜è®¤å€¼ï¼Œè½¬åŒ–ä¸ºçº¢é»‘æ ‘ï¼š8</p><p>MIN_TREEIFY_CAPACITYï¼šNodeè¢«æ ‘åŒ–æ—¶æœ€å°çš„hashè¡¨å®¹é‡ï¼š64</p><h4 id="LinkedHashMapåº•å±‚å®ç°åŸç†ï¼ˆäº†è§£ï¼‰"><a href="#LinkedHashMapåº•å±‚å®ç°åŸç†ï¼ˆäº†è§£ï¼‰" class="headerlink" title="LinkedHashMapåº•å±‚å®ç°åŸç†ï¼ˆäº†è§£ï¼‰"></a>LinkedHashMapåº•å±‚å®ç°åŸç†ï¼ˆäº†è§£ï¼‰</h4><p>å¤šäº†beforeå’Œafteræ¥è®°å½•å­˜å‚¨é¡ºåº</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201007143637.png"></p><h4 id="Mapæ¥å£çš„æ–¹æ³•"><a href="#Mapæ¥å£çš„æ–¹æ³•" class="headerlink" title="Mapæ¥å£çš„æ–¹æ³•"></a>Mapæ¥å£çš„æ–¹æ³•</h4><table><thead><tr><th>å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹</th><th></th></tr></thead><tbody><tr><td>Object put(Object key,Object value)</td><td><strong>æ·»/æ”¹ï¼š</strong>å°†æŒ‡å®šKey-valueå¢åŠ ï¼ˆæˆ–ä¿®æ”¹ï¼‰åˆ°mapä¸­</td></tr><tr><td>void putAll(Map m)</td><td>å°†mä¸­çš„æ‰€æœ‰key-valueå­˜æ”¾åˆ°å½“å‰Mapä¸­</td></tr><tr><td>Object remove(Object key)</td><td><strong>åˆ ï¼š</strong>ç§»é™¤æŒ‡å®škeyçš„Key-value,å¹¶è¿”å›value</td></tr><tr><td>void clear()</td><td>æ¸…ç©ºå½“å‰Mapä¸­çš„æ‰€æœ‰æ•°æ®</td></tr><tr><td><strong>å…ƒç´ æŸ¥è¯¢</strong></td><td></td></tr><tr><td>Object get(Object key)</td><td><strong>æŸ¥ï¼š</strong>è·å–æŒ‡å®škeyå¯¹åº”çš„value</td></tr><tr><td>boolean containsKey(Object key)</td><td>æ˜¯å¦åŒ…å«æŒ‡å®šçš„key</td></tr><tr><td>boolean containsValue(Object value)</td><td>æ˜¯å¦åŒ…å«æŒ‡å®šçš„value</td></tr><tr><td>int size()</td><td><strong>é•¿åº¦ï¼š</strong>è¿”å›mapä¸­Key-valueçš„ä¸ªæ•°</td></tr><tr><td>boolean isEmpty()</td><td>åˆ¤æ–­å½“å‰Mapæ˜¯å¦ä¸ºç©º</td></tr><tr><td>boolean equals(Object obj)</td><td>åˆ¤æ–­å½“å‰mapå’Œå‚æ•°å¯¹è±¡objæ˜¯å¦ç›¸ç­‰ï¼ˆä¹Ÿå¾—æ˜¯Mapï¼‰</td></tr><tr><td><strong>å…ƒè§†å›¾æ“ä½œ</strong></td><td><strong>éå†ï¼š</strong></td></tr><tr><td>Set keySet()</td><td>è¿”å›æ‰€æœ‰Keyæ„æˆçš„Seté›†åˆ</td></tr><tr><td>Collection values()</td><td>è¿”å›æ‰€æœ‰valueæ„æˆçš„collectioné›†åˆ</td></tr><tr><td>Set entrySet()</td><td>è¿”å›æ‰€æœ‰key-valueæ„æˆçš„Seté›†åˆ</td></tr></tbody></table><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//éå†entryçš„seté›†åˆï¼Œæ–¹å¼1</span>Set entrySet <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Iterator it <span class="token operator">=</span> entrySet<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Object obj <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//entrySeté›†åˆä¸­çš„çš„å…ƒç´ éƒ½æ˜¯entry</span>    Map<span class="token punctuation">.</span>Entry entry <span class="token operator">=</span> <span class="token punctuation">(</span>Map<span class="token punctuation">.</span>Entry<span class="token punctuation">)</span> obj<span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//æ–¹å¼2</span>Set set <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Iterator it <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Object key <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Object value <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="TreeMapçš„ä½¿ç”¨"><a href="#TreeMapçš„ä½¿ç”¨" class="headerlink" title="TreeMapçš„ä½¿ç”¨"></a>TreeMapçš„ä½¿ç”¨</h4><ul><li><p>å‘TreeMapä¸­æ·»åŠ key-valueï¼Œè¦æ±‚keyå¿…é¡»æ˜¯ç”±åŒä¸€ç±»åˆ›å»ºçš„å¯¹è±¡</p></li><li><p>å› ä¸ºè¦<strong>æŒ‰ç…§key</strong>è¿›è¡Œæ’åºï¼šè‡ªç„¶æ’åºã€å®šåˆ¶æ’åº</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//è‡ªç„¶æ’åº,keyæ‰€åœ¨ç±»å¿…é¡»å®ç°comparableæ¥å£</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    TreeMap map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    User u1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    User u2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"Jerry"</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>u1<span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>u2<span class="token number">.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//éå†</span>    Set entrySet <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Iterator it <span class="token operator">=</span> entrySet<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        Object obj <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//entrySeté›†åˆä¸­çš„çš„å…ƒç´ éƒ½æ˜¯entry</span>        Map<span class="token punctuation">.</span>Entry entry <span class="token operator">=</span> <span class="token punctuation">(</span>Map<span class="token punctuation">.</span>Entry<span class="token punctuation">)</span> obj<span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//å®šåˆ¶æ’åº</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Tree map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span>Object o1<span class="token punctuation">,</span>Object o2<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>o1 <span class="token keyword">instanceof</span> <span class="token class-name">User</span> <span class="token operator">&amp;&amp;</span> o2 <span class="token keyword">instanceof</span> <span class="token class-name">User</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                User u1 <span class="token operator">=</span> <span class="token punctuation">(</span>User<span class="token punctuation">)</span> o1<span class="token punctuation">;</span>                User u2 <span class="token operator">=</span> <span class="token punctuation">(</span>User<span class="token punctuation">)</span> o2<span class="token punctuation">;</span>                <span class="token keyword">return</span> Integer<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>u1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>u2<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æŒ‰ç…§å¹´é¾„ä»å°åˆ°å¤§æ’åº</span>            <span class="token punctuation">}</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"è¾“å…¥çš„ç±»å‹ä¸åŒ¹é…"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//åé¢éƒ½ä¸€æ ·  </span><span class="token punctuation">}</span></code></pre></li></ul><p><strong>é¢è¯•é¢˜</strong></p><ol><li><p>Mapå­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆ?å¹¶æŒ‡æ˜keyã€valueã€entryå­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹</p><pre><code>åŒåˆ—æ•°æ®ï¼Œå­˜å‚¨key-valueæ•°æ®keyï¼šæ— åºçš„ã€ä¸å¯é‡å¤çš„---Setvalueï¼šæ— åºçš„ã€å¯é‡å¤çš„---collectionkey-valueï¼šæ— åºã€ä¸å¯é‡å¤---Set</code></pre></li><li><p>æè¿°HashMapçš„åº•å±‚å®ç°åŸç†</p><pre><code>åœ¨ç¬¬ä¸€æ¬¡åˆå§‹åŒ–æ—¶ï¼Œå¹¶ä¸ä¼šå¸¸è§å‡ºé•¿åº¦ä¸º16çš„nodeæ•°ç»„ï¼Œåªæœ‰åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨Putæ–¹æ³•ï¼Œæ‰ä¼šçœŸæ­£åˆ›å»ºå‡ºé•¿åº¦ä¸º16çš„æ•°ç»„ã€‚è°ƒç”¨putæ–¹æ³•å­˜key-valueæ—¶ï¼Œä¼šå°†keyè°ƒç”¨hashCode()æ–¹æ³•è®¡ç®—å‡ºå“ˆå¸Œå€¼ï¼Œå†ç»è¿‡æŸç§ç®—æ³•è®¡ç®—å‡ºå­˜å‚¨åœ¨nodeæ•°ç»„ä¸­çš„ä½ç½®ã€‚å¦‚æœè¯¥ä½ç½®æ²¡æœ‰å€¼ï¼Œåˆ™æ·»åŠ æˆåŠŸ----æƒ…å†µ1å¦‚æœè¯¥ä½ç½®æœ‰å€¼ï¼ˆæœ‰å¯èƒ½æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®ç»„æˆçš„é“¾è¡¨ï¼‰ï¼Œåˆ™æ¯”è¾ƒå“ˆå¸Œå€¼å¦‚æœå“ˆå¸Œå€¼ä¸åŒï¼Œåˆ™æ·»åŠ æˆåŠŸï¼Œé€šè¿‡é“¾è¡¨çš„æ–¹å¼å­˜å‚¨åœ¨æ•°ç»„ä¸­----æƒ…å†µ2 å¦‚æœå“ˆå¸Œå€¼ç›¸åŒï¼Œåˆ™è°ƒç”¨keyæ‰€åœ¨ç±»çš„equals()æ–¹æ³•è¿›è¡Œæ¯”è¾ƒå¦‚æœè¿”å›ä¸ºfalseï¼Œåˆ™æ·»åŠ æˆåŠŸ----æƒ…å†µ3å¦‚æœè¿”å›ä¸ºtrueï¼Œåˆ™å°†æ–°çš„valueå€¼æ›¿æ¢ä¸ºæ—§valueå€¼HashMapçš„åº•å±‚å­˜å‚¨ç»“æ„æ˜¯ï¼šæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘å½“æ•°ç»„ä¸Šçš„æŸä¸ªä½ç½®ä¸Šçš„é“¾è¡¨é•¿åº¦è¶…è¿‡8ä¸”æ•°ç»„çš„æ€»é•¿åº¦å¤§äº64ï¼Œåˆ™å°†è¯¥é“¾è¡¨å˜ä¸ºçº¢é»‘æ ‘å­˜å‚¨å½“æ¶‰åŠåˆ°æ•°ç»„æ‰©å®¹é—®é¢˜æ—¶ï¼ŒHashMapåº•å±‚æœ‰ä¸´ç•Œå€¼ï¼Œå½“è¦å­˜å‚¨çš„æ•°æ®è¶…è¿‡ä¸´ç•Œå€¼ï¼ˆä¸”å­˜å‚¨çš„ä½ç½®æœ‰å€¼æ—¶ï¼‰ï¼Œä¼šå°†æ•°ç»„æ‰©å®¹ä¸ºåŸæ¥çš„2å€ï¼Œå¹¶å°†åŸæ¥çš„æ•°æ®å¤åˆ¶è¿›æ–°çš„æ•°ç»„å½“ä¸­ã€‚</code></pre></li><li><p>Mapä¸­å¸¸ç”¨å®ç°ç±»æœ‰å“ªäº›ï¼Ÿå„è‡ªæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</p><pre><code>HashMapï¼šæ˜¯Mapçš„ä¸»è¦å®ç°ç±»ï¼Œçº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œæ•ˆç‡é«˜ï¼Œå¯ä»¥å­˜å‚¨Nullå€¼LinkedHashMapï¼šä¿è¯åœ¨å­˜å‚¨key-valueæ—¶ï¼Œå¯ä»¥æ ¹æ®æ·»åŠ çš„é¡ºåºè¿›è¡Œéå†ï¼Œåœ¨HashMapçš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘å‰åæ•°æ®ï¼Œåœ¨é¢‘ç¹éå†æ—¶æ•ˆç‡æ›´é«˜ã€‚TreeMapï¼šä¿è¯åœ¨å­˜å‚¨key-valueæ—¶ï¼Œæ ¹æ®keyè¿›è¡Œæ’åºï¼Œå…·ä½“æ’åºè§„åˆ™æ ¹æ®Keyçš„è‡ªç„¶æ’åºå’Œå®šåˆ¶æ’åº ã€‚åº•å±‚ä½¿ç”¨çš„æ˜¯çº¢é»‘æ ‘Hashtableï¼šæ˜¯Mapçš„å¤è€å®ç°ç±»ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½ï¼Œä¸èƒ½å­˜å‚¨Nullå€¼Propertiesï¼šå­˜å‚¨æ–¹å¼ä¹Ÿæ˜¯key-valueï¼Œé”®å€¼å¯¹éƒ½æ˜¯Stringç±»å‹ï¼Œç”¨äºé…ç½®æ–‡ä»¶</code></pre></li><li><p>LinkedHashMapçš„åº•å±‚å®ç°åŸç†</p><pre><code>åº•å±‚å’ŒHashMapçš„æœºæ„ç›¸åŒï¼Œå› ä¸ºLinkedHashMapç»§æ‰¿äº†HashMapï¼ŒåŒºåˆ«åœ¨äºLinkedHashMapå†…éƒ¨æä¾›äº†Entryï¼Œæ›¿æ¢äº†Nodeç±»å‹ï¼Œå…¶ä¸­å¢åŠ äº†beforeå’Œafterç”¨äºå­˜å‚¨ä¸Šä¸€ä¸ªå’Œä¸‹ä¸€ä¸ªæ•°æ®ï¼Œæ›´æœ‰åˆ©äºéå†ã€‚</code></pre></li><li><p>å¦‚ä½•éå†mapï¼Œä»£ç å®ç°</p><pre class=" language-java"><code class="language-java">Set set <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Iterator it <span class="token operator">=</span>set<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Object key <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Object value <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>Collectionå’ŒCollectionsçš„åŒºåˆ«ï¼Ÿ</p><pre><code>Collectionæ˜¯ä¸€ä¸ªå­˜å‚¨å•åˆ—æ•°æ®çš„æ¥å£ï¼Œå†…éƒ¨åŒ…æ‹¬Listå’ŒSetCollectionsæ˜¯æ“ä½œCollectionå’ŒMapçš„å¸¸ç”¨å·¥å…·ç±»</code></pre></li><li><p>TreeMapçš„ä½¿ç”¨ï¼Ÿ</p><pre><code>å‘TreeMapä¸­æ·»åŠ æ•°æ®ï¼Œè¦æ±‚keyçš„ç±»å‹ä¿æŒä¸€è‡´å› ä¸ºè¦æŒ‰ç…§keyè¿›è¡Œæ’åºï¼šè‡ªç„¶æ’åºã€å®šåˆ¶æ’åº</code></pre></li></ol><h3 id="Collectionså·¥å…·ç±»"><a href="#Collectionså·¥å…·ç±»" class="headerlink" title="Collectionså·¥å…·ç±»"></a>Collectionså·¥å…·ç±»</h3><p><strong>é¢è¯•é¢˜ï¼šCollectionå’ŒCollectionsçš„åŒºåˆ«ï¼Ÿ</strong></p><p>Collectionæ˜¯ä¸€ä¸ªå­˜æ”¾å•åˆ—æ•°æ®çš„æ¥å£ï¼Œè€ŒCollectionsæ˜¯æ“ä½œCollectionã€Mapçš„å·¥å…·ç±»</p><p><strong>å¸¸ç”¨æ–¹æ³•</strong></p><table><thead><tr><th>æ’åº</th><th></th></tr></thead><tbody><tr><td>reverse(List)</td><td>åè½¬Listä¸­å…ƒç´ çš„é¡ºåº</td></tr><tr><td>shuffle(List)</td><td>å¯¹Listé›†åˆå…ƒç´ è¿›è¡Œéšæœºæ’åº</td></tr><tr><td>sortï¼ˆListï¼‰</td><td>æ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºå¯¹æŒ‡å®šListé›†åˆå…ƒç´ æŒ‰å‡åºæ’åº</td></tr><tr><td>sort(List,Comparator)</td><td>æ ¹æ®æŒ‡å®šComparatoräº§ç”Ÿçš„é¡ºåºå¯¹Listé›†åˆå…ƒç´ è¿›è¡Œæ’åº</td></tr><tr><td>swap(List,int index1,index2)</td><td>å°†æŒ‡å®šListé›†åˆä¸­çš„ä¸¤ä¸ªå…ƒç´ è¿›è¡Œäº¤æ¢</td></tr><tr><td><strong>æŸ¥æ‰¾ã€æ›¿æ¢</strong></td><td></td></tr><tr><td>Object max(Collection)</td><td>æ ¹æ®å…ƒç´ è‡ªç„¶æ’åºï¼Œè¿”å›æœ€å¤§å…ƒç´ </td></tr><tr><td>Object max(Collection,Comparator)</td><td>æ ¹æ®ComparatoræŒ‡å®šçš„é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆçš„æœ€å¤§å…ƒç´ </td></tr><tr><td>Object min(Collection)</td><td>æœ€å°</td></tr><tr><td>Object min(Collection,Comparator)</td><td>æœ€å°</td></tr><tr><td>int frequency(Collection,Object)</td><td>è¿”å›æŒ‡å®šé›†åˆæŒ‡å®šå…ƒç´ çš„å‡ºç°æ¬¡æ•°</td></tr><tr><td>void copy(List dest,List src)</td><td>å°†srcä¸­çš„å†…å®¹èµ‹å€¼åˆ°destä¸­</td></tr><tr><td>boolean replaceAll(List,Object old,Object new)</td><td>æŠŠlistä¸­çš„æ—§å€¼æ¢æˆæ–°å€¼</td></tr></tbody></table><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//copyï¼ˆï¼‰æ–¹æ³•çš„é—®é¢˜</span><span class="token comment" spellcheck="true">//é”™è¯¯ç¤ºèŒƒï¼š</span>List dest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Collections<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>dest<span class="token punctuation">,</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ­£ç¡®æ“ä½œ</span>List dest <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Collections<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>dest<span class="token punctuation">,</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>åŒæ­¥æ§åˆ¶</strong></p><p>Collectionsç±»ä¸­æä¾›äº†å¤šä¸ª**synchronizedXxx()**æ–¹æ³•ï¼Œå¯ä»¥è®©æŒ‡å®šé›†åˆåŒ…è£…æˆçº¿ç¨‹åŒæ­¥çš„é›†åˆã€‚</p><p><code>ArrayList list = new ArrayList();  List list=Collections.synchronizedList(list);</code></p><h3 id="æ•°æ®ç»“æ„ï¼š"><a href="#æ•°æ®ç»“æ„ï¼š" class="headerlink" title="æ•°æ®ç»“æ„ï¼š"></a>æ•°æ®ç»“æ„ï¼š</h3><p><strong>é¡ºåºè¡¨ï¼ˆArray,ArrayListï¼‰</strong></p><p>ç‰¹ç‚¹ï¼š</p><ol><li>ä½¿ç”¨è¿ç»­åˆ†é…çš„å†…å­˜ç©ºé—´</li><li>ä¸€æ¬¡ç”³è¯·ä¸€å¤§æ®µè¿ç»­çš„ç©ºé—´ï¼Œéœ€è¦å®ç°å£°æ˜æœ€å¤§å¯èƒ½è¦å ç”¨çš„å›ºå®šå†…å­˜ç©ºé—´</li></ol><p>ä¼˜ç‚¹ï¼š</p><p>è®¾è®¡ç®€å•ï¼Œè¯»å–ä¸ä¿®æ”¹è¡¨ä¸­ä»»æ„ä¸€ä¸ªå…ƒç´ çš„æ—¶é—´éƒ½æ˜¯å›ºå®šçš„</p><p>ç¼ºç‚¹ï¼š</p><ol><li>å®¹æ˜“é€ æˆå†…å­˜æµªè´¹</li><li>åˆ é™¤æˆ–æ’å…¥éœ€è¦ç§»åŠ¨å¤§é‡æ•°æ®</li></ol><p><strong>é“¾è¡¨ï¼ˆLinkedListï¼‰</strong></p><p>ç‰¹ç‚¹ï¼š</p><ol><li>ä½¿ç”¨ä¸è¿ç»­çš„å†…å­˜ç©ºé—´</li><li>ä¸éœ€è¦æå‰å£°æ˜å¥½æŒ‡å®šå¤§å°çš„å†…å­˜ç©ºé—´</li></ol><p>ä¼˜ç‚¹:</p><ol><li>å……åˆ†èŠ‚çœå†…å­˜ç©ºé—´</li><li>æ•°æ®çš„æ’å…¥ä¸åˆ é™¤æ–¹ä¾¿ï¼Œä¸éœ€è¦ç§»åŠ¨å¤§é‡æ•°æ®</li></ol><p>ç¼ºç‚¹ï¼š</p><ol><li>è®¾è®¡éº»çƒ¦</li><li>æŸ¥æ‰¾æ•°æ®å¿…é¡»æŒ‰ç…§é¡ºåºæ‰¾åˆ°è¯¥æ•°æ®ä¸ºæ­¢</li></ol><h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><ul><li><p>æ³›å‹ä¸èƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œéœ€è¦ä½¿ç”¨å…¶åŒ…è£…ç±»</p></li><li><p>åœ¨jdk5.0æ—¶ï¼Œé›†åˆæ¥å£å’Œé›†åˆç±»éƒ½ä¿®æ”¹ä¸ºå¸¦æ³›å‹ç»“æ„</p></li><li><p>åœ¨å®ä¾‹åŒ–é›†åˆæ—¶ï¼Œå¯ä»¥æŒ‡æ˜å…·ä½“æ³›å‹ç»“æ„</p></li><li><p>æŒ‡æ˜ä¹‹åï¼Œé›†åˆç±»æˆ–æ¥å£ä¸­å‡¡æ˜¯å®šä¹‰ç±»æˆ–æ¥å£æ—¶ï¼Œå†…éƒ¨ç»“æ„ä½¿ç”¨åˆ°æ³›å‹éƒ½å’Œå®šä¹‰çš„ç›¸åŒ</p></li><li><p>å¦‚æœå®ä¾‹åŒ–æ—¶ï¼Œæ²¡æœ‰æŒ‡æ˜æ³›å‹çš„ç±»å‹ï¼Œé»˜è®¤ä¸ºObjectç±»å‹</p></li><li><p>jdk7ï¼šç±»å‹æ¨æ–­<code>HashMap&lt;User&gt; map = new HashMap&lt;&gt;();</code></p></li></ul><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æŒ‡æ˜æ³›å‹çš„comparableæ¥å£</span><span class="token keyword">public</span> User <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token operator">&lt;</span>User<span class="token operator">></span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//æŒ‡å®šæ³›å‹</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span>User u<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å› ä¸ºæŒ‡æ˜äº†æ³›å‹ï¼Œå½¢å‚ç›´æ¥æ”¹å˜ï¼Œä¸éœ€è¦åˆ¤æ–­ç±»å‹äº†</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>u<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>è‡ªå®šä¹‰æ³›å‹ç±»</strong></p><ol><li><p>å®šä¹‰æ³›å‹ç±»ï¼Œå»ºè®®åœ¨å®ä¾‹åŒ–æ—¶æŒ‡æ˜ç±»çš„æ³›å‹</p><p>å¦‚æœæ²¡æœ‰æŒ‡æ˜ï¼Œåˆ™è®¤ä¸ºæ³›å‹ç±»å‹ä¸ºObjectç±»å‹</p><p>æ„é€ å™¨ä¸éœ€è¦åŠ &lt;&gt;ï¼Œä½†æ˜¯å®ä¾‹åŒ–éœ€è¦åŠ </p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> Order<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å®šä¹‰æ³›å‹ç±»</span>    T orderT<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">Order</span><span class="token punctuation">(</span>T orderT<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>orderT <span class="token operator">=</span> orderT<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Order<span class="token operator">&lt;</span>String<span class="token operator">></span> order <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æŒ‡æ˜æ³›å‹ç±»å‹ï¼Œåˆ™å‚æ•°å°±æ˜¯ä»€ä¹ˆç±»å‹</span><span class="token punctuation">}</span></code></pre></li><li><p>å­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶å£°æ˜æ³›å‹ï¼Œåˆ™æ³›å‹å°±æ˜¯ä»€ä¹ˆç±»å‹</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderChildren</span> <span class="token keyword">extends</span> <span class="token class-name">Order</span><span class="token operator">&lt;</span>Integer<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    OrderChildren child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrderChildren</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å› ä¸ºç»§æ‰¿çˆ¶ç±»æŒ‡å®šæ³›å‹ï¼Œåˆ™å‚æ•°å°±æ˜¯ä»€ä¹ˆç±»å‹</span>    <span class="token comment" spellcheck="true">//æ³¨æ„ï¼šå­ç±»åªæ˜¯ä¸€ä¸ªæ™®é€šç±»ï¼Œä¸éœ€è¦åŠ &lt;></span><span class="token punctuation">}</span></code></pre></li><li><p>å®šä¹‰æ³›å‹ç±»ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶ä¹Ÿæ²¡æœ‰å£°æ˜æ³›å‹ï¼Œå»ºè®®åœ¨å®ä¾‹åŒ–æ—¶æŒ‡æ˜ç±»çš„æ³›å‹</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderChildren</span><span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token keyword">extends</span> <span class="token class-name">Order</span><span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    OrderChildren<span class="token operator">&lt;</span>String<span class="token operator">></span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrderChildren</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ³›å‹ç±»æŒ‡æ˜ç±»å‹ï¼Œåˆ™å‚æ•°å°±æ˜¯ä»€ä¹ˆç±»å‹</span><span class="token punctuation">}</span></code></pre></li></ol><ul><li><p>æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°ï¼š</p><ul><li><p>ç±»Aæ˜¯ç±»Bçš„çˆ¶ç±»ï¼ŒG<a>å’ŒG<b>äºŒè€…ä¸å…·å¤‡å­çˆ¶ç±»å…³ç³»ï¼š</b></a></p><ul><li><code>List&lt;Object&gt; list1; List&lt;String&gt; list2</code>ï¼Œlist2ä¸èƒ½èµ‹å€¼ç»™List1</li></ul></li><li><p>ç±»Aæ˜¯ç±»Bçš„ç¬¦ç±»ï¼ŒA<g>,B<g>å¯ä»¥èµ‹å€¼</g></g></p><ul><li><code>List&lt;String&gt; list1; ArrayList&lt;String&gt; list2</code>ï¼Œå¯ä»¥èµ‹å€¼</li></ul></li><li><p><strong>é€šé…ç¬¦</strong>ï¼šç±»Aæ˜¯ç±»Bçš„çˆ¶ç±»ï¼ŒG<a>å’ŒG<b>äºŒè€…ä¸å…·å¤‡å­çˆ¶ç±»å…³ç³»ï¼ŒG&lt;?&gt;æ˜¯å…¶çˆ¶ç±»ï¼Œå¯ä»¥èµ‹å€¼</b></a></p><ul><li><p>æ·»åŠ ï¼šå¯¹äºList&lt;?&gt;ä¸èƒ½å‘å…¶å†…éƒ¨æ·»åŠ æ•°æ®</p></li><li><p>è·å–ï¼šå…è®¸è¯»å–æ•°æ®ï¼Œè¯»å–çš„æ•°æ®ç±»å‹ä¸ºObject</p></li><li><p><strong>æœ‰é™åˆ¶çš„é€šé…ç¬¦</strong>ï¼š</p><pre class=" language-java"><code class="language-java">List<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token operator">></span> list1 <span class="token operator">=</span> null<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ³›å‹æ˜¯personå­ç±»</span>List<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> Person<span class="token operator">></span> list2 <span class="token operator">=</span> null<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ³›å‹æ˜¯personçˆ¶ç±»</span>List<span class="token operator">&lt;</span>Student<span class="token operator">></span> list3 <span class="token operator">=</span> null<span class="token punctuation">;</span>List<span class="token operator">&lt;</span>Person<span class="token operator">></span> list4 <span class="token operator">=</span> null<span class="token punctuation">;</span>List<span class="token operator">&lt;</span>Object<span class="token operator">></span> list5 <span class="token operator">=</span> null<span class="token punctuation">;</span>list1 <span class="token operator">=</span> list3<span class="token punctuation">;</span>list1 <span class="token operator">=</span> list4<span class="token punctuation">;</span>list1 <span class="token operator">=</span> list5<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æŠ¥é”™ï¼Œextendè¡¨ç¤ºæ˜¯å…¶å­ç±»</span>list2 <span class="token operator">=</span> list3<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æŠ¥é”™ï¼Œsuperè¡¨ç¤ºæ˜¯å…¶çˆ¶ç±»</span><span class="token comment" spellcheck="true">//è·å–å€¼</span>Student s <span class="token operator">=</span> list1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æŠ¥é”™ï¼Œæœ€å°ä¸ºPerson</span>Object o <span class="token operator">=</span> list2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ­£ç¡®ï¼Œæœ€å°ä¸ºobject</span></code></pre></li></ul></li></ul></li></ul><p><strong>è‡ªå®šä¹‰æ³›å‹æ–¹æ³•</strong></p><p>æ³›å‹æ–¹æ³•çš„æ³›å‹å’Œæ³›å‹ç±»çš„æ³›å‹æ²¡æœ‰å…³ç³»ï¼Œæ¢å¥è¯è¯´æ³›å‹æ–¹æ³•è¿˜å¯ä»¥åœ¨æ™®é€šç±»ä¸­å£°æ˜</p><ul><li>é™æ€æ–¹æ³•ä¸èƒ½ä½¿ç”¨ç±»çš„æ³›å‹</li><li>æ³›å‹æ–¹æ³•ï¼Œå¯ä»¥å£°æ˜ä¸ºé™æ€ã€‚åŸå› ï¼šæ³›å‹å‚æ•°æ˜¯åœ¨è°ƒç”¨æ–¹æ³•æ—¶ç¡®å®šçš„ï¼Œå¹¶éå®ä¾‹åŒ–æ—¶ç¡®å®š</li></ul><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span><span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//æ³›å‹ç±»æ˜¯Tï¼Œæ³›å‹æ–¹æ³•æ˜¯Eï¼Œæ²¡æœ‰ä»»ä½•å…³ç³»</span>    <span class="token keyword">public</span> <span class="token operator">&lt;</span>E<span class="token operator">></span> List<span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token function">copy</span><span class="token punctuation">(</span>E<span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>        ArrayList<span class="token operator">&lt;</span>E<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>E e<span class="token operator">:</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Order<span class="token operator">&lt;</span>String<span class="token operator">></span> order <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Integer<span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list<span class="token operator">=</span> order<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ³›å‹æ–¹æ³•çš„æ³›å‹å–å†³äºä¼ å…¥çš„å‚æ•°ï¼Œä¸å®ä¾‹åŒ–æ— å…³</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>é¢è¯•é¢˜</strong></p><ol><li><p>å¦‚ä½•éå†å¸¦æ³›å‹çš„key,value,map</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//éå†key</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Integer<span class="token operator">></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Set<span class="token operator">&lt;</span>String<span class="token operator">></span> keys <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>String key<span class="token operator">:</span>keys<span class="token punctuation">)</span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//éå†value</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Integer<span class="token operator">></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Collection<span class="token operator">&lt;</span>Integer<span class="token operator">></span> values <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Iterator it <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//éå†key-value</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Integer<span class="token operator">></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Set<span class="token operator">&lt;</span>Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Integer<span class="token operator">>></span> entrys <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Integer<span class="token operator">></span> entry<span class="token operator">:</span>entrys<span class="token punctuation">)</span><span class="token punctuation">{</span>    String key <span class="token operator">=</span> entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Integer value <span class="token operator">=</span> entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token operator">+</span><span class="token string">"---"</span><span class="token operator">+</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>æä¾›ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºéå†HashMap&lt;String,String&gt;ä¸­çš„æ‰€æœ‰valueï¼Œå¹¶æ”¾åœ¨listé›†åˆä¸­ï¼Œç”¨ä¸Šæ³›å‹</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> List<span class="token operator">&lt;</span>String<span class="token operator">></span> <span class="token function">getList</span><span class="token punctuation">(</span>HashMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>String<span class="token operator">></span> map<span class="token punctuation">)</span><span class="token punctuation">{</span>    Collection<span class="token operator">&lt;</span>String<span class="token operator">></span> values <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    List<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>Stirng value<span class="token operator">:</span>values<span class="token punctuation">)</span><span class="token punctuation">{</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> list<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li></ol><h2 id="IOæµ"><a href="#IOæµ" class="headerlink" title="IOæµ"></a>IOæµ</h2><h3 id="Fileç±»"><a href="#Fileç±»" class="headerlink" title="Fileç±»"></a>Fileç±»</h3><ul><li>java.io.Fileï¼šä¸€ä¸ªå¯¹è±¡ï¼Œæ–‡ä»¶å’Œæ–‡ä»¶ç›®å½•è·¯å¾„çš„æŠ½è±¡è¡¨è¾¾å½¢å¼</li><li>åªæ¶‰åŠåˆ°å…³äºæ–‡ä»¶çš„æ“ä½œï¼Œå¹¶æ²¡æœ‰æ¶‰åŠåˆ°å†…å®¹çš„æ“ä½œã€‚å¦‚æœéœ€è¦è¯»å†™å†…å®¹ï¼Œå°±éœ€è¦IOæµæ¥å®Œæˆ</li></ul><h4 id="åˆ›å»ºFileç±»çš„å®ä¾‹"><a href="#åˆ›å»ºFileç±»çš„å®ä¾‹" class="headerlink" title="åˆ›å»ºFileç±»çš„å®ä¾‹"></a>åˆ›å»ºFileç±»çš„å®ä¾‹</h4><p>å¹¶ä¸ä¼šåˆ›å»ºå‡ºçœŸæ­£çš„æ–‡ä»¶ï¼Œåªæ˜¯å°†å¯¹è±¡åŠ è½½è¿›å†…å­˜ä¸­</p><ul><li>IDEAä¸­ï¼ŒJunitå•å…ƒæµ‹è¯•æ–¹æ³•ä¸­ï¼Œç›¸å¯¹è·¯å¾„æŒ‡çš„æ˜¯å½“å‰æ¨¡å—ä¸‹ï¼›main()æµ‹è¯•ä¸­ï¼ŒæŒ‡çš„æ˜¯æ€»å·¥ç¨‹ä¸‹</li></ul><table><thead><tr><th>File(String filePath)ç»å¯¹è·¯å¾„/ç›¸å¯¹è·¯å¾„</th><th>File file1 = new File(â€œhello.txtâ€),File file2 = new File(â€œd:\hello.txtâ€)</th></tr></thead><tbody><tr><td>File(String parentPath,String childPath)çˆ¶ï¼Œå­ç›®å½•</td><td>File file3 = new File(â€œD:\ â€œ,â€workspaceâ€)</td></tr><tr><td>File(File paretPath,String childPath)</td><td>File file4 = new File(file3,â€hello.txtâ€);</td></tr></tbody></table><h4 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h4><table><thead><tr><th>String getAbsolutePath()</th><th>è·å–ç»å¯¹è·¯å¾„</th></tr></thead><tbody><tr><td>String getPath()</td><td>è·å–è·¯å¾„</td></tr><tr><td>String getName()</td><td>è·å–åç§°</td></tr><tr><td>String getParent()</td><td>è·å–ä¸Šå±‚æ–‡ä»¶ç›®å½•è·¯å¾„ï¼Œè‹¥æ— ï¼Œè¿”å›null</td></tr><tr><td>long length()</td><td>è·å–æ–‡ä»¶é•¿åº¦ï¼ˆå­—èŠ‚ï¼‰ï¼Œä¸èƒ½è·å–ç›®å½•é•¿åº¦</td></tr><tr><td>long lastModified()</td><td>è·å–æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´ï¼Œæ¯«ç§’å€¼</td></tr><tr><td>String[] list()</td><td>è·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•çš„åç§°æ•°ç»„</td></tr><tr><td>File[] listFiles()</td><td>è·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•çš„Fileæ•°ç»„</td></tr><tr><td>boolean renameTo(File dest)</td><td>æŠŠæ–‡ä»¶é‡å‘½åä¸ºæŒ‡å®šçš„æ–‡ä»¶è·¯å¾„ï¼ˆè¦æƒ³ä¿è¯è¿”å›trueï¼Œéœ€è¦file1åœ¨ç¡¬ç›˜ä¸­å­˜åœ¨çš„ï¼Œä¸”file2ä¸èƒ½åœ¨ç¡¬ç›˜ä¸­å­˜åœ¨ï¼‰</td></tr></tbody></table><p><strong>åˆ¤æ–­åŠŸèƒ½</strong></p><table><thead><tr><th>boolean isDirectory()</th><th>åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶ç›®å½•</th></tr></thead><tbody><tr><td>boolean isFile()</td><td>åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶</td></tr><tr><td>boolean exists()</td><td>åˆ¤æ–­æ˜¯å¦å­˜åœ¨</td></tr></tbody></table><p><strong>åˆ›å»ºã€åˆ é™¤åŠŸèƒ½</strong></p><table><thead><tr><th>boolean createNewFile()</th><th>åˆ›å»ºæ–‡ä»¶ï¼Œè‹¥æ–‡ä»¶å­˜åœ¨åˆ™ä¸åˆ›å»º</th></tr></thead><tbody><tr><td>boolean mkdirs()</td><td>åˆ›å»ºæ–‡ä»¶ç›®å½•ï¼Œå¦‚æœä¸Šå±‚æ–‡ä»¶ç›®å½•ä¸å­˜åœ¨ï¼Œä¸€å¹¶åˆ›å»º</td></tr><tr><td>boolean delete()</td><td>åˆ é™¤æ–‡ä»¶</td></tr></tbody></table><p><strong>ç«™ä½</strong>ï¼šï¼ˆæˆ‘ä»¬æ˜¯ç«™åœ¨ç¨‹åºï¼ˆå†…å­˜ï¼‰çš„è§’åº¦ï¼‰</p><ul><li><p>è¾“å…¥ï¼šå°†æ–‡ä»¶å†™å…¥çš„å†…å­˜å½“ä¸­</p></li><li><p>è¾“å‡ºï¼šå°†å†…å­˜ä¸­çš„æ•°æ®å­˜å…¥ç£ç›˜</p></li></ul><p><strong>æµçš„åˆ†ç±»</strong>ï¼š</p><ul><li><p>æ•°æ®å•ä½:å­—èŠ‚æµï¼ˆ8bitï¼‰ã€å­—ç¬¦æµï¼ˆ16bitï¼‰</p></li><li><p>æµå‘ï¼šè¾“å…¥æµã€è¾“å‡ºæµ</p></li><li><p>è§’è‰²ï¼šèŠ‚ç‚¹æµï¼ˆFileï¼‰ã€å¤„ç†æµï¼ˆç¼“å†²æµæ˜¯å…¶ä¸­çš„ä¸€ç§ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201009141222.png"></p></li></ul><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20201009142055.png"></p><h3 id="æµ"><a href="#æµ" class="headerlink" title="æµ"></a>æµ</h3><h4 id="è¯»å…¥æ•°æ®"><a href="#è¯»å…¥æ•°æ®" class="headerlink" title="è¯»å…¥æ•°æ®"></a>è¯»å…¥æ•°æ®</h4><p>ä»ç¡¬ç›˜æ–‡ä»¶ä¸­è¯»å–æ•°æ®åˆ°å†…å­˜ä¸­</p><h5 id="å­—ç¬¦æµ"><a href="#å­—ç¬¦æµ" class="headerlink" title="å­—ç¬¦æµ"></a>å­—ç¬¦æµ</h5><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.å®ä¾‹åŒ–Fileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¦æ“ä½œçš„å¯¹è±¡</span>File file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2.æä¾›å…·ä½“çš„æµ</span>FileReader fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//3.æ•°æ®çš„è¯»å…¥</span><span class="token comment" spellcheck="true">//read():è¿”å›è¯»å…¥çš„ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æœè¾¾åˆ°æ–‡ä»¶æœ«å°¾ï¼Œè¿”å›-1</span><span class="token keyword">int</span> data <span class="token operator">=</span> fr<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–çš„æ˜¯charè½¬ç åçš„int</span><span class="token keyword">while</span><span class="token punctuation">(</span>data <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    data <span class="token operator">=</span> fr<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–ä¸‹ä¸€ä¸ªæ•°æ®</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//æµçš„å…³é—­æ“ä½œ</span>fr<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¯´æ˜ï¼š</p><ol><li>read()çš„ç†è§£ï¼šè¿”å›è¯»å…¥çš„ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æœåˆ°è¾¾æœ«å°¾ï¼Œè¿”å›-1</li><li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šä¸ºäº†ä¿è¯æµèµ„æºä¸€å®šå¯ä»¥æ‰§è¡Œå…³é—­æ“ä½œï¼Œéœ€è¦ä½¿ç”¨try-catch-finallyï¼ˆå¹¶ä¸”åˆ¤æ–­ä¸€ä¸‹æµæ˜¯å¦ä¸ºnullï¼‰</li><li>è¯»å…¥çš„æ–‡ä»¶ä¸€å®šè¦å­˜åœ¨ï¼Œå¦åˆ™å°±ä¼šæŠ¥FileNotFoundException</li></ol><p><strong>read(char[ ] cbuf)ä¸€æ¬¡è¯»å…¥å¤šä¸ªæ•°æ®</strong></p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.å®ä¾‹åŒ–Fileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¦æ“ä½œçš„å¯¹è±¡</span>File file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2.æä¾›å…·ä½“çš„æµ</span>FileReader fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//3.æ•°æ®çš„è¯»å…¥</span><span class="token comment" spellcheck="true">//read(char[ ] cbuf)ä¸€æ¬¡è¯»å…¥æ•°ç»„é•¿åº¦çš„æ•°æ®ï¼Œå¦‚æœè¾¾åˆ°æ–‡ä»¶æœ«å°¾ï¼Œä¸è¶³é•¿åº¦åˆ™è¿”å›-1</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cbuf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">char</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å­˜æ”¾æ•°æ®çš„åœ°æ–¹</span><span class="token keyword">int</span> len<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è®°å½•æ•°æ®é•¿åº¦</span><span class="token comment" spellcheck="true">//æ–¹å¼1</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len<span class="token operator">=</span>fr<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>cbuf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cbuf<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//æ–¹å¼2</span><span class="token comment" spellcheck="true">//String str = new String(cbuf,0,len);</span><span class="token comment" spellcheck="true">//System.out.println(str);</span></code></pre><h5 id="å­—èŠ‚æµ"><a href="#å­—èŠ‚æµ" class="headerlink" title="å­—èŠ‚æµ"></a>å­—èŠ‚æµ</h5><p><code>FileInputStream</code></p><ul><li><p>æ“ä½œä¹Ÿæ˜¯å››æ­¥éª¤ï¼Œ1.é€ æ–‡ä»¶ï¼Œ2.é€ æµï¼Œ3.è¯»æ–¹æ³•ï¼Œ4.å…³æµ</p></li><li><p>å¤šæ•°æ®è¯»ç”¨byte[]æ•°ç»„</p></li><li><p>ä½¿ç”¨å­—èŠ‚æµå¤„ç†æ–‡æœ¬æ–‡ä»¶å¯èƒ½ï¼ˆåœ¨å†…å­˜ä¸­è¯»æ—¶ï¼‰å‡ºç°ä¹±ç ï¼šä¸­æ–‡</p></li></ul><h4 id="å†™å‡ºæ•°æ®"><a href="#å†™å‡ºæ•°æ®" class="headerlink" title="å†™å‡ºæ•°æ®"></a>å†™å‡ºæ•°æ®</h4><p>ä»å†…å­˜ä¸­å†™å‡ºæ•°æ®åˆ°ç¡¬ç›˜æ–‡ä»¶é‡Œ</p><ol><li>è¾“å‡ºæ“ä½œï¼Œå¯¹åº”çš„Fileå¯ä»¥ä¸å­˜åœ¨<ol><li>å¦‚æœä¸å­˜åœ¨ï¼Œå›è‡ªåŠ¨åˆ›å»ºæ­¤æ–‡ä»¶</li><li>å¦‚æœå­˜åœ¨ï¼š<ol><li>å¦‚æœä½¿ç”¨æµæ„é€ å™¨ä¸ºï¼šFileWriter(file/false)/FileWriter(file)å¯¹åŸæœ‰çš„æ–‡ä»¶è¦†ç›–</li><li>å¦‚æœæµä½¿ç”¨æ„é€ å™¨ä¸ºï¼šFileWriter(file/true)ï¼šä¸ä¼šå¯¹åŸæœ‰æ–‡ä»¶è¦†ç›–ï¼Œè€Œæ˜¯åœ¨åŸæœ‰æ–‡ä»¶ä¸­è¿½åŠ å†…å®¹</li></ol></li></ol></li></ol><h5 id="å­—ç¬¦æµ-1"><a href="#å­—ç¬¦æµ-1" class="headerlink" title="å­—ç¬¦æµ"></a>å­—ç¬¦æµ</h5><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.å®ä¾‹åŒ–Fileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¦æ“ä½œçš„å¯¹è±¡</span>File file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2.æä¾›å…·ä½“çš„æµ</span>FileWriter fw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//é»˜è®¤ä¸ºfalse</span><span class="token comment" spellcheck="true">//3.å†™å‡ºçš„æ“ä½œ</span>fw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>fw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"nihao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//4.æµèµ„æºçš„å…³é—­</span>fw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>ç»ƒä¹ </strong>ï¼šè¯»å†™æ•°æ®</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.å®ä¾‹åŒ–Fileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¦æ“ä½œçš„å¯¹è±¡</span>File file1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>File file2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"hello2.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2.æä¾›å…·ä½“çš„æµ</span>FileReader fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span>file1<span class="token punctuation">)</span><span class="token punctuation">;</span>FileWriter fw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span>file2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//3.æ•°æ®çš„è¯»å…¥å’Œå†™å‡ºæ“ä½œ</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cbuf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">char</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> len <span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¯»æ“ä½œ</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fr<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>cbuf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å†™å…¥æ“ä½œ</span>    fw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>cbuf<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ¯æ¬¡è¯»å–lenä¸ªæ•°æ®</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//4.æµçš„å…³é—­</span>fw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>fr<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="å­—èŠ‚æµ-1"><a href="#å­—èŠ‚æµ-1" class="headerlink" title="å­—èŠ‚æµ"></a>å­—èŠ‚æµ</h5><p><code>FileOutputStream</code></p><ul><li><p>æ“ä½œä¹Ÿæ˜¯å››æ­¥éª¤ï¼Œ1.é€ æ–‡ä»¶ï¼Œ2.é€ æµï¼Œ3.å†™æ–¹æ³•ï¼Œ4.å…³æµ</p></li><li><p>å†™å¯ä»¥ç”¨å­—èŠ‚æµï¼Œå› ä¸ºä¸æ¶‰åŠåˆ°åœ¨å†…å­˜ä¸­è¯»</p></li></ul><h4 id="ç¼“å†²æµ"><a href="#ç¼“å†²æµ" class="headerlink" title="ç¼“å†²æµ"></a>ç¼“å†²æµ</h4><p>ä½œç”¨ï¼šç”¨æ¥æé«˜è¯»å†™çš„é€Ÿåº¦</p><ul><li><code>BufferedInputStream</code></li><li><code>BufferedOutputStream</code></li><li><code>BufferedReader</code></li><li><code>BufferedWriter</code></li><li>åœ¨å…·ä½“æµåµŒå¥—ä¸€å±‚ç¼“å†²æµ</li><li>å…³æµï¼šå…ˆå…³å¤–å±‚å†å…³å†…å±‚ï¼Œå¤–å±‚å…³äº†å†…å±‚å°±ä¼šè‡ªåŠ¨å…³é—­</li></ul><p><strong>è¯»å†™æ“ä½œ</strong></p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.å®ä¾‹åŒ–Fileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¦æ“ä½œçš„å¯¹è±¡</span>File file1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>File file2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"hello2.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2.æä¾›å…·ä½“çš„æµ</span>FileReader fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span>file1<span class="token punctuation">)</span><span class="token punctuation">;</span>FileWriter fw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span>file2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//3.æä¾›ç¼“å†²æµ</span>BufferedReader br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>fr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¼ å…¥å…·ä½“çš„æµ</span>BufferedWriter bw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span>fw<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ•°æ®çš„è¯»å…¥å’Œå†™å‡ºæ“ä½œ</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>cbuf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å†™å…¥æ“ä½œ</span>    bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>cbuf<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ¯æ¬¡è¯»å–lenä¸ªæ•°æ®</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//å…³æµï¼šå…ˆå…³å¤–å±‚å†å…³å†…å±‚ï¼Œå¤–å±‚å…³äº†å†…å±‚å°±ä¼šè‡ªåŠ¨å…³é—­</span>br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>bw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>readLine()è¯»å†™ä¸€è¡Œçš„æ“ä½œ</strong></p><p>å°†ä¸€è¡Œæ•°æ®è¯»å–åˆ°å­—ç¬¦ä¸²ä¸­ï¼Œå¦‚æœæ²¡æœ‰å€¼åˆ™ä¸ºnull</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.å®ä¾‹åŒ–Fileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¦æ“ä½œçš„å¯¹è±¡</span>File file1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>File file2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"hello2.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2.æä¾›å…·ä½“çš„æµ</span>FileReader fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span>file1<span class="token punctuation">)</span><span class="token punctuation">;</span>FileWriter fw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span>file2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//3.æä¾›ç¼“å†²æµ</span>BufferedReader br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>fr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¼ å…¥å…·ä½“çš„æµ</span>BufferedWriter bw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span>fw<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//4.è¯»å†™æ“ä½œ</span>String data <span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token operator">=</span>br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>    bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token operator">+</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ–¹å¼1æ¢è¡Œ</span>    <span class="token comment" spellcheck="true">//æ–¹å¼2æ¢è¡Œ</span>    <span class="token comment" spellcheck="true">//bw.write(data);</span>    <span class="token comment" spellcheck="true">//bw.newLine();</span><span class="token punctuation">}</span></code></pre><p><strong>ç»ƒä¹ é¢˜</strong></p><ol><li><p>å®ç°æ–‡ä»¶çš„å¤åˆ¶ï¼Œä½¿ç”¨ç¼“å†²æµ</p></li><li><p>å®ç°æ–‡ä»¶çš„åŠ å¯†æ“ä½œï¼š<code>for(i = 0;i&lt;len ;i++){cubf[i] =(byte) (cubf[i]^5);}</code></p><ol><li>è§£å¯†åªéœ€è¦å¯¹åŠ å¯†å¯¹è±¡å†å¼‚æˆ–5å°±å¯ä»¥å®ç°è§£å¯†</li></ol></li><li><p>ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶ä¸­æ‰€æœ‰å­—ç¬¦å‡ºç°çš„æ¬¡æ•°</p><pre class=" language-java"><code class="language-java">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        BufferedReader br <span class="token operator">=</span> null<span class="token punctuation">;</span>        BufferedWriter bw <span class="token operator">=</span> null<span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//åˆ›å»ºæ–‡ä»¶å¯¹è±¡</span>            File file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"F:\\123.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            File file2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"F:\\1234.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//å­˜æ”¾å­—ç¬¦å’Œå‡ºç°çš„æ¬¡æ•°</span>            Map<span class="token operator">&lt;</span>Character<span class="token punctuation">,</span>Integer<span class="token operator">></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//åˆ›å»ºå…·ä½“æµ</span>            FileReader fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>            FileWriter fw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span>file2<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//åˆ›å»ºç¼“å†²æµ</span>            br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>fr<span class="token punctuation">)</span><span class="token punctuation">;</span>            bw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span>fw<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//è¯»æ“ä½œ</span>            <span class="token keyword">int</span> len<span class="token punctuation">;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len<span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">//å°†lenè¿˜åŸæˆchar</span>                <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>len<span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">//å­—ç¬¦ç¬¬ä¸€æ¬¡å‡ºç°</span>                    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">//å­—ç¬¦å‡ºç°è¿‡ï¼Œå¢åŠ 1æ¬¡</span>                    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">//éå†mapé›†åˆ</span>            Set<span class="token operator">&lt;</span>Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>Character<span class="token punctuation">,</span>Integer<span class="token operator">>></span> set <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>Character<span class="token punctuation">,</span>Integer<span class="token operator">></span> entry<span class="token operator">:</span>set<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">switch</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token keyword">case</span> <span class="token string">' '</span><span class="token operator">:</span>                        bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"ç©ºæ ¼="</span><span class="token operator">+</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token string">'\t'</span><span class="token operator">:</span>                        bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"tabé”®="</span><span class="token operator">+</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token string">'\n'</span><span class="token operator">:</span>                        bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"æ¢è¡Œ="</span><span class="token operator">+</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token string">'\r'</span><span class="token operator">:</span>                        bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"å›è½¦="</span><span class="token operator">+</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">default</span><span class="token operator">:</span>                        bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"="</span><span class="token operator">+</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                bw<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ¢è¡Œ</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">finally</span> <span class="token punctuation">{</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                bw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span></code></pre></li></ol><h4 id="è½¬æ¢æµ"><a href="#è½¬æ¢æµ" class="headerlink" title="è½¬æ¢æµ"></a>è½¬æ¢æµ</h4><ul><li>å±äºå­—ç¬¦æµ<ul><li><code>InputStreamReader</code>ï¼šå°†ä¸€ä¸ªå­—èŠ‚è¾“å…¥æµè½¬æ¢ä¸ºå­—ç¬¦è¾“å…¥æµï¼Œçˆ¶ç±»Readerï¼ˆçœ‹åç¼€ï¼‰</li><li><code>OutputStreanWriter</code>ï¼šå°†ä¸€ä¸ªå­—ç¬¦çš„è¾“å‡ºæµè½¬æ¢ä¸ºå­—èŠ‚è¾“å‡ºæµï¼Œçˆ¶ç±»Writer</li></ul></li><li>ä½œç”¨ï¼šå­—èŠ‚ä¸å­—ç¬¦ä¹‹é—´çš„è½¬æ¢</li><li>è§£ç ï¼šå­—èŠ‚â€”&gt;å­—ç¬¦ï¼šInputStreamReader</li><li>ç¼–ç ï¼šå­—ç¬¦â€”&gt;å­—èŠ‚ï¼šOutputStramWriter</li></ul><p><strong>InputStreamReader</strong></p><blockquote><p>æ³¨æ„ï¼šå…·ä½“ç”¨å“ªä¸ªå­—ç¬¦é›†å»è¯»ï¼Œå–å†³äºåŸæ¥çš„æ–‡ä»¶ç¼–ç æ˜¯ä»€ä¹ˆ</p></blockquote><pre class=" language-java"><code class="language-java">FileInputStream fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"123.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å­—èŠ‚æµ</span><span class="token comment" spellcheck="true">//InputStreamReader isr = new InputStreamReader(fis);//ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å­—ç¬¦é›†</span>InputStreamReader isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>fis<span class="token punctuation">,</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä½¿ç”¨UTF-8å»è¯»</span><span class="token comment" spellcheck="true">//è¯»æ“ä½œ</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cbuf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">char</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> len<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len<span class="token operator">=</span>isr<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>cbuf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    String str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>cbuf<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    for(int i=0;i&lt;len;i++){</span><span class="token comment" spellcheck="true">//        System.out.println(cbuf[i]);</span><span class="token comment" spellcheck="true">//    }</span><span class="token punctuation">}</span>isr<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>è½¬æ¢æµå®ç°æ–‡ä»¶è¯»å†™</strong></p><ul><li>utf-8â€”-&gt;gbk</li></ul><pre class=" language-java"><code class="language-java">FileInputStream fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"123.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å­—èŠ‚è¾“å…¥æµ</span>FileOutpuStream fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutStream</span><span class="token punctuation">(</span><span class="token string">"1234.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å­—èŠ‚è¾“å‡ºæµ</span>InputStreamReader isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>fis<span class="token punctuation">,</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä½¿ç”¨UTF-8å»è¯»</span>OutputStreamWriter osw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span>fos<span class="token punctuation">,</span><span class="token string">"gbk"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä½¿ç”¨gbkå»å†™</span></code></pre><p><strong>å­—ç¬¦ç¼–ç é›†</strong></p><p>ASCIIï¼šç¾å›½æ ‡å‡†ï¼Œ1ä¸ªå­—èŠ‚7ä½</p><p>ISO8859-1ï¼šæ‹‰ä¸è¯­è¡¨ï¼Œ1ä¸ªå­—èŠ‚8ä½</p><p>GB2312ã€GBKï¼šä¸­å›½æ ‡å‡†ï¼Œæœ€å¤š2ä¸ªå­—èŠ‚</p><p>Unicodeï¼šå…¨ä¸–ç•Œè¯­è¨€ç¼–ç é›†ï¼Œ2ä¸ªå­—èŠ‚ï¼Œä½†å› ä¸ºè¦è¡¨ç¤ºç”¨1ä¸ªè¿˜æ˜¯2ä¸ªä¸èƒ½å¾ˆå¥½ç•Œå®šï¼Œæ²¡æœ‰è½åœ°</p><p>UTF-8ï¼šå˜é•¿ç¼–ç æ–¹å¼ï¼Œ1-6ä¸ªå­—èŠ‚ï¼Œå¯ä»¥æ ¹æ®å¼€å¤´çš„1 *0æ¥ç•Œå®šç”¨å‡ ä¸ªå­—èŠ‚è¿›è¡Œè¯†åˆ«</p><p><strong>æ ‡å‡†æµ</strong></p><p>æ³¨æ„ï¼šå±äºå­—èŠ‚æµ</p><ul><li><code>System.in</code></li><li><code>System.out</code></li></ul><p>ç»ƒä¹ ï¼šä½¿ç”¨System.inæ¥è¾“å…¥å­—ç¬¦ä¸²ï¼Œå°†å…¶å˜ä¸ºå¤§å†™</p><pre class=" language-java"><code class="language-java">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>        BufferedReader br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥è¦è½¬æ¢çš„å­—ç¬¦ä¸²ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            String data <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"e"</span><span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">"exit"</span><span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¨‹åºç»“æŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><blockquote><p>æ³¨æ„ï¼š</p><ol><li>IDEAä½¿ç”¨å•å…ƒæµ‹è¯•ä¸èƒ½åœ¨æ§åˆ¶å°è¿›è¡Œè¾“å…¥ï¼Œéœ€è¦ä½¿ç”¨mainä¸»ç¨‹åº</li><li>è¿™é‡Œåº”è¯¥ä½¿ç”¨try-catch-finallyï¼Œå·æ‡’åªå®ç°äº†ä¸»è¦ä»£ç </li></ol></blockquote><p><strong>æ‰“å°æµ</strong></p><p><code>PrintStream</code></p><p><code>PrintWriter</code></p><p>ä½œç”¨ï¼šå°†è¾“å‡ºçš„ä¿¡æ¯è¾“å‡ºåœ¨ç£ç›˜ä¸­</p><pre class=" language-java"><code class="language-java">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> FileNotFoundException <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//åˆ›å»ºè¾“å‡ºæµï¼ŒæŒ‡å®šä¿å­˜çš„ä½ç½®</span>        FileOutputStream fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\out.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//åˆ›å»ºæ‰“å°æµï¼Œflushä¸ºtrueï¼Œè¡¨ç¤ºæ¢è¡Œå°±ä¼šè‡ªåŠ¨åˆ·æ–°</span>        PrintStream ps <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintStream</span><span class="token punctuation">(</span>fos<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>ps<span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//æŠŠæ ‡å‡†è¾“å‡ºæµæ”¹ä¸ºæ‰“å°æµçš„æ–¹å¼è¾“å‡ºï¼ˆå³å°†æ§åˆ¶å°è¾“å‡ºæ”¹ä¸ºæ–‡ä»¶è¾“å‡ºï¼‰</span>            System<span class="token punctuation">.</span><span class="token function">setOut</span><span class="token punctuation">(</span>ps<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//è¾“å‡ºé€»è¾‘</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">255</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">char</span> data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>i<span class="token punctuation">;</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">%</span><span class="token number">50</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">//æ¯50ä¸ªå­—ç¬¦æ¢è¡Œ</span>                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//å…³é—­æµ</span>        ps<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p><strong>æ•°æ®æµ</strong></p><p><code>DataInputStream</code>è¯»æ•°æ®</p><p><code>DataOutputStream</code>å†™æ•°æ®</p><ul><li>ä½œç”¨ï¼šç”¨äºè¯»å–æˆ–å†™å‡º<strong>åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡æˆ–å­—ç¬¦ä¸²</strong></li></ul><p>ç»ƒä¹ ï¼šå°†å†…å­˜ä¸­çš„å­—ç¬¦ä¸²ã€åŸºæœ¬æ•°æ®ç±»å‹å†™å‡ºåˆ°æ–‡ä»¶ä¸­å’Œè¯»å–</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å†™æ•°æ®</span> <span class="token comment" spellcheck="true">//åˆ›å»ºå…·ä½“è¾“å‡ºæµï¼Œæ•°æ®æµ</span>DataOutputStream dos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\data.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å†™æ•°æ®</span>dos<span class="token punctuation">.</span><span class="token function">writeUTF</span><span class="token punctuation">(</span><span class="token string">"å°æ˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dos<span class="token punctuation">.</span><span class="token function">writeInt</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å…³æµ</span>dos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>æ³¨æ„ï¼šè¯»æ•°æ®çš„æ—¶å€™ï¼Œ<strong>è¯»çš„é¡ºåºä¸€å®šè¦å’Œå†™å…¥æ—¶ä¸€æ ·</strong></p></blockquote><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//è¯»æ•°æ®</span>DataInputStream dis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\data.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dis<span class="token punctuation">.</span><span class="token function">readUTF</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dis<span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="å¯¹è±¡æµ"><a href="#å¯¹è±¡æµ" class="headerlink" title="å¯¹è±¡æµ"></a>å¯¹è±¡æµ</h4><ul><li>ä½œç”¨ï¼šç”¨äºå­˜å‚¨å’Œè¯»å–åŸºæœ¬æ•°æ®ç±»å‹æˆ–å¯¹è±¡çš„å¤„ç†æµ</li></ul><p><code>ObjectInputStream</code>ï¼šè¯»åˆ°å†…å­˜ï¼Œååºåˆ—åŒ–</p><p><code>ObjectOutputStream</code>ï¼šå†™åˆ°ç£ç›˜æˆ–è¿›è¡Œç½‘ç»œä¼ è¾“ï¼Œåºåˆ—åŒ–</p><ul><li><strong>è‡ªå®šä¹‰ç±»ï¼ˆUserï¼‰åºåˆ—åŒ–çš„æ–¹æ³•ï¼š</strong><ol><li>éœ€è¦è‡ªå®šä¹‰ç±»å®ç°æ¥å£ï¼š<code>Serializable</code></li><li>å½“å‰ç±»æä¾›ä¸€ä¸ªå…¨å±€å¸¸é‡ï¼š<code>public static final long serialVersionUID = xxxxxxL;</code><ol><li>ç®—æ˜¯ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå†åºåˆ—åŒ–ä¹‹åï¼Œè‡ªå®šä¹‰ç±»å‘ç”Ÿäº†ä¿®æ”¹ï¼Œé‚£ä¹ˆç³»ç»Ÿå°†æ— æ³•è¯†åˆ«</li></ol></li><li>é™¤äº†å½“å‰è‡ªå®šä¹‰ç±»éœ€è¦å®ç°<code>Serializable</code>æ¥å£ï¼Œå…¶å†…éƒ¨æ‰€æœ‰å±æ€§ä¹Ÿå¿…é¡»å¯åºåˆ—åŒ–ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹æ˜¯å¯åºåˆ—åŒ–çš„ï¼‰</li><li>è¡¥å……ï¼š<code>static</code>/<code>transient</code>ä¿®é¥°çš„æˆå‘˜å˜é‡ä¸èƒ½åºåˆ—åŒ–</li></ol></li></ul><p><strong>å¯¹è±¡åºåˆ—åŒ–æœºåˆ¶</strong>ï¼šå…è®¸æŠŠJavaå¯¹è±¡è½¬æ¢ä¸ºå¹³å°æ— å…³çš„äºŒè¿›åˆ¶æµï¼Œä»è€Œå…è®¸æŠŠè¿™ç§äºŒè¿›åˆ¶æµæŒä¹…åŒ–ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œæˆ–é€šè¿‡ç½‘ç»œè¿™ç§äºŒè¿›åˆ¶æµä¼ è¾“åˆ°å¦ä¸€ä¸ªç½‘ç»œèŠ‚ç‚¹ã€‚å½“å…¶ä»–ç¨‹åºè·å–åˆ°è¿™ç§äºŒè¿›åˆ¶æµï¼Œå°±å¯ä»¥æ¢å¤æˆåŸæ¥çš„javaå¯¹è±¡ã€‚</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//åºåˆ—åŒ–ï¼Œå†™åˆ°ç£ç›˜</span>ObjectOutputStream oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\obj.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>oos<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"hahaha"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>oos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>oos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ååºåˆ—åŒ–ï¼Œè¯»åˆ°å†…å­˜</span>ObjectInputStream ois <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\obj.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>String o <span class="token operator">=</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span> ois<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>ois<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>éšæœºå­˜å‚¨æ–‡ä»¶æµ</strong></p><p><code>RandomAccessFile</code></p><ol><li><p>ç›´æ¥ç»§æ‰¿äºjava.lang.Objectï¼Œå®ç°äº†DataInputå’ŒDataOutputæ¥å£</p></li><li><p>æ—¢å¯ä»¥ä½œä¸ºä¸€ä¸ªè¾“å…¥æµï¼Œåˆå¯ä»¥ä½œä¸ºä¸€ä¸ªè¾“å‡ºæµ</p></li><li><p>å¦‚æœä½œä¸ºè¾“å‡ºæµï¼Œå†™å‡ºåˆ°çš„æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ›å»º</p><p>å¦‚æœå†™å‡ºåˆ°çš„æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™ä¼šå¯¹åŸæœ‰æ–‡ä»¶å†…å®¹è¿›è¡Œè¦†ç›–ï¼ˆé»˜è®¤æƒ…å†µä¸‹æ˜¯ä»å¤´å¼€å§‹è¦†ç›–ï¼‰</p></li><li><p>RandomAccessFileï¼ˆFile,modeï¼‰ï¼Œ</p><ol><li>modeï¼š<ol><li>rï¼šä»¥åªè¯»æ–¹å¼æ‰“å¼€</li><li>rwï¼šä»¥è¯»ã€å†™</li><li>rwdï¼šè¯»ï¼Œå†™ï¼ŒåŒæ­¥</li><li>rwsï¼šè¯»å†™ï¼ŒåŒæ­¥å†…å®¹+å…ƒæ•°æ®</li></ol></li></ol></li></ol><pre class=" language-java"><code class="language-java">RandomAccessFile raf <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">RandomAccessFile</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"F:\\random.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>RandomAccessFile raf2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RandomAccessFile</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"F:\\random1.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"rw"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> len<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> raf<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    raf2<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>raf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>raf2<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-java"><code class="language-java">RandomAccessFile raf2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RandomAccessFile</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"F:\\random1.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"rw"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>raf2<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"hahaha"</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¦‚æœå†™å‡ºåˆ°çš„æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™ä¼šå¯¹åŸæœ‰æ–‡ä»¶å†…å®¹è¿›è¡Œè¦†ç›–</span>raf2<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h4><ol><li><p>å­—èŠ‚æµä¸å­—ç¬¦æµçš„åŒºåˆ«ä¸ä½¿ç”¨æƒ…æ™¯</p><pre class=" language-java"><code class="language-java">å­—èŠ‚æµï¼š <span class="token function">read</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> éæ–‡æœ¬æ–‡ä»¶ï¼Œå¦‚æœåªæ˜¯å¤åˆ¶æ–‡ä»¶ï¼Œä¸åœ¨æ§åˆ¶å°è¾“å‡ºï¼Œå­—èŠ‚æµä¹Ÿå¯ä»¥å®ç°å­—ç¬¦æµï¼š <span class="token function">read</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cbuf<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> æ–‡æœ¬æ–‡ä»¶</code></pre></li><li><p>ä½¿ç”¨ç¼“å†²æµå®ç°a.jpgå¤åˆ¶åˆ°b.jpg</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//åˆ›å»ºå…·ä½“æµ</span>FileInputStream fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\123.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>FileOutputStream fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\1234.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åˆ›å»ºç¼“å†²æµ</span>BufferInputStream bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferInputStream</span><span class="token punctuation">(</span>fis<span class="token punctuation">)</span><span class="token punctuation">;</span>BufferOutputStream bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferOutputStream</span><span class="token punctuation">(</span>fos<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¯»å†™æ“ä½œ</span><span class="token keyword">int</span> len<span class="token punctuation">;</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å†™æ“ä½œ</span>    bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>è½¬æ¢æµæ˜¯å“ªä¸¤ä¸ªç±»ï¼Œåˆ†åˆ«çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p><pre class=" language-java"><code class="language-java">InputStreamReader<span class="token operator">:</span>å°†è¾“å…¥çš„å­—èŠ‚æµè½¬æ¢ä¸ºè¾“å…¥çš„å­—ç¬¦æµï¼Œè§£ç OutputStreamWriterï¼šå°†è¾“å‡ºçš„å­—ç¬¦æµè½¬æ¢ä¸ºè¾“å‡ºçš„å­—èŠ‚æµï¼Œç¼–ç InputStreamReader isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ ¹æ®æ–‡ä»¶çš„ç¼–ç æ¥è¯»</span>OutputStreamWriter osw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"gbk"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//éœ€è¦è½¬æ¢ä»€ä¹ˆç¼–ç å°±å†™ä»€ä¹ˆ</span></code></pre></li><li><p><strong>æ€»ç»“éå†æ–¹å¼</strong></p><pre class=" language-java"><code class="language-java">å­—èŠ‚æµï¼š <span class="token function">read</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//æ–¹å¼1ï¼šæ•°ç»„å†™</span><span class="token keyword">int</span> len<span class="token punctuation">;</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//æ–¹å¼2ï¼šé€ä¸ªå­—èŠ‚å†™</span><span class="token keyword">int</span> len<span class="token punctuation">;</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//æ–¹å¼3ï¼šå­—ç¬¦ä¸²è¯»è¡Œ</span>String data<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>    bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//bos.newLine();//æ¢è¡Œ</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//æ–¹å¼4ï¼šæ•°ç»„è½¬å­—ç¬¦ä¸²</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cbuf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> len<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>cbuf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    String data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>cbuf<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>    bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>å­—ç¬¦æµï¼š <span class="token function">read</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cbuf<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></li></ol><h2 id="ç½‘ç»œç¼–ç¨‹"><a href="#ç½‘ç»œç¼–ç¨‹" class="headerlink" title="ç½‘ç»œç¼–ç¨‹"></a>ç½‘ç»œç¼–ç¨‹</h2><p>ç½‘ç»œé€šä¿¡ä¸‰è¦ç´ </p><ol><li><p>IPï¼šç”µå­è®¾å¤‡(è®¡ç®—æœº)åœ¨ç½‘ç»œä¸­çš„å”¯ä¸€æ ‡è¯†ã€‚å¯¹åº”çš„ç±»ï¼šInetAddress</p><ol><li>IPv4</li><li>IPv6</li></ol></li><li><p>ç«¯å£ï¼šåº”ç”¨ç¨‹åºåœ¨è®¡ç®—æœºä¸­çš„å”¯ä¸€æ ‡è¯†ã€‚ 0~65536</p><ol><li>å…¬è®¤ç«¯å£ï¼š0~1023</li><li>æ³¨å†Œç«¯å£ï¼š1023~49151</li></ol><ul><li>ç«¯å£å·ä¸IPåœ°å€ç»„åˆå¾—åˆ°ä¸€ä¸ªç½‘ç»œå¥—æ¥å­—ï¼šSocket</li></ul></li><li><p>ä¼ è¾“åè®®ï¼šè§„å®šäº†æ•°æ®ä¼ è¾“çš„è§„åˆ™</p><ol><li>åŸºç¡€åè®®ï¼š<ol><li>tcp:å®‰å…¨åè®®ï¼Œä¸‰æ¬¡æ¡æ‰‹ï¼Œè¿›è¡Œå¤§æ•°æ®é‡ä¼ è¾“ã€‚ é€Ÿåº¦ç¨æ…¢</li><li>udpï¼šä¸å®‰å…¨åè®®ã€‚ é€Ÿåº¦å¿«ï¼Œä»¥æ•°æ®åŒ…çš„å½¢å¼å‘é€ã€‚åªè´Ÿè´£å‘ï¼Œä¸ç®¡å¯¹æ–¹æ˜¯å¦æ¥æ”¶åˆ°</li></ol></li></ol></li><li><p>ç½‘ç»œé€šä¿¡è½åœ°åˆ†ä¸º4å±‚ï¼šåº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€ç‰©ç†+æ•°æ®é“¾è·¯å±‚</p></li></ol><p><strong>InetAddresså®ä¾‹åŒ–</strong></p><p>IPå¯¹è±¡å®ä¾‹åŒ–ï¼ˆæ²¡æœ‰æ„é€ æ–¹æ³•ï¼Œå¯ä»¥é™æ€åˆ›é€ ï¼‰</p><p><code>getByName(String host),getLocalhost()</code></p><pre class=" language-java"><code class="language-java">InetAddress inet1 <span class="token operator">=</span> InetAddress<span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string">"192.168.10.14"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>InetAddress inet2 <span class="token operator">=</span> InetAddress<span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string">"www.baidu.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>InetAddress inet3 <span class="token operator">=</span> InetAddress<span class="token punctuation">.</span><span class="token function">getLocalhost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>æ–¹æ³•</strong></p><ul><li><code>getHostName()</code>ï¼šè·å–åŸŸå</li><li><code>getHostAddress()</code>ï¼šè·å–ä¸»æœºåœ°å€</li></ul><p><strong>å®ç°å®¢æˆ·ç«¯-æœåŠ¡å™¨äº¤äº’</strong></p><blockquote><p>æ³¨æ„ï¼š</p><ol><li>å®¢æˆ·ç«¯åˆ›å»ºçš„Socketæ˜¯æœåŠ¡å™¨ç«¯çš„å¥—æ¥å­—ï¼ˆip+portï¼‰</li><li>æœåŠ¡å™¨ç«¯éœ€è¦å…ˆè·å–å®¢æˆ·ç«¯çš„socketï¼Œæ‰èƒ½è·å–æµ</li></ol></blockquote><p><strong>å®ç°æ¶ˆæ¯äº¤äº’</strong></p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å®¢æˆ·ç«¯</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Socket socket <span class="token operator">=</span> null<span class="token punctuation">;</span>    OutputStream os <span class="token operator">=</span> null<span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//1.åˆ›å»ºå¥—æ¥å­—ï¼ŒæŒ‡æ˜æœåŠ¡å™¨IPå’Œç«¯å£</span>        InetAddress inetAddress <span class="token operator">=</span> InetAddress<span class="token punctuation">.</span><span class="token function">getLocalHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span>inetAddress<span class="token punctuation">,</span><span class="token number">6666</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//2.è·å–è¾“å‡ºæµ</span>        os <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//3.å‘é€æ•°æ®</span>        os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"ä½ å¥½"</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//4.å…³é—­æµå’Œå¥—æ¥å­—</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>os<span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>socket<span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//æœåŠ¡å™¨ç«¯</span><span class="token comment" spellcheck="true">//è¿™é‡Œå·æ‡’å°†å¼‚å¸¸æŠ›å‡ºï¼Œåº”è¯¥ä½¿ç”¨try-catch</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">server</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//1.åˆ›å»ºServerSocketï¼ŒæŒ‡æ˜ç«¯å£</span>    ServerSocket ss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">6666</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//2.è·å–å®¢æˆ·ç«¯çš„socketï¼Œè¡¨ç¤ºæ¥æ”¶æ¥è‡ªå®¢æˆ·ç«¯çš„æ¶ˆæ¯</span>    Socket socket <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//3.è·å–è¾“å…¥æµ</span>    InputStream is <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//4.è¯»å–æ“ä½œ</span>    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> len<span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        String str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//socket.getInetAddress()è·å–ipå¯¹è±¡</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ”¶åˆ°æ¥è‡ª"</span><span class="token operator">+</span>socket<span class="token punctuation">.</span><span class="token function">getInetAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHostAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"çš„æ¶ˆæ¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//5.å…³é—­æµã€socketã€æœåŠ¡å™¨</span>    is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ss<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>æœåŠ¡å™¨ç«¯ä¿å­˜å®¢æˆ·ç«¯å‘é€çš„å›¾ç‰‡</strong></p><p><strong>æœåŠ¡å™¨ç«¯æ¥æ”¶å®Œæˆååé¦ˆæ¶ˆæ¯ï¼Œå®¢æˆ·ç«¯æ¥æ”¶æ¶ˆæ¯</strong></p><ul><li>éœ€è¦çš„æµ<ul><li>å®¢æˆ·ç«¯<ul><li>socket</li><li>æ–‡ä»¶è¾“å…¥æµï¼ˆè¯»å›¾ç‰‡ï¼‰</li><li>è¾“å‡ºæµï¼ˆå‘é€ç”¨ï¼‰é€šè¿‡socketè·å–</li><li>è¾“å…¥æµï¼ˆè¯»æœåŠ¡å™¨ç«¯åé¦ˆçš„æ¶ˆæ¯ï¼‰é€šè¿‡socketè·å¾—</li></ul></li><li>æœåŠ¡ç«¯<ul><li>å®¢æˆ·ç«¯çš„socket</li><li>è¾“å…¥æµï¼ˆè¯»å®¢æˆ·ç«¯çš„å›¾ç‰‡ï¼‰é€šè¿‡socketè·å–</li><li>æ–‡ä»¶è¾“å‡ºæµï¼ˆä¿å­˜ç”¨ï¼‰</li><li>è¾“å‡ºæµï¼ˆå‘é€åé¦ˆæ¶ˆæ¯ï¼‰é€šè¿‡Socketè·å–</li></ul></li></ul></li></ul><blockquote><p>æ³¨æ„ï¼š</p><ol><li><p>å¼‚å¸¸éœ€è¦ç”¨try-catchï¼Œè¿™é‡Œå·æ‡’</p></li><li><p>å®¢æˆ·ç«¯çš„è¾“å‡ºæµå’ŒæœåŠ¡å™¨ç«¯çš„è¾“å…¥æµéƒ½æ˜¯ä»Socketè·å–çš„</p></li><li><p>åªæœ‰ä»æœ¬åœ°è¯»å– å’Œä¿å­˜æ˜¯è‡ªå·±åˆ›å»ºçš„</p></li><li><p> ä¸­æ–­ä¼ è¾“ï¼šsocket.shutdownOutput();</p></li></ol></blockquote><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å®¢æˆ·ç«¯</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">client1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//1.è·å–Ipå¯¹è±¡</span>    InetAddress inetAddress <span class="token operator">=</span> InetAddress<span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//2.è·å–socket</span>    Socket socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span>inetAddress<span class="token punctuation">,</span><span class="token number">6667</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//4.è·å–è¾“å‡ºæµï¼ˆç”¨äºå‘é€å›¾ç‰‡ï¼‰</span>    OutputStream os <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//3.è·å–è¾“å…¥æµï¼ˆç”¨äºè¯»å–æœ¬åœ°å›¾ç‰‡ï¼‰</span>    FileInputStream fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\123.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//5.è¯»å†™æ“ä½œ</span>    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> len <span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//ä¸­æ–­ä¼ è¾“ï¼Œè¡¨ç¤ºè‡ªå·±å·²ç»ä¼ è¾“å®Œæˆï¼Œä¸å†ç»§ç»­ä¼ è¾“</span>    socket<span class="token punctuation">.</span><span class="token function">shutdownOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//6.è·å–æœåŠ¡å™¨ç«¯åé¦ˆçš„æ¶ˆæ¯</span>    <span class="token comment" spellcheck="true">//6.1.è·å–è¾“å…¥æµï¼ˆè¯»æœåŠ¡å™¨ç«¯åé¦ˆçš„æ¶ˆæ¯ï¼‰</span>    InputStream is <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> len2<span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        String str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>data2<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//7.å…³é—­æµã€socket</span>    is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æœåŠ¡å™¨ç«¯</span>    <span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">server</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//1.è·å–ServerSocketå¯¹è±¡</span>    ServerSocket ss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">6667</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//2.è·å–å®¢æˆ·ç«¯çš„socket</span>    Socket socket <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//3.è·å–è¾“å…¥æµï¼ˆç”¨äºä»å®¢æˆ·ç«¯è·å–å›¾ç‰‡ï¼‰</span>    InputStream is <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//4.è·å–è¾“å‡ºæµï¼ˆä¿å­˜æœ¬åœ°ï¼‰</span>    FileOutputStream fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\321.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//5.è¯»å†™æ“ä½œ</span>    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> len<span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//6.æœåŠ¡å™¨ç«¯å‘é€åé¦ˆä¿¡æ¯</span>    <span class="token comment" spellcheck="true">//6.1è·å–è¾“å‡ºæµ</span>    OutputStream os <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">socket<span class="token punctuation">.</span>getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"æ”¶åˆ°æ–‡ä»¶ï¼Œè°¢è°¢ï¼"</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//7.å…³é—­æµã€socketã€æœåŠ¡å™¨</span>    os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ss<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>URLçš„å®ä¾‹åŒ–åŠå¸¸ç”¨æ–¹æ³•</strong></p><p>ç»Ÿä¸€èµ„æºå®šä½ç¬¦</p><p><code>URL url = new URL("http://localhost:8080/examples/123.txt?username=tom")</code></p><table><thead><tr><th>getProtocol()</th><th>è·å–åè®®å</th></tr></thead><tbody><tr><td>getHost()</td><td>è·å–ä¸»æœºå</td></tr><tr><td>getPort()</td><td>è·å–ç«¯å£å·</td></tr><tr><td>getPath()</td><td>è·å–æ–‡ä»¶è·¯å¾„</td></tr><tr><td>getFile()</td><td>è·å–æ–‡ä»¶å</td></tr><tr><td>getQuery()</td><td>è·å–æŸ¥è¯¢å</td></tr></tbody></table><p><strong>ä½¿ç”¨tomcatå¤åˆ¶æ–‡ä»¶</strong></p><blockquote><p>ä¸­æ–­è¿æ¥ï¼šurlConnection.disconnect();</p></blockquote><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//åˆ›å»ºurlå¯¹è±¡</span>    URL url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8080/examples/123.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//è·å– è·å–è¿æ¥çš„å¯¹è±¡</span>    HttpURLConnection urlConnection <span class="token operator">=</span> <span class="token punctuation">(</span>HttpURLConnection<span class="token punctuation">)</span> url<span class="token punctuation">.</span><span class="token function">openConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//è·å–è¿æ¥</span>    urlConnection<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//è·å–è¾“å…¥æµ(ç”¨äºè¯»è¿æ¥ä¸­çš„æ•°æ®)</span>    InputStream is <span class="token operator">=</span> urlConnection<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//è·å–è¾“å‡ºæµï¼ˆç”¨äºå­˜å…¥ç¡¬ç›˜ï¼‰</span>    FileOutputStream fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\1234.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> len<span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//å…³é—­æµ,ä¸­æ–­è¿æ¥</span>    fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    urlConnection<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®æœåŠ¡pomä¾èµ–</title>
      <link href="/2020/09/25/springcloud/pom-yi-lai/"/>
      <url>/2020/09/25/springcloud/pom-yi-lai/</url>
      
        <content type="html"><![CDATA[<h1 id="pomä¾èµ–"><a href="#pomä¾èµ–" class="headerlink" title="pomä¾èµ–"></a>pomä¾èµ–</h1><pre class=" language-java"><code class="language-java">    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>ç»Ÿä¸€ç®¡ç†jaråŒ…ç‰ˆæœ¬<span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>properties<span class="token operator">></span>        <span class="token operator">&lt;</span>project<span class="token punctuation">.</span>build<span class="token punctuation">.</span>sourceEncoding<span class="token operator">></span>UTF<span class="token operator">-</span><span class="token number">8</span><span class="token operator">&lt;</span><span class="token operator">/</span>project<span class="token punctuation">.</span>build<span class="token punctuation">.</span>sourceEncoding<span class="token operator">></span>        <span class="token operator">&lt;</span>maven<span class="token punctuation">.</span>compiler<span class="token punctuation">.</span>source<span class="token operator">></span><span class="token number">12</span><span class="token operator">&lt;</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>compiler<span class="token punctuation">.</span>source<span class="token operator">></span>        <span class="token operator">&lt;</span>maven<span class="token punctuation">.</span>compiler<span class="token punctuation">.</span>target<span class="token operator">></span><span class="token number">12</span><span class="token operator">&lt;</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>compiler<span class="token punctuation">.</span>target<span class="token operator">></span>        <span class="token operator">&lt;</span>junit<span class="token punctuation">.</span>version<span class="token operator">></span><span class="token number">4.12</span><span class="token operator">&lt;</span><span class="token operator">/</span>junit<span class="token punctuation">.</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span>lombok<span class="token punctuation">.</span>version<span class="token operator">></span><span class="token number">1.18</span><span class="token punctuation">.</span><span class="token number">10</span><span class="token operator">&lt;</span><span class="token operator">/</span>lombok<span class="token punctuation">.</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span>log4j<span class="token punctuation">.</span>version<span class="token operator">></span><span class="token number">1.2</span><span class="token punctuation">.</span><span class="token number">17</span><span class="token operator">&lt;</span><span class="token operator">/</span>log4j<span class="token punctuation">.</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span>mysql<span class="token punctuation">.</span>version<span class="token operator">></span><span class="token number">8.0</span><span class="token punctuation">.</span><span class="token number">18</span><span class="token operator">&lt;</span><span class="token operator">/</span>mysql<span class="token punctuation">.</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span>druid<span class="token punctuation">.</span>version<span class="token operator">></span><span class="token number">1.1</span><span class="token punctuation">.</span><span class="token number">16</span><span class="token operator">&lt;</span><span class="token operator">/</span>druid<span class="token punctuation">.</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>version<span class="token operator">></span><span class="token number">2.1</span><span class="token punctuation">.</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>version<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>properties<span class="token operator">></span>    <span class="token operator">&lt;</span>dependencyManagement<span class="token operator">></span>        <span class="token operator">&lt;</span>dependencies<span class="token operator">></span>            <span class="token operator">&lt;</span>dependency<span class="token operator">></span>                <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>maven<span class="token punctuation">.</span>plugins<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>                <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>maven<span class="token operator">-</span>project<span class="token operator">-</span>info<span class="token operator">-</span>reports<span class="token operator">-</span>plugin<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>                <span class="token operator">&lt;</span>version<span class="token operator">></span><span class="token number">3.0</span><span class="token punctuation">.</span><span class="token number">0</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>spring boot <span class="token number">2.2</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>dependency<span class="token operator">></span>                <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>                <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>dependencies<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>                <span class="token operator">&lt;</span>version<span class="token operator">></span><span class="token number">2.2</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">.</span>RELEASE<span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>                <span class="token operator">&lt;</span>type<span class="token operator">></span>pom<span class="token operator">&lt;</span><span class="token operator">/</span>type<span class="token operator">></span>                <span class="token operator">&lt;</span>scope<span class="token operator">></span><span class="token keyword">import</span><span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>spring cloud Hoxton<span class="token punctuation">.</span>SR1<span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>dependency<span class="token operator">></span>                <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>                <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>dependencies<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>                <span class="token operator">&lt;</span>version<span class="token operator">></span>Hoxton<span class="token punctuation">.</span>SR1<span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>                <span class="token operator">&lt;</span>type<span class="token operator">></span>pom<span class="token operator">&lt;</span><span class="token operator">/</span>type<span class="token operator">></span>                <span class="token operator">&lt;</span>scope<span class="token operator">></span><span class="token keyword">import</span><span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>spring cloud é˜¿é‡Œå·´å·´<span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>dependency<span class="token operator">></span>                <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>                <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>alibaba<span class="token operator">-</span>dependencies<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>                <span class="token operator">&lt;</span>version<span class="token operator">></span><span class="token number">2.1</span><span class="token punctuation">.</span><span class="token number">0</span><span class="token punctuation">.</span>RELEASE<span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>                <span class="token operator">&lt;</span>type<span class="token operator">></span>pom<span class="token operator">&lt;</span><span class="token operator">/</span>type<span class="token operator">></span>                <span class="token operator">&lt;</span>scope<span class="token operator">></span><span class="token keyword">import</span><span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>mysql<span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>dependency<span class="token operator">></span>                <span class="token operator">&lt;</span>groupId<span class="token operator">></span>mysql<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>                <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>mysql<span class="token operator">-</span>connector<span class="token operator">-</span>java<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>                <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>mysql<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>                <span class="token operator">&lt;</span>scope<span class="token operator">></span>runtime<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> druid<span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>dependency<span class="token operator">></span>                <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>alibaba<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>                <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>druid<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>                <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>druid<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>            Masicsä¸¶<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>mybatis<span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>dependency<span class="token operator">></span>                <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>                <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>mybatis<span class="token operator">-</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>                <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>junit<span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>dependency<span class="token operator">></span>                <span class="token operator">&lt;</span>groupId<span class="token operator">></span>junit<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>                <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>junit<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>                <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>junit<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>log4j<span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>dependency<span class="token operator">></span>                <span class="token operator">&lt;</span>groupId<span class="token operator">></span>log4j<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>                <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>log4j<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>                <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>log4j<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencyManagement<span class="token operator">></span>      </code></pre><p><img src="/2020/09/25/springcloud/pom-yi-lai/Users\é™ˆè¶…\Desktop\Linux\springboot+cloud\springcloud\scçš„1.png"></p><p><img src="/2020/09/25/springcloud/pom-yi-lai/Users\é™ˆè¶…\Desktop\Linux\springboot+cloud\springcloud\scçš„2.png"></p><h1 id="cloud-pay-8001ä¾èµ–"><a href="#cloud-pay-8001ä¾èµ–" class="headerlink" title="cloud_pay_8001ä¾èµ–:"></a>cloud_pay_8001ä¾èµ–:</h1><pre class=" language-java"><code class="language-java">    <span class="token operator">&lt;</span>dependencies<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> åŒ…å«äº†sleuth zipkin æ•°æ®é“¾è·¯è¿½è¸ª<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>zipkin<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity <span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>eiletxie<span class="token punctuation">.</span>springcloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>cloud<span class="token operator">-</span>api<span class="token operator">-</span>commons<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>project<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>web<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>ç›‘æ§<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>actuator<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>mybatis<span class="token operator">-</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>eureka client<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>eureka<span class="token operator">-</span>client<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>alibaba<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>druid<span class="token operator">-</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>å¦‚æœæ²¡å†™ç‰ˆæœ¬<span class="token punctuation">,</span>ä»çˆ¶å±‚é¢æ‰¾<span class="token punctuation">,</span>æ‰¾åˆ°äº†å°±ç›´æ¥ç”¨<span class="token punctuation">,</span>å…¨å±€ç»Ÿä¸€<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>mysql<span class="token operator">-</span>connector<span class="token operator">-</span>java<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>mysql<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>mysql<span class="token operator">-</span>connector<span class="token operator">-</span>java<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>jdbc<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>jdbc<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>çƒ­éƒ¨ç½²<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>devtools<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>runtime<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>projectlombok<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>lombok<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>test<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>test<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">></span></code></pre><h1 id="Order-80"><a href="#Order-80" class="headerlink" title="Order-80"></a>Order-80</h1><pre class=" language-java"><code class="language-java">    <span class="token operator">&lt;</span>dependencies<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> åŒ…å«äº†sleuth zipkin æ•°æ®é“¾è·¯è¿½è¸ª<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>zipkin<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity <span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>eiletxie<span class="token punctuation">.</span>springcloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>cloud<span class="token operator">-</span>api<span class="token operator">-</span>commons<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>project<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>web<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>ç›‘æ§<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>actuator<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>eureka client<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>eureka<span class="token operator">-</span>client<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>çƒ­éƒ¨ç½²<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>devtools<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>runtime<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>projectlombok<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>lombok<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>test<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>test<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">></span></code></pre><h1 id=""><a href="#" class="headerlink" title=""></a></h1><h1 id="Eureka"><a href="#Eureka" class="headerlink" title="Eureka:"></a>Eureka:</h1><pre class=" language-xml"><code class="language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- eureka-server --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.eiletxie.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${project.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--ç›‘æ§--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- ä¸€èˆ¬é€šç”¨é…ç½® --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><h1 id="8004"><a href="#8004" class="headerlink" title="8004"></a>8004</h1><pre class=" language-xml"><code class="language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.eiletxie.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${project.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--ç›‘æ§--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--SpringBootæ•´åˆZookeeperå®¢æˆ·ç«¯--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-zookeeper-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>                <span class="token comment" spellcheck="true">&lt;!--å…ˆæ’é™¤è‡ªå¸¦çš„zookeeper3.5.3--></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--æ·»åŠ zookeeper3.4.14ç‰ˆæœ¬--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.4.14<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--çƒ­éƒ¨ç½²--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><h1 id="zk-order-80"><a href="#zk-order-80" class="headerlink" title="zk_order_80:"></a>zk_order_80:</h1><pre class=" language-java"><code class="language-java">    <span class="token operator">&lt;</span>dependencies<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity <span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>eiletxie<span class="token punctuation">.</span>springcloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>cloud<span class="token operator">-</span>api<span class="token operator">-</span>commons<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>project<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>web<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>ç›‘æ§<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>actuator<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>SpringBootæ•´åˆZookeeperå®¢æˆ·ç«¯<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>zookeeper<span class="token operator">-</span>discovery<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>exclusions<span class="token operator">></span>                <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>å…ˆæ’é™¤è‡ªå¸¦çš„zookeeper3<span class="token number">.5</span><span class="token punctuation">.</span><span class="token number">3</span><span class="token operator">--</span><span class="token operator">></span>                <span class="token operator">&lt;</span>exclusion<span class="token operator">></span>                    <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>zookeeper<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>                    <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>zookeeper<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>                <span class="token operator">&lt;</span><span class="token operator">/</span>exclusion<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>exclusions<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>æ·»åŠ zookeeper3<span class="token number">.4</span><span class="token punctuation">.</span><span class="token number">14</span>ç‰ˆæœ¬<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>zookeeper<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>zookeeper<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>version<span class="token operator">></span><span class="token number">3.4</span><span class="token punctuation">.</span><span class="token number">14</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>çƒ­éƒ¨ç½²<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>devtools<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>runtime<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>projectlombok<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>lombok<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>test<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>test<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">></span></code></pre><h1 id="Consule"><a href="#Consule" class="headerlink" title="Consule:"></a>Consule:</h1><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>dependencies<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity <span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>eiletxie<span class="token punctuation">.</span>springcloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>cloud<span class="token operator">-</span>api<span class="token operator">-</span>commons<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>project<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>web<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>ç›‘æ§<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>actuator<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>SpringCloud consul<span class="token operator">-</span>server<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>consul<span class="token operator">-</span>discovery<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>çƒ­éƒ¨ç½²<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>devtools<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>runtime<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>projectlombok<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>lombok<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>test<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>test<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">></span></code></pre><h1 id="Consule-order"><a href="#Consule-order" class="headerlink" title="Consule-order"></a>Consule-order</h1><pre class=" language-pom"><code class="language-pom">    <dependencies>        <dependency><!-- å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity -->            <groupId>com.eiletxie.springcloud</groupId>            <artifactId>cloud-api-commons</artifactId>            <version>${project.version}</version>        </dependency>        <dependency>            <groupId>org.springframework.boot</groupId>            <artifactId>spring-boot-starter-web</artifactId>        </dependency>        <!--ç›‘æ§-->        <dependency>            <groupId>org.springframework.boot</groupId>            <artifactId>spring-boot-starter-actuator</artifactId>        </dependency>        <!--SpringCloud consul-server-->        <dependency>            <groupId>org.springframework.cloud</groupId>            <artifactId>spring-cloud-starter-consul-discovery</artifactId>        </dependency>        <!--çƒ­éƒ¨ç½²-->        <dependency>            <groupId>org.springframework.boot</groupId>            <artifactId>spring-boot-devtools</artifactId>            <scope>runtime</scope>            <optional>true</optional>        </dependency>        <dependency>            <groupId>org.projectlombok</groupId>            <artifactId>lombok</artifactId>            <optional>true</optional>        </dependency>        <dependency>            <groupId>org.springframework.boot</groupId>            <artifactId>spring-boot-starter-test</artifactId>            <scope>test</scope>        </dependency>    </dependencies></code></pre><h1 id="OpenFegin"><a href="#OpenFegin" class="headerlink" title="OpenFegin"></a>OpenFegin</h1><pre class=" language-java"><code class="language-java">  <span class="token operator">&lt;</span>dependencies<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity <span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>eiletxie<span class="token punctuation">.</span>springcloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>cloud<span class="token operator">-</span>api<span class="token operator">-</span>commons<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>project<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>web<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> openfeign <span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>openfeign<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>ç›‘æ§<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>actuator<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>eureka client<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>eureka<span class="token operator">-</span>client<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>çƒ­éƒ¨ç½²<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>devtools<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>runtime<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>projectlombok<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>lombok<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>test<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>test<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">></span></code></pre><h1 id="Hystrix"><a href="#Hystrix" class="headerlink" title="Hystrix:"></a>Hystrix:</h1><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>dependencies<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity <span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>eiletxie<span class="token punctuation">.</span>springcloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>cloud<span class="token operator">-</span>api<span class="token operator">-</span>commons<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>project<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>web<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>ç›‘æ§<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>actuator<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> hystrix<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>hystrix<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>eureka client<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>eureka<span class="token operator">-</span>client<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>çƒ­éƒ¨ç½²<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>devtools<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>runtime<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>projectlombok<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>lombok<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>test<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>test<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">></span></code></pre><h1 id="Hystrx-order"><a href="#Hystrx-order" class="headerlink" title="Hystrx-order:"></a>Hystrx-order:</h1><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>dependencies<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity <span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>eiletxie<span class="token punctuation">.</span>springcloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>cloud<span class="token operator">-</span>api<span class="token operator">-</span>commons<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>project<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>web<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> openfeign <span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>openfeign<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>ç›‘æ§<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>actuator<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>hystrix<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>eureka client<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>eureka<span class="token operator">-</span>client<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>çƒ­éƒ¨ç½²<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>devtools<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>runtime<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>projectlombok<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>lombok<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>test<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>test<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">></span></code></pre><h1 id="HystrixDashboard"><a href="#HystrixDashboard" class="headerlink" title="HystrixDashboard"></a>HystrixDashboard</h1><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.eiletxie.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${project.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-hystrix-dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--ç›‘æ§--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-hystrix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--eureka client--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--çƒ­éƒ¨ç½²--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><h1 id="cloud-gateway"><a href="#cloud-gateway" class="headerlink" title="cloud-gateway:"></a>cloud-gateway:</h1><pre class=" language-xml"><code class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.eiletxie.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${project.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--gateway--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-gateway<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--eureka client--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--çƒ­éƒ¨ç½²--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><h1 id="SpringConfig"><a href="#SpringConfig" class="headerlink" title="SpringConfig:"></a>SpringConfig:</h1><pre class=" language-java"><code class="language-java"> <span class="token operator">&lt;</span>dependencies<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>config server<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>config<span class="token operator">-</span>server<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> æ·»åŠ æ¶ˆæ¯æ€»çº¿RabbitMQæ”¯æŒ <span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>bus<span class="token operator">-</span>amqp<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity <span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>eiletxie<span class="token punctuation">.</span>springcloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>cloud<span class="token operator">-</span>api<span class="token operator">-</span>commons<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>project<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>web<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>ç›‘æ§<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>actuator<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>eureka client<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>eureka<span class="token operator">-</span>client<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>çƒ­éƒ¨ç½²<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>devtools<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>runtime<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>projectlombok<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>lombok<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>test<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>test<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">></span></code></pre><h1 id="springConfig-lient"><a href="#springConfig-lient" class="headerlink" title="springConfig-lient:"></a>springConfig-lient:</h1><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- æ·»åŠ æ¶ˆæ¯æ€»çº¿RabbitMQæ”¯æŒ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-bus-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.eiletxie.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${project.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--ç›‘æ§--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--eureka client--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--çƒ­éƒ¨ç½²--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><h1 id="SpringCloudStream-8801"><a href="#SpringCloudStream-8801" class="headerlink" title="SpringCloudStream-8801"></a>SpringCloudStream-8801</h1><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>dependencies<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>web<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>ç›‘æ§<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>actuator<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>eureka client<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>eureka<span class="token operator">-</span>client<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>stream rabbit <span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>stream<span class="token operator">-</span>rabbit<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>çƒ­éƒ¨ç½²<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>devtools<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>runtime<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>projectlombok<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>lombok<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>test<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>test<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">></span></code></pre><h1 id="SpringCloudStream-8802"><a href="#SpringCloudStream-8802" class="headerlink" title="SpringCloudStream-8802"></a>SpringCloudStream-8802</h1><pre class=" language-xml"><code class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--ç›‘æ§--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--eureka client--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--stream rabbit --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-stream-rabbit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--çƒ­éƒ¨ç½²--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><h1 id="alibaba-Nacos-pay"><a href="#alibaba-Nacos-pay" class="headerlink" title="alibaba-Nacos-pay"></a>alibaba-Nacos-pay</h1><pre class=" language-xml"><code class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- SpringCloud ailibaba nacos--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--ç›‘æ§--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--çƒ­éƒ¨ç½²--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><h1 id="alibaba-Nacos-order"><a href="#alibaba-Nacos-order" class="headerlink" title="alibaba-Nacos-order:"></a>alibaba-Nacos-order:</h1><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- SpringCloud ailibaba nacos--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.eiletxie.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${project.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--ç›‘æ§--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--çƒ­éƒ¨ç½²--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><h1 id="Nacos-Config-client"><a href="#Nacos-Config-client" class="headerlink" title="Nacos-Config-client"></a>Nacos-Config-client</h1><pre class=" language-xml"><code class="language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- nacos config--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- SpringCloud ailibaba nacos--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.eiletxie.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${project.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--ç›‘æ§--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--çƒ­éƒ¨ç½²--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><h1 id="Sentinel-8401"><a href="#Sentinel-8401" class="headerlink" title="Sentinel-8401"></a>Sentinel-8401</h1><pre class=" language-java"><code class="language-java">    <span class="token operator">&lt;</span>dependencies<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> SpringCloud ailibaba nacos<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>alibaba<span class="token operator">-</span>nacos<span class="token operator">-</span>discovery<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> SpringCloud ailibaba sentinel<span class="token operator">-</span>datasource<span class="token operator">-</span>nacos æŒä¹…åŒ–éœ€è¦ç”¨åˆ°<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>csp<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>sentinel<span class="token operator">-</span>datasource<span class="token operator">-</span>nacos<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> SpringCloud ailibaba sentinel<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>alibaba<span class="token operator">-</span>sentinel<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity <span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>com<span class="token punctuation">.</span>eiletxie<span class="token punctuation">.</span>springcloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>cloud<span class="token operator">-</span>api<span class="token operator">-</span>commons<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>version<span class="token operator">></span>$<span class="token punctuation">{</span>project<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>openfeign<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>web<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>ç›‘æ§<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>actuator<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>çƒ­éƒ¨ç½²<span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>devtools<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>runtime<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>projectlombok<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>lombok<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>optional<span class="token operator">></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>optional<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>        <span class="token operator">&lt;</span>dependency<span class="token operator">></span>            <span class="token operator">&lt;</span>groupId<span class="token operator">></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>            <span class="token operator">&lt;</span>artifactId<span class="token operator">></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>test<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>            <span class="token operator">&lt;</span>scope<span class="token operator">></span>test<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">></span></code></pre><h1 id="sentinel-9003-9004çš„pom"><a href="#sentinel-9003-9004çš„pom" class="headerlink" title="sentinel-9003,9004çš„pom"></a>sentinel-9003,9004çš„pom</h1><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- SpringCloud ailibaba nacos--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- SpringCloud ailibaba sentinel--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-sentinel<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- å¼•ç”¨è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.eiletxie.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${project.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--ç›‘æ§--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--çƒ­éƒ¨ç½²--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span> </code></pre><h1 id="seta-order-2001"><a href="#seta-order-2001" class="headerlink" title="seta-order-2001"></a>seta-order-2001</h1><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- nacos --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- seata--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-seata<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>      <span class="token comment" spellcheck="true">&lt;!-- å› ä¸ºå…¼å®¹ç‰ˆæœ¬é—®é¢˜,æ‰€ä»¥éœ€è¦å‰”é™¤å®ƒè‡ªå·±çš„seataçš„åŒ… --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>io.seata<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>seata-all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>   //å¼•å…¥æˆ‘ä»¬ä½¿ç”¨çš„è‡ªå·±çš„seataå¯¹åº”çš„ç‰ˆæœ¬çš„ä¾èµ–,è€Œä¸æ˜¯ä½¿ç”¨starteré»˜è®¤çš„ç‰ˆæœ¬    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>io.seata<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>seata-all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.9.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>druid-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--jdbc--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--hutool æµ‹è¯•é›ªèŠ±ç®—æ³•--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>cn.hutool<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hutool-captcha<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span> </code></pre><h1 id="-1"><a href="#-1" class="headerlink" title=""></a></h1>]]></content>
      
      
      <categories>
          
          <category> SpringCloud </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringCloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®æœåŠ¡ï¼ˆSpringCloudã€SpringCloudAlibabaï¼‰</title>
      <link href="/2020/09/24/springcloud/wei-fu-wu-springcloud-springcloudalibaba/"/>
      <url>/2020/09/24/springcloud/wei-fu-wu-springcloud-springcloudalibaba/</url>
      
        <content type="html"><![CDATA[<h1 id="å¾®æœåŠ¡"><a href="#å¾®æœåŠ¡" class="headerlink" title="å¾®æœåŠ¡"></a>å¾®æœåŠ¡</h1><p>å¾®æœåŠ¡æ¶æ„æ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼Œå®ƒæå€¡å°†å•ä¸€åº”ç”¨ç¨‹åºåˆ’åˆ†æˆä¸€ç»„å°çš„æœåŠ¡ï¼ŒæœåŠ¡ä¹‹é—´ç›¸äº’åè°ƒï¼Œç›¸äº’é…åˆï¼Œä¸ºç”¨æˆ·ä½“ç°æœ€ç»ˆä»·å€¼ã€‚æ¯ä¸ªæœåŠ¡è¿è¡Œåœ¨å…¶ç‹¬ç«‹çš„è¿›ç¨‹å½“ä¸­ï¼ŒæœåŠ¡ä¸æœåŠ¡ä¹‹é—´é‡‡ç”¨è½»é‡çº§çš„é€šä¿¡æœºåˆ¶äº’ç›¸åä½œï¼ˆé€šå¸¸æ˜¯åŸºäºhttp/restful APIï¼‰ã€‚</p><h1 id="SpringCloud"><a href="#SpringCloud" class="headerlink" title="SpringCloud"></a>SpringCloud</h1><p>åˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼Œæ˜¯å¤šç§å¾®æœåŠ¡æ¶æ„çš„æŠ€æœ¯é›†åˆä½“ï¼Œä¿—ç§°å¾®æœåŠ¡å…¨å®¶æ¡¶ã€‚</p><h2 id="SpringCloudæŠ€æœ¯æ ˆ"><a href="#SpringCloudæŠ€æœ¯æ ˆ" class="headerlink" title="SpringCloudæŠ€æœ¯æ ˆ"></a>SpringCloudæŠ€æœ¯æ ˆ</h2><p>æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼šEUREKAã€Zookeeperã€consulã€Nacos</p><p>æœåŠ¡è´Ÿè½½ä¸è°ƒç”¨ï¼šRIBBONã€OPEN FEIGN</p><p>æœåŠ¡ç†”æ–­é™çº§ï¼šHYSTRIXã€Sentinel</p><p>æœåŠ¡ç½‘å…³ï¼šZuulï¼ŒGateWay</p><p>æœåŠ¡åˆ†å¸ƒå¼é…ç½®ï¼šSpring Cloud Configã€Nacos</p><p>æœåŠ¡æ¶ˆæ¯æ€»çº¿ï¼šSpring Cloud Busã€Nacos</p><p>æœåŠ¡å¼€å‘ï¼šSpring Boot</p><h2 id="Bootå’ŒCloudæŠ€æœ¯é€‰å‹"><a href="#Bootå’ŒCloudæŠ€æœ¯é€‰å‹" class="headerlink" title="Bootå’ŒCloudæŠ€æœ¯é€‰å‹"></a>Bootå’ŒCloudæŠ€æœ¯é€‰å‹</h2><p>SpringBoot2.Xç‰ˆå’ŒSpringCloud Hç‰ˆ</p><p>SpringCloud Alibaba</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200917232433.png" alt="1"></p><h2 id="å¾®æœåŠ¡æ¶æ„ç¼–ç æ„å»º"><a href="#å¾®æœåŠ¡æ¶æ„ç¼–ç æ„å»º" class="headerlink" title="å¾®æœåŠ¡æ¶æ„ç¼–ç æ„å»º"></a>å¾®æœåŠ¡æ¶æ„ç¼–ç æ„å»º</h2><h3 id="å¾®æœåŠ¡cloudæ•´ä½“èšåˆçˆ¶å·¥ç¨‹Project"><a href="#å¾®æœåŠ¡cloudæ•´ä½“èšåˆçˆ¶å·¥ç¨‹Project" class="headerlink" title="å¾®æœåŠ¡cloudæ•´ä½“èšåˆçˆ¶å·¥ç¨‹Project"></a>å¾®æœåŠ¡cloudæ•´ä½“èšåˆçˆ¶å·¥ç¨‹Project</h3><ul><li><p>çˆ¶å·¥ç¨‹æ­¥éª¤</p><ul><li>1.New Project</li><li>2.èšåˆæ€»å·¥ç¨‹åå­—</li><li>3.Mavené€‰ç‰ˆæœ¬</li><li>4.å·¥ç¨‹åå­—</li><li>5.å­—ç¬¦ç¼–ç </li><li>6.æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»</li><li>7.javaç¼–è¯‘ç‰ˆæœ¬é€‰8</li><li>8.File Typeè¿‡æ»¤</li></ul></li><li><p>Mavenå·¥ç¨‹è½åœ°ç»†èŠ‚å¤ä¹ </p><ul><li>Mavenä¸­çš„dependencyManagementå’Œdependencies<ul><li>dependencyManagementï¼šåªåœ¨çˆ¶å·¥ç¨‹ä¸­å‡ºç°ï¼Œç”¨äºç‰ˆæœ¬å›ºå®šï¼Œä¸ä¼šå¼•å…¥JaråŒ…</li></ul></li><li>mavenä¸­è·³è¿‡å•å…ƒæµ‹è¯•</li></ul></li><li><p>çˆ¶å·¥ç¨‹åˆ›å»ºå®Œæˆæ‰§è¡Œmvn:installå°†çˆ¶å·¥ç¨‹å‘å¸ƒåˆ°ä»“åº“æ–¹ä¾¿å­å·¥ç¨‹ç»§æ‰¿</p></li></ul><h3 id="åˆ›å»ºå­æ¨¡å—-payæ¨¡å—"><a href="#åˆ›å»ºå­æ¨¡å—-payæ¨¡å—" class="headerlink" title="åˆ›å»ºå­æ¨¡å—,payæ¨¡å—"></a>åˆ›å»ºå­æ¨¡å—,payæ¨¡å—</h3><ol><li>åˆ›å»ºmodule</li><li>æ”¹pom</li><li>å†™yml</li><li>ä¸»å¯åŠ¨</li><li>ä¸šåŠ¡ç±»</li></ol><h4 id="ä¸šåŠ¡ç±»"><a href="#ä¸šåŠ¡ç±»" class="headerlink" title="ä¸šåŠ¡ç±»"></a>ä¸šåŠ¡ç±»</h4><ol><li><p>sql</p></li><li><p>å®ä½“ç±»</p><ol><li>CommonResultç±»</li><li>å®ä½“ç±»</li></ol></li><li><p>dao</p><ol><li><p>æ¥å£</p></li><li><p>mabatisæ˜ å°„æ–‡ä»¶</p><p>åœ¨resourceä¸‹,åˆ›å»ºmapper/PayMapper.xml</p></li></ol></li><li><p>service</p><ol><li>service</li><li>impl</li></ol></li><li><p>controller</p></li></ol><h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><ul><li><p><code>postman</code>æ¨¡æ‹Ÿpostè¯·æ±‚</p></li><li><p>åˆ‡æ¢Run DashBoardè¿è¡Œçª—å£ï¼ˆåˆ†å¸ƒå¼çš„è¿è¡Œçª—å£ï¼‰</p><ul><li>åœ¨é¡¹ç›®è·¯å¾„çš„.idea/workspace.xml</li></ul><pre><code>å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š&lt;option name="configurationTypes"&gt;      &lt;set&gt;        &lt;option value="SpringBootApplicationConfigurationType" /&gt;      &lt;/set&gt;    &lt;/option&gt;</code></pre></li></ul><h3 id="çƒ­éƒ¨ç½²"><a href="#çƒ­éƒ¨ç½²" class="headerlink" title="çƒ­éƒ¨ç½²"></a>çƒ­éƒ¨ç½²</h3><h3 id="orderæ¨¡å—"><a href="#orderæ¨¡å—" class="headerlink" title="orderæ¨¡å—"></a>orderæ¨¡å—</h3><ol><li>åˆ›å»ºmodule</li><li>æ”¹pom</li><li>å†™yml</li><li>ä¸»å¯åŠ¨</li><li>ä¸šåŠ¡ç±»</li></ol><h4 id="ä¸šåŠ¡ç±»-1"><a href="#ä¸šåŠ¡ç±»-1" class="headerlink" title="ä¸šåŠ¡ç±»"></a>ä¸šåŠ¡ç±»</h4><ol><li><p>å¤åˆ¶payæ¨¡å—çš„å®ä½“ç±»,entityç±»</p></li><li><p>å†™controllerç±»</p><p>å› ä¸ºè¿™é‡Œæ˜¯æ¶ˆè´¹è€…ç±»,ä¸»è¦æ˜¯æ¶ˆè´¹,é‚£ä¹ˆå°±æ²¡æœ‰serviceå’Œdao,éœ€è¦è°ƒç”¨payæ¨¡å—çš„æ–¹æ³•</p><p>å¹¶ä¸”è¿™é‡Œè¿˜æ²¡æœ‰å¾®æœåŠ¡çš„è¿œç¨‹è°ƒç”¨,é‚£ä¹ˆå¦‚æœè¦è°ƒç”¨å¦å¤–ä¸€ä¸ªæ¨¡å—,åˆ™éœ€è¦ä½¿ç”¨åŸºæœ¬çš„apiè°ƒç”¨</p><p>ä½¿ç”¨RestTemplateè°ƒç”¨payæ¨¡å—</p><p>RestTemplate(çœ‹è„‘å›¾)ï¼šç”¨äºæœåŠ¡é—´çš„è°ƒç”¨</p><blockquote><p>æ³¨æ„ï¼šä½¿ç”¨RestTemplateè°ƒç”¨æœåŠ¡ä¼ è¾“çš„æ˜¯jsonæ•°æ®ï¼Œspringbootå¹¶ä¸èƒ½ç›´æ¥å°è£…è¿›å¯¹è±¡ä¸­ã€‚éœ€è¦åœ¨è½¬å‘è¿‡å»çš„æ–¹æ³•ä¸­ï¼ˆå³8001ï¼‰ä½¿ç”¨@RequestBodyè®©jsonæ•°æ®å°è£…è¿›å¯¹è±¡ä¸­ï¼Œæ‰èƒ½åŠ å…¥åˆ°æ•°æ®åº“é‡Œã€‚ä¹‹å‰æˆåŠŸæ˜¯å› ä¸ºurlæäº¤çš„æ˜¯è¡¨å•æ•°æ®ï¼Œéjsonæ•°æ®</p></blockquote></li></ol><h3 id="å·¥ç¨‹é‡æ„ï¼ˆè§£å†³entityé‡å¤ï¼‰"><a href="#å·¥ç¨‹é‡æ„ï¼ˆè§£å†³entityé‡å¤ï¼‰" class="headerlink" title="å·¥ç¨‹é‡æ„ï¼ˆè§£å†³entityé‡å¤ï¼‰"></a>å·¥ç¨‹é‡æ„ï¼ˆè§£å†³entityé‡å¤ï¼‰</h3><h2 id="EurekaæœåŠ¡æ³¨å†Œä¸å‘ç°"><a href="#EurekaæœåŠ¡æ³¨å†Œä¸å‘ç°" class="headerlink" title="EurekaæœåŠ¡æ³¨å†Œä¸å‘ç°"></a>EurekaæœåŠ¡æ³¨å†Œä¸å‘ç°</h2><p>å½“æœåŠ¡å¾ˆå¤šæ—¶,æ¯ä¸ªæœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ä¼šæ¯”è¾ƒå¤æ‚ï¼Œç®¡ç†èµ·æ¥æ›´ä¸ºå¤æ‚ï¼Œéœ€è¦æœåŠ¡ç®¡ç†æœåŠ¡é—´çš„ä¾èµ–å…³ç³»ï¼Œå®ç°è´Ÿè½½å‡è¡¡ã€æœåŠ¡è°ƒç”¨ç­‰ï¼Œå®ç°æœåŠ¡æ³¨å†Œä¸å‘ç°ã€‚</p><p>Eurekaé‡‡ç”¨CSè®¾è®¡æ¶æ„ï¼Œserveræ˜¯æœåŠ¡å™¨ï¼Œä¹Ÿæ˜¯æ³¨å†Œä¸­å¿ƒï¼Œå½“eurekaå®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œè¿™æ ·ç»´æŠ¤äººå‘˜å°±å¯ä»¥åœ¨æœåŠ¡å™¨ç›‘æ§å„ä¸ªæœåŠ¡çš„æ­£å¸¸è¿è¡Œã€‚</p><p>å½“æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œå°±ä¼šæŠŠè‡ªå·±çš„æœåŠ¡å™¨ä¿¡æ¯ä»¥åˆ«åçš„æ–¹å¼æ³¨å†Œåœ¨æ³¨å†Œä¸­å¿ƒï¼Œæ¶ˆè´¹è€…ï¼ŒæœåŠ¡æä¾›è€…éƒ½ä»¥åˆ«åçš„æ–¹å¼è·å–è¯¥æœåŠ¡çš„é€šè®¯åœ°å€ï¼Œå®ç°æœ¬åœ°çš„RPCè°ƒç”¨æ€æƒ³ï¼šä½¿ç”¨æ³¨å†Œä¸­å¿ƒç®¡ç†æ¯ä¸ªæœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</p><p><strong>Eurekaçš„ä¸¤ä¸ªç»„ä»¶</strong>ï¼š</p><ol><li><p>å®¢æˆ·ç«¯ï¼šåœ¨å„ä¸ªæœåŠ¡ä¸Šï¼Œæ¯”å¦‚ç™»å½•å¾®æœåŠ¡ï¼Œå¯åŠ¨åä¼šç»™æœåŠ¡å™¨å‘é€å¿ƒè·³ï¼Œè¯æ˜è‡ªå·±è¿˜å­˜æ´»</p></li><li><p>æœåŠ¡å™¨ï¼šæœåŠ¡å™¨ç«¯ï¼Œç”¨äºæ¥æ”¶å¿ƒè·³ï¼ˆç±»ä¼¼å·¥å•†ç®¡ç†å±€ï¼‰</p></li></ol><h3 id="å•æœºç‰ˆEureka"><a href="#å•æœºç‰ˆEureka" class="headerlink" title="å•æœºç‰ˆEureka"></a>å•æœºç‰ˆEureka</h3><h4 id="æœåŠ¡å™¨åˆ›å»º"><a href="#æœåŠ¡å™¨åˆ›å»º" class="headerlink" title="æœåŠ¡å™¨åˆ›å»º"></a>æœåŠ¡å™¨åˆ›å»º</h4><ol><li><p>åˆ›å»ºé¡¹ç›®cloud_eureka_server_7001</p></li><li><p>å¼•å…¥pomä¾èµ–</p><p>Eurekaæ–°ç‰ˆæœ¬</p></li><li><p>å†™yml</p></li><li><p>ä¸»å¯åŠ¨</p><p>åŠ ä¸Š@EnableEurekaServerï¼Œè¡¨ç¤ºæœåŠ¡æ˜¯server</p></li><li><p>æµ‹è¯•</p></li></ol><h4 id="æ³¨å†Œå®¢æˆ·ç«¯8001è¿›æœåŠ¡å™¨æˆä¸ºæœåŠ¡æä¾›è€…provider"><a href="#æ³¨å†Œå®¢æˆ·ç«¯8001è¿›æœåŠ¡å™¨æˆä¸ºæœåŠ¡æä¾›è€…provider" class="headerlink" title="æ³¨å†Œå®¢æˆ·ç«¯8001è¿›æœåŠ¡å™¨æˆä¸ºæœåŠ¡æä¾›è€…provider"></a>æ³¨å†Œå®¢æˆ·ç«¯8001è¿›æœåŠ¡å™¨æˆä¸ºæœåŠ¡æä¾›è€…provider</h4><h4 id="å…¶ä»–æœåŠ¡æ³¨å†Œè¿›æœåŠ¡å™¨"><a href="#å…¶ä»–æœåŠ¡æ³¨å†Œè¿›æœåŠ¡å™¨" class="headerlink" title="å…¶ä»–æœåŠ¡æ³¨å†Œè¿›æœåŠ¡å™¨"></a>å…¶ä»–æœåŠ¡æ³¨å†Œè¿›æœåŠ¡å™¨</h4><p>8001ã€80éƒ½æ³¨å†Œè¿›å»</p><ol><li><p>æ”¹pomä¾èµ–</p></li><li><p>å†™Yml</p></li><li><p>ä¸»å¯åŠ¨</p><p>åŠ ä¸Š@EnableEurekaClient</p></li><li><p>æœåŠ¡æ¨¡å—é‡å¯</p></li></ol><h3 id="é›†ç¾¤Eureka"><a href="#é›†ç¾¤Eureka" class="headerlink" title="é›†ç¾¤Eureka"></a>é›†ç¾¤Eureka</h3><p><strong>é›†ç¾¤åŸç†</strong>ï¼š</p><p>æœåŠ¡æ³¨å†Œï¼šå°†æœåŠ¡ä¿¡æ¯æ³¨å†Œè¿›æ³¨å†Œä¸­å¿ƒ</p><p>æœåŠ¡å‘ç°ï¼šä»æ³¨å†Œä¸­å¿ƒè·å–æœåŠ¡ä¿¡æ¯</p><p>å®è´¨ï¼škeyæœåŠ¡åï¼Œvalueè°ƒç”¨åœ°å€</p><ul><li>å…ˆå¯åŠ¨æ³¨å†Œä¸­å¿ƒï¼Œå†å¯åŠ¨æœåŠ¡ï¼ŒæœåŠ¡å¯åŠ¨æ—¶ä¼šå°†ä¿¡æ¯ä»¥åˆ«åçš„æ–¹å¼æ³¨å†Œè¿›æ³¨å†Œä¸­å¿ƒï¼Œæ¶ˆè´¹è€…å¯ä»¥é€šè¿‡ä½¿ç”¨æœåŠ¡çš„åˆ«ååœ¨æ³¨å†Œä¸­å¿ƒè·å–RPCè¿œç¨‹è°ƒç”¨åœ°å€ï¼Œåº•å±‚ä½¿ç”¨çš„æ˜¯HttpClientå®ç°çš„è¿œç¨‹è°ƒç”¨ã€‚åœ¨æ¶ˆè´¹è€…è·å–æœåŠ¡åœ°å€ä¹‹åï¼Œå°±ä¼šå°†å…¶ç¼“å­˜åœ¨jvmå†…å­˜ä¸­ï¼Œæ²¡30ç§’æ›´æ–°ä¸€æ¬¡</li><li>RPCè¿œç¨‹è°ƒç”¨æœ€æ ¸å¿ƒçš„å°±æ˜¯ï¼šé«˜å¯ç”¨ï¼Œä¸€ä¸ªç˜«ç—ªï¼Œå…¨éƒ¨å‡å¤©ã€‚æ‰€ä»¥é›†ç¾¤æœ‰å¤šä¸ªç»„æˆï¼Œå¹¶ä¸”<strong>äº’ç›¸æ³¨å†Œï¼Œç›¸äº’å®ˆæœ›</strong>ï¼Œå¦‚ï¼šæœ‰3å°æœåŠ¡å™¨ï¼Œåˆ™1æ³¨å†Œ12ï¼Œ2-13ï¼Œ3-12</li></ul><h4 id="æ„å»ºæ–°eruekaæœåŠ¡å™¨"><a href="#æ„å»ºæ–°eruekaæœåŠ¡å™¨" class="headerlink" title="æ„å»ºæ–°eruekaæœåŠ¡å™¨"></a>æ„å»ºæ–°eruekaæœåŠ¡å™¨</h4><ol><li>cloud_eureka_server_7002</li><li>pomæ–‡ä»¶ï¼šç²˜è´´7001çš„</li><li>é…ç½®æ–‡ä»¶<ol><li>ä¿®æ”¹æœ¬åœ°çš„hostæ–‡ä»¶ï¼ˆçœ‹è„‘å›¾ï¼Œéyamlï¼‰</li><li>ä¿®æ”¹ymlï¼Œè¿›è¡Œç›¸äº’æ³¨å†Œï¼ˆæ³¨æ„defautlZoneï¼‰ï¼Œ7001ï¼Œ7002éƒ½è¦ä¿®æ”¹</li></ol></li><li>ä¸»å¯åŠ¨ç±»</li><li>å¯åŠ¨æµ‹è¯•</li></ol><h4 id="å°†æœåŠ¡æ¨¡å—æ³¨å†Œè¿›é›†ç¾¤ä¸­"><a href="#å°†æœåŠ¡æ¨¡å—æ³¨å†Œè¿›é›†ç¾¤ä¸­" class="headerlink" title="å°†æœåŠ¡æ¨¡å—æ³¨å†Œè¿›é›†ç¾¤ä¸­"></a>å°†æœåŠ¡æ¨¡å—æ³¨å†Œè¿›é›†ç¾¤ä¸­</h4><ol><li>ä¿®æ”¹ymlæ–‡ä»¶ï¼ˆdefaultZoneåŠ ä¸€æ¡å³å¯ï¼Œä¸¤ä¸ªæ¨¡å—éƒ½è¦åŠ ï¼‰</li><li>å¯åŠ¨æ¨¡å—ï¼Œå…ˆå¯åŠ¨æœåŠ¡å™¨7001ï¼Œ7002ï¼Œå†å¯åŠ¨8001ï¼Œä¹‹åæ˜¯80</li><li>æµ‹è¯•</li></ol><h4 id="æ„å»ºæ–°çš„æœåŠ¡æä¾›è€…8001é›†ç¾¤"><a href="#æ„å»ºæ–°çš„æœåŠ¡æä¾›è€…8001é›†ç¾¤" class="headerlink" title="æ„å»ºæ–°çš„æœåŠ¡æä¾›è€…8001é›†ç¾¤"></a>æ„å»ºæ–°çš„æœåŠ¡æä¾›è€…8001é›†ç¾¤</h4><ol><li>åˆ›å»ºæ–°æ¨¡å—,8002ï¼ˆcloud_pay_8002ï¼‰</li><li>pomæ–‡ä»¶,å¤åˆ¶8001çš„</li><li>ymlæ–‡ä»¶ä¿®æ”¹ç«¯å£ï¼ˆæœåŠ¡åç§°ä¸ç”¨æ”¹ï¼Œç”¨ä¸€æ ·çš„ï¼Œä¸ºçš„æ˜¯ä¸ºæ¶ˆè´¹è€…æš´éœ²ä¸€æ ·çš„åˆ«åï¼‰</li><li>ä¸»å¯åŠ¨ç±»,å¤åˆ¶8001çš„</li><li>mapper,service,controlleréƒ½å¤åˆ¶ä¸€ä»½</li><li>å®ç°è´Ÿè½½å‡è¡¡<ol><li>controllerçš„urlä¸èƒ½å†™æ­»ï¼Œæ”¹æˆå¾®æœåŠ¡åç§°ï¼Œè¿™æ ·æ¯æ¬¡è®¿é—®å°±ä¼šä»eurekaä¸­æ‹¿åœ°å€ï¼Œè½®è¯¢</li><li>åœ¨æ³¨å†Œbeançš„restTemplateæ–¹æ³•ä¸ŠåŠ ä¸Š@LoadBalancedå¼€å¯è´Ÿè½½å‡è¡¡</li></ol></li></ol><h3 id="ä¿®æ”¹æœåŠ¡ä¸»æœºåå’Œipåœ¨eurekaçš„webä¸Šæ˜¾ç¤º"><a href="#ä¿®æ”¹æœåŠ¡ä¸»æœºåå’Œipåœ¨eurekaçš„webä¸Šæ˜¾ç¤º" class="headerlink" title="ä¿®æ”¹æœåŠ¡ä¸»æœºåå’Œipåœ¨eurekaçš„webä¸Šæ˜¾ç¤º"></a>ä¿®æ”¹æœåŠ¡ä¸»æœºåå’Œipåœ¨eurekaçš„webä¸Šæ˜¾ç¤º</h3><p>ä½œç”¨ï¼šä¿®æ”¹åœ¨eurekaæ˜¾ç¤ºçš„é»˜è®¤ä¸»æœºåï¼Œé¼ æ ‡ç§»åˆ°ä¸»æœºåä¼šæ˜¾ç¤ºip</p><ol><li>ä¿®æ”¹ymlæ–‡ä»¶</li></ol><h3 id="eurekaæœåŠ¡å‘ç°"><a href="#eurekaæœåŠ¡å‘ç°" class="headerlink" title="eurekaæœåŠ¡å‘ç°:"></a>eurekaæœåŠ¡å‘ç°:</h3><p>å¯¹äºæ³¨å†Œè¿›eurekaé‡Œé¢çš„å¾®æœåŠ¡ï¼Œå¯ä»¥é€šè¿‡æœåŠ¡å‘ç°æ¥è·å–è¯¥æœåŠ¡çš„ä¿¡æ¯</p><ol><li>åœ¨controllerè‡ªåŠ¨æ³¨å…¥DiscoveryClient</li><li>ç”¨æ–¹æ³•è·å–å„ç§ä¿¡æ¯ï¼ˆæ‰€æœ‰æœåŠ¡é›†ç¾¤ã€æœåŠ¡é›†ç¾¤ä¸­çš„æœåŠ¡åã€IPã€ç«¯å£ã€URIï¼‰</li><li>ä¸»å¯åŠ¨ç±»åŠ å…¥æ³¨è§£ï¼š@EnableDiscoveryClient</li><li>é‡å¯æµ‹è¯•</li></ol><h3 id="Eurekaè‡ªæˆ‘ä¿æŠ¤æœºåˆ¶"><a href="#Eurekaè‡ªæˆ‘ä¿æŠ¤æœºåˆ¶" class="headerlink" title="Eurekaè‡ªæˆ‘ä¿æŠ¤æœºåˆ¶"></a>Eurekaè‡ªæˆ‘ä¿æŠ¤æœºåˆ¶</h3><ul><li><p>æŸä¸ªå¾®æœåŠ¡ä¸å¯ç”¨æ—¶ï¼ˆå®¢æˆ·ç«¯æ²¡æœ‰å®šæ—¶å‘æœåŠ¡å™¨ç«¯å‘é€å¿ƒè·³åŒ…ï¼‰ï¼ŒEurekaä¸ä¼šç«‹åˆ»å°†å…¶æ¸…ç†ï¼Œä¾æ—§ä¼šå¯¹è¯¥æœåŠ¡ä¿¡æ¯è¿›è¡Œä¿å­˜ã€‚</p></li><li><p>Eurekaå±äºCAPä¸­çš„APåˆ†æ”¯ï¼ˆé«˜å¯ç”¨ï¼‰</p><ul><li>CAPï¼š<ul><li>Cï¼šé«˜ä¸€è‡´æ€§</li><li>Aï¼šé«˜å¯ç”¨</li><li>Pï¼šé«˜å®¹é”™ï¼ˆå› ä¸ºåˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„éƒ½éœ€è¦é«˜å®¹é”™ï¼ŒPå¿…å¤‡ï¼‰</li></ul></li><li>APï¼šEureka</li><li>CPï¼šZookeeper/Consul</li></ul></li></ul><p><strong>å¦‚ä½•ç¦æ­¢è‡ªæˆ‘ä¿æŠ¤ï¼š</strong></p><p>æ­¤æ—¶å¯åŠ¨eruekaå’Œpay.æ­¤æ—¶å¦‚æœç›´æ¥å…³é—­äº†pay,é‚£ä¹ˆeruekaä¼šç›´æ¥åˆ é™¤å…¶æ³¨å†Œä¿¡æ¯</p><p>ä¿®æ”¹ymlæ–‡ä»¶</p><ol><li>æ³¨å†Œä¸­å¿ƒserver<ol><li>å…³é—­è‡ªæˆ‘ä¿æŠ¤</li><li>è®¾ç½®æ¥æ”¶å¿ƒè·³æ—¶é—´ï¼ˆæµ‹è¯•ç”¨ï¼‰</li></ol></li><li>å®¢æˆ·ç«¯client<ol><li>è®¾ç½®å‘é€å¿ƒè·³æ—¶é—´</li><li>è®¾ç½®æœåŠ¡ç«¯åœ¨æ”¶åˆ°æœ€åä¸€æ¬¡å¿ƒè·³ç­‰å¾…ä¸Šé™</li></ol></li><li>æµ‹è¯•</li></ol><h2 id="ZookeeperæœåŠ¡æ³¨å†Œä¸å‘ç°"><a href="#ZookeeperæœåŠ¡æ³¨å†Œä¸å‘ç°" class="headerlink" title="ZookeeperæœåŠ¡æ³¨å†Œä¸å‘ç°"></a>ZookeeperæœåŠ¡æ³¨å†Œä¸å‘ç°</h2><h3 id="æ³¨å†Œä¸­å¿ƒæœåŠ¡å™¨Zookeeper"><a href="#æ³¨å†Œä¸­å¿ƒæœåŠ¡å™¨Zookeeper" class="headerlink" title="æ³¨å†Œä¸­å¿ƒæœåŠ¡å™¨Zookeeper"></a>æ³¨å†Œä¸­å¿ƒæœåŠ¡å™¨Zookeeper</h3><ol><li>å®ƒæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒå·¥å…·ï¼Œå¯ä»¥å®ç°æ³¨å†Œä¸­å¿ƒåŠŸèƒ½</li><li>å…³é—­linuxæœåŠ¡å™¨é˜²ç«å¢™ï¼Œå¯åŠ¨zookeeperæœåŠ¡å™¨</li></ol><h3 id="æœåŠ¡æä¾›è€…ï¼Œå®¢æˆ·ç«¯"><a href="#æœåŠ¡æä¾›è€…ï¼Œå®¢æˆ·ç«¯" class="headerlink" title="æœåŠ¡æä¾›è€…ï¼Œå®¢æˆ·ç«¯"></a>æœåŠ¡æä¾›è€…ï¼Œå®¢æˆ·ç«¯</h3><ol><li><p>åˆ›å»ºæ–°çš„payæœåŠ¡æ¨¡å—</p><p>cloud_pay_8003ï¼Œå•ç‹¬ç”¨äºæ³¨å†Œåˆ°zkä¸­  </p><ol><li><p>pomä¾èµ–</p></li><li><p>ymlé…ç½®æ–‡ä»¶ï¼ˆç«¯å£å·ï¼ŒæœåŠ¡åˆ«åï¼ŒzookeeperæœåŠ¡å™¨ip+ç«¯å£å·ï¼‰</p></li><li><p>ä¸»å¯åŠ¨</p></li><li><p>controller</p></li><li><p>ä¿®æ”¹zkç‰ˆæœ¬å’Œjarå†²çª</p><p>è§£å†³:</p><pre><code>    ä¿®æ”¹pomæ–‡ä»¶,æ”¹ä¸ºä¸æˆ‘ä»¬zkç‰ˆæœ¬åŒ¹é…çš„jaråŒ…</code></pre></li><li><p>å¯åŠ¨ï¼Œæ­¤æ—¶8003å°±æ³¨å†Œåˆ°zkä¸­äº†</p><ul><li><p>æ­¤æ—¶æœåŠ¡å°±ä¼šä½œä¸º<strong>ä¸´æ—¶èŠ‚ç‚¹</strong>å­˜å…¥zkä¸­ï¼Œä¿¡æ¯ä½œä¸ºæµæ°´å·å­˜åœ¨ä¸´æ—¶èŠ‚ç‚¹ä¸­ã€‚</p></li><li><p>å½“æˆ‘ä»¬çš„æœåŠ¡ä¸€å®šæ—¶é—´å†…æ²¡æœ‰å‘é€å¿ƒè·³</p><pre><code>  é‚£ä¹ˆzkå°±ä¼šå°†è¿™ä¸ªæœåŠ¡çš„nodeåˆ é™¤äº†</code></pre></li><li><p>è¿™é‡Œæ˜¯æµ‹è¯•,å°±ä¸å†™serviceä¸daoä»€ä¹ˆçš„äº†</p></li></ul></li></ol></li></ol><h3 id="æœåŠ¡æ¶ˆè´¹è€…"><a href="#æœåŠ¡æ¶ˆè´¹è€…" class="headerlink" title="æœåŠ¡æ¶ˆè´¹è€…"></a>æœåŠ¡æ¶ˆè´¹è€…</h3><ol><li>cloud_order_zk_80</li><li>pom</li><li>ymlé…ç½®æ–‡ä»¶</li><li>ä¸»å¯åŠ¨</li><li>restTemplate</li><li>controller</li><li>å¯åŠ¨æ³¨å†Œ</li></ol><h3 id="é›†ç¾¤zkçš„æ³¨å†Œ"><a href="#é›†ç¾¤zkçš„æ³¨å†Œ" class="headerlink" title="é›†ç¾¤zkçš„æ³¨å†Œ"></a>é›†ç¾¤zkçš„æ³¨å†Œ</h3><ol><li>zookeeperæ•™å­¦ä¸­çš„é›†ç¾¤æ­å»º</li><li>æœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…åœ¨é…ç½®æ–‡ä»¶ä¸­connect-stringæŒ‡å®šå¤šä¸ªzkåœ°å€å³å¯ â€œï¼Œâ€éš”å¼€</li></ol><h2 id="ConsulæœåŠ¡æ³¨å†Œä¸å‘ç°"><a href="#ConsulæœåŠ¡æ³¨å†Œä¸å‘ç°" class="headerlink" title="ConsulæœåŠ¡æ³¨å†Œä¸å‘ç°"></a>ConsulæœåŠ¡æ³¨å†Œä¸å‘ç°</h2><p>å®ƒæ˜¯ä¸€ä¸ªæœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†ç³»ç»Ÿ</p><p>ä½œç”¨ï¼šæœåŠ¡å‘ç°ã€å¥åº·æ£€æµ‹ã€KVå­˜å‚¨ã€å¯è§†åŒ–webç•Œé¢</p><h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h3><ol><li>éœ€è¦ä¸‹è½½ä¸€ä¸ªå®‰è£…åŒ…ï¼Œæ˜¯ä¸ªexeæ–‡ä»¶</li><li>å¯åŠ¨æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œç•Œé¢,éœ€è¦è¾“å…¥consul agen-devå¯åŠ¨</li><li>localhost:8500æŸ¥çœ‹é¡µé¢</li></ol><h3 id="åˆ›å»ºæœåŠ¡æä¾›è€…æ¨¡å—pay-8006"><a href="#åˆ›å»ºæœåŠ¡æä¾›è€…æ¨¡å—pay-8006" class="headerlink" title="åˆ›å»ºæœåŠ¡æä¾›è€…æ¨¡å—pay,8006"></a>åˆ›å»ºæœåŠ¡æä¾›è€…æ¨¡å—pay,8006</h3><ol><li>cloud_consule_pay_8006</li><li>pomä¾èµ–</li><li>ymlé…ç½®æ–‡ä»¶ï¼ˆéœ€è¦å†™æœåŠ¡çš„åå­—ï¼‰</li><li>ä¸»å¯åŠ¨ç±»</li><li>controller</li><li>å¯åŠ¨æœåŠ¡ï¼Œè§‚å¯Ÿæ˜¯å¦æ³¨å†Œè¿›å»</li></ol><h3 id="åˆ›å»ºæ¶ˆè´¹è€…æ¨¡å—order"><a href="#åˆ›å»ºæ¶ˆè´¹è€…æ¨¡å—order" class="headerlink" title="åˆ›å»ºæ¶ˆè´¹è€…æ¨¡å—order"></a>åˆ›å»ºæ¶ˆè´¹è€…æ¨¡å—order</h3><ol><li><p>cloud-consul-order-80</p></li><li><p>pomä¾èµ–</p></li><li><p>ymlé…ç½®æ–‡ä»¶ï¼ˆéœ€è¦å†™æœåŠ¡çš„åå­—ï¼‰</p></li><li><p>ä¸»å¯åŠ¨ç±»</p></li><li><p>RestTemplateæ³¨å†Œ</p><p>é…ç½®ç±»æ³¨å†Œ</p></li><li><p>controller</p></li><li><p>å¯åŠ¨æœåŠ¡,æµ‹è¯•æ˜¯å¦æ³¨å†Œè¿›å»ï¼Œæµ‹è¯•æ–¹æ³•æ˜¯å¦æˆåŠŸæ‰§è¡Œ</p></li></ol><h2 id="ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒçš„å¼‚åŒ"><a href="#ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒçš„å¼‚åŒ" class="headerlink" title="ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒçš„å¼‚åŒ"></a>ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒçš„å¼‚åŒ</h2><p>Eurekaï¼šAPï¼Œä»¥é«˜å¯ç”¨ä¸ºåŸåˆ™ï¼ˆå¦‚Eurekaçš„è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼šå®•æœºä¾ç„¶ä¿ç•™æ•°æ®ï¼‰</p><p>Consul/Zookeeperï¼šCPï¼Œä»¥é«˜ä¸€è‡´æ€§ä¸ºåŸåˆ™ï¼Œï¼ˆå¦‚Zookeeperçš„ä¸´æ—¶èŠ‚ç‚¹ï¼šå®•æœºç›´æ¥è¸¢å‡ºï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200919144043.png" alt="zhuce1"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200919144116.png" alt="zhuce2"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200919144127.png" alt="zhuce3"></p><h2 id="Ribbonè´Ÿè½½å‡è¡¡æœåŠ¡è°ƒç”¨"><a href="#Ribbonè´Ÿè½½å‡è¡¡æœåŠ¡è°ƒç”¨" class="headerlink" title="Ribbonè´Ÿè½½å‡è¡¡æœåŠ¡è°ƒç”¨"></a>Ribbonè´Ÿè½½å‡è¡¡æœåŠ¡è°ƒç”¨</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>å®ƒæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œæä¾›å®¢æˆ·ç«¯ï¼ˆæœåŠ¡æä¾›è€…ï¼‰çš„è½¯ä»¶è´Ÿè½½å‡è¡¡ç®—æ³•å’ŒæœåŠ¡è°ƒç”¨ã€‚</p><p>ä½œç”¨ï¼šLBè´Ÿè½½å‡è¡¡ï¼ˆé›†ä¸­å¼è´Ÿè½½å‡è¡¡ï¼Œè¿›ç¨‹å†…è´Ÿè½½å‡è¡¡ï¼‰</p><ul><li>è´Ÿè½½å‡è¡¡ï¼šå°†ç”¨æˆ·çš„è¯·æ±‚å¹³æ‘Šåœ¨å¤šä¸ªæœåŠ¡ä¸Šï¼Œå®ç°é«˜å¯ç”¨</li></ul><p><strong>Ribbonæœ¬åœ°è´Ÿè½½å‡è¡¡å’ŒNginxæœåŠ¡ç«¯è´Ÿè½½å‡è¡¡çš„åŒºåˆ«</strong></p><p>Nginxæ˜¯æœåŠ¡å™¨ç«¯çš„è´Ÿè½½å‡è¡¡ï¼Œå®¢æˆ·ç«¯å°†è¯·æ±‚äº¤ç»™nginxï¼Œnginxå®ç°è½¬å‘è¯·æ±‚</p><p>ribbonæ˜¯å®¢æˆ·ç«¯çš„è´Ÿè½½å‡è¡¡ï¼Œä¼šåœ¨æ³¨å†Œä¸­å¿ƒæ‹¿åˆ°æ³¨å†Œä¸­å¿ƒçš„ä¿¡æ¯æœåŠ¡åˆ—è¡¨åŠ åˆ°ç¼“å­˜ä¸­ï¼Œä»è€Œåœ¨æœ¬åœ°å®ç°RPCè¿œç¨‹æœåŠ¡è°ƒç”¨</p><p><strong>å·¥ä½œæœºåˆ¶</strong></p><p>Ribbonå°±æ˜¯è´Ÿè½½å‡è¡¡+RestTemplateï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªè½¯è´Ÿè½½å‡è¡¡çš„<strong>å®¢æˆ·ç«¯</strong>ç»„ä»¶ï¼Œéœ€è¦å’Œå…¶ä»–<strong>å®¢æˆ·ç«¯</strong>ç»“åˆèµ·æ¥ï¼Œå¦‚å’Œeurekaç»“åˆ</p><ol><li>åœ¨é€‰æ‹©EurekaServerï¼Œå®ƒä¼˜å…ˆé€‰æ‹©åœ¨åŒä¸€åŒºåŸŸçš„è´Ÿè½½è¾ƒå°‘çš„server</li><li>æ ¹æ®ç”¨æˆ·çš„æŒ‡å®šç­–ç•¥ï¼ˆè½®è¯¢ã€éšæœºã€åŠ æƒï¼‰ï¼Œåœ¨serveré‡Œå–åˆ°ä¿¡æ¯ï¼Œè¿›è¡Œè°ƒç”¨</li></ol><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ol><li><p>å¼•å…¥jaråŒ…ï¼Œä½†é»˜è®¤æˆ‘ä»¬ä½¿ç”¨eurekaçš„æ–°ç‰ˆæœ¬æ—¶,å®ƒé»˜è®¤é›†æˆäº†ribbonï¼Œæ‰€ä»¥ä¸éœ€è¦å¼•å…¥</p><p>spring-cloud-starter-netflix-eureka-clienté›†æˆäº†reibbon</p><p>ä¹Ÿå¯ä»¥æ‰‹åŠ¨å¼•å…¥ï¼Œæ”¾åˆ°orderï¼ˆæ¶ˆè´¹è€…ï¼‰æ¨¡å—ä¸­,å› ä¸ºåªæœ‰orderè®¿é—®payæ—¶éœ€è¦è´Ÿè½½å‡è¡¡</p></li><li><p>RestTemplateç±»:</p><ol><li>getForObjectï¼ˆurl,è¿”å›å€¼.classï¼‰ï¼šè¿”å›çš„æ˜¯å“åº”ä½“æ•°æ®è½¬åŒ–æˆçš„å¯¹è±¡ï¼Œå³json</li><li>getForEntityï¼ˆurl,è¿”å›å€¼.classï¼‰ï¼šè¿”å›çš„æ˜¯é‡è¦ä¿¡æ¯ï¼ˆå“åº”å¤´ã€ä½“ã€çŠ¶æ€ç ï¼‰ï¼Œå¯ä»¥é€šè¿‡è¿”å›å¯¹è±¡çš„getæ–¹æ³•è·å¾—è¿™äº›ä¿¡æ¯</li></ol></li></ol><h3 id="Ribbonå¸¸ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•"><a href="#Ribbonå¸¸ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•" class="headerlink" title="Ribbonå¸¸ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•:"></a>Ribbonå¸¸ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•:</h3><p><strong>æ ¸å¿ƒç»„ä»¶</strong>ï¼šIRuleæ¥å£,Riboonä½¿ç”¨è¯¥æ¥å£,æ ¹æ®ç‰¹å®šç®—æ³•ä»æ‰€æœ‰æœåŠ¡ä¸­,é€‰æ‹©ä¸€ä¸ªæœåŠ¡</p><p><strong>Ruleæ¥å£æœ‰7ä¸ªå®ç°ç±»,æ¯ä¸ªå®ç°ç±»ä»£è¡¨ä¸€ä¸ªè´Ÿè½½å‡è¡¡ç®—æ³•</strong>ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200919154159.png" alt="rule"></p><p><strong>æ›¿æ¢</strong>ï¼š</p><ol><li><p>é€‰æ‹©éœ€è¦ä¿®æ”¹çš„æ¶ˆè´¹è€…æ¨¡å—</p></li><li><p>éœ€è¦è‡ªå®šä¹‰é…ç½®ç±»ï¼Œ<strong>ä¸èƒ½æ”¾åœ¨ä¸»å¯åŠ¨ç±»æ‰€åœ¨çš„åŒ…åŠå­åŒ…ä¸‹</strong></p></li><li><p>é¢å¤–åˆ›å»ºä¸€ä¸ªåŒ…ï¼šå’Œå¯åŠ¨å™¨çš„çˆ¶åŒ…æ˜¯å…„å¼ŸåŒ…</p></li><li><p>åˆ›å»ºé…ç½®ç±»,æŒ‡å®šè´Ÿè½½å‡è¡¡ç®—æ³•</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200919154543.png" alt="rule2"></p></li><li><p>åœ¨ä¸»å¯åŠ¨ç±»ä¸ŠåŠ ä¸€ä¸ªæ³¨è§£@RibbonClient</p><ul><li>name:è¦è®¿é—®æœåŠ¡çš„åå­—</li><li>configurationï¼šè‡ªå®šä¹‰é…ç½®ç±»çš„classæ–‡ä»¶</li></ul></li></ol><h3 id="è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç®—æ³•"><a href="#è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç®—æ³•" class="headerlink" title="è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç®—æ³•:"></a>è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç®—æ³•:</h3><h4 id="è½®è¯¢ç®—æ³•åŸç†"><a href="#è½®è¯¢ç®—æ³•åŸç†" class="headerlink" title="è½®è¯¢ç®—æ³•åŸç†"></a>è½®è¯¢ç®—æ³•åŸç†</h4><p><strong>restæ¥å£ç¬¬å‡ æ¬¡è¯·æ±‚ % æœåŠ¡å™¨é›†ç¾¤æ€»æ•°é‡ï¼ˆé›†ç¾¤ä¸­çš„æœºå™¨æ•°ï¼‰ = å®é™…è°ƒç”¨æœåŠ¡å™¨çš„ä¸‹æ ‡</strong>ï¼Œé‡å¯æœåŠ¡å™¨åï¼Œè®¡æ•°ä»1å¼€å§‹</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200919160044.png"></p><h4 id="è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç®—æ³•ï¼ˆè·³ï¼‰"><a href="#è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç®—æ³•ï¼ˆè·³ï¼‰" class="headerlink" title="è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç®—æ³•ï¼ˆè·³ï¼‰"></a>è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç®—æ³•ï¼ˆè·³ï¼‰</h4><h2 id="OpenFeign-æœåŠ¡æ¥å£è°ƒç”¨"><a href="#OpenFeign-æœåŠ¡æ¥å£è°ƒç”¨" class="headerlink" title="OpenFeign æœåŠ¡æ¥å£è°ƒç”¨"></a>OpenFeign æœåŠ¡æ¥å£è°ƒç”¨</h2><p>å®ƒæ˜¯webService<strong>å®¢æˆ·ç«¯</strong>ï¼ˆæ¶ˆè´¹è€…ç«¯ï¼‰ï¼Œä½¿ç”¨æ–¹æ³•æ˜¯ï¼š<strong>å®šä¹‰ä¸€ä¸ªæœåŠ¡æ¥å£ï¼Œç„¶ååœ¨ä¸Šé¢æ·»åŠ æ³¨è§£ï¼Œå†™ä¸Šéœ€è¦è°ƒç”¨çš„æ–¹æ³•ï¼Œä½¿ç”¨æ—¶è°ƒç”¨è¿™ä¸ªæ¥å£ä¸­çš„æ–¹æ³•ï¼Œå³å¯å®Œæˆå¾®æœåŠ¡ä¹‹é—´çš„è°ƒç”¨</strong>ï¼Œå®ç°æ¥å£é—´çš„è¿œç¨‹è°ƒç”¨ï¼Œä¸å†ç”¨Ribbonå’ŒrestTemplateä¸€æ ·è¿œç¨‹è°ƒç”¨</p><p><strong>å°±æ˜¯Aè¦è°ƒç”¨B,Feignå°±æ˜¯åœ¨Aä¸­åˆ›å»ºä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„Bå¯¹å¤–æä¾›æœåŠ¡çš„çš„æ¥å£,æˆ‘ä»¬è°ƒç”¨è¿™ä¸ªæ¥å£,å°±å¯ä»¥æœåŠ¡åˆ°B</strong></p><h3 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ol><li><p>æ–°å»ºä¸€ä¸ªorderé¡¹ç›®,ç”¨äºfeignæµ‹è¯•</p><p>cloud_order_feign-80</p></li><li><p>pomæ–‡ä»¶ï¼ˆå¼•å…¥openFeignçš„jaråŒ…ï¼‰</p></li><li><p>ymlé…ç½®æ–‡ä»¶ï¼ˆå› ä¸ºæ˜¯å®¢æˆ·ç«¯ï¼Œä¸æ³¨å†Œè¿›æ³¨å†Œä¸­å¿ƒä¹Ÿå¯ä»¥ï¼‰</p></li><li><p>ä¸»å¯åŠ¨ç±»ï¼ˆ@EnableFeignClientsï¼Œå¯åŠ¨feignï¼‰</p></li><li><p>éœ€è¦è°ƒç”¨çš„å…¶ä»–çš„æœåŠ¡çš„æ¥å£ï¼ˆè¿™é‡Œæœ¬åº”è¯¥æ˜¯8001 Serviceæ¥å£ä¸­çš„æ–¹æ³•ï¼Œä½†controllerä¹Ÿæ˜¯è°ƒç”¨çš„serviceæ–¹æ³•ï¼Œæ‰€ä»¥æ˜¯ä¸€æ ·çš„ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200919165041.png" alt="feign"></p></li><li><p>controller(è‡ªåŠ¨æ³¨å…¥æ¥å£ï¼Œè°ƒç”¨æ¥å£çš„æ–¹æ³•ï¼Œå®ç°è¿œç¨‹è°ƒç”¨)</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200919165539.png" alt="feign2"></p></li><li><p>æµ‹è¯•</p><p>å¯åŠ¨7001ï¼Œ7002</p><p>å¯åŠ¨8001ï¼Œ8002</p><p>å¯åŠ¨å½“å‰80æ¨¡å—</p><p><strong>Feigné»˜è®¤ä½¿ç”¨ribbonå®ç°è´Ÿè½½å‡è¡¡</strong></p><p>æµ‹è¯•æ–¹æ³•æ˜¯å¦æˆåŠŸè°ƒç”¨</p></li></ol><h3 id="OpenFeignè¶…æ—¶æœºåˆ¶"><a href="#OpenFeignè¶…æ—¶æœºåˆ¶" class="headerlink" title="OpenFeignè¶…æ—¶æœºåˆ¶:"></a>OpenFeignè¶…æ—¶æœºåˆ¶:</h3><p>æœ‰æ—¶æˆ‘ä»¬ä¸šåŠ¡é€»è¾‘å¤„ç†éœ€è¦ä¹…ä¸€ç‚¹ï¼Œä¸èƒ½å¾ˆå¿«çš„è®©æ¶ˆè´¹è€…è¿œç¨‹è°ƒç”¨åˆ°ï¼Œæˆ‘ä»¬éœ€è¦æ”¹ä¸€ä¸‹è¶…æ—¶æ—¶é—´</p><p><strong>OpenFeigné»˜è®¤ç­‰å¾…æ—¶é—´æ˜¯1ç§’,è¶…è¿‡1ç§’,ç›´æ¥æŠ¥é”™</strong></p><ol><li><p>è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œä¿®æ”¹ymlé…ç½®æ–‡ä»¶</p><p>å› ä¸ºOpenFeignçš„åº•å±‚æ˜¯ribbonè¿›è¡Œè´Ÿè½½å‡è¡¡,æ‰€ä»¥å®ƒçš„è¶…æ—¶æ—¶é—´æ˜¯ç”±ribbonæ§åˆ¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200919171342.png" alt="feign3"></p></li></ol><h3 id="OpenFeignæ—¥å¿—"><a href="#OpenFeignæ—¥å¿—" class="headerlink" title="OpenFeignæ—¥å¿—:"></a>OpenFeignæ—¥å¿—:</h3><p>å®ƒæä¾›äº†æ—¥å¿—æ‰“å°åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡é…ç½®æ—¥å¿—çº§åˆ«ï¼Œä»è€Œäº†è§£httpè¯·æ±‚çš„ç»†èŠ‚ï¼Œå°±æ˜¯å¯¹<strong>feignæ¥å£çš„è°ƒç”¨æƒ…å†µçš„ç›‘æ§å’Œè¾“å‡º</strong></p><p><strong>OpenFeignçš„æ—¥å¿—çº§åˆ«æœ‰:</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200919171937.png" alt="log"></p><h4 id="ä½¿ç”¨-2"><a href="#ä½¿ç”¨-2" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><ol><li><p>å®ç°åœ¨é…ç½®ç±»ä¸­æ·»åŠ OpenFeignçš„æ—¥å¿—ç±»ï¼ˆæŒ‡å®šhttpæ—¥å¿—çº§åˆ«ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200919172102.png" alt="log2"></p></li><li><p>ä¿®æ”¹ymlé…ç½®æ–‡ä»¶ï¼ˆæŒ‡å®šå‘½ä»¤è¡Œæ—¥å¿—çº§åˆ«ã€å“ªä¸ªæ¥å£å®ç°æ—¥å¿—ç›‘æ§ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200919172137.png" alt="log3"></p></li><li><p>å¯åŠ¨æœåŠ¡æµ‹è¯•</p></li></ol><h2 id="HystrixæœåŠ¡é™çº§"><a href="#HystrixæœåŠ¡é™çº§" class="headerlink" title="HystrixæœåŠ¡é™çº§"></a>HystrixæœåŠ¡é™çº§</h2><h3 id="æ¦‚å¿µï¼š"><a href="#æ¦‚å¿µï¼š" class="headerlink" title="æ¦‚å¿µï¼š"></a>æ¦‚å¿µï¼š</h3><ol><li>æœåŠ¡é›ªå´©ï¼šå½“å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´äº’ç›¸è°ƒç”¨æ—¶ï¼Œa-b-c-dâ€¦â€¦ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œæ‰‡å‡ºâ€ï¼Œå½“æŸä¸ªå¾®æœåŠ¡ä¸ç®¡ç”¨ï¼Œå¯¹aå°±ä¼šå ç”¨è¶Šæ¥è¶Šå¤šçš„èµ„æºï¼Œè¿›è€Œå¼•èµ·ç³»ç»Ÿå´©æºƒï¼Œé›ªå´©</li><li>å®ƒæ˜¯ä¸€ä¸ªç”¨äºå¤„ç†åˆ†å¸ƒå¼çš„å»¶è¿Ÿå’Œå®¹é”™ï¼Œå½“å‡ºç°é—®é¢˜æ—¶ä¸ä¼šå¯¼è‡´çº§è”æ•…éšœï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªç¬¦åˆé¢„æœŸçš„å¤‡é€‰å“åº”ï¼Œæé«˜åˆ†å¸ƒå¼å¼¹æ€§</li><li>æœåŠ¡é™çº§ï¼šå½“æœåŠ¡ç¹å¿™æ—¶ï¼Œä¸èƒ½ä¸€ç›´ç­‰å¾…ï¼Œä¼šè¿”å›å®¢æˆ·ç«¯ä¸€ä¸ªå¤‡é€‰æ–¹æ¡ˆ<ol><li>ç¨‹åºè¿è¡Œå¼‚å¸¸</li><li>è¶…æ—¶</li><li>æœåŠ¡ç†”æ–­è§¦å‘æœåŠ¡é™çº§</li><li>çº¿ç¨‹æ± æ‰“æ»¡</li><li>å®•æœº</li></ol></li><li>æœåŠ¡ç†”æ–­ï¼šå½“æœåŠ¡å‡ºç°é—®é¢˜ï¼Œå‡ºç°æ•…éšœï¼Œå…ˆå…³é—­å¯¹æ­¤æœåŠ¡çš„è®¿é—®ï¼Œé˜²æ­¢çº§è”æ•…éšœï¼Œå†è°ƒç”¨æœåŠ¡é™çº§ï¼Œæœ€åæ¢å¤</li><li>æœåŠ¡é™æµï¼šå½“å¹¶å‘é‡å¢å¤§ï¼Œé™åˆ¶è®¿é—®çš„è¯·æ±‚æ•°é‡</li></ol><h3 id="ä½¿ç”¨æœåŠ¡é™çº§"><a href="#ä½¿ç”¨æœåŠ¡é™çº§" class="headerlink" title="ä½¿ç”¨æœåŠ¡é™çº§"></a>ä½¿ç”¨æœåŠ¡é™çº§</h3><h4 id="åˆ›å»ºæœåŠ¡æä¾›è€…æ¨¡å—ï¼ˆæµ‹è¯•æœåŠ¡é™çº§ç”¨ï¼‰"><a href="#åˆ›å»ºæœåŠ¡æä¾›è€…æ¨¡å—ï¼ˆæµ‹è¯•æœåŠ¡é™çº§ç”¨ï¼‰" class="headerlink" title="åˆ›å»ºæœåŠ¡æä¾›è€…æ¨¡å—ï¼ˆæµ‹è¯•æœåŠ¡é™çº§ç”¨ï¼‰"></a>åˆ›å»ºæœåŠ¡æä¾›è€…æ¨¡å—ï¼ˆæµ‹è¯•æœåŠ¡é™çº§ç”¨ï¼‰</h4><ol><li>cloud-hystrix-pay-8007</li><li>pom</li><li>yml</li><li>ä¸»å¯åŠ¨ï¼ˆ@EnableEurekaClientï¼‰</li><li>serviceï¼ˆæ­£å¸¸è®¿é—®æ–¹æ³•ã€ç¡3ç§’æ–¹æ³•ï¼‰</li><li>controller</li><li>å‹åŠ›æµ‹è¯•JMeterï¼ˆè¿˜æ²¡æœ‰åŠ å…¥hystrixæœåŠ¡é™çº§ï¼‰</li></ol><h4 id="åˆ›å»ºæ¶ˆè´¹è€…æ¨¡å—ï¼ˆæµ‹è¯•æœåŠ¡é™çº§ç”¨ï¼‰"><a href="#åˆ›å»ºæ¶ˆè´¹è€…æ¨¡å—ï¼ˆæµ‹è¯•æœåŠ¡é™çº§ç”¨ï¼‰" class="headerlink" title="åˆ›å»ºæ¶ˆè´¹è€…æ¨¡å—ï¼ˆæµ‹è¯•æœåŠ¡é™çº§ç”¨ï¼‰"></a>åˆ›å»ºæ¶ˆè´¹è€…æ¨¡å—ï¼ˆæµ‹è¯•æœåŠ¡é™çº§ç”¨ï¼‰</h4><ol><li><p>cloud-hystrix-order-80</p></li><li><p>pom</p></li><li><p>yml</p></li><li><p>ä¸»å¯åŠ¨ï¼ˆ@EnableFeignClientsï¼‰</p></li><li><p>è¿œç¨‹è°ƒç”¨æ¥å£ï¼ˆ@FeignClient(value=â€æœåŠ¡åâ€)ï¼‰</p></li><li><p>controllerï¼ˆè°ƒç”¨æ¥å£ï¼‰</p></li><li><p>å‹åŠ›æµ‹è¯•</p><p>å‡ºç°é—®é¢˜ï¼š2Wå¹¶å‘ä¹‹åï¼Œæ¶ˆè´¹è€…çš„è®¿é—®é€Ÿåº¦å˜æ…¢</p></li></ol><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><ol><li>è¶…æ—¶ï¼šä¸å†ç­‰å¾…</li><li>å‡ºé”™ï¼ˆå®•æœºæˆ–è¿è¡Œå‡ºé”™ï¼‰ï¼šå…œåº•</li></ol><h4 id="é…ç½®æœåŠ¡é™çº§"><a href="#é…ç½®æœåŠ¡é™çº§" class="headerlink" title="é…ç½®æœåŠ¡é™çº§"></a>é…ç½®æœåŠ¡é™çº§</h4><p>==<strong>ä¸€èˆ¬æœåŠ¡é™çº§,éƒ½æ˜¯æ”¾åœ¨å®¢æˆ·ç«¯</strong>==</p><p>==<strong>çƒ­éƒ¨ç½²å¯¹@HystrixCommandæ³¨è§£ä¸å¤ªæ•æ„Ÿï¼Œå»ºè®®ä¿®æ”¹å®Œé‡å¯æœåŠ¡</strong>==</p><p><strong>ä¿®æ”¹æœåŠ¡æä¾›è€…paymentæ¨¡å—</strong></p><ol start="0"><li><p>åˆ›å»ºä¸€ä¸ªç”¨äºå…œåº•çš„æ–¹æ³•</p></li><li><p>ä¸ºserviceçš„æŒ‡å®šæ–¹æ³•(ä¼šå»¶è¿Ÿçš„æ–¹æ³•)æ·»åŠ @HystrixCommandæ³¨è§£</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">"paymentTimeOutFallbackMethod"</span><span class="token punctuation">,</span>commandProperties <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.timeoutInMilliseconds"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"3000"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//3ç§’é’Ÿä»¥å†…å°±æ˜¯æ­£å¸¸çš„ä¸šåŠ¡é€»è¾‘</span><span class="token comment" spellcheck="true">//è®¾å®šè¶…æ—¶æ—¶é—´</span></code></pre></li><li><p>ä¸»å¯åŠ¨ç±»ä¸Š,æ·»åŠ æ¿€æ´»hystrixçš„æ³¨è§£@EnableCircuitBreaker</p></li><li><p>æµ‹è¯•ï¼š</p><ol><li>è®¾ç½®æ–¹æ³•æ—¶é—´&gt;è®¾å®šæ—¶é—´</li><li>è®¾ç½®å¼‚å¸¸</li></ol></li></ol><p><strong>ä¿®æ”¹æ¶ˆè´¹è€…orderæ¨¡å—</strong></p><ol><li><p>ä¿®æ”¹ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200920150237.png" alt="hystrix1"></p></li><li><p>ä¸»å¯åŠ¨ç±»æ·»åŠ æ³¨è§£,å¯ç”¨hystrixï¼Œ@EnableHystrix</p></li><li><p>ä¿®æ”¹controller,æ·»åŠ è¦æµ‹è¯•çš„é™çº§æ–¹æ³•å’Œç›¸å…³æ³¨è§£</p></li><li><p>æµ‹è¯•</p><ol><li>è®¾ç½®æ–¹æ³•æ—¶é—´&gt;è®¾å®šæ—¶é—´</li><li>è®¾ç½®å¼‚å¸¸</li><li>è¿™é‡Œpayæ¨¡å—å’Œorderæ¨¡å—éƒ½å¼€å¯äº†æœåŠ¡é™çº§ï¼Œä½†æœåŠ¡æä¾›è€…3ç§’ï¼Œæ¶ˆè´¹è€…è®¾ç½®ä¸º1.5ç§’ï¼Œä¸€å®šä¼šè¢«é™çº§</li></ol></li></ol><p><strong>å‡ºç°çš„é—®é¢˜</strong></p><ol><li>æ¯ä¸ªä¸šåŠ¡æ–¹æ³•éƒ½å†™äº†ä¸€ä¸ªé™çº§æ–¹æ³•,é‡å¤ä»£ç å¤š</li><li>é™çº§æ–¹æ³•ä¸ä¸šåŠ¡æ–¹æ³•å†™åœ¨äº†ä¸€å—,è€¦åˆåº¦é«˜</li></ol><p>è§£å†³1ï¼š</p><p><strong>é…ç½®ä¸€ä¸ªå…¨å±€çš„é™çº§æ–¹æ³•,æ‰€æœ‰æ–¹æ³•éƒ½å¯ä»¥èµ°è¿™ä¸ªé™çº§æ–¹æ³•,è‡³äºæŸäº›ç‰¹æ®Šåˆ›å»º,å¦‚ä¸Šè¿°çš„ä¸€æ ·å†å•ç‹¬åˆ›å»ºæ–¹æ³•</strong></p><ol><li><p>æ¶ˆè´¹è€…æ¨¡å—åˆ›å»ºä¸€ä¸ªå…¨å±€æ–¹æ³•</p></li><li><p>åœ¨ç±»ä¸Šä½¿ç”¨æ³¨è§£æŒ‡å®šå…¶ä¸ºå…¨å±€é™çº§æ–¹æ³•(é»˜è®¤é™çº§æ–¹æ³•)</p><p>@DefaultProperties(defaultFallback=â€å®šä¹‰çš„å…¨å±€æ–¹æ³•â€)</p></li><li><p>åœ¨æ–¹æ³•ä¸ŠåŠ æ³¨è§£@HystrixCommandï¼Œä¸ç”¨æŒ‡å®šé™çº§æ–¹æ³•ï¼Œä½¿ç”¨é»˜è®¤å…¨å±€</p></li><li><p>æµ‹è¯•</p></li></ol><p>è§£å†³2ï¼š</p><p>ä¿®æ”¹æ¶ˆè´¹è€…æ¨¡å—</p><ol><li><p>åˆ›å»ºä¸€ä¸ªç±»å®ç°è¿œç¨‹æ¥å£,åœ¨å®ç°ç±»ä¸­ç»Ÿä¸€å¤„ç†å¼‚å¸¸</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200920154351.png" alt="h1"></p></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶:æ·»åŠ :</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200920150237.png" alt="hystrix1"></p></li><li><p>æ¥å£ä¸­æ³¨è§£å¢åŠ fallbackå±æ€§ï¼Œè®©PayServiceçš„å®ç°ç±»ç”Ÿæ•ˆ:</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200920154225.png" alt="h2"></p></li></ol><p>å®ƒçš„è¿è¡Œé€»è¾‘æ˜¯:<br>        å½“è¯·æ±‚è¿‡æ¥,é¦–å…ˆè¿˜æ˜¯é€šè¿‡Feignè¿œç¨‹è°ƒç”¨payæ¨¡å—å¯¹åº”çš„æ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœpayæ¨¡å—æŠ¥é”™(å®•æœºï¼Œæ— æ³•è°ƒç”¨),è°ƒç”¨å¤±è´¥,é‚£ä¹ˆå°±ä¼šè°ƒç”¨PayMentFalbackServiceç±»çš„å½“å‰åŒåçš„æ–¹æ³•,ä½œä¸ºé™çº§æ–¹æ³•</p><ol start="4"><li><p>æµ‹è¯•ï¼š</p><p>å¯åŠ¨æ­£å¸¸è®¿é—®åï¼Œå…³é—­æœåŠ¡æä¾›è€…ï¼Œæ¶ˆè´¹è€…å†æ¬¡è®¿é—®ï¼Œè½¬å‘fallbackæ–¹æ³•</p></li></ol><p><strong>è¿™æ ·è™½ç„¶è§£å†³äº†ä»£ç è€¦åˆåº¦é—®é¢˜,ä½†æ˜¯åˆå‡ºç°äº†è¿‡å¤šé‡å¤ä»£ç çš„é—®é¢˜,æ¯ä¸ªæ–¹æ³•éƒ½æœ‰ä¸€ä¸ªé™çº§æ–¹æ³•</strong></p><h3 id="ä½¿ç”¨æœåŠ¡ç†”æ–­"><a href="#ä½¿ç”¨æœåŠ¡ç†”æ–­" class="headerlink" title="ä½¿ç”¨æœåŠ¡ç†”æ–­"></a>ä½¿ç”¨æœåŠ¡ç†”æ–­</h3><p>å½“è¾¾åˆ°æœ€å¤§è®¿é—®æ¬¡æ•°æ—¶,å‡ºç°é—®é¢˜æ¦‚ç‡å¤§ï¼Œæ‹’ç»è®¿é—®ï¼Œæ‹‰é—¸ï¼Œè°ƒç”¨é™çº§çš„æ–¹æ³•</p><p>æœºåˆ¶ï¼šå½“æŸä¸ªæœåŠ¡ä¸å¯ç”¨æˆ–å“åº”æ—¶é—´å¤ªé•¿ï¼Œç†”æ–­è¯¥å¾®æœåŠ¡ï¼Œå¿«é€Ÿè¿”å›é”™è¯¯å“åº”ä¿¡æ¯ï¼Œå½“æ£€æµ‹åˆ°æ¢å¤æ­£å¸¸ï¼Œå†æ¢å¤è°ƒç”¨é“¾è·¯</p><p>å¦‚ï¼šå½“å¤±è´¥è°ƒç”¨åˆ°ä¸€å®šé˜ˆå€¼ï¼Œ5ç§’å†…20æ¬¡è°ƒç”¨å¤±è´¥ï¼Œå°±ä¼šå¯åŠ¨ç†”æ–­æœºåˆ¶ï¼Œç†”æ–­æœºåˆ¶æ˜¯æ³¨è§£@HystrixCommand</p><p><strong>ä¿®æ”¹æœåŠ¡æä¾›è€…æ¨¡å—</strong></p><ol><li><p>ä¿®æ”¹Payserviceæ¥å£,æ·»åŠ æœåŠ¡ç†”æ–­ç›¸å…³çš„æ–¹æ³•:</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200920160927.png" alt="r1"></p><p>10ç§’ä¹‹å†…(çª—å£,ä¼šç§»åŠ¨),å¦‚æœå¹¶å‘==è¶…è¿‡==10ä¸ª,æˆ–è€…10ä¸ªå¹¶å‘ä¸­,å¤±è´¥äº†6ä¸ª,å°±å¼€å¯ç†”æ–­å™¨</p><p>IdUtilæ˜¯HutoolåŒ…ä¸‹çš„ç±»,è¿™ä¸ªHutoolå°±æ˜¯æ•´åˆäº†æ‰€æœ‰çš„å¸¸ç”¨æ–¹æ³•,æ¯”å¦‚UUID,åå°„,IOæµç­‰å·¥å…·æ–¹æ³•ä»€ä¹ˆçš„éƒ½æ•´åˆäº†</p><p>æ–­è·¯å™¨çš„æ‰“å¼€å’Œå…³é—­,æ˜¯æŒ‰ç…§ä¸€ä¸‹5æ­¥å†³å®šçš„</p><ol><li>å¹¶å‘æ­¤æ—¶æ˜¯å¦è¾¾åˆ°æˆ‘ä»¬æŒ‡å®šçš„é˜ˆå€¼ï¼ˆé»˜è®¤10ç§’20æ¬¡è¯·æ±‚ï¼‰ï¼Œåˆ°äº†é˜ˆå€¼æ‰æœ‰èµ„æ ¼ç†”æ–­</li><li>é”™è¯¯ç™¾åˆ†æ¯”,æ¯”å¦‚æˆ‘ä»¬é…ç½®äº†60%ï¼ˆé»˜è®¤10ç§’50%è¯·æ±‚ï¼‰,é‚£ä¹ˆå¦‚æœå¹¶å‘è¯·æ±‚ä¸­,10æ¬¡æœ‰6æ¬¡æ˜¯å¤±è´¥çš„,å°±å¼€å¯æ–­è·¯å™¨</li><li>ä¸Šé¢çš„ä¸¤ä¸ªæ¡ä»¶ç¬¦åˆ,æ–­è·¯å™¨æ”¹å˜çŠ¶æ€ä¸ºopen(<strong>å¼€å¯</strong>)ï¼Œæ‹‰é—¸</li><li>è¿™ä¸ªæœåŠ¡çš„æ–­è·¯å™¨å¼€å¯,æ‰€æœ‰è¯·æ±‚æ— æ³•è®¿é—®</li><li>ç†”æ–­ä¹‹åï¼Œå¼€å¯ä¼‘çœ æ—¶é—´çª—ï¼ˆé»˜è®¤5ç§’ï¼‰ï¼Œæ­¤æ—¶åªä¼šæ‰§è¡Œé™çº§é€»è¾‘ï¼Œä¼‘çœ æ—¶é—´çª—ç»“æŸä¹‹åï¼Œå°è¯•è®©ä¸€äº›è¯·æ±‚é€šè¿‡(<strong>åŠå¼€çŠ¶æ€half Open</strong>),å¦‚æœè¯·æ±‚è¿˜æ˜¯å¤±è´¥,è¯æ˜æ–­è·¯å™¨è¿˜æ˜¯å¼€å¯çŠ¶æ€,æœåŠ¡æ²¡æœ‰æ¢å¤ï¼Œå¦‚æœè¯·æ±‚æˆåŠŸäº†,è¯æ˜æœåŠ¡å·²ç»æ¢å¤,æ–­è·¯å™¨çŠ¶æ€å˜ä¸ºclose<strong>å…³é—­</strong>çŠ¶æ€ï¼Œæ¢å¤</li></ol></li></ol><p><strong>å…¶ä»–å‚æ•°</strong>ï¼šè§è„‘å›¾</p><h3 id="æœåŠ¡é™æµï¼ˆsentinelä¼šè¯¦è¯´ï¼‰"><a href="#æœåŠ¡é™æµï¼ˆsentinelä¼šè¯¦è¯´ï¼‰" class="headerlink" title="æœåŠ¡é™æµï¼ˆsentinelä¼šè¯¦è¯´ï¼‰"></a>æœåŠ¡é™æµï¼ˆsentinelä¼šè¯¦è¯´ï¼‰</h3><h3 id="HystrixæœåŠ¡ç›‘æ§"><a href="#HystrixæœåŠ¡ç›‘æ§" class="headerlink" title="HystrixæœåŠ¡ç›‘æ§:"></a>HystrixæœåŠ¡ç›‘æ§:</h3><p>ä¸€ä¸ªå›¾å½¢åŒ–ç•Œé¢çš„å®æ—¶ç›‘æ§å¹³å°</p><p><strong>ä½¿ç”¨</strong>ï¼š</p><ol><li><p>åˆ›å»ºç›‘æ§å¹³å°æ¨¡å—ï¼ˆéœ€è¦åˆ›å»ºæ¨¡å—ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œåé¢sentinelä¸éœ€è¦ï¼‰</p><p>cloud_hystrixdashboard_9001</p></li><li><p>pomæ–‡ä»¶ï¼ˆå¯¼å…¥ä¾èµ–dashboardï¼‰</p></li><li><p>é…ç½®æ–‡ä»¶</p><p>server: port:9001</p></li><li><p>ä¸»å¯åŠ¨ç±»@EnableHystrixDashboard</p></li><li><p>ä¿®æ”¹éœ€è¦ç›‘æ§çš„æ¨¡å—ï¼ˆ8001ï¼Œ8002ï¼‰</p><ol><li><p>å¢åŠ pomä¾èµ–ï¼ˆä»¥å‰éƒ½å¢åŠ æœ‰ï¼‰</p><p>actuatorï¼Œè¿™ä¸ªæ˜¯springbootçš„ç›‘æ§ç»„ä»¶</p></li></ol></li><li><p>å¯åŠ¨</p><p>è®¿é—®: <strong>localhost:9001/hystrix</strong></p><p>æ³¨æ„,æ­¤æ—¶ä»…ä»…æ˜¯å¯ä»¥è®¿é—®HystrixDashboard,å¹¶ä¸ä»£è¡¨å·²ç»ç›‘æ§äº†8001,8002</p></li><li><p>å¦‚æœè¦ç›‘æ§,è¿˜éœ€è¦é…ç½®:(8001ä¸ºä¾‹)</p><ol><li><p>8001ä¸»å¯åŠ¨ç±»æ·»åŠ </p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200920173822.png"></p><p><strong>å…¶ä»–8002,8003éƒ½æ˜¯ä¸€æ ·çš„</strong></p></li></ol></li><li><p>å¯åŠ¨æœåŠ¡7001ï¼Œ8001ï¼Œ9001</p></li><li><p>ç„¶ååœ¨webç•Œé¢,æŒ‡å®š9001è¦ç›‘æ§8001:</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200920173933.png"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200920174000.png"></p></li></ol><h2 id="GateWayæœåŠ¡ç½‘å…³"><a href="#GateWayæœåŠ¡ç½‘å…³" class="headerlink" title="GateWayæœåŠ¡ç½‘å…³"></a>GateWayæœåŠ¡ç½‘å…³</h2><p>zuulåœæ›´äº†</p><h3 id="æ¦‚å¿µ-1"><a href="#æ¦‚å¿µ-1" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>GateWayæ˜¯Springç”Ÿæ€ç³»ç»Ÿä¸Šæ„å»ºçš„APIç½‘å…³æœåŠ¡ï¼Œæ›¿ä»£äº†zuulï¼ŒåŸºäºWebFluxæ¡†æ¶ï¼Œè€ŒWebFluxæ¡†æ¶åº•å±‚ä½¿ç”¨äº†é«˜æ€§èƒ½çš„Reactoræ¨¡å¼é€šä¿¡æ¡†æ¶Nettyã€‚</p><p><strong>gatewayä¹‹æ‰€ä»¥æ€§èƒ½å¥½,å› ä¸ºåº•å±‚ä½¿ç”¨WebFlux,è€ŒwebFluxåº•å±‚ä½¿ç”¨nettyé€šä¿¡(NIO)</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921082820.png"></p><p><strong>ç‰¹æ€§</strong>ï¼šåŠ¨æ€è·¯ç”±ï¼ˆèƒ½åŒ¹é…ä»»ä½•è¯·æ±‚ï¼‰ï¼Œå¯å¯¹è·¯ç”±æŒ‡å®šæ–­è¨€ã€è¿‡æ»¤å™¨ï¼Œé›†æˆæ–­è·¯å™¨ã€SpringCloudæœåŠ¡å‘ç°ï¼Œè¯·æ±‚é™æµ</p><p><strong>GateWayä¸zuulçš„åŒºåˆ«:</strong></p><ol><li>Zuul1æ˜¯åŸºäºSevlet2.5ä½¿ç”¨<strong>é˜»å¡æ¶æ„</strong>ï¼Œæ¯æ¬¡IOæ“ä½œéƒ½ä»å·¥ä½œçº¿ç¨‹ä¸­é€‰ä¸€ä¸ªæ‰§è¡Œï¼Œè¯·æ±‚çº¿ç¨‹ä¼šé˜»å¡åˆ°å·¥ä½œçº¿ç¨‹å®Œæˆï¼Œæ€§èƒ½è¾ƒå·®</li><li>gateWayä½¿ç”¨<strong>éé˜»å¡API</strong>ï¼Œå»ºç«‹åœ¨spring5ï¼Œ project Reactorå’Œspring boot2ä¹‹ä¸Š</li></ol><p><strong>è·¯ç”±</strong>ï¼šæ„å»ºç½‘å…³çš„åŸºæœ¬æ¨¡å—ï¼Œå®ƒç”±IDï¼Œç›®æ ‡URIï¼Œä¸€ç³»åˆ—æ–­è¨€å’Œè¿‡æ»¤å™¨ç»„æˆï¼Œé€šè¿‡æ–­è¨€ä¸ºtrueåˆ™åŒ¹é…è¯¥è·¯ç”±</p><p>å³æ ¹æ®æŸäº›è§„åˆ™ï¼Œå°†è¯·æ±‚è½¬å‘ç»™æŒ‡å®šæœåŠ¡</p><p><strong>æ–­è¨€</strong>ï¼šå¼€å‘äººå‘˜å¯ä»¥é€šè¿‡httpè¯·æ±‚ä¸­çš„å†…å®¹ï¼Œä¸æ–­è¨€ç›¸åŒ¹é…åˆ™å¯ä»¥è¿›è¡Œè·¯ç”±</p><p><strong>è¿‡æ»¤</strong>ï¼šåœ¨è·¯ç”±çš„å‰åå¯¹è¯·æ±‚è¿›è¡Œä¿®æ”¹</p><p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921084504.png"></p><p><strong>å°±æ˜¯è·¯ç”±è½¬å‘+æ‰§è¡Œè¿‡æ»¤å™¨é“¾</strong></p><h3 id="ä½¿ç”¨-3"><a href="#ä½¿ç”¨-3" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ol><li><p>æ–°å»ºç½‘å…³æ¨¡å—GateWay</p><p>cloud_gateway_9527</p></li><li><p>pomï¼ˆå¼•å…¥ç½‘å…³ä¾èµ–gateWayï¼‰</p></li><li><p>ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921143943.png"></p></li><li><p>ä¸»å¯åŠ¨</p></li><li><p>æ ¹æ®æœåŠ¡æä¾›è€…æ¨¡å—ï¼Œè®¾ç½®è·¯ç”±ç½‘å…³</p><p>æˆ‘ä»¬ä¸æƒ³æš´éœ²8001ç«¯å£ï¼Œæ‰€ä»¥åœ¨8001ä¸Šå¥—äº†ä¸€å±‚9527</p><ol><li><p>ä¿®æ”¹ç½‘å…³çš„ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921143857.png"></p></li></ol><p>æ„æ€å°±æ˜¯ï¼š</p><p>å½“è®¿é—®localhost:9527/payment/get/1æ—¶,     </p><p>è·¯ç”±åˆ°localhost:8001/payment/get/1</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921144047.png"></p></li></ol><p><strong>ä»¥ä¸Šæ˜¯é…ç½®æ–‡ä»¶é…ç½®ï¼Œä¹Ÿå¯ä»¥ç”¨ç¡¬ç¼–ç é…ç½®ï¼Œæ¯”è¾ƒéº»çƒ¦æ‰€ä»¥è¿˜æ˜¯é€‰æ‹©é…ç½®æ–‡ä»¶çš„æ–¹å¼</strong></p><h3 id="åŠ¨æ€è·¯ç”±"><a href="#åŠ¨æ€è·¯ç”±" class="headerlink" title="åŠ¨æ€è·¯ç”±"></a>åŠ¨æ€è·¯ç”±</h3><p>é»˜è®¤æƒ…å†µgateWayä¼šæ ¹æ®æœåŠ¡ä¸­å¿ƒçš„æœåŠ¡åˆ—è¡¨ï¼Œä»¥å¾®æœåŠ¡åä¸ºè·¯å¾„åˆ›å»ºåŠ¨æ€è·¯ç”±è¿›è¡Œè½¬å‘</p><p><strong>ä½¿ç”¨</strong>ï¼š</p><ol><li><p>éœ€è¦1ä¸ªæœåŠ¡å™¨ã€ä¸¤ä¸ªå¾®æœåŠ¡æä¾›è€…</p></li><li><p>ä¿®æ”¹ç½‘å…³ymlæ–‡ä»¶ï¼ˆå¼€å¯è·¯ç”±åŠŸèƒ½ï¼Œä¿®æ”¹è·¯ç”±åœ°å€ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921145814.png"></p></li><li><p>å¯åŠ¨å¾®æœåŠ¡ï¼Œè¿›è¡Œæµ‹è¯•</p></li></ol><h3 id="Pridicateæ–­è¨€"><a href="#Pridicateæ–­è¨€" class="headerlink" title="Pridicateæ–­è¨€"></a>Pridicateæ–­è¨€</h3><p><strong>ç›¸å½“äºç½‘å…³çš„è§„åˆ™ï¼Œæ»¡è¶³äº†è¿™äº›è§„åˆ™ï¼Œæ‰¾åˆ°å¯¹åº”çš„è·¯ç”±</strong></p><p>å…¶ä¸­<code>predicates:path=/payment/get/**</code>å°±æ˜¯ä¸€ä¸ªæ–­è¨€</p><p>è¿™ä¸ªæ–­è¨€è¡¨ç¤º,å¦‚æœå¤–éƒ¨è®¿é—®è·¯å¾„æ˜¯æŒ‡å®šè·¯å¾„,å°±è·¯ç”±åˆ°æŒ‡å®šå¾®æœåŠ¡ä¸Š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921151640.png"></p><ol><li>After:åªæœ‰åœ¨æŒ‡å®šæ—¶é—´å,æ‰å¯ä»¥è·¯ç”±åˆ°æŒ‡å®šå¾®æœåŠ¡</li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921152144.png"></p><ol start="2"><li><p>before:åœ¨æŒ‡å®šæ—¶é—´å‰è®¿é—®</p></li><li><p>between:éœ€è¦æŒ‡å®šä¸¤ä¸ªæ—¶é—´ï¼Œåœ¨è¿™ä¹‹é—´çš„æ—¶é—´å¯ä»¥è®¿é—®</p></li><li><p>cookie:åªæœ‰åŒ…å«æŸäº›æŒ‡å®šcookieï¼ˆkey,valueï¼‰çš„è¯·æ±‚æ‰å¯ä»¥è·¯ç”±</p><ul><li>éœ€è¦ç”±ä¸¤ä¸ªå‚æ•°ï¼Œkeyåï¼Œvalueå€¼</li></ul></li><li><p>Header:åªæœ‰åŒ…å«æŒ‡å®šè¯·æ±‚å¤´çš„è¯·æ±‚,æ‰å¯ä»¥è·¯ç”±</p><ul><li>éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œheaderåï¼Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚ï¼šx-Request-idï¼Œ\d+ æ­£æ•´æ•°</li></ul></li><li><p>host:åªæœ‰æŒ‡å®šä¸»æœºçš„æ‰å¯ä»¥è®¿é—®ï¼Œå¦‚ï¼šHost=**.shangguigu.com</p><ol><li>æµ‹è¯•ï¼šcurl <a href="http://localhost:9527/paymentinfo">http://localhost:9527/paymentinfo</a> -H â€œhost:<a href="http://www.shangguigu.com&quot;/">www.shangguigu.com"</a></li><li><strong>curlæ˜¯å‘½ä»¤è¡Œå‘é€è¯·æ±‚çš„æ–¹å¼ï¼Œpostmanå¯è§†åŒ–å›¾å½¢ç•Œé¢çš„åº•å±‚å°±æ˜¯ä½¿ç”¨è¿™ä¸ª</strong></li></ol></li><li><p>method:åªæœ‰æŒ‡å®šè¯·æ±‚æ‰å¯ä»¥è·¯ç”±,æ¯”å¦‚getè¯·æ±‚â€¦</p><ol><li>Method=GET</li></ol></li><li><p>path:åªæœ‰è®¿é—®æŒ‡å®šè·¯å¾„,æ‰è¿›è¡Œè·¯ç”±</p></li><li><p>Query:å¿…é¡»å¸¦æœ‰è¯·æ±‚å‚æ•°æ‰å¯ä»¥è®¿é—®ï¼Œ</p><ol><li>éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œå‚æ•°åï¼Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚ï¼šQuery=username,\d+</li><li>localhost:9527?username=123</li></ol></li></ol><h3 id="Filterè¿‡æ»¤å™¨"><a href="#Filterè¿‡æ»¤å™¨" class="headerlink" title="Filterè¿‡æ»¤å™¨"></a>Filterè¿‡æ»¤å™¨</h3><p><strong>ç§ç±»</strong>ï¼š</p><p>GatewayFilterï¼šå•ä¸€çš„è¿‡æ»¤å™¨ï¼Œä¸æ–­è¨€ç±»ä¼¼ï¼ˆæ€ä¹ˆåŠ çœ‹å®˜ç½‘ï¼‰</p><p>GlobalFilterï¼šå…¨å±€è¿‡æ»¤å™¨</p><p><strong>è‡ªå®šä¹‰è¿‡æ»¤å™¨</strong>ï¼ˆå…¨å±€ï¼Œå¸¸ç”¨ï¼‰</p><ol><li><p>è‡ªå·±åˆ›å»ºä¸€ä¸ªè¿‡æ»¤å™¨ç±»ï¼Œå®ç°ä¸¤ä¸ªæ¥å£ GlobalFilter,Ordered</p><p><strong>å¿…é¡»åŠ å…¥å®¹å™¨ï¼Œå®ç°æ¥å£</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921154404.png"></p><p>æ„æ€ï¼šå¿…é¡»å¸¦æœ‰å‚æ•°unameçš„ï¼Œå¦‚æœæ²¡æœ‰å°±è¿‡æ»¤æ‰</p></li><li><p>å¯åŠ¨æµ‹è¯•</p></li></ol><h2 id="ConfigæœåŠ¡é…ç½®"><a href="#ConfigæœåŠ¡é…ç½®" class="headerlink" title="ConfigæœåŠ¡é…ç½®"></a>ConfigæœåŠ¡é…ç½®</h2><p>é—®é¢˜ï¼šæ¯ä¸ªå¾®æœåŠ¡éƒ½éœ€è¦ä¸€ä¸ªé…ç½®æ–‡ä»¶,å¹¶ä¸”,å¦‚æœæœ‰å‡ ä¸ªå¾®æœåŠ¡éƒ½éœ€è¦è¿æ¥æ•°æ®åº“ï¼Œé‚£ä¹ˆå°±éœ€è¦é…4æ¬¡æ•°æ®åº“ç›¸å…³é…ç½®,å¹¶ä¸”å½“æ•°æ®åº“å‘ç”Ÿæ”¹åŠ¨,é‚£ä¹ˆéœ€è¦åŒæ—¶ä¿®æ”¹4ä¸ªå¾®æœåŠ¡çš„é…ç½®æ–‡ä»¶æ‰å¯ä»¥</p><p><strong>æ¦‚å¿µ</strong>ï¼šä¸ºå¾®æœåŠ¡æ¶æ„ä¸­çš„å¾®æœåŠ¡æä¾›é›†ä¸­åŒ–å¤–éƒ¨é…ç½®æ”¯æŒï¼Œé…ç½®æœåŠ¡å™¨ä¸ºå„ä¸ªä¸åŒçš„å¾®æœåŠ¡åº”ç”¨çš„æ‰€æœ‰ç¯å¢ƒæä¾›äº†ä¸­å¿ƒåŒ–çš„å¤–éƒ¨é…ç½®</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921155642.png"></p><p>åˆ†ä¸ºæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ã€‚</p><p>æœåŠ¡ç«¯å°±æ˜¯åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡åº”ç”¨ï¼Œé»˜è®¤é‡‡ç”¨gitå­˜å‚¨é…ç½®ä¿¡æ¯</p><p>å®¢æˆ·ç«¯æ˜¯å¯åŠ¨æ—¶åœ¨é…ç½®ä¸­å¿ƒè·å–åŠ è½½é…ç½®ä¿¡æ¯</p><p><strong>ä½œç”¨</strong>ï¼š</p><ol><li>é›†ä¸­ç®¡ç†é…ç½®</li><li>åŠ¨æ€åŒ–é…ç½®æ›´æ–°</li><li>ä¸åŒç¯å¢ƒä¸åŒé…ç½®</li><li>å°†é…ç½®ä¿¡æ¯ä»¥Restæ¥å£çš„å½¢å¼æš´éœ²ï¼ˆé€šè¿‡controllerè·å–é…ç½®ä¿¡æ¯ï¼‰</li></ol><h3 id="ä½¿ç”¨é…ç½®ä¸­å¿ƒï¼ˆæœåŠ¡ç«¯ï¼‰"><a href="#ä½¿ç”¨é…ç½®ä¸­å¿ƒï¼ˆæœåŠ¡ç«¯ï¼‰" class="headerlink" title="ä½¿ç”¨é…ç½®ä¸­å¿ƒï¼ˆæœåŠ¡ç«¯ï¼‰"></a>ä½¿ç”¨é…ç½®ä¸­å¿ƒï¼ˆæœåŠ¡ç«¯ï¼‰</h3><ol><li><p>ä½¿ç”¨githubä½œä¸ºé…ç½®ä¸­å¿ƒçš„ä»“åº“</p><p><strong>åˆå§‹åŒ–gitç¯å¢ƒ:</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921162559.png"></p></li><li><p>æ–°å»ºconfigæœåŠ¡ç«¯æ¨¡å—</p><ol><li>pom(å¼•å…¥config-serverä¾èµ–)</li><li>ymlé…ç½®æ–‡ä»¶</li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921162617.png"></p><ol start="3"><li><p>ä¸»å¯åŠ¨ï¼ˆ@EnableConfigServerå¼€å¯é…ç½®ä¸­å¿ƒæœåŠ¡ç«¯ï¼‰</p></li><li><p>ä¿®æ”¹æœ¬åœ°hosts</p><p>ä¸ºäº†è¾“å…¥urlæ—¶localhostç›´æ¥ç­‰äºconfig-3344.com</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921162733.png"></p></li><li><p>æµ‹è¯•</p><p>å¯åŠ¨3344    (è¦å…ˆå¯åŠ¨eureka)</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921162928.png"></p></li></ol></li></ol><p><strong>è¯»å–é…ç½®æ–‡ä»¶çš„è§„åˆ™</strong></p><ol><li></li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921192655.png"></p><ol start="2"><li></li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921192848.png"></p><h3 id="ä½¿ç”¨é…ç½®ä¸­å¿ƒï¼ˆå®¢æˆ·ç«¯ï¼‰"><a href="#ä½¿ç”¨é…ç½®ä¸­å¿ƒï¼ˆå®¢æˆ·ç«¯ï¼‰" class="headerlink" title="ä½¿ç”¨é…ç½®ä¸­å¿ƒï¼ˆå®¢æˆ·ç«¯ï¼‰"></a>ä½¿ç”¨é…ç½®ä¸­å¿ƒï¼ˆå®¢æˆ·ç«¯ï¼‰</h3><ol><li><p>åˆ›å»ºconfigå®¢æˆ·ç«¯é¡¹ç›®</p><p>cloud-config-client-3355</p></li><li><p>pom(å¼•å…¥configä¾èµ–)</p></li><li><p>ymlé…ç½®æ–‡ä»¶</p><p>æ³¨æ„ï¼šè¿™ä¸ªé…ç½®æ–‡ä»¶å°±ä¸æ˜¯application.ymlï¼Œbootstrap.yml</p><p>è¿™ä¸ªé…ç½®æ–‡ä»¶çš„ä½œç”¨æ˜¯,å…ˆåˆ°é…ç½®ä¸­å¿ƒåŠ è½½é…ç½®,ç„¶ååŠ è½½åˆ°application.ymlä¸­</p><p>å› ä¸ºbootstrapå…·æœ‰é«˜ä¼˜å…ˆçº§ï¼Œä¿è¯ä¸ä¼šè¢«æœ¬åœ°é…ç½®è¦†ç›–ï¼Œè´Ÿè´£ä»å¤–éƒ¨æºåŠ è½½é…ç½®æ–‡ä»¶ï¼Œä¸¤ä¸ªä¸Šä¸‹æ–‡å®ç°å…±äº«</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921195513.png"></p></li><li><p>ä¸»å¯åŠ¨ç±»ï¼ˆ@EnableEurekaClientï¼Œè¿™é‡Œæ²¡æœ‰é…ç½®å®¢æˆ·ç«¯çš„æ³¨è§£ï¼‰</p></li><li><p>controller</p><p>è¿™å°±æ˜¯ä¸Šé¢æåˆ°çš„resté£æ ¼å°†é…ç½®å¯¹å¤–æš´éœ²</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921195502.png"></p><p>å¦‚æœå®¢æˆ·ç«¯è¿è¡Œæ­£å¸¸,å°±ä¼šè¯»å–åˆ°githubä¸Šé…ç½®æ–‡ä»¶çš„å±æ€§<code>config.info</code>çš„å€¼</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921195523.png"></p></li><li><p>æµ‹è¯•ï¼š</p><p>å¯åŠ¨3344ï¼Œ3355</p><p>è®¿é—®3355çš„ /configInfo</p></li></ol><p>é—®é¢˜ï¼šå¦‚æœé…ç½®ä¿®æ”¹ï¼Œ3344ä»ç„¶èƒ½è·å¾—æœ€æ–°é…ç½®ï¼Œä½†æ˜¯3355å´ä¸èƒ½åŠ¨æ€åˆ·æ–°</p><h3 id="å®ç°åŠ¨æ€åˆ·æ–°"><a href="#å®ç°åŠ¨æ€åˆ·æ–°" class="headerlink" title="å®ç°åŠ¨æ€åˆ·æ–°"></a>å®ç°åŠ¨æ€åˆ·æ–°</h3><ol><li><p>ä¿®æ”¹3355ï¼Œå¢åŠ pomä¾èµ–actuatorç›‘æ§</p></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¢åŠ ä¸€ä¸ªé…ç½®</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921201235.png"></p></li><li><p>ä¿®æ”¹controllerï¼ˆ@RefreshScopeï¼‰</p></li><li><p>éœ€è¦<strong>å¤–éƒ¨</strong>å‘é€postè¯·æ±‚é€šçŸ¥3355</p><p><code>curl -X POST "http://localhost:3355/actuator/refresh"</code></p></li><li><p>åˆ·æ–°æµ‹è¯•æ˜¯å¦æ›´æ¢ä¸ºæœ€æ–°é…ç½®</p></li></ol><p>é—®é¢˜ï¼šå¦‚æœç”±å¤šä¸ªå®¢æˆ·ç«¯ï¼Œæ¯ä¸ªéƒ½éœ€è¦é€šçŸ¥ä¼šå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥éœ€è¦å¹¿æ’­ï¼Œè¿™å°±å¼•å‡ºäº†Busæ¶ˆæ¯æ€»çº¿</p><h2 id="SpringCloud-Bus-æ¶ˆæ¯æ€»çº¿"><a href="#SpringCloud-Bus-æ¶ˆæ¯æ€»çº¿" class="headerlink" title="SpringCloud Bus æ¶ˆæ¯æ€»çº¿"></a>SpringCloud Bus æ¶ˆæ¯æ€»çº¿</h2><p>å®ƒæ˜¯å°†åˆ†å¸ƒå¼ç³»ç»Ÿçš„èŠ‚ç‚¹ä¸è½»é‡çº§æ¶ˆæ¯ç³»ç»Ÿé“¾æ¥èµ·æ¥çš„æ¡†æ¶</p><p>ç›®å‰æ”¯æŒRabbitMQå’ŒKafka</p><p><strong>è®¾è®¡æ€æƒ³</strong>ï¼š</p><ol><li><p>æ¶ˆæ¯å‘ç»™å®¢æˆ·ç«¯ï¼Œå®ƒèƒ½è®©å…¶åœ¨å…¶å®ƒå®¢æˆ·ç«¯é—´ä¼ æ’­</p></li><li><p>ä¹Ÿå¯ä»¥å°†æ¶ˆæ¯å‘ç»™configé…ç½®ä¸­å¿ƒï¼Œä¸€æ¬¡æ€§å¹¿æ’­ç»™å…¶ä»–å®¢æˆ·ç«¯</p></li></ol><ul><li>å‘ç»™é…ç½®ä¸­å¿ƒæ›´åˆç†ï¼Œç¬¬ä¸€ç§ç ´åäº†ä¸šåŠ¡æ¨¡å—èŒè´£çš„å•ä¸€æ€§ï¼Œç ´åäº†æœåŠ¡ä¸ªèŠ‚ç‚¹çš„å¯¹ç­‰æ€§</li></ul><p><strong>æ¦‚å¿µ</strong>ï¼šåœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨æ¶ˆæ¯ä»£ç†æ„å»ºä¸€ä¸ªå…±æœ‰çš„ä¸»é¢˜ï¼Œè®©æ‰€æœ‰å¾®æœåŠ¡å®ä¾‹éƒ½è®¢é˜…ï¼Œè¯¥ä¸»é¢˜äº§ç”Ÿçš„æ¶ˆæ¯ä¹Ÿä¼šè¢«ç›‘å¬å’Œæ¶ˆè´¹ï¼Œæ‰€ä»¥å®ƒä¸ºæ¶ˆæ¯æ€»çº¿ã€‚</p><p><strong>åŸç†</strong>ï¼šconfigClientå®ä¾‹éƒ½ç›‘å¬åŒä¸€ä¸ªä¸»é¢˜ï¼Œå½“ä¸€ä¸ªæœåŠ¡åˆ·æ–°æ•°æ®ï¼Œå®ƒä¼šæŠŠæ¶ˆæ¯æ”¾åœ¨ä¸»é¢˜ä¸­ï¼Œå…¶ä»–å®ä¾‹å°±èƒ½å¾—åˆ°é€šçŸ¥ï¼Œç„¶åæ›´æ–°è‡ªèº«çš„é…ç½®</p><h3 id="ä½¿ç”¨-4"><a href="#ä½¿ç”¨-4" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ol><li><p><strong>é…ç½®RabbitMQç¯å¢ƒ</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921210902.png"></p></li><li><p>ä¸ºæ¼”ç¤ºå¤šä¸ªé€šçŸ¥ï¼Œå¤šåˆ›å»ºä¸€ä¸ªé…ç½®ä¸­å¿ƒå®¢æˆ·ç«¯</p><p>==<strong>å¤åˆ¶3355å³å¯,åˆ›å»ºä¸º3366</strong>==</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921205750.png"></p><p>å…¨éƒ¨å¤åˆ¶3355çš„å³å¯</p></li><li><p>ä½¿ç”¨Buså®ç°å…¨å±€å¹¿æ’­</p><ul><li>é…ç½®3344(é…ç½®ä¸­å¿ƒæœåŠ¡ç«¯)</li></ul><ol><li><p>ä¿®æ”¹ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921205854.png"></p></li><li><p>æ·»åŠ pom</p><p>springbootçš„ç›‘æ§ç»„ä»¶actuator,å’Œæ¶ˆæ¯æ€»çº¿æ•´åˆrabbitmq:bus-amqp</p></li></ol><ul><li>ä¿®æ”¹3355ï¼ˆé…ç½®ä¸­å¿ƒçš„å®¢æˆ·ç«¯1ï¼‰</li></ul><ol><li><p>å¢åŠ pom</p><p>springbootçš„ç›‘æ§ç»„ä»¶actuator,å’Œæ¶ˆæ¯æ€»çº¿æ•´åˆrabbitmq:bus-amqp</p></li><li><p>ä¿®æ”¹ymlæ–‡ä»¶ï¼ˆæ³¨æ„å®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶éƒ½äº¤bootstrapï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921210757.png"></p></li></ol><ul><li>ä¿®æ”¹3366ï¼ˆé…ç½®ä¸­å¿ƒçš„å®¢æˆ·ç«¯2ï¼‰</li></ul><ol><li>å’Œä¸Šé¢çš„æ­¥éª¤ä¸€æ ·</li></ol><ul><li><p>æµ‹è¯•ï¼š</p><p>å¯åŠ¨7001ï¼ˆæ³¨å†Œä¸­å¿ƒï¼‰ï¼Œ3344ï¼ˆé…ç½®ä¸­å¿ƒæœåŠ¡å™¨ï¼‰ï¼Œ3355ï¼Œ3366ï¼ˆé…ç½®ä¸­å¿ƒå®¢æˆ·ç«¯ï¼‰</p><p>ä¿®æ”¹githubçš„é…ç½®æ–‡ä»¶</p><p><strong>å› ä¸ºæˆ‘ä»¬é‡‡ç”¨çš„æ˜¯å‘é€é€šçŸ¥ç»™æœåŠ¡å™¨ï¼Œå†å¹¿æ’­ç»™å®¢æˆ·ç«¯çš„æ–¹å¼ï¼Œæ‰€ä»¥è¦ç»™3344å‘æ¶ˆæ¯</strong></p><p><code>curl -X POST "http://localhost:3344/actuator/bus-refresh"</code></p></li></ul><p><strong>åŸç†</strong>ï¼šæ‰€æœ‰å®¢æˆ·ç«¯éƒ½ç›‘å¬äº†ä¸€ä¸ªrabbitMqçš„topic,æˆ‘ä»¬å°†ä¿¡æ¯æ”¾å…¥è¿™ä¸ªtopic,æ‰€æœ‰å®¢æˆ·ç«¯éƒ½å¯ä»¥é€åˆ°,ä»è€Œå®æ—¶æ›´æ–°</p></li></ol><h3 id="é…ç½®å®šç‚¹é€šçŸ¥"><a href="#é…ç½®å®šç‚¹é€šçŸ¥" class="headerlink" title="é…ç½®å®šç‚¹é€šçŸ¥"></a>é…ç½®å®šç‚¹é€šçŸ¥</h3><p>åªé€šçŸ¥éƒ¨åˆ†æœåŠ¡ï¼Œå…¶ä»–æœåŠ¡ä¸å—å½±å“</p><p><code>http://localhost:3344/actuator/bus-refresh/å¾®æœåŠ¡å:ç«¯å£å·</code></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200921212048.png"></p><h2 id="Spring-Cloud-Streamæ¶ˆæ¯é©±åŠ¨"><a href="#Spring-Cloud-Streamæ¶ˆæ¯é©±åŠ¨" class="headerlink" title="Spring Cloud Streamæ¶ˆæ¯é©±åŠ¨"></a>Spring Cloud Streamæ¶ˆæ¯é©±åŠ¨</h2><p>é—®é¢˜ï¼šä¸€ä¸ªé¡¹ç›®ä¸­å¯èƒ½æœ‰åç«¯â€“&gt;å¤§æ•°æ®ï¼Œå¦‚æœåç«¯ç”¨çš„æ˜¯RabbitMqï¼Œå¤§æ•°æ®ç”¨çš„æ˜¯kafkaï¼Œå°±ä¼šå¯¼è‡´ç»å¸¸åˆ‡æ¢ï¼Œå½±å“ä½¿ç”¨ï¼Œå­¦ä¹ è´Ÿæ‹…é‡</p><p><strong>Spring Cloud Streamå°±ç±»ä¼¼jpa,å±è”½åº•å±‚æ¶ˆæ¯ä¸­é—´ä»¶çš„å·®å¼‚ï¼ˆæ¯”å¦‚kafkaæœ‰topicï¼ŒrabbitMqæœ‰exchangeï¼‰,é™ä½åˆ‡æ¢æˆæœ¬ï¼Œç»Ÿä¸€æ¶ˆæ¯ç¼–ç¨‹æ¨¡å‹ï¼Œç¨‹åºå‘˜ä¸»è¦æ“ä½œSpring Cloud Streamå³å¯</strong>ï¼Œä¸éœ€è¦ç®¡åº•å±‚æ˜¯kafkaè¿˜æ˜¯rabbitMq</p><p>åº”ç”¨ç¨‹åºé€šè¿‡**inputs(ç”Ÿäº§è€…)ï¼Œoutputs(æ¶ˆè´¹è€…)**ä¸streamä¸­çš„binderå¯¹è±¡äº¤äº’ï¼Œæˆ‘ä»¬ä¸»è¦æ“ä½œbinderå¯¹è±¡ä¸åº•å±‚mqäº¤äº’å³å¯ã€‚</p><ul><li><p>å¦‚ä½•å±è”½åº•å±‚å·®å¼‚ï¼Ÿ</p><p>ç”±äºä¸åŒçš„æ¶ˆæ¯ä¸­é—´ä»¶å®ç°ç»†èŠ‚æœ‰è¾ƒå¤§å·®å¼‚ï¼Œå®šä¹‰çš„ç»‘å®šå™¨ä½œä¸ºä¸­é—´å±‚ï¼Œå®ç°äº†åº”ç”¨ç¨‹åºä¸æ¶ˆæ¯ä¸­é—´ä»¶ä¹‹é—´çš„éš”ç¦»ï¼Œé€šè¿‡ç¨‹åºæš´éœ²ç»Ÿä¸€çš„channelé€šé“ï¼Œè®©åº”ç”¨ç¨‹åºä¸å†éœ€è¦ä¸æ¶ˆæ¯ä¸­é—´ä»¶äº¤äº’</p></li></ul><p><strong>ä¸šåŠ¡æµç¨‹</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922113702.png"></p><p>sourceç”¨äºè·å–æ•°æ®(è¦å‘é€åˆ°mqçš„æ•°æ®)<br>channelç±»ä¼¼SpringCloudStreamä¸­çš„ä¸­é—´ä»¶,ç”¨äºå­˜æ”¾sourceæ¥æ”¶åˆ°çš„æ•°æ®,æˆ–è€…æ˜¯å­˜æ”¾binderæ‹‰å–çš„æ•°æ®    </p><p><strong>å¸¸ç”¨apiå’Œæ³¨è§£</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922114245.png"></p><h3 id="ä½¿ç”¨SpringCloudStream"><a href="#ä½¿ç”¨SpringCloudStream" class="headerlink" title="ä½¿ç”¨SpringCloudStream"></a>ä½¿ç”¨SpringCloudStream</h3><p>åˆ›å»º3ä¸ªæ¨¡å—ï¼Œ1ä¸ªç”Ÿäº§è€…ï¼Œ2ä¸ªæ¶ˆè´¹è€…</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922164520.png"></p><h4 id="ç”Ÿäº§è€…åˆ›å»º"><a href="#ç”Ÿäº§è€…åˆ›å»º" class="headerlink" title="ç”Ÿäº§è€…åˆ›å»º"></a>ç”Ÿäº§è€…åˆ›å»º</h4><ol><li><p>pom(stream-rabbit)</p></li><li><p>ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922164755.png"></p><p>è®¾ç½®streamä¸­rabbitmqé…ç½®ï¼Œä¹‹åç»‘å®šè¿™ä¸ªé…ç½®</p></li><li><p>ä¸»å¯åŠ¨</p></li><li><p>serviceå’Œå®ç°ç±»</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922165101.png"></p><p><strong>è¿™é‡Œ,å°±ä¼šè°ƒç”¨sendæ–¹æ³•,å°†æ¶ˆæ¯å‘é€ç»™channel,</strong></p><p><strong>ç„¶åchannelé€šè¿‡ä¸Šè¿°çš„é…ç½®æ–‡ä»¶ä¿¡æ¯å°†æ¶ˆè´¹å‘é€ç»™binder,ç„¶åå‘é€åˆ°rabbitmqä¸­</strong></p></li><li><p>controller</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922165246.png"></p></li><li><p>æµ‹è¯•ï¼š</p><p><strong>å¯åŠ¨rabbitmq</strong></p><p><strong>å¯åŠ¨7001,8801</strong></p><p>æ‰“å¼€rabbitmqçš„webç•Œé¢ï¼Œçœ‹åˆ°åˆ›å»ºå‡ºæ¥çš„ç®¡é“Exchangeï¼ˆåœ¨kafkaé‡Œå«åšä¸»é¢˜topicï¼‰,å°±æ˜¯æˆ‘ä»¬é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„exchange</p><p><strong>è®¿é—®8801çš„/sendMessage</strong></p><p>çœ‹åˆ°æ¶ˆæ¯å·²ç»å‘é€åˆ°mqä¸­</p></li></ol><h4 id="æ¶ˆè´¹è€…åˆ›å»º"><a href="#æ¶ˆè´¹è€…åˆ›å»º" class="headerlink" title="æ¶ˆè´¹è€…åˆ›å»º"></a>æ¶ˆè´¹è€…åˆ›å»º</h4><ol><li><p>pomæ–‡ä»¶ï¼ˆstream-rabbitï¼‰</p></li><li><p>ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922170845.png"></p></li><li><p>ä¸»å¯åŠ¨ç±»</p></li><li><p>ä¸šåŠ¡ç±»ï¼ˆæ¶ˆè´¹æ•°æ®ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922170910.png"></p><p><strong>ç”Ÿäº§è€…å‘é€æ¶ˆæ¯æ—¶,ä½¿ç”¨sendæ–¹æ³•å‘é€,sendæ–¹æ³•å‘é€çš„æ˜¯ä¸€ä¸ªä¸ªMessage,é‡Œé¢å°è£…äº†æ•°æ®</strong></p><p>æ‰€ä»¥æ¥æ”¶æ—¶ä¹Ÿè¦ä½¿ç”¨Message<string>æ¥æ¥æ”¶</string></p></li><li><p>æµ‹è¯•</p><p>å¯åŠ¨7001ï¼Œ8801ï¼Œ8802</p><p><strong>ä½¿ç”¨ç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯</strong>ï¼Œæ¶ˆè´¹è€…å·²ç»æ¥æ”¶åˆ°æ¶ˆæ¯</p></li></ol><h4 id="åˆ›å»ºæ¶ˆè´¹è€…2"><a href="#åˆ›å»ºæ¶ˆè´¹è€…2" class="headerlink" title="åˆ›å»ºæ¶ˆè´¹è€…2"></a>åˆ›å»ºæ¶ˆè´¹è€…2</h4><p>åˆ›å»º8003ï¼Œå’Œ8002ä¸€æ‘¸ä¸€æ ·ï¼Œåªæ˜¯ç«¯å£å·ä¸åŒï¼Œä¸ºäº†æ¼”ç¤ºé‡å¤æ¶ˆè´¹ç­‰é—®é¢˜</p><p>é—®é¢˜ï¼šé‡å¤æ¶ˆè´¹ï¼Œå½“ç”Ÿäº§è€…ç”Ÿäº§ä¸€æ¡æ¶ˆæ¯ï¼Œ8002/8003éƒ½æ¶ˆè´¹åˆ°äº†åŒä¸€æ¡æ•°æ®</p><p>åŸå› ï¼š<strong>æ²¡æœ‰åˆ†ç»„ï¼Œä¸åŒç»„æ˜¯å¯ä»¥é‡å¤æ¶ˆè´¹çš„ï¼ŒåŒä¸€ä¸ªç»„ä¸­çš„å¤šä¸ªæ¶ˆè´¹è€…æ˜¯ç«äº‰å…³ç³»ï¼Œèƒ½ä¿è¯æ¶ˆæ¯åªä¼šè¢«å…¶ä¸­ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ä¸€æ¬¡</strong></p><h4 id="è‡ªå®šä¹‰åˆ†ç»„ï¼ˆè§£å†³é‡å¤æ¶ˆè´¹ï¼‰"><a href="#è‡ªå®šä¹‰åˆ†ç»„ï¼ˆè§£å†³é‡å¤æ¶ˆè´¹ï¼‰" class="headerlink" title="è‡ªå®šä¹‰åˆ†ç»„ï¼ˆè§£å†³é‡å¤æ¶ˆè´¹ï¼‰"></a>è‡ªå®šä¹‰åˆ†ç»„ï¼ˆè§£å†³é‡å¤æ¶ˆè´¹ï¼‰</h4><p><strong>ä¿®æ”¹8802,8803çš„é…ç½®æ–‡ä»¶</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922172928.png"></p><p>å°†8802ï¼Œ8803éƒ½åˆ†åˆ°Aç»„</p><p>é‡å¯è¿™ä¸¤ä¸ªæ¶ˆè´¹è€…ï¼Œç”Ÿäº§æ¶ˆæ¯ï¼Œä¼šå‘ç°æ²¡æœ‰é‡å¤æ¶ˆè´¹</p><p><strong>æŒä¹…åŒ–é—®é¢˜</strong>ï¼š</p><p>å½“æœåŠ¡ï¼ˆæ¶ˆè´¹è€…ï¼‰æŒ‚æ‰ï¼Œæ€ä¹ˆæ¶ˆè´¹ç”Ÿäº§è€…ç”Ÿäº§è¿˜æ²¡æœ‰æ¶ˆè´¹çš„æ•°æ®ï¼Ÿ</p><p>ç»“è®ºï¼š<strong>åªè¦åŠ ä¸Šgroupåˆ†ç»„ï¼Œå½“ä¸‹æ¬¡é‡å¯ä¹‹åï¼Œå°±ä¼šè‡ªåŠ¨è·å–æœªæ¶ˆè´¹çš„æ¶ˆæ¯ç»§ç»­æ¶ˆè´¹</strong></p><h2 id="Spring-Cloud-Sleuthé“¾è·¯è¿½è¸ª"><a href="#Spring-Cloud-Sleuthé“¾è·¯è¿½è¸ª" class="headerlink" title="Spring Cloud Sleuthé“¾è·¯è¿½è¸ª"></a>Spring Cloud Sleuthé“¾è·¯è¿½è¸ª</h2><p>é—®é¢˜ï¼šåœ¨å¾®æœåŠ¡æ¡†æ¶ä¸­ï¼Œå®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚åœ¨åç«¯ç³»ç»Ÿå¯èƒ½ä¼šç»è¿‡å¾ˆå¤šæœåŠ¡èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é“¾è·¯è¿½è¸ªæŸ¥çœ‹éƒ½è°ƒç”¨äº†å“ªäº›æœåŠ¡</p><p>sleuthå°±æ˜¯ç”¨äºè¿½è¸ªæ¯ä¸ªè¯·æ±‚çš„æ•´ä½“é“¾è·¯</p><p><strong>åŸç†</strong>ï¼š</p><p>Trace IDï¼šä¸€æ¡é“¾è·¯çš„å”¯ä¸€æ ‡è¯†</p><p>Span IDï¼šä¸€æ¬¡è¯·æ±‚çš„å”¯ä¸€æ ‡è¯†</p><p>Parent IDï¼šä¸Šä¸€æ¬¡è¯·æ±‚çš„å”¯ä¸€æ ‡è¯†</p><p>åœ¨ç»è¿‡ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œsleuthä¼šè®°å½•ä¸‹å„ç§IDï¼Œæœ€åè¿æ¥èµ·æ¥</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922175112.png"></p><h3 id="ä½¿ç”¨-5"><a href="#ä½¿ç”¨-5" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ol><li><p>å®‰è£…zipkinï¼ˆå›¾å½¢åŒ–å±•ç¤ºé“¾è·¯ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922174950.png"></p><ol><li>è¿è¡ŒjaråŒ… <code>java -jar xxxx.jar</code></li><li><strong>ç„¶åå°±å¯ä»¥è®¿é—®webç•Œé¢,  é»˜è®¤zipkinç›‘å¬çš„ç«¯å£æ˜¯9411</strong><code>localhost:9411/zipkin/</code></li></ol></li><li><p>ä½¿ç”¨sleuth</p><ol><li><p>ä¿®æ”¹8001çš„pomï¼ˆzipkinï¼‰</p><p>è¿™ä¸ªåŒ…è™½ç„¶å«zipkinä½†æ˜¯,é‡Œé¢åŒ…å«äº†zpikinä¸sleuth</p></li><li><p>ä¿®æ”¹ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922195310.png"></p></li><li><p>ä¿®æ”¹80çš„pomï¼ˆä¸€æ ·ï¼‰</p></li><li><p>ä¿®æ”¹ymlé…ç½®æ–‡ä»¶ï¼ˆä¸€æ ·ï¼‰</p></li></ol></li><li><p>æµ‹è¯•</p><p>å¯åŠ¨7001,8001,80</p><p><code>localhost:9411/zipkin/</code></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922195438.png"></p></li></ol><h1 id="SpringCloud-Alibaba"><a href="#SpringCloud-Alibaba" class="headerlink" title="SpringCloud Alibaba"></a>SpringCloud Alibaba</h1><p><strong>æ”¯æŒçš„åŠŸèƒ½</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922201639.png"></p><h2 id="Nacosæ³¨å†Œä¸­å¿ƒ-é…ç½®ä¸­å¿ƒ"><a href="#Nacosæ³¨å†Œä¸­å¿ƒ-é…ç½®ä¸­å¿ƒ" class="headerlink" title="Nacosæ³¨å†Œä¸­å¿ƒ+é…ç½®ä¸­å¿ƒ"></a>Nacosæ³¨å†Œä¸­å¿ƒ+é…ç½®ä¸­å¿ƒ</h2><p>Nacos=Eureka+config+bus</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>éœ€è¦java8  å’Œ Maven</p><ol><li><p>åˆ°githubä¸Šä¸‹è½½å®‰è£…åŒ…</p><p>è§£å‹å®‰è£…åŒ…</p></li><li><p>å¯åŠ¨Nacos<strong>ï¼ˆæ³¨å†Œä¸­å¿ƒæœåŠ¡å™¨ï¼‰</strong></p><p>åœ¨binä¸‹,è¿›å…¥cod</p><p>./startup.cmd</p></li><li><p>è®¿é—®Nacos</p><p>Nacosé»˜è®¤ç›‘å¬8848</p><p>localhost:8848/nacos</p><p>è´¦å·å¯†ç :é»˜è®¤éƒ½æ˜¯nacos</p></li></ol><h3 id="ä½¿ç”¨æ³¨å†Œä¸­å¿ƒ"><a href="#ä½¿ç”¨æ³¨å†Œä¸­å¿ƒ" class="headerlink" title="ä½¿ç”¨æ³¨å†Œä¸­å¿ƒ"></a>ä½¿ç”¨æ³¨å†Œä¸­å¿ƒ</h3><h4 id="åˆ›å»ºæœåŠ¡æä¾›è€…"><a href="#åˆ›å»ºæœåŠ¡æä¾›è€…" class="headerlink" title="åˆ›å»ºæœåŠ¡æä¾›è€…"></a>åˆ›å»ºæœåŠ¡æä¾›è€…</h4><p>æ³¨å†Œä¸­å¿ƒæœåŠ¡å™¨å·²ç»ä¸éœ€è¦æˆ‘ä»¬æ‰‹å†™ï¼ŒNacoså¯åŠ¨å°±æ˜¯æœåŠ¡å™¨</p><ol><li><p>åˆ›å»ºæœåŠ¡æä¾›è€…æ¨¡å—cloudalibaba-pay-9001</p></li><li><p>æ”¹pom</p><ol><li>çˆ¶å·¥ç¨‹alibaba-dependencies</li><li>alibaba-nacos-discovery</li></ol></li><li><p>ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922205153.png"></p></li><li><p>ä¸»å¯åŠ¨ç±»@EnableDiscoveryClient</p></li><li><p>controller</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922205220.png"></p></li><li><p>æµ‹è¯•</p><p>å¯åŠ¨nacosï¼Œ9001æœåŠ¡æä¾›è€…</p><p>æŸ¥çœ‹webç•Œé¢ï¼Œçœ‹çœ‹9001æ˜¯å¦æ³¨å†ŒæˆåŠŸ</p></li></ol><h4 id="åˆ›å»ºæœåŠ¡æä¾›è€…2ï¼ˆæµ‹è¯•è´Ÿè½½å‡è¡¡ï¼‰"><a href="#åˆ›å»ºæœåŠ¡æä¾›è€…2ï¼ˆæµ‹è¯•è´Ÿè½½å‡è¡¡ï¼‰" class="headerlink" title="åˆ›å»ºæœåŠ¡æä¾›è€…2ï¼ˆæµ‹è¯•è´Ÿè½½å‡è¡¡ï¼‰"></a>åˆ›å»ºæœåŠ¡æä¾›è€…2ï¼ˆæµ‹è¯•è´Ÿè½½å‡è¡¡ï¼‰</h4><p>ç›´æ¥å¤åˆ¶ä¸Šé¢çš„9001å³å¯</p><h4 id="åˆ›å»ºæ¶ˆè´¹è€…æ¨¡å—"><a href="#åˆ›å»ºæ¶ˆè´¹è€…æ¨¡å—" class="headerlink" title="åˆ›å»ºæ¶ˆè´¹è€…æ¨¡å—"></a>åˆ›å»ºæ¶ˆè´¹è€…æ¨¡å—</h4><ol><li><p>cloudalibaba-order-83</p></li><li><p>Pomï¼ˆalibaba-nacos-discoveryï¼‰</p><p>å› ä¸ºå†…éƒ¨é›†æˆäº†Ribbonï¼Œæ‰€ä»¥è‡ªå¸¦è´Ÿè½½å‡è¡¡åŠŸèƒ½</p></li><li><p>ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922204802.png"></p></li><li><p>ä¸»å¯åŠ¨ç±»@EnableDiscoveryClient</p></li><li><p>é…ç½®ç±»</p><p>å› ä¸ºNaocsè¦ä½¿ç”¨Ribbonè¿›è¡Œè´Ÿè½½å‡è¡¡,é‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨RestTemplate</p><p><strong>@LoadBalancedå¼€å¯è´Ÿè½½å‡è¡¡</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922204932.png"></p></li><li><p>controller</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922205029.png"></p></li><li><p>æµ‹è¯•</p><p>å¯åŠ¨83æ¶ˆè´¹è€…ï¼Œè®¿é—®9001,9002ï¼Œè´Ÿè½½å‡è¡¡</p></li></ol><p><strong>Nacosä¸å…¶ä»–æœåŠ¡æ³¨å†Œçš„å¯¹æ¯”</strong></p><p>Nacoså®ƒæ—¢å¯ä»¥æ”¯æŒCP,ä¹Ÿå¯ä»¥æ”¯æŒAP,å¯ä»¥åˆ‡æ¢</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸éœ€è¦å­˜å‚¨æœåŠ¡çº§åˆ«çš„ï¼Œç”¨APï¼Œé«˜å¯ç”¨è€Œå‰Šå¼±äº†ä¸€è‡´æ€§ï¼Œä¸´æ—¶å®ä¾‹</p><p>éœ€è¦æœåŠ¡çº§åˆ«ç¼–è¾‘æˆ–å­˜å‚¨é…ç½®ä¿¡æ¯ï¼ŒCPæ˜¯å¿…é¡»çš„ï¼ŒæŒä¹…åŒ–å®ä¾‹</p><p>ç”¨äºåˆ‡æ¢æ¨¡å¼</p><p><code>curl -X PUT '$NACOS_SERVER:8848/nacos/v1/ns/operator/switches?entry=serverMode&amp;value=CP'</code></p><h3 id="ä½¿ç”¨é…ç½®ä¸­å¿ƒ"><a href="#ä½¿ç”¨é…ç½®ä¸­å¿ƒ" class="headerlink" title="ä½¿ç”¨é…ç½®ä¸­å¿ƒ"></a>ä½¿ç”¨é…ç½®ä¸­å¿ƒ</h3><p>åœ¨é¡¹ç›®åˆå§‹åŒ–åï¼Œè¦ä¿è¯ä»é…ç½®ä¸­å¿ƒè¿›è¡Œé…ç½®æ‹‰å–ï¼Œæ‹‰å–é…ç½®ä¹‹åï¼Œæ‰èƒ½ä¿è¯ä¸‹é¡¹ç›®æ­£å¸¸å¯ç”¨</p><h4 id="åˆ›å»ºé…ç½®ä¸­å¿ƒçš„å®¢æˆ·ç«¯æ¨¡å—"><a href="#åˆ›å»ºé…ç½®ä¸­å¿ƒçš„å®¢æˆ·ç«¯æ¨¡å—" class="headerlink" title="åˆ›å»ºé…ç½®ä¸­å¿ƒçš„å®¢æˆ·ç«¯æ¨¡å—"></a>åˆ›å»ºé…ç½®ä¸­å¿ƒçš„å®¢æˆ·ç«¯æ¨¡å—</h4><p>cloudalibaba-Nacos-config-client-3377</p><ol><li><p>pom</p><ol><li>alibaba-nacos-config</li><li>alibaba-nacos-discovery</li></ol></li><li><p>yamlé…ç½®æ–‡ä»¶</p><p>è¿™é‡Œéœ€è¦é…ç½®ä¸¤ä¸ªé…ç½®æ–‡ä»¶,application.ymlå’Œbootstrap.ymlï¼ˆé€šç”¨é…ç½®ï¼‰</p><p>ä¸»è¦æ˜¯ä¸ºäº†å¯ä»¥ä¸spring clodu configæ— ç¼è¿ç§»</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922212217.png"></p></li><li><p>ä¸»å¯åŠ¨ç±»@EnableDiscoveryClient</p></li><li><p>controller</p><p>@RefreshScopeæ”¯æŒåŠ¨æ€åˆ·æ–°</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922230813.png"></p></li><li><p><strong>åœ¨Nacosæ·»åŠ é…ç½®ä¿¡æ¯</strong></p><p>Nacosçš„é…ç½®è§„åˆ™ï¼š</p><p>å°±æ˜¯æˆ‘ä»¬åœ¨å®¢æˆ·ç«¯å¦‚ä½•æŒ‡å®šè¯»å–é…ç½®æ–‡ä»¶,é…ç½®æ–‡ä»¶çš„å‘½åçš„è§„åˆ™</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922231143.png"></p><p>prefix:</p><p><strong>é»˜è®¤å°±æ˜¯å½“å‰æœåŠ¡çš„æœåŠ¡åç§°</strong>,ä¹Ÿå¯ä»¥é€šè¿‡spring.cloud.necos.config.prefixé…ç½®</p><p>spring.profile.activeï¼š</p><p>å°±æ˜¯æˆ‘ä»¬åœ¨application.ymlä¸­æŒ‡å®šçš„,å½“å‰æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯æµ‹è¯•ç­‰ç¯å¢ƒï¼Œè¿™ä¸ªå¯ä»¥ä¸é…ç½®,å¦‚æœä¸é…ç½®,é‚£ä¹ˆå‰é¢çš„ -  ä¹Ÿä¼šæ²¡æœ‰</p><p>file-extensionï¼š</p><p>å°±æ˜¯å½“å‰æ–‡ä»¶çš„æ ¼å¼(åç¼€),ç›®å‰åªæ”¯æŒyml/yamlå’Œproperties</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922231413.png"></p><p><strong>åœ¨webé¡µé¢ä¸Šåˆ›å»ºé…ç½®æ–‡ä»¶</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922231601.png"></p><p>Data IDï¼šå°±æ˜¯æŒ‰ç…§å‘½åè§„åˆ™é…ç½®çš„åå­—</p></li><li><p>æµ‹è¯•</p><p>é‡å¯é…ç½®æ–‡ä»¶æ¨¡å—å®¢æˆ·ç«¯</p><p>è®¿é—®controller,<code>localhost:3377/config/info</code></p><p>æ‹¿åˆ°é…ç½®æ–‡ä»¶çš„å€¼</p><p><strong>è¿™æ—¶æˆ‘ä»¬å·²ç»è‡ªåŠ¨å¼€å¯äº†åŠ¨æ€åˆ·æ–°ï¼Œåªè¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯å°±ä¼šç«‹å³åˆ·æ–°ï¼Œå› ä¸ºNacosæ”¯æŒBusæ€»çº¿ï¼Œä¼šè‡ªåŠ¨å‘é€å‘½ä»¤æ›´æ–°æ‰€æœ‰å®¢æˆ·ç«¯</strong></p></li></ol><h4 id="Nacosé…ç½®ä¸­å¿ƒä¹‹åˆ†ç±»é…ç½®"><a href="#Nacosé…ç½®ä¸­å¿ƒä¹‹åˆ†ç±»é…ç½®" class="headerlink" title="Nacosé…ç½®ä¸­å¿ƒä¹‹åˆ†ç±»é…ç½®:"></a>Nacosé…ç½®ä¸­å¿ƒä¹‹åˆ†ç±»é…ç½®:</h4><p>é—®é¢˜ï¼šå®é™…å¼€å‘ä¸­ä¼šä¸ºä¸€ä¸ªç³»ç»Ÿå‡†å¤‡å¤šä¸ªå¼€å‘ç¯å¢ƒï¼Œä¹Ÿä¼šæœ‰å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œä¸ºäº†åŒºåˆ†è¯»å–é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å°†é…ç½®è¿›è¡Œåˆ†ç±»è¯»å–</p><p>é…ç½®æ–‡ä»¶å¯ä»¥å½’ä¸ºï¼šNamespaceï¼ˆå‘½åç©ºé—´ï¼‰+Groupï¼ˆç»„ï¼‰+Data IDï¼ˆå¼€å‘ç¯å¢ƒï¼‰</p><p>é»˜è®¤æƒ…å†µï¼šNamespace=publicï¼ŒGroup=DEFAULT_GROUP,ç¯å¢ƒ=DEFAULT</p><ol><li><p><strong>æŒ‰ç…§ä¸åŒçš„DataIdåˆ’åˆ†</strong></p><ol><li><p>åœ¨é…ç½®ä¸­å¿ƒæ–°å»ºä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼ŒDataIDåˆ†ä¸ºä¸¤ä¸ªï¼Œdev,test</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922234152.png"></p></li><li><p>é€šè¿‡application.ymlé…ç½®æ–‡ä»¶ï¼Œå®ç°å¤šç¯å¢ƒè¯»å–</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922234007.png"></p><p>æ­¤æ—¶,æ”¹ä¸ºdev,å°±ä¼šè¯»å–devçš„é…ç½®æ–‡ä»¶,æ”¹ä¸ºtest,å°±ä¼šè¯»å–testçš„é…ç½®æ–‡ä»¶</p><p>é‡å¯æœåŠ¡</p></li></ol></li><li><p><strong>æŒ‰ç…§ä¸åŒçš„GroupIDåˆ’åˆ†</strong></p><ol><li><p>ç›´æ¥åœ¨é…ç½®ä¸­å¿ƒæ–°å»ºé…ç½®æ–‡ä»¶æ—¶æŒ‡å®šç»„</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922234314.png"></p></li><li><p>åœ¨å®¢æˆ·ç«¯é…ç½®,ä½¿ç”¨æŒ‡å®šç»„çš„é…ç½®æ–‡ä»¶</p><p>bootstrap+application</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922234425.png"></p><p>é‡å¯æœåŠ¡</p></li></ol></li><li><p><strong>æŒ‰ç…§ä¸åŒçš„namespaceåˆ’åˆ†</strong></p><ol><li><p>åˆ›å»ºæ–°å‘½åç©ºé—´ï¼Œåœ¨æ–°å‘½åç©ºé—´ä¸­åˆ›å»ºé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922234645.png"></p></li><li><p>å®¢æˆ·ç«¯é…ç½®ä½¿ç”¨ä¸åŒåç§°ç©ºé—´:</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200922235238.png"></p><p>é‡å¯æœåŠ¡</p></li></ol></li></ol><h3 id="Nacosé›†ç¾¤å’ŒæŒä¹…åŒ–é…ç½®"><a href="#Nacosé›†ç¾¤å’ŒæŒä¹…åŒ–é…ç½®" class="headerlink" title="Nacosé›†ç¾¤å’ŒæŒä¹…åŒ–é…ç½®:"></a>Nacosé›†ç¾¤å’ŒæŒä¹…åŒ–é…ç½®:</h3><p>Nacosé»˜è®¤æœ‰è‡ªå¸¦åµŒå…¥å¼æ•°æ®åº“,derby,ä½†æ˜¯å¦‚æœåšé›†ç¾¤æ¨¡å¼çš„è¯,å°±ä¸èƒ½ä½¿ç”¨è‡ªå·±çš„æ•°æ®åº“</p><p>â€‹            ä¸ç„¶æ¯ä¸ªèŠ‚ç‚¹ä¸€ä¸ªæ•°æ®åº“,é‚£ä¹ˆæ•°æ®å°±ä¸ç»Ÿä¸€äº†,éœ€è¦ä½¿ç”¨å¤–éƒ¨çš„mysql</p><p>Nacosé‡‡ç”¨äº†é›†ä¸­å¼å­˜å‚¨æ–¹å¼æ¥æ”¯æŒé›†ç¾¤åŒ–éƒ¨ç½²ï¼Œç›®å‰åªæ”¯æŒMySQLçš„å­˜å‚¨</p><ol><li><p>åˆ‡æ¢mysqlæ•°æ®åº“:</p><p>å°†é»˜è®¤çš„derbyæ•°æ®åº“åˆ‡æ¢ä¸ºmysqlæ•°æ®åº“ï¼Œ<strong>è¦æ±‚æ•°æ®åº“ï¼ˆ5.6+ï¼‰</strong></p></li><li><p>æ‰¾åˆ°Nacoså®‰è£…ç›®å½•ä¸‹çš„sqlè„šæœ¬ï¼Œåœ¨Mysqlä¸­ä½¿ç”¨è¯¥è„šæœ¬nacos-mysql.sql</p></li><li><p>ä¿®æ”¹Nacoså®‰è£…ç›®å½•ä¸‹çš„å®‰æ’application.properties,æ·»åŠ :</p><pre class=" language-properties"><code class="language-properties"><span class="token attr-name">spring.datasource.platform</span><span class="token punctuation">=</span><span class="token attr-value">mysql</span> <span class="token attr-name">db.num</span><span class="token punctuation">=</span><span class="token attr-value">1</span><span class="token attr-name">db.url.0</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://localhost:3306/nacos_config?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true</span><span class="token attr-name">db.user</span><span class="token punctuation">=</span><span class="token attr-value">root    #å¯å˜</span><span class="token attr-name">db.password</span><span class="token punctuation">=</span><span class="token attr-value">123456    #å¯å˜</span></code></pre></li><li><p>æ­¤æ—¶å¯ä»¥é‡å¯nacos,é‚£ä¹ˆå°±ä¼šæ”¹ä¸ºä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„mysql</p><p>æ•°æ®æ¶ˆå¤±ï¼Œè¯æ˜å·²ç»åˆ‡æ¢æˆåŠŸ</p></li></ol><h3 id="Linuxä¸Šé…ç½®Nacosé›†ç¾¤-Mysqlæ•°æ®åº“"><a href="#Linuxä¸Šé…ç½®Nacosé›†ç¾¤-Mysqlæ•°æ®åº“" class="headerlink" title="Linuxä¸Šé…ç½®Nacosé›†ç¾¤+Mysqlæ•°æ®åº“"></a>Linuxä¸Šé…ç½®Nacosé›†ç¾¤+Mysqlæ•°æ®åº“</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923083139.png"></p><p><strong>éœ€è¦1ä¸ªnginxï¼Œ3ä¸ªNacos,1ä¸ªMysql</strong></p><ol><li><p>ä¸‹è½½å®‰è£…Nacosçš„Linuxç‰ˆå®‰è£…åŒ…</p></li><li><p>è¿›å…¥å®‰è£…ç›®å½•,ç°åœ¨æ‰§è¡Œè‡ªå¸¦çš„sqlæ–‡ä»¶(<strong>é…ç½®Mysql</strong>)</p><p>è¿›å…¥mysql,æ‰§è¡Œsqlæ–‡ä»¶</p></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶,åˆ‡æ¢ä¸ºæˆ‘ä»¬çš„mysql(<strong>é…ç½®Nacos</strong>)</p><p>å°±æ˜¯ä¸Šé¢windosç‰ˆè¦ä¿®æ”¹çš„å‡ ä¸ªå±æ€§(application.properties)</p></li><li><p>ä¿®æ”¹cluster.conf,æŒ‡å®šå“ªå‡ ä¸ªèŠ‚ç‚¹æ˜¯Nacosé›†ç¾¤</p><p>è¿™é‡Œä½¿ç”¨3333,4444,5555ä½œä¸ºä¸‰ä¸ªNacosèŠ‚ç‚¹ç›‘å¬çš„ç«¯å£</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923091248.png"></p></li><li><p>è®¾ç½®ç«¯å£å¯åŠ¨</p><p>æ—¢ç„¶è¦åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šå¯åŠ¨ä¸åŒNacoså®ä¾‹,å°±è¦ä¿®æ”¹startup.sh,ä½¿å…¶æ ¹æ®ä¸åŒç«¯å£å¯åŠ¨ä¸åŒNacoså®ä¾‹</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923091317.png"></p><p>å¯ä»¥çœ‹åˆ°,è¿™ä¸ªè„šæœ¬å°±æ˜¯é€šè¿‡jvmå¯åŠ¨nacos</p><p>â€‹        æ‰€ä»¥æˆ‘ä»¬æœ€åä¿®æ”¹çš„ç»“æœå°±æ˜¯,nohup java -Dserver.port=3344</p></li><li><p>å¯åŠ¨Nacosé›†ç¾¤</p><p>./startup.sh -p 3333</p><p>./startup.sh -p 4444</p><p>./startup.sh -p 5555</p></li><li><p><strong>é…ç½®Nginx:</strong></p><ol><li><p>ä¿®æ”¹nginxé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923091703.png"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923091852.png"></p></li><li><p>æŒ‰ç…§æŒ‡å®šå¯åŠ¨</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923092958.png"></p></li><li><p>æµ‹è¯•</p><p>è®¿é—®ï¼Œè‡ªå·±è™šæ‹Ÿæœºipï¼š1111</p><p>å¦‚æœè¿›å…¥äº†nacosçš„Webç•Œé¢ï¼Œè¯æ˜æˆåŠŸ</p></li><li><p>å°†å¾®æœåŠ¡æ³¨å†Œè¿›Nacosé›†ç¾¤ä¸­</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923092958.png"></p></li><li><p>è¿›å»webç•Œé¢ï¼Œçœ‹æ˜¯å¦æ³¨å†ŒæˆåŠŸ</p></li></ol></li></ol><h2 id="SentinelæœåŠ¡ç†”æ–­ã€é™æµ"><a href="#SentinelæœåŠ¡ç†”æ–­ã€é™æµ" class="headerlink" title="SentinelæœåŠ¡ç†”æ–­ã€é™æµ:"></a>SentinelæœåŠ¡ç†”æ–­ã€é™æµ:</h2><p>Hystrixä¸Sentinelå¯¹æ¯”</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923100125.png"></p><h3 id="ä½¿ç”¨Sentinel"><a href="#ä½¿ç”¨Sentinel" class="headerlink" title="ä½¿ç”¨Sentinel"></a>ä½¿ç”¨Sentinel</h3><ol><li><p>ä¸‹è½½Sentinelçš„jaråŒ…</p></li><li><p>è¿è¡Œsentinel</p><p>java -jar</p><p>æ³¨æ„ï¼šsentinelçš„é»˜è®¤ç«¯å£ä¸º8080</p></li><li><p>è®¿é—®sentinel</p><p>localhost:8080</p></li></ol><h3 id="å¾®æœåŠ¡æ•´åˆsentinel"><a href="#å¾®æœåŠ¡æ•´åˆsentinel" class="headerlink" title="å¾®æœåŠ¡æ•´åˆsentinel:"></a>å¾®æœåŠ¡æ•´åˆsentinel:</h3><ol><li><p>å¯åŠ¨sentinel</p></li><li><p>æ–°å»ºæ¨¡å—8401ï¼Œä¸»è¦ç”¨äºé…ç½®sentinel</p><ol><li><p>pom</p><ol><li>alibaba-nacos-discoveryï¼ˆä¸»è¦ï¼‰</li><li>sentinel-datasource-nacos</li><li>alibaba-sentinel(ä¸»è¦)</li><li>openfeign</li></ol></li><li><p>ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923100105.png"></p></li><li><p>ä¸»å¯åŠ¨@EnableDiscoveryClient</p></li><li><p>controller</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923100219.png"></p></li><li><p>å¯åŠ¨æµ‹è¯•</p><p>æ³¨æ„ï¼š</p><p>sentinelæ˜¯æ‡’åŠ è½½,éœ€è¦æˆ‘ä»¬æ‰§è¡Œä¸€æ¬¡è®¿é—®,æ‰ä¼šæœ‰ä¿¡æ¯</p><p>è®¿é—®localhost/8401/testAï¼Œåˆ·æ–°æ§åˆ¶å°ï¼Œå³å¯çœ‹åˆ°</p></li></ol></li></ol><h3 id="sentinelçš„æµæ§è§„åˆ™"><a href="#sentinelçš„æµæ§è§„åˆ™" class="headerlink" title="sentinelçš„æµæ§è§„åˆ™"></a>sentinelçš„æµæ§è§„åˆ™</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923103637.png"></p><p><strong>æµæ§æ¨¡å¼</strong></p><ol><li><p>QPSç›´æ¥å¿«é€Ÿå¤±è´¥ï¼ˆæ¯ç§’è¯·æ±‚æ•°é‡è¾¾åˆ°é˜ˆå€¼ï¼Œç›´æ¥å¤±è´¥ï¼Œéƒ½ä¸ç»™åˆ†é…çº¿ç¨‹ï¼‰<strong>è¯·æ±‚è¿›ä¸å»æœåŠ¡å†…</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923103820.png"></p></li><li><p>çº¿ç¨‹æ•°ï¼ˆå½“çº¿ç¨‹æ•°è¾¾åˆ°é˜ˆå€¼ï¼Œç›´æ¥å¤±è´¥ï¼Œå³éƒ½æ”¾è¿›æ¥ï¼Œçº¿ç¨‹å æ»¡å°±ä¸å¤±è´¥ï¼‰<strong>è¿›å»æœåŠ¡å†…ï¼Œè¶…è¿‡é˜ˆå€¼å†å¤±è´¥</strong></p></li><li><p>å…³è”ï¼ˆæœåŠ¡Aå…³è”æœåŠ¡Bï¼Œå½“Aè¾¾åˆ°é˜ˆå€¼ï¼ŒBä¹Ÿä¼šå¤±è´¥ï¼‰</p><p>==åº”ç”¨åœºæ™¯:  æ¯”å¦‚<strong>æ”¯ä»˜æ¥å£</strong>è¾¾åˆ°é˜ˆå€¼,å°±è¦é™æµä¸‹<strong>è®¢å•çš„æ¥å£</strong>,é˜²æ­¢ä¸€ç›´æœ‰è®¢å•==</p></li><li><p>é“¾è·¯ï¼ˆå¤šä¸ªè¯·æ±‚éƒ½æ¥è‡ªåŒä¸€ä¸ªæœåŠ¡ï¼‰</p></li></ol><p><strong>æµæ§æ•ˆæœ</strong></p><ol><li><p>é¢„çƒ­Warm up:å†·å¯åŠ¨æ–¹å¼ï¼Œå½“ç³»ç»Ÿé•¿æœŸå¤„äºä½æ°´ä½ï¼ˆå¹¶å‘é‡å°ï¼‰æƒ…å†µä¸‹ï¼Œæµé‡çªç„¶å¢åŠ ï¼Œæ‹‰å‡åˆ°é«˜æ°´ä½ï¼Œå†·å¯åŠ¨å¯ä»¥å†ä¸€å®šæ—¶é—´å†…ä¸»é”®å¢åŠ åˆ°é˜ˆå€¼çš„ä¸Šé™ã€‚</p><p>èµ·å§‹é˜ˆå€¼ï¼šé˜ˆå€¼/å†·åŠ è½½å› å­ï¼ˆé»˜è®¤ä¸º3ï¼‰ï¼Œ</p><p>é¢„çƒ­æ—¶é•¿ï¼šåœ¨å‡ ç§’åè¾¾åˆ°é˜ˆå€¼</p><p>==åº”ç”¨åœºæ™¯ï¼šç§’æ€==</p></li><li><p>æ’é˜Ÿç­‰å¾…ï¼šè®©è¯·æ±‚åŒ€é€Ÿé€šè¿‡ï¼Œé˜ˆå€¼ç±»å‹å¿…é¡»æ˜¯qps</p><p>å¦‚æ¯ç§’é€šè¿‡1æ¬¡è¯·æ±‚ï¼Œè¶…è¿‡é˜ˆå€¼ä¹Ÿä¸ä¼šå¤±è´¥ï¼Œè¿›è¡Œæ’é˜Ÿç­‰å¾…ï¼Œå¦‚æœç­‰å¾…æ—¶é•¿è¶…è¿‡è¶…æ—¶æ—¶é—´ï¼Œå†å¤±è´¥</p><p>==åº”ç”¨åœºæ™¯ï¼šä¸€ä¼šå¹¶å‘é‡é«˜ï¼Œä¸€ä¼šå¹¶å‘é‡ä½==</p></li></ol><h3 id="é™çº§è§„åˆ™"><a href="#é™çº§è§„åˆ™" class="headerlink" title="é™çº§è§„åˆ™"></a>é™çº§è§„åˆ™</h3><p><strong>ç†”æ–­é™çº§</strong>ï¼šåœ¨è°ƒç”¨é“¾è·¯ä¸­æŸä¸ªèµ„æºä¸ç¨³å®šï¼Œå°±å¯¹å…¶è¿›è¡Œé™åˆ¶ï¼Œè®©è¯·æ±‚å¿«é€Ÿå¤±è´¥ï¼Œé¿å…çº§è”é”™è¯¯</p><p><strong>Sentinel</strong>æ–­è·¯å™¨æ²¡æœ‰åŠå¼€çŠ¶æ€</p><ol><li><strong>RT</strong>ï¼šç§’çº§å¹³å‡å“åº”æ—¶é—´ï¼Œè¡¨ç¤ºè¯·æ±‚å¤„ç†è¦åœ¨è§„å®šæ—¶é—´å†…å®Œæˆ</li></ol><p>â€‹        å¿…é¡»æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ‰èƒ½è§¦å‘æ–­è·¯å™¨ï¼š</p><p>â€‹        1ç§’å†…è¶…è¿‡5ä¸ªè¯·æ±‚ï¼ˆé»˜è®¤çš„ï¼‰</p><p>â€‹        å“åº”æ—¶é—´&gt;å¹³å‡å“åº”æ—¶é—´ï¼ˆå°±æ˜¯è¯·æ±‚å¤„ç†æ—¶é—´è¶…è¿‡äº†è§„å®šçš„æ—¶é—´ï¼‰</p><ol start="2"><li><strong>å¼‚å¸¸æ¯”ä¾‹</strong>ï¼šæ¯ç§’å¼‚å¸¸æ€»æ•°çš„æ¯”ä¾‹è¶…è¿‡å¼‚å¸¸æ¯”ä¾‹é˜ˆå€¼</li></ol><p>â€‹        1ç§’å†…è¶…è¿‡5ä¸ªè¯·æ±‚ï¼ˆé»˜è®¤çš„ï¼‰</p><p>â€‹        ==å¦‚æœæ²¡æœ‰è§¦å‘ç†”æ–­æ¡ä»¶ï¼Œå°±ä¼šæ­£å¸¸æŠ›å‡ºå¼‚å¸¸==</p><ol start="3"><li><strong>å¼‚å¸¸æ•°</strong>ï¼š1åˆ†é’Ÿå†…å¼‚å¸¸æ•°å¤§äºé˜ˆå€¼</li></ol><p>â€‹        1ç§’å†…è¶…è¿‡5ä¸ªè¯·æ±‚ï¼ˆé»˜è®¤çš„ï¼‰</p><p>â€‹        <strong>æ—¶é—´çª—å£è¦è¶…è¿‡60ç§’</strong></p><h3 id="çƒ­ç‚¹è§„åˆ™"><a href="#çƒ­ç‚¹è§„åˆ™" class="headerlink" title="çƒ­ç‚¹è§„åˆ™"></a>çƒ­ç‚¹è§„åˆ™</h3><p>çƒ­ç‚¹å³ç»å¸¸è®¿é—®çš„æ•°æ®ï¼Œå¾ˆå¤šæ—¶å€™æŸä¸ªçƒ­ç‚¹æ•°æ®è®¿é—®é¢‘æ¬¡å¾ˆé«˜ï¼Œéœ€è¦æˆ‘ä»¬è¿›è¡Œé™åˆ¶</p><p>å¦‚ï¼šå•†å“IDä½œä¸ºå‚æ•°ï¼Œæˆ‘ä»¬å°±è¦æ ¹æ®å•†å“çš„IDè¿›è¡Œé™åˆ¶</p><p><strong>å¦‚ä½•è‡ªå®šä¹‰é™çº§æ–¹æ³•,è€Œä¸æ˜¯é»˜è®¤çš„æŠ›å‡ºå¼‚å¸¸</strong></p><p>ä½¿ç”¨**@SentinelResource**ç›´æ¥å®ç°é™çº§æ–¹æ³•,å®ƒç­‰åŒHystrixçš„@HystrixCommand</p><p>valueï¼šéšæ„å–ï¼Œå³çƒ­ç‚¹çš„èµ„æºå</p><p>blockHandlerï¼šæŒ‡å®šçš„é™çº§æ–¹æ³•ï¼Œè·³è½¬è‡ªå®šä¹‰çš„é¡µé¢</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923132107.png"></p><blockquote><p>æ³¨æ„ï¼šå½“æ²¡æœ‰è®¾ç½®blockHandleré™çº§æ–¹æ³•æ—¶ï¼Œä¼šå‘å‰å°æŠ›å¼‚å¸¸</p></blockquote><p><strong>å®šä¹‰çƒ­ç‚¹è§„åˆ™</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923132242.png"></p><p>å‚æ•°ç´¢å¼•ä»0å¼€å§‹ï¼Œ0å°±æ˜¯ä»£è¡¨ç¬¬ä¸€ä¸ªå‚æ•°</p><p>è¿™ä¸ªæ„æ€å°±æ˜¯ï¼šå½“ä¼ é€’çš„å‚æ•°æ¯ç§’é¢‘æ¬¡è¶…è¿‡1ï¼Œå°±ä¼šè°ƒç”¨é™çº§æ–¹æ³•ã€‚ä½†æ˜¯æˆ‘ä»¬è®¿é—®<strong>å…¶ä»–å‚æ•°</strong>æ²¡æœ‰é—®é¢˜</p><p><strong>è®¾ç½®å‚æ•°ä¾‹å¤–é¡¹</strong></p><p>ä¸“é—¨è®¾å®šæŸä¸ªå‚æ•°çš„å€¼ä¸ºå‡ çš„ï¼Œæœ‰ä¸“é—¨çš„é™æµé˜ˆå€¼å¤„ç†</p><p>å¦‚ï¼šå‚æ•°p1çš„å€¼ä¸º5ï¼Œé™æµé˜ˆå€¼ä¸º200ï¼Œå³p1å…¶ä»–å€¼å—å•æœºé˜ˆå€¼1çš„å½±å“ï¼Œè€Œ5å—200çš„å½±å“</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923132736.png"></p><blockquote><p>æ³¨æ„ï¼šå¦‚æœè¯·æ±‚ä¸­æœ‰å¼‚å¸¸ï¼Œå°±ä¸ä¼šèµ°é™çº§çš„æ–¹æ³•ï¼Œå®ƒåªä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•åªæ˜¯è®¾ç½®çƒ­ç‚¹è§„åˆ™ï¼Œæ²¡æœ‰å¯¹å¼‚å¸¸å¤„ç†çš„æœºåˆ¶ã€‚</p></blockquote><h3 id="ç³»ç»Ÿè§„åˆ™"><a href="#ç³»ç»Ÿè§„åˆ™" class="headerlink" title="ç³»ç»Ÿè§„åˆ™"></a>ç³»ç»Ÿè§„åˆ™</h3><p>ç³»ç»Ÿè‡ªé€‚åº”é™æµ:ä»æ•´ä½“ç»´åº¦å¯¹åº”ç”¨å…¥å£è¿›è¡Œé™æµ</p><p>å°±æ˜¯å¤§é—¨å£ï¼Œæ ¹æ®æ•´ä¸ªç³»ç»Ÿçš„æƒ…å†µæ¥é™æµ</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923133633.png"></p><h3 id="SentinelResourceæ³¨è§£"><a href="#SentinelResourceæ³¨è§£" class="headerlink" title="@SentinelResourceæ³¨è§£:"></a>@SentinelResourceæ³¨è§£:</h3><p><strong>ç”¨äºé…ç½®é™çº§</strong></p><ol><li><p>æ­å»ºç¯å¢ƒ</p></li><li><p>ä¸º8401æ·»åŠ ä¾èµ–</p><p>æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„commonåŒ…çš„ä¾èµ–</p></li><li><p>é¢å¤–åˆ›å»ºä¸€ä¸ªcontrollerç±»</p><p><strong>blockHandlerå¦‚æœä¸è®¾ç½®ï¼Œå°±å¼¹å‡ºç³»ç»Ÿé»˜è®¤çš„é™çº§é¡µé¢</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923135202.png"></p></li><li><p>è®¾ç½®é™æµ</p><p><strong>==æ³¨æ„,æˆ‘ä»¬è¿™é‡Œé…ç½®è§„åˆ™,èµ„æºåæŒ‡å®šçš„æ˜¯@SentinelResourceæ³¨è§£valueçš„å€¼,ä¹Ÿå¯ä»¥æ—¶è®¿é—®è·¯å¾„==</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923135501.png"></p></li><li><p>æµ‹è¯•</p><p>é—®é¢˜ï¼šå½“8401æœåŠ¡è¢«å…³é—­åï¼Œå®šä¹‰çš„é™æµè§„åˆ™å°±æ²¡æœ‰äº†ï¼Œå› ä¸ºæ˜¯ä¸´æ—¶çš„</p></li></ol><p><strong>å¯ä»¥çœ‹åˆ°,ä¸Šé¢é…ç½®çš„é™çº§æ–¹æ³•,åˆå‡ºç°Hystrixé‡åˆ°çš„é—®é¢˜äº†</strong></p><p>â€‹            é™çº§æ–¹æ³•ä¸ä¸šåŠ¡æ–¹æ³•è€¦åˆ</p><p>â€‹            æ¯ä¸ªä¸šåŠ¡æ–¹æ³•éƒ½éœ€è¦å¯¹åº”ä¸€ä¸ªé™çº§æ–¹æ³•</p><h3 id="è‡ªå®šä¹‰é™æµå¤„ç†é€»è¾‘"><a href="#è‡ªå®šä¹‰é™æµå¤„ç†é€»è¾‘" class="headerlink" title="è‡ªå®šä¹‰é™æµå¤„ç†é€»è¾‘"></a>è‡ªå®šä¹‰é™æµå¤„ç†é€»è¾‘</h3><ol><li><p>å•ç‹¬åˆ›å»ºä¸€ä¸ªç±»ï¼Œç”¨äºå¤„ç†é™æµå…œåº•</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923135656.png"></p></li><li><p>åœ¨controllerä¸­,æŒ‡å®šä½¿ç”¨è‡ªå®šä¹‰ç±»ä¸­çš„æ–¹æ³•ä½œä¸ºé™çº§æ–¹æ³•</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923135734.png"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923140129.png"></p></li><li><p>æµ‹è¯•</p></li></ol><h2 id="æœåŠ¡ç†”æ–­"><a href="#æœåŠ¡ç†”æ–­" class="headerlink" title="æœåŠ¡ç†”æ–­"></a>æœåŠ¡ç†”æ–­</h2><p><strong>ä¸€èˆ¬æœåŠ¡ç†”æ–­æ˜¯ç”¨åœ¨æ¶ˆè´¹è€…æ¨¡å—ï¼Œå¯¹å…¶è¿›è¡Œé™çº§ã€é™æµç­‰æ“ä½œ</strong></p><ol><li><p>é…ç½®ç¯å¢ƒ</p><ol><li><p><strong>å¯åŠ¨nacoså’Œsentinel</strong></p></li><li><p>æ–°å»ºä¸¤ä¸ªæœåŠ¡æä¾›è€…æ¨¡å—  9003å’Œ9004ï¼ˆé…ç½®ä¸€æ ·ï¼‰</p><p>cloudalibaba-provider-payment9003/9004</p><ol><li><p>pom</p></li><li><p>yml</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923150235.png"></p></li><li><p>ä¸»å¯åŠ¨@EnableDiscoveryClient</p></li><li><p>controller</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923150307.png"></p><p>å¯åŠ¨9003ï¼Œ9004</p></li></ol></li><li><p>æ–°å»ºæ¶ˆè´¹è€…æ¨¡å—</p><p>cloudalibaba-consumer-payment-84</p><ol><li><p>pom</p></li><li><p>ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923145732.png"></p></li><li><p>ä¸»å¯åŠ¨ç±»@EnableDiscoveryClient</p></li><li><p>RestTemplateé…ç½®ç±»</p></li><li><p>controller</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923150203.png"></p></li></ol></li></ol></li><li><p><strong>ä¸ºä¸šåŠ¡æ–¹æ³•(æ¶ˆè´¹è€…)å¢åŠ fallbackæ¥æŒ‡å®šé™çº§æ–¹æ³•</strong>ï¼ˆå¤„ç†javaå¼‚å¸¸ï¼‰</p><p>é‡å¯orderï¼ˆå› ä¸ºçƒ­éƒ¨ç½²å¯¹javaä»£ç æ•æ„Ÿï¼Œå¯¹äºæ³¨è§£ä¸æ˜¯å¾ˆæ•æ„Ÿï¼Œå»ºè®®é‡å¯ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923150125.png"></p><p> ==æ‰€ä»¥,fallbackæ˜¯ç”¨äºç®¡ç†å¼‚å¸¸çš„,å½“ä¸šåŠ¡æ–¹æ³•å‘ç”Ÿå¼‚å¸¸,å¯ä»¥é™çº§åˆ°æŒ‡å®šæ–¹æ³•==</p></li><li><p><strong>ä¸ºä¸šåŠ¡æ–¹æ³•æ·»åŠ blockHandler,çœ‹çœ‹æ˜¯ä»€ä¹ˆæ•ˆæœ</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923151418.png"></p><p> å¯ä»¥çœ‹åˆ°.,ç›´æ¥æŠ¥é”™äº†,å¹¶æ²¡æœ‰é™çº§</p><p>ä¹Ÿå°±æ˜¯è¯´,==blockHandleråªè´Ÿè´£sentienlå®šä¹‰çš„è§„åˆ™é™çº§==</p></li><li><p><strong>fallbackå’ŒblockHandleréƒ½é…ç½®</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923150644.png"></p><p>æµ‹è¯•ï¼š</p><p>è®¾ç½®é™æµï¼Œä¼šå‘ç°å½“ä¸¤ä¸ªéƒ½åŒæ—¶ç”Ÿæ•ˆæ—¶,==blockhandlerä¼˜å…ˆç”Ÿæ•ˆ==</p></li><li><p><strong>@SentinelResourceè¿˜æœ‰ä¸€ä¸ªå±æ€§,exceptionsToIgnore</strong></p><p>å¿½ç•¥å¼‚å¸¸ï¼ŒæŒ‡å®šä¸€ä¸ªå¼‚å¸¸ï¼Œå¦‚æœå‡ºç°äº†è¯¥å¼‚å¸¸ä¸ä¼šèµ°é™çº§æ–¹æ³•ï¼Œç›´æ¥å‘ç”¨æˆ·æŠ›å‡ºå¼‚å¸¸</p></li></ol><h3 id="sentinelæ•´åˆribbon-openFeign-fallback"><a href="#sentinelæ•´åˆribbon-openFeign-fallback" class="headerlink" title="sentinelæ•´åˆribbon+openFeign+fallback"></a>sentinelæ•´åˆribbon+openFeign+fallback</h3><ol><li><p>ä¿®æ”¹æ¶ˆè´¹è€…84æ¨¡å—,ä½¿å…¶æ”¯æŒfeign</p><ol><li><p>pom(openfeign)</p></li><li><p>ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923153459.png"></p></li><li><p>ä¸»é…ç½®ç±»ï¼ˆ@EnableFeignClientsï¼‰</p></li><li><p>åˆ›å»ºè¿œç¨‹è°ƒç”¨æœåŠ¡æä¾›è€…æ¨¡å—çš„æ¥å£</p></li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923153759.png"></p><ol start="8"><li><p>æµ‹è¯•ï¼š</p><p>å¯åŠ¨9003æœåŠ¡æä¾›è€…ï¼Œ84æ¶ˆè´¹è€…</p><p>å½“å…³é—­9003æ—¶ï¼Œå¦‚æœæ²¡æœ‰æ’é™¤å¼‚å¸¸ï¼Œè€Œæ˜¯è¢«è°ƒç”¨äº†é™çº§æ–¹æ³•ï¼Œåˆ™ä¸ºæˆåŠŸ</p></li></ol></li></ol><h3 id="sentinelæŒä¹…åŒ–è§„åˆ™"><a href="#sentinelæŒä¹…åŒ–è§„åˆ™" class="headerlink" title="sentinelæŒä¹…åŒ–è§„åˆ™"></a>sentinelæŒä¹…åŒ–è§„åˆ™</h3><p>é»˜è®¤è§„åˆ™æ˜¯ä¸´æ—¶å­˜å‚¨çš„,é‡å¯sentinelå°±ä¼šæ¶ˆå¤±</p><p>å°†é™æµé…ç½®è§„åˆ™æŒä¹…åŒ–è¿›Nacosä¿å­˜ï¼Œåªè¦åˆ·æ–°æœåŠ¡çš„æŸä¸ªreståœ°å€ï¼Œsentinelæ§åˆ¶å°çš„ç•™ç©ºè§„åˆ™å°±èƒ½çœ‹åˆ°ï¼Œåªè¦Nacosé‡Œé¢çš„é…ç½®ä¸åˆ é™¤ï¼Œé’ˆå¯¹æœåŠ¡ä¸Šçš„sentinelä¸Šçš„æµæ§è§„åˆ™å°±æŒç»­æœ‰æ•ˆ</p><p><strong>è¿™é‡Œä»¥8401ä¸ºä¾‹ä¿®æ”¹</strong></p><ol><li><p>pomï¼ˆsentinel-datasource-nacosï¼‰</p></li><li><p>ä¿®æ”¹ymlé…ç½®æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923155617.png"></p><p><strong>å®é™…ä¸Šå°±æ˜¯æŒ‡å®š,æˆ‘ä»¬çš„è§„åˆ™è¦ä¿è¯åœ¨å“ªä¸ªåç§°ç©ºé—´çš„å“ªä¸ªåˆ†ç»„ä¸‹ï¼Œä¸‹æ¬¡å°±åœ¨è¿™ä¸ªåœ°æ–¹å–å‡º</strong></p><p>è¿™é‡Œæ²¡æœ‰æŒ‡å®šnamespace, ä½†æ˜¯æ˜¯å¯ä»¥æŒ‡å®šçš„</p><p>æ³¨æ„,è¿™é‡Œçš„dataidè¦ä¸8401çš„æœåŠ¡åä¸€è‡´</p><p>server-addrï¼šnacosçš„åœ°å€</p><p>dataIdï¼šæœåŠ¡å</p><p>groupIdï¼šç»„å</p><p>data-typeï¼šæ•°æ®ç±»å‹</p><p>rule-typeï¼šflow(æµæ§é…ç½®)</p></li><li><p>åœ¨nacosä¸­åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶</p><p><strong>dataIdå°±æ˜¯ä¸Šé¢é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šçš„</strong>ï¼Œè¿™ä¸ªå°±æ˜¯æŒä¹…åŒ–çš„é…ç½®</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200923160034.png"></p><p>==jsonä¸­,è¿™äº›å±æ€§çš„å«ä¹‰:==</p></li><li><p>å¯åŠ¨8401ï¼Œè®¿é—®restè¯·æ±‚</p><p>å¯ä»¥çœ‹åˆ°sentinelå·²ç»è¯»å–åˆ°äº†è§„åˆ™</p><p>å…³é—­8401åï¼Œè§„åˆ™å°±æ¶ˆå¤±äº†ï¼Œå†æ¬¡å¯åŠ¨å°±ä¼šå†è¯»å–åˆ°è§„åˆ™</p></li></ol><h2 id="Seataåˆ†å¸ƒå¼äº‹åŠ¡"><a href="#Seataåˆ†å¸ƒå¼äº‹åŠ¡" class="headerlink" title="Seataåˆ†å¸ƒå¼äº‹åŠ¡"></a>Seataåˆ†å¸ƒå¼äº‹åŠ¡</h2><p>æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡çš„è§£å†³æ–¹æ¡ˆ</p><p>ä¸€æ¬¡ä¸šåŠ¡æ“ä½œéœ€è¦å¤šä¸ªæ•°æ®æºæˆ–éœ€è¦è·¨å¤šä¸ªç³»ç»Ÿè¿›è¡Œè¿œç¨‹è°ƒç”¨ï¼Œå°±ä¼šäº§ç”Ÿåˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜</p><h3 id="æ¦‚å¿µ-2"><a href="#æ¦‚å¿µ-2" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200924190513.png"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200924190641.png"></p><h3 id="seataå®‰è£…"><a href="#seataå®‰è£…" class="headerlink" title="seataå®‰è£…"></a>seataå®‰è£…</h3><ol><li><p>ä¸‹è½½å®‰è£…seataçš„å®‰è£…åŒ…ï¼Œè§£å‹</p></li><li><p>ä¿®æ”¹file.confï¼ˆè®°å¾—å…ˆå¤‡ä»½ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200924190826.png"></p></li><li><p>mysqlå»ºåº“å»ºè¡¨</p><ol><li>ä¸Šé¢æŒ‡å®šäº†æ•°æ®åº“åä¸ºseataï¼Œåˆ›å»ºä¸€ä¸ªæ•°æ®åº“åä¸ºseata</li><li>å»ºè¡¨,åœ¨seataçš„å®‰è£…ç›®å½•ä¸‹æœ‰ä¸€ä¸ªdb_store.sql,è¿è¡Œå³å¯</li></ol></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶registry.conf</p><p>é…ç½®seataä½œä¸ºå¾®æœåŠ¡,æŒ‡å®šæ³¨å†Œä¸­å¿ƒ</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200924201306.png"></p></li><li><p>å¯åŠ¨</p><p>å…ˆå¯åŠ¨nacos</p><p>å†å¯åŠ¨seata-server(è¿è¡Œå®‰è£…ç›®å½•ä¸‹çš„,seata-server.bat)</p></li></ol><h3 id="æ­å»ºä¸šåŠ¡ç¯å¢ƒ"><a href="#æ­å»ºä¸šåŠ¡ç¯å¢ƒ" class="headerlink" title="æ­å»ºä¸šåŠ¡ç¯å¢ƒ"></a>æ­å»ºä¸šåŠ¡ç¯å¢ƒ</h3><blockquote><p>ä¸šåŠ¡è¯´æ˜ï¼š</p><p>æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸‰ä¸ªæœåŠ¡ï¼šè®¢å•æœåŠ¡ï¼Œåº“å­˜æœåŠ¡ï¼Œè´¦æˆ·æœåŠ¡</p><p>åœºæ™¯ï¼š</p><ol><li>å½“ç”¨æˆ·ä¸‹å•æ—¶ï¼Œä¼šå†è®¢å•æœåŠ¡ä¸­åˆ›å»ºä¸€ä¸ªè®¢å•ï¼Œ</li><li>ç„¶åé€šè¿‡è¿œç¨‹è°ƒç”¨åº“å­˜æœåŠ¡æ‰£å‡å•†å“åº“å­˜ã€‚</li><li>é€šè¿‡è¿œç¨‹è°ƒç”¨è´¦æˆ·æœåŠ¡æ‰£å‡è´¦æˆ·ä½™é¢ï¼Œ</li><li>æœ€ååœ¨è®¢å•æœåŠ¡ä¸­ä¿®æ”¹è®¢å•çŠ¶æ€ä¸ºå·²å®Œæˆ</li></ol></blockquote><ol><li><p>åˆ›å»ºä¸‰ä¸ªæ•°æ®åº“</p><ol><li>seata_orderï¼šå­˜å‚¨è®¢å•æ•°æ®åº“</li><li>seata_storageï¼šå­˜å‚¨åº“å­˜æ•°æ®åº“</li><li>seata_accountï¼šå­˜å‚¨è´¦æˆ·ä¿¡æ¯æ•°æ®åº“</li></ol></li><li><p>åˆ›å»ºå¯¹åº”çš„è¡¨</p><ol><li>t_order</li><li>t_storage</li><li>t_account</li></ol></li><li><p>åˆ›å»ºå›æ»šæ—¥å¿—è¡¨,æ–¹ä¾¿æŸ¥çœ‹</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200924201238.png"></p><p><strong>æ³¨æ„==æ¯ä¸ªåº“éƒ½è¦æ‰§è¡Œä¸€æ¬¡==è¿™ä¸ªsql,ç”Ÿæˆå›æ»šæ—¥å¿—è¡¨</strong></p></li><li><p>æ¯ä¸ªä¸šåŠ¡éƒ½åˆ›å»ºä¸€ä¸ªå¾®æœåŠ¡,ä¹Ÿå°±æ˜¯è¦æœ‰ä¸‰ä¸ªå¾®æœåŠ¡,è®¢å•,åº“å­˜,è´¦æˆ·</p><p>==è®¢å•==,seta-order-2001</p><ol><li><p>pom</p><ol><li>alibaba-nacos-discovery</li><li>alibaba-seata(æ’é™¤io.seata)</li><li>seata-allï¼Œç”¨è‡ªå·±çš„Seata</li><li>openfeign</li></ol></li><li><p>ymlé…ç½®æ–‡ä»¶</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">2001</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> seata<span class="token punctuation">-</span>order<span class="token punctuation">-</span>service  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>    <span class="token key atrule">alibaba</span><span class="token punctuation">:</span>      <span class="token key atrule">seata</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># è‡ªå®šä¹‰äº‹åŠ¡ç»„åç§°éœ€è¦ä¸seata-serverä¸­çš„å¯¹åº”,æˆ‘ä»¬ä¹‹å‰åœ¨seataçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„åå­—</span>        <span class="token key atrule">tx-service-group</span><span class="token punctuation">:</span> fsp_tx_group    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># å½“å‰æ•°æ®æºæ“ä½œç±»å‹</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> com.alibaba.druid.pool.DruidDataSource    <span class="token comment" spellcheck="true"># mysqlé©±åŠ¨ç±»</span>    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/seata_order<span class="token punctuation">?</span>useUnicode=true<span class="token important">&amp;characterEncoding</span>=UTF<span class="token punctuation">-</span>8<span class="token important">&amp;useSSL</span>=false<span class="token important">&amp;serverTimezone</span>=GMT%2B8    <span class="token key atrule">username</span><span class="token punctuation">:</span> root    <span class="token key atrule">password</span><span class="token punctuation">:</span> root<span class="token key atrule">feign</span><span class="token punctuation">:</span>  <span class="token key atrule">hystrix</span><span class="token punctuation">:</span>    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">logging</span><span class="token punctuation">:</span>  <span class="token key atrule">level</span><span class="token punctuation">:</span>    <span class="token key atrule">io</span><span class="token punctuation">:</span>      <span class="token key atrule">seata</span><span class="token punctuation">:</span> info<span class="token key atrule">mybatis</span><span class="token punctuation">:</span>  <span class="token key atrule">mapperLocations</span><span class="token punctuation">:</span> classpath*<span class="token punctuation">:</span>mapper/*.xml</code></pre></li><li><p>åˆ›å»ºé…ç½®æ–‡ä»¶file.conf</p><pre><code>transport {  # tcp udt unix-domain-socket  type = "TCP"  #NIO NATIVE  server = "NIO"  #enable heartbeat  heartbeat = true  #thread factory for netty  thread-factory {    boss-thread-prefix = "NettyBoss"    worker-thread-prefix = "NettyServerNIOWorker"    server-executor-thread-prefix = "NettyServerBizHandler"    share-boss-worker = false    client-selector-thread-prefix = "NettyClientSelector"    client-selector-thread-size = 1    client-worker-thread-prefix = "NettyClientWorkerThread"    # netty boss thread size,will not be used for UDT    boss-thread-size = 1    #auto default pin or 8    worker-thread-size = 8  }  shutdown {    # when destroy server, wait seconds    wait = 3  }  serialization = "seata"  compressor = "none"}service {  #vgroup-&gt;rgroup  # äº‹åŠ¡ç»„åç§°  vgroup_mapping.fsp_tx_group = "default"  #only support single node  default.grouplist = "127.0.0.1:8091"  #degrade current not support  enableDegrade = false  #disable  disable = false  #unit ms,s,m,h,d represents milliseconds, seconds, minutes, hours, days, default permanent  max.commit.retry.timeout = "-1"  max.rollback.retry.timeout = "-1"} client {  async.commit.buffer.limit = 10000  lock {    retry.internal = 10    retry.times = 30  }  report.retry.count = 5  tm.commit.retry.count = 1  tm.rollback.retry.count = 1} ## transaction log storestore {  ## store mode: fileã€db  #mode = "file"  mode = "db"   ## file store  file {    dir = "sessionStore"     # branch session size , if exceeded first try compress lockkey, still exceeded throws exceptions    max-branch-session-size = 16384    # globe session size , if exceeded throws exceptions    max-global-session-size = 512    # file buffer size , if exceeded allocate new buffer    file-write-buffer-cache-size = 16384    # when recover batch read size    session.reload.read_size = 100    # async, sync    flush-disk-mode = async  }   ## database store  db {    ## the implement of javax.sql.DataSource, such as DruidDataSource(druid)/BasicDataSource(dbcp) etc.    datasource = "dbcp"    ## mysql/oracle/h2/oceanbase etc.    db-type = "mysql"    driver-class-name = "com.mysql.jdbc.Driver"    url = "jdbc:mysql://127.0.0.1:3306/seata"    user = "root"    password = "root"    min-conn = 1    max-conn = 3    global.table = "global_table"    branch.table = "branch_table"    lock-table = "lock_table"    query-limit = 100  }}lock {  ## the lock store mode: localã€remote  mode = "remote"   local {    ## store locks in user's database  }   remote {    ## store locks in the seata's server  }}recovery {  #schedule committing retry period in milliseconds  committing-retry-period = 1000  #schedule asyn committing retry period in milliseconds  asyn-committing-retry-period = 1000  #schedule rollbacking retry period in milliseconds  rollbacking-retry-period = 1000  #schedule timeout retry period in milliseconds  timeout-retry-period = 1000} transaction {  undo.data.validation = true  undo.log.serialization = "jackson"  undo.log.save.days = 7  #schedule delete expired undo_log in milliseconds  undo.log.delete.period = 86400000  undo.log.table = "undo_log"} ## metrics settingsmetrics {  enabled = false  registry-type = "compact"  # multi exporters use comma divided  exporter-list = "prometheus"  exporter-prometheus-port = 9898} support {  ## spring  spring {    # auto proxy the DataSource bean    datasource.autoproxy = false  }}</code></pre></li><li><p>åˆ›å»ºregistry.conf</p><pre><code>registry {  # file ã€nacos ã€eurekaã€redisã€zkã€consulã€etcd3ã€sofa  type = "nacos"   nacos {    #serverAddr = "localhost"    serverAddr = "localhost:8848"    namespace = ""    cluster = "default"  }  eureka {    serviceUrl = "http://localhost:8761/eureka"    application = "default"    weight = "1"  }  redis {    serverAddr = "localhost:6379"    db = "0"  }  zk {    cluster = "default"    serverAddr = "127.0.0.1:2181"    session.timeout = 6000    connect.timeout = 2000  }  consul {    cluster = "default"    serverAddr = "127.0.0.1:8500"  }  etcd3 {    cluster = "default"    serverAddr = "http://localhost:2379"  }  sofa {    serverAddr = "127.0.0.1:9603"    application = "default"    region = "DEFAULT_ZONE"    datacenter = "DefaultDataCenter"    cluster = "default"    group = "SEATA_GROUP"    addressWaitTime = "3000"  }  file {    name = "file.conf"  }} config {  # fileã€nacos ã€apolloã€zkã€consulã€etcd3  type = "file"   nacos {    serverAddr = "localhost"    namespace = ""  }  consul {    serverAddr = "127.0.0.1:8500"  }  apollo {    app.id = "seata-server"    apollo.meta = "http://192.168.1.204:8801"  }  zk {    serverAddr = "127.0.0.1:2181"    session.timeout = 6000    connect.timeout = 2000  }  etcd3 {    serverAddr = "http://localhost:2379"  }  file {    name = "file.conf"  }}</code></pre><p>å®é™…ä¸Š,å°±æ˜¯è¦å°†seataä¸­çš„æˆ‘ä»¬ä¹‹å‰ä¿®æ”¹çš„ä¸¤ä¸ªé…ç½®æ–‡ä»¶å¤åˆ¶åˆ°è¿™ä¸ªé¡¹ç›®ä¸‹</p></li><li><p>ä¸»å¯åŠ¨</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token punctuation">(</span>exclude <span class="token operator">=</span> DataSourceAutoConfiguration<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//å–æ¶ˆæ•°æ®æºçš„è‡ªåŠ¨åˆ›å»º</span><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token annotation punctuation">@EnableFeignClients</span><span class="token comment" spellcheck="true">//ä½¿ç”¨openFeignçš„è¿œç¨‹è°ƒç”¨</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SeataOrderMain2001</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        SpringApplication<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>SeataOrderMain2001<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>entityç±»(ä¹Ÿå«domainç±»)</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ä½¿ç”¨äº†lombok</span><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@AllArgsConstructor</span><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CommonResult</span><span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> Integer code<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//çŠ¶æ€ç </span>    <span class="token keyword">private</span> String message<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ¶ˆæ¯</span>    <span class="token keyword">private</span> T data<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//jsonæ•°æ®</span>    <span class="token keyword">public</span> <span class="token function">CommonResult</span><span class="token punctuation">(</span>Integer code<span class="token punctuation">,</span> String message<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> message<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@AllArgsConstructor</span><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> Long id<span class="token punctuation">;</span>    <span class="token keyword">private</span> Long userId<span class="token punctuation">;</span>    <span class="token keyword">private</span> Long productId<span class="token punctuation">;</span>    <span class="token keyword">private</span> Integer count<span class="token punctuation">;</span>    <span class="token keyword">private</span> BigDecimal money<span class="token punctuation">;</span>    <span class="token keyword">private</span> Integer status<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è®¢å•çŠ¶æ€ï¼Œ0ä¸ºåˆ›å»ºä¸­ï¼Œ1ä¸ºå·²å®Œç»“</span><span class="token punctuation">}</span></code></pre></li><li><p>serviceå±‚</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OrderService</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/**     * åˆ›å»ºè®¢å•     */</span>    <span class="token keyword">void</span> <span class="token function">create</span><span class="token punctuation">(</span>Order order<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"seata-storage-service"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//è¿™é‡Œæ˜¯è¿œç¨‹è°ƒç”¨çš„æ¥å£ï¼ŒçœŸæ­£æ–¹æ³•åœ¨åº“å­˜æ¨¡å—å†™ï¼Œè¿™ä¸ªæ¥å£ç”¨æ¥è°ƒç”¨</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">StorageService</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/**     * å‡åº“å­˜     * è¿™é‡Œæ˜¯è¿œç¨‹è°ƒç”¨     */</span>    <span class="token comment" spellcheck="true">//ä¼ å…¥äº§å“idï¼Œå•†å“çš„è´­ä¹°æ•°é‡</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/storage/decrease"</span><span class="token punctuation">)</span>    CommonResult <span class="token function">decrease</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"productId"</span><span class="token punctuation">)</span> Long productId<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"count"</span><span class="token punctuation">)</span> Integer count<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"seata-account-service"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//è¿™é‡Œæ˜¯è¿œç¨‹è°ƒç”¨çš„æ¥å£ï¼ŒçœŸæ­£æ–¹æ³•åœ¨è´¦æˆ·æ¨¡å—å†™ï¼Œè¿™ä¸ªæ¥å£ç”¨æ¥è°ƒç”¨</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/**     * å‡ä½™é¢     */</span>    <span class="token comment" spellcheck="true">//ä¼ å…¥ç”¨æˆ·idï¼Œç”¨æˆ·æ¶ˆè´¹çš„é‡‘é¢</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/account/decrease"</span><span class="token punctuation">)</span>    CommonResult <span class="token function">decrease</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"userId"</span><span class="token punctuation">)</span> Long userId<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"money"</span><span class="token punctuation">)</span> BigDecimal money<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>ServiceImpl</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">OrderService</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> OrderDao orderDao<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> AccountService accountService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> StorageService storageService<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/**     * åˆ›å»ºè®¢å•->è°ƒç”¨åº“å­˜æœåŠ¡æ‰£å‡åº“å­˜->è°ƒç”¨è´¦æˆ·æœåŠ¡æ‰£å‡è´¦æˆ·ä½™é¢->ä¿®æ”¹è®¢å•çŠ¶æ€     * ç®€å•è¯´:     * ä¸‹è®¢å•->å‡åº“å­˜->å‡ä½™é¢->æ”¹çŠ¶æ€     * GlobalTransactional seataå¼€å¯åˆ†å¸ƒå¼äº‹åŠ¡,å¼‚å¸¸æ—¶å›æ»š,nameä¿è¯å”¯ä¸€å³å¯     * @param order è®¢å•å¯¹è±¡     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token comment" spellcheck="true">///@GlobalTransactional(name = "fsp-create-order", rollbackFor = Exception.class)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">create</span><span class="token punctuation">(</span>Order order<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 1 æ–°å»ºè®¢å•</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"----->å¼€å§‹æ–°å»ºè®¢å•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        orderDao<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>order<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 2 æ‰£å‡åº“å­˜</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"----->è®¢å•å¾®æœåŠ¡å¼€å§‹è°ƒç”¨åº“å­˜,åšæ‰£å‡Count"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        storageService<span class="token punctuation">.</span><span class="token function">decrease</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span><span class="token function">getProductId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> order<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"----->è®¢å•å¾®æœåŠ¡å¼€å§‹è°ƒç”¨åº“å­˜,åšæ‰£å‡End"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 3 æ‰£å‡è´¦æˆ·</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"----->è®¢å•å¾®æœåŠ¡å¼€å§‹è°ƒç”¨è´¦æˆ·,åšæ‰£å‡Money"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        accountService<span class="token punctuation">.</span><span class="token function">decrease</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> order<span class="token punctuation">.</span><span class="token function">getMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"----->è®¢å•å¾®æœåŠ¡å¼€å§‹è°ƒç”¨è´¦æˆ·,åšæ‰£å‡End"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 4 ä¿®æ”¹è®¢å•çŠ¶æ€,ä»0åˆ°1,1ä»£è¡¨å·²å®Œæˆ</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"----->ä¿®æ”¹è®¢å•çŠ¶æ€å¼€å§‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        orderDao<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"----->ä¸‹è®¢å•ç»“æŸäº†,O(âˆ©_âˆ©)Oå“ˆå“ˆ~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>daoå±‚,ä¹Ÿå°±æ˜¯æ¥å£</p><blockquote><p>è¿™é‡Œä½¿ç”¨çš„æ˜¯mapperæ˜ å°„ï¼Œxmlçš„æ–¹å¼</p></blockquote><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Mapper</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OrderDao</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/**     * 1 æ–°å»ºè®¢å•     */</span>    <span class="token keyword">int</span> <span class="token function">create</span><span class="token punctuation">(</span>Order order<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/**     * 2 ä¿®æ”¹è®¢å•çŠ¶æ€,ä»0æ”¹ä¸º1     */</span>    <span class="token comment" spellcheck="true">//ä¼ å…¥ç”¨æˆ·idï¼ŒçŠ¶æ€ä¸º0</span>    <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"userId"</span><span class="token punctuation">)</span> Long userId<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"status"</span><span class="token punctuation">)</span> Integer status<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p> ==åœ¨resourceä¸‹åˆ›å»ºmapperæ–‡ä»¶å¤¹,ç¼–å†™mapper.xml==</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span><span class="token doctype">&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"></span><span class="token comment" spellcheck="true">&lt;!--æ˜ å°„dao--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.eiletxie.springcloud.alibaba.dao.OrderDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--æ˜ å°„sqlè¡¨å’Œå®ä¾‹çš„å±æ€§ï¼Œå¦‚æœç›¸åŒå°±ä¸éœ€è¦å†™--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>BaseResultMap<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.eiletxie.springcloud.alibaba.domain.Order<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>BIGINT<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user_id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userId<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>BIGINT<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>product_id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>productId<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>BIGINT<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>count<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>count<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>INTEGER<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>money<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>money<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>DECIMAL<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>status<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>status<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>INTEGER<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>create<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.eiletxie.springcloud.alibaba.domain.Order<span class="token punctuation">"</span></span> <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>            <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        insert into t_order(user_id,product_id,count,money,status) values (#{userId},#{productId},#{count},#{money},0);    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--æ‰¾åˆ°ç”¨æˆ·ï¼Œå¹¶ä¸”ä»–çš„çŠ¶æ€ä¸º0ï¼Œå°†çŠ¶æ€ä¿®æ”¹ä¸º1--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>update<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        update t_order set status =1 where user_id =#{userId} and status=#{status};   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span></code></pre></li><li><p>controllerå±‚</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> OrderService orderService<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/**     * åˆ›å»ºè®¢å•     */</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/order/create"</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//è¿”å›é€šç”¨æ•°æ®ç»™å‰å°</span>    <span class="token keyword">public</span> CommonResult <span class="token function">create</span><span class="token punctuation">(</span>Order order<span class="token punctuation">)</span> <span class="token punctuation">{</span>        orderService<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>order<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"è®¢å•åˆ›å»ºæˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>configé…ç½®ç±»</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"com.eiletxie.springcloud.alibaba.dao"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//æŒ‡å®šæˆ‘ä»¬çš„æ¥å£çš„ä½ç½®</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBatisConfig</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java"> <span class="token comment" spellcheck="true">/**     * ä½¿ç”¨Seataå¯¹æ•°æ®æºè¿›è¡Œä»£ç† */</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataSourceProxyConfig</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${mybatis.mapperLocations}"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> String mapperLocations<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"spring.datasource"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> DataSource <span class="token function">druidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> DataSourceProxy <span class="token function">dataSourceProxy</span><span class="token punctuation">(</span>DataSource druidDataSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceProxy</span><span class="token punctuation">(</span>druidDataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> SqlSessionFactory <span class="token function">sqlSessionFactoryBean</span><span class="token punctuation">(</span>DataSourceProxy dataSourceProxy<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>        SqlSessionFactoryBean bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bean<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>dataSourceProxy<span class="token punctuation">)</span><span class="token punctuation">;</span>        ResourcePatternResolver resolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PathMatchingResourcePatternResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bean<span class="token punctuation">.</span><span class="token function">setMapperLocations</span><span class="token punctuation">(</span>resolver<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span>mapperLocations<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> bean<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li></ol><p>==åº“å­˜==,seta-storage-2002</p><p><strong>==çœ‹è„‘å›¾==</strong></p><ol><li>   pom   </li><li>   é…ç½®æ–‡ä»¶</li><li>   ä¸»å¯åŠ¨ç±»</li><li>   file.conf</li><li>   registry.conf</li><li>   domain</li><li>   serviceå±‚</li><li>   daoå±‚</li><li>   controllerå±‚</li><li>   config</li></ol><p> ==è´¦å·==,seta-account-2003</p><p><strong>==çœ‹è„‘å›¾==</strong></p><ol><li>   pom     </li><li>   é…ç½®æ–‡ä»¶</li><li>   ä¸»å¯åŠ¨ç±»</li><li>   file.conf</li><li>   registry.conf</li><li>   domain</li><li>   serviceå±‚</li><li>   daoå±‚</li><li>   controllerå±‚</li><li>   config</li></ol></li></ol><h3 id="seataåŸç†"><a href="#seataåŸç†" class="headerlink" title="seataåŸç†:"></a>seataåŸç†:</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200924211903.png"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200924212144.png"></p><p>ç¬¬ä¸€é˜¶æ®µï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200924212504.png"></p><p>ç¬¬äºŒé˜¶æ®µï¼š</p><p><strong>æäº¤</strong></p><p>ä¸€é˜¶æ®µå·²ç»æäº¤ï¼Œåªéœ€è¦ä¿å­˜å³å¯</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200924212539.png"></p><p>å›æ»š</p><p>å› ä¸ºä¸€é˜¶æ®µå·²ç»ä¿å­˜è¿‡äº†ï¼ŒäºŒé˜¶æ®µå›å½’éœ€è¦åå‘sqlè¿›è¡Œè¡¥å¿</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200924212700.png"></p>]]></content>
      
      
      <categories>
          
          <category> SpringCloud </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringCloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åº“éš”ç¦»çº§åˆ«</title>
      <link href="/2020/09/21/mysql/shu-ju-ku-ge-chi-ji-bie/"/>
      <url>/2020/09/21/mysql/shu-ju-ku-ge-chi-ji-bie/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•°æ®åº“éš”ç¦»çº§åˆ«"><a href="#æ•°æ®åº“éš”ç¦»çº§åˆ«" class="headerlink" title="æ•°æ®åº“éš”ç¦»çº§åˆ«"></a>æ•°æ®åº“éš”ç¦»çº§åˆ«</h2><h3 id="1-äº‹åŠ¡"><a href="#1-äº‹åŠ¡" class="headerlink" title="1  äº‹åŠ¡"></a>1  äº‹åŠ¡</h3><p>äº‹åŠ¡åªæ˜¯ä¸€ä¸ªæ”¹å˜ï¼Œæ˜¯ä¸€äº›çš„æ“ä½œé›†åˆï¼›ç”¨ä¸“ä¸šçš„æœ¯è¯­å»è§£é‡Šï¼Œå°±æ˜¯ä¸€ä¸ªç¨‹åºçš„æ‰§è¡Œå•å…ƒï¼›äº‹åŠ¡æœ¬èº«å¹¶ä¸åŒ…å«è¿™å››ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æŸäº›æ‰‹æ®µï¼Œå°½å¯èƒ½è®©è¿™ä¸ªæ‰§è¡Œå•å…ƒæ»¡è¶³è¿™å››ä¸ªç‰¹æ€§ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥ç§°å®ƒæ˜¯ä¸€ä¸ªäº‹åŠ¡ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªæ­£ç¡®çš„ï¼Œå®Œç¾çš„äº‹åŠ¡ã€‚</p><h3 id="2-å››ç‰¹æ€§"><a href="#2-å››ç‰¹æ€§" class="headerlink" title="2  å››ç‰¹æ€§"></a>2  å››ç‰¹æ€§</h3><ul><li>åŸå­æ€§ï¼šæ»¡è¶³åŸå­æ“ä½œå•å…ƒï¼Œå¯¹æ•°æ®çš„æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œã€‚</li><li>ä¸€è‡´æ€§ï¼šäº‹åŠ¡å¼€å§‹å’Œå®Œæˆæ—¶ï¼Œæ•°æ®éƒ½å¿…é¡»ä¿æŒä¸€è‡´ã€‚</li><li>éš”ç¦»æ€§ï¼šäº‹åŠ¡ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œä¸­é—´çŠ¶æ€å¯¹å¤–éƒ¨ä¸å¯è§ã€‚</li><li>æŒä¹…æ€§ï¼šæ•°æ®çš„ä¿®æ”¹æ˜¯æ°¸ä¹…æ€§çš„ï¼Œå³ä½¿ç³»ç»Ÿå‡ºç°ä»»ä½•æ•…éšœéƒ½èƒ½å¤Ÿä¿æŒã€‚</li></ul><h3 id="3-éš”ç¦»çº§åˆ«"><a href="#3-éš”ç¦»çº§åˆ«" class="headerlink" title="3  éš”ç¦»çº§åˆ«"></a>3  éš”ç¦»çº§åˆ«</h3><h4 id="3-1-å¹¶å‘æƒ…å†µä¸‹äº‹åŠ¡å¼•å‘çš„é—®é¢˜"><a href="#3-1-å¹¶å‘æƒ…å†µä¸‹äº‹åŠ¡å¼•å‘çš„é—®é¢˜" class="headerlink" title="3.1  å¹¶å‘æƒ…å†µä¸‹äº‹åŠ¡å¼•å‘çš„é—®é¢˜"></a>3.1  å¹¶å‘æƒ…å†µä¸‹äº‹åŠ¡å¼•å‘çš„é—®é¢˜</h4><blockquote><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¤šä¸ªå•å…ƒæ“ä½œï¼ˆäº‹åŠ¡ï¼Œè¿™é‡Œçš„äº‹åŠ¡ï¼Œå¹¶ä¸æ˜¯å®Œç¾çš„äº‹åŠ¡ï¼‰å¹¶å‘æ‰§è¡Œï¼Œä¼šå‡ºç°è¿™ä¹ˆå‡ ä¸ªé—®é¢˜ï¼š</p></blockquote><ul><li>è„è¯»ï¼šAäº‹åŠ¡è¿˜æœªæäº¤ï¼ŒBäº‹åŠ¡å°±è¯»åˆ°äº†Aæ“ä½œçš„ç»“æœã€‚ï¼ˆç ´åäº†éš”ç¦»æ€§ï¼‰</li><li>ä¸å¯é‡å¤è¯»ï¼šAäº‹åŠ¡åœ¨æœ¬æ¬¡äº‹åŠ¡ä¸­ï¼Œå¯¹è‡ªå·±æœªæ“ä½œè¿‡æ•°æ®ï¼Œè¿›è¡Œå¤šæ¬¡è¯»å–ï¼Œç»“æœå‡ºç°ä¸ä¸€è‡´æˆ–è®°å½•ä¸å­˜åœ¨çš„æƒ…å†µã€‚ï¼ˆç ´åäº†ä¸€è‡´æ€§ï¼Œé‡ç‚¹æ˜¯updateå’Œdeleteï¼‰</li><li>å¹»è¯»ï¼šAäº‹åŠ¡åœ¨æœ¬æ¬¡äº‹åŠ¡ä¸­ï¼Œå…ˆè¯»å–äº†ä¸€éæ•°æ®ï¼Œå‘ç°æ•°æ®ä¸å­˜åœ¨ï¼Œè¿‡äº†ä¸€ä¼šï¼Œåˆè¯»å–äº†ä¸€éï¼Œå‘ç°åˆæœ‰æ•°æ®äº†ã€‚ï¼ˆç ´åäº†ä¸€è‡´æ€§ï¼Œé‡ç‚¹æ˜¯insertï¼‰</li></ul><h4 id="3-2-è§£å†³ï¼ˆåˆ¶å®šæ ‡å‡†ï¼‰"><a href="#3-2-è§£å†³ï¼ˆåˆ¶å®šæ ‡å‡†ï¼‰" class="headerlink" title="3.2  è§£å†³ï¼ˆåˆ¶å®šæ ‡å‡†ï¼‰"></a>3.2  è§£å†³ï¼ˆåˆ¶å®šæ ‡å‡†ï¼‰</h4><p>ä¸ºäº†æƒè¡¡ã€éš”ç¦»ã€å’Œã€å¹¶å‘ã€çš„çŸ›ç›¾ï¼ŒISOå®šä¹‰äº†4ä¸ªäº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œæ¯ä¸ªçº§åˆ«éš”ç¦»ç¨‹åº¦ä¸åŒï¼Œå…è®¸å‡ºç°çš„å‰¯ä½œç”¨ä¹Ÿä¸åŒã€‚</p><ul><li>æœªæäº¤è¯»ï¼ˆread-uncommittedï¼‰ï¼šæœ€ä½çº§åˆ«ï¼ŒåŸºæœ¬åªä¿è¯æŒä¹…æ€§ï¼›ä¼šå‡ºç°è„è¯»ï¼Œä¸å¯é‡å¤è¯»ï¼Œå¹»è¯»çš„é—®é¢˜ã€‚</li><li>å·²æäº¤è¯»ï¼ˆread-committedï¼‰ï¼šè¯­å¥çº§åˆ«ï¼›ä¼šå‡ºç°ä¸å¯é‡å¤è¯»ï¼Œå¹»è¯»çš„é—®é¢˜ã€‚</li><li>å¯é‡å¤è¯»ï¼ˆrepeatable-readï¼‰ï¼šäº‹åŠ¡çº§åˆ«ï¼›åªä¼šå‡ºç°å¹»è¯»é—®é¢˜ã€‚</li><li>ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰ï¼šæœ€é«˜çº§åˆ«ï¼Œä¹Ÿå°±æ˜¯äº‹åŠ¡ä¸äº‹åŠ¡å®Œå…¨ä¸²è¡ŒåŒ–æ‰§è¡Œï¼Œæ— å¹¶å‘å¯è¨€ï¼Œæ€§èƒ½ä½ï¼›ä½†ä¸ä¼šå‡ºç°ä»»ä½•é—®é¢˜ã€‚</li></ul><table><thead><tr><th>äº‹åŠ¡éš”ç¦»çº§åˆ«</th><th>è„è¯»</th><th>ä¸å¯é‡å¤è¯»</th><th>å¹»è¯»</th></tr></thead><tbody><tr><td>è¯»æœªæäº¤ï¼ˆread-uncommittedï¼‰</td><td>ä¼š</td><td>ä¼š</td><td>ä¼š</td></tr><tr><td>ä¸å¯é‡å¤è¯»ï¼ˆread-committedï¼‰</td><td>-</td><td>ä¼š</td><td>ä¼š</td></tr><tr><td>å¯é‡å¤è¯»ï¼ˆrepeatable-readï¼‰</td><td>-</td><td>-</td><td>ä¼š</td></tr><tr><td>ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰</td><td>-</td><td>-</td><td>-</td></tr></tbody></table><p>æ³¨æ„ï¼šè¿™å››ä¸ªçº§åˆ«åªæ˜¯ä¸€ä¸ªæ ‡å‡†ï¼Œå„ä¸ªæ•°æ®åº“å‚å•†ï¼Œå¹¶ä¸å®Œå…¨æŒ‰ç…§æ ‡å‡†åšçš„ã€‚</p><h4 id="3-2-å®ç°ï¼ˆInnoDBï¼‰"><a href="#3-2-å®ç°ï¼ˆInnoDBï¼‰" class="headerlink" title="3.2  å®ç°ï¼ˆInnoDBï¼‰"></a>3.2  å®ç°ï¼ˆInnoDBï¼‰</h4><ul><li><p>é”æœºåˆ¶ï¼šé˜»æ­¢å…¶ä»–äº‹åŠ¡å¯¹æ•°æ®è¿›è¡Œæ“ä½œï¼Œ å„ä¸ªéš”ç¦»çº§åˆ«ä¸»è¦ä½“ç°åœ¨è¯»å–æ•°æ®æ—¶åŠ çš„é”çš„é‡Šæ”¾æ—¶æœºã€‚</p><ul><li><p>RUï¼šäº‹åŠ¡è¯»å–æ—¶ä¸åŠ é”</p></li><li><p>RCï¼šäº‹åŠ¡è¯»å–æ—¶åŠ è¡Œçº§å…±äº«é”ï¼ˆè¯»åˆ°æ‰åŠ é”ï¼‰ï¼Œä¸€æ—¦è¯»å®Œï¼Œç«‹åˆ»é‡Šæ”¾ï¼ˆå¹¶ä¸æ˜¯äº‹åŠ¡ç»“æŸï¼‰ã€‚</p></li><li><p>RRï¼šäº‹åŠ¡è¯»å–æ—¶åŠ è¡Œçº§å…±äº«é”ï¼Œç›´åˆ°äº‹åŠ¡ç»“æŸæ—¶ï¼Œæ‰ä¼šé‡Šæ”¾ã€‚</p></li><li><p>SEï¼šäº‹åŠ¡è¯»å–æ—¶åŠ è¡¨çº§å…±äº«é”ï¼Œç›´åˆ°äº‹åŠ¡ç»“æŸæ—¶ï¼Œæ‰ä¼šé‡Šæ”¾ã€‚</p></li></ul></li><li><p>MVCCæœºåˆ¶ï¼šç”Ÿæˆä¸€ä¸ªæ•°æ®å¿«ç…§ï¼Œå¹¶ç”¨è¿™ä¸ªå¿«ç…§æ¥æä¾›ä¸€å®šçº§åˆ«çš„ä¸€è‡´æ€§è¯»å–ï¼Œä¹Ÿç§°ä¸ºå¤šç‰ˆæœ¬æ•°æ®æ§åˆ¶ã€‚</p><ul><li>å®é™…å°±æ˜¯ã€ç‰ˆæœ¬æ§åˆ¶ã€åŠ ã€è¯»å†™åˆ†ç¦»ã€æ€æƒ³ï¼Œä¸»è¦ç”¨ä½œäºRCå’ŒRRçº§åˆ«ã€‚</li></ul></li></ul><h3 id="4-ç»“æ„å›¾"><a href="#4-ç»“æ„å›¾" class="headerlink" title="4  ç»“æ„å›¾"></a>4  ç»“æ„å›¾</h3><p><img src="/2020/09/21/mysql/shu-ju-ku-ge-chi-ji-bie/.._img%5C02.png" alt="æ¦‚å¿µæ€»ç»“"></p>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> é¢è¯•é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysqlé¢è¯•é¢˜</title>
      <link href="/2020/09/20/mysql/mysql-mian-shi-ti/"/>
      <url>/2020/09/20/mysql/mysql-mian-shi-ti/</url>
      
        <content type="html"><![CDATA[<h1 id="Mysqlé¢è¯•é¢˜"><a href="#Mysqlé¢è¯•é¢˜" class="headerlink" title="Mysqlé¢è¯•é¢˜"></a>Mysqlé¢è¯•é¢˜</h1><ol><li>  æ•°æ®åº“ç´¢å¼•ä»‹ç»ä¸€ä¸‹ã€‚ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ—¶å€™ç”¨Innodbä»€ä¹ˆæ—¶å€™ç”¨MyISAMè¿™ä¸¤ç§å¼•æ“ã€‚  </li></ol><pre><code>ç´¢å¼•æ˜¯å¸®åŠ©æ•°æ®åº“é«˜æ•ˆè·å–æ•°æ®çš„æ’å¥½åºçš„æ•°æ®ç»“æ„ï¼Œä½¿ç”¨ç´¢å¼•å¯å¿«é€Ÿè®¿é—®æ•°æ®åº“è¡¨ä¸­çš„ç‰¹å®šä¿¡æ¯ã€‚InnoDBä¸»è¦é¢å‘åœ¨çº¿äº‹åŠ¡å¤„ç†ï¼ˆOLTPï¼‰çš„åº”ç”¨ã€‚MyISAMä¸»è¦é¢å‘ä¸€äº›OLAPçš„åº”ç”¨ã€‚InnoDBæ˜¯èšé›†ç´¢å¼•ï¼ˆå¶å­èŠ‚ç‚¹åŒ…å«äº†å®Œæ•´çš„æ•°æ®è®°å½•ï¼‰ï¼Œæ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡Œçº§é”ï¼›MyISAMæ˜¯éèšé›†ç´¢å¼•ï¼ˆå¶å­èŠ‚ç‚¹åªåŒ…å«æ•°æ®ç£ç›˜åœ°å€ï¼‰ï¼Œä¸æ”¯æŒäº‹åŠ¡ï¼Œåªæ”¯æŒè¡¨çº§é”ã€‚InnoDBå¿…é¡»æœ‰ä¸»é”®ï¼šä½œä¸ºB+æ ‘çš„ç´¢å¼•å»ºè®®ä½¿ç”¨æ•´å‹è‡ªå¢ä¸»é”®ï¼šæ•´å‹æ˜¯å› ä¸ºä½œä¸ºç´¢å¼•æ“ä½œè¦å¤šæ¬¡è¿›è¡Œæ¯”å¤§å°ï¼Œæ•´å‹æ¯”å¤§å°çš„æ•ˆç‡æ›´é«˜ï¼Œè‡ªå¢æ˜¯å› ä¸ºb+æ ‘çš„å¶å­èŠ‚ç‚¹æ˜¯æœ‰é¡ºåºçš„ï¼Œæ’å…¥ç´¢å¼•çš„æ—¶å€™ï¼Œè‡ªå¢ä¼šç›´æ¥åœ¨b+æ ‘åŸæœ‰çš„å¶å­èŠ‚ç‚¹åé¢æ’å…¥ï¼Œè€Œéè‡ªå¢åœ¨æ’å…¥æ•°æ®æ—¶ï¼Œè¿˜éœ€è¦B+æ ‘é‡æ–°æ’åºï¼Œå½±å“æ€§èƒ½ï¼Œè‡ªå¢å°±å‡å°‘äº†æ’åºçš„æ­¥éª¤</code></pre><ol start="2"><li><p>Innodbå’ŒMyISAMå¼•æ“åœ¨ç£ç›˜å­˜å‚¨æ˜¯ä»€ä¹ˆæ ·å­çš„</p><pre><code>MyISAM:å­˜æ”¾3ä¸ªæ–‡ä»¶ï¼Œfrm:å»ºè¡¨ä¿¡æ¯ï¼Œmydï¼šæ•°æ®ä¿¡æ¯ï¼Œmyiï¼šç´¢å¼•ä¿¡æ¯Innodb:å­˜æ”¾2ä¸ªæ–‡ä»¶ï¼Œfrm:å»ºè¡¨ä¿¡æ¯ï¼Œibdï¼šæ•°æ®ä¿¡æ¯ã€ç´¢å¼•ä¿¡æ¯</code></pre></li><li><p>ä»€ä¹ˆæ˜¯èšé›†ç´¢å¼•ï¼Œä»€ä¹ˆæ˜¯éèšé›†ç´¢å¼•</p><pre><code>b+æ ‘çš„æ•°æ®ç»“æ„ä¸­ï¼Œå¶å­èŠ‚ç‚¹ä¼šå­˜æ”¾æœ‰dataå…ƒç´ ï¼ˆMyISAMå­˜çš„æ˜¯æ•°æ®ç£ç›˜åœ°å€ï¼ŒInnoDBå­˜çš„æ˜¯æ•°æ®ï¼‰ç´¢å¼•ä¸­å­˜æ”¾æœ‰å…¶ä»–åˆ—çš„æ•°æ®å°±æ˜¯èšé›†ç´¢å¼•å­˜æ”¾çš„æ˜¯æ•°æ®ç£ç›˜åœ°å€ï¼Œå³æ•°æ®å’Œç´¢å¼•åˆ†ç¦»ï¼Œå°±æ˜¯éèšé›†ç´¢å¼•</code></pre></li><li><p>ä»€ä¹ˆæ˜¯è”åˆç´¢å¼•</p><pre><code>è”åˆç´¢å¼•æ˜¯å¤šä¸ªç´¢å¼•ç»„æˆçš„ï¼ŒB+æ ‘ä¼šå…ˆæŒ‰æœ€å·¦åŸåˆ™è¿›è¡Œæ’åºï¼Œå½“ç´¢å¼•ç›¸åŒæ—¶ï¼Œå†æŒ‰ä¸‹ä¸€ä¸ªç´¢å¼•æ’åºã€‚</code></pre></li><li><p>  ç´¢å¼•äº†è§£å˜›ï¼Œåº•å±‚æ€ä¹ˆå®ç°çš„ï¼Œä»€ä¹ˆæ—¶å€™ä¼šå¤±æ•ˆ  </p></li></ol><pre><code>Hashç´¢å¼•å’ŒB+ æ ‘ç´¢å¼•&gt;å…¶å®è¿˜æœ‰äºŒå‰æ ‘ã€çº¢é»‘æ ‘ï¼Œå› ä¸ºäºŒå‰æ ‘éƒ½å¾€å³å¶å­èŠ‚ç‚¹åŠ çš„æ—¶å€™ï¼Œå°±ä¼šæˆä¸ºé“¾è¡¨ï¼Œå’Œå…¨è¡¨æŸ¥è¯¢ä¸€æ ·ã€‚&gt;çº¢é»‘æ ‘ä¹Ÿå«å¹³è¡¡äºŒå‰æ ‘ï¼Œè™½ç„¶å®ƒå¯ä»¥å¹³è¡¡èŠ‚ç‚¹ï¼Œè®©ä¸æˆä¸ºé“¾è¡¨ï¼Œä½†æ˜¯ç­‰æ•°æ®å¤šçš„æ—¶å€™ï¼Œæ ‘ä¼šè¶Šæ¥è¶Šé«˜ï¼Œå¯¼è‡´è¯»å–ä¼šè¿›è¡Œå¤šæ¬¡iOæ“ä½œï¼Œä¸€æ ·æ•ˆç‡ä¼šä½&gt;Hashç´¢å¼•åº•å±‚æ˜¯å“ˆå¸Œè¡¨ï¼Œå“ˆå¸Œè¡¨æ˜¯ä¸€ç§ä»¥key-valueå­˜å‚¨æ•°æ®çš„ç»“æ„ï¼Œæ‰€ä»¥å¤šä¸ªæ•°æ®åœ¨å­˜å‚¨å…³ç³»ä¸Šæ˜¯å®Œå…¨æ²¡æœ‰ä»»ä½•é¡ºåºå…³ç³»çš„ï¼Œæ‰€ä»¥ï¼Œå¯¹äºèŒƒå›´æŸ¥è¯¢æ˜¯æ— æ³•ç›´æ¥é€šè¿‡ç´¢å¼•æŸ¥è¯¢çš„ï¼Œæ‰€ä»¥ï¼Œå“ˆå¸Œç´¢å¼•åªé€‚ç”¨äºç­‰å€¼æŸ¥è¯¢çš„åœºæ™¯ã€‚è€ŒB+ æ ‘æ˜¯ä¸€ç§ã€å¤šè·¯ã€‘å¹³è¡¡æŸ¥è¯¢æ ‘ï¼ˆå®ƒå¯ä»¥ç”±å¤šä¸ªæ ¹èŠ‚ç‚¹ï¼‰ï¼Œå¯ä»¥é™ä½æ ‘çš„é«˜åº¦ï¼Œå¶å­èŠ‚ç‚¹åŒ…å«æ‰€æœ‰ç´¢å¼•å­—æ®µï¼Œè¿˜å°†dataå…ƒç´ ï¼ˆMyISAMå­˜çš„æ˜¯æ•°æ®ç£ç›˜åœ°å€ï¼ŒInnoDBå­˜çš„æ˜¯æ•°æ®ï¼‰æ”¾åœ¨å¶å­èŠ‚ç‚¹ï¼Œç”¨äºè¯»å–æ•°æ®ï¼Œå¹¶ä¸”å¶å­èŠ‚ç‚¹æ‹¥æœ‰åŒå‘æŒ‡é’ˆï¼Œç”¨äºæé«˜èŒƒå›´æŸ¥æ‰¾æ€§èƒ½ï¼Œä»–çš„èŠ‚ç‚¹æ˜¯å¤©ç„¶æœ‰åºçš„ï¼ˆå·¦å­èŠ‚ç‚¹å°äºçˆ¶èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹å°äºå³å­èŠ‚ç‚¹ï¼‰ï¼Œæ‰€ä»¥å¯¹äºèŒƒå›´æŸ¥è¯¢çš„æ—¶å€™ä¸éœ€è¦åšå…¨è¡¨æ‰«æã€‚å»ºè®®è‡ªå¢å˜é‡ï¼Œä¸»è¦æ˜¯åœ¨æ‰€æœ‰çš„å¶å­ç»“ç‚¹ä¸­å¢åŠ äº†æŒ‡å‘ä¸‹ä¸€ä¸ªå¶å­èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚ä¸€äº›å…³é”®å­—ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œä¾‹å¦‚orï¼Œï¼=ï¼Œnotinï¼Œisnull,isnotunllè”åˆç´¢å¼•ä¸­ï¼Œä¸ä½¿ç”¨ç¬¬ä¸€éƒ¨åˆ†ä½œæŸ¥è¯¢likeæŸ¥è¯¢æ˜¯ä»¥%å¼€å¤´éšå¼è½¬æ¢ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚orå‰åæ²¡æœ‰åŒæ—¶ä½¿ç”¨ç´¢å¼•å¯¹ç´¢å¼•åº”ç”¨å†…éƒ¨å‡½æ•°ï¼Œç´¢å¼•å­—æ®µè¿›è¡Œäº†è¿ç®—ã€‚</code></pre><p>   <img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200924110929.png"></p><ol start="6"><li><p>ç´¢å¼•å¯¹æ•°æ®åº“ç³»ç»Ÿçš„è´Ÿé¢å½±å“æ˜¯ä»€ä¹ˆï¼Ÿ</p><pre><code>åˆ›å»ºç´¢å¼•å’Œç»´æŠ¤ç´¢å¼•éœ€è¦è€—è´¹æ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´éšç€æ•°æ®é‡çš„å¢åŠ è€Œå¢åŠ ï¼›ç´¢å¼•éœ€è¦å ç”¨ç‰©ç†ç©ºé—´ï¼Œä¸å…‰æ˜¯è¡¨éœ€è¦å ç”¨æ•°æ®ç©ºé—´ï¼Œæ¯ä¸ªç´¢å¼•ä¹Ÿéœ€è¦å ç”¨ç‰©ç†ç©ºé—´ï¼›å½“å¯¹è¡¨è¿›è¡Œå¢ã€åˆ ã€æ”¹ã€çš„æ—¶å€™ç´¢å¼•ä¹Ÿè¦åŠ¨æ€ç»´æŠ¤ï¼Œè¿™æ ·å°±é™ä½äº†æ•°æ®çš„ç»´æŠ¤é€Ÿåº¦ã€‚</code></pre></li><li><p>ä¸ºæ•°æ®è¡¨å»ºç«‹ç´¢å¼•çš„åŸåˆ™æœ‰å“ªäº›ï¼Ÿ</p><pre><code>åœ¨æœ€é¢‘ç¹ä½¿ç”¨çš„ã€ç”¨ä»¥ç¼©å°æŸ¥è¯¢èŒƒå›´çš„å­—æ®µä¸Šå»ºç«‹ç´¢å¼•ã€‚åœ¨é¢‘ç¹ä½¿ç”¨çš„ã€éœ€è¦æ’åºçš„å­—æ®µä¸Šå»ºç«‹ç´¢å¼•</code></pre></li><li><p>ä¸»é”®ã€å¤–é”®å’Œç´¢å¼•çš„åŒºåˆ«ï¼Ÿ</p><pre><code>å®šä¹‰ï¼šä¸»é”®â€“å”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½•ï¼Œä¸èƒ½æœ‰é‡å¤çš„ï¼Œä¸å…è®¸ä¸ºç©ºå¤–é”®â€“è¡¨çš„å¤–é”®æ˜¯å¦ä¸€è¡¨çš„ä¸»é”®, å¤–é”®å¯ä»¥æœ‰é‡å¤çš„, å¯ä»¥æ˜¯ç©ºå€¼ç´¢å¼•â€“è¯¥å­—æ®µæ²¡æœ‰é‡å¤å€¼ï¼Œä½†å¯ä»¥æœ‰ä¸€ä¸ªç©ºå€¼ä½œç”¨ï¼šä¸»é”®â€“ç”¨æ¥ä¿è¯æ•°æ®å®Œæ•´æ€§å¤–é”®â€“ç”¨æ¥å’Œå…¶ä»–è¡¨å»ºç«‹è”ç³»ç”¨çš„ç´¢å¼•â€“æ˜¯æé«˜æŸ¥è¯¢æ’åºçš„é€Ÿåº¦ä¸ªæ•°ï¼šä¸»é”®â€“ä¸»é”®åªèƒ½æœ‰ä¸€ä¸ªå¤–é”®â€“ä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ªå¤–é”®ç´¢å¼•â€“ä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ªå”¯ä¸€ç´¢å¼•</code></pre></li><li><p>  sqlä¼˜åŒ–</p></li></ol><pre><code>1.åœ¨è¡¨ä¸­å»ºç«‹ç´¢å¼•ï¼Œä¼˜å…ˆè€ƒè™‘whereã€group byä½¿ç”¨åˆ°çš„å­—æ®µ2.å°½é‡é¿å…select *ï¼Œè¿”å›æ— ç”¨å­—æ®µä¼šé™ä½æ•ˆç‡3.é¿å…ä½¿ç”¨inå’Œnot inå’Œorå’Œæ¨¡ç³ŠæŸ¥è¯¢å’Œnullå€¼åˆ¤æ–­å’Œwhereè¡¨è¾¾å¼ï¼Œä¼šå¯¼è‡´å¼•æ“æ”¾å¼ƒç´¢å¼•æŸ¥è¯¢è€Œè¿›è¡Œå…¨è¡¨æŸ¥è¯¢</code></pre><ol start="10"><li>æ•°æ®åº“çš„éš”ç¦»çº§åˆ«</li></ol><pre><code>1.æœªæäº¤è¯»(ReadUncommitted)ï¼šå…è®¸è„è¯»ï¼Œä¹Ÿå°±æ˜¯å¯èƒ½è¯»å–åˆ°å…¶ä»–ä¼šè¯ä¸­æœªæäº¤äº‹åŠ¡ä¿®æ”¹çš„æ•°æ®ã€‚2.æäº¤è¯»(ReadCommitted)ï¼šåªèƒ½è¯»å–åˆ°å·²ç»æäº¤çš„æ•°æ®ã€‚Oracleç­‰å¤šæ•°æ•°æ®åº“é»˜è®¤éƒ½æ˜¯è¯¥çº§åˆ«(ä¸é‡å¤è¯»)ã€‚3.å¯é‡å¤è¯»(RepeatedRead)ï¼šå¯é‡å¤è¯»ã€‚åœ¨åŒä¸€ä¸ªäº‹åŠ¡å†…çš„æŸ¥è¯¢éƒ½æ˜¯äº‹åŠ¡å¼€å§‹æ—¶åˆ»ä¸€è‡´çš„ï¼ŒInnoDBé»˜è®¤çº§åˆ«ã€‚åœ¨SQLæ ‡å‡†ä¸­ï¼Œè¯¥éš”ç¦»çº§åˆ«æ¶ˆé™¤äº†ä¸å¯é‡å¤è¯»ï¼Œä½†æ˜¯è¿˜å­˜åœ¨å¹»è±¡è¯»ã€‚4.ä¸²è¡Œè¯»(Serializable)ï¼šå®Œå…¨ä¸²è¡ŒåŒ–çš„è¯»ï¼Œæ¯æ¬¡è¯»éƒ½éœ€è¦è·å¾—è¡¨çº§å…±äº«é”ï¼Œè¯»å†™ç›¸äº’éƒ½ä¼šé˜»å¡ã€‚è„è¯»:    æŒ‡ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦å¤–ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ä¸å¯é‡å¤è¯»ï¼šåœ¨ä¸€ä¸ªäº‹åŠ¡å†…è¯»å–è¡¨ä¸­çš„æŸä¸€è¡Œæ•°æ®ï¼Œå¤šæ¬¡è¯»å–ç»“æœä¸åŒè™šè¯»ï¼ˆå¹»è¯»ï¼‰ï¼šæŒ‡ä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°äº†åˆ«çš„äº‹åŠ¡æ’å…¥çš„æ•°æ®ï¼Œå¯¼è‡´å‰åè¯»å–ä¸ä¸€è‡´</code></pre><ol start="11"><li><p>æ•°æ®åº“ä¹è§‚é”å’Œæ‚²è§‚é”</p><pre><code>æ‚²è§‚é”ï¼ˆPessimisticLockï¼‰ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¾ˆæ‚²è§‚ï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¼šä¿®æ”¹ï¼Œæ‰€ä»¥æ¯æ¬¡åœ¨æ‹¿æ•°æ®çš„æ—¶å€™éƒ½ä¼šä¸Šé”ï¼Œè¿™æ ·åˆ«äººæƒ³æ‹¿è¿™ä¸ªæ•°æ®å°±ä¼šblockç›´åˆ°å®ƒæ‹¿åˆ°é”ã€‚æ‚²è§‚é”ï¼šå‡å®šä¼šå‘ç”Ÿå¹¶å‘å†²çªï¼Œå±è”½ä¸€åˆ‡å¯èƒ½è¿åæ•°æ®å®Œæ•´æ€§çš„æ“ä½œã€‚synchronizedå°±å±äºæ‚²è§‚é”çš„ä¸€ç§å®ç°ï¼Œæ¯æ¬¡çº¿ç¨‹è¦ä¿®æ”¹æ•°æ®æ—¶éƒ½å…ˆè·å¾—é”ï¼Œä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æ“ä½œæ•°æ®ï¼Œå…¶ä»–çº¿ç¨‹åˆ™ä¼šè¢«blockã€‚ä¹è§‚é”:é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¾ˆä¹è§‚ï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¸ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼Œä½†æ˜¯åœ¨æäº¤æ›´æ–°çš„æ—¶å€™ä¼šåˆ¤æ–­ä¸€ä¸‹åœ¨æ­¤æœŸé—´åˆ«äººæœ‰æ²¡æœ‰å»æ›´æ–°è¿™ä¸ªæ•°æ®ã€‚ä¹è§‚é”é€‚ç”¨äºè¯»å¤šå†™å°‘çš„åº”ç”¨åœºæ™¯ï¼Œè¿™æ ·å¯ä»¥æé«˜ååé‡ã€‚ä¹è§‚é”ï¼šå‡è®¾ä¸ä¼šå‘ç”Ÿå¹¶å‘å†²çªï¼Œåªåœ¨æäº¤æ“ä½œæ—¶æ£€æŸ¥æ˜¯å¦è¿åæ•°æ®å®Œæ•´æ€§ã€‚å®ç°ä¹è§‚é”çš„ä¸¤ç§æ–¹å¼ï¼šæ•°æ®ç‰ˆæœ¬ï¼ˆVersionï¼‰è®°å½•æœºåˆ¶å®ç°æ—¶é—´æˆ³ï¼ˆtimestampï¼‰</code></pre></li><li><p>æ•°æ®åº“çš„ä¸‰èŒƒå¼</p><pre><code>ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ï¼šå¼ºè°ƒçš„æ˜¯åˆ—çš„åŸå­æ€§ï¼Œå³åˆ—ä¸èƒ½å¤Ÿå†æ‹†åˆ†ã€‚ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ï¼šé¦–å…ˆæ˜¯ 1NFï¼Œå®ä½“çš„æ¯ä¸ªéä¸»é”®å±æ€§å®Œå…¨å‡½æ•°ä¾èµ–äºä¸»é”®å±æ€§ï¼ˆ**æ¶ˆé™¤éƒ¨åˆ†ä¾èµ–**ï¼‰ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰ï¼šé¦–å…ˆæ˜¯ 2NFï¼Œå¦å¤–éä¸»é”®åˆ—å¿…é¡»**ç›´æ¥**ä¾èµ–äºä¸»é”®ï¼Œ**ä¸èƒ½å­˜åœ¨ä¼ é€’ä¾èµ–**</code></pre></li><li><p>ACIDçš„ç‰¹æ€§</p><pre><code>1.åŸå­æ€§æ˜¯æŒ‡äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆéƒ½å‘ç”Ÿï¼Œè¦ä¹ˆéƒ½ä¸å‘ç”Ÿã€‚2.ä¸€è‡´æ€§æŒ‡äº‹åŠ¡å‰åæ•°æ®çš„å®Œæ•´æ€§å¿…é¡»ä¿æŒä¸€è‡´ã€‚3.éš”ç¦»æ€§æŒ‡å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œä¸€ä¸ªç”¨æˆ·çš„äº‹åŠ¡ä¸èƒ½è¢«å…¶ä»–ç”¨æˆ·çš„äº‹åŠ¡æ‰€å¹²æ‰°ï¼Œå¤šä¸ªå¹¶å‘äº‹åŠ¡ä¹‹é—´æ•°æ®è¦ç›¸äº’éš”ç¦»ã€‚4.æŒä¹…æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„ï¼Œå³ä¾¿æ•°æ®åº“å‘ç”Ÿæ•…éšœä¹Ÿä¸åº”è¯¥å¯¹å…¶æœ‰ä»»ä½•å½±å“ã€‚</code></pre></li><li><p>éš”ç¦»æ€§æ‰€é€ æˆçš„é—®é¢˜ï¼š</p><pre><code>è„è¯»:    æŒ‡ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦å¤–ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ä¸å¯é‡å¤è¯»ï¼šåœ¨ä¸€ä¸ªäº‹åŠ¡å†…è¯»å–è¡¨ä¸­çš„æŸä¸€è¡Œæ•°æ®ï¼Œå¤šæ¬¡è¯»å–ç»“æœä¸åŒè™šè¯»ï¼ˆå¹»è¯»ï¼‰ï¼šæŒ‡ä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°äº†åˆ«çš„äº‹åŠ¡æ’å…¥çš„æ•°æ®ï¼Œå¯¼è‡´å‰åè¯»å–ä¸ä¸€è‡´</code></pre></li><li><p>ä¸»ä»å¤åˆ¶</p><pre><code>ä¸»ä»å¤åˆ¶æ˜¯æŒ‡ä¸€å°æœåŠ¡å™¨å……å½“ä¸»æ•°æ®åº“æœåŠ¡å™¨ï¼Œå¦ä¸€å°æˆ–å¤šå°æœåŠ¡å™¨å……å½“ä»æ•°æ®åº“æœåŠ¡å™¨ï¼Œä¸»æœåŠ¡å™¨ä¸­çš„æ•°æ®è‡ªåŠ¨å¤åˆ¶åˆ°ä»æœåŠ¡å™¨ä¹‹ä¸­ã€‚MySQLä¸»ä»å¤åˆ¶çš„åŸºç¡€æ˜¯ä¸»æœåŠ¡å™¨å¯¹æ•°æ®åº“ä¿®æ”¹è®°å½•äºŒè¿›åˆ¶æ—¥å¿—ï¼Œä»æœåŠ¡å™¨é€šè¿‡ä¸»æœåŠ¡å™¨çš„äºŒè¿›åˆ¶æ—¥å¿—è‡ªåŠ¨æ‰§è¡Œæ›´æ–°ã€‚MySQLä¸»ä»å¤åˆ¶çš„ä¸¤ç§æƒ…å†µï¼šåŒæ­¥å¤åˆ¶å’Œå¼‚æ­¥å¤åˆ¶(ä½¿ç”¨åå¤š)</code></pre></li><li><p>leftjoinå’Œrightjoinçš„åŒºåˆ«ï¼Ÿ</p><pre><code>leftjoin(å·¦è”æ¥)è¿”å›åŒ…æ‹¬å·¦è¡¨ä¸­çš„æ‰€æœ‰è®°å½•å’Œå³è¡¨ä¸­è”ç»“å­—æ®µç›¸ç­‰çš„è®°å½•</code></pre></li><li><p>æ•°æ®åº“ä¼˜åŒ–æ–¹æ³•</p><pre><code>1.é€‰å–æœ€é€‚ç”¨çš„å­—æ®µå±æ€§2.ä½¿ç”¨è¿æ¥ï¼ˆJOINï¼‰æ¥ä»£æ›¿å­æŸ¥è¯¢(Sub-Queries)3.äº‹åŠ¡</code></pre></li><li><p>è°ˆä¸€ä¸‹ä½ å¯¹ç»§æ‰¿æ˜ å°„çš„ç†è§£</p><pre><code>ç»§æ‰¿å…³ç³»çš„æ˜ å°„ç­–ç•¥æœ‰ä¸‰ç§ï¼šâ‘ æ¯ä¸ªç»§æ‰¿ç»“æ„ä¸€å¼ è¡¨ï¼ˆtableperclasshierarchyï¼‰ï¼Œä¸ç®¡å¤šå°‘ä¸ªå­ç±»éƒ½ç”¨ä¸€å¼ è¡¨ã€‚â‘¡æ¯ä¸ªå­ç±»ä¸€å¼ è¡¨ï¼ˆtablepersubclassï¼‰ï¼Œå…¬å…±ä¿¡æ¯æ”¾ä¸€å¼ è¡¨ï¼Œç‰¹æœ‰ä¿¡æ¯æ”¾å•ç‹¬çš„è¡¨ã€‚â‘¢æ¯ä¸ªå…·ä½“ç±»ä¸€å¼ è¡¨ï¼ˆtableperconcreteclassï¼‰ï¼Œæœ‰å¤šå°‘ä¸ªå­ç±»å°±æœ‰å¤šå°‘å¼ è¡¨ã€‚</code></pre></li><li><p>æ•°æ®è¿æ¥æ± çš„å·¥ä½œæœºåˆ¶</p><pre><code>æœåŠ¡å™¨å¯åŠ¨æ—¶ä¼šå»ºç«‹ä¸€å®šæ•°é‡çš„æ± è¿æ¥ï¼Œå¹¶ä¸€ç›´ç»´æŒä¸å°‘äºæ­¤æ•°ç›®çš„æ± è¿æ¥ã€‚å®¢æˆ·ç«¯ç¨‹åºéœ€è¦è¿æ¥æ—¶ï¼Œæ± é©±åŠ¨ç¨‹åºä¼šè¿”å›ä¸€ä¸ªæœªä½¿ç”¨çš„æ± è¿æ¥å¹¶å°†å…¶è¡¨è®°ä¸ºå¿™ã€‚å¦‚æœå½“å‰æ²¡æœ‰ç©ºé—²è¿æ¥ï¼Œæ± é©±åŠ¨ç¨‹åºå°±æ–°å»ºä¸€å®šæ•°é‡çš„è¿æ¥å½“ä½¿ç”¨çš„æ± è¿æ¥è°ƒç”¨å®Œæˆåï¼Œæ± é©±åŠ¨ç¨‹åºå°†æ­¤è¿æ¥è¡¨è®°ä¸ºç©ºé—²ï¼Œå…¶ä»–è°ƒç”¨å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªè¿æ¥ã€‚</code></pre></li><li><p>JDBCä¸­å¦‚ä½•è¿›è¡Œäº‹åŠ¡å¤„ç†</p><pre><code>Connectionæä¾›äº†äº‹åŠ¡å¤„ç†çš„æ–¹æ³•ï¼Œé€šè¿‡è°ƒç”¨setAutoCommit(false)å¯ä»¥è®¾ç½®æ‰‹åŠ¨æäº¤äº‹åŠ¡ï¼›å½“äº‹åŠ¡å®Œæˆåç”¨commit()æ˜¾å¼æäº¤äº‹åŠ¡ï¼›å¦‚æœåœ¨äº‹åŠ¡å¤„ç†è¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸åˆ™é€šè¿‡rollback()è¿›è¡Œäº‹åŠ¡å›æ»šã€‚</code></pre></li><li><p>JDBCçš„åå°„ï¼Œåå°„éƒ½æ˜¯ä»€ä¹ˆ</p><pre><code>é€šè¿‡åå°„com.mysql.jdbc.Driverç±»ï¼Œå®ä¾‹åŒ–è¯¥ç±»çš„æ—¶å€™ä¼šæ‰§è¡Œè¯¥ç±»å†…éƒ¨çš„é™æ€ä»£ç å—ï¼Œè¯¥ä»£ç å—ä¼šåœ¨Javaå®ç°çš„DriverManagerç±»ä¸­æ³¨å†Œè‡ªå·±DriverManagerç®¡ç†æ‰€æœ‰å·²ç»æ³¨å†Œçš„é©±åŠ¨ç±»ï¼Œå½“è°ƒç”¨DriverManager.getConnectionæ–¹æ³•æ—¶ä¼šéå†è¿™äº›é©±åŠ¨ç±»å¹¶å°è¯•å»è¿æ¥æ•°æ®åº“ï¼Œåªè¦æœ‰ä¸€ä¸ªèƒ½è¿æ¥æˆåŠŸï¼Œå°±è¿”å›Connectionå¯¹è±¡ï¼Œå¦åˆ™åˆ™æŠ¥å¼‚å¸¸</code></pre></li><li><p>Statementå’ŒPreparedStatementæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå“ªä¸ªæ€§èƒ½æ›´å¥½ï¼Ÿ  </p><pre><code>PreparedStatementæ¥å£ä»£è¡¨é¢„ç¼–è¯‘çš„è¯­å¥ï¼Œå®ƒä¸»è¦çš„ä¼˜åŠ¿åœ¨äºå¯ä»¥å‡å°‘SQLçš„ç¼–è¯‘é”™è¯¯å¹¶å¢åŠ SQLçš„å®‰å…¨æ€§ï¼ˆå‡å°‘SQLæ³¨å…¥æ”»å‡»çš„å¯èƒ½æ€§ï¼‰PreparedStatementä¸­çš„SQLè¯­å¥æ˜¯å¯ä»¥å¸¦å‚æ•°çš„ï¼Œé¿å…äº†ç”¨å­—ç¬¦ä¸²è¿æ¥æ‹¼æ¥SQLè¯­å¥çš„éº»çƒ¦å’Œä¸å®‰å…¨ï¼›å½“æ‰¹é‡å¤„ç†SQLæˆ–é¢‘ç¹æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢æ—¶ï¼ŒPreparedStatementæœ‰æ˜æ˜¾çš„æ€§èƒ½ä¸Šçš„ä¼˜åŠ¿ï¼Œç”±äºæ•°æ®åº“å¯ä»¥å°†ç¼–è¯‘ä¼˜åŒ–åçš„SQLè¯­å¥ç¼“å­˜èµ·æ¥ï¼Œä¸‹æ¬¡æ‰§è¡Œç›¸åŒç»“æ„çš„è¯­å¥æ—¶å°±ä¼šå¾ˆå¿«</code></pre></li><li><p>åˆ†é¡µè¯­å¥ï¼šå–å‡ºsqlè¡¨ä¸­ç¬¬31åˆ°40çš„è®°å½•ï¼ˆä»¥è‡ªåŠ¨å¢é•¿IDä¸ºä¸»é”®ï¼‰</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t <span class="token keyword">order</span> <span class="token keyword">by</span> id <span class="token keyword">limit</span> <span class="token number">30</span><span class="token punctuation">,</span><span class="token number">10</span>ï¼›</code></pre></li><li><p>æ ¹æ®éƒ¨é—¨å·ä»é«˜åˆ°ä½ï¼Œå·¥èµ„ä»ä½åˆ°é«˜åˆ—å‡ºæ¯ä¸ªå‘˜å·¥çš„ä¿¡æ¯ã€‚</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employee <span class="token keyword">order</span> <span class="token keyword">by</span> deptid <span class="token keyword">desc</span><span class="token punctuation">,</span>salary<span class="token punctuation">;</span></code></pre></li><li><p>ç”¨JDBCæŸ¥è¯¢å­¦ç”Ÿæˆç»©å•ï¼Œå†™å‡ºä¸»è¦ä»£ç </p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//åŠ è½½é©±åŠ¨</span>Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>driverClassName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–è¿æ¥</span>Connection cn <span class="token operator">=</span> DriverManager<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ç¼–å†™sqlè¯­å¥</span>String sql <span class="token operator">=</span> <span class="token string">"select score.* from score,student where score.stuId = student.id and student.name = ?"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ‰§è¡Œsql</span>PreparedStatement pstmt <span class="token operator">=</span> cn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è®¾ç½®å‚æ•°</span>pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–ç»“æœé›†</span>Resultset rs <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//éå†ç»“æœ</span><span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getFloat</span><span class="token punctuation">(</span><span class="token string">"socre"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//å…³é—­è¿æ¥</span>rs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pstmt<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>é“¾è¡¨æŸ¥è¯¢</p><pre class=" language-sql"><code class="language-sql">class:cidã€captionstudent:sidã€genderã€class_idã€snamescore:sidã€student_idã€course_idã€numcourseï¼šcidã€cnameã€teacher_idteacher:tidã€tname<span class="token number">1</span>ã€æŸ¥è¯¢æ‰€æœ‰çš„è¯¾ç¨‹çš„åç§°ä»¥åŠå¯¹åº”çš„ä»»è¯¾è€å¸ˆå§“å<span class="token number">2</span>ã€æŸ¥è¯¢å¹³å‡æˆç»©å¤§äºå…«ååˆ†çš„åŒå­¦çš„å§“åå’Œå¹³å‡æˆç»©<span class="token number">3</span>ã€ æŸ¥è¯¢æ²¡æœ‰æŠ¥æå¹³è€å¸ˆè¯¾çš„å­¦ç”Ÿå§“å<span class="token number">4</span>ã€ æŸ¥è¯¢é€‰ä¿®ç‰©ç†è¯¾ç¨‹å’Œä½“è‚²è¯¾ç¨‹å…¶ä¸­ä¸€é—¨çš„å­¦ç”Ÿå§“å<span class="token number">5</span>ã€ æŸ¥è¯¢æŒ‚ç§‘è¶…è¿‡ä¸¤é—¨<span class="token punctuation">(</span>åŒ…æ‹¬ä¸¤é—¨<span class="token punctuation">)</span>çš„å­¦ç”Ÿå§“åå’Œç­çº§<span class="token number">6</span>ã€æ‰¾å‡ºåŒæ—¶é€‰äº†æå¹³è€å¸ˆæ‰€æœ‰è¯¾çš„å­¦ç”Ÿç­çº§å’Œå§“å<span class="token number">1</span><span class="token punctuation">.</span>    <span class="token keyword">select</span> course<span class="token punctuation">.</span>cname<span class="token punctuation">,</span>teacher<span class="token punctuation">.</span>tname     <span class="token keyword">from</span> course<span class="token punctuation">,</span>teacher     <span class="token keyword">where</span> course<span class="token punctuation">.</span>teacher_id<span class="token operator">=</span>teacher<span class="token punctuation">.</span>tid    <span class="token number">2</span><span class="token punctuation">.</span>  <span class="token keyword">select</span> student<span class="token punctuation">.</span>sname<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>score<span class="token punctuation">.</span>num<span class="token punctuation">)</span>     <span class="token keyword">from</span> student<span class="token punctuation">,</span>score     <span class="token keyword">where</span> student<span class="token punctuation">.</span>sid <span class="token operator">=</span> score<span class="token punctuation">.</span>student_id    <span class="token keyword">group</span> <span class="token keyword">by</span> score<span class="token punctuation">.</span>student_id    <span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span>score<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">80</span>class:cidã€captionstudent:sidã€genderã€class_idã€snamescore:sidã€student_idã€course_idã€numcourseï¼šcidã€cnameã€teacher_idteacher:tidã€tname<span class="token number">3</span><span class="token punctuation">.</span> <span class="token keyword">select</span> student<span class="token punctuation">.</span>sname <span class="token keyword">from</span> student <span class="token keyword">where</span> sid <span class="token operator">not</span> <span class="token operator">in</span> <span class="token punctuation">(</span>    <span class="token keyword">select</span> student_id <span class="token keyword">from</span> score <span class="token keyword">where</span> course_id <span class="token operator">in</span> <span class="token punctuation">(</span>        <span class="token keyword">select</span> course<span class="token punctuation">.</span>cid <span class="token keyword">from</span> course<span class="token punctuation">,</span>teacher <span class="token keyword">where</span> tacher<span class="token punctuation">.</span>tname <span class="token operator">=</span><span class="token string">"æå¹³è€å¸ˆ"</span><span class="token punctuation">)</span>    <span class="token punctuation">)</span>    <span class="token number">4</span><span class="token punctuation">.</span>  <span class="token keyword">select</span> student<span class="token punctuation">.</span>sname     <span class="token keyword">from</span> student    <span class="token keyword">where</span> sid <span class="token operator">in</span> <span class="token punctuation">(</span>        <span class="token keyword">select</span> score<span class="token punctuation">.</span>student_id <span class="token keyword">from</span> score <span class="token keyword">where</span> course_id <span class="token operator">in</span> <span class="token punctuation">(</span>            <span class="token keyword">select</span> cid <span class="token keyword">from</span> course <span class="token keyword">where</span> cname <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">"ç‰©ç†"</span><span class="token punctuation">,</span><span class="token string">"ä½“è‚²"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">group</span> <span class="token keyword">by</span> student_id <span class="token comment" spellcheck="true">--åœ¨æ²¡æœ‰èšåˆå‡½æ•°çš„æƒ…å†µä¸‹ä½¿ç”¨group byï¼Œè¡¨ç¤ºè¯¥åˆ—çš„é‡å¤å±æ€§åˆå¹¶ï¼ˆå»é‡æ•ˆæœï¼‰</span>        <span class="token keyword">having</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>student_id<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>     <span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">--æ–¹å¼2</span>    <span class="token keyword">select</span> sname     <span class="token keyword">from</span> student     <span class="token keyword">where</span> sid <span class="token operator">in</span> <span class="token punctuation">(</span>        <span class="token keyword">select</span> student_id         <span class="token keyword">from</span> score <span class="token keyword">inner</span> <span class="token keyword">join</span> course         <span class="token keyword">on</span> score<span class="token punctuation">.</span>course_id <span class="token operator">=</span> course<span class="token punctuation">.</span>cid         <span class="token keyword">where</span> course<span class="token punctuation">.</span>cname <span class="token operator">in</span><span class="token punctuation">(</span><span class="token string">"ç‰©ç†"</span><span class="token punctuation">,</span><span class="token string">"ä½“è‚²"</span><span class="token punctuation">)</span>        <span class="token keyword">group</span> <span class="token keyword">by</span> student_id        <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span>student_id<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>    <span class="token punctuation">)</span>    <span class="token number">5</span><span class="token punctuation">.</span>  <span class="token keyword">select</span> caption<span class="token punctuation">,</span>sname     <span class="token keyword">from</span> class <span class="token keyword">inner</span> <span class="token keyword">join</span> <span class="token punctuation">(</span>        <span class="token keyword">select</span> sname<span class="token punctuation">,</span>class_id         <span class="token keyword">from</span> student         <span class="token keyword">where</span> sid <span class="token operator">in</span> <span class="token punctuation">(</span>            <span class="token keyword">select</span> score<span class="token punctuation">.</span>student_id             <span class="token keyword">from</span> score             <span class="token keyword">where</span> num <span class="token operator">&lt;</span> <span class="token number">60</span>              <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span>score<span class="token punctuation">.</span>student_id<span class="token punctuation">)</span><span class="token operator">>=</span><span class="token number">2</span>         <span class="token punctuation">)</span>    <span class="token punctuation">)</span><span class="token keyword">as</span> k <span class="token keyword">on</span> class<span class="token punctuation">.</span>cid <span class="token operator">=</span> k<span class="token punctuation">.</span>class_id </code></pre></li><li><p>  Inner join å’Œleft join ,right joinå“ªä¸ªæ•ˆç‡é«˜</p></li></ol><pre><code>```Inner joinï¼Œå®ƒåªæŸ¥è¯¢å‡ºäº¤é›†ï¼Œleft joinæŸ¥è¯¢é™¤äº†äº¤é›†è¿˜æœ‰å·¦è¾¹æ²¡æœ‰è¿”å›çš„æ•°æ®left joinå·²ç»ç¡®å®šäº†æ‹¿å·¦è¾¹è¡¨ä¸ºå‚ç…§è¡¨ï¼ŒInner joinä¼šè‡ªåŠ¨é€‰æ‹©æ•°æ®é‡æœ€å°çš„è¡¨ä½œå‚ç…§è¡¨è¿æ¥æŸ¥è¯¢ä¸ºä»€ä¹ˆæ¯”å­æŸ¥è¯¢æ•ˆç‡é«˜ï¼Ÿæ‰§è¡Œå­æŸ¥è¯¢æ—¶ï¼ŒMYSQLéœ€è¦åˆ›å»ºä¸´æ—¶è¡¨ï¼ŒæŸ¥è¯¢å®Œæ¯•åå†åˆ é™¤è¿™äº›ä¸´æ—¶è¡¨ï¼Œæ‰€ä»¥ï¼Œå­æŸ¥è¯¢çš„é€Ÿåº¦ä¼šå—åˆ°ä¸€å®šçš„å½±å“ï¼Œè¿™é‡Œå¤šäº†ä¸€ä¸ªåˆ›å»ºå’Œé”€æ¯ä¸´æ—¶è¡¨çš„è¿‡ç¨‹ã€‚```</code></pre><ol start="28"><li>  è”è¡¨æŸ¥è¯¢JOINä»‹ç»</li></ol><pre><code>```sqlå†…è¿æ¥ï¼šINNER JOINSELECT * FROM book INNER JOIN book_type ON book.type_id=book_type.type_id;ç­‰åŒäº ï¼šå¦‚æœä¸¤ä¸ªå­—æ®µåå­—ç›¸åŒï¼Œå¯ä»¥æ˜¯ä½¿ç”¨using(column_name)æ¥ä»£æ›¿Onselect * from book inner join book_type using(type_id);è‡ªç„¶è¿æ¥ï¼šNATURAL JOIN:è‡ªç„¶è¿æ¥å°±æ˜¯USINGå­å¥çš„ç®€åŒ–ç‰ˆ,å®ƒæ‰¾å‡ºä¸¤ä¸ªè¡¨ä¸­ç›¸åŒçš„åˆ—ä½œä¸ºè¿æ¥æ¡ä»¶è¿›è¡Œè¿æ¥select * from book natural join book_type;```</code></pre>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> é¢è¯•é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤šçº¿ç¨‹ï¼ˆé¢è¯•ï¼‰</title>
      <link href="/2020/09/19/xue-xi/duo-xian-cheng-mian-shi/"/>
      <url>/2020/09/19/xue-xi/duo-xian-cheng-mian-shi/</url>
      
        <content type="html"><![CDATA[<h1 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h1><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><ul><li>ç¨‹åºï¼šä¸€æ®µé™æ€çš„ä»£ç </li><li>è¿›ç¨‹ï¼šè¿›ç¨‹ä½œä¸ºèµ„æºåˆ†é…çš„å•ä½ï¼Œç³»ç»Ÿåœ¨è¿è¡Œæ—¶ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ’åˆ†å†…å­˜åŒºåŸŸ</li><li>çº¿ç¨‹ï¼šçº¿ç¨‹ä½œä¸ºè°ƒåº¦å’Œæ‰§è¡Œçš„å•ä½ï¼Œæ¯ä¸ªçº¿ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„è¿è¡Œæ ˆå’Œç¨‹åºè®¡æ•°å™¨</li><li>å¹¶è¡Œï¼šå¤šä¸ªcpuåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡</li><li>å¹¶å‘ï¼šä¸€ä¸ªcpuåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œæ¯”å¦‚ï¼šç§’æ€</li></ul><h2 id="çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼"><a href="#çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼" class="headerlink" title="çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼"></a>çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼</h2><ol start="0"><li><p>ç»§æ‰¿Threadç±»çš„å­ç±»ï¼Œé‡å†™runæ–¹æ³•ï¼ˆå’Œ1çš„åŒ¿åå­ç±»çš„æ–¹å¼ä¸€æ ·ï¼‰</p><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Threadåˆ›å»ºæ–¹æ³•0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//è°ƒç”¨</span>MyThread t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¿…é¡»æ˜¯start</span></code></pre><blockquote><p>æ³¨æ„ï¼šæ¯ä¸ªçº¿ç¨‹å¯¹è±¡åªèƒ½å¯åŠ¨ä¸€æ¬¡ï¼Œå½“éœ€è¦å¤šæ¬¡è°ƒç”¨è¯¥é€»è¾‘ï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œè¿›è¡Œè°ƒç”¨</p></blockquote></li><li><p>Newçº¿ç¨‹ï¼Œé‡å†™Threadçš„runæ–¹æ³•</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Thread thread1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Threadåˆ›å»ºæ–¹æ³•1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    thread1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>Newçº¿ç¨‹ï¼Œå®ç°Runnableæ¥å£</p><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">RThread</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Threadåˆ›å»ºæ–¹æ³•2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//è°ƒç”¨</span>RThread mt1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Thread t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>mt1<span class="token punctuation">)</span><span class="token punctuation">;</span>t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Thread thread2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Threadåˆ›å»ºæ–¹æ³•2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    thread2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><blockquote><p>æ­¤æ–¹æ³•åˆ›å»ºå¤šä¸ªçº¿ç¨‹æ—¶åªéœ€è¦å°†æ„é€ å™¨ä¸­çš„å‚æ•°æ›´æ¢å³å¯ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªrunnableå®ç°ç±»å¯¹è±¡</p><p>1ï¼Œ2ç§åˆ›å»ºçº¿ç¨‹æ–¹å¼çš„æ¯”è¾ƒï¼š</p><ul><li>å¼€å‘ä¸­ï¼Œä¼˜å…ˆé€‰æ‹©å®ç°Runnableæ¥å£çš„æ–¹å¼</li><li>åŸå› ï¼š<ul><li>å®ç°çš„æ–¹å¼æ²¡æœ‰ç±»çš„å•ç»§æ‰¿æ€§å±€é™æ€§</li><li>å®ç°çš„æ–¹å¼æ›´é€‚åˆæ¥å¤„ç†å¤šä¸ªçº¿ç¨‹æœ‰å…±äº«æ•°æ®çš„æƒ…å†µï¼ˆå› ä¸ºåªåˆ›å»ºä¸€ä¸ªrunnableç»™ç›¸åŒæ„é€ å™¨ï¼‰</li></ul></li><li>ç›¸åŒç‚¹ï¼šä¸¤ä¸ªæ–¹å¼éƒ½éœ€è¦é‡å†™run()ï¼Œå°†çº¿ç¨‹è¦æ‰§è¡Œçš„é€»è¾‘å£°æ˜åœ¨run()ä¸­</li></ul></blockquote></li><li><p>New Callableæ¥å£ï¼Œå®ç°callæ–¹æ³•ï¼Œå°è£…æˆä»»åŠ¡ï¼Œä½œä¸ºå‚æ•°åŠ å…¥çº¿ç¨‹</p><p>callableå¯ä»¥è¿”å›ç»“æœå€¼ï¼Œéœ€è¦åœ¨å®šä¹‰çš„æ—¶å€™æŒ‡å®šè¿”å›å€¼ç±»å‹</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> ExecutionException<span class="token punctuation">,</span> InterruptedException <span class="token punctuation">{</span>    Callable<span class="token operator">&lt;</span>Integer<span class="token operator">></span> callable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Callable</span><span class="token operator">&lt;</span>Integer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> Integer <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Threadåˆ›å»ºæ–¹æ³•3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//å°è£…æˆä»»åŠ¡</span>    FutureTask<span class="token operator">&lt;</span>Integer<span class="token operator">></span> task <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FutureTask</span><span class="token operator">&lt;</span>Integer<span class="token operator">></span><span class="token punctuation">(</span>callable<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    task<span class="token punctuation">.</span><span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li></ol><p>3.1 å®ç°Callableæ¥å£</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.åˆ›å»ºCallableçš„å®ç°ç±»</span><span class="token keyword">class</span> <span class="token class-name">CallTest</span> <span class="token keyword">implements</span> <span class="token class-name">Callable</span><span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token comment" spellcheck="true">//é‡å†™callæ–¹æ³•</span>        <span class="token keyword">public</span> Object <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Threadåˆ›å»ºæ–¹æ³•3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">test</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//åˆ›å»ºå®ç°ç±»å®ä¾‹</span>    CallTest callTest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CallTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//å°†æ­¤å®ä¾‹ä½œä¸ºå‚æ•°ä¼ å…¥FutureTaskæ„é€ å™¨ä¸­</span>    FutureTask task <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FutureTask</span><span class="token punctuation">(</span>callTest<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//å°†FutureTaskä½œä¸ºå‚æ•°ä¼ å…¥çº¿ç¨‹ä¸­ï¼Œä¸ºäº†æ‰§è¡Œçº¿ç¨‹</span>    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//éå¿…é€‰æ­¥éª¤ï¼šè·å–è¿”å›å€¼</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><blockquote><p>å¦‚ä½•ç†è§£Callableæ¥å£çš„æ–¹å¼åˆ›å»ºå¤šçº¿ç¨‹æ¯”Runnableæ¥å£çš„æ–¹å¼å¼ºå¤§ï¼Ÿ</p><ol><li>callï¼ˆï¼‰æœ‰è¿”å›å€¼</li><li>call()å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Œè¢«å¤–è¾¹çš„æ“ä½œæ•è·ï¼Œè·å–å¼‚å¸¸ä¿¡æ¯</li><li>Callablesæ˜¯æ”¯æŒæ³›å‹çš„</li></ol></blockquote><ol start="4"><li><p>ä½¿ç”¨çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æä¾›æŒ‡å®šçº¿ç¨‹æ•°é‡çš„çº¿ç¨‹æ± </span>ExecutorService service <span class="token operator">=</span> Executors<span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>service<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>Runnable command<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ–¹å¼1æäº¤ï¼šç”¨äºrunnable</span>FutureTask task <span class="token operator">=</span> service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>Callable<span class="token operator">&lt;</span>T<span class="token operator">></span> task<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ–¹å¼2æäº¤ï¼šç”¨äºcallable</span><span class="token comment" spellcheck="true">//éå¿…é€‰æ­¥éª¤ï¼šè·å–è¿”å›å€¼</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>service<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å…³é—­çº¿ç¨‹æ± </span></code></pre></li></ol><h2 id="çº¿ç¨‹çš„å…­ç§çŠ¶æ€"><a href="#çº¿ç¨‹çš„å…­ç§çŠ¶æ€" class="headerlink" title="çº¿ç¨‹çš„å…­ç§çŠ¶æ€"></a>çº¿ç¨‹çš„å…­ç§çŠ¶æ€</h2><ol><li><p>NEWï¼šåˆå§‹æ€</p></li><li><p>RUNNABLEï¼šè¿è¡Œæ€</p><p>a)    Readyï¼šå‡†å¤‡æ€ï¼ˆæ’é˜Ÿä¸­ï¼Œå‡†å¤‡æ‰§è¡Œï¼‰</p><p>b)    Runningï¼šæ‰§è¡Œæ€</p></li><li><p>BLOCKEDï¼šé˜»å¡æ€ï¼ˆæ‰§è¡Œé”æ–¹æ³•ï¼Œé”è¢«å…¶ä»–çº¿ç¨‹æ‹¿èµ°ï¼Œè‡ªå·±æˆä¸ºé˜»å¡æ€ï¼‰</p></li><li><p>WAITINGï¼šç­‰å¾…æ€ï¼ˆæ‰§è¡Œé”æ–¹æ³•ï¼Œæ‰§è¡Œäº†å…¶ä¸­çš„wait()æ–¹æ³•ï¼Œé‡Šæ”¾é”ï¼Œå½“æ¡ä»¶æ»¡è¶³ä¹‹åï¼Œå¾—åˆ°é”å°±ä¼šç«‹åˆ»æ‰§è¡Œï¼‰</p></li><li><p>TIMED_WAITING:è¶…æ—¶ç­‰å¾…æ€ï¼ˆwait(ä¼ å‚2000)ï¼Œè¿›å…¥ç­‰å¾…æ€2ç§’åï¼Œä¸ç®¡æ¡ä»¶æ˜¯å¦æ»¡è¶³ï¼Œéƒ½æ‰§è¡Œï¼‰</p></li><li><p>TERMINEATED:ç»“æŸæ€</p></li></ol><p> <img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200930191544.png"></p><h2 id="çº¿ç¨‹åŒæ­¥"><a href="#çº¿ç¨‹åŒæ­¥" class="headerlink" title="çº¿ç¨‹åŒæ­¥"></a>çº¿ç¨‹åŒæ­¥</h2><p>åŒæ­¥çš„æ–¹å¼è§£å†³äº†çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ã€‚</p><p>æ“ä½œåŒæ­¥ä»£ç å—æ—¶ï¼Œåªè¦æœ‰ä¸€ä¸ªçº¿ç¨‹å‚ä¼šï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…ï¼Œç›¸å½“äºå•çº¿ç¨‹è¿‡ç¨‹ï¼Œæ•ˆç‡ä½</p><h3 id="æ–¹å¼ä¸€ï¼šåŒæ­¥ä»£ç å—"><a href="#æ–¹å¼ä¸€ï¼šåŒæ­¥ä»£ç å—" class="headerlink" title="æ–¹å¼ä¸€ï¼šåŒæ­¥ä»£ç å—"></a>æ–¹å¼ä¸€ï¼šåŒæ­¥ä»£ç å—</h3><pre class=" language-java"><code class="language-java"><span class="token keyword">synchronized</span><span class="token punctuation">(</span>åŒæ­¥ç›‘è§†å™¨<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//éœ€è¦è¢«åŒæ­¥çš„ä»£ç </span><span class="token punctuation">}</span></code></pre><p>è¯´æ˜ï¼š</p><ol><li><p>æ“ä½œå…±äº«æ•°æ®çš„ä»£ç ï¼Œå³ä¸ºéœ€è¦è¢«åŒæ­¥çš„ä»£ç </p></li><li><p>å…±äº«æ•°æ®ï¼šå¤šä¸ªçº¿ç¨‹å…±åŒæ“ä½œçš„å˜é‡ã€‚</p></li><li><p>åŒæ­¥ç›‘è§†å™¨ï¼Œä¿—ç§°ï¼šé”ã€‚ä»»ä½•ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½å¯ä»¥å½“ä½œé”</p><p>è¦æ±‚ï¼š<strong>å¤šä¸ªçº¿ç¨‹å¿…é¡»è¦å…¬ç”¨åŒä¸€æŠŠé”</strong>ï¼ˆstaticï¼‰</p><ol><li>åœ¨å®ç°Runnableæ¥å£åˆ›å»ºå¤šçº¿ç¨‹çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ç”¨thiså……å½“åŒæ­¥ç›‘è§†å™¨</li><li>åœ¨ç»§æ‰¿Threadç±»åˆ›å»ºå¤šçº¿ç¨‹çš„æ–¹å¼ï¼Œæ…ç”¨thiså……å½“åŒæ­¥ç›‘è§†å™¨ï¼ˆå› ä¸ºä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼‰,å¯ä»¥ç”¨ç±».class</li></ol></li></ol><h3 id="æ–¹å¼äºŒï¼šåŒæ­¥æ–¹æ³•"><a href="#æ–¹å¼äºŒï¼šåŒæ­¥æ–¹æ³•" class="headerlink" title="æ–¹å¼äºŒï¼šåŒæ­¥æ–¹æ³•"></a>æ–¹å¼äºŒï¼šåŒæ­¥æ–¹æ³•</h3><p>å¦‚æœæ“ä½œå…±äº«æ•°æ®çš„ä»£ç éƒ½å£°æ˜åœ¨ä¸€ä¸ªæ–¹æ³•ä¸­ï¼Œä¸å¦¨å°†æ­¤æ–¹æ³•å£°æ˜åŒæ­¥çš„ã€‚</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//éœ€è¦åŒæ­¥çš„ä»£ç </span><span class="token punctuation">}</span></code></pre><p>æ€»ç»“ï¼š</p><ol><li>åŒæ­¥æ–¹æ³•ä»ç„¶æ¶‰åŠåˆ°åŒæ­¥ç›‘è§†å™¨ï¼Œåªæ˜¯ä¸éœ€è¦æˆ‘ä»¬æ˜¾å¼çš„å£°æ˜</li><li>éé™æ€çš„åŒæ­¥æ–¹æ³•ï¼ŒåŒæ­¥æ–¹æ³•æ˜¯ï¼šthisï¼ˆä¸é€‚ç”¨ç»§æ‰¿Threadç±»çš„å¤šçº¿ç¨‹ï¼‰</li><li>é™æ€çš„åŒæ­¥æ–¹æ³•ï¼ŒåŒæ­¥ç›‘è§†å™¨æ˜¯ï¼šå½“å‰ç±»æœ¬èº«ï¼ˆé€‚ç”¨äºæ‰€æœ‰æƒ…å†µï¼‰</li></ol><h3 id="Locké”"><a href="#Locké”" class="headerlink" title="Locké”"></a>Locké”</h3><pre class=" language-java"><code class="language-java">Private ReentrantLock lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>æ³¨æ„ï¼Œå¦‚æœæ˜¯ç»§æ‰¿Threadçš„æ–¹å¼ï¼Œéœ€è¦å°†LockåŠ ä¸Šstatic</p></blockquote><h4 id="synchronizedä¸Lockçš„å¼‚åŒ"><a href="#synchronizedä¸Lockçš„å¼‚åŒ" class="headerlink" title="synchronizedä¸Lockçš„å¼‚åŒ"></a>synchronizedä¸Lockçš„å¼‚åŒ</h4><ul><li>ç›¸åŒï¼šäºŒè€…éƒ½å¯ä»¥è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜</li><li>ä¸åŒï¼š<ul><li>synchronizedæœºåˆ¶åœ¨æ‰§è¡Œå®Œç›¸åº”çš„åŒæ­¥ä»£ç ä¹‹åï¼Œè‡ªåŠ¨çš„é‡Šæ”¾åŒæ­¥ç›‘è§†å™¨</li><li>Lockéœ€è¦æ‰‹åŠ¨çš„å¯åŠ¨åŒæ­¥ï¼ˆlock()ï¼‰ï¼ŒåŒæ—¶ç»“æŸåŒæ­¥ä¹Ÿéœ€è¦æ‰‹åŠ¨çš„å®ç°ï¼ˆunlock()ï¼‰</li></ul></li></ul><p><strong>ä¼˜å…ˆä½¿ç”¨é¡ºåºï¼š</strong></p><p> Lockâ€“&gt;åŒæ­¥ä»£ç å—ï¼ˆå·²ç»è¿›å…¥äº†æ–¹æ³•ä½“ï¼Œåˆ†ç±»äº†ç›¸åº”èµ„æºï¼‰â€“&gt;åŒæ­¥æ–¹æ³•ï¼ˆåœ¨æ–¹æ³•ä½“ä¹‹å¤–ï¼‰</p><h4 id="å¦‚ä½•è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Ÿæœ‰å‡ ç§"><a href="#å¦‚ä½•è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Ÿæœ‰å‡ ç§" class="headerlink" title="å¦‚ä½•è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Ÿæœ‰å‡ ç§"></a>å¦‚ä½•è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Ÿæœ‰å‡ ç§</h4><p> 3ç§ï¼ŒLocké”æ–¹å¼ï¼ŒåŒæ­¥ä»£ç å¿«ï¼ŒåŒæ­¥æ–¹æ³•</p><h2 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h2><p>ä¸åŒçº¿ç¨‹åˆ†åˆ«å ç”¨äº†å¯¹æ–¹éœ€è¦çš„åŒæ­¥èµ„æºä¸æ”¾å¼ƒï¼Œéƒ½åœ¨ç­‰å¾…å¯¹æ–¹æ”¾å¼ƒè‡ªå·±éœ€è¦çš„èµ„æº</p><h4 id="å¦‚ä½•è§£å†³æ­»é”"><a href="#å¦‚ä½•è§£å†³æ­»é”" class="headerlink" title="å¦‚ä½•è§£å†³æ­»é”"></a>å¦‚ä½•è§£å†³æ­»é”</h4><ol><li>Aè°ƒBï¼ŒBè°ƒAçš„æƒ…å†µæ³¨æ„åŒæ­¥é—®é¢˜</li><li>å‡å°‘åŒæ­¥èµ„æºçš„å®šä¹‰</li><li>é¿å…åµŒå¥—åŒæ­¥</li></ol><h2 id="çº¿ç¨‹çš„é€šä¿¡"><a href="#çº¿ç¨‹çš„é€šä¿¡" class="headerlink" title="çº¿ç¨‹çš„é€šä¿¡"></a>çº¿ç¨‹çš„é€šä¿¡</h2><ol><li>wait()ï¼šä¸€æ—¦æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œå½“å‰çº¿ç¨‹å°±è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œå¹¶é‡Šæ”¾åŒæ­¥ç›‘è§†å™¨</li><li>notify()ï¼šä¸€æ—¦æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œå°±ä¼šå”¤é†’ä¸€ä¸ªçº¿ç¨‹ï¼Œå¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹è¢«wait,å°±å”¤é†’ä¼˜å…ˆçº§é«˜</li><li>notifyAll()ï¼šä¸€æ—¦æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œå°±ä¼šå”¤é†’æ‰€æœ‰waitçº¿ç¨‹</li></ol><blockquote><p>æ³¨æ„ï¼š</p><ol><li>è¿™ä¸‰ä¸ªæ–¹æ³•å¿…é¡»ä½¿ç”¨åœ¨åŒæ­¥ä»£ç å—æˆ–åŒæ­¥æ–¹æ³•ä¸­</li><li>è¿™ä¸‰ä¸ªæ–¹æ³•çš„è°ƒç”¨è€…ï¼Œå¿…é¡»æ˜¯åŒæ­¥ç›‘è§†å™¨ï¼Œå¦åˆ™ä¼šå‡ºç°<code>IllegalMonitorStateException</code>ï¼ˆthisï¼‰</li><li>è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯å®šä¹‰åœ¨objectä¸­</li></ol></blockquote><h2 id="Sleepå’ŒWaitçš„åŒºåˆ«"><a href="#Sleepå’ŒWaitçš„åŒºåˆ«" class="headerlink" title="Sleepå’ŒWaitçš„åŒºåˆ«"></a>Sleepå’ŒWaitçš„åŒºåˆ«</h2><p>a)    ç›¸åŒç‚¹ï¼šä¸€æ—¦æ‰§è¡Œæ–¹æ³•ï¼Œéƒ½å¯ä»¥ä½¿å¾—å½“å‰çš„çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€</p><p>a)    ä¸åŒç‚¹ï¼š</p><ol><li>å£°æ˜çš„ä½ç½®ä¸åŒï¼šThreadç±»ä¸­çš„å£°æ˜sleep()ï¼ŒObjectç±»ä¸­å£°æ˜wait()</li><li>è°ƒç”¨çš„è¦æ±‚ä¸åŒï¼šsleep()å¯ä»¥åœ¨ä»»ä½•éœ€è¦çš„åœºæ™¯ä¸‹è°ƒç”¨ï¼Œwait()å¿…é¡»åœ¨åŒæ­¥ä»£ç å¿«ï¼ŒåŒæ­¥æ–¹æ³•ä¸­è°ƒç”¨</li><li>å…³äºæ˜¯å¦é‡Šæ”¾åŒæ­¥ç›‘è§†å™¨ï¼šå¦‚æœä¸¤ä¸ªæ–¹æ³•éƒ½ä½¿ç”¨åœ¨åŒæ­¥ä»£ç å¿«æˆ–åŒæ­¥æ–¹æ³•ä¸­ï¼Œsleepä¸ä¼šé‡Šæ”¾ï¼Œwaitä¼š</li><li>å”¤é†’æ—¶æœºä¸åŒï¼šsleep()ä¼šåœ¨è¯»ç§’ä¹‹åè‡ªå·±å”¤é†’ï¼Œwait()ä¸ä¼šè‡ªåŠ¨å”¤é†’ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨notify/notifyallæ¥è¿›è¡Œå”¤é†’</li></ol><p><strong>Sleep</strong></p><ol><li><p>æš‚åœå½“å‰çº¿ç¨‹æ‰§è¡Œï¼Œä½†æ˜¯ä¸é‡Šæ”¾é”ï¼ˆåœ¨å•æ‰€é‡Œç¡ç€äº†ï¼Œä½†å•æ‰€å…¶ä»–äººä½¿ç”¨ä¸äº†ï¼‰</p></li><li><p>å®ƒæ˜¯Threadä¸­çš„æ–¹æ³•</p></li><li><p>å¯ä»¥åœ¨ä»»ä½•åœºæ™¯ä¸­ä½¿ç”¨</p></li><li><p>åªæœ‰ç¡å¤Ÿæ—¶é—´ä¹‹åæ‰èƒ½é†’æ¥</p></li></ol><p><strong>Wait</strong></p><ol><li><p>æš‚åœå½“å‰çº¿ç¨‹æ‰§è¡Œï¼Œä½†æ˜¯é‡Šæ”¾é”</p></li><li><p>å®ƒæ˜¯Objectå¯¹è±¡çš„æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨</p></li><li><p>åªèƒ½åœ¨åŒæ­¥å—ï¼ŒåŒæ­¥æ–¹æ³•ä¸­ä½¿ç”¨</p></li><li><p>å¯ä»¥éšæ—¶è¢«å”¤é†’ï¼Œï¼ˆnotify()ä¹Ÿå¯ä»¥åœ¨å…¶ä»–çº¿ç¨‹ä½¿ç”¨æ¥å”¤é†’è¯¥çº¿ç¨‹ï¼‰</p></li></ol><h3 id="ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ï¼ˆçº¿ç¨‹é€šä¿¡åº”ç”¨ï¼‰"><a href="#ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ï¼ˆçº¿ç¨‹é€šä¿¡åº”ç”¨ï¼‰" class="headerlink" title="ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ï¼ˆçº¿ç¨‹é€šä¿¡åº”ç”¨ï¼‰"></a>ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ï¼ˆçº¿ç¨‹é€šä¿¡åº”ç”¨ï¼‰</h3><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Clerk</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/*    æ­¤å¤„ç”¨åˆ°åŒæ­¥ï¼Œåœ¨ç”Ÿäº§æ—¶ä¸èƒ½è¿›è¡Œæ¶ˆè´¹ï¼Œæ¶ˆè´¹æ—¶ä¸èƒ½ç”Ÿäº§    è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜    éœ€è¦æ³¨æ„ï¼š    1.wait(),notify()æ–¹æ³•å¿…é¡»æ”¾åœ¨åŒæ­¥ä»£ç å—/åŒæ­¥æ–¹æ³•ä¸­    2.å”¤é†’çš„æ—¶æœº     */</span>    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            i<span class="token operator">++</span><span class="token punctuation">;</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"ï¼šå¼€å§‹ç”Ÿäº§ç¬¬"</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">"ä¸ªäº§å“"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åœ¨ç”Ÿäº§å®Œæé†’æ¶ˆè´¹</span>        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                <span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">consume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"ï¼šå¼€å§‹æ¶ˆè´¹ç¬¬"</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">"ä¸ªäº§å“"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            i<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å…ˆæ¶ˆè´¹å†å‡å°‘</span>            <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åœ¨æ¶ˆè´¹å®Œäº§å“æé†’ç”Ÿäº§</span>        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                <span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Producer</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> Clerk clerk<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">Producer</span><span class="token punctuation">(</span>Clerk clerk<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>clerk <span class="token operator">=</span> clerk<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            clerk<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Consumer</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> Clerk clerk<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">Consumer</span><span class="token punctuation">(</span>Clerk clerk<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>clerk <span class="token operator">=</span> clerk<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            clerk<span class="token punctuation">.</span><span class="token function">consume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">test</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Clerk clerk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Clerk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Producer producer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Producer</span><span class="token punctuation">(</span>clerk<span class="token punctuation">)</span><span class="token punctuation">;</span>        Consumer consumer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Consumer</span><span class="token punctuation">(</span>clerk<span class="token punctuation">)</span><span class="token punctuation">;</span>        producer<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"1å·ç”Ÿäº§è€…"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        consumer<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"1å·æ¶ˆè´¹è€…"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        producer<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        consumer<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h2><p>çº¿ç¨‹èµ„æºå¿…é¡»é€šè¿‡çº¿ç¨‹æ± æä¾›ï¼Œä¸å…è®¸åœ¨åº”ç”¨ä¸­è‡ªè¡Œæ˜¾ç¤ºåˆ›å»ºçº¿ç¨‹</p><p>å¥½å¤„ï¼š</p><ol><li>å‡å°‘åˆ›å»º/é”€æ¯çº¿ç¨‹ä¸Šçš„ç³»ç»Ÿèµ„æºå¼€é”€ã€‚</li><li>æé«˜å“åº”é€Ÿåº¦ï¼ˆå‡å°‘åˆ›å»ºçº¿ç¨‹çš„æ—¶é—´ï¼‰</li><li>ä¾¿äºçº¿ç¨‹ç®¡ç†</li></ol><p>åˆ›å»ºExecutorServiceçº¿ç¨‹æ± ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æä¾›æŒ‡å®šçº¿ç¨‹æ•°é‡çš„çº¿ç¨‹æ± </span>ExecutorService service <span class="token operator">=</span> Executors<span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è®¾ç½®çº¿ç¨‹æ± å±æ€§ï¼š</p><pre class=" language-java"><code class="language-java">service<span class="token punctuation">.</span><span class="token function">setCorePoolSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ ¸å¿ƒæ± çš„å¤§å°</span>maximumPoolSize<span class="token comment" spellcheck="true">//æœ€å¤§çº¿ç¨‹ç†Ÿ</span>keepAliveTime<span class="token comment" spellcheck="true">//çº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ—¶æœ€å¤šä¿æŒå¤šé•¿æ—¶é—´ä¼šç»ˆæ­¢</span></code></pre><p>ExecutorServiceï¼šçº¿ç¨‹æ± æ¥å£</p><ul><li>void execute(Runnable command)ï¼šæ‰§è¡Œä»»åŠ¡ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨äºæ‰§è¡Œrunnableæ¥</li><li><t> submit(Callable<t> task)ï¼šæ‰§è¡Œä»»åŠ¡ï¼Œæœ‰è¿”å›å€¼ï¼ˆFutureTaskï¼‰ï¼Œä¸€èˆ¬ç”¨äºæ‰§è¡ŒCallable</t></t></li><li>void shutdown()ï¼šå…³é—­è¿æ¥æ± </li></ul><p>Executorsï¼šçº¿ç¨‹æ± å·¥å…·ç±»ï¼Œç”¨äºåˆ›å»ºä¸åŒç±»å‹çš„çº¿ç¨‹æ± </p><h2 id="çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•"><a href="#çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•"></a>çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•</h2><table><thead><tr><th>start()</th><th>å¯åŠ¨å½“å‰çº¿ç¨‹ï¼Œè°ƒç”¨å½“å‰çº¿ç¨‹çš„runï¼ˆï¼‰</th></tr></thead><tbody><tr><td>run()</td><td>é€šå¸¸éœ€è¦é‡å†™Threadç±»ä¸­çš„æ­¤æ–¹æ³•ï¼Œå°†åˆ›å»ºçš„çº¿ç¨‹è¦æ‰§è¡Œçš„æ“ä½œå£°æ˜åœ¨æ­¤æ–¹æ³•ä¸­</td></tr><tr><td>currentThread()</td><td>è¿”å›æ‰§è¡Œå½“å‰ä»£ç çš„çº¿ç¨‹</td></tr><tr><td>getName()</td><td>è·å–å½“å‰çº¿ç¨‹çš„åå­—</td></tr><tr><td>setName()</td><td>è®¾ç½®å½“å‰çº¿ç¨‹çš„åå­—</td></tr><tr><td>yield()</td><td>é‡Šæ”¾å½“å‰cpuçš„æ‰§è¡Œæƒ</td></tr><tr><td>join()</td><td>åœ¨çº¿ç¨‹aä¸­è°ƒç”¨çº¿ç¨‹bçš„join()ï¼Œçº¿ç¨‹aå°±ä¼šè¿›å…¥é˜»å¡çŠ¶æ€</td></tr><tr><td>sleep(long millitime)</td><td>ç¡çœ ï¼Œè®©å½“å‰çº¿ç¨‹â€œç¡çœ â€æŒ‡å®šæ¯«ç§’å€¼ï¼Œè®©å…¶åœ¨è§„å®šæ—¶é—´å†…æ˜¯é˜»å¡çŠ¶æ€</td></tr><tr><td>isAlive()</td><td>åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦å­˜æ´»</td></tr></tbody></table><h2 id="çº¿ç¨‹ä¼˜å…ˆçº§"><a href="#çº¿ç¨‹ä¼˜å…ˆçº§" class="headerlink" title="çº¿ç¨‹ä¼˜å…ˆçº§"></a>çº¿ç¨‹ä¼˜å…ˆçº§</h2><p>ä¼˜å…ˆçº§ï¼š</p><ol><li>MAX_PRIORITY:10</li><li>MIN_PRIORITY:1</li><li>NORM_PRIORITY:5</li></ol><p>æ¶‰åŠçš„æ–¹æ³•</p><ol><li>getPriority()ï¼šè¿”å›å½“å‰çº¿ç¨‹ä¼˜å…ˆå€¼ï¼Œ<code>Thread.currentThread().getPriority()</code></li><li>setPriority(int newPriority)ï¼šæ”¹å˜çº¿ç¨‹çš„ä¼˜å…ˆçº§</li></ol>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kafkaç¬”è®°</title>
      <link href="/2020/09/18/util/kafka/"/>
      <url>/2020/09/18/util/kafka/</url>
      
        <content type="html"><![CDATA[<h1 id="Kafka"><a href="#Kafka" class="headerlink" title="Kafka"></a>Kafka</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>Kafkaæ˜¯ä¸€ä¸ª<strong>åˆ†å¸ƒå¼</strong>çš„<strong>å‘å¸ƒ/è®¢é˜…æ¨¡å¼</strong>çš„<strong>æ¶ˆæ¯é˜Ÿåˆ—</strong>ï¼Œä¸»è¦åº”ç”¨äºå¤§æ•°æ®å®æ—¶å¤„ç†é¢†åŸŸã€‚</p><h3 id="æ¶ˆæ¯é˜Ÿåˆ—"><a href="#æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="æ¶ˆæ¯é˜Ÿåˆ—"></a>æ¶ˆæ¯é˜Ÿåˆ—</h3><h4 id="ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„å¥½å¤„"><a href="#ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„å¥½å¤„" class="headerlink" title="ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„å¥½å¤„"></a>ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„å¥½å¤„</h4><ol><li>è§£è€¦</li><li>å¯æ¢å¤æ€§ï¼šä¸€éƒ¨åˆ†ç»„ä»¶å¤±æ•ˆåï¼Œä¸ä¼šå½±å“æ•´ä¸ªç³»ç»Ÿï¼Œæ¶ˆæ¯é˜Ÿåˆ—é™ä½äº†è¿›ç¨‹ä¹‹é—´çš„è€¦åˆæ€§ï¼ŒåŠ å…¥æ¶ˆæ¯é˜Ÿåˆ—çš„æ¶ˆæ¯ä»ç„¶å¯ä»¥åœ¨ç³»ç»Ÿæ¢å¤åå¤„ç†</li><li>ç¼“å†²ï¼šè§£å†³ç”Ÿäº§æ¶ˆæ¯å’Œæ¶ˆè´¹æ¶ˆæ¯çš„å¤„ç†é€Ÿåº¦ä¸ä¸€è‡´</li><li>çµæ´»æ€§ã€å³°å€¼å¤„ç†èƒ½åŠ›</li><li>å¼‚æ­¥é€šä¿¡</li></ol><h4 id="æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼"><a href="#æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼" class="headerlink" title="æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼"></a>æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼</h4><ol><li><p>ç‚¹å¯¹ç‚¹ï¼šä¸€å¯¹ä¸€ï¼Œæ¶ˆè´¹è€…æ‹‰å–æ•°æ®ï¼Œæ¶ˆæ¯æ”¶åˆ°åæ¶ˆæ¯åˆ é™¤</p></li><li><p>å‘å¸ƒ/è®¢é˜…ï¼šä¸€å¯¹å¤šï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹æ•°æ®ä¹‹åä¸ä¼šæ¸…é™¤æ¶ˆæ¯ï¼Œæ¶ˆæ¯å¯ä»¥ç»™å¤šä¸ªæ¶ˆè´¹è€…ä½¿ç”¨ï¼ŒKafkaæ˜¯ä¸»åŠ¨æ‹‰å–æ¶ˆæ¯</p><p>ä¼˜ç‚¹ï¼šå¯ä»¥æ§åˆ¶è·å–æ¶ˆæ¯çš„é€Ÿåº¦</p><p>ç¼ºç‚¹ï¼šä¸æ–­å»é—®è®¢é˜…æ˜¯å¦æœ‰æ–°æ¶ˆæ¯</p></li></ol><h3 id="KafkaåŸºç¡€æ¶æ„"><a href="#KafkaåŸºç¡€æ¶æ„" class="headerlink" title="KafkaåŸºç¡€æ¶æ„"></a>KafkaåŸºç¡€æ¶æ„</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200916233423.png" alt="1"></p><p>Producer ï¼šæ¶ˆæ¯ç”Ÿäº§è€…ï¼Œå°±æ˜¯å‘ kafka broker å‘æ¶ˆæ¯çš„å®¢æˆ·ç«¯ï¼› </p><p>Consumer ï¼šæ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œå‘ kafka broker å–æ¶ˆæ¯çš„å®¢æˆ·ç«¯ï¼›</p><p>æ¶ˆæ¯é˜Ÿåˆ—ï¼šä¸»é¢˜Topicï¼ˆç”¨äºåˆ†ç±»ï¼‰ã€åˆ†åŒºPartitionï¼ˆç”¨äºè´Ÿè½½å‡è¡¡ï¼‰ã€Leaderä¸»ï¼ˆç”¨äºå¤‡ä»½ï¼‰</p><p>æ¶ˆè´¹è€…ï¼šæ¶ˆè´¹è€…ç»„ï¼ˆä¸€ä¸ªä¸»é¢˜å¯ä»¥è¢«ä¸€ç»„ç»„å¤šäººæ¶ˆè´¹ï¼Œä¸€ä¸ªåˆ†åŒºåªèƒ½è¢«ä¸€ä¸ªç»„ä¸­ä¸€äººæ¶ˆè´¹ï¼‰</p><p>Broker ï¼šä¸€å° kafka æœåŠ¡å™¨å°±æ˜¯ä¸€ä¸ª brokerã€‚ä¸€ä¸ªé›†ç¾¤ç”±å¤šä¸ª broker ç»„æˆã€‚ä¸€ä¸ª broker å¯ä»¥å®¹çº³å¤šä¸ª topicã€‚</p><h2 id="å®‰è£…éƒ¨ç½²"><a href="#å®‰è£…éƒ¨ç½²" class="headerlink" title="å®‰è£…éƒ¨ç½²"></a>å®‰è£…éƒ¨ç½²</h2><h3 id="é›†ç¾¤è§„åˆ’"><a href="#é›†ç¾¤è§„åˆ’" class="headerlink" title="é›†ç¾¤è§„åˆ’"></a>é›†ç¾¤è§„åˆ’</h3><h3 id="jaråŒ…ä¸‹è½½"><a href="#jaråŒ…ä¸‹è½½" class="headerlink" title="jaråŒ…ä¸‹è½½"></a>jaråŒ…ä¸‹è½½</h3><p><a href="http://kafka.apache.org/downloads.html">http://kafka.apache.org/downloads.html</a></p><h3 id="é›†ç¾¤éƒ¨ç½²"><a href="#é›†ç¾¤éƒ¨ç½²" class="headerlink" title="é›†ç¾¤éƒ¨ç½²"></a>é›†ç¾¤éƒ¨ç½²</h3><h3 id="å‘½ä»¤è¡Œæ“ä½œ"><a href="#å‘½ä»¤è¡Œæ“ä½œ" class="headerlink" title="å‘½ä»¤è¡Œæ“ä½œ"></a>å‘½ä»¤è¡Œæ“ä½œ</h3><p>1ï¼‰æŸ¥çœ‹å½“å‰æœåŠ¡å™¨ä¸­çš„æ‰€æœ‰ topic</p><p> [atguigu@hadoop102 kafka]$ bin/kafka-topics.sh â€“zookeeper hadoop102:2181 â€“list</p><p> 2ï¼‰åˆ›å»º topic </p><p>[atguigu@hadoop102 kafka]$ bin/kafka-topics.sh â€“zookeeper hadoop102:2181 â€“create â€“replication-factor 3 â€“partitions 1 â€“ topic first</p><p> é€‰é¡¹è¯´æ˜ï¼š</p><p> â€“topic å®šä¹‰ topic å</p><p> â€“replication-factor å®šä¹‰å‰¯æœ¬æ•°</p><p> â€“partitions å®šä¹‰åˆ†åŒºæ•°</p><p>3ï¼‰åˆ é™¤ topic </p><p>[atguigu@hadoop102 kafka]$ bin/kafka-topics.sh â€“zookeeper hadoop102:2181 â€“delete â€“topic first</p><p> éœ€è¦ server.properties ä¸­è®¾ç½® delete.topic.enable=true å¦åˆ™åªæ˜¯æ ‡è®°åˆ é™¤ã€‚</p><p>4ï¼‰å‘é€æ¶ˆæ¯ </p><p>[atguigu@hadoop102 kafka]$ bin/kafka-console-producer.sh â€“brokerlist hadoop102:9092 â€“topic first &gt;hello world </p><p>5ï¼‰æ¶ˆè´¹æ¶ˆæ¯ </p><p>[atguigu@hadoop102 kafka]$ bin/kafka-console-consumer.sh \ â€“zookeeper hadoop102:2181 â€“topic first</p><h2 id="Kafkaæ¶æ„æ·±å…¥"><a href="#Kafkaæ¶æ„æ·±å…¥" class="headerlink" title="Kafkaæ¶æ„æ·±å…¥"></a>Kafkaæ¶æ„æ·±å…¥</h2><h3 id="å·¥ä½œæµç¨‹"><a href="#å·¥ä½œæµç¨‹" class="headerlink" title="å·¥ä½œæµç¨‹"></a>å·¥ä½œæµç¨‹</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200917003737.png" alt="2"></p><p>Kafka ä¸­æ¶ˆæ¯æ˜¯ä»¥ topic è¿›è¡Œåˆ†ç±»çš„ï¼Œç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯ï¼Œéƒ½æ˜¯é¢å‘ topic çš„ã€‚</p><p>æ¯ä¸ª partitionï¼ˆåˆ†åŒºï¼‰ å¯¹åº”äºä¸€ä¸ª log æ–‡ ä»¶ï¼Œè¯¥ log æ–‡ä»¶ä¸­å­˜å‚¨çš„å°±æ˜¯ producer ç”Ÿäº§çš„æ•°æ®ã€‚Producer ç”Ÿäº§çš„æ•°æ®ä¼šè¢«ä¸æ–­è¿½åŠ åˆ°è¯¥ log æ–‡ä»¶æœ«ç«¯ï¼Œä¸”æ¯æ¡æ•°æ®éƒ½æœ‰è‡ªå·±çš„ offsetï¼ˆåç§»é‡ï¼Œå°±æ˜¯ç¬¬å‡ æ¡æ•°æ®çš„ç¼–å·ï¼‰ã€‚æ¶ˆè´¹è€…ç»„ä¸­çš„æ¯ä¸ªæ¶ˆè´¹è€…ï¼Œéƒ½ä¼šå®æ—¶è®°å½•è‡ªå·± æ¶ˆè´¹åˆ°äº†å“ªä¸ª offsetï¼Œä»¥ä¾¿å‡ºé”™æ¢å¤æ—¶ï¼Œä»ä¸Šæ¬¡çš„ä½ç½®ç»§ç»­æ¶ˆè´¹ã€‚</p><p>æ ¹æ®åç§»é‡å…ˆæ‰¾åˆ°è¯¥åç§»é‡åœ¨å“ªä¸ªç´¢å¼•ä¸­ï¼Œå†åœ¨ç´¢å¼•ä¸­æ‰¾åˆ°åç§»é‡ï¼Œå†è·å–åç§»é‡å¯¹åº”çœŸå®æ•°æ®çš„ä½ç½®ï¼Œå†æ‰¾åˆ°Logæ–‡ä»¶ä¸­æ•°æ®ã€‚</p><h3 id="å­˜å‚¨æœºåˆ¶"><a href="#å­˜å‚¨æœºåˆ¶" class="headerlink" title="å­˜å‚¨æœºåˆ¶"></a>å­˜å‚¨æœºåˆ¶</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200917004107.png" alt="3"></p><p>ç”±äºç”Ÿäº§è€…ç”Ÿäº§çš„æ¶ˆæ¯ä¼šä¸æ–­è¿½åŠ åˆ° log æ–‡ä»¶æœ«å°¾ï¼Œä¸ºé˜²æ­¢ log æ–‡ä»¶è¿‡å¤§å¯¼è‡´æ•°æ®å®šä½ æ•ˆç‡ä½ä¸‹ï¼ŒKafka é‡‡å–äº†<strong>åˆ†ç‰‡å’Œç´¢å¼•</strong>æœºåˆ¶ï¼Œå°†æ¯ä¸ª partition åˆ†ä¸ºå¤šä¸ª segmentï¼ˆåˆ†ç‰‡ï¼‰ã€‚æ¯ä¸ª segment å¯¹åº”ä¸¤ä¸ªæ–‡ä»¶â€”â€”â€œ.indexâ€æ–‡ä»¶å’Œâ€œ.logâ€æ–‡ä»¶ã€‚</p><p>index å’Œ log æ–‡ä»¶ä»¥å½“å‰ segment çš„ç¬¬ä¸€æ¡æ¶ˆæ¯çš„ offset å‘½åã€‚</p><pre><code>00000000000000000000.index00000000000000000000.log00000000000000170410.index00000000000000170410.log00000000000000239430.index00000000000000239430.log</code></pre><p>â€œ.indexâ€æ–‡ä»¶å­˜å‚¨å¤§é‡çš„ç´¢å¼•ä¿¡æ¯(å·¦è¾¹ä¸ºåç§»é‡ï¼ˆç¬¬å‡ æ¡æ•°æ®ï¼‰ï¼Œå³è¾¹ä¸ºæ•°æ®çš„å…·ä½“ä½ç½®)ï¼Œâ€œ.logâ€æ–‡ä»¶å­˜å‚¨å¤§é‡çš„æ•°æ®ï¼Œç´¢å¼•æ–‡ä»¶ä¸­çš„å…ƒ æ•°æ®æŒ‡å‘å¯¹åº”æ•°æ®æ–‡ä»¶ä¸­ message çš„ç‰©ç†åç§»åœ°å€ã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200917004432.png" alt="4"></p><p>è¿™äº›æ–‡ä»¶ä½äºä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œè¯¥æ–‡ä»¶å¤¹çš„å‘½å è§„åˆ™ä¸ºï¼štopic åç§°+åˆ†åŒºåºå·ã€‚ä¾‹å¦‚ï¼Œfirst è¿™ä¸ª topic æœ‰ä¸‰ä¸ªåˆ†åŒºï¼Œåˆ™å…¶å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸º first0,first-1,first-2ã€‚</p><h3 id="Kafkaç”Ÿäº§è€…"><a href="#Kafkaç”Ÿäº§è€…" class="headerlink" title="Kafkaç”Ÿäº§è€…"></a>Kafkaç”Ÿäº§è€…</h3><h4 id="åˆ†åŒºç­–ç•¥"><a href="#åˆ†åŒºç­–ç•¥" class="headerlink" title="åˆ†åŒºç­–ç•¥"></a>åˆ†åŒºç­–ç•¥</h4><h5 id="åˆ†åŒºåŸå› "><a href="#åˆ†åŒºåŸå› " class="headerlink" title="åˆ†åŒºåŸå› "></a>åˆ†åŒºåŸå› </h5><ol><li>æ–¹ä¾¿åœ¨é›†ç¾¤ä¸­æ‰©å±•ï¼šæé«˜è´Ÿè½½èƒ½åŠ›</li><li>å¯æé«˜å¹¶å‘ï¼šå¯ä»¥ä»¥partitionä¸ºå•ä½è¯»å†™</li></ol><h5 id="åˆ†åŒºçš„åŸåˆ™"><a href="#åˆ†åŒºçš„åŸåˆ™" class="headerlink" title="åˆ†åŒºçš„åŸåˆ™"></a>åˆ†åŒºçš„åŸåˆ™</h5><p>æˆ‘ä»¬éœ€è¦å°† producer å‘é€çš„æ•°æ®å°è£…æˆä¸€ä¸ª ProducerRecord å¯¹è±¡</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200917102629.png" alt="5"></p><p>ï¼ˆ1ï¼‰æŒ‡æ˜ partition çš„æƒ…å†µä¸‹ï¼Œç›´æ¥å°†æŒ‡æ˜çš„å€¼ç›´æ¥ä½œä¸º partiton å€¼ï¼› </p><p>ï¼ˆ2ï¼‰æ²¡æœ‰æŒ‡æ˜ partition å€¼ä½†æœ‰ key çš„æƒ…å†µä¸‹ï¼Œå°† key çš„ hash å€¼ä¸ topic çš„ partition æ•°è¿›è¡Œå–ä½™å¾—åˆ° partition å€¼ï¼› </p><p>ï¼ˆ3ï¼‰æ—¢æ²¡æœ‰ partition å€¼åˆæ²¡æœ‰ key å€¼çš„æƒ…å†µä¸‹ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶éšæœºç”Ÿæˆä¸€ä¸ªæ•´æ•°ï¼ˆå é¢æ¯æ¬¡è°ƒç”¨åœ¨è¿™ä¸ªæ•´æ•°ä¸Šè‡ªå¢ï¼‰ï¼Œå°†è¿™ä¸ªå€¼ä¸ topic å¯ç”¨çš„ partition æ€»æ•°å–ä½™å¾—åˆ° partition å€¼ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„ round-robinï¼ˆè½®è¯¢ï¼‰ ç®—æ³•ã€‚</p><h4 id="æ•°æ®å¯é æ€§ä¿è¯ï¼ˆæ•°æ®ä¸¢å¤±ã€é‡å¤ï¼‰"><a href="#æ•°æ®å¯é æ€§ä¿è¯ï¼ˆæ•°æ®ä¸¢å¤±ã€é‡å¤ï¼‰" class="headerlink" title="æ•°æ®å¯é æ€§ä¿è¯ï¼ˆæ•°æ®ä¸¢å¤±ã€é‡å¤ï¼‰"></a>æ•°æ®å¯é æ€§ä¿è¯ï¼ˆæ•°æ®ä¸¢å¤±ã€é‡å¤ï¼‰</h4><p>ä¸ºä¿è¯ producer èƒ½å¯é çš„å‘é€æ•°æ®åˆ°æŒ‡å®šçš„ topicï¼Œtopic çš„æ¯ä¸ª partition æ”¶åˆ° producer å‘é€çš„æ•°æ®åï¼Œéƒ½éœ€è¦å‘ producer å‘é€ ackï¼ˆacknowledgement ç¡®è®¤æ”¶åˆ°ï¼‰ï¼Œå¦‚æœ producer æ”¶åˆ° ackï¼Œå°±ä¼šè¿›è¡Œä¸‹ä¸€è½®çš„å‘é€ï¼Œå¦åˆ™é‡æ–°å‘é€æ•°æ®ã€‚    </p><p>é—®ï¼šä½•æ—¶å‘é€ackï¼Ÿ</p><ol><li>åŠæ•°ä»¥ä¸Šå®ŒæˆåŒæ­¥ï¼Œå°±å‘ é€ ack<ol><li>ä¼˜ç‚¹ï¼šå»¶è¿Ÿä½</li><li>ç¼ºç‚¹ï¼šé€‰ä¸¾æ–°leaderæ—¶ï¼Œéœ€è¦2n+1å°å‰¯æœ¬ï¼Œç¡®ä¿nå°æ•…éšœä»å¯ä»¥è¶…è¿‡åŠæ•°</li></ol></li><li>å…¨éƒ¨å®ŒæˆåŒæ­¥ï¼Œå°±å‘é€ack<ol><li>ä¼˜ç‚¹ï¼šé€‰ä¸¾æ–°leaderæ—¶ï¼Œéœ€è¦n+1å°å‰¯æœ¬ï¼Œç¡®ä¿nå°æŒ‚æ‰è¿˜æœ‰1ä¸ªå­˜æ´»ï¼Œä¹Ÿç®—å…¨éƒ¨å®Œæˆ</li><li>ç¼ºç‚¹ï¼šå»¶è¿Ÿé«˜</li></ol></li></ol><h5 id="ISRï¼ˆä¼˜ç§€çš„followeré›†åˆã€å‰¯æœ¬åŒæ­¥é˜Ÿåˆ—ï¼‰"><a href="#ISRï¼ˆä¼˜ç§€çš„followeré›†åˆã€å‰¯æœ¬åŒæ­¥é˜Ÿåˆ—ï¼‰" class="headerlink" title="ISRï¼ˆä¼˜ç§€çš„followeré›†åˆã€å‰¯æœ¬åŒæ­¥é˜Ÿåˆ—ï¼‰"></a>ISRï¼ˆä¼˜ç§€çš„followeré›†åˆã€å‰¯æœ¬åŒæ­¥é˜Ÿåˆ—ï¼‰</h5><p>é—®é¢˜ï¼šé‡‡ç”¨å…¨éƒ¨å®ŒæˆåŒæ­¥çš„æ–¹æ¡ˆï¼Œå¦‚æœæ‰€æœ‰followerå¼€å§‹åŒæ­¥æ•°æ®ï¼Œæœ‰ä¸€å°å› ä¸ºæ•…éšœï¼Œå¾ˆé•¿æ—¶é—´ä¸èƒ½å®ŒæˆåŒæ­¥ï¼Œleaderéœ€è¦ä¸€ç›´ç­‰ä¸‹å»ï¼Œä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±æœ‰äº†ISRã€‚</p><ol><li><strong>åŸç†</strong>ï¼šLeaderç»´æŠ¤äº†ä¸€ä¸ªåŠ¨æ€çš„ in-sync replica set (ISR)ï¼Œæ„æ€æ˜¯å’Œleaderä¿æŒç´§å¯†åŒæ­¥çš„leaderã€‚å½“ISRä¸­çš„followerå®Œæˆæ•°æ®åŒæ­¥ä¹‹åï¼Œleaderå°±ä¼šå‘é€ackã€‚å¦‚æœé•¿æ—¶é—´æ²¡æœ‰åŒæ­¥å®Œæˆï¼Œè¯¥followerå°±ä¼šè¢«è¸¢å‡ºISRã€‚è¿™ä¸ªæ—¶é—´é˜ˆå€¼ç”±replica.lag.time.max.ms å‚æ•°è®¾å®šã€‚Leader å‘ç”Ÿæ•…éšœä¹‹åï¼Œå°±ä¼šä» ISR ä¸­é€‰ä¸¾æ–°çš„ leaderã€‚</li><li>ä»¥å‰ç‰ˆæœ¬æ˜¯æŒ‰ä¸¤ä¸ªæ¡ä»¶è¿›å…¥ISRï¼šåŒæ­¥æ—¶é—´å·®ï¼ŒåŒæ­¥æ•°æ®é‡å·®ã€‚ä½†ä¹‹åç‰ˆæœ¬ç§»é™¤äº†åŒæ­¥æ•°æ®é‡å·®ï¼Œå› ä¸ºåœ¨åŒæ­¥æ—¶åŒæ­¥æ•°æ®é‡æ²¡æœ‰è¾¾åˆ°è¢«è¸¢å‡ºï¼ŒåŒæ­¥æ—¶é—´åˆå¿«è¢«åŠ å…¥ï¼Œåå¤è¿›å‡ºä¼šå½±å“æ€§èƒ½ã€‚</li></ol><h5 id="ack-åº”ç­”æœºåˆ¶"><a href="#ack-åº”ç­”æœºåˆ¶" class="headerlink" title="ack åº”ç­”æœºåˆ¶"></a>ack åº”ç­”æœºåˆ¶</h5><p>å¯¹äºæŸäº›ä¸å¤ªé‡è¦çš„æ•°æ®ï¼Œå¯¹æ•°æ®çš„å¯é æ€§è¦æ±‚ä¸æ˜¯å¾ˆé«˜ï¼Œèƒ½å¤Ÿå®¹å¿æ•°æ®çš„å°‘é‡ä¸¢å¤±ï¼Œ æ‰€ä»¥æ²¡å¿…è¦ç­‰ ISR ä¸­çš„ follower å…¨éƒ¨æ¥æ”¶æˆåŠŸã€‚ </p><p>æ‰€ä»¥ Kafka ä¸ºç”¨æˆ·æä¾›äº†ä¸‰ç§å¯é æ€§çº§åˆ«ï¼Œç”¨æˆ·æ ¹æ®å¯¹å¯é æ€§å’Œå»¶è¿Ÿçš„è¦æ±‚è¿›è¡Œæƒè¡¡ï¼Œ é€‰æ‹©ä»¥ä¸‹çš„é…ç½®ã€‚</p><p><strong>ackså‚æ•°é…ç½®</strong></p><p>0ï¼šç”Ÿäº§è€…<strong>ä¸ç­‰å¾…</strong>Kafkaé›†ç¾¤çš„ackï¼Œè¿™ä¸ªæ“ä½œå»¶è¿Ÿæœ€å°ï¼ŒKafkaåˆšæ¥æ”¶è¿˜æ²¡æœ‰å†™å…¥ç£ç›˜å°±å·²ç»è¿”å›ï¼Œä½†å¦‚æœé›†ç¾¤æ•…éšœï¼Œå°±æœ‰å¯èƒ½<strong>ä¸¢å¤±æ•°æ®</strong></p><p>1ï¼šç”Ÿäº§è€…ç­‰å¾…ackï¼Œåˆ†åŒºä¸­çš„leaderå†™å…¥æˆåŠŸä¹‹åå°±ä¼šè¿”å›ackã€‚ä½†å¦‚æœfolloweråŒæ­¥å®Œæˆä¹‹å‰ï¼Œleaderå‘ç”Ÿæ•…éšœï¼Œå°±ä¼š<strong>ä¸¢å¤±æ•°æ®</strong></p><p>-1ï¼šç”Ÿäº§è€…ç­‰å¾…ackï¼Œåˆ†åŒºä¸­ISRä¸­çš„leaderå’Œfollowerå…¨éƒ¨å†™å…¥åŒæ­¥æˆåŠŸæ‰è¿”å›ackã€‚ä½†å¦‚æœfolloweråŒæ­¥å®Œæˆåï¼Œleaderåœ¨æ²¡æœ‰å‘é€ackä¹‹å‰å‘ç”Ÿæ•…éšœï¼Œæ¨é€‰å‡ºæ–°çš„leaderï¼Œç”Ÿäº§è€…æ²¡æœ‰æ”¶åˆ°ackå°±ä¼šå†æ¬¡å‘é€æ¶ˆæ¯ç»™åˆšæ¨é€‰å‡ºæ¥çš„leaderï¼Œå› ä¸ºæ–°leaderå·²ç»åŒæ­¥æˆåŠŸï¼Œæ‰€ä»¥ä¼šå‡ºç°<strong>æ•°æ®é‡å¤</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200917113714.png" alt="-1"></p><p>â€‹    æç«¯æƒ…å†µä¸‹ï¼š-1ä¹Ÿæ˜¯å¯èƒ½å‡ºç°ä¸¢å¤±æ•°æ®ã€‚å½“partitionä¸­çš„followeræ•ˆç‡éƒ½ä¸é«˜ï¼ŒISRä¸­åªæœ‰ä¸€ä¸ªleaderï¼Œå½“è‡ªå·±å†™å®Œä¹‹åä¹Ÿæ˜¯æ»¡è¶³äº†ISRå…¨éƒ¨å®Œæˆçš„æƒ…å†µï¼Œç›´æ¥è¿”å›ackï¼Œå¦‚æœfolloweråŒæ­¥å®Œæˆå‰leaderå‘ç”Ÿæ•…éšœï¼Œå°±ä¼š<strong>æ•°æ®ä¸¢å¤±</strong>ï¼Œä¸1çš„æƒ…å†µç›¸åŒã€‚</p><h4 id="æ•°æ®ä¸€è‡´æ€§ï¼ˆå‰¯æœ¬é—´æ•°æ®ä¸€è‡´ï¼‰"><a href="#æ•°æ®ä¸€è‡´æ€§ï¼ˆå‰¯æœ¬é—´æ•°æ®ä¸€è‡´ï¼‰" class="headerlink" title="æ•°æ®ä¸€è‡´æ€§ï¼ˆå‰¯æœ¬é—´æ•°æ®ä¸€è‡´ï¼‰"></a>æ•°æ®ä¸€è‡´æ€§ï¼ˆå‰¯æœ¬é—´æ•°æ®ä¸€è‡´ï¼‰</h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200917132406.png" alt="7"></p><p>LEOï¼šæ¯ä¸ªå‰¯æœ¬çš„æœ€å¤§åç§»é‡offsetï¼Œæœ€åçš„æ•°æ®</p><p>HWï¼šæ¶ˆè´¹è€…èƒ½è§åˆ°çš„æœ€å¤§åç§»é‡ï¼ŒISRä¸­æœ€å°çš„LEO</p><ol><li><p>followeræ•…éšœ</p><p>ä¼šè¢«ä¸´æ—¶è¸¢å‡ºISRï¼Œç­‰æ¢å¤ä¹‹åï¼Œå…ˆä»ç£ç›˜ä¸­è¯»å–ä¸Šæ¬¡è®°å½•çš„LEOï¼Œå†å°†é«˜äºHWçš„éƒ¨åˆ†æˆªå–æ‰ï¼Œä»HWå¼€å§‹å‘leaderåŒæ­¥ï¼Œç­‰LEO=è¯¥Partitionçš„HWï¼Œè¿½ä¸Šleaderä¹‹åï¼Œå°±é‡æ–°åŠ å…¥ISR</p></li><li><p>leaderæ•…éšœ</p><p>ä¼šåœ¨ISRä¸­é€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„leaderï¼Œä¸ºä¿è¯å¤šä¸ªå‰¯æœ¬æ•°æ®ä¹‹é—´çš„ä¸€è‡´æ€§ï¼Œå…¶ä»–çš„followerä¼šå…ˆå°†å„ä¸ªlogæ–‡ä»¶ä¸­<strong>é«˜äºHWçš„éƒ¨åˆ†æˆªæ‰</strong>ï¼Œå†ä»æ–°çš„leaderä¸­åŒæ­¥æ•°æ®</p></li></ol><h4 id="Exactly-Onceï¼ˆç²¾å‡†ä¸€æ¬¡ï¼‰"><a href="#Exactly-Onceï¼ˆç²¾å‡†ä¸€æ¬¡ï¼‰" class="headerlink" title="Exactly Onceï¼ˆç²¾å‡†ä¸€æ¬¡ï¼‰"></a>Exactly Onceï¼ˆç²¾å‡†ä¸€æ¬¡ï¼‰</h4><p>å°†æœåŠ¡å™¨çš„ ACK çº§åˆ«è®¾ç½®ä¸º-1ï¼Œå¯ä»¥ä¿è¯ Producer åˆ° Server ä¹‹é—´ä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œå³ **At Least Once **è¯­ä¹‰ï¼ˆæœ€å°‘å‘é€ä¸€æ¬¡è¯·æ±‚ï¼‰ã€‚ç›¸å¯¹çš„ï¼Œå°†æœåŠ¡å™¨ ACK çº§åˆ«è®¾ç½®ä¸º 0ï¼Œå¯ä»¥ä¿è¯ç”Ÿäº§è€…æ¯æ¡æ¶ˆæ¯åªä¼šè¢« å‘é€ä¸€æ¬¡ï¼Œå³ <strong>At Most Once</strong> è¯­ä¹‰ï¼ˆæœ€å¤šå‘é€ä¸€æ¬¡è¯·æ±‚ï¼‰ã€‚</p><p>å¯¹äºä¸€äº›éå¸¸é‡è¦çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´ äº¤æ˜“æ•°æ®ï¼Œä¸‹æ¸¸æ•°æ®æ¶ˆè´¹è€…è¦æ±‚æ•°æ®æ—¢<strong>ä¸é‡å¤ä¹Ÿä¸ä¸¢å¤±</strong>ï¼Œå³ Exactly Once è¯­ä¹‰ï¼ˆç²¾å‡†ä¸€æ¬¡ï¼‰ã€‚</p><p><code>At Least Once + å¹‚ç­‰æ€§ = Exactly Once</code></p><p>æ‰€è°“çš„    </p><p><strong>å·¥ä½œåŸç†ï¼š</strong></p><p>è¦å¯ç”¨å¹‚ç­‰æ€§ï¼Œåªéœ€è¦å°† Producer çš„å‚æ•°ä¸­ enable.idompotence è®¾ç½®ä¸º true å³å¯ã€‚</p><p>å¼€å¯å¹‚ç­‰æ€§çš„ Producer åœ¨ åˆå§‹åŒ–çš„æ—¶å€™ä¼šè¢«åˆ†é…ä¸€ä¸ª PIDï¼ˆç”Ÿäº§è€…IDï¼‰ï¼Œå‘å¾€åŒä¸€ Partition çš„æ¶ˆæ¯ä¼šé™„å¸¦ Sequence Numberï¼ˆåºåˆ—å·ï¼‰ã€‚è€Œ Broker ç«¯ä¼šå¯¹&lt;PID,Partition,SeqNumber&gt;æ¶ˆæ¯çš„æ ‡è¯†åšç¼“å­˜ï¼Œå½“å…·æœ‰ç›¸åŒä¸»é”®çš„æ¶ˆæ¯æäº¤æ—¶ï¼ŒBroker åª ä¼šæŒä¹…åŒ–ä¸€æ¡ã€‚</p><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>ackï¼šå¯é æ€§{0ï¼ˆåªå‘ä¸€æ¬¡ï¼Œä¸ç®¡ç¡®è®¤ï¼‰ï¼Œ1ï¼ˆå‘ä¸€æ¬¡ï¼Œç­‰å†™çš„ç¡®è®¤ï¼‰ï¼Œ-1ï¼ˆå‘ä¸€æ¬¡æˆ–å¤šæ¬¡ï¼Œç­‰å†™ç­‰åŒæ­¥çš„çš„ç¡®è®¤ï¼‰}</p><p>isrï¼šHWï¼ˆé«˜æ°´ä½ï¼Œisrä¸­æœ€å°çš„LEOï¼Œæ¶ˆè´¹è€…å¯è§çš„æœ€å¤§æ•°æ®ï¼Œä¿è¯ä¸€è‡´æ€§ï¼ˆæ¶ˆè´¹ã€å­˜å‚¨ï¼‰ï¼‰ã€LEOï¼ˆæ¯ä¸ªå‰¯æœ¬çš„æœ€å¤§åç§»é‡ï¼‰</p><h3 id="æ¶ˆè´¹è€…"><a href="#æ¶ˆè´¹è€…" class="headerlink" title="æ¶ˆè´¹è€…"></a>æ¶ˆè´¹è€…</h3><h4 id="æ¶ˆè´¹æ–¹å¼"><a href="#æ¶ˆè´¹æ–¹å¼" class="headerlink" title="æ¶ˆè´¹æ–¹å¼"></a>æ¶ˆè´¹æ–¹å¼</h4><ol><li><p>consumer é‡‡ç”¨ pullï¼ˆæ‹‰ï¼‰æ¨¡å¼ä» broker ä¸­è¯»å–æ•°æ®ã€‚</p><ul><li>ç¼ºç‚¹ï¼šå¦‚æœ kafka æ²¡æœ‰æ•°æ®ï¼Œæ¶ˆè´¹è€…å¯èƒ½ä¼šé™·å…¥å¾ªç¯ä¸­ï¼Œä¸€ç›´è¿”å›ç©ºæ•°æ®ã€‚</li><li>è§£å†³ï¼šæ¶ˆè´¹æ—¶ä¼ å…¥æ—¶é—´å‚æ•°ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®å¯ä»¥æ¶ˆè´¹ï¼Œå°±ç­‰å¾…ä¸€æ®µæ—¶é—´å†è¿”å›</li></ul></li><li><p>pushï¼ˆæ¨ï¼‰æ¨¡å¼å¾ˆéš¾é€‚åº”æ¶ˆè´¹é€Ÿç‡ä¸åŒçš„æ¶ˆè´¹è€…ï¼Œå› ä¸ºæ¶ˆæ¯å‘é€é€Ÿç‡æ˜¯ç”± broker å†³å®šçš„ã€‚</p></li></ol><h4 id="åˆ†åŒºåˆ†é…ç­–ç•¥"><a href="#åˆ†åŒºåˆ†é…ç­–ç•¥" class="headerlink" title="åˆ†åŒºåˆ†é…ç­–ç•¥"></a>åˆ†åŒºåˆ†é…ç­–ç•¥</h4><ol><li><p><strong>RoundRobin</strong>ï¼ˆè½®è¯¢ï¼‰æŒ‰ç…§ç»„æ¥åˆ†</p><p>å°†æ‰€æœ‰åˆ†åŒºçœ‹ä½œä¸€ä¸ªæ•´ä½“è½®æµåˆ†é…ç»™æ¶ˆè´¹è€…</p><p>é—®é¢˜ï¼šå¦‚æœæ¶ˆè´¹è€…Aè®¢é˜…T1ï¼ŒBè®¢é˜…T2ï¼Œè½®è¯¢ä¼šæŠŠT1,T2çœ‹æˆä¸€ä¸ªæ•´ä½“ï¼Œç„¶ååˆ†é…ï¼Œæœ‰å¯èƒ½å°†T1ç»™äº†Bï¼ŒT2ç»™äº†1</p><p>ç»“è®ºï¼šè½®è¯¢åªèƒ½ä½¿ç”¨åœ¨æ¶ˆè´¹è€…è®¢é˜…ç›¸åŒä¸»é¢˜</p><p>ä¼˜ç‚¹ï¼šåˆ†é…å‡åŒ€</p><p>ç¼ºç‚¹ï¼šå½“æ¶ˆè´¹è€…ç»„è®¢é˜…çš„ä¸»é¢˜ä¸ä¸€æ ·æ—¶ï¼Œä¼šé”™åˆ†é…</p></li><li><p><strong>Range</strong>ï¼ŒæŒ‰ç…§ä¸»é¢˜æ¥åˆ†(å…ˆçœ‹è®¢é˜…åçœ‹ç»„)</p><p>æ¯”å¦‚ABæ¶ˆè´¹è€…éƒ½è®¢é˜…äº†T1(012)T2(012)ï¼ŒT1ä¸»é¢˜è¢«æ‹†æˆ01ï¼Œ2åˆ†åˆ«ç»™ABï¼ŒT2ä¹Ÿæ˜¯å¦‚æ­¤</p><p>ä¼˜ç‚¹ï¼šä¸ä¼šé”™è¯¯åˆ†é…</p><p>ç¼ºç‚¹ï¼šåˆ†é…ä¸å‡åŒ€</p></li></ol><p>æ€»ç»“ï¼šå½“æ¶ˆè´¹è€…ç»„ä¸­æ¯ä¸ªæ¶ˆè´¹è€…éƒ½è®¢é˜…ç›¸åŒçš„topicæ—¶ï¼Œæ¨èä½¿ç”¨è½®è¯¢ï¼Œè€Œå¦‚æœä¸€ä¸ªæ¶ˆè´¹è€…ç»„ä¸­çš„æ¶ˆè´¹è€…è®¢é˜…ä¸åŒçš„topicï¼Œé‚£ä¹ˆä½¿ç”¨range</p><p><strong>åˆ†é…ç­–ç•¥è¢«è°ƒç”¨çš„æ—¶æœº</strong>ï¼šæ¶ˆè´¹è€…ç»„ä¸­æˆå‘˜å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°åˆ†é…</p><h4 id="offset-çš„ç»´æŠ¤"><a href="#offset-çš„ç»´æŠ¤" class="headerlink" title="offset çš„ç»´æŠ¤"></a>offset çš„ç»´æŠ¤</h4><p>ç”±äº consumer åœ¨æ¶ˆè´¹è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°æ–­ç”µå®•æœºç­‰æ•…éšœï¼Œconsumer æ¢å¤åï¼Œéœ€è¦ä»æ•… éšœå‰çš„ä½ç½®çš„ç»§ç»­æ¶ˆè´¹ï¼Œæ‰€ä»¥ consumer éœ€è¦å®æ—¶è®°å½•è‡ªå·±æ¶ˆè´¹åˆ°äº†å“ªä¸ª offsetï¼Œä»¥ä¾¿æ•…éšœæ¢å¤åç»§ç»­æ¶ˆè´¹ã€‚</p><p>æ¶ˆè´¹è€…æ˜¯æŒ‰ç»„æ¶ˆè´¹çš„ï¼Œæ¯”å¦‚æ¶ˆè´¹è€…ç»„æœ‰æ¶ˆè´¹è€…Aï¼Œæ¶ˆæ¯ç”±3ä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåç§»é‡éƒ½æ˜¯10ï¼Œå½“BåŠ å…¥æ¶ˆè´¹è€…ç»„ï¼Œé‡æ–°åˆ†é…æ—¶ï¼ŒBè·å¾—ä¸€ä¸ªåˆ†åŒºï¼Œ<strong>ç»§ç»­åœ¨10ä¹‹åæ¶ˆè´¹</strong>ã€‚</p><p>offset=æ¶ˆè´¹è€…ç»„+ä¸»é¢˜+åˆ†åŒº</p><h3 id="Kafka-é«˜æ•ˆè¯»å†™æ•°æ®"><a href="#Kafka-é«˜æ•ˆè¯»å†™æ•°æ®" class="headerlink" title="Kafka é«˜æ•ˆè¯»å†™æ•°æ®"></a>Kafka é«˜æ•ˆè¯»å†™æ•°æ®</h3><ol><li>é¡ºåºå†™ç£ç›˜</li><li>é›¶å¤åˆ¶æŠ€æœ¯ï¼šç›´æ¥ä¸æ“ä½œç³»ç»Ÿäº¤äº’ï¼Œè·³è¿‡ç”¨æˆ·ç©ºé—´</li><li>åˆ†å¸ƒå¼ï¼ˆåˆ†åŒºï¼‰ï¼šå¹¶å‘è¯»å†™</li></ol><h4 id="Zookeeper-åœ¨-Kafka-ä¸­çš„ä½œç”¨"><a href="#Zookeeper-åœ¨-Kafka-ä¸­çš„ä½œç”¨" class="headerlink" title="Zookeeper åœ¨ Kafka ä¸­çš„ä½œç”¨"></a>Zookeeper åœ¨ Kafka ä¸­çš„ä½œç”¨</h4><p>Kafka é›†ç¾¤ä¸­æœ‰ä¸€ä¸ª broker ä¼šè¢«é€‰ä¸¾ä¸º Controllerï¼Œè´Ÿè´£ç®¡ç†<strong>é›†ç¾¤ broker çš„ä¸Šä¸‹çº¿</strong>ï¼Œ<strong>æ‰€æœ‰ topic çš„åˆ†åŒºå‰¯æœ¬åˆ†é…</strong>å’Œ <strong>leader é€‰ä¸¾ç­‰å·¥ä½œ</strong>ã€‚</p><p>Controller çš„ç®¡ç†å·¥ä½œéƒ½æ˜¯ä¾èµ–äº Zookeeper çš„ã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200917162636.png" alt="8"></p><h4 id="Kafka-äº‹åŠ¡"><a href="#Kafka-äº‹åŠ¡" class="headerlink" title="Kafka äº‹åŠ¡"></a>Kafka äº‹åŠ¡</h4><p>äº‹åŠ¡å¯ä»¥ä¿è¯ Kafka åœ¨ Exactly Once è¯­ä¹‰çš„åŸº ç¡€ä¸Šï¼Œç”Ÿäº§å’Œæ¶ˆè´¹å¯ä»¥è·¨åˆ†åŒºå’Œä¼šè¯çš„ç²¾å‡†ä¸€æ¬¡ï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚</p><h3 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h3><ol><li><p>ä»€ä¹ˆæ˜¯ISRã€OSRã€AR</p><p>å‰¯æœ¬åŒæ­¥é˜Ÿåˆ—ã€åŒæ­¥é€Ÿåº¦æ…¢ä¼šè¢«è¸¢å‡ºåˆ°OSRåˆ—è¡¨ã€æ‰€æœ‰å‰¯æœ¬</p></li><li><p>HWã€LEOä»£è¡¨ä»€ä¹ˆ</p><p>é«˜æ°´ä½ï¼Œæ¶ˆè´¹è€…å¯è§‚å¯Ÿæœ€å¤§offsetã€åˆ†åŒºä¸­æ¯ä¸ªå‰¯æœ¬æœ€å¤§çš„offset</p></li><li><p>æ€ä¹ˆä½“ç°æ¶ˆæ¯é¡ºåºæ€§</p><p>åŒºå†…æœ‰åº</p></li><li><p>æ‹¦æˆªå™¨ã€åºåˆ—åŒ–å™¨ã€åˆ†åŒºå™¨</p></li><li><p>ç”Ÿäº§è€…å®¢æˆ·ç«¯æ•´ä½“ç»“æ„æ˜¯ä»€ä¹ˆæ ·å­ï¼Œç”±å‡ ä¸ªçº¿ç¨‹æ¥å¤„ç†ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆ</p><p>2ä¸ªçº¿ç¨‹ï¼Œmainçº¿ç¨‹ï¼ˆå‘æ•°æ®ã€æ‹¦æˆªå™¨ã€åºåˆ—åŒ–å™¨ã€åˆ†åŒºå™¨ï¼‰ï¼Œ Sender çº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹å…±äº«å˜é‡â€”â€”RecordAccumulatorã€‚</p><p>main çº¿ç¨‹å°†æ¶ˆæ¯å‘é€ç»™ RecordAccumulatorï¼ŒSender çº¿ç¨‹ä¸æ–­ä» RecordAccumulator ä¸­æ‹‰å– æ¶ˆæ¯å‘é€åˆ° Kafka brokerã€‚</p></li><li><p>æ¶ˆè´¹ç»„ä¸­æ¶ˆè´¹è€…ä¸ªæ•°ä¸èƒ½è¶…è¿‡topicçš„åˆ†åŒºï¼Œå› ä¸ºä¼šæœ‰æ¶ˆè´¹è€…æ¶ˆè´¹ä¸åˆ°æ•°æ®ï¼Œå¯¼è‡´èµ„æºæµªè´¹</p></li><li><p>æ¶ˆè´¹è€…æäº¤æ¶ˆè´¹ä½ç§»æ—¶æäº¤çš„æ˜¯å½“å‰æ¶ˆè´¹åˆ°çš„æœ€æ–°æ¶ˆæ¯çš„ offset è¿˜æ˜¯ offset+1ï¼Ÿ</p><p>+1</p></li><li><p>æœ‰å“ªäº›æƒ…å½¢ä¼šé€ æˆé‡å¤æ¶ˆè´¹ï¼Ÿ</p><p>å…ˆæ¶ˆè´¹å†æäº¤</p></li><li><p>é‚£äº›æƒ…æ™¯ä¼šé€ æˆæ¶ˆæ¯æ¼æ¶ˆè´¹ï¼Ÿ</p><p>å…ˆæäº¤åæ¶ˆè´¹</p></li><li><p>topic çš„åˆ†åŒºæ•°å¯ä¸å¯ä»¥å¢åŠ /å‡å°‘ï¼Ÿå¦‚æœå¯ä»¥æ€ä¹ˆå¢åŠ ï¼Ÿå¦‚æœä¸å¯ä»¥ï¼Œé‚£åˆæ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</p><p>å¢åŠ å¯ä»¥ï¼Œå‡å°‘ä¸è¡Œï¼šæ•°æ®æ— æ³•å¤„ç†</p></li><li><p>Kafka æœ‰å†…éƒ¨çš„ topic å—ï¼Ÿå¦‚æœæœ‰æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆæ‰€ç”¨ï¼Ÿ</p><p>æœ‰ï¼Œç»™æ™®é€šçš„æ¶ˆè´¹è€…å­˜offsetç”¨</p></li><li><p>Kafka åˆ†åŒºåˆ†é…çš„æ¦‚å¿µï¼Ÿ</p><p>rangeï¼ˆæŒ‰ä¸»é¢˜åˆ†é…ï¼Œå…ˆçœ‹è®¢é˜…åçœ‹ç»„ï¼Œä¸ä¼šåˆ†é…é”™è¯¯ï¼Œä½†åˆ†é…ä¸å‡åŒ€ï¼‰ï¼Œroundrobin:(æŒ‰ç»„åˆ†é…ï¼Œæ··åˆä¸€èµ·ï¼Œåˆ†é…å‡åŒ€ä½†æ²¡æœ‰è®¢é˜…çš„å¯èƒ½ä¹Ÿä¼šå¾—åˆ°æ¶ˆæ¯)</p></li><li><p>æ—¥å¿—ç›®å½•ç»“æ„ï¼Ÿ</p><p>.log ç”¨äºå­˜æ”¾è¯¦ç»†æ•°æ®</p><p>.index ç”¨äºå­˜æ”¾ç´¢å¼• </p><p>æ¯ä¸ªPartitionæœ‰ä¸€ä¸ªlogå­˜æ”¾æ•°æ®ï¼Œå½“logè¿‡å¤§1Gï¼Œå°±ä¼šåˆ†ç‰‡ç´¢å¼•</p></li><li><p>æŒ‡å®šä¸€ä¸ªoffsetï¼Œå¦‚ä½•æŸ¥æ‰¾å¯¹åº”çš„æ¶ˆæ¯</p><p>å…ˆé€šè¿‡äºŒåˆ†æŸ¥æ‰¾æ³•å®šä½åˆ°indexæ–‡ä»¶ï¼Œæ ¹æ®offsetå¯¹åº”çš„å€¼ï¼Œå€¼å°±æ˜¯Logé‡Œæ•°æ®çš„è¯¦ç»†ä½ç½®</p></li><li><p>Kafka Controllerçš„ä½œç”¨</p><p>é€šè¿‡zkåœ¨Kafkaé›†ç¾¤ä¸­é€‰äº†ä¸€ä¸ªbrokerå½“è€å¤§ï¼Œè´Ÿè´£ç®¡ç†<strong>é›†ç¾¤ broker çš„ä¸Šä¸‹çº¿</strong>ï¼Œ<strong>æ‰€æœ‰ topic çš„åˆ†åŒºå‰¯æœ¬åˆ†é…</strong>å’Œ <strong>leader é€‰ä¸¾ç­‰å·¥ä½œ</strong>ã€‚</p></li><li><p>å“ªäº›åœ°æ–¹éœ€è¦é€‰ä¸¾ï¼Ÿ</p><p>controllerï¼ˆæŠ¢èµ„æºï¼‰ã€leaderï¼ˆISRï¼Œçœ‹åŒæ­¥æ—¶é—´ï¼Œçœ‹åŒæ­¥æ¡æ•°ï¼‰</p></li><li><p>å¤±æ•ˆå‰¯æœ¬æ˜¯æŒ‡ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”å¯¹æªæ–½ï¼Ÿ</p><p>å¤±æ•ˆçš„leaderã€followerï¼Œleaderå¤±æ•ˆ(åœ¨isrä¸­é‡æ–°é€‰ä¸¾å‡ºæ–°leaderï¼Œæ–°leaderå‘é€šçŸ¥ ç»™æ‰€æœ‰followerï¼Œè®©å…¶æ•°æ®æˆªå–åˆ°HWé«˜æ°´ä½ï¼Œå†åŒæ­¥æ–°leader)ï¼Œfollowerå¤±æ•ˆï¼ˆå…ˆè¢«è¸¢å‡ºisrï¼Œæ¢å¤ååŒæ­¥ä¹‹å‰ä¿å­˜çš„hwï¼Œå†æˆªå–åˆ°ç°åœ¨hw,å†åŒæ­¥leaderï¼Œå†å›åˆ°isrï¼‰</p></li><li><p>å“ªäº›è®¾è®¡æœ‰å¦‚æ­¤é«˜çš„æ€§èƒ½ï¼Ÿ</p><p>åˆ†å¸ƒå¼ã€åˆ†åŒºã€é¡ºåºå†™ç£ç›˜ã€é›¶æ‹·è´</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ¶ˆæ¯ä¸­é—´ä»¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kafka </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Zookeeper</title>
      <link href="/2020/09/16/util/zookeeper/"/>
      <url>/2020/09/16/util/zookeeper/</url>
      
        <content type="html"><![CDATA[<h1 id="Zookeeper"><a href="#Zookeeper" class="headerlink" title="Zookeeper"></a>Zookeeper</h1><h2 id="Zookeeper-å…¥é—¨"><a href="#Zookeeper-å…¥é—¨" class="headerlink" title="Zookeeper å…¥é—¨"></a>Zookeeper å…¥é—¨</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>Zookeeper æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼çš„ï¼Œä¸ºåˆ†å¸ƒå¼åº”ç”¨æä¾›åè°ƒæœåŠ¡çš„ Apache é¡¹ç›®ã€‚</p><p>Zookeeper =æ–‡ä»¶ç³»ç»Ÿ+é€šçŸ¥æœºåˆ¶</p><p><strong>å·¥ä½œæœºåˆ¶</strong>ï¼šZookeeperä»è®¾è®¡æ¨¡å¼è§’åº¦æ¥ç†è§£ï¼šæ˜¯ä¸€ä¸ªåŸºäºè§‚å¯Ÿè€…æ¨¡å¼è®¾è®¡çš„åˆ†å¸ƒå¼æœåŠ¡ç®¡ç†æ¡†æ¶ï¼Œå®ƒè´Ÿ è´£å­˜å‚¨å’Œç®¡ç†å¤§å®¶éƒ½å…³å¿ƒçš„æ•°æ®ï¼Œç„¶åæ¥å—è§‚å¯Ÿè€…çš„æ³¨å†Œï¼Œä¸€æ—¦è¿™äº›æ•°æ®çš„çŠ¶æ€å‘ç”Ÿå˜åŒ– ï¼Œ Zookeeperå°±å°†è´Ÿè´£é€šçŸ¥å·²ç»åœ¨Zookeeperä¸Šæ³¨å†Œçš„é‚£äº›è§‚å¯Ÿè€…åšå‡ºç›¸åº”çš„ååº”ã€‚</p><h3 id="Zookeeperç‰¹ç‚¹"><a href="#Zookeeperç‰¹ç‚¹" class="headerlink" title="Zookeeperç‰¹ç‚¹"></a>Zookeeperç‰¹ç‚¹</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/YAN%LG~RK~8CY~X31~7OG%7BI.png" alt="1"></p><p>1ï¼‰Zookeeperï¼šä¸€ä¸ªé¢†å¯¼è€…ï¼ˆLeaderï¼‰ï¼Œå¤šä¸ªè·Ÿéšè€…ï¼ˆFollowerï¼‰ç»„æˆçš„é›†ç¾¤ã€‚ </p><p>2ï¼‰é›†ç¾¤ä¸­åªè¦æœ‰åŠæ•°ä»¥ä¸ŠèŠ‚ç‚¹å­˜æ´»ï¼ŒZookeeperé›†ç¾¤å°±èƒ½æ­£å¸¸æœåŠ¡ã€‚ </p><p>3ï¼‰å…¨å±€æ•°æ®ä¸€è‡´ï¼šæ¯ä¸ªServerä¿å­˜ä¸€ä»½ç›¸åŒçš„æ•°æ®å‰¯æœ¬ï¼ŒClientæ— è®ºè¿æ¥åˆ°å“ªä¸ªServerï¼Œæ•°æ®éƒ½æ˜¯ä¸€è‡´çš„ã€‚ </p><p>4ï¼‰æ›´æ–°è¯·æ±‚é¡ºåºè¿›è¡Œï¼Œæ¥è‡ªåŒä¸€ä¸ªClientçš„æ›´æ–°è¯·æ±‚æŒ‰å…¶å‘é€é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚ </p><p>5ï¼‰æ•°æ®æ›´æ–°åŸå­æ€§ï¼Œä¸€æ¬¡æ•°æ®æ›´æ–°è¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥ã€‚ </p><p>6ï¼‰å®æ—¶æ€§ï¼Œåœ¨ä¸€å®šæ—¶é—´èŒƒå›´å†…ï¼ŒClientèƒ½è¯»åˆ°æœ€æ–°æ•°æ®ã€‚</p><h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/I2~%7B1T[Q2@VDTA8~WRU[QC1.png" alt="2"></p><p>ZooKeeperæ•°æ®æ¨¡å‹çš„ç»“æ„ä¸Unixæ–‡ä»¶ç³»ç»Ÿå¾ˆç±»ä¼¼ï¼Œæ•´ä½“ä¸Šå¯ä»¥çœ‹ä½œæ˜¯ä¸€æ£µæ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç§°åšä¸€ ä¸ªZNodeã€‚æ¯ä¸€ä¸ªZNodeé»˜è®¤èƒ½å¤Ÿå­˜å‚¨<strong>1M B</strong>çš„æ•°æ®ï¼Œæ¯ä¸ªZNodeéƒ½å¯ä»¥é€šè¿‡å…¶<strong>è·¯å¾„å”¯ä¸€æ ‡è¯†</strong>ã€‚</p><h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>æä¾›çš„æœåŠ¡åŒ…æ‹¬ï¼šç»Ÿä¸€å‘½åæœåŠ¡ã€ç»Ÿä¸€é…ç½®ç®¡ç†ã€ç»Ÿä¸€é›†ç¾¤ç®¡ç†ã€æœåŠ¡å™¨èŠ‚ç‚¹åŠ¨æ€ä¸Šä¸‹ çº¿ã€è½¯è´Ÿè½½å‡è¡¡ç­‰ã€‚</p><h4 id="ç»Ÿä¸€å‘½åæœåŠ¡ï¼š"><a href="#ç»Ÿä¸€å‘½åæœåŠ¡ï¼š" class="headerlink" title="ç»Ÿä¸€å‘½åæœåŠ¡ï¼š"></a>ç»Ÿä¸€å‘½åæœåŠ¡ï¼š</h4><p>åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œç»å¸¸éœ€è¦å¯¹åº”ç”¨/æœåŠ¡è¿›è¡Œç»Ÿä¸€å‘½åï¼Œä¾¿äºè¯†åˆ«ã€‚ </p><p>ä¾‹å¦‚ï¼šIPä¸å®¹æ˜“è®°ä½ï¼Œè€ŒåŸŸåå®¹æ˜“è®°ä½ã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/2020091614051.png" alt="3"></p><h4 id="ç»Ÿä¸€é…ç½®ç®¡ç†"><a href="#ç»Ÿä¸€é…ç½®ç®¡ç†" class="headerlink" title="ç»Ÿä¸€é…ç½®ç®¡ç†"></a>ç»Ÿä¸€é…ç½®ç®¡ç†</h4><p>åˆ†å¸ƒå¼åŒ–å¢ƒä¸‹ï¼Œé…ç½®æ–‡ä»¶åŒæ­¥éå¸¸å¸¸è§ï¼Œè¦æ±‚ä¸€ä¸ªé›†ç¾¤ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„é…ç½®ä¿¡æ¯ä¸€è‡´ï¼Œå¯¹é…ç½®æ–‡ä»¶ä¿®æ”¹åä¹Ÿèƒ½å¿«é€ŸåŒæ­¥åˆ°å„ä¸ªèŠ‚ç‚¹ã€‚</p><ol><li>å¯å°†é…ç½®ä¿¡æ¯å†™å…¥ZooKeeperä¸Šçš„ä¸€ä¸ªZnodeã€‚</li><li>å„ä¸ªå®¢æˆ·ç«¯æœåŠ¡å™¨ç›‘å¬è¿™ä¸ªZnodeã€‚</li><li>ä¸€ æ—¦Znodeä¸­çš„æ•°æ®è¢«ä¿®æ”¹ï¼ŒZooKeeperå°†é€šçŸ¥ å„ä¸ªå®¢æˆ·ç«¯æœåŠ¡å™¨ã€‚</li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200916140745.png" alt="4"></p><h4 id="ç»Ÿä¸€é›†ç¾¤ç®¡ç†"><a href="#ç»Ÿä¸€é›†ç¾¤ç®¡ç†" class="headerlink" title="ç»Ÿä¸€é›†ç¾¤ç®¡ç†"></a>ç»Ÿä¸€é›†ç¾¤ç®¡ç†</h4><p>åˆ†å¸ƒå¼ç¯å¢ƒä¸­ï¼Œå®æ—¶æŒæ¡æ¯ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€æ—¶å¿…è¦çš„ï¼Œå¯æ ¹æ®èŠ‚ç‚¹è¯•è¯•çŠ¶æ€åšä¸€äº›è°ƒæ•´ã€‚</p><p>ZooKeeperå¯ä»¥å®æ—¶ç›‘æ§èŠ‚ç‚¹çš„çŠ¶æ€å˜åŒ–ï¼Œå°†èŠ‚ç‚¹ä¿¡æ¯å†™å…¥åˆ°ZooKeeperä¸Šçš„ä¸€ä¸ªZNodeï¼Œç›‘æ§è¿™ä¸ªZNodeå¯è·å¾—å®ƒçš„å®æ—¶çŠ¶æ€å˜åŒ–ã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200916172415.png" alt="5"></p><h4 id="æœåŠ¡å™¨åŠ¨æ€ä¸Šä¸‹çº¿"><a href="#æœåŠ¡å™¨åŠ¨æ€ä¸Šä¸‹çº¿" class="headerlink" title="æœåŠ¡å™¨åŠ¨æ€ä¸Šä¸‹çº¿"></a>æœåŠ¡å™¨åŠ¨æ€ä¸Šä¸‹çº¿</h4><p>å®¢æˆ·ç«¯èƒ½å®æ—¶è§‚å¯Ÿåˆ°æœåŠ¡å™¨çš„ä¸Šä¸‹çº¿å˜åŒ–</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200916172623.png" alt="6"></p><h4 id="è½¯è´Ÿè½½å‡è¡¡"><a href="#è½¯è´Ÿè½½å‡è¡¡" class="headerlink" title="è½¯è´Ÿè½½å‡è¡¡"></a>è½¯è´Ÿè½½å‡è¡¡</h4><p>åœ¨ZooKeeperä¸­è®°å½•æ¯å°æœåŠ¡å™¨çš„è®¿é—®æ•°ï¼Œè®©è®¿é—®æ•°æœ€å°‘çš„æœåŠ¡å™¨å¤„ç†æœ€æ–°è¯·æ±‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20200916172801.png" alt="7"></p><h3 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h3><p>1ï¼å®˜ç½‘é¦–é¡µï¼š <a href="https://zookeeper.apache.org/">https://zookeeper.apache.org/</a></p><h2 id="Zookeeper-å®‰è£…"><a href="#Zookeeper-å®‰è£…" class="headerlink" title="Zookeeper å®‰è£…"></a>Zookeeper å®‰è£…</h2><h3 id="æœ¬åœ°æ¨¡å¼å®‰è£…éƒ¨ç½²"><a href="#æœ¬åœ°æ¨¡å¼å®‰è£…éƒ¨ç½²" class="headerlink" title="æœ¬åœ°æ¨¡å¼å®‰è£…éƒ¨ç½²"></a>æœ¬åœ°æ¨¡å¼å®‰è£…éƒ¨ç½²</h3><h3 id="é…ç½®å‚æ•°è§£è¯»"><a href="#é…ç½®å‚æ•°è§£è¯»" class="headerlink" title="é…ç½®å‚æ•°è§£è¯»"></a>é…ç½®å‚æ•°è§£è¯»</h3><p>â€‹    </p><h2 id="Zookeeper-å†…éƒ¨åŸç†"><a href="#Zookeeper-å†…éƒ¨åŸç†" class="headerlink" title="Zookeeper å†…éƒ¨åŸç†"></a>Zookeeper å†…éƒ¨åŸç†</h2><h3 id="é€‰ä¸¾æœºåˆ¶"><a href="#é€‰ä¸¾æœºåˆ¶" class="headerlink" title="é€‰ä¸¾æœºåˆ¶"></a>é€‰ä¸¾æœºåˆ¶</h3><ol><li>åŠæ•°æœºåˆ¶ï¼šé›†ç¾¤ä¸­åŠæ•°ä»¥ä¸Šæœºå™¨å­˜æ´»ï¼Œé›†ç¾¤å¯ç”¨ã€‚æ‰€ä»¥Zookeeperé€‚åˆå®‰è£…å¥‡æ•°å°æœåŠ¡å™¨</li><li>ZooKeeperè™½ç„¶åœ¨é…ç½®æ–‡ä»¶ä¸­å¹¶æ²¡æœ‰æŒ‡å®šä¸»ä»ï¼Œä½†æ˜¯åœ¨å·¥ä½œçš„æ˜¯æ—¶å€™ï¼Œä¸»å·²ç»é€šè¿‡å†…éƒ¨çš„é€‰ä¸¾æœºåˆ¶ä¸´æ—¶äº§ç”Ÿäº†ã€‚</li></ol><p>åŸç†ï¼š</p><p>å‡è®¾æœ‰5å°æœåŠ¡å™¨ç»„æˆçš„é›†ç¾¤ï¼Œidä¸º1-5ï¼Œéƒ½æ˜¯æœ€æ–°å¯åŠ¨çš„ã€‚ä¾åºå¯åŠ¨çš„è¯ï¼ŒæœåŠ¡å™¨1å¯åŠ¨ä¼šå‘èµ·é€‰ä¸¾ï¼ŒæŠ•è‡ªå·±1ç¥¨ä½†æ˜¯ä¸è¿‡åŠæ•°ï¼Œé€‰ä¸¾ä¸ä¼šå®Œæˆã€‚</p><p>æœåŠ¡å™¨2å¯åŠ¨å†æ¬¡å‘èµ·é€‰ä¸¾ï¼Œidæ¯”1å¤§ï¼ŒæœåŠ¡å™¨1å°±ä¼šæŠ•2å·ï¼Œ2å·æŠ•è‡ªå·±ï¼Œ2ç¥¨ä¸è¿‡åŠæ•°ï¼Œé€‰ä¸¾æ— æ³•å®Œæˆã€‚</p><p>æœåŠ¡å™¨3å¯åŠ¨å‘èµ·é€‰ä¸¾ï¼Œ12ä¼šæŠ•3ï¼Œ3æŠ•è‡ªå·±ï¼Œ3ç¥¨è¿‡åŠæ•°ï¼ŒæœåŠ¡å™¨3å½“é€‰leaderï¼Œå…¶ä»–æœåŠ¡å™¨å˜ä¸ºslaverã€‚</p><p>æœåŠ¡å™¨4å¯åŠ¨å‘èµ·é€‰ä¸¾ï¼Œå› ä¸ºæœåŠ¡å™¨123å·²ç»ä¸æ˜¯LookingçŠ¶æ€ï¼Œä¸èƒ½æ›´æ”¹æŠ•ç¥¨ä¿¡æ¯ï¼Œ4æŠ•è‡ªå·±ï¼Œ3ï¼š1ï¼Œ4ä¹Ÿä¼šå˜ä¸ºslaver</p><p>5åŒä¸Šã€‚</p><h3 id="èŠ‚ç‚¹ç±»å‹"><a href="#èŠ‚ç‚¹ç±»å‹" class="headerlink" title="èŠ‚ç‚¹ç±»å‹"></a>èŠ‚ç‚¹ç±»å‹</h3><p>æŒä¹…ï¼šå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æ–­å¼€è¿æ¥ï¼Œåˆ›å»ºçš„èŠ‚ç‚¹ä¸åˆ é™¤</p><p>çŸ­æš‚ï¼šèŠ‚ç‚¹åˆ é™¤</p><p>æŒä¹…åŒ–èŠ‚ç‚¹ï¼šå®¢æˆ·ç«¯å’ŒZookeeperæ–­å¼€è¿æ¥åï¼ŒèŠ‚ç‚¹ä¾æ—§å­˜åœ¨</p><p>æŒä¹…åŒ–é¡ºåºç›®å½•èŠ‚ç‚¹ï¼šèŠ‚ç‚¹ä¾ç„¶å­˜åœ¨ï¼Œåªæ˜¯ç»™èŠ‚ç‚¹åç§°è¿›è¡Œé¡ºåºç¼–å·ã€‚è¢«ç”¨äºæ‰€æœ‰çš„äº‹ä»¶è¿›è¡Œæ’åºã€‚</p><p>ä¸´æ—¶ç›®å½•èŠ‚ç‚¹ï¼šå®¢æˆ·ç«¯å’ŒZooKeeperæ–­å¼€è¿æ¥åï¼ŒèŠ‚ç‚¹å°±ä¼šè¢«åˆ é™¤</p><p>ä¸´æ—¶é¡ºåºç›®å½•èŠ‚ç‚¹ï¼šèŠ‚ç‚¹è¢«åˆ é™¤ï¼Œåªæ˜¯ç»™èŠ‚ç‚¹åç§°è¿›è¡Œé¡ºåºç¼–å·ã€‚è¢«ç”¨äºæ‰€æœ‰çš„äº‹ä»¶è¿›è¡Œæ’åºã€‚</p><h3 id="ç›‘å¬å™¨åŸç†"><a href="#ç›‘å¬å™¨åŸç†" class="headerlink" title="ç›‘å¬å™¨åŸç†"></a>ç›‘å¬å™¨åŸç†</h3><ol><li><p>é¦–å…ˆå®¢æˆ·ç«¯æœ‰ä¸ªmainï¼ˆï¼‰çº¿ç¨‹</p></li><li><p>åœ¨mainçº¿ç¨‹åˆ›å»ºä¸€ä¸ªZooKeeperå®¢æˆ·ç«¯ï¼Œè¿™æ—¶å€™å°±ä¼šåˆ›å»ºå‡ºä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªè´Ÿè´£ç½‘ç»œè¿æ¥é€šä¿¡ï¼ˆConnectï¼‰ï¼Œä¸€ä¸ªè´Ÿè´£ç›‘å¬ï¼ˆListenerï¼‰</p></li><li><p>é€šè¿‡connectçº¿ç¨‹å°†æ³¨å†Œçš„ç›‘å¬äº‹ä»¶å‘é€ç»™ZooKeeper</p></li><li><p>ZooKeeperå°±ä¼šåœ¨æ³¨å†Œç›‘å¬åˆ—è¡¨ä¸­æ·»åŠ è¿›ç›‘å¬äº‹ä»¶</p></li><li><p>å½“ç›‘å¬åˆ°æœ‰æ•°æ®å˜åŒ–ï¼ˆèŠ‚ç‚¹æ•°æ®å˜åŒ–ï¼‰æˆ–è·¯å¾„å˜åŒ–ä¹‹åï¼ˆèŠ‚ç‚¹å¢åˆ ï¼‰ï¼Œå°±ä¼šå°†æ¶ˆæ¯å‘é€ç»™listenerçº¿ç¨‹</p></li><li><p>listenerçº¿ç¨‹å†…éƒ¨å°±ä¼šè°ƒç”¨ä¸šåŠ¡æ–¹æ³•ã€‚</p></li></ol><h3 id="å†™æ•°æ®æµç¨‹"><a href="#å†™æ•°æ®æµç¨‹" class="headerlink" title="å†™æ•°æ®æµç¨‹"></a>å†™æ•°æ®æµç¨‹</h3><ol><li>å®¢æˆ·ç«¯å‘ZooKeeperçš„server1å†™æ•°æ®ï¼Œå‘é€ä¸€ä¸ªè¯·æ±‚</li><li>server1ä¸æ˜¯leaderï¼Œå°±ä¼šå°†è¯·æ±‚è½¬å‘ç»™leader</li><li>leaderå°±ä¼šå°†å†™çš„è¯·æ±‚å¹¿æ’­ç»™å…¶ä»–followerï¼Œå½“å†™æˆåŠŸä¹‹åå†é€šçŸ¥leader</li><li>å¦‚æœleaderæ”¶åˆ°å¤§å¤šæ•°çš„followerå†™æ•°æ®æˆåŠŸï¼Œå°±ä¼šå‘Šè¯‰server1å†™å…¥æˆåŠŸ</li><li>server1å°±ä¼šå‘Šè¯‰å®¢æˆ·ç«¯å†™å…¥æˆåŠŸ</li></ol><h2 id="APIåº”ç”¨"><a href="#APIåº”ç”¨" class="headerlink" title="APIåº”ç”¨"></a>APIåº”ç”¨</h2><h3 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h3><h2 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h2><ol><li><p>ZooKeeperçš„éƒ¨ç½²æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿé›†ç¾¤ä¸­çš„è§’è‰²æœ‰å“ªäº›ï¼Ÿé›†ç¾¤æœ€å°‘æœ‰å‡ å°æœºå™¨ï¼Ÿ</p><p>éƒ¨ç½²æ–¹å¼ä¸ºå•æœºæ¨¡å¼ã€é›†ç¾¤æ¨¡å¼</p><p>è§’è‰²ï¼šä¸»ã€ä»</p><p>é›†ç¾¤æœ€å°‘æœ‰3ä¸ªæœºå™¨</p></li><li><p>å¸¸ç”¨å‘½ä»¤</p><p>ls path [watch]ï¼šæŸ¥çœ‹å½“å‰èŠ‚ç‚¹æ•°æ®(æœ‰å“ªäº›å­èŠ‚ç‚¹),watchä»£è¡¨å¢åŠ ç›‘å¬äº‹ä»¶ï¼Œå¢åˆ èŠ‚ç‚¹ç›‘å¬ï¼ˆ1æ¬¡æœ‰æ•ˆï¼‰</p><p>ls2 path [watch]ï¼šæŸ¥çœ‹å½“å‰èŠ‚ç‚¹æ•°æ®å’Œæ›´æ–°æ¬¡æ•°ç­‰æ•°æ®</p><p>create <path></path> <value>ï¼šæ™®é€šåˆ›å»º -s <path></path>å«æœ‰åºåˆ— -e ä¸´æ—¶èŠ‚ç‚¹</value></p><p>get path [watch]ï¼šè·å–èŠ‚ç‚¹çš„å€¼</p><p>setï¼šè®¾ç½®èŠ‚ç‚¹å…·ä½“å€¼</p><p>statï¼šæŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€</p><p>deleteï¼šåˆ é™¤èŠ‚ç‚¹</p><p>rmrï¼šé€’å½’åˆ é™¤èŠ‚ç‚¹</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Zookeeper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ä¾‹æ¨¡å¼çš„8ç§å®ç°æ–¹å¼</title>
      <link href="/2020/09/15/xue-xi/dan-li-mo-shi-de-8-chong-shi-xian-fang-shi/"/>
      <url>/2020/09/15/xue-xi/dan-li-mo-shi-de-8-chong-shi-xian-fang-shi/</url>
      
        <content type="html"><![CDATA[<h1 id="å•ä¾‹æ¨¡å¼çš„8ç§å®ç°æ–¹å¼"><a href="#å•ä¾‹æ¨¡å¼çš„8ç§å®ç°æ–¹å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼çš„8ç§å®ç°æ–¹å¼"></a>å•ä¾‹æ¨¡å¼çš„8ç§å®ç°æ–¹å¼</h1><blockquote><p>é¥¿æ±‰å¼2ç§ï¼ˆé™æ€å¸¸é‡é¥¿æ±‰å¼ã€é™æ€ä»£ç å—é¥¿æ±‰å¼ï¼‰<br>æ‡’æ±‰å¼3ç§ï¼ˆçº¿ç¨‹ä¸å®‰å…¨æ‡’æ±‰å¼ã€çº¿ç¨‹å®‰å…¨æ‡’æ±‰å¼ã€åŒæ­¥ä»£ç å—æ‡’æ±‰å¼ï¼‰<br>è¿˜æœ‰3ç§ï¼ˆåŒé‡æ£€æŸ¥ã€é™æ€å†…éƒ¨ç±»ã€æšä¸¾æ–¹å¼ï¼‰</p></blockquote><h2 id="1-é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰"><a href="#1-é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰" class="headerlink" title="1. é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰"></a>1. é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰</h2><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Singleton singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> Singleton <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> singleton<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ä¼˜ç‚¹ï¼šåœ¨ç±»åŠ è½½æ—¶å°†å…¶å®ä¾‹åŒ–ï¼Œé¿å…äº†å¤šçº¿ç¨‹åŒæ­¥çš„é—®é¢˜</p><p>ç¼ºç‚¹ï¼šå¦‚æœä¸è°ƒç”¨æ–¹æ³•ï¼Œè¯¥å®ä¾‹å°±ä¼šä¸€ç›´å­˜åœ¨ï¼Œå¯¼è‡´èµ„æºæµªè´¹</p><h2 id="2-é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰"><a href="#2-é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰" class="headerlink" title="2.é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰"></a>2.é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰</h2><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> Singleton singleton<span class="token punctuation">;</span>    <span class="token keyword">static</span><span class="token punctuation">{</span>        singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> Singleton <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> singleton<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="3-æ‡’æ±‰å¼ï¼ˆæ‡’åŠ è½½ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼‰"><a href="#3-æ‡’æ±‰å¼ï¼ˆæ‡’åŠ è½½ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼‰" class="headerlink" title="3.æ‡’æ±‰å¼ï¼ˆæ‡’åŠ è½½ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼‰"></a>3.æ‡’æ±‰å¼ï¼ˆæ‡’åŠ è½½ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼‰</h2><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> Singleton singleton<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> Singleton <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>singleton<span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>             singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> singleton<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ä¼˜ç‚¹ï¼šæ‡’åŠ è½½ï¼Œåœ¨è°ƒç”¨æ–¹æ³•æ—¶å†å®ä¾‹åŒ–</p><p>ç¼ºç‚¹ï¼šåªé€‚ç”¨äºå•çº¿ç¨‹ï¼Œå¦‚æœåœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œä¸€ä¸ªçº¿ç¨‹è¿›å…¥äº†if (singleton == null)åˆ¤æ–­è¯­å¥å—ï¼Œè¿˜æœªæ¥å¾—åŠå¾€ä¸‹æ‰§è¡Œï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¹Ÿé€šè¿‡äº†è¿™ä¸ªåˆ¤æ–­è¯­å¥ï¼Œè¿™æ—¶ä¾¿ä¼šäº§ç”Ÿå¤šä¸ªå®ä¾‹ã€‚æ‰€ä»¥åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¸å¯ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚</p><h2 id="4-æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½ï¼‰"><a href="#4-æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½ï¼‰" class="headerlink" title="4.æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½ï¼‰"></a>4.æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½ï¼‰</h2><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> Singleton singleton<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> Singleton <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>singleton<span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>            singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> singleton<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ä¼˜ç‚¹ï¼šçº¿ç¨‹åŒæ­¥</p><p>ç¼ºç‚¹ï¼šæ•ˆç‡å¤ªä½äº†ï¼Œæ¯ä¸ªçº¿ç¨‹åœ¨æƒ³è·å¾—ç±»çš„å®ä¾‹æ—¶å€™ï¼Œæ‰§è¡ŒgetInstance()æ–¹æ³•éƒ½è¦è¿›è¡ŒåŒæ­¥ã€‚è€Œå…¶å®è¿™ä¸ªæ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡å®ä¾‹åŒ–ä»£ç å°±å¤Ÿäº†ï¼Œåé¢çš„æƒ³è·å¾—è¯¥ç±»å®ä¾‹ï¼Œç›´æ¥returnå°±è¡Œäº†ã€‚æ–¹æ³•è¿›è¡ŒåŒæ­¥æ•ˆç‡å¤ªä½è¦æ”¹è¿›ã€‚</p><h2 id="5-æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰"><a href="#5-æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰" class="headerlink" title="5.æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰"></a>5.æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰</h2><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> Singleton singleton<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> Singleton <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>singleton<span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">synchronized</span><span class="token punctuation">(</span>Singleton<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> singleton<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ä¼˜ç‚¹ï¼šæ•ˆç‡æé«˜äº†</p><p>ç¼ºç‚¹ï¼šæ”¾å¼ƒäº†åŒæ­¥æ–¹æ³•æ¥æé«˜æ•ˆç‡ï¼Œé‡‡ç”¨åŒæ­¥ä»£ç å—ï¼Œä½†æ˜¯ä»ç„¶çº¿ç¨‹ä¸å®‰å…¨ï¼Œå’Œç¬¬ä¸‰ç§ä¸€æ ·ï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶åˆ¤æ–­è¿›è¯­å¥ä¸­ï¼Œå°±ä¼šå‡ºç°å¤šä¸ªå®ä¾‹</p><h2 id="6-åŒé‡æ£€æŸ¥é”"><a href="#6-åŒé‡æ£€æŸ¥é”" class="headerlink" title="6.åŒé‡æ£€æŸ¥é”"></a>6.åŒé‡æ£€æŸ¥é”</h2><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">volatile</span> Singleton singleton<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> Singleton <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>singleton<span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">synchronized</span><span class="token punctuation">(</span>Singleton<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>singleton<span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>                    singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> singleton<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ä¼˜ç‚¹ï¼šæˆ‘ä»¬è¿›è¡Œäº†ä¸¤æ¬¡if (singleton == null)æ£€æŸ¥ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨äº†ã€‚è¿™æ ·ï¼Œå®ä¾‹åŒ–ä»£ç åªç”¨æ‰§è¡Œä¸€æ¬¡ï¼Œåé¢å†æ¬¡è®¿é—®æ—¶ï¼Œåˆ¤æ–­if (singleton == null)ï¼Œç›´æ¥returnå®ä¾‹åŒ–å¯¹è±¡ã€‚</p><h2 id="7-é™æ€å†…éƒ¨ç±»"><a href="#7-é™æ€å†…éƒ¨ç±»" class="headerlink" title="7.é™æ€å†…éƒ¨ç±»"></a>7.é™æ€å†…éƒ¨ç±»</h2><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">InnerClass</span><span class="token punctuation">{</span>        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Singleton singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> Singleton <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> InnerClass<span class="token punctuation">.</span>singleton<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ä¼˜ç‚¹ï¼šé‡‡ç”¨ç±»åŠ è½½æœºåˆ¶ä¿è¯åˆå§‹åŒ–æ—¶åªæœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œé™æ€å†…éƒ¨ç±»åªä¼šåœ¨è¢«è°ƒç”¨æ–¹æ³•çš„æ—¶å€™æ‰ä¼šå®ä¾‹åŒ–ï¼›</p><h2 id="8-æšä¸¾"><a href="#8-æšä¸¾" class="headerlink" title="8. æšä¸¾"></a>8. æšä¸¾</h2><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">enum</span> Singleton<span class="token punctuation">{</span>    INSTANCE<span class="token punctuation">;</span>    <span class="token keyword">public</span> Singleton getInstance<span class="token punctuation">{</span>        <span class="token keyword">return</span> INSTANCE<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ä¼˜ç‚¹ï¼šåœ¨jdk1.5ä¸­æ·»åŠ äº†æšä¸¾å®ç°å•ä¾‹æ¨¡å¼ï¼Œä¸ä»…èƒ½è§£å†³å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œä¹Ÿèƒ½é˜²æ­¢ååºåˆ—åŒ–ã€‚</p><h2 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h2><p>ç³»ç»Ÿå†…å­˜ä¸­è¯¥ç±»åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼ŒèŠ‚çœäº†ç³»ç»Ÿèµ„æºï¼Œå¯¹äºä¸€äº›éœ€è¦é¢‘ç¹åˆ›å»ºé”€æ¯çš„å¯¹è±¡ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼å¯ä»¥æé«˜ç³»ç»Ÿæ€§èƒ½ã€‚</p><h2 id="é€‚ç”¨åœºåˆ"><a href="#é€‚ç”¨åœºåˆ" class="headerlink" title="é€‚ç”¨åœºåˆ"></a>é€‚ç”¨åœºåˆ</h2><ul><li>ç½‘ç«™è®¡æ•°å™¨ï¼›</li><li>åº”ç”¨ç¨‹åºæ—¥å¿—åº”ç”¨ï¼›</li><li>æ•°æ®åº“è¿æ¥æ± ï¼›</li><li>è¯»é…ç½®æ–‡ä»¶</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Bootç®€æ˜“ç¬”è®°</title>
      <link href="/2020/09/13/springboot/spring-boot-jian-yi-bi-ji/"/>
      <url>/2020/09/13/springboot/spring-boot-jian-yi-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Bootç®€æ˜“ç¬”è®°"><a href="#Spring-Bootç®€æ˜“ç¬”è®°" class="headerlink" title="Spring Bootç®€æ˜“ç¬”è®°"></a>Spring Bootç®€æ˜“ç¬”è®°</h1><h2 id="1-Spring-Bootæ¦‚è¿°"><a href="#1-Spring-Bootæ¦‚è¿°" class="headerlink" title="1. Spring Bootæ¦‚è¿°"></a>1. Spring Bootæ¦‚è¿°</h2><p><strong>ç›®æ ‡</strong>ï¼šäº†è§£Spring Bootæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨</p><p><strong>å°ç»“</strong>ï¼š</p><p>Spring Bootæ˜¯ä¸€ä¸ªä¾¿æ·æ­å»º åŸºäºspringå·¥ç¨‹çš„è„šæ‰‹æ¶ï¼›ä½œç”¨æ˜¯å¸®åŠ©å¼€å‘äººå‘˜å¿«é€Ÿæ­å»ºå¤§å‹çš„spring é¡¹ç›®ã€‚ç®€åŒ–å·¥ç¨‹çš„é…ç½®ï¼Œä¾èµ–ç®¡ç†ï¼›å®ç°å¼€å‘äººå‘˜æŠŠæ—¶é—´éƒ½é›†ä¸­åœ¨ä¸šåŠ¡å¼€å‘ä¸Šã€‚</p><h2 id="2-Spring-Bootå…¥é—¨"><a href="#2-Spring-Bootå…¥é—¨" class="headerlink" title="2. Spring Bootå…¥é—¨"></a>2. Spring Bootå…¥é—¨</h2><p><strong>ç›®æ ‡</strong>ï¼šèƒ½å¤Ÿä½¿ç”¨Spring Bootæ­å»ºé¡¹ç›®</p><p><strong>åˆ†æ</strong>ï¼š</p><p>éœ€æ±‚ï¼šå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®<a href="http://localhost:8080/hello%E8%BE%93%E5%87%BA%E4%B8%80%E4%B8%B2%E5%AD%97%E7%AC%A6">http://localhost:8080/helloè¾“å‡ºä¸€ä¸²å­—ç¬¦</a></p><p>å®ç°æ­¥éª¤ï¼š</p><ol><li>åˆ›å»ºå·¥ç¨‹ï¼›</li><li>æ·»åŠ ä¾èµ–ï¼ˆå¯åŠ¨å™¨ä¾èµ–ï¼Œspring-boot-starter-webï¼‰ï¼›</li><li>åˆ›å»ºå¯åŠ¨ç±»ï¼›</li><li>åˆ›å»ºå¤„ç†å™¨Controllerï¼›</li><li>æµ‹è¯•</li></ol><p><strong>å°ç»“</strong>ï¼š</p><p>Spring Bootå·¥ç¨‹å¯ä»¥é€šè¿‡æ·»åŠ å¯åŠ¨å™¨ä¾èµ–å’Œåˆ›å»ºå¯åŠ¨å¼•å¯¼ç±»å®ç°å¿«é€Ÿåˆ›å»ºwebå·¥ç¨‹ã€‚</p><blockquote><p>spring-boot-starter-webé»˜è®¤çš„åº”ç”¨æœåŠ¡å™¨ç«¯å£æ˜¯8080</p></blockquote><h2 id="3-Javaä»£ç æ–¹å¼é…ç½®"><a href="#3-Javaä»£ç æ–¹å¼é…ç½®" class="headerlink" title="3. Javaä»£ç æ–¹å¼é…ç½®"></a>3. Javaä»£ç æ–¹å¼é…ç½®</h2><p><strong>ç›®æ ‡</strong>ï¼šå¯ä»¥ä½¿ç”¨@Valueè·å–é…ç½®æ–‡ä»¶é…ç½®é¡¹å¹¶ç»“åˆ@Beanæ³¨å†Œç»„ä»¶åˆ°Spring</p><p><strong>åˆ†æ</strong>ï¼š</p><p>éœ€æ±‚ï¼šä½¿ç”¨Javaä»£ç é…ç½®æ•°æ®åº“è¿æ¥æ± ï¼Œå¹¶å¯ä»¥åœ¨å¤„ç†å™¨ä¸­æ³¨å…¥å¹¶ä½¿ç”¨</p><p>æ­¥éª¤ï¼š</p><ol><li>æ·»åŠ ä¾èµ–ï¼›</li><li>åˆ›å»ºæ•°æ®åº“ï¼›</li><li>åˆ›å»ºæ•°æ®åº“è¿æ¥å‚æ•°çš„é…ç½®æ–‡ä»¶jdbc.propertiesï¼›</li><li>åˆ›å»ºé…ç½®ç±»ï¼›</li><li>æ”¹é€ å¤„ç†å™¨ç±»æ³¨å…¥æ•°æ®æºå¹¶ä½¿ç”¨</li></ol><p><strong>å°ç»“</strong>ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>config<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span>DruidDataSource<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Value<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Bean<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Configuration<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>PropertySource<span class="token punctuation">;</span><span class="token keyword">import</span> javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>DataSource<span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">"classpath:jdbc.properties"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcConfig</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.url}"</span><span class="token punctuation">)</span>    String url<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.driverClassName}"</span><span class="token punctuation">)</span>    String driverClassName<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.username}"</span><span class="token punctuation">)</span>    String username<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.password}"</span><span class="token punctuation">)</span>    String password<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> DataSource <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        DruidDataSource dataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dataSource<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span>driverClassName<span class="token punctuation">)</span><span class="token punctuation">;</span>        dataSource<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>        dataSource<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>        dataSource<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> dataSource<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="4-Spring-Bootå±æ€§æ³¨å…¥æ–¹å¼"><a href="#4-Spring-Bootå±æ€§æ³¨å…¥æ–¹å¼" class="headerlink" title="4. Spring Bootå±æ€§æ³¨å…¥æ–¹å¼"></a>4. Spring Bootå±æ€§æ³¨å…¥æ–¹å¼</h2><p><strong>ç›®æ ‡</strong>ï¼šèƒ½å¤Ÿä½¿ç”¨@ConfigurationPropertieså®ç°Spring Booté…ç½®æ–‡ä»¶é…ç½®é¡¹è¯»å–å’Œåº”ç”¨</p><p><strong>åˆ†æ</strong>ï¼š</p><p>éœ€æ±‚ï¼šå°†é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®é¡¹è¯»å–åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ï¼›</p><p>å®ç°ï¼šå¯ä»¥ä½¿ç”¨Spring Bootæä¾›çš„æ³¨è§£@ConfigurationPropertiesï¼Œè¯¥æ³¨è§£å¯ä»¥å°†Spring Bootçš„é…ç½®æ–‡ä»¶ï¼ˆé»˜è®¤å¿…é¡»ä¸ºapplication.propertiesæˆ–application.ymlï¼‰ä¸­çš„é…ç½®é¡¹è¯»å–åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚</p><p>å®ç°æ­¥éª¤ï¼š</p><ol><li>åˆ›å»ºé…ç½®é¡¹ç±»JdbcPropertiesç±»ï¼Œåœ¨è¯¥ç±»åä¸Šé¢æ·»åŠ @ConfigurationPropertiesï¼›</li><li>å°†jdbc.propertiesä¿®æ”¹åç§°ä¸ºapplication.propertiesï¼›</li><li>å°†JdbcPropertieså¯¹è±¡æ³¨å…¥åˆ°JdbcConfigï¼›</li><li>æµ‹è¯•</li></ol><p><strong>å°ç»“</strong>ï¼š</p><ul><li>ä½¿ç”¨@ConfigurationPropertiesç¼–å†™é…ç½®é¡¹ç±»å°†é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®é¡¹è®¾ç½®åˆ°å¯¹è±¡ä¸­</li></ul><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"jdbc"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcProperties</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> String url<span class="token punctuation">;</span>    <span class="token keyword">private</span> String driverClassName<span class="token punctuation">;</span>    <span class="token keyword">private</span> String username<span class="token punctuation">;</span>    <span class="token keyword">private</span> String password<span class="token punctuation">;</span>    <span class="token keyword">public</span> String <span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> url<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUrl</span><span class="token punctuation">(</span>String url<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> String <span class="token function">getDriverClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> driverClassName<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDriverClassName</span><span class="token punctuation">(</span>String driverClassName<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>driverClassName <span class="token operator">=</span> driverClassName<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> String <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> username<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsername</span><span class="token punctuation">(</span>String username<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> String <span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> password<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPassword</span><span class="token punctuation">(</span>String password<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><ul><li>ä½¿ç”¨@ConfigurationPropertiesåœ¨æ–¹æ³•ä¸Šé¢ä½¿ç”¨</li></ul><pre class=" language-java"><code class="language-java">    <span class="token annotation punctuation">@Bean</span>    <span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"jdbc"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> DataSource <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><h2 id="5-å¤šä¸ªymlæ–‡ä»¶é…ç½®"><a href="#5-å¤šä¸ªymlæ–‡ä»¶é…ç½®" class="headerlink" title="5. å¤šä¸ªymlæ–‡ä»¶é…ç½®"></a>5. å¤šä¸ªymlæ–‡ä»¶é…ç½®</h2><p><strong>ç›®æ ‡</strong>ï¼šå¯ä»¥å°†å¤šä¸ªymlæ–‡ä»¶åœ¨application.ymlæ–‡ä»¶ä¸­é…ç½®æ¿€æ´»</p><p><strong>åˆ†æ</strong>ï¼š</p><p>yamlä¸propertiesé…ç½®æ–‡ä»¶é™¤äº†å±•ç¤ºå½¢å¼ä¸ç›¸åŒä»¥å¤–ï¼Œå…¶å®ƒåŠŸèƒ½å’Œä½œç”¨éƒ½æ˜¯ä¸€æ ·çš„ï¼›åœ¨é¡¹ç›®ä¸­åŸè·¯çš„è¯»å–æ–¹å¼ä¸éœ€è¦æ”¹å˜ã€‚</p><p>1ï¼‰ymlé…ç½®æ–‡ä»¶çš„ç‰¹å¾ï¼š</p><ol><li>æ ‘çŠ¶å±‚çº§ç»“æ„å±•ç¤ºé…ç½®é¡¹ï¼›</li><li>é…ç½®é¡¹ä¹‹é—´å¦‚æœæœ‰å…³ç³»çš„è¯éœ€è¦åˆ†è¡Œç©ºä¸¤æ ¼ï¼›</li><li>é…ç½®é¡¹å¦‚æœæœ‰å€¼çš„è¯ï¼Œé‚£ä¹ˆéœ€è¦åœ¨ <code>:</code>ä¹‹åç©ºä¸€æ ¼å†å†™é…ç½®é¡¹å€¼ï¼›</li></ol><p>å°†application.propertiesé…ç½®æ–‡ä»¶ä¿®æ”¹ä¸ºapplication.ymlçš„è¯ï¼š</p><pre class=" language-yml"><code class="language-yml">jdbc:  driverClassName: com.mysql.jdbc.Driver  url: jdbc:mysql://127.0.0.1:3306/heima  username: root  password: rootkey:  abc: cba  def:    - g    - h    - j</code></pre><p>2ï¼‰å¤šä¸ªymlé…ç½®æ–‡ä»¶ï¼›åœ¨spring bootä¸­æ˜¯è¢«å…è®¸çš„ã€‚è¿™äº›é…ç½®æ–‡ä»¶çš„åç§°å¿…é¡»ä¸ºapplication-***.ymlï¼Œå¹¶ä¸”è¿™äº›é…ç½®æ–‡ä»¶å¿…é¡»è¦åœ¨application.ymlé…ç½®æ–‡ä»¶ä¸­æ¿€æ´»ä¹‹åæ‰å¯ä»¥ä½¿ç”¨ã€‚</p><p>3ï¼‰å¦‚æœpropertieså’Œymlé…ç½®æ–‡ä»¶åŒæ—¶å­˜åœ¨åœ¨spring booté¡¹ç›®ä¸­ï¼›é‚£ä¹ˆè¿™ä¸¤ç±»é…ç½®æ–‡ä»¶éƒ½æœ‰æ•ˆã€‚åœ¨ä¸¤ä¸ªé…ç½®æ–‡ä»¶ä¸­å¦‚æœå­˜åœ¨åŒåçš„é…ç½®é¡¹çš„è¯ä¼šä»¥<strong>propertiesæ–‡ä»¶çš„ä¸ºä¸»</strong>ã€‚</p><p><strong>å°ç»“</strong>ï¼š</p><p>åœ¨å¤šä¸ªé…ç½®æ–‡ä»¶æ—¶ï¼Œéœ€è¦å°†è¿™äº›æ–‡ä»¶åœ¨application.ymlæ–‡ä»¶ä¸­è¿›è¡Œæ¿€æ´»ï¼š</p><pre class=" language-yml"><code class="language-yml">#æ¿€æ´»é…ç½®æ–‡ä»¶;éœ€è¦æŒ‡å®šå…¶å®ƒçš„é…ç½®æ–‡ä»¶åç§°spring:  profiles:    active: abc,def</code></pre><h2 id="6-è‡ªåŠ¨é…ç½®åŸç†"><a href="#6-è‡ªåŠ¨é…ç½®åŸç†" class="headerlink" title="6. è‡ªåŠ¨é…ç½®åŸç†"></a>6. è‡ªåŠ¨é…ç½®åŸç†</h2><p><strong>ç›®æ ‡</strong>ï¼šäº†è§£Spring Booté¡¹ç›®çš„é…ç½®åŠ è½½æµç¨‹</p><p><strong>å°ç»“</strong>ï¼š</p><ul><li>åœ¨ <code>META-INF\spring.fatories</code>æ–‡ä»¶ä¸­å®šä¹‰äº†å¾ˆå¤šè‡ªåŠ¨é…ç½®ç±»ï¼›å¯ä»¥æ ¹æ®åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ çš„ å¯åŠ¨å™¨ä¾èµ–è‡ªåŠ¨é…ç½®ç»„ä»¶</li><li>é€šè¿‡å¦‚ä¸‹æµç¨‹å¯ä»¥å»ä¿®æ”¹applicationé…ç½®æ–‡ä»¶ï¼Œæ”¹å˜è‡ªåŠ¨é…ç½®çš„ç»„ä»¶é»˜è®¤å‚æ•°</li></ul><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/1560091228494.png" alt="1"></p><h2 id="7-lombokåº”ç”¨"><a href="#7-lombokåº”ç”¨" class="headerlink" title="7. lombokåº”ç”¨"></a>7. lombokåº”ç”¨</h2><p><strong>ç›®æ ‡</strong>ï¼šä½¿ç”¨lombokçš„æ³¨è§£å®ç°pojoç±»çš„ç®€åŒ–</p><p><strong>åˆ†æ</strong>ï¼š</p><p>ä½¿ç”¨Spring Bootæ•´åˆSSMå·¥ç¨‹ï¼›éœ€è¦ä½¿ç”¨åˆ°æ•°æ®åº“æ•°æ®ã€‚</p><ul><li><p>å°†æ•°æ®åº“è¡¨æ•°æ®å¯¼å…¥åˆ°æ•°æ®åº“ä¸­ï¼ˆspringboot_testï¼‰ï¼›</p></li><li><p>ç¼–å†™æ•°æ®åº“è¡¨å¯¹åº”çš„å®ä½“ç±»ï¼›ä¸€èˆ¬æƒ…å†µä¸‹éœ€è¦ç¼–å†™get/set/toStringç­‰è¿™äº›æ–¹æ³•ä¼šè€—æ—¶å¹¶ä¸”ä¼šè®©å®ä½“ç±»çœ‹èµ·æ¥æ¯”è¾ƒè‡ƒè‚¿ã€‚å¯ä»¥ä½¿ç”¨lombokæ’ä»¶å¯¹å®ä½“ç±»è¿›è¡Œç®€åŒ–ã€‚</p><p>lombokæ˜¯ä¸€ä¸ªæ’ä»¶å·¥å…·ç±»åŒ…ï¼›æä¾›äº†ä¸€äº›æ³¨è§£@Dataã€@Getterç­‰è¿™äº›æ³¨è§£å»ç®€åŒ–å®ä½“ç±»ä¸­çš„æ„é€ æ–¹æ³•ã€get/setç­‰æ–¹æ³•çš„ç¼–å†™ã€‚</p><ol><li><p>åœ¨IDEAä¸­å®‰è£…lombokæ’ä»¶ï¼›settings-plugins-lombok</p></li><li><p>æ·»åŠ lombokå¯¹åº”çš„ä¾èµ–åˆ°é¡¹ç›®pom.xmlæ–‡ä»¶ï¼›</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></li><li><p>æ”¹é€ å®ä½“ç±»ä½¿ç”¨lombokæ³¨è§£</p></li></ol></li></ul><p><strong>å°ç»“</strong>ï¼š</p><p>åœ¨Beanä¸Šä½¿ç”¨ï¼š<br>@Data ï¼šè‡ªåŠ¨æä¾›getterå’Œsetterã€hashCodeã€equalsã€toStringç­‰æ–¹æ³•<br>@Getterï¼šè‡ªåŠ¨æä¾›getteræ–¹æ³•<br>@Setterï¼šè‡ªåŠ¨æä¾›setteræ–¹æ³•<br>@Slf4jï¼šè‡ªåŠ¨åœ¨beanä¸­æä¾›logå˜é‡ï¼Œå…¶å®ç”¨çš„æ˜¯slf4jçš„æ—¥å¿—åŠŸèƒ½ã€‚</p><p>@AllArgsConstrutorï¼šæœ‰å‚</p><p>@NoArgsConstrutorï¼šæ— å‚</p><h2 id="8-Spring-Bootæ•´åˆ-SpringMVCç«¯å£å’Œé™æ€èµ„æº"><a href="#8-Spring-Bootæ•´åˆ-SpringMVCç«¯å£å’Œé™æ€èµ„æº" class="headerlink" title="8. Spring Bootæ•´åˆ-SpringMVCç«¯å£å’Œé™æ€èµ„æº"></a>8. Spring Bootæ•´åˆ-SpringMVCç«¯å£å’Œé™æ€èµ„æº</h2><p><strong>ç›®æ ‡</strong>ï¼šå¯ä»¥ä¿®æ”¹tomcatçš„ç«¯å£å’Œè®¿é—®é¡¹ç›®ä¸­çš„é™æ€èµ„æº</p><p><strong>åˆ†æ</strong>ï¼š</p><ul><li><p>ä¿®æ”¹tomcatç«¯å£</p><p>æŸ¥è¯¢**Propertiesï¼Œè®¾ç½®é…ç½®é¡¹ï¼ˆå‰ç¼€+ç±»å˜é‡åï¼‰åˆ°applicationé…ç½®æ–‡ä»¶ä¸­</p></li><li><p>è®¿é—®é¡¹ç›®ä¸­çš„é™æ€èµ„æº</p><p>é™æ€èµ„æºæ”¾ç½®çš„ä½ç½®ï¼›æ”¾ç½®é™æ€èµ„æºå¹¶è®¿é—®è¿™äº›èµ„æº</p></li></ul><p><strong>å°ç»“</strong>ï¼š</p><ul><li>ä¿®æ”¹é¡¹ç›®tomcatç«¯å£ï¼š</li></ul><pre class=" language-yml"><code class="language-yml">#tomcatç«¯å£server:  port: 80</code></pre><ul><li><p>åœ¨spring booté¡¹ç›®ä¸­é™æ€èµ„æºå¯ä»¥æ”¾ç½®åœ¨å¦‚ä¸‹ç›®å½•ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/1560096384799.png" alt="2"></p></li></ul><h2 id="9-Spring-Bootæ•´åˆ-SpringMVCæ‹¦æˆªå™¨"><a href="#9-Spring-Bootæ•´åˆ-SpringMVCæ‹¦æˆªå™¨" class="headerlink" title="9.Spring Bootæ•´åˆ-SpringMVCæ‹¦æˆªå™¨"></a>9.Spring Bootæ•´åˆ-SpringMVCæ‹¦æˆªå™¨</h2><p><strong>ç›®æ ‡</strong>ï¼šå¯ä»¥åœ¨Spring Booté¡¹ç›®ä¸­é…ç½®è‡ªå®šä¹‰SpringMVCæ‹¦æˆªå™¨</p><p><strong>åˆ†æ</strong>ï¼š</p><ol><li>ç¼–å†™æ‹¦æˆªå™¨ï¼ˆå®ç°HandlerInterceptorï¼‰ï¼›</li><li>ç¼–å†™é…ç½®ç±»å®ç° WebMvcConfigurerï¼Œåœ¨è¯¥ç±»ä¸­æ·»åŠ å„ç§ç»„ä»¶ï¼›</li><li>æµ‹è¯•</li></ol><p><strong>å°ç»“</strong>ï¼š</p><p>å¯ä»¥åœ¨spring booté¡¹ç›®ä¸­é€šè¿‡é…ç½®ç±»æ·»åŠ å„ç§ç»„ä»¶ï¼›å¦‚æœè¦æ·»åŠ æ‹¦æˆªå™¨çš„è¯ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>config<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>interceptor<span class="token punctuation">.</span>MyInterceptor<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Bean<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Configuration<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>InterceptorRegistry<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>WebMvcConfigurer<span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MvcConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//æ·»åŠ æ‹¦æˆªå™¨åˆ°spring mvcæ‹¦æˆªå™¨é“¾</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span>InterceptorRegistry registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>        registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span><span class="token function">myInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPathPatterns</span><span class="token punctuation">(</span><span class="token string">"/*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="10-Spring-Bootæ•´åˆ-äº‹åŠ¡å’Œè¿æ¥æ± "><a href="#10-Spring-Bootæ•´åˆ-äº‹åŠ¡å’Œè¿æ¥æ± " class="headerlink" title="10. Spring Bootæ•´åˆ-äº‹åŠ¡å’Œè¿æ¥æ± "></a>10. Spring Bootæ•´åˆ-äº‹åŠ¡å’Œè¿æ¥æ± </h2><p><strong>ç›®æ ‡</strong>ï¼šé…ç½®Spring Bootè‡ªå¸¦é»˜è®¤çš„hikariæ•°æ®åº“è¿æ¥æ± å’Œä½¿ç”¨@Transactionalæ³¨è§£è¿›è¡Œäº‹åŠ¡é…ç½®</p><p><strong>åˆ†æ</strong>ï¼š</p><ul><li><p>äº‹åŠ¡é…ç½®</p><ol><li><p>æ·»åŠ äº‹åŠ¡ç›¸å…³çš„å¯åŠ¨å™¨ä¾èµ–ï¼Œmysqlç›¸å…³ä¾èµ–ï¼›</p><pre class=" language-xml"><code class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.1.46<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></li><li><p>ç¼–å†™ä¸šåŠ¡ç±»UserServiceä½¿ç”¨äº‹åŠ¡æ³¨è§£@Transactional</p></li></ol></li><li><p>æ•°æ®åº“è¿æ¥æ± hikarié…ç½®</p><p>åªéœ€è¦åœ¨applicationé…ç½®æ–‡ä»¶ä¸­æŒ‡å®šæ•°æ®åº“ç›¸å…³å‚æ•°ï¼ˆå› ä¸ºspringboot-jdbcå¯åŠ¨å™¨é»˜è®¤å°±æ˜¯hikariçš„æ•°æ®æºï¼‰</p></li></ul><p><strong>å°ç»“</strong>ï¼š</p><ul><li>äº‹åŠ¡é…ç½®ï¼›åªéœ€è¦æ·»åŠ jdbcå¯åŠ¨å™¨ä¾èµ–</li><li>æ•°æ®åº“è¿æ¥æ± ä½¿ç”¨é»˜è®¤çš„hikariï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹ï¼š</li></ul><pre class=" language-yml"><code class="language-yml">spring:  datasource:    driver-class-name: com.mysql.jdbc.Driver    url: jdbc:mysql://127.0.0.1:3306/springboot_test    username: root    password: root</code></pre><h2 id="11-Spring-Bootæ•´åˆ-Mybatis"><a href="#11-Spring-Bootæ•´åˆ-Mybatis" class="headerlink" title="11. Spring Bootæ•´åˆ-Mybatis"></a>11. Spring Bootæ•´åˆ-Mybatis</h2><p><strong>ç›®æ ‡</strong>ï¼šé…ç½®Mybatisåœ¨Spring Bootå·¥ç¨‹ä¸­çš„æ•´åˆåŒ…ï¼Œè®¾ç½®mybatisçš„å®ä½“ç±»åˆ«åï¼Œè¾“å‡ºæ‰§è¡Œsqlè¯­å¥é…ç½®é¡¹</p><p><strong>åˆ†æ</strong>ï¼š</p><ol><li>æ·»åŠ å¯åŠ¨å™¨ä¾èµ–ï¼›</li><li>é…ç½®Mybatisï¼šå®ä½“ç±»åˆ«ååŒ…ï¼Œæ—¥å¿—ï¼Œæ˜ å°„æ–‡ä»¶ç­‰ï¼›</li><li>é…ç½®MapperScan</li></ol><p><strong>å°ç»“</strong>ï¼š</p><ul><li><p>æ·»åŠ mybatiså®˜æ–¹å¯¹äºspring bootçš„ä¸€ä¸ªå¯åŠ¨å™¨</p><pre class=" language-xml"><code class="language-xml">        <span class="token comment" spellcheck="true">&lt;!--mybatis --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.0.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></li><li><p>é…ç½®mybatis</p><pre class=" language-yml"><code class="language-yml">mybatis:  # å®ä½“ç±»åˆ«ååŒ…è·¯å¾„  type-aliases-package: com.itheima.pojo  # æ˜ å°„æ–‡ä»¶è·¯å¾„  # mapper-locations: classpath:mappers/*.xml  configuration:    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl</code></pre></li><li><p>è®¾ç½®å¯åŠ¨å™¨ç±»ä¸­çš„mapperæ‰«æ</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/1560176555136.png" alt="3"></p></li></ul><h2 id="12-Spring-Bootæ•´åˆ-é€šç”¨Mapper"><a href="#12-Spring-Bootæ•´åˆ-é€šç”¨Mapper" class="headerlink" title="12. Spring Bootæ•´åˆ-é€šç”¨Mapper"></a>12. Spring Bootæ•´åˆ-é€šç”¨Mapper</h2><p><strong>ä½œç”¨</strong>ï¼šçœç•¥äº†åœ¨mapperä¸­ç¼–å†™sqlè¯­å¥çš„æ­¥éª¤ï¼Œç›´æ¥ä½¿ç”¨å®šåˆ¶å¥½çš„ç®€å•sql</p><p><strong>ç›®æ ‡</strong>ï¼šé…ç½®é€šç”¨Mapperç»„ä»¶åˆ°Spring Booté¡¹ç›®ä¸­å¹¶ä½¿ç”¨Mapper<t>æ¥å£</t></p><p><strong>åˆ†æ</strong>ï¼š</p><p>é€šç”¨Mapperï¼šå¯ä»¥å®ç°è‡ªåŠ¨æ‹¼æ¥sqlè¯­å¥ï¼›æ‰€æœ‰çš„mapperéƒ½ä¸éœ€è¦ç¼–å†™ä»»ä½•æ–¹æ³•ä¹Ÿå°±æ˜¯ä¸ç”¨ç¼–å†™sqlè¯­å¥ã€‚å¯ä»¥æé«˜å¼€å‘æ•ˆç‡ã€‚</p><ol><li><p>æ·»åŠ å¯åŠ¨å™¨ä¾èµ–ï¼›</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>tk.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mapper-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></li><li><p>æ”¹é€ UserMapperç»§æ‰¿Mapper<user>ï¼›</user></p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token keyword">extends</span> <span class="token class-name">Mapper</span><span class="token operator">&lt;</span>User<span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></li><li><p>ä¿®æ”¹å¯åŠ¨å¼•å¯¼ç±»Applicationä¸­çš„Mapperæ‰«ææ³¨è§£ï¼›</p><pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> tk<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>MapperScan<span class="token punctuation">;</span><span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span><span class="token string">"cn.sgg.springbootquick.dao"</span><span class="token punctuation">)</span></code></pre></li><li><p>ä¿®æ”¹Userå®ä½“ç±»æ·»åŠ jpaæ³¨è§£ï¼›</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Id</span>    <span class="token comment" spellcheck="true">//ä¸»é”®å›å¡«</span>    <span class="token annotation punctuation">@KeySql</span><span class="token punctuation">(</span>useGeneratedKeys <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> Integer id<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//@column(name="userName")ä¸æ•°æ®è¡¨å¯¹åº”ä¸€ä¸ªåˆ—</span>    <span class="token keyword">private</span> String username<span class="token punctuation">;</span>    <span class="token keyword">private</span> String password<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>æ”¹é€ UserServiceå®ç°ä¸šåŠ¡åŠŸèƒ½ï¼›</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> UserDao userDao<span class="token punctuation">;</span>    <span class="token keyword">public</span> User <span class="token function">quickById</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> userDao<span class="token punctuation">.</span><span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ ¹æ®ä¸»é”®æŸ¥è¯¢</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveUser</span><span class="token punctuation">(</span>User user<span class="token punctuation">)</span><span class="token punctuation">{</span>        userDao<span class="token punctuation">.</span><span class="token function">insertSelective</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¦‚æœå±æ€§ä¸ºç©ºå°±ä¸ä¼šå‡ºç°åœ¨insertè¯­å¥ä¸­</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li></ol><p><strong>å°ç»“</strong>ï¼š</p><blockquote><p>åœ¨å¯åŠ¨å¼•å¯¼ç±»ä¸Šé¢çš„mapperæ‰«ææ³¨è§£ ä¸€å®šè¦ä¿®æ”¹ä¸º é€šç”¨mapperçš„æ‰«ææ³¨è§£</p></blockquote><h2 id="æ•´åˆpringData-JPA"><a href="#æ•´åˆpringData-JPA" class="headerlink" title="æ•´åˆpringData JPA"></a>æ•´åˆpringData JPA</h2><p><strong>1ï¼‰ã€SpringDataç®€ä»‹</strong></p><p>![](E:\ç™¾åº¦äº‘ä¸‹è½½\Spring Boot ç¬”è®°+è¯¾ä»¶\images\æœç‹—æˆªå›¾20180306105412.png)</p><p><strong>2ï¼‰ã€æ•´åˆSpringData JPA</strong></p><p>JPA:ORMï¼ˆObject Relational Mappingï¼‰ï¼›</p><p>1ï¼‰ã€ç¼–å†™ä¸€ä¸ªå®ä½“ç±»ï¼ˆbeanï¼‰å’Œæ•°æ®è¡¨è¿›è¡Œæ˜ å°„ï¼Œå¹¶ä¸”é…ç½®å¥½æ˜ å°„å…³ç³»ï¼›</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ä½¿ç”¨JPAæ³¨è§£é…ç½®æ˜ å°„å…³ç³»</span><span class="token annotation punctuation">@Entity</span> <span class="token comment" spellcheck="true">//å‘Šè¯‰JPAè¿™æ˜¯ä¸€ä¸ªå®ä½“ç±»ï¼ˆå’Œæ•°æ®è¡¨æ˜ å°„çš„ç±»ï¼‰</span><span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"tbl_user"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//@Tableæ¥æŒ‡å®šå’Œå“ªä¸ªæ•°æ®è¡¨å¯¹åº”;å¦‚æœçœç•¥é»˜è®¤è¡¨åå°±æ˜¯userï¼›</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Id</span> <span class="token comment" spellcheck="true">//è¿™æ˜¯ä¸€ä¸ªä¸»é”®</span>    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> GenerationType<span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//è‡ªå¢ä¸»é”®</span>    <span class="token keyword">private</span> Integer id<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"last_name"</span><span class="token punctuation">,</span>length <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//è¿™æ˜¯å’Œæ•°æ®è¡¨å¯¹åº”çš„ä¸€ä¸ªåˆ—</span>    <span class="token keyword">private</span> String lastName<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Column</span> <span class="token comment" spellcheck="true">//çœç•¥é»˜è®¤åˆ—åå°±æ˜¯å±æ€§å</span>    <span class="token keyword">private</span> String email<span class="token punctuation">;</span></code></pre><p>2ï¼‰ã€ç¼–å†™ä¸€ä¸ªDaoæ¥å£æ¥æ“ä½œå®ä½“ç±»å¯¹åº”çš„æ•°æ®è¡¨ï¼ˆRepositoryï¼‰</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ç»§æ‰¿JpaRepositoryæ¥å®Œæˆå¯¹æ•°æ®åº“çš„æ“ä½œ</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserRepository</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token operator">&lt;</span>User<span class="token punctuation">,</span>Integer<span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>3ï¼‰ã€åŸºæœ¬çš„é…ç½®JpaProperties</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>   <span class="token key atrule">jpa</span><span class="token punctuation">:</span>    <span class="token key atrule">hibernate</span><span class="token punctuation">:</span><span class="token comment" spellcheck="true">#     æ›´æ–°æˆ–è€…åˆ›å»ºæ•°æ®è¡¨ç»“æ„(å½“æ•°æ®åº“æ²¡æœ‰è¯¥è¡¨æ—¶ï¼Œä¼šåˆ›å»ºè¿™ä¸ªè¡¨)</span>      <span class="token key atrule">ddl-auto</span><span class="token punctuation">:</span> update<span class="token comment" spellcheck="true">#    æ§åˆ¶å°æ˜¾ç¤ºSQL</span>    <span class="token key atrule">show-sql</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre><h2 id="13-Spring-Bootæ•´åˆæµ‹è¯•"><a href="#13-Spring-Bootæ•´åˆæµ‹è¯•" class="headerlink" title="13. Spring Bootæ•´åˆæµ‹è¯•"></a>13. Spring Bootæ•´åˆæµ‹è¯•</h2><p><strong>ç›®æ ‡</strong>ï¼šå¯ä»¥è®¿é—®å¤„ç†å™¨å¯¹åº”è·¯å¾„å°†æ•°æ®åº“ä¸­çš„æ•°æ®æ ¹æ®idæŸ¥è¯¢</p><p><strong>åˆ†æ</strong>ï¼š</p><ol><li>æ”¹é€ HelloControllerï¼Œæ³¨å…¥UserServiceåˆ©ç”¨å…¶æ–¹æ³•å®ç°æŸ¥è¯¢ï¼›</li><li>å¯åŠ¨é¡¹ç›®è¿›è¡Œæµ‹è¯• <a href="http://localhost/user/%E7%94%A8%E6%88%B7id">http://localhost/user/ç”¨æˆ·id</a> â€“&gt; <a href="http://localhost/user/8">http://localhost/user/8</a></li></ol><p><strong>å°ç»“</strong>ï¼š</p><p>ä¿®æ”¹äº†HelloControllerï¼š</p><pre class=" language-java"><code class="language-java">    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> UserService userService<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/**     * æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·     * @param id ç”¨æˆ·id     * @return ç”¨æˆ·     */</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/user/{id}"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> User <span class="token function">queryById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> Long id<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> userService<span class="token punctuation">.</span><span class="token function">queryById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><h2 id="14-Spring-Bootæ•´åˆ-Junit"><a href="#14-Spring-Bootæ•´åˆ-Junit" class="headerlink" title="14. Spring Bootæ•´åˆ-Junit"></a>14. Spring Bootæ•´åˆ-Junit</h2><p><strong>ç›®æ ‡</strong>ï¼šåœ¨Spring Booté¡¹ç›®ä¸­ä½¿ç”¨Junitè¿›è¡Œå•å…ƒæµ‹è¯•UserServiceçš„æ–¹æ³•</p><p><strong>åˆ†æ</strong>ï¼š</p><ol><li>æ·»åŠ å¯åŠ¨å™¨ä¾èµ–spring-boot-starter-testï¼›</li><li>ç¼–å†™æµ‹è¯•ç±»ï¼š<ol><li>@RunWith(SpringRunner.class)</li><li>@SpringBootTest</li><li>@Test</li></ol></li></ol><p><strong>å°ç»“</strong>ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span>SpringRunner<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token annotation punctuation">@SpringBootTest</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceTest</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> UserService userService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">queryById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        User user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">queryById</span><span class="token punctuation">(</span>8L<span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"user = "</span> <span class="token operator">+</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        User user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        user<span class="token punctuation">.</span><span class="token function">setUserName</span><span class="token punctuation">(</span><span class="token string">"test2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"test2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        user<span class="token punctuation">.</span><span class="token function">setSex</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        user<span class="token punctuation">.</span><span class="token function">setCreated</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        userService<span class="token punctuation">.</span><span class="token function">saveUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><blockquote><p>åœ¨Spring Booté¡¹ç›®ä¸­å¦‚æœç¼–å†™æµ‹è¯•ç±»åˆ™å¿…é¡»è¦åœ¨ç±»ä¸Šé¢æ·»åŠ @SpringBootTest</p></blockquote><h2 id="15-Spring-Bootæ•´åˆ-redis"><a href="#15-Spring-Bootæ•´åˆ-redis" class="headerlink" title="15. Spring Bootæ•´åˆ-redis"></a>15. Spring Bootæ•´åˆ-redis</h2><p><strong>ç›®æ ‡</strong>ï¼šåœ¨Spring Booté¡¹ç›®ä¸­ä½¿ç”¨Junitæµ‹è¯•RedisTemplateçš„ä½¿ç”¨</p><p><strong>åˆ†æ</strong>ï¼š</p><ol><li><p>æ·»åŠ å¯åŠ¨å™¨ä¾èµ–ï¼›spring-boot-starter-data-redis</p></li><li><p>é…ç½®application.ymlä¸­ä¿®æ”¹redisçš„è¿æ¥å‚æ•°ï¼›ï¼ˆrediséœ€è¦å¯åŠ¨ï¼‰</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">redis</span><span class="token punctuation">:</span>      <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span></code></pre></li><li><p>ç¼–å†™æµ‹è¯•ç±»åº”ç”¨RedisTemplateæ“ä½œredisä¸­çš„5ç§æ•°æ®ç±»å‹ï¼ˆstring/hash/list/set/sorted setï¼‰</p></li></ol><p><strong>å°ç»“</strong>ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span>SpringRunner<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token annotation punctuation">@SpringBootTest</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisTest</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> RedisTemplate redisTemplate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//string å­—ç¬¦ä¸²</span>        <span class="token comment" spellcheck="true">//redisTemplate.opsForValue().set("str", "heima");</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">boundValueOps</span><span class="token punctuation">(</span><span class="token string">"str"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"heima"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"str = "</span> <span class="token operator">+</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"str"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//hash æ•£åˆ—</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">boundHashOps</span><span class="token punctuation">(</span><span class="token string">"h_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"heima"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">boundHashOps</span><span class="token punctuation">(</span><span class="token string">"h_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//è·å–æ‰€æœ‰åŸŸ</span>        Set set <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">boundHashOps</span><span class="token punctuation">(</span><span class="token string">"h_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" hashæ•£åˆ—çš„æ‰€æœ‰åŸŸï¼š"</span> <span class="token operator">+</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//è·å–æ‰€æœ‰å€¼</span>        List list <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">boundHashOps</span><span class="token punctuation">(</span><span class="token string">"h_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" hashæ•£åˆ—çš„æ‰€æœ‰åŸŸçš„å€¼ï¼š"</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//list åˆ—è¡¨</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">boundListOps</span><span class="token punctuation">(</span><span class="token string">"l_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">leftPush</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">boundListOps</span><span class="token punctuation">(</span><span class="token string">"l_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">leftPush</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">boundListOps</span><span class="token punctuation">(</span><span class="token string">"l_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">leftPush</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//è·å–å…¨éƒ¨å…ƒç´ </span>        list <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">boundListOps</span><span class="token punctuation">(</span><span class="token string">"l_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" liståˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼š"</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// set é›†åˆ</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">boundSetOps</span><span class="token punctuation">(</span><span class="token string">"s_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        set <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">boundSetOps</span><span class="token punctuation">(</span><span class="token string">"s_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">members</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" seté›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼š"</span> <span class="token operator">+</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// sorted set æœ‰åºé›†åˆ</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">boundZSetOps</span><span class="token punctuation">(</span><span class="token string">"z_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">boundZSetOps</span><span class="token punctuation">(</span><span class="token string">"z_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">boundZSetOps</span><span class="token punctuation">(</span><span class="token string">"z_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        set <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">boundZSetOps</span><span class="token punctuation">(</span><span class="token string">"z_key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" zsetæœ‰åºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼š"</span> <span class="token operator">+</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="16-Spring-Booté¡¹ç›®éƒ¨ç½²"><a href="#16-Spring-Booté¡¹ç›®éƒ¨ç½²" class="headerlink" title="16. Spring Booté¡¹ç›®éƒ¨ç½²"></a>16. Spring Booté¡¹ç›®éƒ¨ç½²</h2><p><strong>ç›®æ ‡</strong>ï¼šå°†Spring Booté¡¹ç›®ä½¿ç”¨mavenæŒ‡ä»¤æ‰“æˆjaråŒ…å¹¶è¿è¡Œæµ‹è¯•</p><p><strong>åˆ†æ</strong>ï¼š</p><ol><li>éœ€è¦æ·»åŠ æ‰“åŒ…ç»„ä»¶å°†é¡¹ç›®ä¸­çš„èµ„æºã€é…ç½®ã€ä¾èµ–åŒ…æ‰“åˆ°ä¸€ä¸ªjaråŒ…ä¸­ï¼›å¯ä»¥ä½¿ç”¨mavençš„<code>package</code>ï¼›</li><li>éƒ¨ç½²ï¼šjava -jar åŒ…å</li></ol><p><strong>å°ç»“</strong>ï¼š</p><ul><li><p>æ·»åŠ æ‰“åŒ…ç»„ä»¶</p><pre class=" language-xml"><code class="language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>           <span class="token comment" spellcheck="true">&lt;!-- æ‰“jaråŒ…æ—¶å¦‚æœä¸é…ç½®è¯¥æ’ä»¶ï¼Œæ‰“å‡ºæ¥çš„jaråŒ…æ²¡æœ‰æ¸…å•æ–‡ä»¶ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span></code></pre></li><li><p>éƒ¨ç½²è¿è¡Œ</p><pre class=" language-sh"><code class="language-sh">java -jar åŒ…å</code></pre></li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sbzj1.png" alt="æ€»ç»“1"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sbzj2.png" alt="æ€»ç»“2"></p>]]></content>
      
      
      <categories>
          
          <category> Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
            <tag> lombok </tag>
            
            <tag> é€šç”¨mapper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot CRUDå®éªŒ</title>
      <link href="/2020/09/11/springboot/springboot-crud-shi-yan/"/>
      <url>/2020/09/11/springboot/springboot-crud-shi-yan/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Boot-CRUDå®éªŒ"><a href="#Spring-Boot-CRUDå®éªŒ" class="headerlink" title="Spring Boot CRUDå®éªŒ"></a>Spring Boot CRUDå®éªŒ</h1><blockquote><p>è¿™æ˜¯ä¸€ä¸ªSpringBootCRUDçš„å°é¡¹ç›®ï¼Œè®°å½•ä¸€ä¸‹æ­¥éª¤</p></blockquote><h2 id="é…ç½®ç¯å¢ƒ"><a href="#é…ç½®ç¯å¢ƒ" class="headerlink" title="é…ç½®ç¯å¢ƒ"></a>é…ç½®ç¯å¢ƒ</h2><ol><li><p>åˆ›å»ºspringbooté¡¹ç›®ï¼Œé€‰æ‹©starter</p><ol><li>thymeleaf</li><li>web</li></ol></li><li><p>å¯¼å…¥webjarä¾èµ–</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.webjars<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jquery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.webjars<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>bootstrap<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></li><li><p>å¼•å…¥é™æ€æ–‡ä»¶</p><ol><li><p>å¼•å…¥htmlæ–‡ä»¶</p><p>éœ€è¦å¯¼å…¥åˆ°ç±»è·¯å¾„çš„temlatesæ–‡ä»¶å¤¹ä¸­ï¼Œè¿™æ ·æ‰èƒ½è¢«thymeleafè§£æ</p></li><li><p>å¼•å…¥é™æ€css/js</p><p>éœ€è¦å¯¼å…¥staticæ–‡ä»¶å¤¹ä¸­ï¼Œspringbooté™æ€èµ„æºçš„æ˜ å°„è§„åˆ™ï¼Œå»è¿™äº›è·¯å¾„ä¸‹æ‰¾æ˜ å°„</p><pre><code>"classpath:/META-INF/resources/", "classpath:/resources/","classpath:/static/", "classpath:/public/" "/"ï¼šå½“å‰é¡¹ç›®çš„æ ¹è·¯å¾„</code></pre></li></ol></li><li><p>ä¿®æ”¹htmlä¸­çš„url</p><ol><li><p>å¼•å…¥thymeleaf</p><pre><code>&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt;</code></pre></li><li><p>ä½¿ç”¨</p><pre><code>&lt;link th:href="@{/css/bootstrap.min.css}" rel="stylesheet"&gt;</code></pre><p>æ ¹æ®springbooté™æ€èµ„æºçš„æ˜ å°„è§„åˆ™ï¼Œ/ä»£è¡¨åœ¨ç±»è·¯å¾„ä¸‹æŸ¥æ‰¾</p></li></ol></li></ol><h2 id="å›½é™…åŒ–"><a href="#å›½é™…åŒ–" class="headerlink" title="å›½é™…åŒ–"></a>å›½é™…åŒ–</h2><p>æ­¥éª¤ï¼š</p><p>1ï¼‰ã€ç¼–å†™å›½é™…åŒ–é…ç½®æ–‡ä»¶ï¼ŒæŠ½å–é¡µé¢éœ€è¦æ˜¾ç¤ºçš„å›½é™…åŒ–æ¶ˆæ¯</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sbweb11.png" alt="image-20200627180810368"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sbweb12.png" alt="image-20200627180856525"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sbweb13.png" alt="image-20200627181119740"></p><p>2ï¼‰ã€SpringBootè‡ªåŠ¨é…ç½®å¥½äº†ç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶çš„ç»„ä»¶ï¼›</p><p>åªéœ€è¦åœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­è®¾ç½®é…ç½®æ–‡ä»¶çš„è·¯å¾„</p><pre><code>spring.messages.basename==i18n.login</code></pre><p>3ï¼‰ã€å»é¡µé¢è·å–å›½é™…åŒ–çš„å€¼</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span>  <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1, shrink-to-fit<span class="token punctuation">=</span>no<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>author<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Signin Template for Bootstrap<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- Bootstrap core CSS --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>asserts/css/bootstrap.min.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/bootstrap/4.0.0/css/bootstrap.css}<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- Custom styles for this template --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>asserts/css/signin.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/asserts/css/signin.css}<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-signin<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dashboard.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mb-4<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/asserts/img/bootstrap-solid.svg}<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>asserts/img/bootstrap-solid.svg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>72<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>72<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>h3 mb-3 font-weight-normal<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{login.tip}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Please sign in<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sr-only<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{login.username}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Username<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{login.username}<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">autofocus</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sr-only<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{login.password}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Password<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Password<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{login.password}<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox mb-3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>remember-me<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> [[#{login.remember}]]        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-lg btn-primary btn-block<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{login.btn}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sign in<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mt-5 mb-3 text-muted<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Â© 2017-2018<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-sm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸­æ–‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-sm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>English<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>æ•ˆæœï¼šæ ¹æ®æµè§ˆå™¨è¯­è¨€è®¾ç½®çš„ä¿¡æ¯åˆ‡æ¢äº†å›½é™…åŒ–ï¼›</p><blockquote><p>é‡åˆ°çš„å‘:</p><p>é”™è¯¯ï¼šå‡ºç°??login.tip_zh_CN??ä¹±ç </p><p>åŸå› ï¼šåœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­è®¾ç½®æˆäº†spring.messages.basename=i18n</p><p>æ”¹ä¸ºï¼šspring.messages.basename=i18n.login</p></blockquote><p>4ï¼‰ã€ç‚¹å‡»é“¾æ¥åˆ‡æ¢å›½é™…åŒ–</p><p>åœ¨è¿æ¥ä¸Šæºå¸¦åŒºåŸŸä¿¡æ¯</p><pre class=" language-html"><code class="language-html">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-sm<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/index.html(l<span class="token punctuation">=</span><span class="token punctuation">'</span>zh_CN<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸­æ–‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-sm<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/index.html(l<span class="token punctuation">=</span><span class="token punctuation">'</span>en_US<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>English<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre><p>è‡ªå·±å†™åŒºåŸŸä¿¡æ¯å¯¹è±¡</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** * å¯ä»¥åœ¨è¿æ¥ä¸Šæºå¸¦åŒºåŸŸä¿¡æ¯ */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyLocaleResolver</span> <span class="token keyword">implements</span> <span class="token class-name">LocaleResolver</span> <span class="token punctuation">{</span>        <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> Locale <span class="token function">resolveLocale</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">)</span> <span class="token punctuation">{</span>        String l <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"l"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Locale locale <span class="token operator">=</span> Locale<span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>StringUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            String<span class="token punctuation">[</span><span class="token punctuation">]</span> split <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"_"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            locale <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>split<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>split<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> locale<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLocale</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Locale locale<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>åœ¨æ‰©å±•mvcé…ç½®ç±»ä¸­å°†è‡ªå·±å†™çš„åŒºåŸŸä¿¡æ¯å¯¹è±¡äº¤ç»™springå®¹å™¨</p><pre class=" language-java"><code class="language-java"> <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> LocaleResolver <span class="token function">localeResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyLocaleResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="ç™»å½•åŠŸèƒ½"><a href="#ç™»å½•åŠŸèƒ½" class="headerlink" title="ç™»å½•åŠŸèƒ½"></a>ç™»å½•åŠŸèƒ½</h2><p>è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</p><ol><li><p>å®ç°ç™»å½•ï¼Œé€šè¿‡controllerè·å–å‚æ•°ï¼Œåˆ¤æ–­å€¼æ¥å®ç°è·³è½¬ç™»å½•ï¼Œæ­£ç¡®ç”¨é‡å®šå‘é˜²æ­¢è¡¨å•é‡å¤æäº¤</p></li><li><p>è§£å†³ç¼“å­˜é—®é¢˜ï¼šç¼–å†™ä»£ç æ—¶ç»å¸¸ä¿®æ”¹ä»£ç ï¼Œä¸ºä¿è¯é¡µé¢åŠæ—¶æ›´æ–°ï¼Œè¦å¤„ç†é¡µé¢ç¼“å­˜ï¼Œåœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­<code>spring.thymeleaf.cache=false</code>ï¼Œåœ¨é¡µé¢ä¸Šctrl+f9é‡æ–°ç¼–è¯‘å°±å¯ä»¥æ›´æ–°é¡µé¢</p></li><li><p>é”™è¯¯ä¿¡æ¯ï¼Œé”™è¯¯å°±ç”¨Mapæ¥ä¿å­˜ï¼Œåœ¨é¡µé¢ä¸Špæ ‡ç­¾æ˜¾ç¤º</p></li></ol><pre><code>&lt;p style="color: red" th:text="${msg}" th:if="${not #strings.isEmpty(msg)}"&gt;&lt;/p&gt;</code></pre><ol start="4"><li>è§£å†³é‡å¤æäº¤è¡¨å•ï¼šå°†controllerç™»å½•æ”¹ä¸ºé‡å®šå‘ï¼Œ</li><li>è§£å†³æ¢æµè§ˆå™¨è¿˜èƒ½è·³è¿‡ç™»å½•é¡µé¢ï¼šè®¾ç½®æ‹¦æˆªå™¨</li></ol><p>æ‹¦æˆªå™¨ï¼š</p><p>åœ¨controllerä¸­ç™»å½•å­˜å…¥ä¸€ä¸ªSession,è‡ªå·±å†™ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œå®ç°HandlerInterceptorï¼Œé‡å†™preHandleæ–¹æ³•ï¼Œè¿›è¡Œåˆ¤æ–­æ˜¯å¦æœ‰å€¼ï¼Œæ²¡æœ‰å€¼è¯æ˜æ²¡æœ‰ç™»å½•ï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢å¹¶å°†é”™è¯¯ä¿¡æ¯ä¿å­˜ã€‚ç™»å½•æˆåŠŸå°±é€šè¿‡ã€‚</p><p>åœ¨mvcConfigä¸­æ³¨å†Œç»„ä»¶ï¼ŒaddInterceptorsæ–¹æ³•</p><pre class=" language-java"><code class="language-java">registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LoginInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">addPathPatterns</span><span class="token punctuation">(</span><span class="token string">"/**"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span><span class="token string">"/login.html"</span><span class="token punctuation">,</span><span class="token string">"/user/login"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ol start="6"><li>ä¿®æ”¹é¦–é¡µå§“åæ˜¾ç¤º</li></ol><h2 id="å‘˜å·¥åˆ—è¡¨é¡µé¢"><a href="#å‘˜å·¥åˆ—è¡¨é¡µé¢" class="headerlink" title="å‘˜å·¥åˆ—è¡¨é¡µé¢"></a>å‘˜å·¥åˆ—è¡¨é¡µé¢</h2><ol><li><p>è¿›å…¥å‘˜å·¥åˆ—è¡¨é¡µé¢ï¼šç‚¹å‡»å¯¼èˆªï¼Œcontrollerï¼ŒæŸ¥è¯¢æ–¹æ³•æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥ï¼Œrestfulé£æ ¼ï¼šemps getæ–¹æ³•</p></li><li><p>æŠ½å–å…¬å…±é¡µé¢ï¼ˆå°†ä¸¤ä¸ªå¯¼èˆªæ æŠ½å–å‡ºæ¥ï¼‰ï¼š</p><pre><code>th:fragment,&lt;div th:replace="~{commons/bars::topBar}"&gt;&lt;/div&gt;</code></pre></li><li><p>å¯¼èˆªæ ç‚¹å‡»é«˜äº®ï¼šå¼•ç”¨å…¬å…±é¡µé¢æ˜¯ä¼ å€¼</p><pre><code>~{fragmentname::name(uri='xxx')}</code></pre><p>ï¼Œåœ¨é«˜äº®éƒ¨åˆ†åˆ¤æ–­æ˜¯å¦é«˜äº®th:class,ä¸‰å…ƒè¿ç®—ç¬¦</p></li><li><p>æ˜¾ç¤ºçœŸæ­£å‘˜å·¥ä¿¡æ¯ï¼šå°†å‡æ•°æ®åˆ é™¤ï¼Œç”¨th:eachéå†ï¼Œth:textè·å–ã€‚</p></li><li><p>ä¿®æ”¹å‘˜å·¥å‡ºç”Ÿæ—¥æœŸï¼š</p><p>```<br>th:text=â€$</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaEEé…ç½®ç¯å¢ƒ</title>
      <link href="/2020/09/09/javaee/javaee-pei-zhi-huan-jing/"/>
      <url>/2020/09/09/javaee/javaee-pei-zhi-huan-jing/</url>
      
        <content type="html"><![CDATA[<h1 id="JavaEEé…ç½®ç¯å¢ƒ"><a href="#JavaEEé…ç½®ç¯å¢ƒ" class="headerlink" title="JavaEEé…ç½®ç¯å¢ƒ"></a>JavaEEé…ç½®ç¯å¢ƒ</h1><blockquote><p>å¤§å­¦ä¸Šçš„JavaEEè¯¾ç¨‹ï¼Œå› ä¸ºæ¯æ¬¡éœ€è¦é…ç½®ç¯å¢ƒï¼Œè¿™é‡Œæ€»ç»“ä¸€ä¸‹</p></blockquote><h2 id="é…ç½®SqlServer"><a href="#é…ç½®SqlServer" class="headerlink" title="é…ç½®SqlServer"></a>é…ç½®SqlServer</h2><h3 id="ç™»å½•ã€è®¾ç½®"><a href="#ç™»å½•ã€è®¾ç½®" class="headerlink" title="ç™»å½•ã€è®¾ç½®"></a>ç™»å½•ã€è®¾ç½®</h3><ol><li>ç¬¬ä¸€æ¬¡è®¾ç½®ï¼Œéœ€è¦ä½¿ç”¨windowsèº«ä»½ç™»å½•ï¼ŒæœåŠ¡å™¨åç§°ï¼šlocalhost</li><li>ç™»å½•ä¹‹åï¼Œå³é”®ä¸»æ•°æ®åº“ï¼Œä¿®æ”¹éªŒè¯æ¨¡å¼ä¸ºsqlServerï¼Œæ”¹å¯†ç ï¼Œå¼€å¯åŠ¨</li><li>å³é”®æ•°æ®åº“ï¼Œé‡æ–°å¯åŠ¨</li><li>é€€å‡ºsqlServerï¼Œé€‰æ‹©sqlServerè´¦å·å¯†ç ç™»å½•</li></ol><h3 id="å¯¼å‡ºæ•°æ®åº“"><a href="#å¯¼å‡ºæ•°æ®åº“" class="headerlink" title="å¯¼å‡ºæ•°æ®åº“"></a>å¯¼å‡ºæ•°æ®åº“</h3><ol><li><p>å³é”®æ•°æ®åº“ï¼Œä»»åŠ¡ï¼Œåˆ†ç¦»ï¼Œå‹¾é€‰ä¸¤ä¸ª</p></li><li><p>C:ProgramFiles/Mâ€¦Server/MSSQL10.MSS/MSSQL/DATA/ï¼Œæ‰¾åˆ°åˆ†ç¦»çš„æ•°æ®åº“æ–‡ä»¶</p></li></ol><h3 id="å¯¼å…¥æ•°æ®åº“"><a href="#å¯¼å…¥æ•°æ®åº“" class="headerlink" title="å¯¼å…¥æ•°æ®åº“"></a>å¯¼å…¥æ•°æ®åº“</h3><p>å³é”®ä¸»æ•°æ®åº“ï¼Œé™„åŠ ï¼Œæ·»åŠ æ•°æ®åº“æ–‡ä»¶ï¼ˆmdfï¼‰</p><h2 id="é…ç½®Myeclipse"><a href="#é…ç½®Myeclipse" class="headerlink" title="é…ç½®Myeclipse"></a>é…ç½®Myeclipse</h2><h3 id="é…ç½®Tomcat"><a href="#é…ç½®Tomcat" class="headerlink" title="é…ç½®Tomcat"></a>é…ç½®Tomcat</h3><ol><li>windowï¼Œåå¥½è®¾ç½®ï¼Œserverï¼Œé€‰æ‹©tomcatçš„å®‰è£…ç›®å½•</li></ol><h3 id="é…ç½®jre"><a href="#é…ç½®jre" class="headerlink" title="é…ç½®jre"></a>é…ç½®jre</h3><ol><li>windowï¼Œåå¥½è®¾ç½®ï¼Œjreï¼Œé€‰æ‹©jreçš„å®‰è£…ç›®å½•</li></ol><h3 id="è¿æ¥sqlServer"><a href="#è¿æ¥sqlServer" class="headerlink" title="è¿æ¥sqlServer"></a>è¿æ¥sqlServer</h3><ol><li>windowï¼Œopen database</li><li>URLï¼š<code>jdbc:sqlserver://localhost:1433</code></li><li>å¯¼å…¥JaråŒ…,jdbcsql4.jar</li><li>Testæµ‹è¯•</li></ol><blockquote><p>æµ‹è¯•å¤±è´¥ï¼š</p><p>å³é”®æˆ‘çš„ç”µè„‘ï¼Œç®¡ç†ï¼ŒæœåŠ¡ï¼ŒSQLServerï¼Œç½‘ç»œé…ç½®ï¼Œä¸¤ä¸ªçš„TCP/IPå¯åŠ¨ï¼ŒæœåŠ¡ï¼ŒSQLServerï¼ˆMSSã€SQLEXï¼‰é‡æ–°å¯åŠ¨ï¼Œå†æµ‹è¯•</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> JavaEE </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Maven</title>
      <link href="/2020/09/08/util/maven/"/>
      <url>/2020/09/08/util/maven/</url>
      
        <content type="html"><![CDATA[<h2 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h2><h3 id="æ¦‚å¿µï¼šMavené¡¹ç›®å¯¹è±¡æ¨¡å‹-POM-ï¼Œå¯ä»¥é€šè¿‡ä¸€å°æ®µæè¿°ä¿¡æ¯æ¥ç®¡ç†é¡¹ç›®çš„æ„å»ºï¼ŒæŠ¥å‘Šå’Œæ–‡æ¡£çš„é¡¹ç›®ç®¡ç†å·¥å…·è½¯ä»¶"><a href="#æ¦‚å¿µï¼šMavené¡¹ç›®å¯¹è±¡æ¨¡å‹-POM-ï¼Œå¯ä»¥é€šè¿‡ä¸€å°æ®µæè¿°ä¿¡æ¯æ¥ç®¡ç†é¡¹ç›®çš„æ„å»ºï¼ŒæŠ¥å‘Šå’Œæ–‡æ¡£çš„é¡¹ç›®ç®¡ç†å·¥å…·è½¯ä»¶" class="headerlink" title="æ¦‚å¿µï¼šMavené¡¹ç›®å¯¹è±¡æ¨¡å‹(POM)ï¼Œå¯ä»¥é€šè¿‡ä¸€å°æ®µæè¿°ä¿¡æ¯æ¥ç®¡ç†é¡¹ç›®çš„æ„å»ºï¼ŒæŠ¥å‘Šå’Œæ–‡æ¡£çš„é¡¹ç›®ç®¡ç†å·¥å…·è½¯ä»¶"></a>æ¦‚å¿µï¼šMavené¡¹ç›®å¯¹è±¡æ¨¡å‹(POM)ï¼Œå¯ä»¥é€šè¿‡ä¸€å°æ®µæè¿°ä¿¡æ¯æ¥ç®¡ç†é¡¹ç›®çš„æ„å»ºï¼ŒæŠ¥å‘Šå’Œæ–‡æ¡£çš„é¡¹ç›®ç®¡ç†å·¥å…·è½¯ä»¶</h3><ul><li>æ˜¯ä¸€ä¸ªåŸºäºJavaå¹³å°çš„ è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·  make-ant-maven-gradle</li><li>è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·mavenï¼šå°† åŸææ–™ï¼ˆjavaã€jsã€cssã€htmlã€å›¾ç‰‡ï¼‰-&gt;äº§å“ï¼ˆå¯å‘å¸ƒé¡¹ç›®ï¼‰</li><li>ç¼–è¯‘-æ‰“åŒ…-éƒ¨ç½²-æµ‹è¯•   â€“&gt; è‡ªåŠ¨æ„å»º</li></ul><h3 id="ä½œç”¨ï¼š"><a href="#ä½œç”¨ï¼š" class="headerlink" title="ä½œç”¨ï¼š"></a>ä½œç”¨ï¼š</h3><ol><li>å¢åŠ ç¬¬ä¸‰æ–¹JaråŒ…</li><li>jaråŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³» ï¼ˆè‡ªåŠ¨å…³è”ä¸‹è½½æ‰€æœ‰ä¾èµ–çš„Jarï¼Œå¹¶ä¸”ä¸ä¼šå†²çªï¼‰<ul><li>ä¾èµ–ï¼šAä¸­çš„æŸäº›ç±» éœ€è¦ä½¿ç”¨Bä¸­çš„æŸäº›ç±»ï¼Œåˆ™ç§°ä¸ºAä¾èµ–äºB</li><li>åœ¨mavené¡¹ç›®ä¸­ï¼Œå¦‚æœè¦ä½¿ç”¨ ä¸€ä¸ªå½“æ—¶ä¸å­˜åœ¨çš„Jaræˆ–æ¨¡å—ï¼Œåˆ™å¯ä»¥é€šè¿‡ ä¾èµ–å®ç°ï¼ˆå»æœ¬åœ°ä»“åº“ã€ä¸­å¤®ä»“åº“å»å¯»æ‰¾ï¼‰</li></ul></li><li>å°†é¡¹ç›®æ‹†åˆ†æˆè‹¥å¹²ä¸ªæ¨¡å—</li></ol><h3 id="å®ç°çš„åŠŸèƒ½ï¼š"><a href="#å®ç°çš„åŠŸèƒ½ï¼š" class="headerlink" title="å®ç°çš„åŠŸèƒ½ï¼š"></a>å®ç°çš„åŠŸèƒ½ï¼š</h3><ul><li>æ¸…ç†ï¼šåˆ é™¤ç¼–è¯‘çš„ç»“æœï¼Œä¸ºé‡æ–°ç¼–è¯‘åšå‡†å¤‡ã€‚<br>ç¼–è¯‘ï¼šjava-&gt;class<br>æµ‹è¯•ï¼š é’ˆå¯¹äº é¡¹ç›®ä¸­çš„å…³é”®ç‚¹è¿›è¡Œæµ‹è¯•ï¼Œäº¦å¯ç”¨ é¡¹ç›®ä¸­çš„æµ‹è¯•ä»£ç  å»æµ‹è¯•å¼€å‘ä»£ç ï¼›<br>æŠ¥å‘Šï¼šå°†æµ‹è¯•çš„ç»“æœ è¿›è¡Œæ˜¾ç¤º<br>æ‰“åŒ…ï¼š å°†é¡¹ç›®ä¸­åŒ…å«çš„å¤šä¸ªæ–‡ä»¶ å‹ç¼©æˆä¸€ä¸ªæ–‡ä»¶ï¼Œ ç”¨äºå®‰è£…æˆ–éƒ¨ç½²ã€‚ ï¼ˆjavaé¡¹ç›®-jarã€webé¡¹ç›®-warï¼‰<br>å®‰è£…ï¼šå°†æ‰“æˆçš„åŒ…  æ”¾åˆ°  æœ¬åœ°ä»“åº“ï¼Œä¾›å…¶ä»–é¡¹ç›®ä½¿ç”¨ã€‚<br>éƒ¨ç½²ï¼šå°†æ‰“æˆçš„åŒ…  æ”¾åˆ°  æœåŠ¡å™¨ä¸Šå‡†å¤‡è¿è¡Œã€‚<pre><code>--å°†javaã€jsã€jspç­‰å„ä¸ªæ–‡ä»¶ è¿›è¡Œç­›é€‰ã€ç»„è£…ï¼Œå˜æˆä¸€ä¸ª å¯ä»¥ç›´æ¥è¿è¡Œçš„é¡¹ç›®</code></pre><ul><li>æ‰‹åŠ¨éƒ¨ç½²æ–¹å¼ï¼š<ul><li>é€šè¿‡Eclipseä¸­Add and RemoveæŒ‰é’®è¿›è¡Œéƒ¨ç½²</li><li>å°†Webé¡¹ç›®æ‰“æˆä¸€ä¸ªwaråŒ…ï¼Œç„¶åå°†è¯¥waråŒ…å¤åˆ¶åˆ°tomcat/webappsä¸­ å³å¯æ‰§è¡Œè¿è¡Œ</li></ul></li></ul></li></ul><h3 id="ä¸‹è½½é…ç½®ï¼š"><a href="#ä¸‹è½½é…ç½®ï¼š" class="headerlink" title="ä¸‹è½½é…ç½®ï¼š"></a>ä¸‹è½½é…ç½®ï¼š</h3><ol><li>ä¸‹è½½mavenï¼š <a href="http://archive.apache.org/dist/maven/maven-3/">http://archive.apache.org/dist/maven/maven-3/</a> </li><li>é…ç½®JAVA_HOMEï¼ˆmavenæ˜¯åŸºäºjavaçš„å·¥å…·ï¼‰</li><li>é…ç½®MAVEN_HOME/M2_HOME    :    D:\apache-maven-3.5.3</li><li>é…ç½®path ï¼š%MAVEN_HOME%\bin</li><li>éªŒè¯ ï¼šmvn -v</li><li>é…ç½®æœ¬åœ°ä»“åº“  mavenç›®å½•/conf/settings.xml<ul><li>é»˜è®¤æœ¬åœ°ä»“åº“ ï¼šC:/Users/YANQUN/.m2/repository</li><li>ä¿®æ”¹æœ¬åœ°ä»“åº“ï¼š  <localrepository>D:/mvnrep</localrepository></li></ul></li></ol><h3 id="ä½¿ç”¨maven"><a href="#ä½¿ç”¨maven" class="headerlink" title="ä½¿ç”¨maven"></a>ä½¿ç”¨maven</h3><ul><li><p>çº¦å®š ä¼˜äº é…ç½®ï¼ˆçº¦å®šï¼šä½¿ç”¨é»˜è®¤å€¼ï¼‰</p></li><li><p>mavençº¦å®šçš„ç›®å½•ç»“æ„ï¼š</p><ul><li>src<ul><li>mainï¼šç¨‹åºåŠŸèƒ½ä»£ç <ul><li>javaï¼šjavaä»£ç </li><li>resourcesï¼šèµ„æºä»£ç ã€é…ç½®ä»£ç </li></ul></li><li>testï¼šæµ‹è¯•ä»£ç <ul><li>java</li><li>resources</li></ul></li></ul></li><li>pom.xml</li></ul><pre><code>pom.xml:gav:ç”¨äºåœ¨æœ¬åœ°ä»“åº“ä¸­å®šä½    &lt;groupId&gt;åŸŸåç¿»è½¬.å¤§é¡¹ç›®å&lt;/groupId&gt;    &lt;groupId&gt;org.lanqiao.maven&lt;/groupId&gt;    &lt;artifactId&gt;å­æ¨¡å—å&lt;/artifactId&gt;    &lt;artifactId&gt;HelloWorld&lt;/artifactId&gt;    &lt;version&gt;ç‰ˆæœ¬å·&lt;/version&gt;    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;</code></pre></li></ul><h3 id="mavenå¸¸è§å‘½ä»¤ï¼ˆå¿…é¡»åœ¨pom-xmlæ‰€åœ¨ç›®å½•ä¸­æ‰§è¡Œï¼‰"><a href="#mavenå¸¸è§å‘½ä»¤ï¼ˆå¿…é¡»åœ¨pom-xmlæ‰€åœ¨ç›®å½•ä¸­æ‰§è¡Œï¼‰" class="headerlink" title="mavenå¸¸è§å‘½ä»¤ï¼ˆå¿…é¡»åœ¨pom.xmlæ‰€åœ¨ç›®å½•ä¸­æ‰§è¡Œï¼‰"></a>mavenå¸¸è§å‘½ä»¤ï¼ˆå¿…é¡»åœ¨pom.xmlæ‰€åœ¨ç›®å½•ä¸­æ‰§è¡Œï¼‰</h3><p>ï¼ˆç¬¬ä¸€æ¬¡æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œå› ä¸ºéœ€è¦ä¸‹è½½æ‰§è¡Œè¯¥å‘½ä»¤çš„åŸºç¡€ç¯å¢ƒï¼Œæ‰€ä»¥ä¼šä»ä¸­å¤®ä»“åº“ä¸‹è½½è¯¥ç¯å¢ƒåˆ°æœ¬åœ°ä»“åº“ï¼‰</p><ol><li>mvn compile   ç¼–è¯‘â€“åªç¼–è¯‘mainç›®å½•ä¸­çš„javaæ–‡ä»¶</li><li>mvn test     æµ‹è¯•</li><li>mvn package          æ‰“åŒ…jar/war</li><li>mvn install  å°†å¼€å‘çš„æ¨¡å— æ”¾å…¥æœ¬åœ°ä»“åº“ï¼Œä¾›å…¶ä»–æ¨¡å—ä½¿ç”¨ ï¼ˆæ”¾å…¥çš„ä½ç½® æ˜¯é€šè¿‡gavå†³å®šï¼‰</li><li>mvn clean  åˆ é™¤targetç›®å½•ï¼ˆåˆ é™¤ç¼–è¯‘æ–‡ä»¶çš„ç›®å½•ï¼‰</li></ol><h3 id="ä¾èµ–ï¼š"><a href="#ä¾èµ–ï¼š" class="headerlink" title="ä¾èµ–ï¼š"></a>ä¾èµ–ï¼š</h3><p>jaråŒ…ä¾èµ–ï¼š</p><pre><code>&lt;dependency&gt;            &lt;groupId&gt;junit&lt;/groupId&gt;            &lt;artifactId&gt;junit&lt;/artifactId&gt;            &lt;version&gt;4.0&lt;/version&gt;            &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;* versionåŠ¨æ€åŒ–(ç»Ÿä¸€ç‰ˆæœ¬)ï¼š1.    &lt;properties&gt;        &lt;lanqiao.World.junit.version&gt;4.0&lt;/lanqiao.World.junit.version&gt;    &lt;/properties&gt;2.&lt;version&gt;${lanqiao.World.junit.version}&lt;/version&gt;</code></pre><p>å·¥ç¨‹ä¾èµ–ï¼š</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>cn.hm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven_dao<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><ul><li><p><strong>scopeï¼šä¾èµ–èŒƒå›´ï¼Œä¾èµ–çš„æœ‰æ•ˆæ€§</strong></p><ul><li>compile(é»˜è®¤) ï¼šåœ¨ç¼–è¯‘ã€éƒ¨ç½²ï¼ˆè¿è¡Œï¼‰å¯ä»¥è·å¾—è¯¥ä¾èµ–</li><li>testï¼šåœ¨æµ‹è¯•å¯ä»¥è·å¾—è¯¥ä¾èµ–</li><li>providedï¼šåœ¨ç¼–è¯‘ã€æµ‹è¯•å¯ä»¥è·å¾—è¯¥ä¾èµ–</li></ul></li><li><p><strong>ä¾èµ–æ’é™¤</strong></p><p>   A.jar -&gt;B.jar   å½“æˆ‘ä»¬é€šè¿‡mavenå¼•å…¥A.jaræ—¶ï¼Œä¼šè‡ªåŠ¨å¼•å…¥B.jarï¼Œä¸å¼•å…¥ï¼šæ’é™¤ä¾èµ–</p><pre><code>        &lt;!-- æ’é™¤ä¾èµ– beans --&gt;            &lt;exclusions&gt;                &lt;exclusion&gt;                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;                        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;                &lt;/exclusion&gt;            &lt;/exclusions&gt;</code></pre></li><li><p><strong>ä¾èµ–çš„ä¼ é€’æ€§</strong></p><p>â€‹    A.jar-B.jar-&gt;C.jar</p><p>â€‹    è¦ä½¿ A.jar -&gt;C.jar:å½“ä¸”ä»…å½“ B.jar ä¾èµ–äºC.jarçš„èŒƒå›´æ˜¯compile</p></li><li><p><strong>ä¾èµ–åŸåˆ™ï¼šä¸ºäº†é˜²æ­¢å†²çª</strong></p><ul><li><p>è·¯å¾„æœ€çŸ­ä¼˜å…ˆåŸåˆ™ï¼ˆæ‰‹åŠ¨å£°æ˜&gt;é—´æ¥å¼•å…¥ï¼‰</p></li><li><p>è·¯å¾„é•¿åº¦ç›¸åŒï¼š</p><ul><li>ï¼ˆä¸€ä¸ªæ¨¡å—ï¼‰åœ¨åŒä¸€ä¸ªpom.xmlæ–‡ä»¶ä¸­æœ‰2ä¸ªç›¸åŒçš„ä¾èµ–ï¼ˆè¦†ç›–ï¼‰ï¼šåé¢å£°æ˜çš„ä¾èµ– ä¼šè¦†ç›–å‰é¢å£°æ˜çš„ä¾èµ– ï¼ˆä¸¥ç¦ä½¿ç”¨æœ¬æƒ…å†µï¼Œä¸¥ç¦åœ¨åŒä¸€ä¸ªpomä¸­å£°æ˜2ä¸ªç‰ˆæœ¬ä¸åŒçš„ä¾èµ–ï¼‰</li><li>ï¼ˆä¸¤ä¸ªæ¨¡å—ï¼‰å¦‚æœæ˜¯ä¸åŒçš„ pom.xmlä¸­æœ‰2ä¸ªç›¸åŒçš„ä¾èµ–ï¼ˆä¼˜å…ˆï¼‰ï¼šåˆ™å…ˆå£°æ˜çš„ä¾èµ– ï¼Œä¼šè¦†ç›–åå£°æ˜çš„ä¾èµ–</li></ul></li><li><p>ç‰ˆæœ¬é”å®šï¼šä½¿ç”¨dependencyManagementæ ‡ç­¾ï¼Œå°†å…¶åŒ…ç‰ˆæœ¬é”å®šï¼Œä½œç”¨åªæ˜¯é”å®šï¼Œå¹¶ä¸ä¼šå¼•å…¥jaråŒ…ï¼Œå¦‚æœéœ€è¦ç›´æ¥å¼•å…¥JaråŒ…ä¾èµ–å³å¯ï¼Œä¸å†éœ€è¦ç‰ˆæœ¬å·</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--ç‰ˆæœ¬é”å®š--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-beans<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--å¼•å…¥åæ ‡ï¼Œä¸éœ€è¦ç‰ˆæœ¬å·--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-beans<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre></li></ul></li><li><p><strong>å¤šä¸ªmavené¡¹ç›®ï¼ˆæ¨¡å—ï¼‰ä¹‹é—´å¦‚ä½• ä¾èµ–ï¼š pé¡¹ç›® ä¾èµ–äº â€“&gt; qé¡¹ç›®</strong></p><ol><li><p>qé¡¹    ç›® install åˆ°æœ¬åœ°ä»“åº“</p></li><li><p>pé¡¹ç›® ä¾èµ–ï¼š</p><pre><code>        &lt;!-- æœ¬é¡¹ç›®  ä¾èµ–äºHelloWorld2é¡¹ç›® --&gt;          &lt;dependency&gt;               &lt;groupId&gt;org.lanqiao.maven&lt;/groupId&gt;              &lt;artifactId&gt;HelloWorld2&lt;/artifactId&gt;              &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;          &lt;/dependency&gt;</code></pre></li></ol></li></ul><h3 id="èšåˆï¼š"><a href="#èšåˆï¼š" class="headerlink" title="èšåˆï¼š"></a><strong>èšåˆï¼š</strong></h3><ul><li><p>ä½¿ç”¨ï¼š</p><ul><li><p>åœ¨ä¸€ä¸ªæ€»ï¼ˆçˆ¶ï¼‰å·¥ç¨‹ä¸­é…ç½®èšåˆï¼ˆpom.xmlï¼‰</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">></span></span>          <span class="token comment" spellcheck="true">&lt;!--é¡¹ç›®åœ¨æœ¬åœ°ä»“åº“çš„æ ¹è·¯å¾„  --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>../Maven1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>ï¼ˆä¸åˆ†é¡ºåºï¼Œmavenä¼šè‡ªè¡Œåˆ¤æ–­ï¼‰        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>../Maven2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">></span></span></code></pre></li><li><p>ä»¥ååªéœ€è¦æ“ä½œæ€»å·¥ç¨‹å³å¯æ“ä½œèšåˆä¸­çš„å·¥ç¨‹</p></li><li><p>Mavenå°†ä¸€ä¸ªå¤§å·¥ç¨‹æ‹†åˆ†æˆ è‹¥å¹²ä¸ªå­å·¥ç¨‹ï¼ˆå­æ¨¡å—ï¼‰<br>èšåˆå¯ä»¥å°†æ‹†åˆ†çš„å¤šä¸ªå­å·¥ç¨‹ åˆèµ·æ¥</p></li></ul></li></ul><hr><h3 id="åœ¨Eclipseä¸­åˆ›å»ºmavenå·¥ç¨‹ï¼š"><a href="#åœ¨Eclipseä¸­åˆ›å»ºmavenå·¥ç¨‹ï¼š" class="headerlink" title="åœ¨Eclipseä¸­åˆ›å»ºmavenå·¥ç¨‹ï¼š"></a>åœ¨Eclipseä¸­åˆ›å»ºmavenå·¥ç¨‹ï¼š</h3><ol start="0"><li><p>åˆ›å»ºmavenå·¥ç¨‹ï¼šnew Maven Project â€“&gt; ç¬¬ä¸€ä¸ªå‹¾é€‰ä¸Š â€“&gt; gå¤§é¡¹ç›®aé¡¹ç›®åvç‰ˆæœ¬å¡«å†™ï¼ˆé¡¹ç›®åœ¨æœ¬åœ°ä»“åº“çš„å®šä½ï¼‰</p><ul><li>æ‰“åŒ…æ–¹å¼ï¼š<br>javaå·¥ç¨‹â€”â€”jar<br>webé¡¹ç›®-war<br>çˆ¶å·¥ç¨‹-pom</li></ul></li><li><p>åœ¨Eclipseä¸­é…ç½®maven</p><ul><li>é…ç½®mavenç‰ˆæœ¬ï¼šWindow â€“&gt; Preferences â€“&gt; Installations â€“&gt; addï¼ˆæ‰¾mavenå®‰è£…ç›®å½•ï¼‰</li><li>é…ç½®æœ¬åœ°ä»“åº“  ï¼š  è®¾ç½®settings.xmlï¼ˆWindow â€“&gt; Preferences â€“&gt; User Settings â€“&gt;Browserï¼ˆæ‰¾settings.xmlï¼‰ï¼‰</li><li>åœ¨pom.xmlä¸­ç¼–å†™ä¾èµ–ï¼Œç¼–å†™åéœ€è¦æ›´æ–°mavenï¼šmaven-update project</li><li>æ‰§è¡Œå‘½ä»¤ï¼šå³é”®pom.xml â€“&gt;  Run As â€“&gt; Maven Build â€¦ â€”&gt;Goals:å†™å‘½ä»¤ï¼ˆtest/compileâ€¦ï¼‰</li></ul></li><li><p>mavenç”Ÿå‘½å‘¨æœŸ:</p><ul><li><p>ç”Ÿå‘½å‘¨æœŸå’Œæ„å»ºçš„å…³ç³»ï¼š</p><pre><code>ç”Ÿå‘½å‘¨æœŸä¸­çš„é¡ºåºï¼ša b c d e   å½“æˆ‘ä»¬æ‰§è¡Œcå‘½ä»¤ï¼Œåˆ™å®é™…æ‰§è¡Œçš„æ˜¯ a b c </code></pre></li><li><p>ç”Ÿå‘½å‘¨æœŸåŒ…å«çš„é˜¶æ®µï¼š3ä¸ªé˜¶æ®µ</p><ul><li><p>clean lifecycle ï¼šæ¸…ç†</p><pre><code>pre-clean  clean  post-clearn</code></pre></li><li><p>default lifecycle ï¼šé»˜è®¤(å¸¸ç”¨)</p></li><li><p>site lifecycleï¼šç«™ç‚¹</p><pre><code>pre-site   site   post-site site-deploy</code></pre></li></ul></li></ul></li><li><p>ä¿®æ”¹é¡¹ç›®çš„jdkï¼š</p><ul><li><p>build path:åˆ é™¤æ—§ç‰ˆæœ¬ï¼Œå¢åŠ æ–°ç‰ˆæœ¬</p></li><li><p>å³é”®é¡¹ç›®-å±æ€§-Project Factors -java version æ”¹ç‰ˆæœ¬  ï¼ˆä¹‹å‰å­˜åœ¨è¦æ”¹çš„ç‰ˆæœ¬ï¼‰</p></li><li><p><strong>é€šè¿‡mavenç»Ÿä¸€jdkç‰ˆæœ¬ï¼š</strong></p><pre class=" language-xml"><code class="language-xml">pom.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profiles</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>jdk-18<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activation</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeByDefault</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeByDefault</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdk</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdk</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activation</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.compilerVersion</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.compilerVersion</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profiles</span><span class="token punctuation">></span></span></code></pre></li></ul></li></ol><hr><h3 id="åœ¨Ideaä¸­åˆ›å»ºmavenå·¥ç¨‹ï¼š"><a href="#åœ¨Ideaä¸­åˆ›å»ºmavenå·¥ç¨‹ï¼š" class="headerlink" title="åœ¨Ideaä¸­åˆ›å»ºmavenå·¥ç¨‹ï¼š"></a>åœ¨Ideaä¸­åˆ›å»ºmavenå·¥ç¨‹ï¼š</h3><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/maven1.png" alt="image-20200513175044486" style="zoom:80%;">    <h3 id="webé¡¹ç›®éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨"><a href="#webé¡¹ç›®éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨" class="headerlink" title="webé¡¹ç›®éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨"></a>webé¡¹ç›®éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨</h3><ul><li><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/maven2.png" alt="image-20200514231320783" style="zoom:50%;"></li><li><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/maven3.png" alt="image-20200514231539778" style="zoom:50%;"></li></ul><h3 id="mavené¡¹ç›®ç»“æ„"><a href="#mavené¡¹ç›®ç»“æ„" class="headerlink" title="mavené¡¹ç›®ç»“æ„"></a>mavené¡¹ç›®ç»“æ„</h3><ul><li><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/maven4.png" alt="image-20200514231942559"></li><li>åˆ›å»ºå­æ¨¡å—<img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/maven5.png" alt="image-20200514232323293" style="zoom: 67%;"></li><li><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/maven6.png" alt="image-20200514232617772" style="zoom:67%;"></li><li></li></ul><hr><h3 id="ç»§æ‰¿å®ç°æ­¥éª¤ï¼šï¼ˆç”¨äºç»Ÿä¸€jaråŒ…ç‰ˆæœ¬ï¼‰"><a href="#ç»§æ‰¿å®ç°æ­¥éª¤ï¼šï¼ˆç”¨äºç»Ÿä¸€jaråŒ…ç‰ˆæœ¬ï¼‰" class="headerlink" title="ç»§æ‰¿å®ç°æ­¥éª¤ï¼šï¼ˆç”¨äºç»Ÿä¸€jaråŒ…ç‰ˆæœ¬ï¼‰"></a>ç»§æ‰¿å®ç°æ­¥éª¤ï¼šï¼ˆç”¨äºç»Ÿä¸€jaråŒ…ç‰ˆæœ¬ï¼‰</h3><ol><li><p>.å»ºç«‹çˆ¶å·¥ç¨‹ï¼š çˆ¶å·¥ç¨‹çš„æ‰“åŒ…æ–¹å¼å¿…é¡»ä¸ºpom </p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.lanqiao.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.0.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span></code></pre></li><li><p>åœ¨çˆ¶å·¥ç¨‹çš„pom.xmlä¸­ç¼–å†™ä¾èµ–ï¼š</p><p>é€šå¸¸çˆ¶å·¥ç¨‹ä¸å¯¼å…¥JaråŒ…ï¼Œåªè¿›è¡Œç‰ˆæœ¬é”å®šï¼Œå­å·¥ç¨‹ç›´æ¥å¯¼å…¥jaråŒ…å³å¯</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></code></pre></li><li><p>å­ç±»:</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- ç»™å½“å‰å·¥ç¨‹ ç»§æ‰¿ä¸€ä¸ªçˆ¶å·¥ç¨‹ï¼š1.åŠ å…¥çˆ¶å·¥ç¨‹åæ ‡gav   2.å½“å‰å·¥ç¨‹çš„Pom.xmlåˆ°çˆ¶å·¥ç¨‹çš„Pom.xmlä¹‹é—´çš„ ç›¸å¯¹è·¯å¾„  --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>          <span class="token comment" spellcheck="true">&lt;!-- 1åŠ å…¥çˆ¶å·¥ç¨‹åæ ‡gav --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.lanqiao.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.0.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>         <span class="token comment" spellcheck="true">&lt;!-- 2å½“å‰å·¥ç¨‹çš„Pom.xmlåˆ°çˆ¶å·¥ç¨‹çš„Pom.xmlä¹‹é—´çš„ ç›¸å¯¹è·¯å¾„ï¼Œè¯¥æ ‡ç­¾å¯çœ --></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">></span></span>../B/pom.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>relativePath</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span></code></pre></li><li><p>åœ¨å­ç±»ä¸­ éœ€è¦å£°æ˜ ï¼šä½¿ç”¨çˆ¶ç±»çš„å“ªäº›ä¾èµ–</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- å£°æ˜ï¼šéœ€è¦ä½¿ç”¨åˆ°çˆ¶ç±»çš„junit ï¼ˆåªéœ€è¦gaï¼‰ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></li></ol><hr><h3 id="éƒ¨ç½²Webå·¥ç¨‹ï¼šwar"><a href="#éƒ¨ç½²Webå·¥ç¨‹ï¼šwar" class="headerlink" title="éƒ¨ç½²Webå·¥ç¨‹ï¼šwar"></a>éƒ¨ç½²Webå·¥ç¨‹ï¼šwar</h3><ul><li><p>å®é™…å¼€å‘ä¸­ï¼Œå¼€å‘äººå‘˜ å°†è‡ªå·±çš„é¡¹ç›®å¼€å‘å®Œæ¯•å  æ‰“æˆwaråŒ…(package) äº¤ç»™å®æ–½äººå‘˜å»éƒ¨ç½²</p></li><li><p>é€šè¿‡mavenç›´æ¥éƒ¨ç½²è¿è¡Œwebé¡¹ç›®ï¼ˆäº†è§£ï¼‰ï¼š</p><ol><li>åœ¨pom.xmlä¸­é…ç½®cargo</li><li>mavenå‘½ä»¤å‘å¸ƒï¼šdeploy</li></ol></li></ul><hr><h3 id="Mavenå·¥ç¨‹åˆ›å»ºwebé¡¹ç›®"><a href="#Mavenå·¥ç¨‹åˆ›å»ºwebé¡¹ç›®" class="headerlink" title="Mavenå·¥ç¨‹åˆ›å»ºwebé¡¹ç›®"></a>Mavenå·¥ç¨‹åˆ›å»ºwebé¡¹ç›®</h3><ol><li><p>ä¸ä½¿ç”¨éª¨æ¶åˆ›å»ºæ™®é€šé¡¹ç›®</p></li><li><p>é€‰æ‹©å·¥ç¨‹</p></li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/7X0Q0U4~W14G6XASLJO%7D~XG.png" alt="img"></p><ol start="3"><li>å¢åŠ webapp</li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/L%60I%7DP%EPT4TJ475$OBSVEP5.png" alt="img"></p><p>4.æ‰“æˆWaråŒ…</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/mavenwar1.png" alt="war"></p><h3 id="åˆ†æ¨¡å—å¼€å‘mavenå·¥ç¨‹"><a href="#åˆ†æ¨¡å—å¼€å‘mavenå·¥ç¨‹" class="headerlink" title="åˆ†æ¨¡å—å¼€å‘mavenå·¥ç¨‹"></a>åˆ†æ¨¡å—å¼€å‘mavenå·¥ç¨‹</h3><ol><li><p>æ„å»ºå·¥ç¨‹</p><ol><li><p>åˆ›å»ºçˆ¶å·¥ç¨‹</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span></code></pre></li><li><p>åˆ›å»ºå­å·¥ç¨‹ï¼Œç»§æ‰¿äºçˆ¶å·¥ç¨‹</p><pre class=" language-xml"><code class="language-xml">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>          <span class="token comment" spellcheck="true">&lt;!-- 1åŠ å…¥çˆ¶å·¥ç¨‹åæ ‡gav --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.lanqiao.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.0.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>         <span class="token comment" spellcheck="true">&lt;!-- 2å½“å‰å·¥ç¨‹çš„Pom.xmlåˆ°çˆ¶å·¥ç¨‹çš„Pom.xmlä¹‹é—´çš„ ç›¸å¯¹è·¯å¾„ï¼Œè¯¥æ ‡ç­¾å¯çœ --></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">></span></span>../B/pom.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>relativePath</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span></code></pre></li><li><p>åœ¨çˆ¶å·¥ç¨‹ä¸­ï¼Œèšåˆæ‰€æœ‰å­å·¥ç¨‹</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">></span></span>          <span class="token comment" spellcheck="true">&lt;!--é¡¹ç›®åœ¨æœ¬åœ°ä»“åº“çš„æ ¹è·¯å¾„  --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>../Maven1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>ï¼ˆä¸åˆ†é¡ºåºï¼Œmavenä¼šè‡ªè¡Œåˆ¤æ–­ï¼‰        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>../Maven2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">></span></span></code></pre></li><li><p>åœ¨çˆ¶å·¥ç¨‹ä¸­ï¼Œè¿›è¡Œç‰ˆæœ¬é”å®š</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></code></pre></li><li><p>å­å·¥ç¨‹å¯¼å…¥jaråŒ…ï¼Œå­å·¥ç¨‹ç›¸äº’ä¾èµ–</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>cn.hm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven_dao<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></li></ol></li><li><p>å®Œå–„ä»£ç </p><p>å°†æ¯ä¸ªéƒ¨åˆ†çš„ä»£ç å®Œå–„ï¼Œéœ€è¦å¼•å…¥JaråŒ…çš„åœ¨å­å·¥ç¨‹å¼•å…¥</p></li><li><p>éƒ¨ç½²åˆ°tomcat</p><p>å¦‚ï¼šSSMä¸­ï¼Œçˆ¶å·¥ç¨‹ä¸­æœ‰å­å·¥ç¨‹ï¼špojoã€daoã€serviceã€web</p><p>å…¶ä¸­çˆ¶å·¥ç¨‹æ˜¯pomæ‰“åŒ…æ–¹å¼ï¼Œwebæ˜¯waråŒ…æ–¹å¼ï¼Œå…¶ä»–ä¸ºjaråŒ…æ–¹å¼</p><p><strong>éƒ¨ç½²tomcatçš„æ˜¯webå­å·¥ç¨‹</strong></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·</title>
      <link href="/2020/09/07/util/git-fen-bu-shi-ban-ben-kong-zhi-gong-ju/"/>
      <url>/2020/09/07/util/git-fen-bu-shi-ban-ben-kong-zhi-gong-ju/</url>
      
        <content type="html"><![CDATA[<h2 id="Gitåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·"><a href="#Gitåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·" class="headerlink" title="Gitåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·"></a>Gitåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·</h2><h2 id="1-Gitæ¦‚è¿°"><a href="#1-Gitæ¦‚è¿°" class="headerlink" title="1. Gitæ¦‚è¿°"></a>1. Gitæ¦‚è¿°</h2><h3 id="1-1-Gitä¼˜åŠ¿"><a href="#1-1-Gitä¼˜åŠ¿" class="headerlink" title="1.1 Gitä¼˜åŠ¿"></a>1.1 Gitä¼˜åŠ¿</h3><p> é€Ÿåº¦</p><p> ç®€å•çš„è®¾è®¡</p><p> å¯¹éçº¿æ€§å¼€å‘æ¨¡å¼çš„å¼ºåŠ›æ”¯æŒï¼ˆå…è®¸æˆåƒä¸Šä¸‡ä¸ªå¹¶è¡Œå¼€å‘çš„åˆ†æ”¯ï¼‰</p><p> å®Œå…¨åˆ†å¸ƒå¼</p><p> æœ‰èƒ½åŠ›é«˜æ•ˆç®¡ç†ç±»ä¼¼ Linux å†…æ ¸ä¸€æ ·çš„è¶…å¤§è§„æ¨¡é¡¹ç›®ï¼ˆé€Ÿåº¦å’Œæ•°æ®é‡ï¼‰</p><h3 id="1-2-Gitä¸SVNå¯¹æ¯”"><a href="#1-2-Gitä¸SVNå¯¹æ¯”" class="headerlink" title="1.2 Gitä¸SVNå¯¹æ¯”"></a>1.2 Gitä¸SVNå¯¹æ¯”</h3><p>SVNæ˜¯é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç‰ˆæœ¬åº“æ˜¯é›†ä¸­æ”¾åœ¨ä¸­å¤®æœåŠ¡å™¨çš„ï¼Œè€Œå¼€å‘äººå‘˜å·¥ä½œçš„æ—¶å€™ï¼Œç”¨çš„éƒ½æ˜¯è‡ªå·±çš„ç”µè„‘ï¼Œæ‰€ä»¥é¦–å…ˆè¦ä»ä¸­å¤®æœåŠ¡å™¨ä¸‹è½½æœ€æ–°çš„ç‰ˆæœ¬ï¼Œç„¶åå¼€å‘ï¼Œå¼€å‘å®Œåï¼Œéœ€è¦æŠŠè‡ªå·±å¼€å‘çš„ä»£ç æäº¤åˆ°ä¸­å¤®æœåŠ¡å™¨ã€‚</p><p>é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·ç¼ºç‚¹ï¼š</p><p>  æœåŠ¡å™¨å•ç‚¹æ•…éšœ</p><p>  å®¹é”™æ€§å·®</p><p>Gitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆDistributed Version Control Systemï¼Œç®€ç§° DVCSï¼‰ ï¼Œåˆ†ä¸ºä¸¤ç§ç±»å‹çš„ä»“åº“ï¼š</p><p>æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“</p><p>æœ¬åœ°ä»“åº“ï¼šæ˜¯åœ¨å¼€å‘äººå‘˜è‡ªå·±ç”µè„‘ä¸Šçš„Gitä»“åº“        </p><p>è¿œç¨‹ä»“åº“ï¼šæ˜¯åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„Gitä»“åº“</p><p>Cloneï¼šå…‹éš†ï¼Œå°±æ˜¯å°†è¿œç¨‹ä»“åº“å¤åˆ¶åˆ°æœ¬åœ°</p><p>Pushï¼šæ¨é€ï¼Œå°±æ˜¯å°†æœ¬åœ°ä»“åº“ä»£ç ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“</p><p>Pullï¼šæ‹‰å–ï¼Œå°±æ˜¯å°†è¿œç¨‹ä»“åº“ä»£ç ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git2.png" alt="å›¾ç‰‡2"></p><h3 id="1-3-Gitå·¥ä½œæµç¨‹"><a href="#1-3-Gitå·¥ä½œæµç¨‹" class="headerlink" title="1.3 Gitå·¥ä½œæµç¨‹"></a>1.3 Gitå·¥ä½œæµç¨‹</h3><p>å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p><p>1ï¼ä»è¿œç¨‹ä»“åº“ä¸­å…‹éš†ä»£ç åˆ°æœ¬åœ°ä»“åº“</p><p>2ï¼ä»æœ¬åœ°ä»“åº“ä¸­checkoutä»£ç ç„¶åè¿›è¡Œä»£ç ä¿®æ”¹</p><p>3ï¼åœ¨æäº¤å‰å…ˆå°†ä»£ç æäº¤åˆ°æš‚å­˜åŒº</p><p>4ï¼æäº¤åˆ°æœ¬åœ°ä»“åº“ã€‚æœ¬åœ°ä»“åº“ä¸­ä¿å­˜ä¿®æ”¹çš„å„ä¸ªå†å²ç‰ˆæœ¬</p><p>5ï¼ä¿®æ”¹å®Œæˆåï¼Œéœ€è¦å’Œå›¢é˜Ÿæˆå‘˜å…±äº«ä»£ç æ—¶ï¼Œå°†ä»£ç pushåˆ°è¿œç¨‹ä»“åº“</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git3.png" alt="å›¾ç‰‡3"></p><h3 id="1-4-Gitä¸‹è½½ä¸å®‰è£…"><a href="#1-4-Gitä¸‹è½½ä¸å®‰è£…" class="headerlink" title="1.4 Gitä¸‹è½½ä¸å®‰è£…"></a>1.4 Gitä¸‹è½½ä¸å®‰è£…</h3><p>ä¸‹è½½åœ°å€ï¼š <a href="https://git-scm.com/download">https://git-scm.com/download</a></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git4.png" alt="å›¾ç‰‡4"></p><p>ä¸‹è½½å®Œæˆåå¯ä»¥å¾—åˆ°å¦‚ä¸‹å®‰è£…æ–‡ä»¶ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git5.png" alt="å›¾ç‰‡5"></p><h2 id="2-Gitä»£ç æ‰˜ç®¡æœåŠ¡"><a href="#2-Gitä»£ç æ‰˜ç®¡æœåŠ¡" class="headerlink" title="2. Gitä»£ç æ‰˜ç®¡æœåŠ¡"></a>2. Gitä»£ç æ‰˜ç®¡æœåŠ¡</h2><h3 id="2-1-å¸¸ç”¨çš„Gitä»£ç æ‰˜ç®¡æœåŠ¡"><a href="#2-1-å¸¸ç”¨çš„Gitä»£ç æ‰˜ç®¡æœåŠ¡" class="headerlink" title="2.1 å¸¸ç”¨çš„Gitä»£ç æ‰˜ç®¡æœåŠ¡"></a>2.1 å¸¸ç”¨çš„Gitä»£ç æ‰˜ç®¡æœåŠ¡</h3><p>å‰é¢æˆ‘ä»¬å·²ç»çŸ¥é“äº†Gitä¸­å­˜åœ¨ä¸¤ç§ç±»å‹çš„ä»“åº“ï¼Œå³æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ­å»ºGitè¿œç¨‹ä»“åº“å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å€ŸåŠ©äº’è”ç½‘ä¸Šæä¾›çš„ä¸€äº›ä»£ç æ‰˜ç®¡æœåŠ¡æ¥å®ç°ï¼Œå…¶ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æœ‰GitHubã€ç äº‘ã€GitLabç­‰ã€‚</p><p>gitHubï¼ˆ åœ°å€ï¼š<a href="https://github.com/">https://github.com/</a> ï¼‰æ˜¯ä¸€ä¸ªé¢å‘å¼€æºåŠç§æœ‰è½¯ä»¶é¡¹ç›®çš„æ‰˜ç®¡å¹³å°ï¼Œå› ä¸ºåªæ”¯æŒGit ä½œä¸ºå”¯ä¸€çš„ç‰ˆæœ¬åº“æ ¼å¼è¿›è¡Œæ‰˜ç®¡ï¼Œæ•…ågitHub</p><p>ç äº‘ï¼ˆåœ°å€ï¼š <a href="https://gitee.com/">https://gitee.com/</a> ï¼‰æ˜¯å›½å†…çš„ä¸€ä¸ªä»£ç æ‰˜ç®¡å¹³å°ï¼Œç”±äºæœåŠ¡å™¨åœ¨å›½å†…ï¼Œæ‰€ä»¥ç›¸æ¯”äºGitHubï¼Œç äº‘é€Ÿåº¦ä¼šæ›´å¿«</p><p>GitLab ï¼ˆåœ°å€ï¼š <a href="https://about.gitlab.com/">https://about.gitlab.com/</a> ï¼‰æ˜¯ä¸€ä¸ªç”¨äºä»“åº“ç®¡ç†ç³»ç»Ÿçš„å¼€æºé¡¹ç›®ï¼Œä½¿ç”¨Gitä½œä¸ºä»£ç ç®¡ç†å·¥å…·ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„webæœåŠ¡</p><h3 id="2-2-åœ¨ç äº‘æ³¨å†Œè´¦å·"><a href="#2-2-åœ¨ç äº‘æ³¨å†Œè´¦å·" class="headerlink" title="2.2 åœ¨ç äº‘æ³¨å†Œè´¦å·"></a>2.2 åœ¨ç äº‘æ³¨å†Œè´¦å·</h3><p>è¦æƒ³ä½¿ç”¨ç äº‘çš„ç›¸å…³æœåŠ¡ï¼Œéœ€è¦æ³¨å†Œè´¦å·ï¼ˆåœ°å€ï¼š <a href="https://gitee.com/signup">https://gitee.com/signup</a> ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git6.png" alt="å›¾ç‰‡6"></p><h3 id="2-3-ç™»å½•ç äº‘å¹¶åˆ›å»ºGitè¿œç¨‹ä»“åº“"><a href="#2-3-ç™»å½•ç äº‘å¹¶åˆ›å»ºGitè¿œç¨‹ä»“åº“" class="headerlink" title="2.3 ç™»å½•ç äº‘å¹¶åˆ›å»ºGitè¿œç¨‹ä»“åº“"></a>2.3 ç™»å½•ç äº‘å¹¶åˆ›å»ºGitè¿œç¨‹ä»“åº“</h3><p>æ³¨å†Œå®Œæˆåå°±å¯ä»¥ä½¿ç”¨åˆšåˆšæ³¨å†Œçš„é‚®ç®±è¿›è¡Œç™»å½•ï¼ˆåœ°å€ï¼š <a href="https://gitee.com/login">https://gitee.com/login</a> ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git7.png" alt="å›¾ç‰‡7"></p><p>ç™»å½•æˆåŠŸåå°±å¯ä»¥åˆ›å»ºGitè¿œç¨‹ä»“åº“</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git8.png" alt="å›¾ç‰‡8"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git9.png" alt="å›¾ç‰‡9"></p><p>åˆ›å»ºå®Œæˆåå¯ä»¥æŸ¥çœ‹ä»“åº“ä¿¡æ¯</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git10.png" alt="å›¾ç‰‡10"></p><p>æ¯ä¸ªGitè¿œç¨‹ä»“åº“éƒ½ä¼šå¯¹åº”ä¸€ä¸ªç½‘ç»œåœ°å€ï¼Œå¯ä»¥ç‚¹å‡»å…‹éš†/ä¸‹è½½æŒ‰é’®å¼¹å‡ºçª—å£å¹¶ç‚¹å‡»å¤åˆ¶æŒ‰é’®è·å¾—è¿™ä¸ªç½‘ç»œåœ°å€</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git11.png" alt="å›¾ç‰‡11"></p><p>æˆ‘ä»¬å½“å‰åˆ›å»ºçš„Gitè¿œç¨‹ä»“åº“å¯¹åº”çš„åœ°å€ä¸ºï¼š<a href="https://gitee.com/ChuanZhiBoKe/myGitRepo.git">https://gitee.com/ChuanZhiBoKe/myGitRepo.git</a></p><h3 id="2-4-é‚€è¯·å…¶ä»–ç”¨æˆ·æˆä¸ºä»“åº“æˆå‘˜"><a href="#2-4-é‚€è¯·å…¶ä»–ç”¨æˆ·æˆä¸ºä»“åº“æˆå‘˜" class="headerlink" title="2.4 é‚€è¯·å…¶ä»–ç”¨æˆ·æˆä¸ºä»“åº“æˆå‘˜"></a>2.4 é‚€è¯·å…¶ä»–ç”¨æˆ·æˆä¸ºä»“åº“æˆå‘˜</h3><p>å‰é¢å·²ç»åœ¨ç äº‘ä¸Šåˆ›å»ºäº†è‡ªå·±çš„è¿œç¨‹ä»“åº“ï¼Œç›®å‰ä»“åº“æˆå‘˜åªæœ‰è‡ªå·±ä¸€ä¸ªäººï¼ˆèº«ä»½ä¸ºç®¡ç†å‘˜ï¼‰ã€‚åœ¨ä¼ä¸šå®é™…å¼€å‘ä¸­ï¼Œä¸€ä¸ªé¡¹ç›®å¾€å¾€æ˜¯ç”±å¤šä¸ªäººå…±åŒå¼€å‘å®Œæˆçš„ï¼Œä¸ºäº†ä½¿å¤šä¸ªå‚ä¸è€…éƒ½æœ‰æƒé™æ“ä½œè¿œç¨‹ä»“åº“ï¼Œå°±éœ€è¦é‚€è¯·å…¶ä»–é¡¹ç›®å‚ä¸è€…æˆä¸ºå½“å‰ä»“åº“çš„æˆå‘˜ã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git12.png" alt="å›¾ç‰‡12"></p><h2 id="3-Gitå¸¸ç”¨å‘½ä»¤"><a href="#3-Gitå¸¸ç”¨å‘½ä»¤" class="headerlink" title="3. Gitå¸¸ç”¨å‘½ä»¤"></a>3. Gitå¸¸ç”¨å‘½ä»¤</h2><h3 id="3-1-ç¯å¢ƒé…ç½®"><a href="#3-1-ç¯å¢ƒé…ç½®" class="headerlink" title="3.1 ç¯å¢ƒé…ç½®"></a>3.1 ç¯å¢ƒé…ç½®</h3><p>å½“å®‰è£…Gitåé¦–å…ˆè¦åšçš„äº‹æƒ…æ˜¯è®¾ç½®ç”¨æˆ·åç§°å’Œemailåœ°å€ã€‚è¿™æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºæ¯æ¬¡Gitæäº¤éƒ½ä¼šä½¿ç”¨è¯¥ç”¨æˆ·ä¿¡æ¯</p><p>è®¾ç½®ç”¨æˆ·ä¿¡æ¯ </p><p>   git config â€“global user.name â€œitcastâ€</p><p>   git config â€“global user.email â€œ<a href="mailto:hello@itcast.cn">hello@itcast.cn</a>â€</p><p>æŸ¥çœ‹é…ç½®ä¿¡æ¯</p><p>   git config â€“list</p><p>   git config user.name</p><p>é€šè¿‡ä¸Šé¢çš„å‘½ä»¤è®¾ç½®çš„ä¿¡æ¯ä¼šä¿å­˜åœ¨~/.gitconfigæ–‡ä»¶ä¸­</p><h3 id="3-2-è·å–Gitä»“åº“"><a href="#3-2-è·å–Gitä»“åº“" class="headerlink" title="3.2 è·å–Gitä»“åº“"></a>3.2 è·å–Gitä»“åº“</h3><p>è¦ä½¿ç”¨Gitå¯¹æˆ‘ä»¬çš„ä»£ç è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œé¦–å…ˆéœ€è¦è·å¾—Gitä»“åº“</p><p>è·å–Gitä»“åº“é€šå¸¸æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><p>  åœ¨æœ¬åœ°åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“</p><p>  ä»è¿œç¨‹ä»“åº“å…‹éš†</p><h4 id="3-2-1åœ¨æœ¬åœ°åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“"><a href="#3-2-1åœ¨æœ¬åœ°åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“" class="headerlink" title="3.2.1åœ¨æœ¬åœ°åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“"></a>3.2.1åœ¨æœ¬åœ°åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“</h4><p>æ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><p>åœ¨ç”µè„‘çš„ä»»æ„ä½ç½®åˆ›å»ºä¸€ä¸ªç©ºç›®å½•ï¼ˆä¾‹å¦‚repo1ï¼‰ä½œä¸ºæˆ‘ä»¬çš„æœ¬åœ°Gitä»“åº“</p></li><li><p>è¿›å…¥è¿™ä¸ªç›®å½•ä¸­ï¼Œç‚¹å‡»å³é”®æ‰“å¼€Git bashçª—å£</p></li><li><p>æ‰§è¡Œå‘½ä»¤git init</p></li></ol><p>å¦‚æœåœ¨å½“å‰ç›®å½•ä¸­çœ‹åˆ°.gitæ–‡ä»¶å¤¹ï¼ˆæ­¤æ–‡ä»¶å¤¹ä¸ºéšè—æ–‡ä»¶å¤¹ï¼‰åˆ™è¯´æ˜Gitä»“åº“åˆ›å»ºæˆåŠŸ</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git13.png" alt="å›¾ç‰‡13"></p><h4 id="3-2-2ä»è¿œç¨‹ä»“åº“å…‹éš†"><a href="#3-2-2ä»è¿œç¨‹ä»“åº“å…‹éš†" class="headerlink" title="3.2.2ä»è¿œç¨‹ä»“åº“å…‹éš†"></a>3.2.2ä»è¿œç¨‹ä»“åº“å…‹éš†</h4><p>å¯ä»¥é€šè¿‡Gitæä¾›çš„å‘½ä»¤ä»è¿œç¨‹ä»“åº“è¿›è¡Œå…‹éš†ï¼Œå°†è¿œç¨‹ä»“åº“å…‹éš†åˆ°æœ¬åœ°</p><p>å‘½ä»¤å½¢å¼ä¸ºï¼šgit clone è¿œç¨‹Gitä»“åº“åœ°å€ </p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git14.png" alt="å›¾ç‰‡14"></p><h3 id="3-3å·¥ä½œç›®å½•ã€æš‚å­˜åŒºä»¥åŠç‰ˆæœ¬åº“æ¦‚å¿µ"><a href="#3-3å·¥ä½œç›®å½•ã€æš‚å­˜åŒºä»¥åŠç‰ˆæœ¬åº“æ¦‚å¿µ" class="headerlink" title="3.3å·¥ä½œç›®å½•ã€æš‚å­˜åŒºä»¥åŠç‰ˆæœ¬åº“æ¦‚å¿µ"></a>3.3å·¥ä½œç›®å½•ã€æš‚å­˜åŒºä»¥åŠç‰ˆæœ¬åº“æ¦‚å¿µ</h3><p>ä¸ºäº†æ›´å¥½çš„å­¦ä¹ Gitï¼Œæˆ‘ä»¬éœ€è¦äº†è§£Gitç›¸å…³çš„ä¸€äº›æ¦‚å¿µï¼Œè¿™äº›æ¦‚å¿µåœ¨åé¢çš„å­¦ä¹ ä¸­ä¼šç»å¸¸æåˆ°</p><p><strong>ç‰ˆæœ¬åº“</strong>ï¼šå‰é¢çœ‹åˆ°çš„.gitéšè—æ–‡ä»¶å¤¹å°±æ˜¯ç‰ˆæœ¬åº“ï¼Œç‰ˆæœ¬åº“ä¸­å­˜å‚¨äº†å¾ˆå¤šé…ç½®ä¿¡æ¯ã€æ—¥å¿—ä¿¡æ¯å’Œæ–‡ä»¶ç‰ˆæœ¬ä¿¡æ¯ç­‰</p><p><strong>å·¥ä½œç›®å½•ï¼ˆå·¥ä½œåŒºï¼‰</strong>ï¼šåŒ…å«.gitæ–‡ä»¶å¤¹çš„ç›®å½•å°±æ˜¯å·¥ä½œç›®å½•ï¼Œä¸»è¦ç”¨äºå­˜æ”¾å¼€å‘çš„ä»£ç </p><p><strong>æš‚å­˜åŒº</strong>ï¼š.gitæ–‡ä»¶å¤¹ä¸­æœ‰å¾ˆå¤šæ–‡ä»¶ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªindexæ–‡ä»¶å°±æ˜¯æš‚å­˜åŒºï¼Œä¹Ÿå¯ä»¥å«åšstageã€‚æš‚å­˜åŒºæ˜¯ä¸€ä¸ªä¸´æ—¶ä¿å­˜ä¿®æ”¹æ–‡ä»¶çš„åœ°æ–¹</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git15.png" alt="å›¾ç‰‡15"></p><h3 id="3-4-Gitå·¥ä½œç›®å½•ä¸‹æ–‡ä»¶çš„ä¸¤ç§çŠ¶æ€"><a href="#3-4-Gitå·¥ä½œç›®å½•ä¸‹æ–‡ä»¶çš„ä¸¤ç§çŠ¶æ€" class="headerlink" title="3.4 Gitå·¥ä½œç›®å½•ä¸‹æ–‡ä»¶çš„ä¸¤ç§çŠ¶æ€"></a>3.4 Gitå·¥ä½œç›®å½•ä¸‹æ–‡ä»¶çš„ä¸¤ç§çŠ¶æ€</h3><p>Gitå·¥ä½œç›®å½•ä¸‹çš„æ–‡ä»¶å­˜åœ¨ä¸¤ç§çŠ¶æ€ï¼š</p><p>  untracked æœªè·Ÿè¸ªï¼ˆæœªè¢«çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼‰</p><p>  tracked å·²è·Ÿè¸ªï¼ˆè¢«çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼‰</p><p>â€‹        Unmodified æœªä¿®æ”¹çŠ¶æ€</p><p>â€‹        Modified å·²ä¿®æ”¹çŠ¶æ€</p><p>â€‹        Staged å·²æš‚å­˜çŠ¶æ€</p><p>è¿™äº›æ–‡ä»¶çš„çŠ¶æ€ä¼šéšç€æˆ‘ä»¬æ‰§è¡ŒGitçš„å‘½ä»¤å‘ç”Ÿå˜åŒ–</p><h3 id="3-5-æœ¬åœ°ä»“åº“æ“ä½œ"><a href="#3-5-æœ¬åœ°ä»“åº“æ“ä½œ" class="headerlink" title="3.5 æœ¬åœ°ä»“åº“æ“ä½œ"></a>3.5 æœ¬åœ°ä»“åº“æ“ä½œ</h3><p><strong>git status æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git16.png" alt="å›¾ç‰‡16"></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨git status â€“s ä½¿è¾“å‡ºä¿¡æ¯æ›´åŠ ç®€æ´</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git17.png" alt="å›¾ç‰‡17"></p><p><strong>git add æ–‡ä»¶å å°†æœªè·Ÿè¸ªçš„æ–‡ä»¶åŠ å…¥æš‚å­˜åŒº</strong></p><p>æˆ–<code>git add . </code>æ·»åŠ å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git18.png" alt="å›¾ç‰‡18"></p><p>å°†æ–°åˆ›å»ºçš„æ–‡ä»¶åŠ å…¥æš‚å­˜åŒºåæŸ¥çœ‹æ–‡ä»¶çŠ¶æ€</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git19.png" alt="å›¾ç‰‡19"></p><p><strong>git reset æ–‡ä»¶å å°†æš‚å­˜åŒºçš„æ–‡ä»¶å–æ¶ˆæš‚å­˜</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git20.png" alt="å›¾ç‰‡20"></p><p>å°†æ–‡ä»¶å–æ¶ˆæš‚å­˜åæŸ¥çœ‹æ–‡ä»¶çŠ¶æ€</p><p>â€‹    <img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git21.png" alt="å›¾ç‰‡21"></p><p><strong>ç‰ˆæœ¬å›é€€</strong></p><ol><li><p>æŸ¥çœ‹ç‰ˆæœ¬ï¼Œç¡®å®šå›åˆ°çš„æ—¶åˆ»ç‚¹</p><p><code>git log --pretty=oneline</code></p></li><li><p>å›é€€æ“ä½œ</p><p><code>git reset --hard æäº¤ç¼–å·</code>ï¼ˆé‡‘é»„è‰²çš„ç¼–å·ï¼‰</p></li><li><p>å¦‚æœæƒ³å›åˆ°æœªæ¥ï¼ŒæŸ¥çœ‹æ—¶åˆ»ç‚¹</p><p><code>git reflog</code></p><p>å†æ¬¡å›é€€æ“ä½œå³å¯</p></li></ol><p><strong>git commit å°†æš‚å­˜åŒºçš„æ–‡ä»¶ä¿®æ”¹æäº¤åˆ°æœ¬åœ°ä»“åº“</strong></p><p>-m â€œæ—¥å¿—ä¿¡æ¯â€ å¢åŠ æ—¥å¿—ä¿¡æ¯ï¼Œ</p><p>ä¸åŠ -m æ—¥å¿—ä¿¡æ¯ï¼Œå°±ä¼šå¼¹å‡ºçª—å£è®©ä½ è¾“å…¥æ—¥å¿—ä¿¡æ¯</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git22.png" alt="å›¾ç‰‡22"></p><p><strong>git rm åˆ é™¤æ–‡ä»¶</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git23.png" alt="å›¾ç‰‡23"></p><p>åˆ é™¤æ–‡ä»¶åæŸ¥çœ‹æ–‡ä»¶çŠ¶æ€</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git24.png" alt="å›¾ç‰‡24"></p><p>ä¸Šé¢åˆ é™¤çš„åªæ˜¯å·¥ä½œåŒºçš„æ–‡ä»¶ï¼Œéœ€è¦æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œç›´æ¥commitå³å¯</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git25.png" alt="å›¾ç‰‡25"></p><p>å¦‚æœåœ¨æ–‡ä»¶å¤¹ä¸­æ‰‹åŠ¨åˆ é™¤äº†æ–‡ä»¶ï¼Œéœ€è¦å°†åˆ é™¤çš„æ–‡ä»¶å…ˆaddè¿›æš‚å­˜åŒºï¼Œå†commitæäº¤</p><p><strong>å°†æ–‡ä»¶æ·»åŠ è‡³å¿½ç•¥åˆ—è¡¨</strong></p><p>ä¸€èˆ¬æˆ‘ä»¬æ€»ä¼šæœ‰äº›æ–‡ä»¶æ— éœ€çº³å…¥Git çš„ç®¡ç†ï¼Œä¹Ÿä¸å¸Œæœ›å®ƒä»¬æ€»å‡ºç°åœ¨æœªè·Ÿè¸ªæ–‡ä»¶åˆ—è¡¨ã€‚ é€šå¸¸éƒ½æ˜¯äº›è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ï¼Œæ¯”å¦‚æ—¥å¿—æ–‡ä»¶ï¼Œæˆ–è€…ç¼–è¯‘è¿‡ç¨‹ä¸­åˆ›å»ºçš„ä¸´æ—¶æ–‡ä»¶ç­‰ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¥ä½œç›®å½•ä¸­<strong>åˆ›å»ºä¸€ä¸ªåä¸º .gitignore çš„æ–‡ä»¶</strong>ï¼ˆæ–‡ä»¶åç§°å›ºå®šï¼‰ï¼Œåˆ—å‡ºè¦å¿½ç•¥çš„æ–‡ä»¶æ¨¡å¼ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><blockquote><p>å› ä¸ºwindowsä¸æ”¯æŒåˆ›å»ºæ— æ–‡ä»¶åçš„æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦åœ¨git pushå‘½ä»¤è¡Œä¸­ä½¿ç”¨touch .gitignoreæ¥åˆ›å»ºè¯¥æ–‡ä»¶</p></blockquote><pre><code># ä»£è¡¨ä»¥.aç»“å°¾çš„æ–‡ä»¶è¢«å¿½ç•¥*.a# !è¡¨ç¤ºä¸è¢«å¿½ç•¥çš„æ–‡ä»¶!lib.a# å½“å‰ç›®å½•ä¸‹çš„todoæ–‡ä»¶è¢«å¿½ç•¥/TODO# buildæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶è¢«å¿½ç•¥build/# docä¸‹çš„ä»¥.txtç»“å°¾çš„æ–‡ä»¶è¢«å¿½ç•¥doc/*.txt# docä¸‹åŠå…¶å­ç›®å½•ä¸‹çš„ä»¥pdfç»“å°¾çš„æ–‡ä»¶è¢«å¿½ç•¥doc/**/*.pdf</code></pre><p><strong>git log æŸ¥çœ‹æ—¥å¿—è®°å½•</strong></p><p>å›è½¦å¾€ä¸‹ç¿»ï¼Œqé€€å‡º</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git26.png" alt="å›¾ç‰‡26"></p><h3 id="3-6-è¿œç¨‹ä»“åº“æ“ä½œ"><a href="#3-6-è¿œç¨‹ä»“åº“æ“ä½œ" class="headerlink" title="3.6 è¿œç¨‹ä»“åº“æ“ä½œ"></a>3.6 è¿œç¨‹ä»“åº“æ“ä½œ</h3><p>å‰é¢æ‰§è¡Œçš„å‘½ä»¤æ“ä½œéƒ½æ˜¯é’ˆå¯¹çš„æœ¬åœ°ä»“åº“ï¼Œæœ¬ç« èŠ‚æˆ‘ä»¬ä¼šå­¦ä¹ å…³äºè¿œç¨‹ä»“åº“çš„ä¸€äº›æ“ä½œï¼Œå…·ä½“åŒ…æ‹¬ï¼š</p><h4 id="3-6-1æŸ¥çœ‹è¿œç¨‹ä»“åº“"><a href="#3-6-1æŸ¥çœ‹è¿œç¨‹ä»“åº“" class="headerlink" title="3.6.1æŸ¥çœ‹è¿œç¨‹ä»“åº“"></a>3.6.1æŸ¥çœ‹è¿œç¨‹ä»“åº“</h4><p>**git remote **</p><p><strong>git remote  -v</strong> æŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€</p><p>å¦‚æœæƒ³æŸ¥çœ‹å·²ç»é…ç½®çš„è¿œç¨‹ä»“åº“æœåŠ¡å™¨ï¼Œå¯ä»¥è¿è¡Œ **git remote **å‘½ä»¤ã€‚ å®ƒä¼šåˆ—å‡ºæŒ‡å®šçš„æ¯ä¸€ä¸ªè¿œç¨‹æœåŠ¡å™¨çš„ç®€å†™ã€‚ å¦‚æœå·²ç»å…‹éš†äº†è¿œç¨‹ä»“åº“ï¼Œé‚£ä¹ˆè‡³å°‘åº”è¯¥èƒ½çœ‹åˆ° origin ï¼Œè¿™æ˜¯ Git å…‹éš†çš„ä»“åº“æœåŠ¡å™¨çš„é»˜è®¤åå­—</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git27.png" alt="å›¾ç‰‡27"></p><h4 id="3-6-2-æ·»åŠ è¿œç¨‹ä»“åº“ï¼ˆå…³ç³»ï¼‰"><a href="#3-6-2-æ·»åŠ è¿œç¨‹ä»“åº“ï¼ˆå…³ç³»ï¼‰" class="headerlink" title="3.6.2 æ·»åŠ è¿œç¨‹ä»“åº“ï¼ˆå…³ç³»ï¼‰"></a>3.6.2 æ·»åŠ è¿œç¨‹ä»“åº“ï¼ˆå…³ç³»ï¼‰</h4><p>ç”¨äºå°†æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“å»ºç«‹å…³ç³»</p><p> **git remote add <shortname> <url> **</url></shortname></p><p>è¿è¡Œ **git remote add <shortname> <url> **æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ Git ä»“åº“ï¼ŒåŒæ—¶æŒ‡å®šä¸€ä¸ªå¯ä»¥å¼•ç”¨çš„ç®€å†™</url></shortname></p><p>shortnameï¼šç»™è¿œç¨‹ä»“åº“èµ·åï¼Œéšæ„ï¼Œå»ºè®®origin</p><p>urlï¼šåœ¨ç äº‘/githubä¸Šå»ºçš„ä»“åº“åœ°å€</p><p>å¯ä»¥æ·»åŠ å¤šä¸ªè¿œç¨‹ä»“åº“</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git28.png" alt="å›¾ç‰‡28"></p><h4 id="3-6-3-ä»è¿œç¨‹ä»“åº“å…‹éš†"><a href="#3-6-3-ä»è¿œç¨‹ä»“åº“å…‹éš†" class="headerlink" title="3.6.3 ä»è¿œç¨‹ä»“åº“å…‹éš†"></a>3.6.3 ä»è¿œç¨‹ä»“åº“å…‹éš†</h4><p>å¦‚æœä½ æƒ³è·å¾—ä¸€ä»½å·²ç»å­˜åœ¨äº†çš„ Git ä»“åº“çš„æ‹·è´ï¼Œè¿™æ—¶å°±è¦ç”¨åˆ° git clone å‘½ä»¤ã€‚ Git å…‹éš†çš„æ˜¯è¯¥ Git ä»“åº“æœåŠ¡å™¨ä¸Šçš„å‡ ä¹æ‰€æœ‰æ•°æ®ï¼ˆåŒ…æ‹¬æ—¥å¿—ä¿¡æ¯ã€å†å²è®°å½•ç­‰ï¼‰ï¼Œè€Œä¸ä»…ä»…æ˜¯å¤åˆ¶å·¥ä½œæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚ å½“ä½ æ‰§è¡Œ git clone å‘½ä»¤çš„æ—¶å€™ï¼Œé»˜è®¤é…ç½®ä¸‹è¿œç¨‹ Git ä»“åº“ä¸­çš„æ¯ä¸€ä¸ªæ–‡ä»¶çš„æ¯ä¸€ä¸ªç‰ˆæœ¬éƒ½å°†è¢«æ‹‰å–ä¸‹æ¥ã€‚</p><p>å…‹éš†ä»“åº“çš„å‘½ä»¤æ ¼å¼æ˜¯ <strong>git clone <url></url></strong> </p><p>![å›¾ç‰‡29](E:\ç™¾åº¦äº‘ä¸‹è½½\3-6 å°±ä¸šè¯¾(2.1)-Git\3-6 å°±ä¸šè¯¾(2.1)-Git\ç¬”è®°\img\å›¾ç‰‡29.png)</p><h4 id="3-6-4-ç§»é™¤æ— æ•ˆçš„è¿œç¨‹ä»“åº“"><a href="#3-6-4-ç§»é™¤æ— æ•ˆçš„è¿œç¨‹ä»“åº“" class="headerlink" title="3.6.4 ç§»é™¤æ— æ•ˆçš„è¿œç¨‹ä»“åº“"></a>3.6.4 ç§»é™¤æ— æ•ˆçš„è¿œç¨‹ä»“åº“</h4><p><strong>git remote rm <shortname></shortname></strong> </p><p>å¦‚æœå› ä¸ºä¸€äº›åŸå› æƒ³è¦ç§»é™¤ä¸€ä¸ªè¿œç¨‹ä»“åº“ ï¼Œå¯ä»¥ä½¿ç”¨ **git remote rm <shortname>**ï¼Œåˆ é™¤è¿œç¨‹ä»“åº“å…³ç³»ï¼Œè¿œç¨‹ä»“åº“å…¶å®è¿˜æ˜¯å­˜åœ¨çš„</shortname></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git30.png" alt="å›¾ç‰‡30"></p><p>æ³¨æ„ï¼šæ­¤å‘½ä»¤åªæ˜¯ä»æœ¬åœ°ç§»é™¤è¿œç¨‹ä»“åº“çš„è®°å½•ï¼Œå¹¶ä¸ä¼šçœŸæ­£å½±å“åˆ°è¿œç¨‹ä»“åº“</p><h4 id="3-6-5-ä»è¿œç¨‹ä»“åº“ä¸­æŠ“å–ä¸æ‹‰å–"><a href="#3-6-5-ä»è¿œç¨‹ä»“åº“ä¸­æŠ“å–ä¸æ‹‰å–" class="headerlink" title="3.6.5 ä»è¿œç¨‹ä»“åº“ä¸­æŠ“å–ä¸æ‹‰å–"></a>3.6.5 ä»è¿œç¨‹ä»“åº“ä¸­æŠ“å–ä¸æ‹‰å–</h4><p>å‰ææœ¬åœ°ä¸è¿œç¨‹ä»“åº“ä¹‹é—´è¦æœ‰å…³ç³»ï¼ˆå…‹éš†ä¸‹æ¥çš„ä»“åº“å°±åŒ…å«æœ‰è”ç³»ï¼‰</p><p>**git fetch <shoutname> &lt;åˆ†æ”¯&gt;**æ˜¯ä»è¿œç¨‹ä»“åº“è·å–æœ€æ–°ç‰ˆæœ¬åˆ°æœ¬åœ°ä»“åº“ï¼Œä¸ä¼šè‡ªåŠ¨merge(ä¸åˆå¹¶)</shoutname></p><p>ä¸åˆå¹¶ï¼šä»è¿œç¨‹ä»“åº“æŠ“å–ä¸‹æ¥ï¼Œå¹¶æ²¡æœ‰åœ¨å·¥ä½œåŒºä¸­ï¼Œéœ€è¦æ‰§è¡Œ**git merge orgin(åå­—)/master(åˆ†æ”¯)**ï¼Œæ‰æŠ“å–åˆ°å·¥ä½œåŒºä¸­</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git31.png" alt="å›¾ç‰‡31"></p><p>**git pull  <shoutname> &lt;åˆ†æ”¯&gt; **æ˜¯ä»è¿œç¨‹ä»“åº“è·å–æœ€æ–°ç‰ˆæœ¬å¹¶mergeåˆ°æœ¬åœ°ä»“åº“(åˆå¹¶)</shoutname></p><blockquote><p> æ³¨æ„ï¼šå¦‚æœå½“å‰æœ¬åœ°ä»“åº“ä¸æ˜¯ä»è¿œç¨‹ä»“åº“å…‹éš†ï¼Œè€Œæ˜¯æœ¬åœ°åˆ›å»ºçš„ä»“åº“ï¼Œå¹¶ä¸”ä»“åº“ä¸­å­˜åœ¨æ–‡ä»¶ï¼Œæ­¤æ—¶å†ä»è¿œç¨‹ä»“åº“æ‹‰å–æ–‡ä»¶çš„æ—¶å€™ä¼šæŠ¥é”™ï¼ˆfatal: refusing to merge unrelated histories ï¼‰ï¼Œè§£å†³æ­¤é—®é¢˜å¯ä»¥åœ¨git pullå‘½ä»¤ååŠ å…¥å‚æ•°â€“allow-unrelated-histories</p></blockquote><h4 id="3-6-6-æ¨é€åˆ°è¿œç¨‹ä»“åº“"><a href="#3-6-6-æ¨é€åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="3.6.6 æ¨é€åˆ°è¿œç¨‹ä»“åº“"></a>3.6.6 æ¨é€åˆ°è¿œç¨‹ä»“åº“</h4><p>å½“ä½ æƒ³åˆ†äº«ä½ çš„ä»£ç  æ—¶ï¼Œå¯ä»¥å°†å…¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚ å‘½ä»¤å½¢å¼ï¼š<strong>git push <shoutname> &lt;åˆ†æ”¯&gt;</shoutname></strong></p><blockquote><p>å¦‚æœå‡ºç°403é”™è¯¯ï¼Œéœ€è¦åœ¨.git/cofigæ–‡ä»¶ä¸­ä¿®æ”¹</p><p><code>url = https://ç”¨æˆ·å:å¯†ç @github.com/ç”¨æˆ·å/ä»“åº“å.git</code></p></blockquote><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git32.png" alt="å›¾ç‰‡32"></p><blockquote><p>å¦‚æœæ–‡ä»¶å†²çªï¼š</p><p>ä¾‹å¦‚ï¼šè¿œç¨‹ä»“åº“æ–‡ä»¶å·²æ›´æ–°ï¼Œè‡ªå·±æ²¡æœ‰pullå°±å¼€å§‹æ”¹ä»£ç ï¼Œpushæ—¶å‡ºç°å†²çªã€‚</p><p>è§£å†³æ–¹æ¡ˆ</p><ol><li>å…ˆ<code>git pull</code>æ‹‰å–ä»£ç </li><li>å°†æ‹‰å–çš„ä»£ç å’Œè‡ªå·±ä¿®æ”¹çš„ä»£ç è¿›è¡Œæ•´ç†</li><li>å†æ¬¡<code>git push</code></li></ol></blockquote><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p><strong>å…‹éš†è¿œç¨‹ä»“åº“ä¸€èˆ¬æµç¨‹ï¼š</strong></p><ol><li>å…‹éš†ä»“åº“ <code>git clone &lt;url&gt;</code></li><li>è¿›è¡Œæœ¬åœ°æ“ä½œ<ol><li>ä¿®æ”¹ä»£ç </li><li>å°†ä¿®æ”¹ä»£ç åŠ å…¥æš‚å­˜åŒº<code>git add .</code></li><li>å°†æš‚å­˜åŒºä»£ç æäº¤åˆ°æœ¬åœ°ä»“åº“<code>git commit -m "è¿™é‡Œæ˜¯å¤‡æ³¨ä¿¡æ¯"</code></li></ol></li><li>æ¨é€åˆ°è¿œç¨‹ä»“åº“<code>git push</code></li><li>ç”¨çš„æ—¶å€™æ‹‰å–æœ€æ–°ä»£ç <code>git pull</code></li></ol><p><strong>æœ¬åœ°åˆ›å»ºä»“åº“ä¸€èˆ¬æµç¨‹ï¼š</strong></p><ol><li>ä¸è¿œç¨‹ä»“åº“å»ºç«‹å…³ç³»<code>git remote add &lt;shortname&gt; &lt;url&gt;</code></li><li>ç”¨çš„æ—¶å€™æ‹‰å–æœ€æ–°ä»£ç <code>git pull</code></li><li>è¿›è¡Œæœ¬åœ°æ“ä½œ</li><li>æ¨é€åˆ°è¿œç¨‹ä»“åº“<code>git push</code></li></ol><h3 id="3-7-Gitåˆ†æ”¯"><a href="#3-7-Gitåˆ†æ”¯" class="headerlink" title="3.7 Gitåˆ†æ”¯"></a>3.7 Gitåˆ†æ”¯</h3><p>å‡ ä¹æ‰€æœ‰çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿéƒ½ä»¥æŸç§å½¢å¼æ”¯æŒåˆ†æ”¯ã€‚ ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ä½ å¯ä»¥æŠŠä½ çš„å·¥ä½œä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥ï¼Œä»¥å…å½±å“å¼€å‘ä¸»çº¿ã€‚Git çš„masteråˆ†æ”¯å¹¶ä¸æ˜¯ä¸€ä¸ªç‰¹æ®Šåˆ†æ”¯ã€‚ å®ƒè·Ÿå…¶å®ƒåˆ†æ”¯æ²¡æœ‰åŒºåˆ«ã€‚ ä¹‹æ‰€ä»¥å‡ ä¹æ¯ä¸€ä¸ªä»“åº“éƒ½æœ‰ master åˆ†æ”¯ï¼Œæ˜¯å› ä¸ºgit init å‘½ä»¤é»˜è®¤åˆ›å»ºå®ƒï¼Œå¹¶ä¸”å¤§å¤šæ•°äººéƒ½æ‡’å¾—å»æ”¹åŠ¨å®ƒã€‚</p><p>åœ¨æœ¬ç« èŠ‚æˆ‘ä»¬ä¼šå­¦ä¹ åˆ°å…³äºåˆ†æ”¯çš„ç›¸å…³å‘½ä»¤ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><h4 id="3-7-1-æŸ¥çœ‹åˆ†æ”¯"><a href="#3-7-1-æŸ¥çœ‹åˆ†æ”¯" class="headerlink" title="3.7.1 æŸ¥çœ‹åˆ†æ”¯"></a>3.7.1 æŸ¥çœ‹åˆ†æ”¯</h4><p># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</p><p>$ <strong>git branch</strong></p><p># åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</p><p>$ <strong>git branch -r</strong></p><p># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</p><p>$ <strong>git branch -a</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git33.png" alt="å›¾ç‰‡33"></p><h4 id="3-7-2-åˆ›å»ºåˆ†æ”¯"><a href="#3-7-2-åˆ›å»ºåˆ†æ”¯" class="headerlink" title="3.7.2 åˆ›å»ºåˆ†æ”¯"></a>3.7.2 åˆ›å»ºåˆ†æ”¯</h4><p><strong>git branch &lt;åˆ†æ”¯åç§°&gt;</strong></p><p>åˆ›å»ºåˆ†æ”¯ä¼šå¤åˆ¶å½“å‰åˆ†æ”¯çš„æ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git34.png" alt="å›¾ç‰‡34"></p><h4 id="3-7-3-åˆ‡æ¢åˆ†æ”¯"><a href="#3-7-3-åˆ‡æ¢åˆ†æ”¯" class="headerlink" title="3.7.3 åˆ‡æ¢åˆ†æ”¯"></a>3.7.3 åˆ‡æ¢åˆ†æ”¯</h4><p><strong>git checkout &lt;åˆ†æ”¯åç§°&gt;</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git35.png" alt="å›¾ç‰‡35"></p><p>â€‹    </p><h4 id="3-7-4-æ¨é€è‡³è¿œç¨‹ä»“åº“åˆ†æ”¯"><a href="#3-7-4-æ¨é€è‡³è¿œç¨‹ä»“åº“åˆ†æ”¯" class="headerlink" title="3.7.4 æ¨é€è‡³è¿œç¨‹ä»“åº“åˆ†æ”¯"></a>3.7.4 æ¨é€è‡³è¿œç¨‹ä»“åº“åˆ†æ”¯</h4><p><strong>git push origin &lt;åˆ†æ”¯åç§°&gt;</strong></p><p>ä¼šåœ¨åŸåˆ†æ”¯çš„åŸºç¡€ä¸Šï¼Œæ¨é€åˆ†æ”¯ï¼Œä¸¤ä¸ªæ–‡ä»¶æ˜¯ä¸€æ ·çš„</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git36.png" alt="å›¾ç‰‡36"></p><h4 id="3-7-5-åˆå¹¶åˆ†æ”¯"><a href="#3-7-5-åˆå¹¶åˆ†æ”¯" class="headerlink" title="3.7.5 åˆå¹¶åˆ†æ”¯"></a>3.7.5 åˆå¹¶åˆ†æ”¯</h4><p><strong>git merge  &lt;ç›®æ ‡åˆ†æ”¯åç§°&gt;</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git37.png" alt="å›¾ç‰‡37"></p><p>æœ‰æ—¶å€™åˆå¹¶æ“ä½œä¸ä¼šå¦‚æ­¤é¡ºåˆ©ã€‚ å¦‚æœä½ åœ¨ä¸¤ä¸ªä¸åŒçš„åˆ†æ”¯ä¸­ï¼Œå¯¹åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€ä¸ªéƒ¨åˆ†è¿›è¡Œäº†ä¸åŒçš„ä¿®æ”¹ï¼ŒGit å°±æ²¡åŠæ³•åˆå¹¶å®ƒä»¬ï¼ŒåŒæ—¶ä¼šæç¤ºæ–‡ä»¶å†²çªã€‚æ­¤æ—¶éœ€è¦æˆ‘ä»¬æ‰“å¼€å†²çªçš„æ–‡ä»¶å¹¶ä¿®å¤å†²çªå†…å®¹ï¼Œæœ€åæ‰§è¡Œgit addå‘½ä»¤æ¥æ ‡è¯†å†²çªå·²è§£å†³</p><p>è§£å†³ï¼šæ‰‹åŠ¨å¤„ç†å†²çªçš„æ–‡ä»¶å†…å®¹ï¼Œä¹‹å<strong>git add &lt;æ–‡ä»¶å&gt;<strong>åŠ å…¥æš‚å­˜åŒºè§£å†³å†²çªï¼Œ</strong>git commit</strong> ï¼Œ</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git38.png" alt="å›¾ç‰‡38"></p><h4 id="3-7-5-åˆ é™¤åˆ†æ”¯"><a href="#3-7-5-åˆ é™¤åˆ†æ”¯" class="headerlink" title="3.7.5 åˆ é™¤åˆ†æ”¯"></a>3.7.5 åˆ é™¤åˆ†æ”¯</h4><p><strong>git branch -d &lt;åˆ†æ”¯åç§°&gt;</strong></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git39.png" alt="å›¾ç‰‡39"></p><p>å¦‚æœè¦åˆ é™¤çš„åˆ†æ”¯ä¸­è¿›è¡Œäº†ä¸€äº›å¼€å‘åŠ¨ä½œï¼Œæ­¤æ—¶æ‰§è¡Œä¸Šé¢çš„åˆ é™¤å‘½ä»¤å¹¶ä¸ä¼šåˆ é™¤åˆ†æ”¯ï¼Œå¦‚æœåšæŒè¦åˆ é™¤æ­¤åˆ†æ”¯ï¼Œå¯ä»¥å°†å‘½ä»¤ä¸­çš„-då‚æ•°æ”¹ä¸º-D</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git40.png" alt="å›¾ç‰‡40"></p><p>æ³¨ï¼šå¦‚æœè¦åˆ é™¤è¿œç¨‹ä»“åº“ä¸­çš„åˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤</p><p><strong>git push origin â€“d &lt;åˆ†æ”¯åç§°&gt;</strong></p><h4 id="3-7-6-ç»¼åˆåº”ç”¨"><a href="#3-7-6-ç»¼åˆåº”ç”¨" class="headerlink" title="3.7.6 ç»¼åˆåº”ç”¨"></a>3.7.6 ç»¼åˆåº”ç”¨</h4><p>éœ€æ±‚ï¼š</p><p>ä¸ºå®ç°æ–°éœ€æ±‚ï¼Œåˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼ˆdevï¼‰ï¼Œæ­¤æ—¶éœ€è¦ä¿®å¤ä¸€ä¸ªbugï¼Œåˆ‡æ¢çº¿ä¸Šåˆ†æ”¯(master)ï¼Œåˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯(fix)ï¼Œæµ‹è¯•é€šè¿‡ä¹‹åï¼Œåˆ‡æ¢å›çº¿ä¸Šåˆ†æ”¯(master)ï¼Œåˆå¹¶ä¿®è¡¥åˆ†æ”¯ï¼Œæœ€åæ”¹åŠ¨æ¨é€åˆ°masteråˆ†é’Ÿä¸­ï¼Œåˆ‡æ¢å›æœ€åˆåˆ†æ”¯dex</p><p>æ“ä½œå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre><code>git branch devgit checkout devgit checkout mastergit branch fixgit checkout fixä¿®æ”¹ä»£ç git checkout mastergit merge fixgit push origin mastergit checkout dev</code></pre><h4 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ol><li>æŸ¥çœ‹åˆ†æ”¯<code>git branch</code></li><li>åˆ›å»ºåˆ†æ”¯<code>git branch åˆ†æ”¯å</code></li><li>åˆ‡æ¢åˆ†æ”¯<code>git checkout åˆ†æ”¯å</code></li><li>åˆ é™¤åˆ†æ”¯<code>git branch -d åˆ†æ”¯å</code></li><li>åˆå¹¶åˆ†æ”¯<code>git merge è¢«åˆå¹¶çš„åˆ†æ”¯å</code></li></ol><h3 id="3-8-Gitæ ‡ç­¾"><a href="#3-8-Gitæ ‡ç­¾" class="headerlink" title="3.8 Gitæ ‡ç­¾"></a>3.8 Gitæ ‡ç­¾</h3><p>æ ‡ç­¾å°±åƒæ–­ç‚¹ï¼Œè¡¨ç¤ºæ­¤æ—¶çš„æ–‡ä»¶çŠ¶æ€</p><h4 id="3-8-1-æ–°å»ºæ ‡ç­¾"><a href="#3-8-1-æ–°å»ºæ ‡ç­¾" class="headerlink" title="3.8.1 æ–°å»ºæ ‡ç­¾"></a>3.8.1 æ–°å»ºæ ‡ç­¾</h4><p><strong>git tag &lt;æ ‡ç­¾å&gt;</strong> :git tag v0.1</p><h4 id="3-8-2-æŸ¥çœ‹æ ‡ç­¾"><a href="#3-8-2-æŸ¥çœ‹æ ‡ç­¾" class="headerlink" title="3.8.2 æŸ¥çœ‹æ ‡ç­¾"></a>3.8.2 æŸ¥çœ‹æ ‡ç­¾</h4><p><strong>git tag</strong>ï¼šæŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾</p><p>**git show &lt;æ ‡ç­¾å&gt;**ï¼šæŸ¥çœ‹æ ‡ç­¾</p><h4 id="3-8-3-æ¨é€æ ‡ç­¾"><a href="#3-8-3-æ¨é€æ ‡ç­¾" class="headerlink" title="3.8.3 æ¨é€æ ‡ç­¾"></a>3.8.3 æ¨é€æ ‡ç­¾</h4><p>**git push <shortname> &lt;æ ‡ç­¾å&gt;**ï¼šgit push origin v0.1</shortname></p><h4 id="3-8-4-æ£€å‡ºæ ‡ç­¾"><a href="#3-8-4-æ£€å‡ºæ ‡ç­¾" class="headerlink" title="3.8.4 æ£€å‡ºæ ‡ç­¾"></a>3.8.4 æ£€å‡ºæ ‡ç­¾</h4><p>åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼ŒæŒ‡å‘ä¸€ä¸ªæ ‡ç­¾ï¼Œå°†è¯¥æ ‡ç­¾çš„æ–‡ä»¶çŠ¶æ€å¤åˆ¶åˆ°æ–°åˆ†æ”¯ä¸­</p><p><strong>git checkout -b &lt;åˆ†æ”¯å&gt; &lt;æ ‡ç­¾å&gt;</strong></p><h4 id="3-8-5-åˆ é™¤æ ‡ç­¾"><a href="#3-8-5-åˆ é™¤æ ‡ç­¾" class="headerlink" title="3.8.5 åˆ é™¤æ ‡ç­¾"></a>3.8.5 åˆ é™¤æ ‡ç­¾</h4><p>**git tag -d &lt;æ ‡ç­¾å&gt;**ï¼šåˆ é™¤æœ¬åœ°æ ‡ç­¾</p><p>**git push origin:refs/tags/&lt;æ ‡ç­¾å&gt;**ï¼šåˆ é™¤è¿œç¨‹æ ‡ç­¾</p><h3 id="3-9-SSHåè®®ä¼ è¾“"><a href="#3-9-SSHåè®®ä¼ è¾“" class="headerlink" title="3.9 SSHåè®®ä¼ è¾“"></a>3.9 SSHåè®®ä¼ è¾“</h3><p>Gitæ”¯æŒ4ä¸ªä¼ è¾“æ–¹å¼ï¼šæœ¬åœ°åè®®ï¼ˆLocalï¼‰ã€HTTPSåè®®ã€SSHï¼ˆSecure Shellå®‰å…¨å¤–å£³ï¼‰åè®®ã€Gitåè®®</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨SSHåè®®è¿›è¡Œä¼ è¾“ï¼Œåœ¨gitå‘½ä»¤è¡Œè¾“å…¥<strong>ssh-keygen -t rsa</strong>ï¼Œä¸€ç›´å›è½¦ä¹‹åï¼Œåœ¨<code>C:/Users/[username]</code> ç›®å½•ä¸‹æ‰¾åˆ°åä¸º.ssh çš„æ–‡ä»¶å¤¹ï¼Œ æ–‡ä»¶å¤¹å†…ä¼šæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ª id_rsa.pubï¼ˆå­˜æ”¾å…¬é’¥çš„åœ°æ–¹ï¼‰ ä¸€ä¸ª id_rsaï¼ˆå­˜æ”¾ç§é’¥ï¼‰</p><p>åœ¨è¿œç¨‹ä»“åº“æœåŠ¡ï¼ˆç äº‘/Githubï¼‰ä¸Šï¼Œè®¾ç½®å…¬é’¥ï¼Œå› ä¸ºæœ¬åœ°å­˜æ”¾ç€ç§é’¥ï¼Œå¯ä»¥è¿›è¡ŒåŒ¹é…ä¼ è¾“äº†</p><h2 id="4-åœ¨IDEAä¸­ä½¿ç”¨Git"><a href="#4-åœ¨IDEAä¸­ä½¿ç”¨Git" class="headerlink" title="4. åœ¨IDEAä¸­ä½¿ç”¨Git"></a>4. åœ¨IDEAä¸­ä½¿ç”¨Git</h2><h3 id="4-1-åœ¨IDEAä¸­é…ç½®Git"><a href="#4-1-åœ¨IDEAä¸­é…ç½®Git" class="headerlink" title="4.1 åœ¨IDEAä¸­é…ç½®Git"></a>4.1 åœ¨IDEAä¸­é…ç½®Git</h3><p>å®‰è£…å¥½IntelliJ IDEAåï¼Œå¦‚æœGitå®‰è£…åœ¨é»˜è®¤è·¯å¾„ä¸‹ï¼Œé‚£ä¹ˆideaä¼šè‡ªåŠ¨æ‰¾åˆ°gitçš„ä½ç½®ï¼Œå¦‚æœæ›´æ”¹äº†Gitçš„å®‰è£…ä½ç½®åˆ™éœ€è¦æ‰‹åŠ¨é…ç½®ä¸‹Gitçš„è·¯å¾„ã€‚</p><p>é€‰æ‹©Fileâ†’Settingsæ‰“å¼€è®¾ç½®çª—å£ï¼Œæ‰¾åˆ°Version Controlä¸‹çš„gité€‰é¡¹ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git41.png" alt="å›¾ç‰‡41"></p><p>é€‰æ‹©gitçš„å®‰è£…ç›®å½•åå¯ä»¥ç‚¹å‡»â€œTestâ€æŒ‰é’®æµ‹è¯•æ˜¯å¦æ­£ç¡®é…ç½®</p><h3 id="4-2-åœ¨IDEAä¸­ä½¿ç”¨Git"><a href="#4-2-åœ¨IDEAä¸­ä½¿ç”¨Git" class="headerlink" title="4.2 åœ¨IDEAä¸­ä½¿ç”¨Git"></a>4.2 åœ¨IDEAä¸­ä½¿ç”¨Git</h3><h4 id="4-2-1åœ¨IDEAä¸­åˆ›å»ºå·¥ç¨‹å¹¶å°†å·¥ç¨‹æ·»åŠ è‡³Git"><a href="#4-2-1åœ¨IDEAä¸­åˆ›å»ºå·¥ç¨‹å¹¶å°†å·¥ç¨‹æ·»åŠ è‡³Git" class="headerlink" title="4.2.1åœ¨IDEAä¸­åˆ›å»ºå·¥ç¨‹å¹¶å°†å·¥ç¨‹æ·»åŠ è‡³Git"></a>4.2.1åœ¨IDEAä¸­åˆ›å»ºå·¥ç¨‹å¹¶å°†å·¥ç¨‹æ·»åŠ è‡³Git</h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git44.png" alt="å›¾ç‰‡44"></p><p>å°†é¡¹ç›®æ·»åŠ è‡³Gitç®¡ç†åï¼Œå¯ä»¥ä»IDEAçš„å·¥å…·æ ä¸Šçœ‹åˆ°Gitæ“ä½œçš„æŒ‰é’®</p><h4 id="4-2-2-å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº"><a href="#4-2-2-å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº" class="headerlink" title="4.2.2 å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº"></a>4.2.2 å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº</h4><p>æœ‰ä¸€äº›æ–‡ä»¶ä¸éœ€è¦äº¤ç»™gitç®¡ç†ï¼Œå¯ä»¥ä½¿ç”¨.gitignoreæ¥å¿½ç•¥ï¼šåœ¨ä»“åº“ä¸­åˆ›å»ºè¯¥æ–‡ä»¶ï¼Œç¼–è¾‘</p><pre><code>.idea/é¡¹ç›®å.imitarget/</code></pre><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git45.png" alt="å›¾ç‰‡45"></p><h4 id="4-2-3-æäº¤æ–‡ä»¶"><a href="#4-2-3-æäº¤æ–‡ä»¶" class="headerlink" title="4.2.3 æäº¤æ–‡ä»¶"></a>4.2.3 æäº¤æ–‡ä»¶</h4><p>å¯ä»¥æ·»åŠ æš‚å­˜åŒºåæäº¤ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨æš‚å­˜å¹¶ç›´æ¥æäº¤</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git46.png" alt="å›¾ç‰‡46"></p><h4 id="4-2-4-å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“"><a href="#4-2-4-å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="4.2.4 å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“"></a>4.2.4 å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“</h4><p>è‡ªåˆ›æœ¬åœ°ä»“åº“ï¼Œéœ€è¦Define remoteè®¾ç½®æ¨é€çš„è¿œç¨‹ä»“åº“</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git47.png" alt="å›¾ç‰‡47"></p><h4 id="4-2-5-ä»è¿œç¨‹ä»“åº“å…‹éš†å·¥ç¨‹åˆ°æœ¬åœ°"><a href="#4-2-5-ä»è¿œç¨‹ä»“åº“å…‹éš†å·¥ç¨‹åˆ°æœ¬åœ°" class="headerlink" title="4.2.5 ä»è¿œç¨‹ä»“åº“å…‹éš†å·¥ç¨‹åˆ°æœ¬åœ°"></a>4.2.5 ä»è¿œç¨‹ä»“åº“å…‹éš†å·¥ç¨‹åˆ°æœ¬åœ°</h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git48.png" alt="å›¾ç‰‡48"></p><h4 id="4-2-6-ä»è¿œç¨‹æ‹‰å–ä»£ç "><a href="#4-2-6-ä»è¿œç¨‹æ‹‰å–ä»£ç " class="headerlink" title="4.2.6 ä»è¿œç¨‹æ‹‰å–ä»£ç "></a>4.2.6 ä»è¿œç¨‹æ‹‰å–ä»£ç </h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git49.png" alt="å›¾ç‰‡49"></p><p>ä¹Ÿå¯ä»¥ç‚¹ç»¿è‰²å¯¹å‹¾å·¦è¾¹çš„è“è‰²å¯¹å‹¾UpdateProjectï¼Œç›´æ¥æ‹‰å–æœ€æ–°ä»£ç </p><h4 id="4-2-7-ç‰ˆæœ¬å¯¹æ¯”"><a href="#4-2-7-ç‰ˆæœ¬å¯¹æ¯”" class="headerlink" title="4.2.7 ç‰ˆæœ¬å¯¹æ¯”"></a>4.2.7 ç‰ˆæœ¬å¯¹æ¯”</h4><p>å³é”®ç©ºç™½å¤„</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git50.png" alt="å›¾ç‰‡50"></p><h4 id="4-2-8-åˆ›å»ºåˆ†æ”¯"><a href="#4-2-8-åˆ›å»ºåˆ†æ”¯" class="headerlink" title="4.2.8 åˆ›å»ºåˆ†æ”¯"></a>4.2.8 åˆ›å»ºåˆ†æ”¯</h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git51.png" alt="å›¾ç‰‡51"></p><h4 id="4-2-9-åˆ‡æ¢åˆ†æ”¯"><a href="#4-2-9-åˆ‡æ¢åˆ†æ”¯" class="headerlink" title="4.2.9 åˆ‡æ¢åˆ†æ”¯"></a>4.2.9 åˆ‡æ¢åˆ†æ”¯</h4><p>æŸ¥çœ‹å½“å‰åœ¨å“ªä¸ªåˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨Gitå‘½ä»¤è¡Œï¼Œæ‹¬å·å†…å³å½“å‰åˆ†æ”¯</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git52.png" alt="å›¾ç‰‡52"></p><h4 id="4-2-10-åˆ†æ”¯åˆå¹¶"><a href="#4-2-10-åˆ†æ”¯åˆå¹¶" class="headerlink" title="4.2.10 åˆ†æ”¯åˆå¹¶"></a>4.2.10 åˆ†æ”¯åˆå¹¶</h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/git53.png" alt="å›¾ç‰‡53"></p><h2 id="5-å›¾å½¢åŒ–Gitç•Œé¢TortoiseGit"><a href="#5-å›¾å½¢åŒ–Gitç•Œé¢TortoiseGit" class="headerlink" title="5. å›¾å½¢åŒ–Gitç•Œé¢TortoiseGit"></a>5. å›¾å½¢åŒ–Gitç•Œé¢TortoiseGit</h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://tortoisegit.org/download/">https://tortoisegit.org/download/</a></p><h3 id="5-1-åˆ›å»ºgitæœ¬åœ°ä»“åº“"><a href="#5-1-åˆ›å»ºgitæœ¬åœ°ä»“åº“" class="headerlink" title="5.1 åˆ›å»ºgitæœ¬åœ°ä»“åº“"></a>5.1 åˆ›å»ºgitæœ¬åœ°ä»“åº“</h3><p>è¿›å…¥åˆ›å¥½çš„ä»“åº“æ–‡ä»¶å¤¹ï¼Œå³é”®Git Create repository hereï¼Œä¸å‹¾é€‰ç‚¹ç¡®å®š</p><h3 id="5-2-Gitå…‹éš†"><a href="#5-2-Gitå…‹éš†" class="headerlink" title="5.2 Gitå…‹éš†"></a>5.2 Gitå…‹éš†</h3><p>å³é”®éœ€è¦å…‹éš†çš„åœ°æ–¹ï¼Œå³é”®Git Cloneï¼ŒURLï¼šéœ€è¦å…‹éš†çš„è¿œç¨‹ä»“åº“åœ°å€</p><h3 id="5-3-æ·»åŠ æš‚å­˜åŒºã€æäº¤æ–‡ä»¶"><a href="#5-3-æ·»åŠ æš‚å­˜åŒºã€æäº¤æ–‡ä»¶" class="headerlink" title="5.3 æ·»åŠ æš‚å­˜åŒºã€æäº¤æ–‡ä»¶"></a>5.3 æ·»åŠ æš‚å­˜åŒºã€æäº¤æ–‡ä»¶</h3><p>é€‰ä¸­æ–‡ä»¶å³é”®ï¼ŒAddï¼Œå®Œæˆåå†å³é”®ï¼ŒGit Commitæäº¤ï¼ŒMessageä¸ºç¼–å†™æ—¥å¿—</p><p>ä¹Ÿå¯ä»¥ç›´æ¥æäº¤ï¼Œå³é”®Git Commitæäº¤ï¼Œå‹¾é€‰ä¸‹é¢çš„æ–‡ä»¶ï¼Œç¼–å†™æ—¥å¿—å³å¯</p><h3 id="5-4-æ¨é€è¿œç¨‹ä»“åº“"><a href="#5-4-æ¨é€è¿œç¨‹ä»“åº“" class="headerlink" title="5.4 æ¨é€è¿œç¨‹ä»“åº“"></a>5.4 æ¨é€è¿œç¨‹ä»“åº“</h3><p>å…‹éš†çš„ä»“åº“ï¼šå³é”®ä»“åº“ç©ºç™½å¤„ï¼ŒTortoiseGitã€Pushï¼ŒLocalä¸ºæœ¬åœ°åˆ†æ”¯ï¼ŒRemoteä¸ºè¿œç¨‹åˆ†æ”¯ï¼Œä¸‹é¢çš„Remoteä¸ºè¿œç¨‹ä»“åº“å…³ç³»ï¼ŒManageå¯ä»¥æŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€</p><p>æœ¬åœ°è‡ªåˆ›çš„ä»“åº“ï¼šå³é”®ä»“åº“ç©ºç™½å¤„ï¼ŒTortoiseGitã€Pushï¼Œç‚¹å‡»Manageï¼Œè¾“å…¥Remoteï¼šè¿œç¨‹ä»“åº“å…³ç³»åï¼ŒURLä¸ºè¿œç¨‹ä»“åº“åœ°å€ï¼Œç¡®å®šï¼Œè¾“å…¥remoteï¼šåˆ†æ”¯åmaster</p><h3 id="5-5-æ‹‰å–ä»£ç "><a href="#5-5-æ‹‰å–ä»£ç " class="headerlink" title="5.5 æ‹‰å–ä»£ç "></a>5.5 æ‹‰å–ä»£ç </h3><p>å³é”®ä»“åº“ç©ºç™½å¤„ï¼ŒTortoiseGitã€Pull</p><h3 id="5-6-åˆ›å»ºåˆ†æ”¯ï¼Œåˆ‡æ¢åˆ†æ”¯ï¼Œåˆå¹¶åˆ†æ”¯"><a href="#5-6-åˆ›å»ºåˆ†æ”¯ï¼Œåˆ‡æ¢åˆ†æ”¯ï¼Œåˆå¹¶åˆ†æ”¯" class="headerlink" title="5.6 åˆ›å»ºåˆ†æ”¯ï¼Œåˆ‡æ¢åˆ†æ”¯ï¼Œåˆå¹¶åˆ†æ”¯"></a>5.6 åˆ›å»ºåˆ†æ”¯ï¼Œåˆ‡æ¢åˆ†æ”¯ï¼Œåˆå¹¶åˆ†æ”¯</h3><p>åˆ›å»ºï¼šå³é”®ä»“åº“ç©ºç™½å¤„ï¼ŒTortoiseGitã€Create Branchï¼ŒBranchï¼šåˆ†æ”¯åï¼ŒBase onï¼šåŸºäºå“ªä¸ªåˆ†æ”¯ã€‚</p><p>åˆ‡æ¢ï¼šå³é”®ä»“åº“ç©ºç™½å¤„ï¼ŒTortoiseGitã€Checkoutï¼ŒBranchï¼šåˆ‡æ¢åˆ†æ”¯</p><p>åˆå¹¶ï¼šåˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ï¼Œå³é”®ä»“åº“ç©ºç™½å¤„ï¼ŒTortoiseGitã€Mergeï¼ŒBranchï¼šå¾…åˆå¹¶åˆ†æ”¯</p><h3 id="5-7-æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯"><a href="#5-7-æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯" class="headerlink" title="5.7 æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯"></a>5.7 æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯</h3><p>å³é”®ä»“åº“ç©ºç™½å¤„ï¼ŒTortoiseGitã€Pushï¼ŒLocalï¼šé€‰å¾…æ¨é€åˆ†æ”¯ï¼ŒRemoteï¼šå†™å¾…æ¨é€åˆ†æ”¯</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ssmæ¡†æ¶é…ç½®æ–‡ä»¶</title>
      <link href="/2020/09/06/ssm-kuang-jia/ssm-zheng-he-pei-zhi-wen-jian/"/>
      <url>/2020/09/06/ssm-kuang-jia/ssm-zheng-he-pei-zhi-wen-jian/</url>
      
        <content type="html"><![CDATA[<h2 id="å¯¼å…¥ä¾èµ–"><a href="#å¯¼å…¥ä¾èµ–" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h2><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring.version</span><span class="token punctuation">></span></span>5.0.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring.version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slf4j.version</span><span class="token punctuation">></span></span>1.6.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slf4j.version</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>log4j.version</span><span class="token punctuation">></span></span>1.2.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>log4j.version</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mysql.version</span><span class="token punctuation">></span></span>5.1.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mysql.version</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mybatis.version</span><span class="token punctuation">></span></span>3.4.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mybatis.version</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- spring --></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>aspectjweaver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.6.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-tx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${mysql.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token comment" spellcheck="true">&lt;!-- log start --></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${log4j.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>slf4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${slf4j.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>slf4j-log4j12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${slf4j.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>           <span class="token comment" spellcheck="true">&lt;!-- log end --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${mybatis.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>c3p0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>c3p0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.9.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>                       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><h2 id="éª¨æ¶æ­å»º"><a href="#éª¨æ¶æ­å»º" class="headerlink" title="éª¨æ¶æ­å»º"></a>éª¨æ¶æ­å»º</h2><ol><li>ç±»æ–‡ä»¶</li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200906193619458.png" alt="image-20200906193619458"></p><ol start="2"><li>é…ç½®æ–‡ä»¶</li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200906193454391.png" alt="image-20200906193454391"></p><ol start="3"><li>webapp</li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200906193815105.png" alt="image-20200906193815105"></p><h2 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h2><p>é…ç½®æ–‡ä»¶ï¼š</p><ol><li><p>web.xmlï¼š    </p><ol><li>ContextLoaderListenerç›‘å¬å™¨ï¼ˆåŠ è½½Springé…ç½®æ–‡ä»¶ï¼‰ã€</li><li>DispatcherServletå‰ç«¯æ§åˆ¶å™¨ï¼ˆåŠ è½½SpringMVCé…ç½®æ–‡ä»¶ï¼‰ã€</li><li>CharacterEncodingFilterï¼ˆä¸­æ–‡ä¹±ç é—®é¢˜ï¼‰</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token doctype">&lt;!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd" ></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>display-name</span><span class="token punctuation">></span></span>Archetype Created Web Application<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>display-name</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!--é…ç½®applicationContextç›‘å¬å™¨ï¼ŒåŠ è½½springé…ç½®æ–‡ä»¶--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">></span></span>org.springframework.web.context.ContextLoaderListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!--é…ç½®åŠ è½½ç±»è·¯å¾„ä¸‹çš„é…ç½®æ–‡ä»¶--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>classpath:applicationContext.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®å‰ç«¯æ§åˆ¶å™¨--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!--åŠ è½½springmvcé…ç½®æ–‡ä»¶--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>classpath:springmvc.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!--é…ç½®å¤„ç†ä¸­æ–‡ä¹±ç é—®é¢˜--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">></span></span>org.springframework.web.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">></span></span></code></pre></li><li><p>springMVC.xmlï¼š </p><ol><li>context:component-scan å¼€å¯æ³¨è§£æ‰«æï¼ˆåªæ‰«æmvcéƒ¨åˆ†ï¼‰ã€</li><li>InternalResourceViewResolver è§†å›¾è§£æå™¨</li><li><a href="mvc:default-servlet-handler">mvc:default-servlet-handler</a>æ’é™¤é™æ€èµ„æºè¿‡æ»¤</li><li>mvc:annotation-driven å¼€å¯MVCæ³¨è§£æ”¯æŒ</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/mvc<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>        http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd        http://www.springframework.org/schema/mvc        http://www.springframework.org/schema/mvc/spring-mvc.xsd        http://www.springframework.org/schema/context        http://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--å¼€å¯æ³¨è§£æ‰«æ--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>include-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>annotation<span class="token punctuation">"</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.stereotype.Controller<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®è§†å›¾è§£æå™¨--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewResolver<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prefix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/WEB-INF/pages/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>suffix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.jsp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--æ’é™¤é™æ€èµ„æºè¿‡æ»¤é—®é¢˜--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--å¼€å¯Mvcæ³¨è§£æ”¯æŒ--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre></li><li><p>applicationContext.xmlï¼š</p><ol><li>context:component-scan å¼€å¯æ³¨è§£æ‰«æï¼ˆæ’é™¤mvcéƒ¨åˆ†ï¼‰</li><li>é…ç½®Beanï¼šæ•°æ®æº ComboPooledDataSource/druid/</li><li>é…ç½®Beanï¼šå·¥å‚ç±»å¯¹è±¡ sqlSessionFactory</li><li>é…ç½®Beanï¼šæ˜ å°„çš„åŒ… MapperScannerConfigurer</li><li>é…ç½®Beanï¼šå¹³å°äº‹åŠ¡ç®¡ç†å™¨ DataSourceTransactionManager</li><li>é…ç½®äº‹åŠ¡é€šçŸ¥ï¼štransactionManager</li><li>é…ç½®äº‹åŠ¡Aopå¢å¼ºï¼šaop:config</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/aop<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>tx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/tx<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans     http://www.springframework.org/schema/beans/spring-beans.xsd    http://www.springframework.org/schema/context    http://www.springframework.org/schema/context/spring-context.xsd    http://www.springframework.org/schema/aop    http://www.springframework.org/schema/aop/spring-aop.xsdhttp://www.springframework.org/schema/tx     http://www.springframework.org/schema/tx/spring-tx.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--å¼€å¯æ³¨è§£æ‰«æ--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>exclude-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>annotation<span class="token punctuation">"</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.stereotype.Controller<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®æ•°æ®æºc3p0--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mchange.v2.c3p0.ComboPooledDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClass<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbcUrl<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/spring<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®å·¥å‚å¯¹è±¡--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sqlSessionFactory<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--å¯ä»¥é…ç½®åˆ«å--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>typeAliasesPackage<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm.dao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®æ˜ å°„çš„åŒ…--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mapperScanner<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- &lt;property name="sqlSessionFactoryBeanName" value="sqlSessionFactory">&lt;/property> --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>basePackage<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm.dao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®äº‹åŠ¡ç®¡ç†å™¨--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®äº‹åŠ¡é€šçŸ¥--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>advice</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>txAdvice<span class="token punctuation">"</span></span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>find*<span class="token punctuation">"</span></span> <span class="token attr-name">read-only</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">propagation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SUPPORTS<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>method</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>advice</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®aopå¢å¼º--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pt1<span class="token punctuation">"</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>execution(* cn.hm.service.impl.*.*(..))<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>advisor</span> <span class="token attr-name">advice-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>txAdvice<span class="token punctuation">"</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pt1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>advisor</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre></li><li><p>sqlMapConfig.xml</p><ol><li>é…ç½®åˆ«å</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token doctype">&lt;!DOCTYPE configuration    PUBLIC "-//mybatis.org//DTD Config 3.0//EN"    "http://mybatis.org/dtd/mybatis-3-config.dtd"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm.dao<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> ssmæ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssmæ•´åˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡ ç§æ•°æ®æºçš„é…ç½®</title>
      <link href="/2020/09/03/ssm-kuang-jia/ji-chong-shu-ju-yuan-de-pei-zhi/"/>
      <url>/2020/09/03/ssm-kuang-jia/ji-chong-shu-ju-yuan-de-pei-zhi/</url>
      
        <content type="html"><![CDATA[<p>å¦‚æœæ˜¯æ¡†æ¶æ•´åˆï¼Œé‚£ä¹ˆæ•°æ®æºè¦é…ç½®åœ¨springå®¹å™¨ä¸­</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--jdbc--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.jdbc.datasource.DriverManagerDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClassName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/qn<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Admin<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre><pre class=" language-xml"><code class="language-xml"> <span class="token comment" spellcheck="true">&lt;!-- JNDIè·å–æ•°æ®æº(ä½¿ç”¨dbcpè¿æ¥æ± ) --></span>      <span class="token comment" spellcheck="true">&lt;!-- å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„è¿™ä¸ªæ•°æ®æºæ˜¯é‡‡ç”¨ dbcpè¿æ¥æ± ï¼Œå¯¹äºè¿æ¥æ± æ¥è¯´ï¼Œæ•´ä¸ªåº”ç”¨ä¸­åªæœ‰ä¸€ä¸ªï¼Œ               æ‰€ä»¥ä½œç”¨åŸŸéœ€è¦è®¾ç½®æˆå•ä¾‹ å› ä¸ºè·å–æ•°æ®æºæ˜¯éå¸¸æ¶ˆè€—æ€§èƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿè¦é‡‡ç”¨å•ä¾‹æ¨¡å¼--></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.apache.commons.dbcp.BasicDataSource<span class="token punctuation">"</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span>   <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>singleton<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${driver}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${url}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${username}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${password}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- JNDIè·å–æ•°æ®æº(ä½¿ç”¨c3p0è¿æ¥æ± ) --></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mchange.v2.c3p0.ComboPooledDataSource<span class="token punctuation">"</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>singleton<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${driver}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbcUrl<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${url}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${uname}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${password}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>maxPoolSize<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>40<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>minPoolSize<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>initialPoolSize<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>maxIdleTime<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>60<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkoutTimeout<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2000<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span> <span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- DruidDataSourceæ•°æ®åº“è¿æ¥æ±  ï¼Œé˜¿é‡Œå·´å·´çš„ä¸€ä¸ªæ•°æ®æº--></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>&lt;bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource"<span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>destroy-method="close"><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${jdbc.url}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${jdbc.username}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${jdbc.password}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClassName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${jdbc.driver}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>maxActive<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>minIdle<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> jdbc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jdbc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åå°„</title>
      <link href="/2020/09/01/xue-xi/fan-she/"/>
      <url>/2020/09/01/xue-xi/fan-she/</url>
      
        <content type="html"><![CDATA[<h1 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h1><p><strong>å…³äºjava.lang.Classç±»çš„ç†è§£</strong></p><p>ç±»åŠ è½½è¿‡ç¨‹ï¼š</p><p><strong>ç¨‹åºç»è¿‡javac.exeå‘½ä»¤ç¼–è¯‘ä»¥åï¼Œä¼šç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ç æ–‡ä»¶ï¼ˆ.classç»“å°¾ï¼‰ã€‚</strong></p><ol><li><p>åŠ è½½:æ¥ç€æˆ‘ä»¬ä½¿ç”¨java.exeå‘½ä»¤å¯¹æŸä¸ªå­—èŠ‚ç æ–‡ä»¶è¿›è¡Œè§£é‡Šè¿è¡Œã€‚ç›¸å½“äº<strong>å°†æŸä¸ªå­—èŠ‚ç æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­</strong>ã€‚æ­¤è¿‡ç¨‹å°±ç§°ä¸ºç±»çš„åŠ è½½ã€‚<strong>åŠ è½½åˆ°å†…å­˜ä¸­çš„ç±»ï¼Œæˆ‘ä»¬å°±æˆä¸ºè¿è¡Œæ—¶ç±»ï¼Œæ­¤è¿è¡Œæ—¶ç±»ï¼Œå°±ä½œä¸ºClassçš„ä¸€ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå®ä¾‹è·å–ç›¸å…³ä¿¡æ¯</strong>ï¼ˆä¸éœ€è¦newï¼Œç›´æ¥èµ‹å€¼ï¼‰ã€‚ç±»ç¼“å­˜ï¼šä¸€æ—¦è¢«åŠ è½½ï¼Œä»–å°±ä¼šç¼“å­˜ä¸€æ®µæ—¶é—´ã€‚</p></li><li><p>é“¾æ¥ï¼šè®¾ç½®ç±»å˜é‡çš„é»˜è®¤åˆå§‹åŒ–å€¼</p></li><li><p>åˆå§‹åŒ–ï¼šå°†å±æ€§è¿›è¡Œèµ‹å€¼</p></li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/fanshe1.png" alt="image-20200901163906013"></p><p><strong>åå°„</strong>ï¼šç¨‹åºå¯ä»¥è®¿é—®ã€æ£€æµ‹å’Œä¿®æ”¹å®ƒæœ¬èº«çŠ¶æ€æˆ–è¡Œä¸ºçš„ä¸€ç§èƒ½åŠ›ã€‚</p><p><strong>java.lang.reflectåŒ…</strong></p><p><strong>åå°„çš„åŠ¨æ€æ€§</strong>ï¼ˆä½œç”¨ï¼‰ï¼šåå°„æœºåˆ¶å…è®¸ç¨‹åºåœ¨æ‰§è¡Œæ—¶å€ŸåŠ©APIå–å¾—ä»»ä½•ç±»çš„å†…éƒ¨ä¿¡æ¯ï¼Œä»è€Œç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§å’Œæ–¹æ³•ã€‚æ¢å¥è¯è¯´ï¼Œå½“æˆ‘ä»¬åªæœ‰åœ¨ç¨‹åºè¿è¡Œæ—¶æ‰çŸ¥é“è¯¥åˆ› å»ºå“ªä¸ªå¯¹è±¡æ—¶ï¼ˆå°±æ˜¯ä¼ å‚ï¼‰ï¼Œæ‰ä¼šåˆ›å»ºå“ªä¸ªå¯¹è±¡ã€‚åœ¨æ¡†æ¶ä¸­å¤§å¤šä½¿ç”¨åå°„ï¼Œæ¨¡æ¿å†™å¥½ï¼Œåªéœ€è¦æˆ‘ä»¬åŠ¨æ€ä¼ å…¥å°‘é‡çš„å‚æ•°ï¼Œé€šè¿‡åå°„æ¥è°ƒç”¨å‚æ•°å¯¹åº”çš„ç±»åˆ›å»ºå¯¹è±¡ï¼Œæ‰§è¡Œæ“ä½œã€‚</p><p>å¥½å¤„ï¼š</p><ol><li>å¯ä»¥åœ¨ç¨‹åºè¿è¡Œä¸­ï¼Œæ“ä½œè¿™äº›å¯¹è±¡</li><li>å¯ä»¥è§£è€¦ï¼Œæé«˜ç¨‹åºçš„å¯æ‰©å±•æ€§</li></ol><p><strong>ç±»åŠ è½½å™¨</strong></p><p>ä½œç”¨ï¼šç”¨äºå°†ç±»åŠ è½½åˆ°å†…å­˜å½“ä¸­</p><ol><li>å¼•å¯¼ç±»åŠ è½½å™¨ï¼šä¸»è¦è´Ÿè´£åŠ è½½Javaæ ¸å¿ƒç±»åº“ï¼Œæ— æ³•åŠ è½½è‡ªå®šä¹‰ç±»ï¼Œæ— æ³•è·å¾—</li><li>æ‰©å±•ç±»åŠ è½½å™¨ï¼šä¸»è¦åŠ è½½jre/extç›®å½•ä¸‹çš„jaråŒ…ï¼Œå¯ä»¥é€šè¿‡<code>ç³»ç»Ÿç±»åŠ è½½å™¨.getParent()</code>è·å¾—</li><li>ç³»ç»Ÿç±»åŠ è½½å™¨ï¼šè´Ÿè´£åŠ è½½è‡ªå®šä¹‰ç±»ï¼Œå¯ä»¥é€šè¿‡<code>ç±»å.class.getClassLoader()</code>è·å¾—</li></ol><p><strong>ä½¿ç”¨ç±»åŠ è½½å™¨è¯»å–é…ç½®æ–‡ä»¶</strong></p><pre class=" language-java"><code class="language-java">Properties pros <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ–¹å¼1ï¼šä½¿ç”¨è¾“å…¥æµçš„æ–¹å¼</span><span class="token comment" spellcheck="true">//æ­¤æ—¶æ–‡ä»¶é»˜è®¤åœ¨å½“å‰moduleä¸‹</span>FileInputStream fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"jdbc.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pros<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>fis<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ–¹å¼2ï¼šä½¿ç”¨ç±»åŠ è½½å™¨è¯»å–</span><span class="token comment" spellcheck="true">//æ­¤æ—¶æ–‡ä»¶é»˜è®¤åœ¨å½“å‰moduleçš„srcç›®å½•ä¸‹</span>ClassLoader classLoader <span class="token operator">=</span> test<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>InputSteam is <span class="token operator">=</span> classLoader<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"jdbc1.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pros<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>==æ‰€æœ‰çš„ç±»éƒ½å±äºClassç±»==</p><h3 id="è·å–Classå¯¹è±¡çš„æ–¹å¼"><a href="#è·å–Classå¯¹è±¡çš„æ–¹å¼" class="headerlink" title="è·å–Classå¯¹è±¡çš„æ–¹å¼"></a>è·å–Classå¯¹è±¡çš„æ–¹å¼</h3><ol><li><p>ï¼ˆå¸¸ç”¨ï¼‰Class.forname(â€œå…¨ç±»åâ€)ï¼šè°ƒç”¨Classçš„é™æ€æ–¹æ³•ï¼Œå°†å­—èŠ‚ç æ–‡ä»¶åŠ è½½è¿›å†…å­˜ï¼Œè¿”å›Classå¯¹è±¡</p><ul><li>å¤šç”¨äºé…ç½®æ–‡ä»¶ï¼Œå°†ç±»åå®šä¹‰åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œè¯»å–æ–‡ä»¶åŠ è½½ç±»</li></ul><pre class=" language-java"><code class="language-java">Class <span class="token class-name">clazz</span> <span class="token operator">=</span> Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.jm.java.Person"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>ç±»å.classï¼šé€šè¿‡ç±»åçš„å±æ€§classè·å–</p><ul><li>å¤šç”¨äºå‚æ•°çš„ä¼ é€’</li></ul><pre class=" language-java"><code class="language-java">Class <span class="token class-name">clazz</span> <span class="token operator">=</span> Person<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span></code></pre></li><li><p>å¯¹è±¡.getClass()ï¼šé€šè¿‡è¿è¡Œæ—¶ç±»çš„å¯¹è±¡ï¼Œè°ƒç”¨getClass()ï¼Œæ–¹æ³•åœ¨objectç±»ä¸­å®šä¹‰ç€</p><ul><li>å¤šç”¨äºå¯¹è±¡çš„è·å–å­—èŠ‚ç æ–¹å¼</li></ul><pre class=" language-java"><code class="language-java">Person p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Class <span class="token class-name">clazz</span> <span class="token operator">=</span> p1<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>ä½¿ç”¨ç±»çš„åŠ è½½å™¨ï¼šClassLoader</p><pre class=" language-java"><code class="language-java">ClassLoader classLoader <span class="token operator">=</span> ReflectionTest<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Class <span class="token class-name">clazz4</span> <span class="token operator">=</span> classLoader<span class="token punctuation">.</span><span class="token function">loadClass</span><span class="token punctuation">(</span><span class="token string">"com.jm.java.Person"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><p><strong>ç»“è®º</strong>ï¼šåŒä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶ï¼ˆ*.classï¼‰åœ¨ä¸€æ¬¡ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œåªä¼šè¢«åŠ è½½ä¸€æ¬¡ï¼Œä¸è®ºé€šè¿‡å“ªç§æ–¹å¼è·å–çš„Classå¯¹è±¡éƒ½æ˜¯åŒä¸€ä¸ªã€‚</p><h3 id="Classå¯¹è±¡åŠŸèƒ½ï¼š"><a href="#Classå¯¹è±¡åŠŸèƒ½ï¼š" class="headerlink" title="Classå¯¹è±¡åŠŸèƒ½ï¼š"></a>Classå¯¹è±¡åŠŸèƒ½ï¼š</h3><ul><li><p><strong>è·å–</strong>åŠŸèƒ½ï¼š<code>Classå¯¹è±¡.</code></p><ol><li><p>è·å–æˆå‘˜å˜é‡ä»¬</p><ul><li>Filed[] getFields() ï¼šè·å–è¿è¡Œæ—¶ç±»åŠå…¶çˆ¶ç±»æ‰€æœ‰==public==ä¿®é¥°çš„æˆå‘˜å˜é‡</li><li>Filed[] getField(String org)</li><li>Filed[] getDeclaredFields()ï¼šä¸è€ƒè™‘ä¿®é¥°ç¬¦ï¼Œè·å–æ‰€æœ‰ï¼ˆä¸åŒ…å«çˆ¶ç±»ï¼‰çš„æˆå‘˜å˜é‡</li><li>Filed[] getDeclaredField()</li></ul></li><li><p>è·å–æ„é€ æ–¹æ³•</p><ul><li>Constructor<t> getConstructor(xxx.class,xxx.class)ï¼šè·å–æœ‰å‚æ„é€ å™¨ï¼Œä¸€èˆ¬å¾ˆå°‘ç”¨å¾—åˆ°ï¼Œç”¨çš„éƒ½æ˜¯<code>clazz.newInstance()</code>ä½¿ç”¨ç©ºå‚æ„é€ å™¨åˆ›å»ºå¯¹è±¡</t></li><li>Constuctor getDeclaredConstructor(xxx.class)</li></ul></li><li><p>è·å–è¿è¡Œæ—¶ç±»çš„çˆ¶ç±»</p><ul><li>Class getSuperclass()</li><li>Class<t> getGenericSuperclass()ï¼šè·å–å¸¦æ³›å‹çš„çˆ¶ç±»</t></li></ul></li><li><p>è·å¾—æˆå‘˜æ–¹æ³•</p><ul><li><p>Method[] getMethods():è·å–è¿è¡Œæ—¶ç±»åŠå…¶çˆ¶ç±»æ‰€æœ‰==public==ä¿®é¥°çš„æ–¹æ³•</p></li><li><p>Method getMethod(String s,xxx.classâ€¦â€¦)</p></li><li><p>Method[] getDeclaredMethodsï¼ˆString name,String.classå‚æ•°åˆ—è¡¨ï¼‰ï¼šä¸è€ƒè™‘ä¿®é¥°ç¬¦ï¼Œè·å–æ‰€æœ‰ï¼ˆä¸åŒ…å«çˆ¶ç±»ï¼‰çš„æ–¹æ³•</p></li></ul></li><li><p>è·å–ç±»å </p><ul><li>String getName()</li></ul></li></ol></li><li><p><strong>æ“ä½œ</strong>è¿è¡Œæ—¶ç±»æŒ‡å®šçš„å±æ€§ï¼š</p><ul><li>æˆå‘˜å˜é‡.get(Object o)ï¼šè·å–å“ªä¸ªå¯¹è±¡çš„å€¼</li><li>æˆå‘˜å˜é‡.set(Object o,String s)ï¼šç»™å“ªä¸ªå¯¹è±¡è®¾ç½®å€¼</li><li>æˆå‘˜å˜é‡.setAccessible(true)ï¼š<strong>æš´åŠ›åå°„</strong>ï¼Œå¿½ç•¥ç§æœ‰é™åˆ¶ï¼ŒåŒæ ·å¯ä»¥è·å–æˆå‘˜å˜é‡</li></ul></li><li><p><strong>æ“ä½œ</strong>è¿è¡Œæ—¶ç±»æŒ‡å®šçš„æ„é€ æ–¹æ³•ï¼š</p><ul><li>T newInstance(org) ï¼š==åˆ›å»ºå¯¹è±¡==</li><li>è¦æ±‚ï¼š<ul><li>è¿è¡Œæ—¶ç±»å¿…é¡»æä¾›ç©ºå‚æ„é€ å™¨</li><li>ç©ºå‚æ„é€ å™¨çš„è®¿é—®æƒé™éœ€è¦æ˜¯public<ul><li>å¼•ç”³ï¼šåœ¨javaBeanä¸­è¦æ±‚æä¾›ä¸€ä¸ªPublicçš„ç©ºå‚æ„é€ å™¨ï¼ŒåŸå› ï¼š<ul><li>ä¾¿äºé€šè¿‡åå°„ï¼Œåˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡</li><li>ä¾¿äºå­ç±»ç»§æ‰¿æ­¤è¿è¡Œæ—¶ç±»æ—¶ï¼Œé»˜è®¤è°ƒç”¨super()æ—¶ï¼Œä¿è¯çˆ¶ç±»æœ‰æ­¤æ„é€ å™¨</li></ul></li></ul></li></ul></li><li>ç®€åŒ–ï¼šç›´æ¥ç”¨ç±»å¯¹è±¡æ¥åˆ›å»ºå¯¹è±¡ï¼špersonClass.newInstance()</li></ul></li><li><p><strong>æ“ä½œ</strong>è¿è¡Œæ—¶ç±»æŒ‡å®šçš„æ–¹æ³•ï¼š</p><ul><li><p>invoke(Object o,org) : æ‰§è¡Œæ–¹æ³•ã€‚</p><ul><li>å‚æ•°1ï¼šæ–¹æ³•çš„è°ƒç”¨è€… å‚æ•°2ï¼šç»™æ–¹æ³•å½¢å‚èµ‹å€¼çš„å®å‚</li><li>è¿”å›å€¼å°±æ˜¯æ–¹æ³•çš„è¿”å›å€¼</li><li>é™æ€æ–¹æ³•çš„è°ƒç”¨è€…æ˜¯ï¼šè¿è¡Œæ—¶ç±».class</li></ul><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.è·å–classå¯¹è±¡</span>Class <span class="token class-name">clazz</span> <span class="token operator">=</span> person<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2.è·å–è¿è¡Œæ—¶ç±»å¯¹è±¡</span>Person p <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token punctuation">)</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//3.è·å–æ–¹æ³•å¯¹è±¡</span>Method method <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">"study"</span><span class="token punctuation">,</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//4.0 æš´åŠ›åå°„ï¼Œå¿½ç•¥ä¿®é¥°ç¬¦</span>method<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//4.æ‰§è¡Œæ–¹æ³•</span>method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"å¥½å¥½å­¦ä¹ "</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>getName() ï¼š è·å–æ–¹æ³•åç§°</p></li><li><p>getAnnotations()ï¼šè·å–æ–¹æ³•æ³¨è§£ï¼ˆå‰ææ˜¯æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸå¿…é¡»æ˜¯RUNTIMEï¼Œå› ä¸ºåå°„æ˜¯runtimeï¼‰</p></li></ul></li></ul><h3 id="åŠ¨æ€ä»£ç†"><a href="#åŠ¨æ€ä»£ç†" class="headerlink" title="åŠ¨æ€ä»£ç†"></a>åŠ¨æ€ä»£ç†</h3><p><strong>ä»£ç†æ¨¡å¼</strong>ï¼š</p><p>ä½¿ç”¨ä¸€ä¸ªä»£ç†å°†å¯¹è±¡åŒ…è£…èµ·æ¥ï¼Œç„¶åç”¨è¯¥ä»£ç†å¯¹è±¡å–ä»£åŸå§‹å¯¹è±¡ï¼Œä»»ä½•è°ƒç”¨åŸå§‹å¯¹è±¡éƒ½éœ€è¦é€šè¿‡ä»£ç†ï¼Œä»£ç†å¯¹è±¡å†å†³å®šæ–¹æ³•é€»è¾‘å’Œæ˜¯å¦è¦è½¬åˆ°åŸå§‹å¯¹è±¡æ–¹æ³•</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//é™æ€ä»£ç†</span><span class="token keyword">interface</span> <span class="token class-name">User</span><span class="token punctuation">{</span>     <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">userImpl</span> <span class="token keyword">implements</span> <span class="token class-name">User</span><span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¿å­˜æ“ä½œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">userProxy</span> <span class="token keyword">implements</span> <span class="token class-name">User</span><span class="token punctuation">{</span>     <span class="token keyword">private</span> User u<span class="token punctuation">;</span>     <span class="token keyword">public</span> <span class="token function">userProxy</span><span class="token punctuation">(</span>User u<span class="token punctuation">)</span><span class="token punctuation">{</span>         <span class="token keyword">this</span><span class="token punctuation">.</span>u <span class="token operator">=</span> u <span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¼€å¯äº‹åŠ¡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        u<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç»“æŸäº‹åŠ¡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        userImpl u <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">userImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        userProxy userProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">userProxy</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>        userProxy<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><blockquote><p>ä»£ç†æ¨¡å¼ä¼˜ç‚¹ï¼šåœ¨ä¸ä¿®æ”¹åŸç çš„åŸºç¡€ä¸Šï¼Œå¯¹æ–¹æ³•è¿›è¡Œå¢å¼º</p><p>é™æ€ä»£ç†çš„ç¼ºç‚¹ï¼š</p><p>æ¯ä¸ªä»£ç†å®ç°ç±»å®ç°çš„æ¥å£éƒ½å†™æ­»äº†ï¼Œå¦‚æœæ¯ä¸ªä¸šåŠ¡éƒ½éœ€è¦å¢åŠ åŠŸèƒ½ï¼Œéƒ½éœ€è¦åˆ›å»ºå“åº”çš„ä»£ç†ç±»ï¼Œ</p><p>æ‰€ä»¥åŠ¨æ€ä»£ç†æ²¹ç„¶è€Œç”Ÿï¼Œå†™ä¸€ä¸ªé€šç”¨çš„ä»£ç†å®ç°ç±»ï¼Œå½“è¿è¡Œæ—¶æ ¹æ®è°ƒç”¨çš„å¯¹è±¡æ¥åŠ¨æ€ç”Ÿæˆä»£ç†ç±»ï¼Œ</p><p>å…¶åŠ¨æ€ä»£ç†ç±»çš„ç‰¹ç‚¹åœ¨äºï¼šä¸çŸ¥é“è¦åˆ›å»ºå“ªä¸ªè¢«ä»£ç†å¯¹è±¡çš„ä»£ç†ç±»ï¼Œä¸çŸ¥é“è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼Œå› æ­¤ä½¿ç”¨åˆ°åå°„æ¥è·å–å…¶ä»£ç†å¯¹è±¡å’Œä»£ç†æ–¹æ³•ã€‚</p></blockquote><p><strong>åŠ¨æ€ä»£ç†</strong></p><p>æ™®é€šé™æ€ä»£ç†ï¼Œæ˜¯æŒ‡ä»£ç†ç±»å’ŒåŸå§‹å¯¹è±¡çš„ç±»éƒ½å·²ç»åœ¨<strong>ç¼–è¯‘æ—¶æœŸ</strong>ç¡®å®šä¸‹æ¥ï¼Œä¸åˆ©äºç¨‹åºçš„æ‰©å±•ï¼Œè€Œä¸”ä¸€ä¸ªä»£ç†ç±»åªèƒ½ä¸ºä¸€ä¸ªæ¥å£æœåŠ¡ã€‚è€ŒåŠ¨æ€ä»£ç†å®¢æˆ·é€šè¿‡ä»£ç†ç±»è°ƒç”¨å…¶ä»–å¯¹è±¡çš„æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨ç¨‹åº<strong>è¿è¡Œæ—¶æ ¹æ®éœ€è¦åŠ¨æ€</strong>åˆ›å»º<strong>ä»£ç†å¯¹è±¡</strong>ã€‚</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæ¥å£ï¼ŒJDKåŠ¨æ€ä»£ç†åŸºäºæ¥å£å®ç°ï¼Œæ‰€ä»¥æ¥å£å¿…ä¸å¯å°‘ï¼ˆå‡†å¤‡å·¥ä½œï¼‰</span>    <span class="token comment" spellcheck="true">//æ¥å£</span>    <span class="token keyword">interface</span> <span class="token class-name">Man</span><span class="token punctuation">{</span>        <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//è¢«ä»£ç†ç±»</span>    <span class="token keyword">class</span> <span class="token class-name">ManImpl</span> <span class="token keyword">implements</span> <span class="token class-name">Man</span><span class="token punctuation">{</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯´è¯ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//ç¬¬äºŒæ­¥ï¼šå®ç°InvocationHandleræ¥å£ï¼Œé‡å†™invokeæ–¹æ³•ï¼ˆå‡†å¤‡å·¥ä½œï¼‰</span>    <span class="token comment" spellcheck="true">//åŠ¨æ€ä»£ç†å®ç°ç±»</span>    <span class="token keyword">class</span> <span class="token class-name">MyHandler</span> <span class="token keyword">implements</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//åˆ›å»ºhandlerå¯¹è±¡æ—¶ï¼Œåˆå§‹åŒ–obj</span>        <span class="token keyword">private</span> Object obj <span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token function">MyHandler</span><span class="token punctuation">(</span>Object obj<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>obj <span class="token operator">=</span> obj<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//æ‰§è¡Œæ–¹æ³•</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> Object <span class="token function">invoke</span><span class="token punctuation">(</span>Object proxy<span class="token punctuation">,</span> Method method<span class="token punctuation">,</span> Object<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Throwable <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å‰ç½®æ“ä½œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åç½®æ“ä½œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> null<span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨Proxyçš„é™æ€æ–¹æ³•newProxyInstanceæ–¹æ³•ç”Ÿæˆä»£ç†å®ä¾‹ï¼ˆç”Ÿæˆå®ä¾‹æ—¶éœ€è¦æä¾›ç±»åŠ è½½å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¥å£ç±»çš„åŠ è½½å™¨å³å¯ï¼‰</span>        <span class="token keyword">public</span> Object <span class="token function">getProxyInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> Proxy<span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>            Man man <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ManImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åˆ›å»ºè¢«ä»£ç†å¯¹è±¡</span>            MyHandler handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyHandler</span><span class="token punctuation">(</span>man<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åˆ›å»ºhandler</span>            <span class="token comment" spellcheck="true">//Man manImpl = (Man) handler.getProxyInstance();//åˆ›å»ºä»£ç†ç±»</span>            Man manImpl <span class="token operator">=</span> <span class="token punctuation">(</span>Man<span class="token punctuation">)</span> Proxy<span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>ManImpl<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ManImpl<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ç¬¬å››æ­¥ï¼šä½¿ç”¨æ–°ç”Ÿæˆçš„ä»£ç†å®ä¾‹è°ƒç”¨æŸä¸ªæ–¹æ³•å®ç°åŠŸèƒ½ã€‚</span>            manImpl<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ‰§è¡Œæ–¹æ³•</span>    <span class="token punctuation">}</span></code></pre><h3 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h3><p><strong>éœ€æ±‚</strong>ï¼šå†™ä¸€ä¸ªâ€æ¡†æ¶â€ï¼Œå¯ä»¥å¸®æˆ‘ä»¬åˆ›å»ºä»»æ„ç±»çš„å¯¹è±¡ï¼Œå¹¶ä¸”æ‰§è¡Œå…¶ä¸­ä»»æ„æ–¹æ³•</p><p>æ€è·¯ï¼šåˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œå†™å…¥å…¨ç±»åå’Œæ–¹æ³•åï¼Œå°†é…ç½®æ–‡ä»¶åŠ è½½è¿›å†…å­˜ï¼Œè·å–é…ç½®æ–‡ä»¶çš„å€¼ï¼Œåˆ›å»ºå¯¹è±¡ï¼Œæ‰§è¡Œæ–¹æ³•</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReflectTest</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//è·å–propertieså¯¹è±¡</span>        Properties properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//åŠ è½½é…ç½®æ–‡ä»¶</span>        InputStream is <span class="token operator">=</span> ReflectTest<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"pro.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//è·å–é…ç½®æ–‡ä»¶çš„å€¼</span>        String className <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"className"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        String methodName <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"methodName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//è·å–classå¯¹è±¡</span>        Class <span class="token class-name">cls</span> <span class="token operator">=</span> Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//åˆ›å»ºå¯¹è±¡ï¼Œæ‰§è¡Œæ–¹æ³•</span>        <span class="token comment" spellcheck="true">//è¿™é‡Œcls.newInstance()è¢«åºŸå¼ƒäº†</span>        Object obj <span class="token operator">=</span> cls<span class="token punctuation">.</span><span class="token function">getDeclaredConstructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Method method <span class="token operator">=</span> cls<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span>methodName<span class="token punctuation">)</span><span class="token punctuation">;</span>        method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>é—®é¢˜</strong></p><ol><li><p>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨åå°„çš„æ–¹å¼</p><pre><code>åå°„æ˜¯è§†ä¸ºåŠ¨æ€è¯­è¨€çš„å…³é”®ï¼Œåå°„æœºåˆ¶å…è®¸ç¨‹åºåœ¨è¿è¡ŒæœŸå€ŸåŠ©apiè·å–ä»»æ„ç±»çš„å†…éƒ¨ä¿¡æ¯ï¼Œå¹¶å¯ä»¥ç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§å’Œæ–¹æ³•åå°„çš„ç‰¹å¾ï¼šåŠ¨æ€æ€§ã€‚å½“ä¸ç¡®å®šå®ä¾‹åŒ–å“ªä¸ªå¯¹è±¡å’Œæ–¹æ³•çš„æ—¶å€™ï¼Œæ‰ç”¨å¾—åˆ°åå°„</code></pre></li><li><p>åå°„æœºåˆ¶ä¸é¢å‘å¯¹è±¡ä¸­çš„å°è£…æ€§æ˜¯ä¸æ˜¯çŸ›ç›¾çš„ï¼Ÿå¦‚ä½•çœ‹å¾…ä¸¤ä¸ªæŠ€æœ¯ï¼Ÿ</p><pre><code>ä¸çŸ›ç›¾ï¼Œä¸¤ä¸ªçš„ç›®çš„æ€§ä¸ä¸€æ ·é¢å‘å¯¹è±¡çš„å°è£…æ€§çš„ç›®çš„å°±æ˜¯ä¸ºäº†è®©äººçŸ¥é“ï¼Œå“ªäº›å±æ€§æ¨èä½ è°ƒç”¨çš„ï¼Œå“ªäº›å±æ€§å¹¶ä¸éœ€è¦è°ƒç”¨ä¹Ÿèƒ½å®ç°ç›¸åŒçš„æ•ˆæœã€‚åå°„æœºåˆ¶çš„ç›®çš„æ˜¯è¡¨æ˜è‡ªå·±å¯ä»¥è°ƒç”¨è¿™äº›å±æ€§ï¼Œè™½ç„¶ä¸æ¨èè°ƒç”¨ï¼Œä½†æ˜¯å¦‚æœçœŸçš„æƒ³è°ƒç”¨ä¹Ÿä¸æ˜¯ä¸å¯ä»¥ã€‚</code></pre></li><li><p>å†™å‡ºè·å–Classå®ä¾‹çš„ä¸‰ç§å¸¸è§æ–¹å¼</p><pre class=" language-java"><code class="language-java">Class <span class="token class-name">clazz</span> <span class="token operator">=</span> Person<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>Class <span class="token class-name">clazz</span> <span class="token operator">=</span> Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.jm.java.Person"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Class <span class="token class-name">clazz</span> <span class="token operator">=</span> person<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>å…³äºClassç±»çš„ç†è§£</p><pre><code>1.Classå®ä¾‹å¯¹åº”åŠ è½½åˆ°å†…å­˜ä¸­çš„ä¸€ä¸ªè¿è¡Œæ—¶ç±»2.Classå®ä¾‹è°ƒå–å…¶ä¸­çš„æ–¹æ³•ï¼Œå°±æ˜¯è°ƒå–å¯¹åº”è¿è¡Œæ—¶ç±»çš„ç»“æ„</code></pre></li><li><p>åˆ›å»ºClasså¯¹åº”è¿è¡Œæ—¶ç±»çš„å¯¹è±¡çš„é€šç”¨æ–¹æ³•ï¼Œä»¥åŠè¿™æ ·æ“ä½œï¼Œéœ€è¦å¯¹åº”è¿è¡Œæ—¶ç±»æ„é€ å™¨æ–¹é¢æ»¡è¶³çš„è¦æ±‚</p><pre class=" language-java"><code class="language-java">Object obj <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token number">1</span><span class="token punctuation">.</span>å¿…é¡»è¦æœ‰ç©ºå‚æ„é€ å™¨<span class="token number">2</span><span class="token punctuation">.</span>ç©ºå‚æ„é€ å™¨çš„æƒé™ä¿®é¥°ç¬¦çš„æƒé™è¦å¤Ÿï¼Œé€šå¸¸ä¸º<span class="token keyword">public</span></code></pre></li><li><p>è°ƒç”¨æ–¹æ³•</p><pre class=" language-java"><code class="language-java">Class <span class="token class-name">clazz</span> <span class="token operator">=</span> Person<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>Person person <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token punctuation">)</span>clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Method method <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>method<span class="token punctuation">.</span><span class="token function">setAccessable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>è¯»å–é…ç½®æ–‡ä»¶</p><pre class=" language-java"><code class="language-java">Properties props <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ClassLoader classloader <span class="token operator">=</span> test<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>InputStream is <span class="token operator">=</span> classloader<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>props<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>åå°„æœºåˆ¶èƒ½æä¾›çš„åŠŸèƒ½</p><pre><code>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•åœ¨è¿è¡Œæ—¶è·å–æ³›å‹ä¿¡æ¯åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡ä¸æ–¹æ³•åœ¨è¿è¡Œæ—¶å¤„ç†æ³¨è§£ç”ŸæˆåŠ¨æ€ä»£ç†</code></pre></li><li><p>ç›¸å…³API</p><pre class=" language-java"><code class="language-java">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Class<span class="token class-name">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span>Method</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span>Field</code></pre></li><li><p>åˆ›å»ºç±»çš„å¯¹è±¡çš„æ–¹å¼</p></li></ol><pre><code>1. new+æ„é€ å™¨2. å·¥å…·ç±»ä¸­æ˜¯å¦æœ‰é™æ€æ–¹æ³•å­˜åœ¨3. é€šè¿‡åå°„</code></pre><pre><code>åå°„æœºåˆ¶å°±æ˜¯ç¨‹åº.javaæ–‡ä»¶åœ¨ç¼–è¯‘ä¹‹åç”Ÿæˆclassæ–‡ä»¶ï¼Œé€šè¿‡ç±»åŠ è½½å™¨å°†classæ–‡ä»¶åŠ è½½è¿›å†…å­˜ï¼ŒåŠ è½½è¿›å†…å­˜çš„å°±ç§°ä¹‹ä¸ºè¿è¡Œæ—¶ç±»ï¼Œè€Œè¿è¡Œæ—¶ç±»å°±å¯¹åº”ç€ä¸€ä¸ªclasså®ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ“ä½œè¿™ä¸ªå®ä¾‹æ¥è·å–è¿è¡Œæ—¶ç±»å¯¹åº”çš„å±æ€§åŠæ–¹æ³•ã€‚åå°„çš„åŠ¨æ€æ€§ï¼šå› ä¸ºæ˜¯æ“æ§classå®ä¾‹ï¼Œå·²ç»ç»è¿‡äº†ç¼–è¯‘è¿‡ç¨‹è¿›å…¥è¿è¡Œè¿‡ç¨‹ï¼Œæ¢å¥è¯è¯´æˆ‘ä»¬åªæœ‰åœ¨è¿è¡Œç¨‹åºæ—¶æ‰çŸ¥é“åˆ°åº•åˆ›å»ºäº†å“ªä¸ªå¯¹è±¡ï¼Œä»è€Œè¿›è¡Œç›¸åº”å¯¹è±¡çš„é€»è¾‘æ“ä½œ</code></pre>]]></content>
      
      
      <categories>
          
          <category> JavaEE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åå°„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåšå®¢å¤‡ä»½</title>
      <link href="/2020/08/01/hexo/hexo-bo-ke-bei-fen/"/>
      <url>/2020/08/01/hexo/hexo-bo-ke-bei-fen/</url>
      
        <content type="html"><![CDATA[<h1 id="Hexoåšå®¢å¤‡ä»½"><a href="#Hexoåšå®¢å¤‡ä»½" class="headerlink" title="Hexoåšå®¢å¤‡ä»½"></a>Hexoåšå®¢å¤‡ä»½</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä½¿ç”¨Hexoåœ¨githubæ­å»ºçš„åšå®¢ï¼Œåšå®¢ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„GitHubä»“åº“å­˜åœ¨ï¼Œä½†æ˜¯è¿™ä¸ªä»“åº“åªæœ‰ç”Ÿæˆçš„é™æ€ç½‘é¡µæ–‡ä»¶ï¼Œå¹¶æ²¡æœ‰Hexoçš„æºæ–‡ä»¶ï¼Œå¦‚æœè¦æ¢ç”µè„‘æˆ–è€…é‡è£…ç³»ç»Ÿåï¼Œå°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œè¿™é‡Œæ¨èä¸€ç§æ–¹æ³•ã€‚</p><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>æˆ‘ä»¬çš„åšå®¢æ˜¯æ‰˜ç®¡åˆ° GitHubï¼ˆCodingï¼‰ ä¸Šçš„ã€‚è€Œæˆ‘ä»¬æ¯æ¬¡ä¸Šä¼ ï¼ˆ<code>hexo d</code>ï¼‰çš„æ˜¯ç½‘é¡µæ–‡ä»¶ï¼Œä¸æ˜¯æˆ‘ä»¬çš„æ–‡ç« ï¼Œæ‰€ä»¥æˆ‘ä»¬å¦‚æœæƒ³ä¸Šä¼ æ–‡ç« ï¼Œä½†åŒæ—¶ä¸ä¼šå¹²æ‰°åˆ°ç½‘é¡µéƒ¨ç½²ï¼Œå°±åœ¨ GitHub çš„åšå®¢ä»“åº“ä¸Šå»ºç«‹ä¸€ä¸ªåˆ†æ”¯ hexoã€‚</p><p>è¿™ä¸ª hexo åˆ†æ”¯çš„ä½œç”¨å°±æ˜¯ç”¨æ¥ä¿å­˜æˆ‘çš„åšå®¢æ‰€æœ‰æ–‡ä»¶ã€‚æ‰€ä»¥ç¬¬ä¸€æ­¥æˆ‘ä»¬å°±è·å¾—äº†åšå®¢ä»“åº“çš„ .git æ–‡ä»¶å¤¹ï¼Œä½œç”¨å°±æ˜¯åˆ©ç”¨å®ƒè¿æ¥åˆ°æˆ‘ä»¬çš„åšå®¢ä»“åº“ï¼Œè€Œä¸”å»ºç«‹åˆ†æ”¯ hexoã€‚æ‰€ä»¥æ‹¿åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å°±æŠŠé™¤äº†å®ƒçš„å…¶ä»–æ–‡ä»¶åˆ æ‰ã€‚</p><p>ç„¶ååˆ©ç”¨è¿™ä¸ªåˆ†æ”¯ï¼ŒæŠŠæˆ‘ä»¬çš„ MarkDown æ–‡ç« å’Œå…¶ä»–æ–‡ä»¶ä¸Šä¼ åˆ° GitHub æ‰˜ç®¡ã€‚è¿™æ · <code>hexo d</code>æ¨é€çš„æ˜¯ master åˆ†æ”¯ï¼Œè€Œ <code>git push</code> æ¨é€çš„æ˜¯ hexo åˆ†æ”¯ï¼Œäº’ä¸å¹²æ‰°ã€‚</p><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><h3 id="1-è·å–-gitæ–‡ä»¶"><a href="#1-è·å–-gitæ–‡ä»¶" class="headerlink" title="1. è·å–.gitæ–‡ä»¶"></a>1. è·å–.gitæ–‡ä»¶</h3><ol><li><p>æˆ‘ä»¬å…ˆå»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåå­—éšä¾¿ï¼Œæˆ‘è¿™é‡Œå« hexoï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ç©ºç™½å¤„ï¼Œå¯åŠ¨ GitBash</p></li><li><p>å…ˆå…‹éš†æˆ‘ä»¬åšå®¢çš„ä»“åº“</p><pre><code>git clone https://e.coding.net/fenghen0918/fenghen0918.git</code></pre><p>è¿™é‡Œä»…ä»…åªæ˜¯ä¸ºäº†è·å¾—ç‰ˆæœ¬ç®¡ç†çš„ <strong>.git</strong> éšè—æ–‡ä»¶å¤¹ã€‚</p></li></ol><h3 id="2-å»ºç«‹åˆ†æ”¯"><a href="#2-å»ºç«‹åˆ†æ”¯" class="headerlink" title="2. å»ºç«‹åˆ†æ”¯"></a>2. å»ºç«‹åˆ†æ”¯</h3><p>å»ºç«‹ä¸€ä¸ªåˆ†æ”¯ï¼Œæˆ‘è¿™é‡Œåˆ†æ”¯åä¸º hexo ï¼Œè¾“å…¥ä»£ç </p><pre><code>git checkout -b hexo</code></pre><h3 id="3-æ¸…ç©º-hexo-åˆ†æ”¯"><a href="#3-æ¸…ç©º-hexo-åˆ†æ”¯" class="headerlink" title="3. æ¸…ç©º hexo åˆ†æ”¯"></a>3. æ¸…ç©º hexo åˆ†æ”¯</h3><p>å…‹éš†ä¸‹æ¥çš„éƒ½æ˜¯ç¼–è¯‘åçš„é™æ€é¡µé¢ï¼Œç›´æ¥åˆ é™¤ç•™ä¸‹.gitå³å¯ã€‚</p><ol><li><p>åˆ é™¤é™¤äº† .git æ–‡ä»¶å¤¹çš„æ‰€æœ‰æ–‡ä»¶ã€‚æˆ‘ä»¬åªéœ€è¦è¿™ä¸ªç‰ˆæœ¬ç®¡ç†ï¼Œåœ¨åˆ é™¤åé€šè¿‡ä»£ç  <code>git status</code> æŸ¥çœ‹</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/hb1.png" alt="123"></p></li><li><p>å¢åŠ åˆ°æš‚å­˜åŒº</p><pre><code>git add --all</code></pre></li><li><p>æäº¤åˆ°æœ¬åœ°ä»“åº“</p><pre><code>git commit -m  "æ¸…ç©ºhexoåˆ†æ”¯ä»“åº“"</code></pre></li><li><p>æœ€åæˆ‘ä»¬æ¨é€åˆ°è¿œç«¯æ›´æ–°</p><pre><code>git push --set-upstream origin hexo</code></pre><p>è¿™é‡ŒåŒæ—¶è®¾ç½®äº†ä»¥åé»˜è®¤ä¸ºhexoåˆ†æ”¯ï¼Œå›åˆ°åšå®¢çš„æ ¹ç›®å½•ä¸‹å°±èƒ½çœ‹åˆ°ã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/JJ4@GVG[HYUI8$NL~TMR5_S.png" alt="img"></p><blockquote><p>æ³¨æ„ï¼šè¿™æ—¶é»˜è®¤åˆ†æ”¯ä¸ºhexoï¼Œä½†åšå®¢éƒ¨ç½²çš„è¿˜æ˜¯masteråˆ†æ”¯ï¼Œæ­¤é…ç½®åœ¨config.ymlä¸­é…ç½®çš„</p><pre><code>deploy:  type: git  repo: https://github.com/Witman1999/Witman1999.github.io.git  branch: master #æäº¤çš„é»˜è®¤åˆ†æ”¯</code></pre></blockquote></li></ol><h3 id="4-ç§»åŠ¨-gitæ–‡ä»¶"><a href="#4-ç§»åŠ¨-gitæ–‡ä»¶" class="headerlink" title="4. ç§»åŠ¨.gitæ–‡ä»¶"></a>4. ç§»åŠ¨.gitæ–‡ä»¶</h3><p>æŠŠ .git æ–‡ä»¶å¤¹ç§»åŠ¨åˆ°åšå®¢çš„æ ¹ç›®å½•ä¸‹</p><h3 id="5-æäº¤æºæ–‡ä»¶"><a href="#5-æäº¤æºæ–‡ä»¶" class="headerlink" title="5. æäº¤æºæ–‡ä»¶"></a>5. æäº¤æºæ–‡ä»¶</h3><blockquote><p>æ³¨æ„ï¼šå¦‚æœä½ çš„ä¸»é¢˜æ–‡ä»¶ï¼Œæ˜¯å…‹éš† Github ä¸‹æ¥çš„ï¼Œé‚£ä¹ˆä¼šå¸¦æœ‰è¯¥ä¸»é¢˜çš„ Github çš„ .git ç‰ˆæœ¬ç®¡ç†æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ .git æ–‡ä»¶å¤¹ã€‚æ‰€ä»¥ä¸»é¢˜ä¸‹é¢çš„è¦åˆ é™¤ .git æ–‡ä»¶å¤¹å’Œ .gitignore æ–‡ä»¶ï¼Œå¦åˆ™ä¼šå¿½ç•¥è¿™ä¸ª next ä¸»é¢˜çš„ä¸Šä¼ ã€‚</p></blockquote><p>æ¨é€ Github çš„ä»“åº“çš„æ­¥éª¤ï¼Œåœ¨åšå®¢çš„æ ¹ç›®å½•ä¸‹ï¼Œè¾“å…¥</p><pre><code>git add --allgit commit -m â€œæäº¤æºæ–‡ä»¶â€git push ï¼ˆè¿™é‡Œè¦ç¡®ä¿æäº¤çš„åˆ†æ”¯ä¸º hexo ï¼Œåœ¨å‰é¢çš„æ­¥éª¤å¯ä»¥æŸ¥çœ‹ï¼Œå¦‚æœä¸æ˜¯å¯ä»¥è¾“å…¥ git checkout hexoåˆ‡æ¢åˆ†æ”¯ï¼‰</code></pre><p>æ­¤æ—¶ä¼šå‘ç°åœ¨è¿œç¨‹ä»“åº“çš„Hexoåˆ†æ”¯ä¸­å·²ç»æ¨é€äº†ç»å¤§éƒ¨åˆ†æ–‡ä»¶ï¼Œåªæœ‰ä¸€äº›è¢«å¿½ç•¥çš„æ–‡ä»¶ï¼Œè¿™äº›è¢«å¿½ç•¥çš„å¹¶ä¸éœ€è¦æ‹·è´</p><ol><li><p><code>_config.yml</code>ç«™ç‚¹çš„é…ç½®æ–‡ä»¶ï¼Œéœ€è¦æ‹·è´ï¼›</p></li><li><p><code>themes/</code>ä¸»é¢˜æ–‡ä»¶å¤¹ï¼Œéœ€è¦æ‹·è´ï¼›</p></li><li><p><code>source</code>åšå®¢æ–‡ç« çš„.mdæ–‡ä»¶ï¼Œéœ€è¦æ‹·è´ï¼›</p></li><li><p><code>scaffolds/</code>æ–‡ç« çš„æ¨¡æ¿ï¼Œéœ€è¦æ‹·è´ï¼›</p></li><li><p><code>package.json</code>å®‰è£…åŒ…çš„åç§°ï¼Œéœ€è¦æ‹·è´ï¼›</p></li><li><p><code>.gitignore</code>é™å®šåœ¨pushæ—¶å“ªäº›æ–‡ä»¶å¯ä»¥å¿½ç•¥ï¼Œéœ€è¦æ‹·è´ï¼›</p></li><li><p><code>.git/</code>ä¸»é¢˜å’Œç«™ç‚¹éƒ½æœ‰ï¼Œæ ‡å¿—è¿™æ˜¯ä¸€ä¸ªgité¡¹ç›®ï¼Œä¸éœ€è¦æ‹·è´ï¼›</p></li><li><p><code>node_modules/</code>æ˜¯å®‰è£…åŒ…çš„ç›®å½•ï¼Œåœ¨æ‰§è¡Œ<code>npm install</code>çš„æ—¶å€™ä¼šé‡æ–°ç”Ÿæˆï¼Œä¸éœ€è¦æ‹·è´ï¼›</p></li><li><p><code>public</code>æ˜¯<code>hexo g</code>ç”Ÿæˆçš„é™æ€ç½‘é¡µï¼Œä¸éœ€è¦æ‹·è´ï¼›</p></li><li><p><code>.deploy_git</code>åŒä¸Šï¼Œ<code>hexo g</code>ä¹Ÿä¼šç”Ÿæˆï¼Œä¸éœ€è¦æ‹·è´ï¼›</p></li><li><p><code>db.json</code>æ–‡ä»¶ï¼Œä¸éœ€è¦æ‹·è´ã€‚</p></li></ol><p>å…¶å®ä¸éœ€è¦æ‹·è´çš„æ–‡ä»¶æ­£æ˜¯<code>.gitignore</code>ä¸­æ‰€å¿½ç•¥çš„ã€‚</p><h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><p>åœ¨æœ¬åœ°å¯¹åšå®¢ä¿®æ”¹ï¼ˆåŒ…æ‹¬ä¿®æ”¹ä¸»é¢˜æ ·å¼ã€å‘å¸ƒæ–°æ–‡ç« ç­‰ï¼‰åï¼š</p><ol><li>ä¾æ¬¡æ‰§è¡Œ<code>git add .</code>ã€<code>git commit -m "æ¨é€"</code>ã€<code>git push origin hexo</code>æ¥æäº¤hexoç½‘ç«™æºæ–‡ä»¶ï¼Œå› ä¸ºæˆ‘è®¾ç½®äº†é»˜è®¤hexoåˆ†æ”¯ï¼Œç›´æ¥è¾“å…¥<code>git push</code>å³å¯ï¼›</li><li>æ‰§è¡Œ<code>hexo g -d</code>ç”Ÿæˆé™æ€ç½‘é¡µéƒ¨ç½²è‡³Githubä¸Šï¼Œæˆ‘ä½¿ç”¨äº†gulpæ’ä»¶å‹ç¼©ä»£ç ï¼Œæ‰€ä»¥ç›´æ¥è¾“å…¥<code>gulp</code>ï¼Œ<code>hexo d</code>å³å¯ã€‚</li></ol><h2 id="æ¢å¤"><a href="#æ¢å¤" class="headerlink" title="æ¢å¤"></a>æ¢å¤</h2><h3 id="1-é…ç½®Hexoç¯å¢ƒ"><a href="#1-é…ç½®Hexoç¯å¢ƒ" class="headerlink" title="1.é…ç½®Hexoç¯å¢ƒ"></a>1.é…ç½®Hexoç¯å¢ƒ</h3><p>é‡è£…ç”µè„‘åï¼Œæˆ–è€…åœ¨å…¶å®ƒç”µè„‘ä¸Šæƒ³ä¿®æ”¹åšå®¢ï¼š</p><ol><li>å®‰è£…gitï¼›</li><li>å®‰è£…Nodejså’Œnpmï¼›</li><li>ä½¿ç”¨<code>git clone git@github.com:WincerChan/WincerChan.github.io.git</code>å°†ä»“åº“æ‹·è´è‡³æœ¬åœ°ï¼›</li><li>åœ¨æ–‡ä»¶å¤¹å†…æ‰§è¡Œä»¥ä¸‹å‘½ä»¤<code>npm install hexo-cli -g</code>ã€<code>npm install</code>ã€<code>npm install hexo-deployer-git</code>ã€‚</li></ol><h3 id="2-æ·»åŠ ssh-keys"><a href="#2-æ·»åŠ ssh-keys" class="headerlink" title="2.æ·»åŠ ssh-keys"></a>2.æ·»åŠ ssh-keys</h3><ol><li>åœ¨ç»ˆç«¯ä¸‹è¿è¡Œï¼š<code>ssh-keygen -t rsa -C "yourname@email.com"</code>ï¼Œä¸€è·¯å›è½¦ï¼›</li><li>ä¼šåœ¨.sshç›®å½•ç”Ÿæˆ<code>id_rsa</code>ã€<code>id_rsa.pub</code>ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿™å°±æ˜¯å¯†é’¥å¯¹ï¼Œid_rsaæ˜¯ç§é’¥ï¼Œåƒä¸‡ä¸èƒ½æ³„æ¼å‡ºå»ï¼›</li><li>ç™»å½•Githubï¼Œæ‰“å¼€ã€ŒSettingsã€â€“&gt;ã€ŒSSH and GPG keysã€ï¼Œç„¶åç‚¹å‡»ã€Œnew SSH keyã€ï¼Œå¡«ä¸Šä»»æ„Titleï¼Œåœ¨Keyæ–‡æœ¬æ¡†é‡Œç²˜è´´å…¬é’¥id_rsa.pubæ–‡ä»¶çš„å†…å®¹ï¼Œæ³¨æ„ä¸è¦ç²˜è´´æˆ<code>id_rsa</code>ï¼Œæœ€åç‚¹å‡»ã€ŒAdd SSH Keyã€ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux</title>
      <link href="/2020/07/29/linux/linux/"/>
      <url>/2020/07/29/linux/linux/</url>
      
        <content type="html"><![CDATA[<h2 id="Linuxï¼ˆCentOS-7ï¼‰"><a href="#Linuxï¼ˆCentOS-7ï¼‰" class="headerlink" title="Linuxï¼ˆCentOS 7ï¼‰"></a>Linuxï¼ˆCentOS 7ï¼‰</h2><h3 id="å›¾å½¢åŒ–ç•Œé¢"><a href="#å›¾å½¢åŒ–ç•Œé¢" class="headerlink" title="å›¾å½¢åŒ–ç•Œé¢"></a>å›¾å½¢åŒ–ç•Œé¢</h3><ul><li><p>CentOS 7ä¸‹è½½ï¼š<a href="https://www.jianshu.com/p/a63f47e096e8">https://www.jianshu.com/p/a63f47e096e8</a></p></li><li><p>å®‰è£…ï¼š<a href="https://www.bilibili.com/video/BV1ZJ411g7Kk/?spm_id_from=333.788.videocard.1">https://www.bilibili.com/video/BV1ZJ411g7Kk/?spm_id_from=333.788.videocard.1</a></p></li><li><p>Linuxæ˜¯åŸºäºUnixçš„</p></li><li><p>Linuxçš„ç‰ˆæœ¬åˆ†ä¸ºä¸¤ç§ï¼šå†…æ ¸ç‰ˆæœ¬å’Œå‘è¡Œç‰ˆæœ¬</p></li></ul><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312180507.png"></p><h3 id="å¸¸ç”¨çš„è™šæ‹ŸåŸä»¶ï¼š"><a href="#å¸¸ç”¨çš„è™šæ‹ŸåŸä»¶ï¼š" class="headerlink" title="å¸¸ç”¨çš„è™šæ‹ŸåŸä»¶ï¼š"></a>å¸¸ç”¨çš„è™šæ‹ŸåŸä»¶ï¼š</h3><ol><li>VMware workstation æ”¶è´¹ï¼ˆå¯ç ´è§£ï¼‰</li><li>VirtualBox å…è´¹</li></ol><h3 id="è¿œç¨‹æ“æ§è™šæ‹Ÿæœºï¼š"><a href="#è¿œç¨‹æ“æ§è™šæ‹Ÿæœºï¼š" class="headerlink" title="è¿œç¨‹æ“æ§è™šæ‹Ÿæœºï¼š"></a>è¿œç¨‹æ“æ§è™šæ‹Ÿæœºï¼š</h3><p>CRTï¼šé€‰é¡¹â€“ä¼šè¯é€‰é¡¹â€“å¤–è§‚å­—ä½“ã€ä»¿çœŸç»ˆç«¯Linux</p><hr><h3 id="Linuxçš„ç›®å½•ç»“æ„"><a href="#Linuxçš„ç›®å½•ç»“æ„" class="headerlink" title="Linuxçš„ç›®å½•ç»“æ„"></a>Linuxçš„ç›®å½•ç»“æ„</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312180450.png"></p><ul><li>/ï¼šæ ¹ç›®å½•</li><li>~ï¼šæ ¹æ®ä¸åŒç”¨æˆ·ï¼Œä»£è¡¨ç”¨æˆ·</li></ul><hr><h3 id="Linuxå¸¸è§å‘½ä»¤"><a href="#Linuxå¸¸è§å‘½ä»¤" class="headerlink" title="Linuxå¸¸è§å‘½ä»¤"></a>Linuxå¸¸è§å‘½ä»¤</h3><h3 id="æ€»ç»“å¸¸è§å‘½ä»¤"><a href="#æ€»ç»“å¸¸è§å‘½ä»¤" class="headerlink" title="æ€»ç»“å¸¸è§å‘½ä»¤"></a>æ€»ç»“å¸¸è§å‘½ä»¤</h3><p>æŸ¥çœ‹ç¯å¢ƒå˜é‡å€¼ï¼šecho $PATHï¼ˆæŸ¥çœ‹pathå˜é‡ï¼‰</p><p>æ£€æŸ¥gccçš„ç‰ˆæœ¬ï¼šgcc -v</p><p>æ£€æŸ¥æ–‡ä»¶å¤¹å¤§å°ï¼šdu -sh æ–‡ä»¶å</p><p>æ¸…ç©ºæ–‡ä»¶å†…å®¹ï¼ˆç”¨äºæ¸…ç©ºæ—¥å¿—ï¼‰ï¼šcp /dev/null catalina.out</p><p>é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡ï¼šsource /etc/profile</p><p>æŸ¥çœ‹æ“ä½œç³»ç»Ÿä½æ•°ï¼šuname -aï¼Œå¦‚æœä¿¡æ¯ä¸­æœ‰x86_64ï¼Œåˆ™æ˜¯64ä½ï¼Œæ²¡æœ‰å°±æ˜¯32ä½</p><p>åŠ¨æ€æŸ¥çœ‹æ—¥å¿—ï¼štail -f catalina.outï¼Œå¦‚æœæŸ¥çœ‹å100è¡Œï¼š-100f</p><h4 id="åˆ—å‡ºæ–‡ä»¶åˆ—è¡¨ï¼šlsï¼ˆæŸ¥çœ‹æ–‡ä»¶ååˆ—è¡¨ï¼‰-llï¼ˆæŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨è¯¦ç»†ä¿¡æ¯ï¼‰"><a href="#åˆ—å‡ºæ–‡ä»¶åˆ—è¡¨ï¼šlsï¼ˆæŸ¥çœ‹æ–‡ä»¶ååˆ—è¡¨ï¼‰-llï¼ˆæŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨è¯¦ç»†ä¿¡æ¯ï¼‰" class="headerlink" title="åˆ—å‡ºæ–‡ä»¶åˆ—è¡¨ï¼šlsï¼ˆæŸ¥çœ‹æ–‡ä»¶ååˆ—è¡¨ï¼‰ llï¼ˆæŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨è¯¦ç»†ä¿¡æ¯ï¼‰"></a>åˆ—å‡ºæ–‡ä»¶åˆ—è¡¨ï¼šlsï¼ˆæŸ¥çœ‹æ–‡ä»¶ååˆ—è¡¨ï¼‰ llï¼ˆæŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨è¯¦ç»†ä¿¡æ¯ï¼‰</h4><p><code>ls -a</code>æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ã€éšè—æ–‡ä»¶</p><p><code>ll -h</code>æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ä¿¡æ¯ï¼Œæ–‡ä»¶å¤§å°å¯è¯»æ€§è¾ƒé«˜</p><p><code>ll -t</code>æŒ‰åˆ›å»ºæ—¶é—´å€’åºï¼ˆæ­£åº-trï¼‰æ’åˆ—</p><p><code>du -sh ç›®å½•è·¯å¾„</code>æ˜¾ç¤ºç›®å½•çš„çœŸå®å¤§å°</p><blockquote><p>è·¯å¾„</p><p>./ ï¼šå½“å‰ç›®å½•</p><p>../ï¼šä¸Šä¸€çº§ç›®å½•</p></blockquote><h4 id="æ˜¾ç¤ºå½“å‰ç›®å½•è·¯å¾„-pwd"><a href="#æ˜¾ç¤ºå½“å‰ç›®å½•è·¯å¾„-pwd" class="headerlink" title="æ˜¾ç¤ºå½“å‰ç›®å½•è·¯å¾„ pwd"></a>æ˜¾ç¤ºå½“å‰ç›®å½•è·¯å¾„ pwd</h4><h4 id="åˆ‡æ¢ç›®å½•å‘½ä»¤cdï¼š"><a href="#åˆ‡æ¢ç›®å½•å‘½ä»¤cdï¼š" class="headerlink" title="åˆ‡æ¢ç›®å½•å‘½ä»¤cdï¼š"></a>åˆ‡æ¢ç›®å½•å‘½ä»¤cdï¼š</h4><ul><li>cd ..ï¼ˆè¿”å›ä¸Šä¸€çº§ï¼‰ </li><li>cd /ï¼ˆè¿”å›æ ¹ç›®å½•ï¼‰ </li><li>cd ~ï¼ˆè¿”å›ç”¨æˆ·ä¸»ç›®å½•ï¼‰ </li><li>cd - ï¼ˆè¿”å›ä¸Šä¸€æ¬¡æ‰€åœ¨ç›®å½•ï¼‰</li><li>cd /usr/æ–‡æ¡£ï¼ˆè¿›å…¥ç›®æ ‡ç›®å½•ï¼‰</li></ul><h4 id="åˆ›å»ºç›®å½•å’Œç§»é™¤ç›®å½•ï¼š"><a href="#åˆ›å»ºç›®å½•å’Œç§»é™¤ç›®å½•ï¼š" class="headerlink" title="åˆ›å»ºç›®å½•å’Œç§»é™¤ç›®å½•ï¼š"></a>åˆ›å»ºç›®å½•å’Œç§»é™¤ç›®å½•ï¼š</h4><ul><li>mkdirï¼ˆåˆ›å»ºæ–‡ä»¶å¤¹ï¼‰ mkdir -p aaa/bbbï¼ˆåˆ›å»ºå¤šçº§ç›®å½•ï¼‰</li><li>rmdirï¼ˆç§»é™¤æ–‡ä»¶å¤¹ï¼‰åªèƒ½åˆ é™¤ç©ºæ–‡ä»¶å¤¹ </li></ul><h4 id="æµè§ˆæ–‡ä»¶ï¼š"><a href="#æµè§ˆæ–‡ä»¶ï¼š" class="headerlink" title="æµè§ˆæ–‡ä»¶ï¼š"></a>æµè§ˆæ–‡ä»¶ï¼š</h4><ul><li><p>catï¼ˆäº†è§£ï¼‰ã€moreã€lessï¼ˆå¤šä¸ªä¸Šä¸‹é”®åŠŸèƒ½ï¼‰ï¼šå›è½¦æ˜¾ç¤ºä¸‹ä¸€è¡Œå†…å®¹ï¼Œç©ºæ ¼æ˜¾ç¤ºä¸‹ä¸€é¡µå†…å®¹ï¼ŒæŒ‰ q é”®é€€å‡ºæŸ¥çœ‹</p></li><li><p>tailï¼šç”¨äºæ˜¾ç¤ºæ–‡ä»¶åå‡ è¡Œçš„å†…å®¹ <strong>ctrl+cç»“æŸæŸ¥çœ‹</strong></p><ul><li><p>ç”¨æ³•:</p><p>tail -10 /etc/passwd ïƒ¨ æŸ¥çœ‹å10è¡Œæ•°æ®</p><p>tail -f catalina.log ïƒ¨ åŠ¨æ€æŸ¥çœ‹æ—¥å¿—(*****)  </p></li></ul></li><li><p>head -10 æ–‡ä»¶è·¯å¾„ï¼šæŸ¥çœ‹æ–‡ä»¶çš„å‰10è¡Œ</p></li><li><p>wc æ–‡ä»¶è·¯å¾„ï¼šç»Ÿè®¡æ–‡ä»¶çš„è¡Œæ•°ã€å­—æ•°ã€å­—èŠ‚æ•°</p></li></ul><h4 id="æ–‡ä»¶æ“ä½œï¼š-ä¸Šä¸€çº§ç›®å½•-å½“å‰ç›®å½•"><a href="#æ–‡ä»¶æ“ä½œï¼š-ä¸Šä¸€çº§ç›®å½•-å½“å‰ç›®å½•" class="headerlink" title="æ–‡ä»¶æ“ä½œï¼š../ä¸Šä¸€çº§ç›®å½• ./å½“å‰ç›®å½•"></a>æ–‡ä»¶æ“ä½œï¼š../ä¸Šä¸€çº§ç›®å½• ./å½“å‰ç›®å½•</h4><h4 id="å¤åˆ¶ï¼šcp-å‰ªåˆ‡ï¼šmv"><a href="#å¤åˆ¶ï¼šcp-å‰ªåˆ‡ï¼šmv" class="headerlink" title="å¤åˆ¶ï¼šcp     å‰ªåˆ‡ï¼šmv"></a>å¤åˆ¶ï¼šcp     å‰ªåˆ‡ï¼šmv</h4><ul><li><p>ç”¨æ³•ï¼š</p><p>cp xx.txt aa  å¤åˆ¶åˆ°aaæ–‡ä»¶å¤¹ä¸­</p><p>cp xx.txt aa/yy.txt å¤åˆ¶åˆ°aaæ–‡ä»¶å¤¹ä¸­ï¼Œé‡å‘½åä¸ºyy.txt</p><p>é€‰é¡¹ï¼š</p><p>-rï¼š    cp -r aa /aa å¤åˆ¶æ–‡ä»¶å¤¹aaåˆ°æ ¹ç›®å½•ä¸‹ï¼Œ-ré€’å½’å¤åˆ¶ï¼ŒåŠ ä¸Šå¯ä»¥å¤åˆ¶æ–‡ä»¶å¤¹</p><p>-iï¼š    cp -i aa /aa å¤åˆ¶æ–‡ä»¶å¤¹åˆ°æ ¹ç›®å½•ä¸‹ï¼Œè‹¥ç›®æ ‡æ¡£å·²å­˜åœ¨ï¼Œå…ˆè¯¢é—®åŠ¨ä½œå†æ‰§è¡Œ</p><p>-pï¼š    è¿åŒæ–‡ä»¶çš„å±æ€§ä¹Ÿå¤åˆ¶è¿‡å»ï¼Œè€Œéä½¿ç”¨é»˜è®¤å±æ€§ï¼ˆå¤‡ä»½å¸¸ç”¨ï¼‰</p><p>-fï¼š    å¼ºåˆ¶å¤åˆ¶ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨ä¸”æ— æ³•å¼€å¯ï¼Œç§»é™¤å†å°è¯•ä¸€æ¬¡</p></li></ul><h4 id="åˆ é™¤ï¼šrm"><a href="#åˆ é™¤ï¼šrm" class="headerlink" title="åˆ é™¤ï¼šrm"></a>åˆ é™¤ï¼šrm</h4><ul><li><p>ç”¨æ³•ï¼š</p><p>rm -r aa å¯åˆ é™¤æ–‡ä»¶å¤¹ </p><p>rm -rf aa ä¸è¯¢é—®åˆ é™¤</p></li></ul><h4 id="æ‰“åŒ…ã€è§£å‹ï¼štarï¼ˆæ‰“åŒ…æ–‡ä»¶ï¼štarï¼Œè¢«å‹ç¼©çš„æ‰“åŒ…æ–‡ä»¶ï¼štar-gzï¼‰"><a href="#æ‰“åŒ…ã€è§£å‹ï¼štarï¼ˆæ‰“åŒ…æ–‡ä»¶ï¼štarï¼Œè¢«å‹ç¼©çš„æ‰“åŒ…æ–‡ä»¶ï¼štar-gzï¼‰" class="headerlink" title="æ‰“åŒ…ã€è§£å‹ï¼štarï¼ˆæ‰“åŒ…æ–‡ä»¶ï¼štarï¼Œè¢«å‹ç¼©çš„æ‰“åŒ…æ–‡ä»¶ï¼štar.gzï¼‰"></a>æ‰“åŒ…ã€è§£å‹ï¼štarï¼ˆæ‰“åŒ…æ–‡ä»¶ï¼štarï¼Œè¢«å‹ç¼©çš„æ‰“åŒ…æ–‡ä»¶ï¼štar.gzï¼‰</h4><ul><li><p>å¸¸ç”¨å‚æ•°ï¼š</p><p>-cï¼šåˆ›å»ºä¸€ä¸ªæ–°taræ–‡ä»¶</p><p>-vï¼šæ˜¾ç¤ºè¿è¡Œè¿‡ç¨‹çš„ä¿¡æ¯</p><p>-fï¼šæŒ‡å®šæ–‡ä»¶å</p><p>-zï¼šè°ƒç”¨gzipå‹ç¼©å‘½ä»¤è¿›è¡Œå‹ç¼©</p><p>-tï¼šæŸ¥çœ‹å‹ç¼©æ–‡ä»¶çš„å†…å®¹</p><p>-xï¼šè§£å¼€taræ–‡ä»¶</p><p><strong>æ‰“åŒ…ï¼š</strong></p><p>â€‹    tar â€“cvf xxx.tar ./* å°†å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶æ‰“åŒ…</p><p>æ‰“åŒ…å¹¶ä¸”å‹ç¼©ï¼š</p><p>â€‹    tar â€“zcvf xxx.tar.gz ./* </p><p><strong>è§£å‹</strong></p><p>â€‹    tar â€“xvf xxx.tar </p><p>â€‹    tar -zxvf xxx.tar.gz -C /usr/aaaï¼ˆå°†è§£å‹çš„ç»“æœæ”¾åœ¨aaaç›®å½•ä¸‹ï¼‰</p></li></ul><h4 id="æŸ¥æ‰¾ï¼š"><a href="#æŸ¥æ‰¾ï¼š" class="headerlink" title="æŸ¥æ‰¾ï¼š"></a>æŸ¥æ‰¾ï¼š</h4><ul><li><p>findï¼šæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶</p><ul><li><p>ç¤ºä¾‹ï¼š</p><p>find / -name ins* æŸ¥æ‰¾æ–‡ä»¶åç§°æ˜¯ä»¥inså¼€å¤´çš„æ–‡ä»¶</p><p>find / -name ins* â€“ls </p><p>find / â€“user itcast â€“ls æŸ¥æ‰¾ç”¨æˆ·itcastçš„æ–‡ä»¶</p><p>find / -type f æŸ¥æ‰¾æ ¹ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆfä»£è¡¨æ–‡ä»¶ï¼Œdä»£è¡¨æ–‡ä»¶å¤¹ï¼‰</p></li></ul></li><li><p>grepï¼šæŸ¥æ‰¾æ–‡ä»¶é‡Œç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²</p><ul><li><p>ç¤ºä¾‹ï¼š</p><p>grep lang anaconda-ks.cfg åœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾lang</p><p>grep lang anaconda-ks.cfg â€“color é«˜äº®æ˜¾ç¤º</p><p>grep lang anaconda-ks.cfg â€“color -A5 ç›¸å…³å­—ç¬¦ä¸²å‰äº”è¡Œæ˜¾ç¤º</p></li></ul></li></ul><h4 id="æŸ¥çœ‹æ—¶é—´-date"><a href="#æŸ¥çœ‹æ—¶é—´-date" class="headerlink" title="æŸ¥çœ‹æ—¶é—´ date"></a>æŸ¥çœ‹æ—¶é—´ date</h4><p>dateï¼šè¾“å‡ºå½¢å¼ 2021å¹´3æœˆ21æ—¥ æ˜ŸæœŸæ—¥ 23:42:28</p><p>date +%Fï¼šè¾“å‡ºå½¢å¼ 2021-03-21</p><p>date â€œ+%F %Tâ€ï¼šè¾“å‡ºå½¢å¼ 2021-03-21 23:42:28</p><p>date -s â€œ20220810 22:25:35â€</p><p>calï¼šæŸ¥çœ‹å½“å‰æ—¥å†</p><h4 id="å†…å­˜"><a href="#å†…å­˜" class="headerlink" title="å†…å­˜"></a>å†…å­˜</h4><ol><li><code>free -mh</code>ï¼š<strong>æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ</strong></li><li><code>sync</code>ï¼š<strong>å°†ç¼“å­˜å†™å…¥æ–‡ä»¶ç³»ç»Ÿ</strong></li><li><code>echo 3 &gt; /proc/sys/vm/drop_caches</code>ï¼š<strong>é‡Šæ”¾å†…å­˜</strong></li><li><strong>å†æ¬¡æŸ¥çœ‹å†…å­˜æƒ…å†µ</strong></li><li><code>echo 0 &gt; /proc/sys/vm/drop_caches</code>ï¼š<strong>æ¢å¤è®¾ç½®</strong></li></ol><blockquote><p>ã€€ã€€0ï¼š0æ˜¯ç³»ç»Ÿé»˜è®¤å€¼ï¼Œé»˜è®¤æƒ…å†µä¸‹è¡¨ç¤ºä¸é‡Šæ”¾å†…å­˜ï¼Œç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨ç®¡ç†</p><p>ã€€ã€€1ï¼šé‡Šæ”¾é¡µç¼“å­˜</p><p>ã€€ã€€2ï¼šé‡Šæ”¾dentrieså’Œinodes</p><p>ã€€ã€€3ï¼šé‡Šæ”¾æ‰€æœ‰ç¼“å­˜</p></blockquote><h4 id="å…¶ä»–å¸¸è§å‘½ä»¤"><a href="#å…¶ä»–å¸¸è§å‘½ä»¤" class="headerlink" title="å…¶ä»–å¸¸è§å‘½ä»¤"></a>å…¶ä»–å¸¸è§å‘½ä»¤</h4><ul><li>pwdï¼š<strong>æ˜¾ç¤ºå½“å‰ç›®å½•å</strong></li><li>touch æ–‡ä»¶åï¼š<strong>åˆ›å»ºç©ºæ–‡ä»¶</strong></li><li>clear/ctrl+Lï¼š<strong>æ¸…å±</strong></li><li>ctrl+u/ctrl+kï¼š<strong>åˆ é™¤å…‰æ ‡å‰/åå†…å®¹</strong></li><li>df -hï¼š<strong>æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ</strong></li><li>uptimeï¼š<strong>æŸ¥çœ‹æœåŠ¡å™¨è¿è¡Œæ—¶é—´</strong></li><li>uname -aï¼š<strong>æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</strong></li><li>netstat -tnlpï¼šæŸ¥çœ‹è¿›ç¨‹<ul><li>kill -9 idï¼šæ€è¿›ç¨‹</li></ul></li><li>nohup æ–‡ä»¶å &amp;ï¼š</li></ul><h4 id="é‡å®šå‘è¾“å‡º-gt-å’Œ-gt-gt-ï¼ˆç»“æœå¤åˆ¶åˆ°å¯¹åº”æ–‡ä»¶ä¸­ï¼‰"><a href="#é‡å®šå‘è¾“å‡º-gt-å’Œ-gt-gt-ï¼ˆç»“æœå¤åˆ¶åˆ°å¯¹åº”æ–‡ä»¶ä¸­ï¼‰" class="headerlink" title="é‡å®šå‘è¾“å‡º>å’Œ>>ï¼ˆç»“æœå¤åˆ¶åˆ°å¯¹åº”æ–‡ä»¶ä¸­ï¼‰"></a>é‡å®šå‘è¾“å‡º&gt;å’Œ&gt;&gt;ï¼ˆç»“æœå¤åˆ¶åˆ°å¯¹åº”æ–‡ä»¶ä¸­ï¼‰</h4><ul><li><p>cat /etc/passwd &gt; a.txt å°†è¾“å‡ºå®šå‘åˆ°a.txtä¸­ï¼ˆè¦†ç›–ï¼‰</p><p>cat /etc/passwd &gt;&gt; a.txt è¾“å‡ºå¹¶ä¸”è¿½åŠ </p></li></ul><h4 id="ç³»ç»Ÿç®¡ç†å‘½ä»¤-psï¼ˆè¿›ç¨‹ï¼‰"><a href="#ç³»ç»Ÿç®¡ç†å‘½ä»¤-psï¼ˆè¿›ç¨‹ï¼‰" class="headerlink" title="ç³»ç»Ÿç®¡ç†å‘½ä»¤ psï¼ˆè¿›ç¨‹ï¼‰"></a>ç³»ç»Ÿç®¡ç†å‘½ä»¤ psï¼ˆè¿›ç¨‹ï¼‰</h4><ul><li>ps â€“ef <strong>æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹</strong><ul><li>uidï¼šç”¨æˆ·id</li><li><strong>pidï¼šè¿›ç¨‹id</strong></li><li><strong>ppidï¼šçˆ¶çº§è¿›ç¨‹id</strong></li><li><strong>cï¼šcpuå ç”¨ç‡</strong></li><li>stimeï¼šè¿›ç¨‹å¯åŠ¨æ—¶é—´</li><li>ttyï¼šç»ˆç«¯è®¾å¤‡ï¼Œå‘èµ·è¯¥è¿›ç¨‹çš„è®¾å¤‡è¯†åˆ«ç¬¦å·ï¼Œï¼Ÿè¡¨ç¤ºç³»ç»Ÿè‡ªåŠ¨çš„</li><li>timeï¼šè¿›ç¨‹æ‰§è¡Œæ—¶é—´</li><li>cmdï¼šè¯¥è¿›ç¨‹åç§°/è·¯å¾„</li></ul></li><li>ps â€“ef | grep ssh æŸ¥æ‰¾å«æœ‰sshçš„è¿›ç¨‹<ul><li>efï¼šç³»ç»Ÿæ‰€æœ‰è¿›ç¨‹ä¿¡æ¯</li><li>uxï¼šå½“å‰ç”¨æˆ·è¿›ç¨‹ä¿¡æ¯</li><li>auxï¼šæ‰€æœ‰ç”¨æˆ·è¿›ç¨‹ä¿¡æ¯</li></ul></li><li>topï¼ˆä»»åŠ¡ç®¡ç†å™¨ï¼‰<ul><li>pidï¼šè¿›ç¨‹id</li><li>userï¼šç”¨æˆ·</li><li>prï¼šä¼˜å…ˆçº§</li><li>virtï¼šè™šæ‹Ÿå†…å­˜</li><li>resï¼šå¸¸é©»å†…å­˜</li><li>shrï¼šå…±äº«å†…å­˜ï¼ˆå®é™…å†…å­˜=å¸¸é©»å†…å­˜-å…±äº«å†…å­˜ï¼‰</li><li><strong>sï¼šè¿›ç¨‹çŠ¶æ€ï¼ˆsè¡¨ç¤ºç¡çœ ï¼Œrè¡¨ç¤ºè¿è¡Œï¼‰</strong></li><li><strong>%cpuï¼šè¡¨ç¤ºcpuå ç”¨æ¯”</strong></li><li><strong>%memï¼šå†…å­˜å ç”¨æ¯”</strong></li><li>timeï¼šæ‰§è¡Œæ—¶é—´</li><li><strong>commandï¼šè¿›ç¨‹åç§°/è·¯å¾„</strong></li></ul></li><li>topçš„å¿«æ·é”®<ul><li>Mï¼šæŒ‰å†…å­˜ä»é«˜åˆ°ä½æ’åº</li><li>Pï¼šCPUä»é«˜åˆ°ä½</li><li>1ï¼šæŸ¥çœ‹æ¯ä¸ªcpuçš„ä½¿ç”¨æƒ…å†µ</li></ul></li><li>kill 2868 æ€æ‰2868ç¼–å·çš„è¿›ç¨‹</li><li>kill all è¿›ç¨‹åç§°</li><li>kill -9 2868 å¼ºåˆ¶æ€æ­»è¿›ç¨‹</li><li>pkill -9 è¿›ç¨‹å ï¼šè¿™æ ·æ€æ‰æ›´å¹²å‡€</li></ul><h4 id="ç®¡é“"><a href="#ç®¡é“" class="headerlink" title="ç®¡é“ |"></a>ç®¡é“ |</h4><ul><li><p><strong>ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºç”¨ä½œå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥</strong></p></li><li><p>ls â€“help | more åˆ†é¡µæŸ¥è¯¢å¸®åŠ©ä¿¡æ¯</p><p>ps â€“ef | grep java æŸ¥è¯¢åç§°ä¸­åŒ…å«javaçš„è¿›ç¨‹</p><p>ifconfig | more</p><p>cat index.html | more</p></li></ul><hr><h3 id="Viå’ŒVimç¼–è¾‘å™¨ï¼š"><a href="#Viå’ŒVimç¼–è¾‘å™¨ï¼š" class="headerlink" title="Viå’ŒVimç¼–è¾‘å™¨ï¼š"></a>Viå’ŒVimç¼–è¾‘å™¨ï¼š</h3><h4 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h4><ul><li><p>ä¸‰ç§æ¨¡å¼ï¼šå‘½ä»¤è¡Œã€æ’å…¥ã€åº•è¡Œæ¨¡å¼</p></li><li><p>å‘½ä»¤è¡Œæ“ä½œ</p><ul><li>ç§»åŠ¨å…‰æ ‡<ul><li>è¡Œå°¾ shift+6<ul><li>è¡Œé¦– shift+4</li></ul></li><li>é¦–è¡Œ gg</li><li>æœ«è¡Œ G</li><li>ä¸Šç¿»å± PgUp æˆ– ctrl+b</li><li>ä¸‹ç¿»å± PgDn æˆ– ctrl+f</li><li>å¿«é€Ÿç§»åŠ¨ <code>æ•°å­— æ–¹å‘é”®</code></li></ul></li><li>å¤åˆ¶<ul><li><strong>å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ yy</strong></li><li>å¤åˆ¶å…‰æ ‡å‘ä¸‹çš„è¡Œæ•° æ•°å­—+yy</li></ul></li><li><strong>ç²˜è´´ p</strong></li><li><strong>å‰ªåˆ‡/åˆ é™¤ dd</strong></li><li><strong>æ’¤é”€ u</strong></li><li>æ¢å¤ ctrl+r</li></ul></li><li><p>ç”¨äºç¼–è¾‘æ–‡ä»¶</p><ul><li><p><strong>åˆ‡æ¢åˆ°å‘½ä»¤è¡Œæ¨¡å¼ï¼šæŒ‰Escé”®</strong></p></li><li><p><strong>åˆ‡æ¢åˆ°æ’å…¥æ¨¡å¼ï¼šæŒ‰ i ã€oã€aé”®</strong></p><ul><li><p>i åœ¨å½“å‰ä½ç½®å‰æ’å…¥</p><p>I åœ¨å½“å‰è¡Œé¦–æ’å…¥</p><p>a åœ¨å½“å‰ä½ç½®åæ’å…¥</p><p>A åœ¨å½“å‰è¡Œå°¾æ’å…¥</p><p>o åœ¨å½“å‰è¡Œä¹‹åæ’å…¥ä¸€è¡Œ</p><p>O åœ¨å½“å‰è¡Œä¹‹å‰æ’å…¥ä¸€è¡Œ</p></li></ul></li><li><p><strong>åˆ‡æ¢åˆ°åº•è¡Œæ¨¡å¼ï¼šæŒ‰ :ï¼ˆå†’å·ï¼‰</strong></p></li><li><p>æ‰“å¼€æ–‡ä»¶ï¼š</p><ul><li>vim æ–‡ä»¶è·¯å¾„ ï¼šæ‰“å¼€æ–‡ä»¶</li></ul></li><li><p>vim +æ•°å­— æ–‡ä»¶è·¯å¾„ï¼šæ‰“å¼€æ–‡ä»¶ å¹¶å°†å…‰æ ‡ç§»åŠ¨åˆ°æŒ‡å®šè¡Œ</p><ul><li>vim +/å…³é”®è¯ æ–‡ä»¶è·¯å¾„ï¼šæ‰“å¼€æ–‡ä»¶ é«˜äº®æ˜¾ç¤ºå…³é”®è¯</li></ul><p><strong>é€€å‡ºï¼šesc ï¼Œ :q</strong></p><p>ä¿®æ”¹æ–‡ä»¶ï¼šè¾“å…¥iè¿›å…¥æ’å…¥æ¨¡å¼</p><p><strong>ä¿å­˜å¹¶é€€å‡ºï¼šescï¼Œ:wq</strong></p><p><strong>ä¸ä¿å­˜é€€å‡ºï¼šescï¼Œ:q!</strong></p><p><strong>ä¸‡èƒ½é€€å‡ºï¼š :x</strong>ï¼ˆæ¨èï¼Œä¿®æ”¹å°±ä¿å­˜å¹¶é€€å‡ºï¼Œæœªä¿®æ”¹å°±é€€å‡ºï¼Œä¸ä¼šå½±å“ä¿®æ”¹æ—¶é—´ï¼‰</p></li><li><p><strong>æŸ¥æ‰¾ï¼ˆé«˜äº®ï¼‰ï¼š  :/æŸ¥æ‰¾çš„å­—</strong></p></li><li><p>å–æ¶ˆé«˜äº®ï¼š :nohl </p></li><li><p>æ˜¾ç¤ºè¡Œå·ï¼š :set nu</p></li><li><p>å–æ¶ˆè¡Œå·ï¼š :set nonu</p></li><li><p>æ˜¾ç¤ºç€è‰²ï¼š :syntax on/off</p></li></ul></li></ul><h4 id="vimé…ç½®"><a href="#vimé…ç½®" class="headerlink" title="vimé…ç½®"></a>vimé…ç½®</h4><ol><li>ä¸´æ—¶é…ç½®ï¼šå³åœ¨æ–‡ä»¶ä¸­åº•å±‚æ¨¡å¼ä¸‹è¾“å…¥çš„ï¼Œä¸´æ—¶çš„</li><li>ä¸ªäººé…ç½®æ–‡ä»¶ï¼šï¼ˆ~/.vimrcï¼‰å¦‚æœæ²¡æœ‰å¯ä»¥è‡ªè¡Œåˆ›å»º<ol><li>å¦‚æ˜¾ç¤ºè¡Œå·<code>set nu</code>ï¼Œä¿å­˜å³å¯</li></ol></li><li>å…¨å±€é…ç½®æ–‡ä»¶ï¼šï¼ˆvimè‡ªå¸¦ï¼Œ/etc/vimrcï¼‰</li></ol><h4 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h4><p>å¦‚æœé‡åˆ°çªç„¶å…³é—­æ­£åœ¨ç¼–å†™çš„æ–‡ä»¶ï¼Œå¦‚æ–­ç”µï¼Œæ–‡ä»¶å‡ºç°å´©æºƒã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>åˆ é™¤äº¤æ¢æ–‡ä»¶ï¼ˆxxx.swpï¼‰<code>rm -f .xxx.swp</code></p><hr><h3 id="Linuxçš„æƒé™å‘½ä»¤"><a href="#Linuxçš„æƒé™å‘½ä»¤" class="headerlink" title="Linuxçš„æƒé™å‘½ä»¤"></a>Linuxçš„æƒé™å‘½ä»¤</h3><p>èº«ä»½ï¼šownerã€groupã€others</p><p>æƒé™ï¼šreadã€writeã€execute</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210312180430.png"></p><ul><li><p>æ–‡ä»¶ç±»å‹ï¼šæ™®é€šæ–‡ä»¶ï¼ˆ-ï¼‰ç›®å½•ï¼ˆdï¼‰ç¬¦å·é“¾æ¥ï¼ˆlï¼‰</p></li><li><p>æƒé™ç±»å‹ï¼šå¯è¯»ï¼ˆrï¼‰ï¼ˆ4ï¼‰ï¼Œå¯å†™ï¼ˆwï¼‰ï¼ˆ2ï¼‰ï¼Œå¯æ‰§è¡Œï¼ˆxï¼‰ï¼ˆ1ï¼‰</p></li><li><p><strong>æ–‡ä»¶æƒé™ç®¡ç†ï¼š<code>chmod é€‰é¡¹ æƒé™æ¨¡å¼ æ–‡æ¡£</code></strong></p><ul><li><p>é€‰é¡¹ï¼š-Rï¼šé€’å½’è®¾ç½®æƒé™</p></li><li><p>chmod 755 a.txt ï¼ˆ4+2+1ï¼Œ4+1ï¼Œ4+1ï¼‰</p><p>chmod u=rwx,g=rx,o=rx a.txtï¼ˆuä»£è¡¨æ‰€æœ‰è€…ï¼Œgä»£è¡¨ç»„ï¼Œoä»£è¡¨å…¶ä»–ï¼‰</p></li></ul></li><li><p>ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼ˆå±ç»„ï¼‰<code>chown -R username æ–‡æ¡£è·¯å¾„</code></p></li><li><p>ä¿®æ”¹æ–‡ä»¶æ‰€å±ç»„<code>chgrp -R groupname æ–‡æ¡£è·¯å¾„</code></p></li></ul><hr><h3 id="Linuxä¸Šå¸¸ç”¨ç½‘ç»œæ“ä½œ"><a href="#Linuxä¸Šå¸¸ç”¨ç½‘ç»œæ“ä½œ" class="headerlink" title="Linuxä¸Šå¸¸ç”¨ç½‘ç»œæ“ä½œ"></a>Linuxä¸Šå¸¸ç”¨ç½‘ç»œæ“ä½œ</h3><p>OSI7å±‚ç½‘ç»œæ¨¡å‹ï¼šç‰©ç†å±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç½‘ç»œå±‚ã€ä¼ è¾“å±‚ã€ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚ã€åº”ç”¨å±‚ï¼ˆåº”è¡¨ä¼šä¼ ç½‘æ•°ç‰©ï¼‰</p><p>TCP/IP4å±‚æ¦‚å¿µæ¨¡å‹ï¼šæ•°æ®é“¾è·¯å±‚ã€ç½‘ç»œå±‚ã€ä¼ è¾“å±‚ã€åº”ç”¨å±‚</p><h4 id="ç½‘ç»œå¸¸ç”¨å‘½ä»¤"><a href="#ç½‘ç»œå¸¸ç”¨å‘½ä»¤" class="headerlink" title="ç½‘ç»œå¸¸ç”¨å‘½ä»¤"></a>ç½‘ç»œå¸¸ç”¨å‘½ä»¤</h4><p>é‡å¯ç½‘ç»œï¼ˆç”¨äºä¿®æ”¹ipåï¼‰ï¼šsystemctl restart network</p><h4 id="ç½‘ç»œç›¸å…³çš„é…ç½®æ–‡ä»¶"><a href="#ç½‘ç»œç›¸å…³çš„é…ç½®æ–‡ä»¶" class="headerlink" title="ç½‘ç»œç›¸å…³çš„é…ç½®æ–‡ä»¶"></a>ç½‘ç»œç›¸å…³çš„é…ç½®æ–‡ä»¶</h4><table><thead><tr><th>é…ç½®æ–‡ä»¶å</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>/etc/sysconfig/network</td><td>æœ€åŸºæœ¬çš„ç½‘ç»œä¿¡æ¯ï¼Œç³»ç»Ÿå¯åŠ¨æ—¶è¯»å–è¯¥æ–‡ä»¶</td></tr><tr><td>/etc/sysconfig/network-scripts/*</td><td>ç³»ç»Ÿå¯åŠ¨æ—¶åˆå§‹åŒ–çš„ç½‘ç»œä¿¡æ¯ï¼šç¬¬ä¸€å—ç½‘å¡ifcfg-eth0</td></tr><tr><td>/etc/host.conf</td><td>åŸŸåè§£æçš„æ§åˆ¶æ–‡ä»¶</td></tr><tr><td>/etc/hosts</td><td>åŸŸåæˆ–ä¸»æœºåä¸IPåœ°å€çš„æ˜ å°„æ–‡ä»¶</td></tr><tr><td>/etc/resolv.conf</td><td>åŸŸåæœåŠ¡å™¨DNSè®¾ç½®æ–‡ä»¶</td></tr><tr><td>/etc/services</td><td>è®¾å®šä¸»æœºçš„ä¸åŒç«¯å£çš„ç½‘ç»œæœåŠ¡</td></tr></tbody></table><h4 id="ç½‘ç»œç›¸å…³å‘½ä»¤"><a href="#ç½‘ç»œç›¸å…³å‘½ä»¤" class="headerlink" title="ç½‘ç»œç›¸å…³å‘½ä»¤"></a>ç½‘ç»œç›¸å…³å‘½ä»¤</h4><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ping</td><td>æµ‹è¯•ä¸»æœºè¿é€šæ€§</td></tr><tr><td>netstat</td><td>æ˜¾ç¤ºç½‘ç»œçŠ¶æ€ï¼Œå‚æ•°-aæ˜¾ç¤ºæ‰€æœ‰è¿æ¥ä¸ç›‘å¬ç«¯å£ã€‚å‚æ•°-nä»¥æ•°å­—å½¢å¼æ˜¾ç¤ºåœ°å€ä¸ç«¯å£å·</td></tr><tr><td>ftp</td><td>æ–‡ä»¶ä¼ è¾“å‘½ä»¤</td></tr><tr><td>telnet</td><td>è¿œç¨‹ç™»é™†</td></tr><tr><td>ssh</td><td>åŠ å¯†åŠŸèƒ½è¿œç¨‹ç®¡ç†å·¥å…·</td></tr><tr><td>ifconfig</td><td>æ˜¾ç¤ºç½‘ç»œè®¾å¤‡</td></tr></tbody></table><h4 id="idæŒ‡ä»¤"><a href="#idæŒ‡ä»¤" class="headerlink" title="idæŒ‡ä»¤"></a>idæŒ‡ä»¤</h4><ul><li>id ï¼šæŸ¥çœ‹ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</li><li>id ç”¨æˆ·åï¼šæ˜¾ç¤ºæŒ‡å®šç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</li></ul><h4 id="whoamiæŒ‡ä»¤"><a href="#whoamiæŒ‡ä»¤" class="headerlink" title="whoamiæŒ‡ä»¤"></a>whoamiæŒ‡ä»¤</h4><ul><li>æ˜¾ç¤ºå½“å‰ç”¨æˆ·å</li></ul><h4 id="ä¸»æœºåé…ç½®"><a href="#ä¸»æœºåé…ç½®" class="headerlink" title="ä¸»æœºåé…ç½®"></a>ä¸»æœºåé…ç½®</h4><ul><li><p>hostname æŸ¥çœ‹ä¸»æœºå</p><p>hostname -f æŸ¥çœ‹ä¸»æœºå…¨é™å®šåŸŸå</p><p>hostname xxx ä¿®æ”¹ä¸»æœºå é‡å¯åæ— æ•ˆ</p><p>hostnamectl set-hostname xxx æ°¸ä¹…ä¿®æ”¹ä¸»æœºåï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹/etc/sysconfig/networkæ–‡ä»¶</p></li><li><p>ä¿®æ”¹åŸŸå /etc/hosts</p></li></ul><h4 id="IPåœ°å€é…ç½®"><a href="#IPåœ°å€é…ç½®" class="headerlink" title="IPåœ°å€é…ç½®"></a>IPåœ°å€é…ç½®</h4><ul><li><p>ifconfigæˆ–ip a æŸ¥çœ‹(ä¿®æ”¹)ipåœ°å€</p></li><li><p>ip route æŸ¥çœ‹è·¯ç”±</p><p>ifconfig eth0 192.168.12.22 ä¿®æ”¹ipåœ°å€(é‡å¯åæ— æ•ˆ)</p><p>å¦‚æœæƒ³è¦æ°¸ä¹…ç”Ÿæ•ˆ</p><p>ä¿®æ”¹ /etc/sysconfig/network-scripts/ifcfg-eth0æ–‡ä»¶</p><pre><code>DEVICE=eth0 #ç½‘å¡åç§°BOOTPROTO=static #è·å–ipçš„æ–¹å¼(none/static,dhcp)NBOOT=yes #  ç³»ç»Ÿå¯åŠ¨æ—¶æ˜¯å¦è®¾ç½®æ­¤ç½‘ç»œæ¥å£ï¼Œè®¾ç½®ä¸ºyesæ—¶ï¼Œç³»ç»Ÿå¯åŠ¨æ—¶æ¿€æ´»æ­¤è®¾å¤‡ã€‚HWADDR=00:0C:29:B5:B2:69 #MACåœ°å€IPADDR=192.168.177.129 #IPåœ°å€NETMASK=255.255.255.0 #å­ç½‘æ©ç NETWORK=192.168.177.0 #ç½‘ç»œåœ°å€BROADCAST=192.168.0.255 #å¹¿æ’­åœ°å€</code></pre></li></ul><h4 id="åŸŸåæ˜ å°„"><a href="#åŸŸåæ˜ å°„" class="headerlink" title="åŸŸåæ˜ å°„"></a>åŸŸåæ˜ å°„</h4><ul><li>/etc/hostsæ–‡ä»¶ç”¨äºåœ¨é€šè¿‡ä¸»æœºåè¿›è¡Œè®¿é—®æ—¶åšipåœ°å€è§£æä¹‹ç”¨</li></ul><img src="/2020/07/29/linux/linux/Users\44317\AppData\Roaming\Typora\typora-user-images\image-20200525001027974.png" alt="image-20200525001027974" style="zoom: 80%;"><h4 id="é˜²ç«å¢™"><a href="#é˜²ç«å¢™" class="headerlink" title="é˜²ç«å¢™"></a>é˜²ç«å¢™</h4><pre><code>ifup ens33å¼€å¯ç½‘å¡ifdown ens33å…³é—­ç½‘å¡service network status æŸ¥çœ‹æŒ‡å®šæœåŠ¡çš„çŠ¶æ€service network stop åœæ­¢æŒ‡å®šæœåŠ¡service network start å¯åŠ¨æŒ‡å®šæœåŠ¡service network restart é‡å¯æŒ‡å®šæœåŠ¡service --statusâ€“all æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰åå°æœåŠ¡netstat â€“nltp æŸ¥çœ‹ç³»ç»Ÿä¸­ç½‘ç»œè¿›ç¨‹çš„ç«¯å£ç›‘å¬æƒ…å†µcentos6é˜²ç«å¢™è®¾ç½®é˜²ç«å¢™æ ¹æ®é…ç½®æ–‡ä»¶/etc/sysconfig/iptablesæ¥æ§åˆ¶æœ¬æœºçš„â€å‡ºâ€ã€â€å…¥â€ç½‘ç»œè®¿é—®è¡Œä¸ºã€‚service iptables status æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€service iptables stop å…³é—­é˜²ç«å¢™ ***service iptables start å¯åŠ¨é˜²ç«å¢™chkconfig  iptables off ç¦æ­¢é˜²ç«å¢™è‡ªå¯centos7å…³é—­é˜²ç«å¢™çš„æ–¹æ³•ï¼šsystemctl stop firewalldå¯åŠ¨ï¼šsystemctl start firewalldæŸ¥çœ‹çŠ¶æ€ï¼šsystemctl status firewalldå¼€æœºç¦ç”¨ï¼šsystemctl disable firewalldå¼€æœºå¯ç”¨ï¼šsystemctl enable firewalld*å¢åŠ é˜²ç«å¢™ç«¯å£ï¼ˆå¼€æ”¾ä¸€ä¸ªç«¯å£å¯è®¿é—®ï¼‰ï¼šfirewalld-cmd --zone=public --add-port=80/tcp --permanent (--permanent æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰è¯¥å‚æ•°é‡å¯åå¤±æ•ˆ)é‡æ–°è½½å…¥ï¼ˆåˆ·æ–°é…ç½®ï¼‰ï¼šfirewall-cmd --reloadæŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„ç«¯å£ï¼šfirewall-cmd --zone=public --list-portsåˆ é™¤ç«¯å£ï¼šfirewall-cmd --zone= public --remove-port=80/tcp --permanentåŠ å¼ºç‰ˆæƒé™ç®¡ç†selinuxgetenforce æŸ¥çœ‹çŠ¶æ€setenforce 0 å…³é—­æƒé™å®‰å…¨ç®¡ç†/etc/selinux æ°¸ä¹…ä¿®æ”¹é…ç½®ï¼Œselinux=enforcing(å¼€å¯)disabled(å…³é—­)</code></pre><h3 id="ç£ç›˜ç®¡ç†"><a href="#ç£ç›˜ç®¡ç†" class="headerlink" title="ç£ç›˜ç®¡ç†"></a>ç£ç›˜ç®¡ç†</h3><ul><li><p>åˆ—å‡ºç£ç›˜ä½¿ç”¨é‡</p><ul><li>df -Th</li><li>é€‰é¡¹<ul><li>-T æ˜¾ç¤ºæ–‡ä»¶ç±»å‹</li><li>-m å®¹é‡å¯è§†åŒ–</li></ul></li></ul></li><li><p>æŒ‚è½½</p><blockquote><p>ä»€ä¹ˆæ˜¯æŒ‚è½½ï¼Ÿ</p><p><a href="http://c.biancheng.net/view/2859.html">http://c.biancheng.net/view/2859.html</a></p></blockquote><ul><li>æŒ‚è½½:mount ã€-t æ–‡ä»¶ç³»ç»Ÿã€‘ã€-L Labelåã€‘ã€-o é¢å¤–é€‰é¡¹ã€‘ã€-nã€‘ è£…ç½®æ–‡ä»¶å æŒ‚è½½ç‚¹</li><li>å–æ¶ˆæŒ‚è½½ï¼šumount ã€-fnã€‘ è£…ç½®æ–‡ä»¶åæˆ–æŒ‚è½½ç‚¹<ul><li>-nï¼šä¸å‡çº§</li><li>-fï¼šå¼ºåˆ¶å¸è½½</li></ul></li></ul></li></ul><hr><h3 id="Linuxä¸Šè½¯ä»¶å®‰è£…"><a href="#Linuxä¸Šè½¯ä»¶å®‰è£…" class="headerlink" title="Linuxä¸Šè½¯ä»¶å®‰è£…"></a>Linuxä¸Šè½¯ä»¶å®‰è£…</h3><ul><li><p>Linuxä¸Šçš„è½¯ä»¶å®‰è£…æœ‰ä»¥ä¸‹å‡ ç§å¸¸è§æ–¹å¼</p><ol><li>äºŒè¿›åˆ¶å‘å¸ƒåŒ…ï¼šè½¯ä»¶å·²ç»é’ˆå¯¹å…·ä½“å¹³å°ç¼–è¯‘æ‰“åŒ…å‘å¸ƒï¼Œåªè¦è§£å‹ï¼Œä¿®æ”¹é…ç½®å³å¯</li><li>RPMåŒ…<ol><li>rpm -qa |grep å</li><li>rpm -e</li><li>rpm -ivh</li></ol></li><li>Yumåœ¨çº¿å®‰è£…<ol><li>yum list åˆ—å‡ºå·²è£…è½¯ä»¶</li><li>yum search å æœç´¢å…³é”®åŒ…</li><li>yum install åŒ…å</li><li>yum update åŒ…å</li><li>yum remove åŒ…å </li></ol></li><li>æºç ç¼–è¯‘å®‰è£…<ol><li>é…ç½®(config/configure/bootsrtrap)</li><li>ç¼–è¯‘(make)</li><li>å®‰è£…(make install)</li></ol></li></ol></li><li><p>ä¸Šä¼ ä¸ä¸‹è½½å·¥å…·ï¼š</p><ul><li>FileZilla</li><li>sftp<ul><li>ä½¿ç”¨alt + p ç»„åˆé”®æ‰“å¼€sftpçª—å£</li><li>ä½¿ç”¨put å‘½ä»¤ä¸Šä¼ ï¼šput h:/redis -2.4.5.zip</li><li>ä½¿ç”¨getå‘½ä»¤ä¸‹è½½(é»˜è®¤ä¸‹è½½ä½ç½®åœ¨å½“å‰è®¡ç®—çš„çš„æ–‡æ¡£ä½ç½®)</li></ul></li><li>ftp<ul><li>åœ¨linuxä¸Šå®‰è£…ftpå®¢æˆ·ç«¯ï¼Œwindowsä¸Šå®‰è£…home ftp serverã€‚home ftp serveræ·»åŠ linuxæˆå‘˜ï¼Œå¼€å§‹æœåŠ¡</li><li>linuxä¸Šè¾“å…¥<code>ftp</code>ç™»å½•ï¼ŒlsæŸ¥çœ‹çš„å°±æ˜¯windowsä¸‹çš„æ–‡ä»¶ç›®å½•ã€‚å‰é¢åŠ <code>l</code>å°±æ˜¯linuxä¸‹çš„å‘½ä»¤ï¼Œå¦‚lcd</li><li>ä»windowså–åˆ°linux<code>get æ–‡ä»¶å</code>ï¼Œåä¹‹æ˜¯<code>put æ–‡ä»¶å</code></li></ul></li></ul></li></ul><h4 id="å®‰è£…JDK"><a href="#å®‰è£…JDK" class="headerlink" title="å®‰è£…JDK:"></a>å®‰è£…JDK:</h4><blockquote><p>é™„å½•ï¼šwindowså®‰è£…jdk</p><p><a href="https://www.cnblogs.com/boringwind/p/8001300.html">https://www.cnblogs.com/boringwind/p/8001300.html</a></p></blockquote><ol><li>ä¸Šä¼ JDKåˆ°Linuxçš„æœåŠ¡å™¨.</li></ol><pre><code>* ä¸Šä¼ JDK# æŸ¥çœ‹jdkç‰ˆæœ¬java â€“version# æŸ¥çœ‹å®‰è£…çš„jdkä¿¡æ¯rpm -qa | grep java# å¸è½½jdkyum remove *openjdk*</code></pre><ol start="2"><li>åœ¨LinuxæœåŠ¡å™¨ä¸Šå®‰è£…JDK</li></ol><pre><code>* é€šå¸¸å°†è½¯ä»¶å®‰è£…åˆ°/usr/local* ç›´æ¥è§£å‹å°±å¯ä»¥   tar â€“zxvf  jdk.tar.gz  -C ç›®æ ‡è·¯å¾„  </code></pre><ol start="3"><li>é…ç½®JDKçš„ç¯å¢ƒå˜é‡</li></ol><pre><code>1. vi /etc/profile2. åœ¨æœ«å°¾è¡Œæ·»åŠ     export JAVA_HOME=/usr/local/jdk/jdk1.7.0_71    export JRE_HOME=${JAVA_HOME}/jre    export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib:$CLASSPATH    export JAVA_PATH=${JAVA_HOME}/bin:${JRE_HOME}/bin     export PATH=${JAVA_PATH}:$PATHä¿å­˜é€€å‡º3.source /etc/profile  ä½¿æ›´æ”¹çš„é…ç½®ç«‹å³ç”Ÿæ•ˆ</code></pre><ol start="4"><li>æ£€æŸ¥æ˜¯å¦å®‰è£…å®Œæˆ</li></ol><pre class=" language-html"><code class="language-html">java -version</code></pre><h4 id="å®‰è£…Tomcat"><a href="#å®‰è£…Tomcat" class="headerlink" title="å®‰è£…Tomcat:"></a>å®‰è£…Tomcat:</h4><p><strong>æ–¹å¼ä¸€ï¼ˆå•ä¸ªtomcatï¼Œä¸éœ€è¦é…ç¯å¢ƒå˜é‡ï¼‰ï¼š</strong></p><ol><li><p>Tomcatä¸Šä¼ åˆ°linuxä¸Š</p></li><li><p>æ£€æŸ¥æ˜¯å¦å®‰è£…æœ‰tomcat</p><p>rpm -qa|grep tomcat </p></li><li><p>å°†ä¸Šä¼ çš„tomcatè§£å‹</p><p>tar -zxvf apache-tomcat-7.0.57</p></li><li><p>å¼€å¯tomcat</p><p>/usr/local/tomcat/bin/startup.sh</p></li><li><p>è®¿é—®</p><p>192.168.179.128/8080</p></li></ol><p><strong>æ–¹æ¡ˆäºŒï¼ˆå¤šä¸ªtomcatï¼Œéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ï¼‰ï¼š</strong></p><blockquote><p>æ­¤å¤„æ˜¯åœ¨æµ‹è¯•nginxè´Ÿè½½å‡è¡¡æ—¶ï¼Œåˆ›å»ºçš„ä¸¤ä¸ªtomcat</p></blockquote><ol><li><p>Tomcatä¸Šä¼ åˆ°linuxä¸Š</p></li><li><p>æ£€æŸ¥æ˜¯å¦å®‰è£…æœ‰tomcat</p><p>rpm -qa|grep tomcat </p></li><li><p>å°†ä¸Šä¼ çš„tomcatè§£å‹</p><p>tar -zxvf apache-tomcat-7.0.57</p></li><li><p>é‡å‘½å</p><p>mv apache-tomcat-7.0.57 tomcat7</p></li><li><p>å¤åˆ¶ä¸€ä¸ªtomcat</p><p>cp -r tomcat7 /opt/tomcat8</p></li><li><p>é…ç½®ç¯å¢ƒå˜é‡</p><p>vim /etc/prpfile</p><p>åœ¨ä¸‹æ–¹æ·»åŠ </p><pre><code>unset iunset -f pathmungeexport JAVA_HOME=/opt/jdk1.7.0_75export JRE_HOME=${JAVA_HOME}/jreexport CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib:$CLASSPATHexport JAVA_PATH=${JAVA_HOME}/bin:${JRE_HOME}/binexport PATH=$PATH:${JAVA_PATH}:$PATHexport CATALINA_HOME=/opt/tomcat7export CATALINA_BASE=/opt/tomcat7export TOMCAT_HOME=/opt/tomcat7export CATALINA_HOME2=/opt/tomcat8export CATALINA_BASE2=/opt/tomcat8export TOMCAT_HOME2=/opt/tomcat8</code></pre><p>è®©ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼Œ<code>source /etc/profile</code></p></li><li><p>ç¬¬ä¸€ä¸ªTomcatå¯ç›´æ¥è¿è¡Œï¼Œç¬¬äºŒä¸ªTomcaté…ç½®ä¿®æ”¹å¦‚ä¸‹</p><p>ä¿®æ”¹/opt/tomcat8/bin/catalina.shï¼Œåœ¨æ–‡ä»¶å¼€å§‹å¤„ï¼ˆå‚è€ƒä½ç½®ï¼‰åŠ å…¥å¦‚ä¸‹é…ç½®ï¼š</p><pre><code>OS specific support.  $var must be set to either true or false. (å‚è€ƒä½ç½®)</code></pre><pre><code>export CATALINA_BASE=$CATALINA_BASE2export CATALINA_HOME=$CATALINA_HOME2</code></pre></li><li><p>ä¿®æ”¹ç«¯å£</p><pre><code>&lt;Server port="8005" shutdown="SHUTDOWN"&gt; ä¿®æ”¹ä¸ºï¼š&lt;Server port="8006" shutdown="SHUTDOWN"&gt;&lt;Connector port="8080" protocol="HTTP/1.1" ä¿®æ”¹ä¸ºï¼š&lt;Connector port="8090" protocol="HTTP/1.1"&lt;Connector port="8009" protocol="AJP/1.3" redirectPort="8443" /&gt; ä¿®æ”¹ä¸ºï¼š&lt;Connector port="8010" protocol="AJP/1.3" redirectPort="8443" /&gt;</code></pre></li><li><p>å¯åŠ¨ä¸¤ä¸ªtomcat</p></li></ol><h4 id="å®‰è£…redis"><a href="#å®‰è£…redis" class="headerlink" title="å®‰è£…redis"></a>å®‰è£…redis</h4><ol><li><p>å®‰è£… gcc-c++</p><p>redisæ˜¯Cè¯­è¨€å¼€å‘ï¼Œå®‰è£…rediséœ€è¦å…ˆå°†å®˜ç½‘ä¸‹è½½çš„æºç è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘ä¾èµ–gccç¯å¢ƒã€‚</p><p>è¾“å…¥å‘½ä»¤ï¼š</p><p><code>    yum install gcc-c++</code></p></li><li><p>ä¸‹è½½redisæºç </p><p><code>wget http://download.redis.io/releases/redis-3.0.4.tar.gz</code></p></li><li><p>è§£å‹</p><p><code>tar -xzvf redis-3.0.4.tar.gz</code></p></li><li><p>ç¼–è¯‘</p><p>åˆ‡æ¢éƒ½ç¨‹åºç›®å½•ï¼Œå¹¶æ‰§è¡Œmakeå‘½ä»¤ç¼–è¯‘</p><p><code>cd redis-3.0.4</code></p><p><code>make</code></p></li><li><p>å®‰è£…</p><p>å°†ç¼–è¯‘å¥½çš„æ–‡ä»¶å®‰è£…æˆå¯æ‰§è¡Œæ–‡ä»¶</p><p><code>make PREFIX=/usr/local/redis install </code></p><pre><code>make installå®‰è£…å®Œæˆåï¼Œä¼šåœ¨/usr/local/binç›®å½•ä¸‹ç”Ÿæˆä¸‹é¢å‡ ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå®ƒä»¬çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼šredis-serverï¼šRedisæœåŠ¡å™¨ç«¯å¯åŠ¨ç¨‹åºredis-cliï¼šRediså®¢æˆ·ç«¯æ“ä½œå·¥å…·ã€‚ä¹Ÿå¯ä»¥ç”¨telnetæ ¹æ®å…¶çº¯æ–‡æœ¬åè®®æ¥æ“ä½œredis-benchmarkï¼šRedisæ€§èƒ½æµ‹è¯•å·¥å…·redis-check-aofï¼šæ•°æ®ä¿®å¤å·¥å…·redis-check-dumpï¼šæ£€æŸ¥å¯¼å‡ºå·¥å…·</code></pre></li><li><p>é…ç½®redis</p><p>å¤åˆ¶é…ç½®æ–‡ä»¶åˆ°/usr/local/redis/binç›®å½•ï¼š</p><p><code>cd redis-3.0.4</code></p><p><code>cp redis.conf /usr/local/redis/bin</code></p></li><li><p>å¯åŠ¨redis</p><ol><li><p>è¿›å…¥redis/binç›®å½•</p><p><code>cd redis/bin</code></p></li><li><p>å¯åŠ¨redisæœåŠ¡ç«¯</p><p><code>./redis-server redis.conf</code></p></li><li><p>å…‹éš†æ–°çª—å£ï¼Œå¯åŠ¨rediså®¢æˆ·ç«¯</p><p><code>./redis-cli</code></p></li></ol></li><li><p>æ“ä½œredis</p><pre><code>keys *set name zhangsanget zhangsan</code></pre></li></ol><h4 id="å®‰è£…Mysqlï¼š"><a href="#å®‰è£…Mysqlï¼š" class="headerlink" title="å®‰è£…Mysqlï¼š"></a>å®‰è£…Mysqlï¼š</h4><ol><li>å°†mysqlçš„å®‰è£…æ–‡ä»¶ä¸Šä¼ åˆ°Linuxçš„æœåŠ¡å™¨.</li></ol><pre><code>1.å°†mysqlçš„tarè§£å‹tar -xvf MySQL-5.6.22-1.el6.i686.rpm-bundle.tar2.æŸ¥çœ‹ç³»ç»Ÿä¸­æ˜¯å¦æœ‰Mysql* æ–¹å¼1ï¼šyum list installed mysql** æ–¹å¼2(-i å¿½ç•¥å¤§å°å†™)ï¼šrpm -qa | grep -i mysql3.å¸è½½mysql(å½»åº•å¸è½½)* æ–¹å¼1ï¼šyum remove mysql mysql-server mysql-libs compat-mysql51        rm -rf /var/lib/mysql        rm /usr/my.cnf* æ–¹å¼2ï¼šrpm -aq | grep -i mysql        rpm -e MySQL-server-5.6.27-1.el6.x86_64        rpm -e MySQL-client-5.6.27-1.el6.x86_64        rpm -e MySQL-devel-5.6.27-1.el6.x86_64        rm -rf /var/lib/mysqlï¼ˆå¦‚æœè‡ªå®šä¹‰å®‰è£…è·¯å¾„å†™è‡ªå®šä¹‰è·¯å¾„ï¼Œå¹¶ä¸æ˜¯å‹ç¼©åŒ…è·¯å¾„ï¼‰4.å¦‚æœ64ä½ç³»ç»Ÿå®‰è£…32ä½è½¯ä»¶ï¼Œè¿›è¡Œä»¥ä¸‹æ“ä½œ    yum list|grep ia32-libs&nbsp; &nbsp;æŸ¥çœ‹æ˜¯å¦æœ‰32ä½çš„è¿è¡Œåº“    yum -y install libaio.so.1 libgcc_s.so.1 libstdc++.so.6ã€    yum whatprovides libstdc++.so.6    yum&nbsp; install&nbsp; libstdc++-4.4.7-18.e16.i686</code></pre><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210311151417.png"></p><ol start="2"><li>å®‰è£…mysqlï¼ˆæœåŠ¡ç«¯severï¼Œå®¢æˆ·ç«¯clientï¼‰</li></ol><pre><code>1.åŠ ä¸¤ä¸ªå‚æ•°ï¼š nodeps ï¼Œforce    rpm -ivh MySQL-server-5.6.22-1.el6.i686.rpm --nodeps --force</code></pre><ol start="3"><li>ç™»å½•mysql</li></ol><pre><code>å®‰è£…æ—¶ï¼Œä¸‹é¢çš„æç¤ºæ˜¯å‘Šè¯‰æˆ‘ä»¬rootç”¨æˆ·çš„å¯†ç ç¬¬ä¸€æ¬¡æ˜¯éšæœºç”Ÿæˆçš„ï¼Œå®ƒä¿å­˜åœ¨/root/.mysql_secretä¸­ï¼Œç¬¬ä¸€æ¬¡ç™»å½•éœ€è¦ä¿®æ”¹rootå¯†ç 1.æŸ¥çœ‹ç”Ÿæˆçš„rootå¯†ç     cat /root/.mysql_secret2.å¯åŠ¨mysqlæœåŠ¡    service mysql start3.ç™»å½•mysql    mysql -uroot -p5vxj7g0xeTcBjGBc4.æ‰§è¡Œä¸‹é¢æ“ä½œæŠ¥é”™ï¼ŒåŸå› æ˜¯ç¬¬ä¸€æ¬¡æ“ä½œmysqlå¿…é¡»ä¿®æ”¹rootç”¨æˆ·çš„å¯†ç     set password=password('1234');5.ç™»å½•æˆåŠŸ</code></pre><ol start="4"><li>æ“ä½œmysql</li></ol><pre><code>show databased;use test;</code></pre><h5 id="è¿œç¨‹è¿æ¥mysql"><a href="#è¿œç¨‹è¿æ¥mysql" class="headerlink" title="è¿œç¨‹è¿æ¥mysql"></a>è¿œç¨‹è¿æ¥mysql</h5><blockquote><p>linuxçš„mysqlåªæ˜¯å½“ä½œä¸€ä¸ªæœåŠ¡å™¨æ¥ä½¿ç”¨ï¼Œwindowsæƒ³è¦è¿æ¥linuxä¸Šçš„Mysqlï¼Œæˆ‘ä»¬å¸¸ç”¨çš„å›¾å½¢åŒ–ç•Œé¢sqlyog</p></blockquote><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20210311155653.png"></p><p>æ³¨æ„ï¼šè¿æ¥æ—¶ä¼šæŠ¥é”™ï¼ŒæŠ¥é”™ä»£ç 2003ï¼Œè¯´æ˜æˆ‘ä»¬linuxé˜²ç«å¢™æ²¡æœ‰å…³é—­ã€‚</p><ol><li><strong>å…³é—­é˜²ç«å¢™</strong><ul><li>centos7å…³é—­é˜²ç«å¢™çš„æ–¹æ³•ï¼šsystemctl stop firewalld</li><li>centos6åŠä»¥ä¸‹å…³é—­é˜²ç«å¢™çš„æ–¹æ³•ï¼šservice iptables stop</li></ul></li></ol><p>æ³¨æ„ï¼šå¦‚æœæŠ¥é”™1045ï¼Œè¯´æ˜æˆ‘ä»¬éœ€è¦æˆæƒæœ¬æœºç”µè„‘ä¸ºrootæƒé™</p><ol start="2"><li><p><strong>æˆæƒ</strong></p><pre><code>grant all privileges on *.* to 'root' @'%' identified by 'ä½ çš„å¯†ç ';flush privileges; åˆ·æ–°ï¼Œç«‹å³ç”Ÿæ•ˆ# è¿™é‡Œçš„rootä»£è¡¨rootç”¨æˆ·ï¼Œæœ€åçš„rootä»£è¡¨rootç”¨æˆ·çš„å¯†ç ï¼Œæˆ‘è¿™é‡Œç”¨æˆ·åï¼Œå¯†ç éƒ½æ˜¯rootï¼Œä¸­é—´çš„%å·ä»£è¡¨æ‰€æœ‰çš„ipåœ°å€éƒ½èƒ½è¿œç¨‹è®¿é—®ï¼Œå¦‚æœä½ è¦é’ˆå¯¹æŸä¸€å°æœºå™¨å¼€æ”¾è¿œç¨‹è®¿é—®æƒé™ï¼Œé‚£å°±æŠŠ%æ¢æˆå“ªå°æœºå™¨çš„ipåœ°å€ï¼Œè¿™æ ·å°±åªèƒ½è¿™å°æœºå™¨è¿œç¨‹è®¿é—®linuxä¸‹çš„mysqlæ•°æ®åº“äº†ã€‚</code></pre></li><li><p><strong>è¿æ¥æˆåŠŸ</strong></p></li></ol><h2 id="Linuxè‡ªæœ‰æœåŠ¡"><a href="#Linuxè‡ªæœ‰æœåŠ¡" class="headerlink" title="Linuxè‡ªæœ‰æœåŠ¡"></a>Linuxè‡ªæœ‰æœåŠ¡</h2><h3 id="è¿è¡Œæ¨¡å¼"><a href="#è¿è¡Œæ¨¡å¼" class="headerlink" title="è¿è¡Œæ¨¡å¼"></a>è¿è¡Œæ¨¡å¼</h3><p>æŒ‡ç³»ç»Ÿçš„è¿è¡Œæ¨¡å¼ï¼Œä¹Ÿç§°è¿è¡Œçº§åˆ«</p><p>è¿›ç¨‹ï¼šinit è¿›ç¨‹idä¸º1ã€‚å¯¹åº”çš„è¿›ç¨‹é…ç½®æ–‡ä»¶ï¼šinittabï¼ˆ/etc/inittabï¼‰</p><pre><code>0-å…³æœºæ¨¡å¼1-å•ç”¨æˆ·æ¨¡å¼2-å¤šç”¨æˆ·æ¨¡å¼ï¼Œä¸å¸¦NFS3-å¤šç”¨æˆ·æ¨¡å¼ï¼Œå®Œå…¨4-æ²¡æœ‰è¢«ä½¿ç”¨çš„æ¨¡å¼5-x11ï¼Œå®Œæ•´å›¾å½¢åŒ–ç•Œé¢æ¨¡å¼6-é‡å¯</code></pre><ol><li>init 0 è¡¨ç¤ºå…³æœº</li><li>init 3 åˆ‡æ¢ä¸å¸¦æ¡Œé¢æ¨¡å¼</li><li>init 5 åˆ‡æ¢å›¾å½¢ç•Œé¢</li><li>Init 6 é‡å¯ç”µè„‘</li></ol><p>æ°¸ä¹…åˆ‡æ¢å‘½ä»¤è¡Œæ¨¡å¼ï¼š</p><p>â€‹    å°†/etc/inittabæ–‡ä»¶çš„initdefaultè®¾ç½®æˆ3ï¼Œç„¶åé‡å¯ç³»ç»Ÿã€‚</p><h3 id="å¼€æœºå¯åŠ¨æœåŠ¡é…ç½®"><a href="#å¼€æœºå¯åŠ¨æœåŠ¡é…ç½®" class="headerlink" title="å¼€æœºå¯åŠ¨æœåŠ¡é…ç½®"></a>å¼€æœºå¯åŠ¨æœåŠ¡é…ç½®</h3><p><code>chkconfig --list</code><strong>ä¿®æ”¹å¼€æœºå¯åŠ¨ã€‚</strong></p><p>0-6è¡¨ç¤ºä¸Šé¢çš„è¿è¡Œæ¨¡å¼ä¸­æ˜¯å¦å¼€å¯æˆ–å…³é—­</p><p><strong>æ·»åŠ åˆ é™¤å¯åŠ¨é¡¹</strong>ï¼š<code>chkconfig --add/del æœåŠ¡å</code></p><p><strong>è®¾ç½®æ˜¯å¦å¼€å¯</strong>ï¼š<code>chkconfig --level è¿è¡Œæ¨¡å¼åºå· æœåŠ¡å on/off</code></p><p><strong>æŸ¥çœ‹æŒ‡å®šæœåŠ¡é…ç½®</strong>ï¼š<code>chkconfig --list|grep æœåŠ¡å</code></p><h3 id="æ—¶é—´åŒæ­¥æœåŠ¡"><a href="#æ—¶é—´åŒæ­¥æœåŠ¡" class="headerlink" title="æ—¶é—´åŒæ­¥æœåŠ¡"></a>æ—¶é—´åŒæ­¥æœåŠ¡</h3><p>ntpdï¼šå¼€å¯æ—¶é—´åŒæ­¥<code>service ntpd start</code></p><h2 id="ç”¨æˆ·ä¸ç”¨æˆ·ç»„"><a href="#ç”¨æˆ·ä¸ç”¨æˆ·ç»„" class="headerlink" title="ç”¨æˆ·ä¸ç”¨æˆ·ç»„"></a>ç”¨æˆ·ä¸ç”¨æˆ·ç»„</h2><p>/etc/passwd å­˜å‚¨ç”¨æˆ·çš„å…³é”®ä¿¡æ¯ </p><p>/etc/group å­˜å‚¨ç”¨æˆ·ç»„çš„å…³é”®ä¿¡æ¯</p><p>/etc/shadow å­˜å‚¨ç”¨æˆ·çš„å¯†ç ä¿¡æ¯</p><h3 id="ç”¨æˆ·ç®¡ç†"><a href="#ç”¨æˆ·ç®¡ç†" class="headerlink" title="ç”¨æˆ·ç®¡ç†"></a>ç”¨æˆ·ç®¡ç†</h3><h4 id="æ·»åŠ ç”¨æˆ·"><a href="#æ·»åŠ ç”¨æˆ·" class="headerlink" title="æ·»åŠ ç”¨æˆ·"></a>æ·»åŠ ç”¨æˆ·</h4><p>å¸¸ç”¨è¯­æ³•ï¼š<code>useradd é€‰é¡¹ ç”¨æˆ·å</code></p><p>å¸¸ç”¨é€‰é¡¹ï¼š</p><ul><li>-gï¼šè¡¨ç¤ºæŒ‡å®šç”¨æˆ·çš„ç”¨æˆ·ç»„ï¼Œé€‰é¡¹çš„å€¼å¯ä»¥æ˜¯Idï¼Œä¹Ÿå¯ä»¥æ˜¯ç»„å</li><li>-Gï¼šè¡¨ç¤ºæŒ‡å®šç”¨æˆ·çš„é™„åŠ ç»„ï¼Œé€‰é¡¹çš„å€¼å¯ä»¥æ˜¯Idï¼Œä¹Ÿå¯ä»¥æ˜¯ç»„å</li><li>-uï¼šuidï¼Œç”¨æˆ·çš„id</li><li><code>useradd -g 501 -G 500 -u 666 lisi</code>æå››çš„ç”¨æˆ·ç»„501ï¼Œé™„åŠ ç»„500ï¼Œuidä¸º666</li></ul><p>éªŒè¯æ˜¯å¦æˆåŠŸï¼š</p><ol><li>åœ¨/etc/passwdæœ€åä¸€è¡Œï¼ŒæŸ¥çœ‹zhangsançš„ä¿¡æ¯</li><li>éªŒè¯æ˜¯å¦å­˜åœ¨å®¶ç›®å½•ï¼š<code>ls /home/</code></li></ol><h4 id="ä¿®æ”¹ç”¨æˆ·"><a href="#ä¿®æ”¹ç”¨æˆ·" class="headerlink" title="ä¿®æ”¹ç”¨æˆ·"></a>ä¿®æ”¹ç”¨æˆ·</h4><p>å¸¸ç”¨è¯­æ³•ï¼š<code>usermod é€‰é¡¹ ç”¨æˆ·å</code></p><p>å¸¸ç”¨é€‰é¡¹ï¼š</p><ul><li>ä¸Šé¢3ä¸ªï¼Œå’Œ<code>-l</code>ï¼šä¿®æ”¹ç”¨æˆ·å</li></ul><p><code>usermod -l wangwu zhangsan</code>ï¼šæŠŠå¼ ä¸‰æ”¹ä¸ºç‹äº”</p><h4 id="è®¾ç½®å¯†ç "><a href="#è®¾ç½®å¯†ç " class="headerlink" title="è®¾ç½®å¯†ç "></a>è®¾ç½®å¯†ç </h4><p>åˆšæ³¨å†Œçš„ç”¨æˆ·æ²¡æœ‰å¯†ç ï¼Œå¤„äºé”å®šçŠ¶æ€ï¼Œéœ€è¦è®¾ç½®å¯†ç æ‰èƒ½ä½¿ç”¨</p><p>å¸¸ç”¨è¯­æ³•ï¼š<code>passwd ç”¨æˆ·å</code></p><h4 id="åˆ‡æ¢ç”¨æˆ·"><a href="#åˆ‡æ¢ç”¨æˆ·" class="headerlink" title="åˆ‡æ¢ç”¨æˆ·"></a>åˆ‡æ¢ç”¨æˆ·</h4><p>å¸¸ç”¨è¯­æ³•ï¼š<code>su ç”¨æˆ·å</code></p><p><code>su - root</code>çš„<code>-</code>ä»£è¡¨è¯¥è¡¨ç”¨æˆ·å˜é‡</p><h4 id="åˆ é™¤ç”¨æˆ·"><a href="#åˆ é™¤ç”¨æˆ·" class="headerlink" title="åˆ é™¤ç”¨æˆ·"></a>åˆ é™¤ç”¨æˆ·</h4><p>å¸¸ç”¨è¯­æ³•ï¼š<code>userdel é€‰é¡¹ ç”¨æˆ·å</code></p><p>å¸¸ç”¨é€‰é¡¹:</p><ul><li>-r ï¼šè¡¨ç¤ºåˆ é™¤ç”¨æˆ·çš„åŒæ—¶ï¼Œåˆ é™¤å…¶å®¶ç›®å½•</li></ul><h3 id="ç”¨æˆ·ç»„ç®¡ç†"><a href="#ç”¨æˆ·ç»„ç®¡ç†" class="headerlink" title="ç”¨æˆ·ç»„ç®¡ç†"></a>ç”¨æˆ·ç»„ç®¡ç†</h3><p>/etc/groupï¼Œç»“æ„ï¼šç”¨æˆ·ç»„å:å¯†ç :ç”¨æˆ·ç»„id:ç»„å†…ç”¨æˆ·å</p><h4 id="ç”¨æˆ·ç»„æ·»åŠ "><a href="#ç”¨æˆ·ç»„æ·»åŠ " class="headerlink" title="ç”¨æˆ·ç»„æ·»åŠ "></a>ç”¨æˆ·ç»„æ·»åŠ </h4><p>å¸¸ç”¨è¯­æ³•ï¼š<code>groupadd é€‰é¡¹ ç»„å</code></p><p>å¸¸ç”¨é€‰é¡¹ï¼š</p><ul><li>-gï¼šç±»ä¼¼ç”¨æˆ·æ·»åŠ é‡Œçš„â€-uâ€ï¼Œå¯ä»¥è®¾ç½®ç”¨æˆ·ç»„id</li></ul><h4 id="ç”¨æˆ·ç»„ä¿®æ”¹"><a href="#ç”¨æˆ·ç»„ä¿®æ”¹" class="headerlink" title="ç”¨æˆ·ç»„ä¿®æ”¹"></a>ç”¨æˆ·ç»„ä¿®æ”¹</h4><p>å¸¸ç”¨è¯­æ³•ï¼š<code>groupmod é€‰é¡¹ ç”¨æˆ·å</code></p><p>å¸¸ç”¨é€‰é¡¹ï¼š</p><ul><li>-nï¼šä¿®æ”¹ç”¨æˆ·ç»„ç»„å</li><li><code>groupmod -g 502 -n nihao wangwu</code></li></ul><h4 id="ç”¨æˆ·ç»„åˆ é™¤"><a href="#ç”¨æˆ·ç»„åˆ é™¤" class="headerlink" title="ç”¨æˆ·ç»„åˆ é™¤"></a>ç”¨æˆ·ç»„åˆ é™¤</h4><p>å¸¸ç”¨è¯­æ³•ï¼š<code>groupdel ç»„å</code></p><h3 id="sudoï¼Œérootç”¨æˆ·æ‰§è¡Œrootæ“ä½œ"><a href="#sudoï¼Œérootç”¨æˆ·æ‰§è¡Œrootæ“ä½œ" class="headerlink" title="sudoï¼Œérootç”¨æˆ·æ‰§è¡Œrootæ“ä½œ"></a>sudoï¼Œérootç”¨æˆ·æ‰§è¡Œrootæ“ä½œ</h3><p>Sudoé…ç½®æ–‡ä»¶ï¼š/etc/sudoersï¼Œé…ç½®è¯·ä½¿ç”¨<code>visudo</code></p><pre><code>root all=(all) allall è¡¨ç¤ºå…è®¸ç™»å½•çš„ä¸»æœº(all) è¡¨ç¤ºä»¥è°çš„èº«ä»½æ‰§è¡Œ allè¡¨ç¤ºrootèº«ä»½all è¡¨ç¤ºå½“å‰ç”¨æˆ·å¯ä»¥æ‰§è¡Œçš„å‘½ä»¤</code></pre><pre><code>æ¡ˆä¾‹ï¼šè®©testç”¨æˆ·æ‹¥æœ‰å¢åŠ ç”¨æˆ·ï¼Œä¿®æ”¹å¯†ç çš„æƒåŠ›test all=(all) /usr/sbin/useradd,/usr/bin/passwdä½¿ç”¨ï¼šsudo useradd wangwu</code></pre><h2 id="RPMç®¡ç†"><a href="#RPMç®¡ç†" class="headerlink" title="RPMç®¡ç†"></a>RPMç®¡ç†</h2><p>æŸ¥è¯¢ã€å¸è½½ã€å®‰è£…</p><p><strong>æŸ¥è¯¢è½¯ä»¶å®‰è£…æƒ…å†µ</strong>ï¼š<code>rpm -qa|grep å…³é”®è¯</code></p><p>é€‰é¡¹ï¼š</p><ul><li>-qï¼šæŸ¥è¯¢</li><li>-aï¼šå…¨éƒ¨</li></ul><p><strong>å¸è½½è½¯ä»¶</strong>ï¼š<code>rpm -e è½¯ä»¶å</code></p><p><code>rpm -e è½¯ä»¶å --nodeps</code>ï¼šå¿½ç•¥ä¾èµ–å…³ç³»å¸è½½</p><p><strong>å®‰è£…è½¯ä»¶</strong>ï¼š<code>rpm -ivh è½¯ä»¶å</code></p><p>é€‰é¡¹ï¼š</p><ul><li>-iï¼šå®‰è£…</li><li>-vï¼šæ˜¾ç¤ºè¿›åº¦æ¡</li><li>-hï¼šè¡¨ç¤ºä»¥#è¿›åº¦æ¡æ˜¾ç¤º</li></ul><h2 id="è®¡åˆ’ä»»åŠ¡"><a href="#è®¡åˆ’ä»»åŠ¡" class="headerlink" title="è®¡åˆ’ä»»åŠ¡"></a>è®¡åˆ’ä»»åŠ¡</h2><p>è®¾ç½®è®¡åˆ’ï¼Œè·Ÿé—¹é’Ÿä¸€æ ·å®šç‚¹æ‰§è¡Œ</p><p><code>crontab é€‰é¡¹</code></p><ul><li>-lï¼šåˆ—å‡ºè®¡åˆ’åˆ—è¡¨</li><li>-eï¼šç¼–è¾‘</li><li>-uï¼šæŒ‡å®šç”¨æˆ·åï¼Œä¸æŒ‡å®šå°±æ˜¯å½“å‰ç”¨æˆ·</li><li>-rï¼šåˆ é™¤è®¡åˆ’åˆ—è¡¨</li></ul><p><strong>ç¼–è¾‘çš„è¯­æ³•</strong>ï¼šåˆ† æ—¶ æ—¥ æœˆ å‘¨ éœ€è¦æ‰§è¡Œçš„å‘½ä»¤</p><p>å¦‚ï¼šæ¯å¤©0ç‚¹0åˆ†æ‰§è¡Œrebootï¼š<code>0 0 * * * reboot</code></p><p>æ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ <code>*/10</code></p><p>å‘¨ä¸€åˆ°å‘¨äº”æ‰§è¡Œï¼š<code>1-5</code></p><p><strong>æƒé™</strong>ï¼š</p><p>é»‘åå•ï¼ˆä¸èƒ½ä¿®æ”¹è®¡åˆ’ï¼‰ï¼š<code>/etc/cron.deny</code>é‡Œå†™ç”¨æˆ·åï¼Œä¸€è¡Œä¸€ä¸ª</p><p>ç™½åå•ï¼ˆèƒ½ä¿®æ”¹è®¡åˆ’ï¼‰ï¼š<code>/etc/cron.allow</code></p><h2 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h2><p>è§„èŒƒï¼š</p><pre><code>#!/bin/bash        æŒ‡å®šç³»ç»Ÿå½“å‰è„šæœ¬ä½¿ç”¨çš„shellè§£æå™¨shellç›¸å…³æŒ‡ä»¤ç¼–è¾‘å‘½ä»¤æ—¶ä¸éœ€è¦åŠ åˆ†å·æ–‡ä»¶å‘½åè§„èŒƒï¼šæ–‡ä»¶å.sh</code></pre><p>å˜é‡</p><pre><code>å®šä¹‰ï¼š å˜é‡å="å˜é‡å€¼"ä½¿ç”¨ï¼š $å˜é‡å    ï¼Œå•å¼•å·ä¼šåŸæ ·è¾“å‡ºï¼Œéœ€è¦ç”¨åŒå¼•å·dt=`date +'%F %T'`ï¼Œå¦‚æœä½¿ç”¨æ˜¯æŒ‡ä»¤èµ‹å€¼ï¼Œéœ€è¦åå¼•å·</code></pre><p>æ¥å—ç”¨æˆ·è¾“å…¥</p><pre><code>read -p æç¤ºä¿¡æ¯ å˜é‡åå¦‚ï¼šread -p 'è¯·è¾“å…¥æ–‡ä»¶è·¯å¾„' filepath touch $filepath</code></pre><p>æ¡ä»¶åˆ¤æ–­è¯­å¥</p><pre><code>if [æ¡ä»¶]then    è¯­å¥ã€elseã€‘    è¯­å¥fi</code></pre><p>ç®—æ•°è¿ç®—ç¬¦</p><pre><code>expr è®¡ç®—å¦‚ï¼š expr 2+20å¾—å‡º22</code></pre><p>å…³ç³»è¿ç®—ç¬¦</p><pre><code>-eq åˆ¤æ–­æ˜¯å¦ç›¸ç­‰</code></pre><p>é€»è¾‘è¿ç®—ç¬¦</p><pre><code>! é-o æˆ–-a ä¸</code></pre><p>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</p><pre><code>-d file æ˜¯å¦ä¸ºç›®å½•-f file æ˜¯å¦ä¸ºæ–‡ä»¶-r file æ˜¯å¦ä¸ºå¯è¯»-w file æ˜¯å¦ä¸ºå¯å†™-x file æ˜¯å¦ä¸ºå¯æ‰§è¡Œ-e file æ˜¯å¦å­˜åœ¨</code></pre><h2 id="è°ƒæ•´å­˜å‚¨åˆ†åŒº"><a href="#è°ƒæ•´å­˜å‚¨åˆ†åŒº" class="headerlink" title="è°ƒæ•´å­˜å‚¨åˆ†åŒº"></a>è°ƒæ•´å­˜å‚¨åˆ†åŒº</h2><p><code>df -h</code>æŸ¥çœ‹æ˜¯å¦/ç›®å½•æœ€å¤§ï¼Œå¦‚æœä¸æ˜¯ï¼Œé€šè¿‡ä»¥ä¸‹æ“ä½œä½¿æ ¹ç›®å½•æœ€å¤§ã€‚</p><ol><li><p>å¤‡ä»½homeåˆ†åŒºæ–‡ä»¶<br>tar cvf /tmp/home.tar /home</p></li><li><p>å¸è½½/homeï¼Œå¦‚æœæ— æ³•å¸è½½ï¼Œå…ˆç»ˆæ­¢ä½¿ç”¨/homeæ–‡ä»¶ç³»ç»Ÿçš„è¿›ç¨‹<br>umount /home ï¼ˆå¸è½½ï¼‰</p><p>å¸è½½æ—¶ï¼Œå‘ç°/homeåœ¨ä½¿ç”¨ä¸­ï¼Œæ‰€ä»¥å…ˆç»ˆæ­¢ã€‚<br>fuser -km /home/ï¼ˆç»ˆæ­¢ï¼‰<br>å†æ¬¡å¸è½½ï¼Œæ²¡æœ‰æŠ¥é”™ï¼Œè¡¨ç¤ºæˆåŠŸã€‚</p></li><li><p>åˆ é™¤/homeæ‰€åœ¨çš„lv</p><p>lvremove /dev/mapper/cl-home</p></li><li><p>æ‰©å±•/rootæ‰€åœ¨çš„lv<br>lvextend -L +460G /dev/mapper/cl-root ï¼ˆå¤šå°‘Gï¼Œå…·ä½“çœ‹è‡ªå·±ï¼‰</p></li><li><p>æ‰©å±•/rootæ–‡ä»¶ç³»ç»Ÿ<br>xfs_growfs /dev/mapper/cl-root</p></li><li><p>åˆ›å»º/homeæ‰€åœ¨çš„lv<br>lvcreate -L 50G -n home cl</p></li><li><p>åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿ<br>mkfs.xfs /dev/mapper/cl-home</p></li><li><p>æŒ‚è½½home<br>mount /dev/mapper/cl-home</p></li><li><p>homeæ–‡ä»¶æ¢å¤<br>tar xvf /tmp/home.tar -C /home/</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bootstrapå‰ç«¯æ¡†æ¶</title>
      <link href="/2020/07/28/qian-duan/bootstrap/"/>
      <url>/2020/07/28/qian-duan/bootstrap/</url>
      
        <content type="html"><![CDATA[<h2 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h2><ol><li><p>æ¦‚å¿µï¼šä¸€ä¸ªå‰ç«¯å¼€å‘çš„æ¡†æ¶</p><ul><li>æ¡†æ¶ï¼šä¸€ä¸ªåŠæˆå“è½¯ä»¶ï¼Œå¼€å‘äººå‘˜åœ¨æ¡†æ¶åŸºç¡€ä¸Šï¼Œåœ¨è¿›è¡Œå¼€å‘</li><li>å¥½å¤„ï¼š<ul><li>å®šä¹‰äº†å¾ˆå¤šCSSæ ·å¼å’Œjsæ’ä»¶ï¼Œå¼€å‘äººå‘˜å¯ä»¥ç›´æ¥ä½¿ç”¨æ¥ä¸°å¯Œé¡µé¢æ•ˆæœ</li><li>å“åº”å¼å¸ƒå±€ï¼šåŒä¸€å¥—é¡µé¢å¯ä»¥å…¼å®¹ä¸åŒåˆ†è¾¨ç‡çš„è®¾å¤‡</li></ul></li></ul></li><li><p>å¿«é€Ÿå…¥é—¨</p><ol><li><p>ä¸‹è½½ï¼šv3.bootcss.com</p></li><li><p>åœ¨é¡¹ç›®ä¸­å°†ä¸‰ä¸ªæ–‡ä»¶å¤¹å’Œjquery.jsï¼ˆæ”¾åˆ°jsæ–‡ä»¶å¤¹ä¸­ï¼‰å¤åˆ¶åˆ°é¡¹ç›®ä¸­</p></li><li><p>åˆ›å»ºhtmlé¡µé¢ï¼Œå¼•å…¥å¿…è¦çš„èµ„æºæ–‡ä»¶</p><ol><li>å¼•å…¥ä¸€ä¸ªcssï¼Œä¸¤ä¸ªjs</li></ol><pre><code>           &lt;link href="css/bootstrap.min.css" rel="stylesheet"&gt;           &lt;script src="js/bootstrap.min.js"&gt;&lt;/script&gt;        &lt;script src="js/bootstrap.min.js"&gt;&lt;/script&gt;</code></pre></li></ol></li></ol><hr><h3 id="å“åº”å¼å¸ƒå±€"><a href="#å“åº”å¼å¸ƒå±€" class="headerlink" title="å“åº”å¼å¸ƒå±€"></a>å“åº”å¼å¸ƒå±€</h3><ul><li><p>åŒä¸€å¥—é¡µé¢å¯ä»¥å…¼å®¹ä¸åŒåˆ†è¾¨ç‡çš„è®¾å¤‡</p></li><li><p>å®ç°ï¼šä¾èµ–äº==æ …æ ¼ç³»ç»Ÿ==ï¼šå°†ä¸€è¡Œå¹³å‡åˆ†æˆ12ä¸ªæ ¼å­ï¼Œå¯ä»¥æŒ‡å®šå…ƒç´ å å‡ ä¸ªæ ¼å­</p></li><li><p>æ­¥éª¤ï¼š(classæ¥å®šä¹‰ï¼Œä¸€ä¸ªclassé‡Œå¯ä»¥å®šä¹‰å¤šä¸ªå±æ€§å€¼)</p><ol><li>å®šä¹‰å®¹å™¨ã€‚ç›¸å½“äºä¹‹å‰çš„table<ul><li>å®¹å™¨åˆ†ç±»ï¼š<ol><li>containerï¼šä¸¤è¾¹ç•™ç™½</li><li>container-fluidï¼šæ¯ä¸€ç§è®¾å¤‡éƒ½æ˜¯100%å®½åº¦</li></ol></li></ul></li><li>å®šä¹‰è¡Œã€‚ç›¸å½“äºä¹‹å‰çš„tr   æ ·å¼ï¼šrow</li><li>å®šä¹‰å…ƒç´ ã€‚æŒ‡å®šè¯¥å…ƒç´ åœ¨ä¸åŒçš„è®¾å¤‡ä¸Šï¼Œæ‰€å çš„æ ¼å­æ•°ç›®ã€‚æ ·å¼ï¼šcol-è®¾å¤‡ä»£å·-æ ¼å­æ•°ç›®(ä¸€ä¸ªæ ¼å­å å‡ ä¸ªä½ç½®)<ul><li>è®¾å¤‡ä»£å·ï¼š<ol><li>xsï¼šè¶…å°å±å¹• æ‰‹æœº (&lt;768px)ï¼šcol-xs-12</li><li>smï¼šå°å±å¹• å¹³æ¿ (â‰¥768px)</li><li>mdï¼šä¸­ç­‰å±å¹• æ¡Œé¢æ˜¾ç¤ºå™¨ (â‰¥992px)</li><li>lgï¼šå¤§å±å¹• å¤§æ¡Œé¢æ˜¾ç¤ºå™¨ (â‰¥1200px)</li></ol></li></ul></li></ol><ul><li>æ³¨æ„ï¼š<ol><li>ä¸€è¡Œä¸­å¦‚æœæ ¼å­æ•°ç›®è¶…è¿‡12ï¼Œåˆ™è¶…å‡ºéƒ¨åˆ†è‡ªåŠ¨æ¢è¡Œã€‚</li><li>æ …æ ¼ç±»å±æ€§å¯ä»¥å‘ä¸Šå…¼å®¹ã€‚æ …æ ¼ç±»é€‚ç”¨äºä¸å±å¹•å®½åº¦å¤§äºæˆ–ç­‰äºåˆ†ç•Œç‚¹å¤§å°çš„è®¾å¤‡ã€‚</li><li>ï¼ˆå‘ä¸‹ä¸å…¼å®¹ï¼‰å¦‚æœçœŸå®è®¾å¤‡å®½åº¦å°äºäº†è®¾ç½®æ …æ ¼ç±»å±æ€§çš„è®¾å¤‡ä»£ç çš„æœ€å°å€¼ï¼Œä¼šä¸€ä¸ªå…ƒç´ æ²¾æ»¡ä¸€æ•´è¡Œã€‚</li></ol></li></ul></li></ul><hr><h3 id="CSSæ ·å¼å’ŒJSæ’ä»¶"><a href="#CSSæ ·å¼å’ŒJSæ’ä»¶" class="headerlink" title="CSSæ ·å¼å’ŒJSæ’ä»¶"></a>CSSæ ·å¼å’ŒJSæ’ä»¶</h3><ul><li><p>å…¨å±€CSSæ ·å¼ï¼šï¼ˆclassæ¥å®šä¹‰ï¼Œä¸€ä¸ªclassé‡Œå¯ä»¥å®šä¹‰å¤šä¸ªå±æ€§å€¼ï¼‰</p><ul><li><p>æŒ‰é’®ï¼š</p><pre><code>buttonæ ‡ç­¾class="btn btn-default/success/infoï¼ˆä¸€èˆ¬ä¿¡æ¯ï¼‰/warning/danger/link"</code></pre></li><li><p>å›¾ç‰‡ï¼š</p><pre><code>imgæ ‡ç­¾*  class="img-responsive"ï¼šå›¾ç‰‡åœ¨ä»»æ„å°ºå¯¸éƒ½å 100%    *  å›¾ç‰‡å½¢çŠ¶        *  &lt;img src="..." alt="..." class="img-rounded"&gt;ï¼šæ–¹å½¢        *  &lt;img src="..." alt="..." class="img-circle"&gt; ï¼š åœ†å½¢        *  &lt;img src="..." alt="..." class="img-thumbnail"&gt; ï¼šç›¸æ¡†</code></pre></li><li><p>è¡¨æ ¼ï¼š</p><pre><code>tableæ ‡ç­¾        * table è¡¨æ ¼æ ·å¼    * table-bordered  è¡¨æ ¼è¾¹æ¡†    * table-hover è¡¨æ ¼æ‚¬åœç‰¹æ•ˆ  træ ‡ç­¾    * activeç°è‰²/successç»¿è‰²/infoè“è‰²/warningé»„è‰²/dangerçº¢è‰²</code></pre></li><li><p>è¡¨å•ï¼š</p><pre class=" language-html"><code class="language-html">inputæ ‡ç­¾    * class="form-control"æ³¨æ„ï¼šç”¨divåŒ…è£¹è¡¨å•ï¼Œdivä¸­å†™class="form-group"æ•ˆæœæ›´æ£’     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>exampleInputEmail1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Email address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>//è¿™æ˜¯æ‰©å¤§ç„¦ç‚¹    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>exampleInputEmail1<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Email<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>æ°´å¹³æ’åˆ—è¡¨å•formæ ‡ç­¾ä¸­class="form-horizontal"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-horizontal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>inputEmail3<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-sm-2 control-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Email<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-sm-10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>inputEmail3<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Email<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></li></ul></li><li><p>ç»„ä»¶ï¼š</p><ul><li><p>å¯¼èˆªæ¡ï¼šçœ‹æ–‡æ¡£ï¼ŒæŠŠæ¨¡æ¿å¤åˆ¶è¿›å»ï¼Œçœ‹ä¸æ‡‚åˆ äº†å°±çŸ¥é“æ˜¯å“ªä¸ªç»“æ„ï¼Œæ”¹å°±å¯ä»¥äº†</p></li><li><p>åˆ†é¡µæ¡ï¼š</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pagination<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Previous<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&laquo;">&amp;laquo;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Next<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&raquo;">&amp;raquo;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span>ulæ ‡ç­¾    * pager ç¿»é¡µ    * pagination-lg å¤§å·åˆ†é¡µ    * pagination-sm å°å·åˆ†é¡µliæ ‡ç­¾    * active æ¿€æ´»    * disabled ç¦ç”¨</code></pre></li></ul></li><li><p>æ’ä»¶ï¼š</p><ul><li>è½®æ’­å›¾ï¼šçœ‹æ–‡æ¡£ï¼ŒæŠŠæ¨¡æ¿å¤åˆ¶è¿›å»ï¼Œçœ‹ä¸æ‡‚åˆ äº†å°±çŸ¥é“æ˜¯å“ªä¸ªç»“æ„ï¼Œæ”¹å°±å¯ä»¥äº†</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bootstrap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ajaxã€Jsonè¯¦è§£</title>
      <link href="/2020/07/24/qian-duan/ajax-json/"/>
      <url>/2020/07/24/qian-duan/ajax-json/</url>
      
        <content type="html"><![CDATA[<h2 id="AJAXï¼š"><a href="#AJAXï¼š" class="headerlink" title="AJAXï¼š"></a>AJAXï¼š</h2><h3 id="1-æ¦‚å¿µï¼š-ASynchronous-JavaScript-And-XML-å¼‚æ­¥çš„JavaScript-å’Œ-XML"><a href="#1-æ¦‚å¿µï¼š-ASynchronous-JavaScript-And-XML-å¼‚æ­¥çš„JavaScript-å’Œ-XML" class="headerlink" title="1.æ¦‚å¿µï¼š ASynchronous JavaScript And XML    å¼‚æ­¥çš„JavaScript å’Œ XML"></a>1.æ¦‚å¿µï¼š ASynchronous JavaScript And XML    å¼‚æ­¥çš„JavaScript å’Œ XML</h3><ol><li><p>å¼‚æ­¥å’ŒåŒæ­¥ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ç›¸äº’é€šä¿¡çš„åŸºç¡€ä¸Š</p><ul><li>å®¢æˆ·ç«¯å¿…é¡»ç­‰å¾…æœåŠ¡å™¨ç«¯çš„å“åº”ã€‚åœ¨ç­‰å¾…çš„æœŸé—´å®¢æˆ·ç«¯ä¸èƒ½åšå…¶ä»–æ“ä½œã€‚</li><li>å®¢æˆ·ç«¯ä¸éœ€è¦ç­‰å¾…æœåŠ¡å™¨ç«¯çš„å“åº”ã€‚åœ¨æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯å¯ä»¥è¿›è¡Œå…¶ä»–çš„æ“ä½œã€‚</li></ul><p> Ajax æ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ã€‚ ==ï¼ˆæäº¤ä¸åˆ·æ–°é¡µé¢ï¼‰==</p><p> æå‡ç”¨æˆ·çš„ä½“éªŒ</p></li></ol><h3 id="2-å®ç°æ–¹å¼ï¼š"><a href="#2-å®ç°æ–¹å¼ï¼š" class="headerlink" title="2. å®ç°æ–¹å¼ï¼š"></a>2. å®ç°æ–¹å¼ï¼š</h3><ol><li><p>åŸç”Ÿçš„JSå®ç°æ–¹å¼ï¼ˆäº†è§£ï¼‰</p><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//1.åˆ›å»ºæ ¸å¿ƒå¯¹è±¡</span><span class="token keyword">var</span> xmlhttp<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">// code for IE7+, Firefox, Chrome, Opera, Safari</span>    xmlhttp<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">// code for IE6, IE5</span>    xmlhttp<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//2. å»ºç«‹è¿æ¥</span><span class="token comment" spellcheck="true">/*                    å‚æ•°ï¼š                        1. è¯·æ±‚æ–¹å¼ï¼šGETã€POST                            * getæ–¹å¼ï¼Œè¯·æ±‚å‚æ•°åœ¨URLåè¾¹æ‹¼æ¥ã€‚sendæ–¹æ³•ä¸ºç©ºå‚                            * postæ–¹å¼ï¼Œè¯·æ±‚å‚æ•°åœ¨sendæ–¹æ³•ä¸­å®šä¹‰                        2. è¯·æ±‚çš„URLï¼š                        3. åŒæ­¥æˆ–å¼‚æ­¥è¯·æ±‚ï¼štrueï¼ˆå¼‚æ­¥ï¼‰æˆ– falseï¼ˆåŒæ­¥ï¼‰                 */</span>xmlhttp<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span><span class="token string">"ajaxServlet?username=tom"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//3.å‘é€è¯·æ±‚</span>xmlhttp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//4.æ¥å—å¹¶å¤„ç†æ¥è‡ªæœåŠ¡å™¨çš„å“åº”ç»“æœ</span><span class="token comment" spellcheck="true">//è·å–æ–¹å¼ ï¼šxmlhttp.responseText</span><span class="token comment" spellcheck="true">//ä»€ä¹ˆæ—¶å€™è·å–ï¼Ÿå½“æœåŠ¡å™¨å“åº”æˆåŠŸåå†è·å–</span><span class="token comment" spellcheck="true">//å½“xmlhttpå¯¹è±¡çš„å°±ç»ªçŠ¶æ€æ”¹å˜æ—¶ï¼Œè§¦å‘äº‹ä»¶onreadystatechangeã€‚</span>xmlhttp<span class="token punctuation">.</span>onreadystatechange<span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//åˆ¤æ–­readyStateå°±ç»ªçŠ¶æ€æ˜¯å¦ä¸º4ï¼Œåˆ¤æ–­statuså“åº”çŠ¶æ€ç æ˜¯å¦ä¸º200</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>xmlhttp<span class="token punctuation">.</span>readyState<span class="token operator">==</span><span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xmlhttp<span class="token punctuation">.</span>status<span class="token operator">==</span><span class="token number">200</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//è·å–æœåŠ¡å™¨çš„å“åº”ç»“æœ</span>        <span class="token keyword">var</span> responseText <span class="token operator">=</span> xmlhttp<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>        <span class="token function">alert</span><span class="token punctuation">(</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>JQeuryå®ç°æ–¹å¼</p><ol><li><p>$.ajax()</p><ul><li>è¯­æ³•ï¼š$.ajax({é”®å€¼å¯¹});</li></ul><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript"><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">//ä½¿ç”¨$.ajax()å‘é€å¼‚æ­¥è¯·æ±‚</span>                $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                    url<span class="token punctuation">:</span><span class="token string">"ajaxServlet"</span> <span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// è¯·æ±‚è·¯å¾„</span>                    type<span class="token punctuation">:</span><span class="token string">"POST"</span> <span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//è¯·æ±‚æ–¹å¼</span>                    <span class="token comment" spellcheck="true">//data: "username=jack&amp;age=23",//è¯·æ±‚å‚æ•°</span>                    data<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">"username"</span><span class="token punctuation">:</span><span class="token string">"jack"</span><span class="token punctuation">,</span><span class="token string">"age"</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">,</span>                    success<span class="token punctuation">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token function">alert</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//å“åº”æˆåŠŸåçš„å›è°ƒå‡½æ•°</span>                    error<span class="token punctuation">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"å‡ºé”™å•¦..."</span><span class="token punctuation">)</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//è¡¨ç¤ºå¦‚æœè¯·æ±‚å“åº”å‡ºç°é”™è¯¯ï¼Œä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span>                        dataType<span class="token punctuation">:</span><span class="token string">"text"</span><span class="token comment" spellcheck="true">//è®¾ç½®æ¥å—åˆ°çš„å“åº”æ•°æ®çš„æ ¼å¼</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>å‘é€å¼‚æ­¥è¯·æ±‚<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fun();<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                </code></pre></li><li><p>$.get()ï¼šå‘é€getè¯·æ±‚</p><ul><li>è¯­æ³•ï¼š$.get(url, [data], [callback], [type])<ul><li>å‚æ•°ï¼š<ul><li>urlï¼šè¯·æ±‚è·¯å¾„</li><li>dataï¼šè¯·æ±‚å‚æ•°</li><li>callbackï¼šå›è°ƒå‡½æ•°</li><li>typeï¼šå“åº”ç»“æœçš„ç±»å‹ï¼šxml,html,javascript,json,text,_default</li></ul></li></ul></li></ul><pre class=" language-javascript"><code class="language-javascript">$<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"ajaxServlet"</span><span class="token punctuation">,</span><span class="token punctuation">{</span>username<span class="token punctuation">:</span><span class="token string">"zhangsan"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>     <span class="token function">alert</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>     <span class="token punctuation">,</span><span class="token string">"text"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>$.post()ï¼šå‘é€postè¯·æ±‚</p><ul><li>è¯­æ³•ï¼š$.post(url, [data], [callback], [type])<pre><code>      * å‚æ•°ï¼š          * urlï¼šè¯·æ±‚è·¯å¾„         * dataï¼šè¯·æ±‚å‚æ•°         * callbackï¼šå›è°ƒå‡½æ•°         * typeï¼šå“åº”ç»“æœçš„ç±»å‹</code></pre></li></ul></li></ol></li></ol><hr><h2 id="JSONï¼š"><a href="#JSONï¼š" class="headerlink" title="JSONï¼š"></a>JSONï¼š</h2><h3 id="1-æ¦‚å¿µï¼š-JavaScript-Object-Notation-JavaScriptå¯¹è±¡è¡¨ç¤ºæ³•"><a href="#1-æ¦‚å¿µï¼š-JavaScript-Object-Notation-JavaScriptå¯¹è±¡è¡¨ç¤ºæ³•" class="headerlink" title="1. æ¦‚å¿µï¼š JavaScript Object Notation        JavaScriptå¯¹è±¡è¡¨ç¤ºæ³•"></a>1. æ¦‚å¿µï¼š JavaScript Object Notation        JavaScriptå¯¹è±¡è¡¨ç¤ºæ³•</h3><pre><code>//æ™®é€šPerson p = new Person();p.setName("å¼ ä¸‰");p.setAge(23);p.setGender("ç”·");//jsonvar p = {"name":"å¼ ä¸‰","age":23,"gender":"ç”·"};</code></pre><ul><li>jsonç°åœ¨å¤šç”¨äºå­˜å‚¨å’Œäº¤æ¢æ–‡æœ¬ä¿¡æ¯çš„è¯­æ³•</li><li>è¿›è¡Œæ•°æ®çš„ä¼ è¾“</li><li>JSON æ¯” XML æ›´å°ã€æ›´å¿«ï¼Œæ›´æ˜“è§£æã€‚</li></ul><h3 id="2-è¯­æ³•ï¼š"><a href="#2-è¯­æ³•ï¼š" class="headerlink" title="2. è¯­æ³•ï¼š"></a>2. è¯­æ³•ï¼š</h3><h4 id="2-1-åŸºæœ¬è§„åˆ™"><a href="#2-1-åŸºæœ¬è§„åˆ™" class="headerlink" title="2.1 åŸºæœ¬è§„åˆ™"></a>2.1 åŸºæœ¬è§„åˆ™</h4><ul><li><p>æ•°æ®åœ¨åç§°/å€¼å¯¹ä¸­ï¼šjsonæ•°æ®æ˜¯ç”±é”®å€¼å¯¹æ„æˆçš„</p><ul><li>é”®==ç”¨å¼•å·(å•åŒéƒ½è¡Œ)==å¼•èµ·æ¥ï¼Œä¹Ÿå¯ä»¥==ä¸ä½¿ç”¨å¼•å·==</li><li>å€¼çš„å–å€¼ç±»å‹ï¼š<ol><li>æ•°å­—ï¼ˆæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼‰</li><li>å­—ç¬¦ä¸²ï¼ˆåœ¨åŒå¼•å·ä¸­ï¼‰</li><li>é€»è¾‘å€¼ï¼ˆtrue æˆ– falseï¼‰</li><li>æ•°ç»„ï¼ˆåœ¨æ–¹æ‹¬å·ä¸­ï¼‰    {â€œpersonsâ€:[ { },{ } ]}</li><li>å¯¹è±¡ï¼ˆåœ¨èŠ±æ‹¬å·ä¸­ï¼‰ {â€œaddressâ€:{â€œprovinceâ€ï¼šâ€é™•è¥¿â€â€¦.}}</li><li>null</li></ol><pre><code>var persons = {"persons":[{"name":"å¼ ä¸‰"},{"name":"æå››"}]}</code></pre></li></ul></li><li><p>æ•°æ®ç”±é€—å·åˆ†éš”ï¼šå¤šä¸ªé”®å€¼å¯¹ç”±é€—å·åˆ†éš”</p></li><li><p>èŠ±æ‹¬å·ä¿å­˜å¯¹è±¡ï¼šä½¿ç”¨{}å®šä¹‰json æ ¼å¼</p></li><li><p>æ–¹æ‹¬å·ä¿å­˜æ•°ç»„ï¼š[]</p></li></ul><h4 id="2-2-è·å–æ•°æ®"><a href="#2-2-è·å–æ•°æ®" class="headerlink" title="2.2 è·å–æ•°æ®:"></a>2.2 è·å–æ•°æ®:</h4><ol><li>jsonå¯¹è±¡.é”®å</li><li>jsonå¯¹è±¡[â€œé”®åâ€]</li><li>æ•°ç»„å¯¹è±¡[ç´¢å¼•]</li></ol><pre><code>var persons = {"persons":[{"name":"å¼ ä¸‰"},{"name":"æå››"}]}//æå››var name1 = persons.persons[1].name</code></pre><ol start="4"><li><strong>éå†</strong></li></ol><pre><code> //1.å®šä¹‰åŸºæœ¬æ ¼å¼                var person = {"name": "å¼ ä¸‰", age: 23, 'gender': true};                        var ps = [{"name": "å¼ ä¸‰", "age": 23, "gender": true},                    {"name": "æå››", "age": 24, "gender": true},                    {"name": "ç‹äº”", "age": 25, "gender": false}];                                    //è·å–personå¯¹è±¡ä¸­æ‰€æœ‰çš„é”®å’Œå€¼                //for in å¾ªç¯                for(var key in person){                    alert(key)//é”®ï¼Œå­—ç¬¦ä¸²å½¢å¼ï¼Œè·å–å€¼æ—¶ä¸èƒ½ä½¿ç”¨ï¼šperson.key --&gt; person."name"                    alert(person[key])//å€¼                }                                 //è·å–psæ•°ç»„ä¸­çš„æ‰€æœ‰å€¼                 for(var i=0;i&lt;ps.length;i++){                     var p = ps[i];                     for(var key in p){                         alert(key+":"+p[key]);                     }                 }</code></pre><h4 id="2-3-JSONæ•°æ®å’ŒJavaå¯¹è±¡çš„ç›¸äº’è½¬æ¢"><a href="#2-3-JSONæ•°æ®å’ŒJavaå¯¹è±¡çš„ç›¸äº’è½¬æ¢" class="headerlink" title="2.3 JSONæ•°æ®å’ŒJavaå¯¹è±¡çš„ç›¸äº’è½¬æ¢"></a>2.3 JSONæ•°æ®å’ŒJavaå¯¹è±¡çš„ç›¸äº’è½¬æ¢</h4><ul><li>JSONè§£æå™¨ï¼š<ul><li>å¸¸è§çš„è§£æå™¨ï¼šJsonlibï¼ŒGsonï¼Œfastjsonï¼Œjackson</li></ul></li></ul><ol><li><p>JSONè½¬ä¸ºJavaå¯¹è±¡ï¼ˆäº†è§£ï¼‰</p><ol><li>å¯¼å…¥jacksonçš„ç›¸å…³jaråŒ…</li><li>åˆ›å»ºJacksonæ ¸å¿ƒå¯¹è±¡ ObjectMapper</li><li>è°ƒç”¨ObjectMapperçš„ç›¸å…³æ–¹æ³•è¿›è¡Œè½¬æ¢<ol><li>readValue(jsonå­—ç¬¦ä¸²æ•°æ®,class)</li></ol><pre><code>String person = "{"name": "å¼ ä¸‰", age: 23, 'gender': true}";Person person = mapper.readValue(person,Person.class)</code></pre></li></ol></li><li><p><strong>Javaå¯¹è±¡è½¬æ¢JSON</strong></p></li><li><p><strong>ä½¿ç”¨æ­¥éª¤</strong></p></li></ol><pre><code>1. å¯¼å…¥jacksonçš„ç›¸å…³jaråŒ…2. åˆ›å»ºJacksonæ ¸å¿ƒå¯¹è±¡ ObjectMapper3. è°ƒç”¨ObjectMapperçš„ç›¸å…³æ–¹æ³•è¿›è¡Œè½¬æ¢  1. **è½¬æ¢æ–¹æ³•**          * writeValue(å‚æ•°1ï¼Œobj):                å‚æ•°1ï¼š                    Fileï¼šå°†objå¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ï¼Œå¹¶ä¿å­˜åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­                    Writerï¼šå°†objå¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ï¼Œå¹¶å°†jsonæ•°æ®å¡«å……åˆ°å­—ç¬¦è¾“å‡ºæµä¸­                    OutputStreamï¼šå°†objå¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ï¼Œå¹¶å°†jsonæ•°æ®å¡«å……åˆ°å­—èŠ‚è¾“å‡ºæµä¸­    * writeValueAsString(obj):å°†å¯¹è±¡è½¬ä¸ºjsonå­—ç¬¦ä¸²        ``` java    var person = {"name": "å¼ ä¸‰", age: 23, 'gender': true};        String json = writeValueAsString(person);    System.out.println(json);        writeValue(new File("d://a.txt"),json);    ```      2. æ³¨è§£ï¼šï¼ˆå®šä¹‰åœ¨Beanç±»çš„å±æ€§ä¸Šæ–¹ï¼‰     1. @JsonIgnoreï¼šæ’é™¤å±æ€§ï¼ˆè¯¥å±æ€§ä¸è¢«è½¬æ¢ä¸ºjsonï¼‰ã€‚ï¼ˆäº†è§£ï¼‰     2. @JsonFormatï¼šå±æ€§å€¼å¾—æ ¼å¼åŒ–          * @JsonFormat(pattern = "yyyy-MM-dd")  3. å¤æ‚javaå¯¹è±¡è½¬æ¢     1. Listï¼šè½¬æ¢å‡ºçš„æ˜¯æ•°ç»„     2. Mapï¼šè½¬æ¢å‡ºçš„å’Œå¯¹è±¡æ ¼å¼ä¸€è‡´</code></pre><h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><ul><li><p>æ ¡éªŒç”¨æˆ·åæ˜¯å¦å­˜åœ¨</p><pre><code>æ³¨æ„ï¼šservletè¿”å›çš„åº”è¯¥æ˜¯jsonå¯¹è±¡æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š1. $.get(type):å°†æœ€åä¸€ä¸ªå‚æ•°typeæŒ‡å®šä¸º"json"2. åœ¨æœåŠ¡å™¨ç«¯è®¾ç½®MIMEç±»å‹response.setContentType("application/json;charset=utf-8");</code></pre><pre><code>ä¹±ç :response.setContentType("application/json;charset=utf-8");</code></pre><pre><code>json is not a function:æ²¡æœ‰åŠ å¼•å· "json"</code></pre><pre><code>è¿æ¥æ•°æ®åº“bug:except 1,actl 0ï¼ˆgetParameterè·å–ä¸åˆ°å€¼ï¼‰daoçš„implç±»æ•°æ®åº“é€»è¾‘ï¼Œåº”è¯¥try catchï¼ŒæŸ¥æ‰¾åˆ°è¿”å›trueï¼ŒæŸ¥æ‰¾ä¸åˆ°catchä¸­è¿”å›false</code></pre></li></ul><pre><code>åˆ†æï¼š1.åœ¨htmlä¸­åˆ›å»ºè¡¨å•ï¼Œå¹¶åœ¨usernameçš„è¡¨å•ååŠ ä¸Šspanæ ‡ç­¾2.å¼•å…¥jqueryï¼Œç»‘å®šbluräº‹ä»¶ï¼Œè§¦å‘ajaxè¯·æ±‚æŸ¥è¯¢æ•°æ®åº“æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªuserExsitå’Œmsgï¼Œåˆ¤æ–­userExsitï¼Œå°†msgä¼ å€¼3.FindUserServletï¼Œè·å–ajaxä¼ æ¥çš„å€¼ï¼Œè°ƒç”¨æ•°æ®åº“æŸ¥è¯¢ï¼ŒæŸ¥è¯¢åˆ°æœ‰å€¼åˆ™è¿”å›trueï¼ŒæŠŠuserExsitå’Œmsgèµ‹å€¼ï¼Œè½¬æ¢jsonå¯¹è±¡</code></pre><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>s_username<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bt_reg<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>æ³¨å†Œ<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>js/jquery-3.3.1.min.js<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//è·å–è¾“å…¥æ¡†çš„å€¼</span>        <span class="token keyword">var</span> username <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//ä½¿ç”¨Ajaxå‘é€è¯·æ±‚,æ¥æ”¶åˆ°å›åº”ä¹‹åè°ƒç”¨functionæ–¹æ³•</span>        $<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"findUserServlet"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"username"</span><span class="token punctuation">:</span>username<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>userExsit<span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">//å­˜åœ¨ç”¨æˆ·</span>                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"s_username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"color"</span><span class="token punctuation">,</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"s_username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">//ç”¨æˆ·åå¯ç”¨</span>                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"s_username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"color"</span><span class="token punctuation">,</span><span class="token string">"green"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"s_username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//è·å–ajaxå‘é€è¯·æ±‚çš„å€¼</span>String username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è®¾ç½®å›åº”çš„æ ¼å¼å’Œå­—ç¬¦é›†</span>response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"application/json;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Object<span class="token operator">></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Object<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å­˜åœ¨è¯¥ç”¨æˆ·</span>    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"userExsit"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span><span class="token string">"è¯¥ç”¨æˆ·å·²å­˜åœ¨ï¼Œè¯·é‡è¯•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//ç”¨æˆ·åå¯ç”¨</span>    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"userExsit"</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span><span class="token string">"è¯¥ç”¨æˆ·åå¯ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//å°†mapé›†åˆå¯¹è±¡è½¬æ¢ä¸ºjsonå¯¹è±¡,å¹¶è¿”å›ç»™å®¢æˆ·ç«¯</span>ObjectMapper mapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>mapper<span class="token punctuation">.</span><span class="token function">writeValue</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ajax </tag>
            
            <tag> json </tag>
            
            <tag> å¼‚æ­¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS:é¡µé¢ç¾åŒ–å’Œå¸ƒå±€æ§åˆ¶</title>
      <link href="/2020/07/22/qian-duan/css-ye-mian-mei-hua-he-bu-ju-kong-zhi/"/>
      <url>/2020/07/22/qian-duan/css-ye-mian-mei-hua-he-bu-ju-kong-zhi/</url>
      
        <content type="html"><![CDATA[<h2 id="CSS-é¡µé¢ç¾åŒ–å’Œå¸ƒå±€æ§åˆ¶"><a href="#CSS-é¡µé¢ç¾åŒ–å’Œå¸ƒå±€æ§åˆ¶" class="headerlink" title="CSS:é¡µé¢ç¾åŒ–å’Œå¸ƒå±€æ§åˆ¶"></a>CSS:é¡µé¢ç¾åŒ–å’Œå¸ƒå±€æ§åˆ¶</h2><h3 id="1-æ¦‚å¿µï¼šCascading-Style-Sheets-å±‚å æ ·å¼è¡¨ï¼ˆå¤šç§æ ·å¼åŒæ—¶ä½œç”¨åœ¨ä¸€ä¸ªhtmlå…ƒç´ ä¸­ï¼‰"><a href="#1-æ¦‚å¿µï¼šCascading-Style-Sheets-å±‚å æ ·å¼è¡¨ï¼ˆå¤šç§æ ·å¼åŒæ—¶ä½œç”¨åœ¨ä¸€ä¸ªhtmlå…ƒç´ ä¸­ï¼‰" class="headerlink" title="1. æ¦‚å¿µï¼šCascading Style Sheets å±‚å æ ·å¼è¡¨ï¼ˆå¤šç§æ ·å¼åŒæ—¶ä½œç”¨åœ¨ä¸€ä¸ªhtmlå…ƒç´ ä¸­ï¼‰"></a>1. æ¦‚å¿µï¼šCascading Style Sheets å±‚å æ ·å¼è¡¨ï¼ˆå¤šç§æ ·å¼åŒæ—¶ä½œç”¨åœ¨ä¸€ä¸ªhtmlå…ƒç´ ä¸­ï¼‰</h3><h3 id="2-å¥½å¤„ï¼šå°†å†…å®¹å±•ç¤ºå’Œæ ·å¼æ§åˆ¶åˆ†ç¦»ï¼Œé™ä½è€¦åˆåº¦"><a href="#2-å¥½å¤„ï¼šå°†å†…å®¹å±•ç¤ºå’Œæ ·å¼æ§åˆ¶åˆ†ç¦»ï¼Œé™ä½è€¦åˆåº¦" class="headerlink" title="2. å¥½å¤„ï¼šå°†å†…å®¹å±•ç¤ºå’Œæ ·å¼æ§åˆ¶åˆ†ç¦»ï¼Œé™ä½è€¦åˆåº¦"></a>2. å¥½å¤„ï¼šå°†å†…å®¹å±•ç¤ºå’Œæ ·å¼æ§åˆ¶åˆ†ç¦»ï¼Œé™ä½è€¦åˆåº¦</h3><h3 id="3-CSSçš„ä½¿ç”¨ï¼š"><a href="#3-CSSçš„ä½¿ç”¨ï¼š" class="headerlink" title="3. CSSçš„ä½¿ç”¨ï¼š"></a>3. CSSçš„ä½¿ç”¨ï¼š</h3><ol><li><p>å†…è”æ ·å¼</p><ul><li>åœ¨æ ‡ç­¾å†…ä½¿ç”¨styleå±æ€§æŒ‡å®šcssä»£ç </li></ul></li><li><p>å†…éƒ¨æ ·å¼</p><ul><li>åœ¨headæ ‡ç­¾å†…ï¼Œå®šä¹‰styleæ ‡ç­¾çš„æ ‡ç­¾ä½“å†…å®¹å°±æ˜¯cssä»£ç </li></ul></li><li><p>å¤–éƒ¨æ ·å¼</p><ul><li>åœ¨headæ ‡ç­¾å†…ï¼Œå®šä¹‰linkæ ‡ç­¾ï¼Œå¼•å…¥å¤–éƒ¨çš„cssèµ„æºæ–‡ä»¶</li></ul><pre><code>&lt;link rel="stylesheet" href="css/a.css"&gt;</code></pre></li></ol><h3 id="4-CSSè¯­æ³•ï¼š"><a href="#4-CSSè¯­æ³•ï¼š" class="headerlink" title="4. CSSè¯­æ³•ï¼š"></a>4. CSSè¯­æ³•ï¼š</h3><ol><li><p>æ ¼å¼ï¼š</p><pre><code>é€‰æ‹©å™¨{    å±æ€§å1ï¼šå±æ€§å€¼1ï¼›    å±æ€§å2ï¼šå±æ€§å€¼2ï¼›â€¦â€¦}</code></pre></li><li><p><strong>é€‰æ‹©å™¨ï¼š</strong></p><ul><li><p>åˆ†ç±»</p><ol><li><p><strong>åŸºç¡€é€‰æ‹©å™¨</strong></p><ol><li><p>idé€‰æ‹©å™¨</p><ul><li>è¯­æ³•ï¼š#å±æ€§å€¼{    }</li></ul></li><li><p>å…ƒç´ é€‰æ‹©å™¨</p><ul><li>è¯­æ³•ï¼šæ ‡ç­¾åç§°{    }</li></ul></li><li><p>ç±»é€‰æ‹©å™¨</p><ul><li>è¯­æ³•ï¼š.classå±æ€§å€¼{    }</li></ul><pre><code>.cls1{    }&lt;p class="cls1"&gt;111&lt;/p&gt;</code></pre></li></ol><ul><li>æ³¨æ„ï¼šä¼˜å…ˆçº§ï¼šid&gt;ç±»&gt;å…ƒç´ </li></ul></li><li><p><strong>æ‰©å±•é€‰æ‹©å™¨</strong></p><ol><li><p>é€‰æ‹©æ‰€æœ‰å…ƒç´ </p><ul><li>è¯­æ³•ï¼š *{ }</li></ul></li><li><p>å¹¶é›†é€‰æ‹©å™¨</p><ul><li>é€‰æ‹©å™¨1ï¼Œé€‰æ‹©å™¨2{ }</li></ul></li><li><p>å­é€‰æ‹©å™¨ï¼šé€‰æ‹©å™¨1å…ƒç´ ä¸‹çš„é€‰æ‹©å™¨2å…ƒç´ </p><ul><li>é€‰æ‹©å™¨1 é€‰æ‹©å™¨2{    }</li></ul></li><li><p>çˆ¶é€‰æ‹©å™¨ï¼š  é€‰æ‹©å™¨2å…ƒç´ ä¸Šçš„é€‰æ‹©å™¨1å…ƒç´ </p><ul><li>é€‰æ‹©å™¨2 &gt; é€‰æ‹©å™¨1{    }</li></ul></li><li><p>å±æ€§é€‰æ‹©å™¨ï¼š ä¸€èˆ¬ç”¨äºè¡¨å•æ ‡ç­¾</p><ul><li>è¯­æ³•ï¼šå…ƒç´ åç§°[å±æ€§å=â€å±æ€§å€¼ â€œ]</li></ul><pre><code>input[type="text"]{    }</code></pre></li><li><p>ä¼ªç±»é€‰æ‹©å™¨ï¼šé€‰æ‹©ä¸€äº›å…ƒç´ å…·æœ‰çš„çŠ¶æ€</p><ul><li>è¯­æ³•ï¼š å…ƒç´ ï¼šçŠ¶æ€{}</li><li>å¦‚ï¼š<a>çŠ¶æ€ï¼š<ul><li> linkï¼šåˆå§‹åŒ–çš„çŠ¶æ€</li><li>visitedï¼šè¢«è®¿é—®è¿‡çš„çŠ¶æ€</li><li>activeï¼šæ­£åœ¨è®¿é—®çŠ¶æ€</li><li>hoverï¼šé¼ æ ‡æ‚¬æµ®çŠ¶æ€</li></ul></a></li></ul><pre><code>a:hover{    }</code></pre></li></ol></li></ol></li></ul></li><li><p><strong>å±æ€§</strong></p><ol><li>å­—ä½“ã€æ–‡æœ¬<ul><li>font-size:å­—ä½“å¤§å°</li><li>font-family:å­—ä½“ç±»å‹</li><li>font-align:å¯¹é½æ–¹å¼</li><li>line-height:è¡Œé«˜</li></ul></li><li>èƒŒæ™¯<ul><li>backgroundï¼šé¢œè‰²/url(â€œ â€œ) no-repeatä¸é‡å¤ center</li></ul></li><li>è¾¹æ¡†<ul><li>borderï¼šè®¾ç½®è¾¹æ¡†ï¼Œå¤åˆå±æ€§1px solid red</li><li>border-radius:åœ†è§’ px</li></ul></li><li>å°ºå¯¸<ul><li>widthå®½åº¦</li><li>heighté«˜åº¦</li></ul></li><li>ç›’å­æ¨¡å‹ï¼ˆæ ¹æ®è§†è§’ï¼‰<ul><li>marginï¼šå¤–è¾¹è·px</li><li>paddingï¼šå†…è¾¹è·<ul><li>é»˜è®¤æƒ…å†µä¸‹å†…è¾¹è·ä¼šå½±å“æ•´ä¸ªç›’å­çš„å¤§å°</li><li>box-sizingï¼šborder-box; è®¾ç½®ç›’å­çš„å±æ€§ è®©widthå’Œheightå°±æ˜¯æœ€ç»ˆç›’å­çš„å¤§å°</li></ul></li><li>floatï¼šæµ®åŠ¨<ul><li>leftå·¦æµ®åŠ¨</li><li>rightå³æµ®åŠ¨</li></ul></li></ul></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>rediséå…³ç³»å‹æ•°æ®åº“</title>
      <link href="/2020/07/21/qian-duan/redis/"/>
      <url>/2020/07/21/qian-duan/redis/</url>
      
        <content type="html"><![CDATA[<h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><h3 id="æ¦‚å¿µï¼š-redisæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„NOSQLç³»åˆ—çš„éå…³ç³»å‹æ•°æ®åº“"><a href="#æ¦‚å¿µï¼š-redisæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„NOSQLç³»åˆ—çš„éå…³ç³»å‹æ•°æ®åº“" class="headerlink" title="æ¦‚å¿µï¼š redisæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„NOSQLç³»åˆ—çš„éå…³ç³»å‹æ•°æ®åº“"></a>æ¦‚å¿µï¼š redisæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„NOSQLç³»åˆ—çš„éå…³ç³»å‹æ•°æ®åº“</h3><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/redis1.png" alt="image-20200510215548542" style="zoom:80%;"><pre><code>1.1.ä»€ä¹ˆæ˜¯NOSQL    NoSQL(NoSQL = Not Only SQL)ï¼Œæ„å³â€œä¸ä»…ä»…æ˜¯SQLâ€ï¼Œæ˜¯ä¸€é¡¹å…¨æ–°çš„æ•°æ®åº“ç†å¿µï¼Œæ³›æŒ‡éå…³ç³»å‹çš„æ•°æ®åº“ã€‚        1.1.1.    NOSQLå’Œå…³ç³»å‹æ•°æ®åº“æ¯”è¾ƒ        ä¼˜ç‚¹ï¼š            1ï¼‰æˆæœ¬ï¼šnosqlæ•°æ®åº“ç®€å•æ˜“éƒ¨ç½²ï¼ŒåŸºæœ¬éƒ½æ˜¯å¼€æºè½¯ä»¶ï¼Œä¸éœ€è¦åƒä½¿ç”¨oracleé‚£æ ·èŠ±è´¹å¤§é‡æˆæœ¬è´­ä¹°ä½¿ç”¨ï¼Œç›¸æ¯”å…³ç³»å‹æ•°æ®åº“ä»·æ ¼ä¾¿å®œã€‚            2ï¼‰æŸ¥è¯¢é€Ÿåº¦ï¼šnosqlæ•°æ®åº“å°†æ•°æ®å­˜å‚¨äºç¼“å­˜ä¹‹ä¸­ï¼Œå…³ç³»å‹æ•°æ®åº“å°†æ•°æ®å­˜å‚¨åœ¨ç¡¬ç›˜ä¸­ï¼Œè‡ªç„¶æŸ¥è¯¢é€Ÿåº¦è¿œä¸åŠnosqlæ•°æ®åº“ã€‚            3ï¼‰å­˜å‚¨æ•°æ®çš„æ ¼å¼ï¼šnosqlçš„å­˜å‚¨æ ¼å¼æ˜¯key,valueå½¢å¼ã€æ–‡æ¡£å½¢å¼ã€å›¾ç‰‡å½¢å¼ç­‰ç­‰ï¼Œæ‰€ä»¥å¯ä»¥å­˜å‚¨åŸºç¡€ç±»å‹ä»¥åŠå¯¹è±¡æˆ–è€…æ˜¯é›†åˆç­‰å„ç§æ ¼å¼ï¼Œè€Œæ•°æ®åº“åˆ™åªæ”¯æŒåŸºç¡€ç±»å‹ã€‚            4ï¼‰æ‰©å±•æ€§ï¼šå…³ç³»å‹æ•°æ®åº“æœ‰ç±»ä¼¼joinè¿™æ ·çš„å¤šè¡¨æŸ¥è¯¢æœºåˆ¶çš„é™åˆ¶å¯¼è‡´æ‰©å±•å¾ˆè‰°éš¾ã€‚        ç¼ºç‚¹ï¼š            1ï¼‰ç»´æŠ¤çš„å·¥å…·å’Œèµ„æ–™æœ‰é™ï¼Œå› ä¸ºnosqlæ˜¯å±äºæ–°çš„æŠ€æœ¯ï¼Œä¸èƒ½å’Œå…³ç³»å‹æ•°æ®åº“10å‡ å¹´çš„æŠ€æœ¯åŒæ—¥è€Œè¯­ã€‚            2ï¼‰ä¸æä¾›å¯¹sqlçš„æ”¯æŒï¼Œå¦‚æœä¸æ”¯æŒsqlè¿™æ ·çš„å·¥ä¸šæ ‡å‡†ï¼Œå°†äº§ç”Ÿä¸€å®šç”¨æˆ·çš„å­¦ä¹ å’Œä½¿ç”¨æˆæœ¬ã€‚            3ï¼‰ä¸æä¾›å…³ç³»å‹æ•°æ®åº“å¯¹äº‹åŠ¡çš„å¤„ç†ã€‚    1.1.2.    éå…³ç³»å‹æ•°æ®åº“çš„ä¼˜åŠ¿ï¼š        1ï¼‰æ€§èƒ½NOSQLæ˜¯åŸºäºé”®å€¼å¯¹çš„ï¼Œå¯ä»¥æƒ³è±¡æˆè¡¨ä¸­çš„ä¸»é”®å’Œå€¼çš„å¯¹åº”å…³ç³»ï¼Œè€Œä¸”ä¸éœ€è¦ç»è¿‡SQLå±‚çš„è§£æï¼Œæ‰€ä»¥æ€§èƒ½éå¸¸é«˜ã€‚        2ï¼‰å¯æ‰©å±•æ€§åŒæ ·ä¹Ÿæ˜¯å› ä¸ºåŸºäºé”®å€¼å¯¹ï¼Œæ•°æ®ä¹‹é—´æ²¡æœ‰è€¦åˆæ€§ï¼Œæ‰€ä»¥éå¸¸å®¹æ˜“æ°´å¹³æ‰©å±•ã€‚    1.1.3.    å…³ç³»å‹æ•°æ®åº“çš„ä¼˜åŠ¿ï¼š        1ï¼‰å¤æ‚æŸ¥è¯¢å¯ä»¥ç”¨SQLè¯­å¥æ–¹ä¾¿çš„åœ¨ä¸€ä¸ªè¡¨ä»¥åŠå¤šä¸ªè¡¨ä¹‹é—´åšéå¸¸å¤æ‚çš„æ•°æ®æŸ¥è¯¢ã€‚        2ï¼‰äº‹åŠ¡æ”¯æŒä½¿å¾—å¯¹äºå®‰å…¨æ€§èƒ½å¾ˆé«˜çš„æ•°æ®è®¿é—®è¦æ±‚å¾—ä»¥å®ç°ã€‚å¯¹äºè¿™ä¸¤ç±»æ•°æ®åº“ï¼Œå¯¹æ–¹çš„ä¼˜åŠ¿å°±æ˜¯è‡ªå·±çš„å¼±åŠ¿ï¼Œåä¹‹äº¦ç„¶ã€‚    1.1.4.    æ€»ç»“        å…³ç³»å‹æ•°æ®åº“ä¸NoSQLæ•°æ®åº“å¹¶éå¯¹ç«‹è€Œæ˜¯äº’è¡¥çš„å…³ç³»ï¼Œå³é€šå¸¸æƒ…å†µä¸‹ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“ï¼Œåœ¨é€‚åˆä½¿ç”¨NoSQLçš„æ—¶å€™ä½¿ç”¨NoSQLæ•°æ®åº“ï¼Œ        è®©NoSQLæ•°æ®åº“å¯¹å…³ç³»å‹æ•°æ®åº“çš„ä¸è¶³è¿›è¡Œå¼¥è¡¥ã€‚        ä¸€èˆ¬ä¼šå°†æ•°æ®å­˜å‚¨åœ¨å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œåœ¨nosqlæ•°æ®åº“ä¸­å¤‡ä»½å­˜å‚¨å…³ç³»å‹æ•°æ®åº“çš„æ•°æ®1.2.ä¸»æµçš„NOSQLäº§å“    â€¢    é”®å€¼(Key-Value)å­˜å‚¨æ•°æ®åº“            ç›¸å…³äº§å“ï¼š Tokyo Cabinet/Tyrantã€Redisã€Voldemortã€Berkeley DB            å…¸å‹åº”ç”¨ï¼š å†…å®¹ç¼“å­˜ï¼Œä¸»è¦ç”¨äºå¤„ç†å¤§é‡æ•°æ®çš„é«˜è®¿é—®è´Ÿè½½ã€‚             æ•°æ®æ¨¡å‹ï¼š ä¸€ç³»åˆ—é”®å€¼å¯¹            ä¼˜åŠ¿ï¼š å¿«é€ŸæŸ¥è¯¢            åŠ£åŠ¿ï¼š å­˜å‚¨çš„æ•°æ®ç¼ºå°‘ç»“æ„åŒ–    â€¢    åˆ—å­˜å‚¨æ•°æ®åº“            ç›¸å…³äº§å“ï¼šCassandra, HBase, Riak            å…¸å‹åº”ç”¨ï¼šåˆ†å¸ƒå¼çš„æ–‡ä»¶ç³»ç»Ÿ            æ•°æ®æ¨¡å‹ï¼šä»¥åˆ—ç°‡å¼å­˜å‚¨ï¼Œå°†åŒä¸€åˆ—æ•°æ®å­˜åœ¨ä¸€èµ·            ä¼˜åŠ¿ï¼šæŸ¥æ‰¾é€Ÿåº¦å¿«ï¼Œå¯æ‰©å±•æ€§å¼ºï¼Œæ›´å®¹æ˜“è¿›è¡Œåˆ†å¸ƒå¼æ‰©å±•            åŠ£åŠ¿ï¼šåŠŸèƒ½ç›¸å¯¹å±€é™    â€¢    æ–‡æ¡£å‹æ•°æ®åº“            ç›¸å…³äº§å“ï¼šCouchDBã€MongoDB            å…¸å‹åº”ç”¨ï¼šWebåº”ç”¨ï¼ˆä¸Key-Valueç±»ä¼¼ï¼ŒValueæ˜¯ç»“æ„åŒ–çš„ï¼‰            æ•°æ®æ¨¡å‹ï¼š ä¸€ç³»åˆ—é”®å€¼å¯¹            ä¼˜åŠ¿ï¼šæ•°æ®ç»“æ„è¦æ±‚ä¸ä¸¥æ ¼            åŠ£åŠ¿ï¼š æŸ¥è¯¢æ€§èƒ½ä¸é«˜ï¼Œè€Œä¸”ç¼ºä¹ç»Ÿä¸€çš„æŸ¥è¯¢è¯­æ³•    â€¢    å›¾å½¢(Graph)æ•°æ®åº“            ç›¸å…³æ•°æ®åº“ï¼šNeo4Jã€InfoGridã€Infinite Graph            å…¸å‹åº”ç”¨ï¼šç¤¾äº¤ç½‘ç»œ            æ•°æ®æ¨¡å‹ï¼šå›¾ç»“æ„            ä¼˜åŠ¿ï¼šåˆ©ç”¨å›¾ç»“æ„ç›¸å…³ç®—æ³•ã€‚            åŠ£åŠ¿ï¼šéœ€è¦å¯¹æ•´ä¸ªå›¾åšè®¡ç®—æ‰èƒ½å¾—å‡ºç»“æœï¼Œä¸å®¹æ˜“åšåˆ†å¸ƒå¼çš„é›†ç¾¤æ–¹æ¡ˆã€‚1.3 ä»€ä¹ˆæ˜¯Redis    Redisæ˜¯ç”¨Cè¯­è¨€å¼€å‘çš„ä¸€ä¸ªå¼€æºçš„é«˜æ€§èƒ½é”®å€¼å¯¹ï¼ˆkey-valueï¼‰æ•°æ®åº“ï¼Œä¸”Redisé€šè¿‡æä¾›å¤šç§é”®å€¼æ•°æ®ç±»å‹æ¥é€‚åº”ä¸åŒåœºæ™¯ä¸‹çš„å­˜å‚¨éœ€æ±‚ï¼Œç›®å‰ä¸ºæ­¢Redisæ”¯æŒçš„é”®å€¼æ•°æ®ç±»å‹å¦‚ä¸‹ï¼š        1) å­—ç¬¦ä¸²ç±»å‹ string        2) å“ˆå¸Œç±»å‹ hash        3) åˆ—è¡¨ç±»å‹ list        4) é›†åˆç±»å‹ set        5) æœ‰åºé›†åˆç±»å‹ sortedset    1.3.1 redisçš„åº”ç”¨åœºæ™¯        â€¢    ç¼“å­˜ï¼ˆæ•°æ®æŸ¥è¯¢ã€çŸ­è¿æ¥ã€æ–°é—»å†…å®¹ã€å•†å“å†…å®¹ç­‰ç­‰ï¼‰        â€¢    èŠå¤©å®¤çš„åœ¨çº¿å¥½å‹åˆ—è¡¨        â€¢    ä»»åŠ¡é˜Ÿåˆ—ã€‚ï¼ˆç§’æ€ã€æŠ¢è´­ã€12306ç­‰ç­‰ï¼‰        â€¢    åº”ç”¨æ’è¡Œæ¦œ        â€¢    ç½‘ç«™è®¿é—®ç»Ÿè®¡        â€¢    æ•°æ®è¿‡æœŸå¤„ç†ï¼ˆå¯ä»¥ç²¾ç¡®åˆ°æ¯«ç§’        â€¢    åˆ†å¸ƒå¼é›†ç¾¤æ¶æ„ä¸­çš„sessionåˆ†ç¦»è¡¨é”:MyISAMè¡Œé”ï¼šInnodbå¤§æ•°æ®ï¼š3v:æµ·é‡æ•°æ®ã€æ•°æ®å¤šæ ·ã€å®æ—¶æ•°æ® 3é«˜ï¼šé«˜å¹¶å‘ã€é«˜å¯æ‹“ã€é«˜æ€§èƒ½å•çº¿ç¨‹ï¼šredisæ˜¯åŸºäºå†…å­˜æ“ä½œï¼ŒCPUä¸æ˜¯Redisæ€§èƒ½ç“¶é¢ˆï¼Œè€Œæ˜¯æ ¹æ®å†…å­˜å’Œç½‘ç»œå¸¦å®½ï¼Œrediså°†å…¨éƒ¨æ•°æ®æ”¾åœ¨å†…å­˜å½“ä¸­ã€‚</code></pre><h3 id="ä¸‹è½½å®‰è£…"><a href="#ä¸‹è½½å®‰è£…" class="headerlink" title="ä¸‹è½½å®‰è£…"></a>ä¸‹è½½å®‰è£…</h3><ol><li>å®˜ç½‘ï¼š<a href="https://redis.io/">https://redis.io</a><ol start="2"><li>ä¸­æ–‡ç½‘ï¼š<a href="http://www.redis.net.cn/">http://www.redis.net.cn/</a></li><li>è§£å‹ç›´æ¥å¯ä»¥ä½¿ç”¨ï¼š<ul><li>redis.windows.confï¼šé…ç½®æ–‡ä»¶</li><li>redis-cli.exeï¼šredisçš„å®¢æˆ·ç«¯</li><li>redis-server.exeï¼šredisæœåŠ¡å™¨ç«¯</li></ul></li></ol></li></ol><h3 id="å‘½ä»¤æ“ä½œ"><a href="#å‘½ä»¤æ“ä½œ" class="headerlink" title="å‘½ä»¤æ“ä½œ"></a>å‘½ä»¤æ“ä½œ</h3><h4 id="redisçš„æ•°æ®ç»“æ„ï¼š"><a href="#redisçš„æ•°æ®ç»“æ„ï¼š" class="headerlink" title="redisçš„æ•°æ®ç»“æ„ï¼š"></a>redisçš„æ•°æ®ç»“æ„ï¼š</h4><ul><li>rediså­˜å‚¨çš„æ˜¯ï¼škey,valueæ ¼å¼çš„æ•°æ®ï¼Œå…¶ä¸­keyéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œvalueæœ‰5ç§ä¸åŒçš„æ•°æ®ç»“æ„<ul><li>valueçš„æ•°æ®ç»“æ„ï¼š<ol><li>å­—ç¬¦ä¸²ç±»å‹ string</li><li>å“ˆå¸Œç±»å‹ hash ï¼š mapæ ¼å¼  </li><li>åˆ—è¡¨ç±»å‹ list ï¼š linkedlistæ ¼å¼ã€‚æ”¯æŒé‡å¤å…ƒç´ </li><li>é›†åˆç±»å‹ set  ï¼š ä¸å…è®¸é‡å¤å…ƒç´ </li><li>æœ‰åºé›†åˆç±»å‹ sortedsetï¼šä¸å…è®¸é‡å¤å…ƒç´ ï¼Œä¸”å…ƒç´ æœ‰é¡ºåº</li></ol></li></ul></li></ul><h4 id="1-å­—ç¬¦ä¸²ç±»å‹-string"><a href="#1-å­—ç¬¦ä¸²ç±»å‹-string" class="headerlink" title="1. å­—ç¬¦ä¸²ç±»å‹ string"></a>1. å­—ç¬¦ä¸²ç±»å‹ string</h4><ol><li><p>å­˜å‚¨ï¼š set key value</p><pre><code>    127.0.0.1:6379&gt; set username zhangsan    OK</code></pre></li><li><p>è·å–ï¼š get key</p><pre><code>127.0.0.1:6379&gt; get username"zhangsan"</code></pre></li><li><p>åˆ é™¤ï¼š del key</p><pre><code>127.0.0.1:6379&gt; del age(integer) 1</code></pre></li><li><p>å¢åŠ å­—ç¬¦ä¸²ï¼šAPPEND <key> <value></value></key></p><p>å¦‚æœkeyä¸å­˜åœ¨ï¼Œå°±ç›¸å½“äºset</p></li><li><p>è·å–å­—ç¬¦ä¸²é•¿åº¦ï¼šSTRLEN <key></key></p></li><li><p>è‡ªå¢1ï¼šincr <key></key></p></li><li><p>è‡ªå‡1ï¼šdecr <key></key></p></li><li><p>è‡ªå¢æ­¥é•¿ï¼šINCRBY <key> &lt;æ­¥é•¿&gt;</key></p></li><li><p>è‡ªå‡æ­¥é•¿ï¼šDECRBY <key> &lt;æ­¥é•¿&gt;</key></p></li><li><p>æˆªå–å­—ç¬¦ä¸²ï¼šGETRANGE <key> &lt;èµ·å§‹ç´¢å¼•0&gt; &lt;ç»ˆæ­¢ç´¢å¼•&gt; å¦‚ï¼š03å°±æ˜¯[0,3]ï¼Œ0 -1å°±æ˜¯get</key></p></li><li><p>æ›¿æ¢å­—ç¬¦ä¸²ï¼šSETRANGE <key> &lt;ç´¢å¼•&gt; <value> å¦‚ï¼šåŸæ¥æ˜¯abcc  ,1 aa  å°±æ˜¯aaac</value></key></p></li><li><p>è®¾ç½®è¿‡æœŸæ—¶é—´ï¼šsetex <key> &lt;ç§’&gt; <value></value></key></p></li><li><p>ä¸å­˜åœ¨æ—¶å†setï¼šsetnx <key> <value></value></key></p></li><li><p>æ‰¹é‡set/get/setex/setnxï¼šmset <key> <value><key> <value></value></key></value></key></p></li><li><p>å…ˆgetåsetï¼šgetset <key> <value> å¦‚æœå­˜åœ¨å€¼å°±è·å–åŸå€¼ï¼Œå¹¶è®¾ç½®æ–°å€¼</value></key></p></li></ol><h4 id="2-å“ˆå¸Œç±»å‹-hash"><a href="#2-å“ˆå¸Œç±»å‹-hash" class="headerlink" title="2. å“ˆå¸Œç±»å‹ hash"></a>2. å“ˆå¸Œç±»å‹ hash</h4><ol><li><p>å­˜å‚¨ï¼š hset key field value</p><pre><code>127.0.0.1:6379&gt; hset myhash username lisi(integer) 1127.0.0.1:6379&gt; hset myhash password 123(integer) 1</code></pre><p>æ‰¹é‡å­˜å‚¨ï¼šhmset <key> <field> <value><field> <value></value></field></value></field></key></p></li><li><p>è·å–ï¼š </p><ul><li><p>hget key field: è·å–æŒ‡å®šçš„fieldå¯¹åº”çš„å€¼</p><pre><code>127.0.0.1:6379&gt; hget myhash username"lisi"</code></pre></li><li><p>æ‰¹é‡è·å–ï¼šhmget <key> <field><field><field></field></field></field></key></p></li><li><p>è·å–æ‰€æœ‰fieldï¼šhkeys <key></key></p></li><li><p>è·å–æ‰€æœ‰valueï¼šhvals <key></key></p></li><li><p>hgetall keyï¼šè·å–æ‰€æœ‰çš„fieldå’Œvalue</p><pre><code>127.0.0.1:6379&gt; hgetall myhash1) "username"2) "lisi"3) "password"4) "123"</code></pre></li></ul></li><li><p>åˆ é™¤ï¼š hdel key field</p><pre><code>127.0.0.1:6379&gt; hdel myhash username(integer) 1</code></pre></li><li><p>keyä¸­é”®å€¼å¯¹æ•°é‡ï¼šhlen <key></key></p></li><li><p>åˆ¤æ–­keyä¸­æ˜¯å¦å­˜åœ¨keyï¼šhexists <key> <filed></filed></key></p></li><li><p>æŒ‰æ­¥é•¿å¢åŠ valueçš„å€¼ï¼šhincrby/hincrbyfloat <key> <filed> &lt;æ­¥é•¿&gt;</filed></key></p></li><li><p>ä¸å­˜åœ¨æ—¶å†setï¼šhsetnx <key> <filed> <value></value></filed></key></p></li></ol><h4 id="3-åˆ—è¡¨ç±»å‹-list-å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰"><a href="#3-åˆ—è¡¨ç±»å‹-list-å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰" class="headerlink" title="3. åˆ—è¡¨ç±»å‹ list:å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰"></a>3. åˆ—è¡¨ç±»å‹ list:å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰</h4><ol><li><p>æ·»åŠ ï¼š</p><ol><li><p>lpush key value: å°†å…ƒç´ åŠ å…¥åˆ—è¡¨å·¦è¡¨</p></li><li><p>rpush key valueï¼šå°†å…ƒç´ åŠ å…¥åˆ—è¡¨å³è¾¹</p><pre><code>127.0.0.1:6379&gt; lpush myList a(integer) 1127.0.0.1:6379&gt; lpush myList b(integer) 2127.0.0.1:6379&gt; rpush myList c(integer) 3</code></pre></li></ol></li><li><p>è·å–ï¼š</p><ul><li>lrange key start end ï¼šèŒƒå›´è·å–<pre><code>127.0.0.1:6379&gt; lrange myList 0 -1        1) "b"        2) "a"        3) "c"</code></pre></li><li>lindex <key> <index>ï¼šé€šè¿‡ä¸‹æ ‡è·å–å€¼ï¼Œä»0å¼€å§‹</index></key></li></ul></li><li><p>åˆ é™¤ï¼š</p><ul><li>lpop keyï¼š åˆ é™¤åˆ—è¡¨æœ€å·¦è¾¹çš„å…ƒç´ ï¼Œå¹¶å°†å…ƒç´ è¿”å›</li><li>rpop keyï¼š åˆ é™¤åˆ—è¡¨æœ€å³è¾¹çš„å…ƒç´ ï¼Œå¹¶å°†å…ƒç´ è¿”å›</li><li>lrem <key> &lt;æ•°é‡&gt; <value>ï¼šç§»é™¤å¯¹åº”æ•°é‡çš„å€¼</value></key></li></ul></li><li><p>è·å–åˆ—è¡¨é•¿åº¦ï¼šLlen <key> </key></p></li><li><p>æˆªå–ï¼šltrim <key> &lt;èµ·å§‹index&gt;&lt;ç»ˆæ­¢index&gt;</key></p></li><li><p>ç§»é™¤åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ç§»åŠ¨åˆ°æ–°åˆ—è¡¨ä¸­ï¼šrpoplpush <key> <otherkey></otherkey></key></p></li><li><p>æ›´æ–°å€¼ï¼Œå°†åˆ—è¡¨æŒ‡å®šä¸‹æ ‡çš„å€¼æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå€¼ï¼šlset <key> <index> <value>ï¼Œä¸å­˜åœ¨ä¼šæŠ¥é”™</value></index></key></p></li></ol><h4 id="4-æ— åºé›†åˆç±»å‹-set-ï¼š-ä¸å…è®¸é‡å¤å…ƒç´ "><a href="#4-æ— åºé›†åˆç±»å‹-set-ï¼š-ä¸å…è®¸é‡å¤å…ƒç´ " class="headerlink" title="4. æ— åºé›†åˆç±»å‹ set ï¼š ä¸å…è®¸é‡å¤å…ƒç´ "></a>4. æ— åºé›†åˆç±»å‹ set ï¼š ä¸å…è®¸é‡å¤å…ƒç´ </h4><ol><li><p>å­˜å‚¨ï¼šsadd key value</p><pre><code>127.0.0.1:6379&gt; sadd myset a(integer) 1127.0.0.1:6379&gt; sadd myset a(integer) 0</code></pre></li><li><p>è·å–ï¼šsmembers key:è·å–seté›†åˆä¸­æ‰€æœ‰å…ƒç´ </p><pre><code>127.0.0.1:6379&gt; smembers myset1) "a"</code></pre></li><li><p>åˆ¤æ–­æ˜¯å¦æœ‰è¯¥å€¼ï¼šsismember <key> <value></value></key></p></li><li><p>åˆ é™¤ï¼šsrem key value:åˆ é™¤seté›†åˆä¸­çš„æŸä¸ªå…ƒç´     </p><pre><code>127.0.0.1:6379&gt; srem myset a(integer) 1</code></pre></li><li><p>è·å–é›†åˆé‡Œé¢çš„å…ƒç´ ä¸ªæ•°ï¼šscard <key></key></p></li><li><p>éšæœºå‡ºå‡ ä¸ªæ•°å­—ï¼šsrandmember <key></key></p></li><li><p>éšæœºå‡ºæ ˆï¼šspop <key></key></p></li><li><p>å°†key1çš„å€¼è½¬åˆ°key2é‡Œï¼šsmove <key1> <key2> <value></value></key2></key1></p></li><li><p>å·®é›†ï¼ˆåœ¨set1ä¸­ï¼Œä¸åœ¨set2ä¸­çš„å€¼ï¼‰ï¼šsdiff <key1> <key2></key2></key1></p></li><li><p>äº¤é›†ï¼šsinter  <key1> <key2></key2></key1></p></li><li><p>å¹¶é›†ï¼šsunion  <key1> <key2></key2></key1></p></li></ol><h4 id="5-æœ‰åºé›†åˆç±»å‹-sortedsetï¼šä¸å…è®¸é‡å¤å…ƒç´ ï¼Œä¸”å…ƒç´ æœ‰é¡ºåº-æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚"><a href="#5-æœ‰åºé›†åˆç±»å‹-sortedsetï¼šä¸å…è®¸é‡å¤å…ƒç´ ï¼Œä¸”å…ƒç´ æœ‰é¡ºåº-æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚" class="headerlink" title="5. æœ‰åºé›†åˆç±»å‹ sortedsetï¼šä¸å…è®¸é‡å¤å…ƒç´ ï¼Œä¸”å…ƒç´ æœ‰é¡ºåº.æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚"></a>5. æœ‰åºé›†åˆç±»å‹ sortedsetï¼šä¸å…è®¸é‡å¤å…ƒç´ ï¼Œä¸”å…ƒç´ æœ‰é¡ºåº.æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚</h4><ol><li><p>å­˜å‚¨ï¼ˆå¯æ‰¹é‡ï¼‰ï¼šzadd key score value</p><pre><code>127.0.0.1:6379&gt; zadd mysort 60 zhangsan(integer) 1127.0.0.1:6379&gt; zadd mysort 50 lisi(integer) 1127.0.0.1:6379&gt; zadd mysort 80 wangwu(integer) 1</code></pre></li><li><p>è·å–ï¼šzrange/zrevrange key start end [withscores]</p><pre><code>127.0.0.1:6379&gt; zrange mysort 0 -11) "lisi"2) "zhangsan"3) "wangwu"127.0.0.1:6379&gt; zrange mysort 0 -1 withscores1) "zhangsan"2) "60"3) "wangwu"4) "80"5) "lisi"6) "500"</code></pre><p>æ ¹æ®åˆ†æ•°è·å–ï¼šzrangebyscore/zrevrangebyscore <key> &lt;å¼€å§‹score&gt;&lt;ç»“æŸscore&gt;</key></p><p>[â€œï¼ˆ â€è¡¨ç¤ºä¸åŒ…å«]ï¼šzrangebyscore <key> &lt;å¼€å§‹score&gt;ï¼ˆ&lt;ç»“æŸscore&gt;ï¼š å¼€å§‹â‰¤åˆ†æ•°ï¼œç»“æŸ</key></p><p>æˆªå–ï¼šzrangebyscore <key> &lt;å¼€å§‹score&gt;&lt;ç»“æŸscore&gt; limit <index> &lt;æˆªå–ä¸ªæ•°&gt;</index></key></p></li><li><p>åˆ é™¤ï¼šzrem key value</p><pre><code>127.0.0.1:6379&gt; zrem mysort lisi(integer) 1</code></pre></li><li><p>é›†åˆé‡Œé¢çš„å…ƒç´ ä¸ªæ•°ï¼šzcard <key></key></p></li><li><p>é›†åˆåŒºé—´å†…çš„å…ƒç´ ä¸ªæ•°ï¼šzcount <key> &lt;å¼€å§‹score&gt;&lt;ç»“æŸscore&gt;</key></p></li><li><p>å…ƒç´ çš„ä¸‹æ ‡ï¼šzrank/zrevrank <key> <value></value></key></p></li><li><p>å…ƒç´ çš„åˆ†æ•°ï¼šzscore <key> <value></value></key></p></li></ol><h4 id="6-é€šç”¨å‘½ä»¤"><a href="#6-é€šç”¨å‘½ä»¤" class="headerlink" title="6. é€šç”¨å‘½ä»¤"></a>6. é€šç”¨å‘½ä»¤</h4><ol><li>keys * : æŸ¥è¯¢æ‰€æœ‰çš„é”®</li><li>type key ï¼š è·å–é”®å¯¹åº”çš„valueçš„ç±»å‹</li><li>del keyï¼šåˆ é™¤æŒ‡å®šçš„key value</li><li>select <index> ï¼šåˆ‡æ¢æ•°æ®åº“</index></li><li>DBSIZEï¼šæ•°æ®åº“keyçš„æ•°é‡</li><li>flushdbï¼šæ¸…ç©ºæ•°æ®åº“</li><li>flushAllï¼šæ¸…ç©ºå…¨éƒ¨æ•°æ®åº“</li><li>EXIST <key> ï¼šæ˜¯å¦å­˜åœ¨</key></li><li>EXPIRE <key> &lt;ç§’&gt;ï¼šè®¾å®šè¿‡æœŸæ—¶é—´</key></li><li>ttl <key>ï¼šæŸ¥çœ‹å‰©ä½™æ—¶é—´</key></li></ol><h3 id="æŒä¹…åŒ–"><a href="#æŒä¹…åŒ–" class="headerlink" title="æŒä¹…åŒ–"></a>æŒä¹…åŒ–</h3><ol><li><p>redisæ˜¯ä¸€ä¸ªå†…å­˜æ•°æ®åº“ï¼Œå½“redisæœåŠ¡å™¨é‡å¯ï¼Œè·å–ç”µè„‘é‡å¯ï¼Œæ•°æ®ä¼šä¸¢å¤±ï¼Œæˆ‘ä»¬å¯ä»¥å°†rediså†…å­˜ä¸­çš„æ•°æ®æŒä¹…åŒ–ä¿å­˜åˆ°ç¡¬ç›˜çš„æ–‡ä»¶ä¸­ã€‚</p></li><li><p>redisæŒä¹…åŒ–æœºåˆ¶ï¼š</p><ol><li><p><strong>RDBï¼šé»˜è®¤æ–¹å¼ï¼Œä¸éœ€è¦è¿›è¡Œé…ç½®ï¼Œé»˜è®¤å°±ä½¿ç”¨è¿™ç§æœºåˆ¶</strong></p><p>åŸç†ï¼š</p><p>åœ¨æŒ‡å®šæ—¶é—´é—´éš”å†…å°†å†…å­˜ä¸­çš„æ•°æ®é›†å¿«ç…§å†™å…¥åˆ°ç£ç›˜ä¸­ï¼Œå½“éœ€è¦æ¢å¤çš„æ—¶å€™å†å°†ç£ç›˜ä¸­çš„å¿«ç…§è¯»åˆ°å†…å­˜é‡Œ</p><p>redisä¼šå•ç‹¬åˆ›å»º(fork)ä¸€ä¸ªå­çº¿ç¨‹è¿›è¡ŒæŒä¹…åŒ–æ“ä½œï¼Œä¼šå…ˆå°†æ•°æ®é›†å†™å…¥åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œå½“æŒä¹…åŒ–è¿‡ç¨‹ç»“æŸä¹‹åï¼Œä¸´æ—¶æ–‡ä»¶å°±ä¼šæ›¿æ¢åŸæŒä¹…åŒ–å¥½çš„rdbæ–‡ä»¶ã€‚åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸»è¿›ç¨‹æ²¡æœ‰ä»»ä½•ioæ“ä½œï¼Œç¡®ä¿äº†æé«˜çš„æ€§èƒ½ã€‚</p><p>ä¼˜ç‚¹ï¼š</p><ol><li>é€‚åˆäºå¤§è§„æ¨¡æ•°æ®çš„æ¢å¤</li><li>å¯¹æ•°æ®çš„å®Œæ•´æ€§è¦æ±‚ä¸é«˜</li></ol><p>ç¼ºç‚¹ï¼š</p><ol><li>å®¹æ˜“ä¸¢å¤±æœ€åä¸€æ¬¡ä¿®æ”¹çš„æ•°æ®ï¼Œéœ€è¦ä¸€å®šçš„æ—¶é—´é—´éš”è¿›ç¨‹æ“ä½œ</li><li>åœ¨forkè¿›ç¨‹çš„æ—¶å€™ï¼Œä¼šå ç”¨ä¸€å®šçš„å†…å­˜ç©ºé—´</li></ol><ol><li><p>ç¼–è¾‘redis.windwos.confæ–‡ä»¶</p><pre><code>after 900 sec (15 min) if at least 1 key changed            save 900 1after 300 sec (5 min) if at least 10 keys changed            save 300 10after 60 sec if at least 10000 keys changed            save 60 10000</code></pre></li><li><p>é‡æ–°å¯åŠ¨redisæœåŠ¡å™¨ï¼Œå¹¶æŒ‡å®šé…ç½®æ–‡ä»¶åç§°</p><p>åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤è¡Œ redis-server.exe redis.windows.conf    </p></li></ol></li><li><p><strong>AOFï¼šæ—¥å¿—è®°å½•çš„æ–¹å¼ï¼Œå¯ä»¥è®°å½•æ¯ä¸€æ¡å‘½ä»¤çš„æ“ä½œã€‚å¯ä»¥æ¯ä¸€æ¬¡å‘½ä»¤æ“ä½œåï¼ŒæŒä¹…åŒ–æ•°æ®</strong></p><p>åŸç†ï¼š</p><p>ä»¥æ—¥å¿—çš„å½¢å¼è®°å½•æ¯ä¸€æ¬¡å†™æ“ä½œï¼Œå°†redisæ‰§è¡Œè¿‡çš„æ¯ä¸€ä¸ªå†™çš„æŒ‡ä»¤è®°å½•ä¸‹æ¥ï¼Œåªèƒ½è¿½åŠ æ–‡ä»¶ï¼Œä¸èƒ½æ”¹å†™æ–‡ä»¶ï¼Œåœ¨åˆšå¯åŠ¨redisçš„æ—¶å€™ä¼šè¯»å–æ–‡ä»¶é‡æ–°æ„å»ºæ•°æ®ã€‚</p><p>ä¼˜ç‚¹:</p><ol><li>æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½ä¼šä¿å­˜ï¼Œæ–‡ä»¶çš„å®Œæ•´æ€§å¥½</li><li>æ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼Œåªå¯èƒ½ä¸¢å¤±ä¸€ç§’çš„æ•°æ®</li><li>ä»ä¸åŒæ­¥ï¼Œæ•ˆç‡æœ€é«˜</li></ol><p>ç¼ºç‚¹ï¼š</p><ol><li>æ•°æ®æ–‡ä»¶aofè¦æ¯”rdbå¤§å¾ˆå¤šï¼Œä¿®å¤çš„é€Ÿåº¦è¦æ¯”rdbæ…¢</li><li>aofè¿è¡Œæ—¶è¦è¿›è¡Œè¯»å†™çš„æ“ä½œï¼Œè¿è¡Œæ•ˆç‡fä¼šæ¯”rdbæ…¢</li></ol><ol><li><p>ç¼–è¾‘redis.windwos.confæ–‡ä»¶</p><pre><code>appendonly noï¼ˆå…³é—­aofï¼‰ --&gt; appendonly yes ï¼ˆå¼€å¯aofï¼‰# appendfsync always ï¼š æ¯ä¸€æ¬¡æ“ä½œéƒ½è¿›è¡ŒæŒä¹…åŒ–appendfsync everysec ï¼š æ¯éš”ä¸€ç§’è¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–# appendfsync no     ï¼š ä¸è¿›è¡ŒæŒä¹…åŒ–</code></pre></li><li><p>é‡æ–°å¯åŠ¨redisæœåŠ¡å™¨ï¼Œå¹¶æŒ‡å®šé…ç½®æ–‡ä»¶åç§°</p><p> åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤è¡Œ redis-server.exe redis.windows.conf    </p></li></ol></li></ol></li></ol><p>â€‹          </p><h3 id="Javaå®¢æˆ·ç«¯-Jedis"><a href="#Javaå®¢æˆ·ç«¯-Jedis" class="headerlink" title="Javaå®¢æˆ·ç«¯ Jedis"></a>Javaå®¢æˆ·ç«¯ Jedis</h3><ul><li><p>Jedis: ä¸€æ¬¾javaæ“ä½œredisæ•°æ®åº“çš„å·¥å…·.</p></li><li><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li>ä¸‹è½½jedisçš„jaråŒ…</li><li>ä½¿ç”¨<ol><li>è·å–è¿æ¥<br>Jedis jedis = new Jedis(â€œlocalhostâ€,6379);</li></ol></li></ol></li></ul><ol start="2"><li>æ“ä½œ<pre><code>   jedis.set("username","zhangsan");</code></pre><ol start="3"><li>å…³é—­è¿æ¥</li></ol></li></ol><pre><code>           jedis.close();</code></pre><ul><li><p><strong>Jedisæ“ä½œå„ç§redisä¸­çš„æ•°æ®ç»“æ„</strong></p><ol><li><p>å­—ç¬¦ä¸²ç±»å‹ string</p><pre><code>   set</code></pre><p>get</p></li><li><p>å“ˆå¸Œç±»å‹ hash ï¼š mapæ ¼å¼ </p><pre><code> hset   hget</code></pre><p>hgetAll</p></li><li><p>åˆ—è¡¨ç±»å‹ list ï¼š linkedlistæ ¼å¼ã€‚æ”¯æŒé‡å¤å…ƒç´ </p><pre><code> lpush / rpush   lpop / rpop</code></pre><p>lrange start end : èŒƒå›´è·å–</p></li><li><p>é›†åˆç±»å‹ set  ï¼š ä¸å…è®¸é‡å¤å…ƒç´ </p><pre><code>   sadd</code></pre><p>smembers:è·å–æ‰€æœ‰å…ƒç´ </p></li><li><p>æœ‰åºé›†åˆç±»å‹ sortedsetï¼šä¸å…è®¸é‡å¤å…ƒç´ ï¼Œä¸”å…ƒç´ æœ‰é¡ºåº</p><pre><code>   zadd</code></pre><p>   zrange</p></li></ol></li><li><p><strong>jedisè¿æ¥æ± ï¼š JedisPool</strong></p><ul><li>ä½¿ç”¨ï¼š<ol><li>åˆ›å»ºJedisPoolè¿æ¥æ± å¯¹è±¡ new JedisPool([config],[â€œlocalhostâ€],[6379])</li><li>è°ƒç”¨æ–¹æ³• getResource()æ–¹æ³•è·å–Jedisè¿æ¥</li></ol></li></ul><ol start="3"><li>ä½¿ç”¨</li></ol><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//0.åˆ›å»ºä¸€ä¸ªé…ç½®å¯¹è±¡</span>JedisPoolConfig config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JedisPoolConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>config<span class="token punctuation">.</span><span class="token function">setMaxTotal</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>config<span class="token punctuation">.</span><span class="token function">setMaxIdle</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//1.åˆ›å»ºJedisè¿æ¥æ± å¯¹è±¡</span>JedisPool jedisPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JedisPool</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span><span class="token string">"localhost"</span><span class="token punctuation">,</span><span class="token number">6379</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2.è·å–è¿æ¥</span>Jedis jedis <span class="token operator">=</span> jedisPool<span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//3. ä½¿ç”¨</span>jedis<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"hehe"</span><span class="token punctuation">,</span><span class="token string">"heihei"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//4. å…³é—­ å½’è¿˜åˆ°è¿æ¥æ± ä¸­</span>jedis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>è¿æ¥æ± å·¥å…·ç±»ï¼ˆåŠ è½½é…ç½®æ–‡ä»¶ï¼Œè·å–Jedisæ–¹æ³•ï¼‰<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JedisPoolUtils</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> JedisPool jedisPool<span class="token punctuation">;</span>    <span class="token keyword">static</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//è¯»å–é…ç½®æ–‡ä»¶</span>        InputStream is <span class="token operator">=</span> JedisPoolUtils<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"jedis.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//åˆ›å»ºPropertieså¯¹è±¡</span>        Properties pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å…³è”æ–‡ä»¶</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            pro<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//è·å–æ•°æ®ï¼Œè®¾ç½®åˆ°JedisPoolConfigä¸­</span>        JedisPoolConfig config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JedisPoolConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        config<span class="token punctuation">.</span><span class="token function">setMaxTotal</span><span class="token punctuation">(</span>Integer<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"maxTotal"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        config<span class="token punctuation">.</span><span class="token function">setMaxIdle</span><span class="token punctuation">(</span>Integer<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"maxIdle"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//åˆå§‹åŒ–JedisPool</span>        jedisPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JedisPool</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span>pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"host"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Integer<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"port"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/**                 * è·å–è¿æ¥æ–¹æ³•                 */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> Jedis <span class="token function">getJedis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> jedisPool<span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>   </code></pre></li></ul></li></ul><h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><pre class=" language-javascript"><code class="language-javascript">bug1<span class="token punctuation">:</span>æŸ¥è¯¢åçš„åˆ—è¡¨<span class="token punctuation">:</span>undefindæ²¡æœ‰éå†è·å–çš„é›†åˆ$<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"findProvinceServlet"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//éå†</span>    <span class="token function">$</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token string">"&lt;option id='"</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">"'>"</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">"&lt;/option>"</span><span class="token punctuation">;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#province"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><pre><code>bug2:JedisConnectionException: Could not get a resource from the poolæ²¡æœ‰å¼€redisæœåŠ¡å™¨åœ¨è¿è¡Œå‰è¦å…ˆå¼€å¯redisæœåŠ¡å™¨æŒ‚ç€</code></pre><pre><code>æ¡ˆä¾‹éœ€æ±‚ï¼š    1. æä¾›index.htmlé¡µé¢ï¼Œé¡µé¢ä¸­æœ‰ä¸€ä¸ªçœä»½ ä¸‹æ‹‰åˆ—è¡¨    2. å½“ é¡µé¢åŠ è½½å®Œæˆå å‘é€ajaxè¯·æ±‚ï¼ŒåŠ è½½æ‰€æœ‰çœä»½</code></pre><pre><code>* æ³¨æ„ï¼šä½¿ç”¨redisç¼“å­˜ä¸€äº›ä¸ç»å¸¸å‘ç”Ÿå˜åŒ–çš„æ•°æ®ã€‚    * æ•°æ®åº“çš„æ•°æ®ä¸€æ—¦å‘ç”Ÿæ”¹å˜ï¼Œåˆ™éœ€è¦æ›´æ–°ç¼“å­˜ã€‚        * æ•°æ®åº“çš„è¡¨æ‰§è¡Œ å¢åˆ æ”¹çš„ç›¸å…³æ“ä½œï¼Œéœ€è¦å°†redisç¼“å­˜æ•°æ®æƒ…å†µï¼Œå†æ¬¡å­˜å…¥        * åœ¨serviceå¯¹åº”çš„å¢åˆ æ”¹æ–¹æ³•ä¸­ï¼Œå°†redisæ•°æ®åˆ é™¤ã€‚        //1.æŸ¥è¯¢redisç¼“å­˜ä¸­æ˜¯å¦æœ‰æ•°æ®        //1.1åˆ›å»ºjedis        Jedis jedis = RedisUtils.getJedis();        String province_json = jedis.get("province");        if(province_json==null||province_json.length()==0){            //æ²¡æœ‰æ•°æ®ï¼ŒæŸ¥è¯¢æ•°æ®åº“            List&lt;Province&gt; list = provinceDao.findProvince();            //å°†æ•°æ®åºåˆ—åŒ–ä¸ºjsonå¯¹è±¡            ObjectMapper mapper = new ObjectMapper();            try {                province_json = mapper.writeValueAsString(list);            } catch (JsonProcessingException e) {                e.printStackTrace();            }            //å­˜å‚¨è¿›ç¼“å­˜ä¸­            jedis.set("province",province_json);            jedis.close();        }else {            return province_json;        }</code></pre><h2 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h2><h3 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h3><pre class=" language-yaml"><code class="language-yaml">bind 127.0.0.1 <span class="token comment" spellcheck="true">#ç»‘å®šçš„Ip</span>protected<span class="token punctuation">-</span>mode yes <span class="token comment" spellcheck="true"># ä¿æŠ¤æ¨¡å¼</span>port 6379 <span class="token comment" spellcheck="true">#ç«¯å£è®¾ç½®</span></code></pre><h3 id="é€šç”¨GENERAL"><a href="#é€šç”¨GENERAL" class="headerlink" title="é€šç”¨GENERAL"></a>é€šç”¨GENERAL</h3><pre class=" language-yaml"><code class="language-yaml">daemonize yes <span class="token comment" spellcheck="true"># ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œé»˜è®¤ä¸ºnoï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯ä¸ºyes</span>pidfile /var/run/redis_6379.pid <span class="token comment" spellcheck="true"># å¦‚æœä»¥åå°çš„æ–¹å¼è¿è¡Œï¼Œæˆ‘ä»¬å°±éœ€è¦æŒ‡å®šä¸€ä¸ªpidæ–‡ä»¶</span><span class="token comment" spellcheck="true">#æ—¥å¿—</span><span class="token comment" spellcheck="true"># notiveç”Ÿäº§ç¯å¢ƒ</span>loglevel notice logfile "" <span class="token comment" spellcheck="true">#æ—¥å¿—çš„æ–‡ä»¶ä½ç½®å</span>databases 16 <span class="token comment" spellcheck="true"># æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤ä¸º16ä¸ª</span>always<span class="token punctuation">-</span>show<span class="token punctuation">-</span>logo yes <span class="token comment" spellcheck="true">#æ˜¯å¦æ˜¾ç¤ºlogo</span></code></pre><h2 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h2><p><strong>Rediså•æ¡å‘½ä»¤æ˜¯ä¿æŒåŸå­æ€§çš„ï¼Œä½†æ˜¯äº‹åŠ¡ä¸ä¿è¯åŸå­æ€§</strong>ï¼Œæ²¡æœ‰éš”ç¦»çº§åˆ«çš„æ¦‚å¿µ</p><p>ä¸€æ¬¡æ€§ã€é¡ºåºæ€§ã€æ’ä»–æ€§</p><p>æ‰€æœ‰å‘½ä»¤åœ¨äº‹åŠ¡ä¸­ï¼Œå¹¶æ²¡æœ‰ç›´æ¥è¢«æ‰§è¡Œï¼Œåªæœ‰æ‰§è¡Œå‘½ä»¤ä¹‹åæ‰ä¼šè¢«æ‰§è¡Œ</p><p>å¼€å¯äº‹åŠ¡ï¼šmulti</p><p>å‘½ä»¤å…¥é˜Ÿï¼šã€‚ã€‚ã€‚</p><p>æ‰§è¡Œäº‹åŠ¡ï¼šexec</p><p>æ”¾å¼ƒäº‹åŠ¡ï¼šdiscard</p><blockquote><p>ç¼–è¯‘å‹å¼‚å¸¸ï¼ˆä»£ç æœ‰é—®é¢˜ï¼‰ï¼šæ‰€æœ‰å‘½ä»¤éƒ½ä¸ä¼šæ‰§è¡Œ</p><p>è¿è¡Œæ—¶å¼‚å¸¸ï¼šå…¶ä»–å‘½ä»¤ä¾ç„¶æ­£å¸¸æ‰§è¡Œ</p></blockquote><h2 id="æ¶ˆæ¯è®¢é˜…å‘å¸ƒ"><a href="#æ¶ˆæ¯è®¢é˜…å‘å¸ƒ" class="headerlink" title="æ¶ˆæ¯è®¢é˜…å‘å¸ƒ"></a>æ¶ˆæ¯è®¢é˜…å‘å¸ƒ</h2><p><strong>å…ˆè®¢é˜…åå‘å¸ƒ</strong></p><p>è®¢é˜…ç«¯ã€é¢‘é“ã€å‘å¸ƒç«¯</p><p>è®¢é˜…ï¼šsubscribe &lt;é¢‘é“åç§°&gt;</p><p>å‘å¸ƒï¼špublish &lt;é¢‘é“åç§°&gt; &lt;æ¶ˆæ¯&gt;</p><p>é€€è®¢ï¼šunsubscribe &lt;é¢‘é“åç§°&gt;</p><p><strong>åŸç†</strong>ï¼šredis-serveré‡Œç»´æŠ¤äº†ä¸€ä¸ªå­—å…¸ï¼Œå­—å…¸çš„é”®å°±æ˜¯ä¸€ä¸ªä¸ªé¢‘é“ï¼Œå€¼æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œé“¾è¡¨ä¸­ä¿å­˜äº†æ‰€æœ‰è®¢é˜…çš„å®¢æˆ·ç«¯ï¼Œè®¢é˜…çš„å‘½ä»¤æ ¸å¿ƒå°±æ˜¯å°†å®¢æˆ·ç«¯æ·»åŠ åˆ°è®¢é˜…çš„é“¾è¡¨ä¸­ã€‚å‘å¸ƒå°±æ˜¯æ ¹æ®é¢‘é“åœ¨å­—å…¸ä¸­æŸ¥åˆ°å¯¹åº”çš„å€¼ï¼Œéå†è¿™ä¸ªé“¾è¡¨å°†å…¶å‘å¸ƒç»™è®¢é˜…è€…ã€‚</p><h2 id="ä¸»ä»å¤åˆ¶"><a href="#ä¸»ä»å¤åˆ¶" class="headerlink" title="ä¸»ä»å¤åˆ¶"></a>ä¸»ä»å¤åˆ¶</h2><p>æŒ‡å°†ä¸€å°redisæœåŠ¡å™¨çš„æ•°æ®ï¼Œå¤åˆ¶åˆ°å…¶ä»–redisæœåŠ¡å™¨ã€‚</p><p><strong>æ•°æ®çš„å¤åˆ¶æ—¶å•å‘çš„ï¼Œåªæœ‰ä¸»èŠ‚ç‚¹åˆ°ä»èŠ‚ç‚¹</strong></p><p>å•ä¸ªredisæœ€å¤§ä½¿ç”¨å†…å­˜ä¸åº”è¯¥è¶…è¿‡20G</p><p>ä½œç”¨ï¼š</p><ol><li>æ•°æ®å†—ä½™</li><li>æ•…éšœæ¢å¤</li><li>è´Ÿè½½å‡è¡¡ï¼šè¯»å†™åˆ†ç¦»ï¼Œä¸»æœºä¸ºå†™ä¸ºä¸»ï¼Œä»æœºä»¥è¯»ä¸ºä¸»ï¼ˆåªè¦é…ç½®äº†ä¸»ä»å…³ç³»ï¼Œå°±è‡ªåŠ¨å®ç°äº†è¿™ä¸€ç‚¹ï¼‰</li><li>é«˜å¯ç”¨ï¼ˆé›†ç¾¤ï¼‰åŸºçŸ³ï¼šå“¨å…µæ¨¡å¼ã€é›†ç¾¤èƒ½å¤Ÿå®æ–½çš„åŸºç¡€</li></ol><h3 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h3><p>åªé…ç½®ä»åº“ï¼Œä¸ç”¨é…ç½®ä¸»åº“</p><p>å¤åˆ¶3ä¸ªé…ç½®æ–‡ä»¶ï¼Œç„¶åä¿®æ”¹å¯¹åº”çš„ä¿¡æ¯</p><ol><li>portç«¯å£ï¼ˆä¸»ä¸å˜ï¼Œä»å˜ï¼‰</li><li>pidfileåå­— ï¼ˆä¸æ”¹ä¸ºç©ºï¼‰</li><li>logæ–‡ä»¶åå­—</li><li>dump.rdbåå­—</li></ol><p>ä¿®æ”¹ä¹‹åï¼Œå¯åŠ¨3ä¸ªredisæœåŠ¡å™¨ï¼Œå¯ä»¥é€šè¿‡è¿›ç¨‹ä¿¡æ¯æŸ¥çœ‹ ps -ef|grop redis</p><p>æŸ¥çœ‹å½“å‰åº“çš„ä¿¡æ¯ï¼šinfo replicationï¼ˆèƒ½çœ‹åˆ°è§’è‰²masterï¼Œä»æœºæ•°é‡ï¼‰</p><p>è®¤è€å¤§ï¼šslaveof 127.0.0.1 6379</p><blockquote><p>æƒ³è¦æŒä¹…åŒ–ä¸»ä»å…³ç³»ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½® replicaof &lt;ä¸»ip&gt; &lt;ä¸»port&gt;</p></blockquote><p>æµ‹è¯•ï¼šä¸»æœºæ–­å¼€è¿æ¥ï¼Œä»æœºä¾ç„¶å¯ä»¥è¿æ¥åˆ°ä¸»æœºï¼Œä½†ä»ä¸èƒ½è¿›è¡Œå†™æ“ä½œï¼Œä¸»æœºè¿æ¥ä¸Šä¹‹åï¼Œä»æœºä¾ç„¶èƒ½è¯»åˆ°ä¸»æœºå†™çš„æ–°æ•°æ®</p><p>æµ‹è¯•ï¼šå¦‚æœä½¿ç”¨å‘½ä»¤è¡Œé…ç½®ä¸»ä»ï¼Œä»æœºæ–­å¼€è¿æ¥ï¼Œä¼šå˜å›ä¸»æœº</p><blockquote><p>å¤åˆ¶åŸç†ï¼š</p><p>ä»æœºæˆåŠŸè¿æ¥ä¸»æœºä¹‹åï¼Œä¼šå‘é€ä¸€æ¡syncåŒæ­¥å‘½ä»¤ï¼Œä¸»æœºæ¥åˆ°å‘½ä»¤ï¼Œä¼šå¯åŠ¨åå°å­˜ç›˜è¿›ç¨‹ï¼ŒåŒæ—¶æ”¶é›†æ‰€æœ‰ç”¨äºä¿®æ”¹æ•°æ®é›†çš„å‘½ä»¤ï¼Œåœ¨åå°è¿›ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œä¸»æœºä¼šä¼ é€æ•´ä¸ªæ•°æ®æ–‡ä»¶åˆ°ä»æœºï¼Œå®ç°å®Œå…¨åŒæ­¥</p><p>å…¨é‡å¤åˆ¶ï¼šä»æœºæ¥æ”¶åˆ°æ•°æ®åº“æ–‡ä»¶ï¼Œå°†å…¶åŠ è½½è¿›å†…å­˜</p><p>å¢é‡å¤åˆ¶ï¼šè¿æ¥åï¼Œä¸»æœºæ–°æ”¶é›†çš„ä¿®æ”¹å‘½ä»¤ç»™ä»æœºï¼Œå®ŒæˆåŒæ­¥</p></blockquote><h4 id="è¿æ¥æ–¹å¼"><a href="#è¿æ¥æ–¹å¼" class="headerlink" title="è¿æ¥æ–¹å¼"></a>è¿æ¥æ–¹å¼</h4><ol><li>ä¸€ä¸»äºŒä»†</li><li>å±‚å±‚é“¾è·¯ï¼šM-S(M)-Sï¼Œå³å½“ä¸»åˆå½“ä»çš„èŠ‚ç‚¹ï¼Œä»ç„¶ä¸èƒ½å†™</li><li>è°‹æœç¯¡ä½ï¼šå¦‚æœä¸»æœºæ–­å¼€è¿æ¥ï¼Œä½¿ç”¨<code>slaveof no one</code>ï¼Œè®©è‡ªå·±å˜ä¸ºä¸»æœºï¼Œå…¶ä»–èŠ‚ç‚¹å½’é¡º</li></ol><h2 id="å“¨å…µæ¨¡å¼"><a href="#å“¨å…µæ¨¡å¼" class="headerlink" title="å“¨å…µæ¨¡å¼"></a>å“¨å…µæ¨¡å¼</h2><p><strong>åŸç†</strong>ï¼šå“¨å…µé€šè¿‡å‘é€å‘½ä»¤ï¼Œç­‰å¾…redisæœåŠ¡å™¨å›åº”ï¼Œä»è€Œç›‘æ§è¿è¡Œçš„å¤šä¸ªrediså®ä¾‹</p><p>å½“ä¸»æœåŠ¡å™¨å®•æœºï¼Œå“¨å…µ1æ£€æµ‹åˆ°ç»“æœï¼Œç³»ç»Ÿå¹¶ä¸ä¼šè¿›è¡Œfailover(æ•…éšœè½¬ç§»)æ“ä½œï¼Œå½“ä¹‹åçš„å“¨å…µä¹Ÿæ£€æµ‹åˆ°ä¸å¯ç”¨ï¼Œæ•°é‡è¾¾åˆ°ä¸€å®šå€¼ï¼Œå“¨å…µé—´å°±ä¼šè¿›è¡ŒæŠ•ç¥¨ï¼Œè¿›è¡Œæ•…éšœè½¬ç§»ï¼ˆé€‰æ–°ä¸»æœºï¼‰æ“ä½œã€‚åˆ‡æ¢æˆåŠŸåå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œè®©å„ä¸ªç›‘æ§çš„ä»æœåŠ¡å™¨åˆ‡æ¢ä¸»æœº</p><p><strong>æ­¥éª¤</strong>ï¼š</p><ol><li><p>ç›®å‰çŠ¶æ€æ—¶1ä¸»2ä»</p></li><li><p>é…ç½®å“¨å…µé…ç½®æ–‡ä»¶ sentinel.conf</p><pre class=" language-bash"><code class="language-bash">sentinel monitor è¢«ç›‘æ§çš„åç§° 127.0.0.1 6379 1<span class="token comment" spellcheck="true"># åé¢çš„æ•°å­—1ï¼Œä»£è¡¨ä¸»æœºæŒ‚äº†ï¼Œä»æœºæŠ•ç¥¨çœ‹è°æ¥æ›¿ä¸ºä¸»æœº</span></code></pre></li><li><p>å¯åŠ¨å“¨å…µ</p><pre class=" language-bash"><code class="language-bash">redis-sentinel kconfig/sentinel.conf</code></pre></li></ol><blockquote><p>å½“ä¸»æœºå›æ¥äº†ï¼Œåªèƒ½å½’åˆ°æ–°çš„ä¸»æœºä¸‹ï¼Œå½“ä½œä»æœº</p></blockquote><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><ol><li>å“¨å…µé›†ç¾¤ï¼ŒåŸºäºä¸»ä»å¤åˆ¶æ¨¡å¼ï¼Œæ‰€æœ‰çš„ä¸»ä»é…ç½®ä¼˜ç‚¹éƒ½æœ‰</li><li>ä¸»ä»è‡ªåŠ¨åˆ‡æ¢ï¼Œæ•…éšœå¯ä»¥è½¬ç§»ï¼Œç³»ç»Ÿå¯ç”¨æ€§æ›´å¥½</li></ol><p><strong>ç¼ºç‚¹</strong>ï¼š</p><ol><li>Redisä¸å¥½åœ¨çº¿æ‰©å®¹ï¼Œé›†ç¾¤å®¹é‡è¾¾åˆ°ä¸Šé™ï¼Œæ‰©å®¹å°±ä¼šå¾ˆéº»çƒ¦</li><li>å“¨å…µæ¨¡å¼é…ç½®éº»çƒ¦</li></ol><h2 id="ç¼“å­˜ç©¿é€ã€é›ªå´©"><a href="#ç¼“å­˜ç©¿é€ã€é›ªå´©" class="headerlink" title="ç¼“å­˜ç©¿é€ã€é›ªå´©"></a>ç¼“å­˜ç©¿é€ã€é›ªå´©</h2><p>ç¼“å­˜ç©¿é€æ¦‚å¿µï¼š<del>å½“æŸ¥è¯¢ä¸€ä¸ªæ•°æ®ï¼Œå†…å­˜æ•°æ®åº“ä¸­æ²¡æœ‰ï¼Œä¹Ÿå°±æ˜¯ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œå°±å»æŒä¹…å±‚æŸ¥è¯¢ï¼ŒæŒä¹…å±‚ä¹Ÿæ²¡æœ‰ï¼Œæœ¬æ¬¡æŸ¥è¯¢å¤±è´¥ï¼Œå½“ç”¨æˆ·å¾ˆå¤šçš„æ—¶å€™ï¼Œç¼“å­˜éƒ½æ²¡æœ‰å‘½ä¸­ï¼ˆç§’æ€ï¼‰ï¼Œéƒ½å»è®¿é—®æŒä¹…å±‚ï¼Œå¸¦æ¥äº†å¾ˆå¤§çš„å‹åŠ›ï¼Œè¿™å°±æ˜¯ç¼“å­˜ç©¿é€ã€‚ï¼ˆå¤§é¢ç§¯æŸ¥ä¸åˆ°ï¼‰</del></p><p>ç¼“å­˜ç©¿é€æ¦‚å¿µï¼š<strong>ç¼“å­˜ç©¿é€</strong>æ˜¯æŒ‡ç¼“å­˜å’Œæ•°æ®åº“ä¸­éƒ½æ²¡æœ‰çš„æ•°æ®ï¼Œè€Œç”¨æˆ·ä¸æ–­å‘èµ·è¯·æ±‚ï¼Œå¦‚å‘èµ·ä¸ºidä¸ºâ€œ-1â€çš„æ•°æ®æˆ–idä¸ºç‰¹åˆ«å¤§ä¸å­˜åœ¨çš„æ•°æ®ã€‚è¿™æ—¶çš„ç”¨æˆ·å¾ˆå¯èƒ½æ˜¯æ”»å‡»è€…ï¼Œæ”»å‡»ä¼šå¯¼è‡´æ•°æ®åº“å‹åŠ›è¿‡å¤§ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ol><li>æ¥å£å±‚å¢åŠ æ ¡éªŒï¼Œå¦‚ç”¨æˆ·ä¿¡æ¯æ ¡éªŒï¼ŒidåšåŸºç¡€æ ¡éªŒï¼Œid&lt;=0çš„ç›´æ¥æ‹¦æˆªï¼›</li><li>ä»ç¼“å­˜å–ä¸åˆ°çš„æ•°æ®ï¼Œåœ¨æ•°æ®åº“ä¸­ä¹Ÿæ²¡æœ‰å–åˆ°ï¼Œè¿™æ—¶ä¹Ÿå¯ä»¥å°†key-valueå¯¹å†™ä¸ºkey-nullï¼Œç¼“å­˜æœ‰æ•ˆæ—¶é—´å¯ä»¥è®¾ç½®çŸ­ç‚¹ï¼Œå¦‚30ç§’ï¼ˆè®¾ç½®å¤ªé•¿ä¼šå¯¼è‡´æ­£å¸¸æƒ…å†µä¹Ÿæ²¡æ³•ä½¿ç”¨ï¼‰ã€‚è¿™æ ·å¯ä»¥é˜²æ­¢æ”»å‡»ç”¨æˆ·åå¤ç”¨åŒä¸€ä¸ªidæš´åŠ›æ”»å‡»</li></ol><p><strong>å¸ƒéš†è¿‡æ»¤å™¨</strong>ï¼šæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯¹æ‰€æœ‰å¯èƒ½æŸ¥è¯¢çš„å‚æ•°ä»¥å“ˆå¸Œçš„å½¢å¼å­˜å‚¨ï¼Œåœ¨æ§åˆ¶å±‚å…ˆè¿›è¡Œæ ¡éªŒï¼Œä¸ç¬¦åˆå°±ä¼šè¢«ä¸¢å¼ƒï¼Œå‡ç¼“å­˜å‚¨ç³»ç»Ÿå‹åŠ›ã€‚</p><p><strong>ç¼“å­˜ç©ºå¯¹è±¡</strong>ï¼šå½“å­˜å‚¨å±‚ä¸å‘½ä¸­çš„æ—¶å€™ï¼Œè¿”å›çš„ç©ºå¯¹è±¡å°†å…¶ç¼“å­˜èµ·æ¥ï¼ŒåŒæ—¶è®¾å®šä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œä¹‹åå¦‚æœå†è®¿é—®è¿™ä¸ªæ•°æ®å°±å¯ä»¥åœ¨æ¢ä»è·å–ï¼Œé¿å…äº†åç«¯æ•°æ®æºå‹åŠ›ã€‚</p><blockquote><p>ç¼“å­˜ç©ºå¯¹è±¡çš„ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol><li>å¦‚æœç©ºå€¼è¢«ç¼“å­˜èµ·æ¥ï¼Œæ„å‘³ç€ç¼“å­˜éœ€è¦æ›´å¤§çš„ç©ºé—´å»å­˜å‚¨æ›´å¤šçš„é”®</li><li>å³ä½¿å¯¹ç©ºå€¼è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œè¿˜æ˜¯ä¼šå­˜åœ¨ç¼“å­˜å±‚å’Œå­˜å‚¨å±‚æœ‰ä¸€æ®µæ—¶é—´ä¸ä¸€è‡´ï¼Œå¯¹äºè¦ä¿æŒä¸€è‡´æ€§çš„ä¸šåŠ¡æœ‰å½±å“</li></ol></blockquote><p>ç¼“å­˜å‡»ç©¿æ¦‚å¿µï¼ˆé‡å¤ªå¤§ï¼Œç¼“å­˜è¿‡æœŸï¼‰ï¼šæŒ‡ä¸€ä¸ªKeyéå¸¸çƒ­ç‚¹ï¼Œå¤§å¹¶å‘é›†ä¸­åœ¨ä¸€ä¸ªç‚¹ä¸Šè®¿é—®ï¼Œå½“è¿™ä¸ªkeyå¤±æ•ˆçš„ç¬é—´ï¼ŒæŒç»­çš„å¤§å¹¶å‘å°±ä¼šç©¿ç ´ç¼“å­˜ï¼Œç›´æ¥è®¿é—®æ•°æ®åº“ã€‚è¿™ä¸€ç¬é—´å«åšç¼“å­˜å‡»ç©¿ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p><strong>è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸ</strong></p><p><strong>åŠ äº’æ–¥é”</strong>ï¼šåˆ†å¸ƒå¼é”ï¼Œä¿è¯å¯¹äºæ¯ä¸€ä¸ªkeyåªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®åç«¯æœåŠ¡ï¼Œå…¶ä»–çº¿ç¨‹æ²¡æœ‰è®¿é—®æƒé™ï¼Œåªéœ€è¦ç­‰å¾…å³å¯ã€‚è¿™ç§æ–¹å¼å°†é«˜å¹¶å‘çš„å‹åŠ›è½¬ç§»ç»™äº†åˆ†å¸ƒå¼é”ã€‚</p><p><strong>ç¼“å­˜é›ªå´©</strong>æ˜¯æŒ‡ç¼“å­˜ä¸­æ•°æ®å¤§æ‰¹é‡åˆ°è¿‡æœŸæ—¶é—´ï¼Œè€ŒæŸ¥è¯¢æ•°æ®é‡å·¨å¤§ï¼Œå¼•èµ·æ•°æ®åº“å‹åŠ›è¿‡å¤§ç”šè‡³downæœºã€‚å’Œç¼“å­˜å‡»ç©¿ä¸åŒçš„æ˜¯ï¼Œç¼“å­˜å‡»ç©¿æŒ‡å¹¶å‘æŸ¥åŒä¸€æ¡æ•°æ®ï¼Œç¼“å­˜é›ªå´©æ˜¯ä¸åŒæ•°æ®éƒ½è¿‡æœŸäº†ï¼Œå¾ˆå¤šæ•°æ®éƒ½æŸ¥ä¸åˆ°ä»è€ŒæŸ¥æ•°æ®åº“ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><ol><li>ç¼“å­˜æ•°æ®çš„è¿‡æœŸæ—¶é—´è®¾ç½®éšæœºï¼Œé˜²æ­¢åŒä¸€æ—¶é—´å¤§é‡æ•°æ®è¿‡æœŸç°è±¡å‘ç”Ÿã€‚</li><li>å¦‚æœç¼“å­˜æ•°æ®åº“æ˜¯åˆ†å¸ƒå¼éƒ¨ç½²ï¼Œå°†çƒ­ç‚¹æ•°æ®å‡åŒ€åˆ†å¸ƒåœ¨ä¸åŒç¼“å­˜æ•°æ®åº“ä¸­ã€‚</li><li>è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸è¿œä¸è¿‡æœŸã€‚</li><li>æ•°æ®é¢„çƒ­ï¼šåœ¨æ­£å¼éƒ¨ç½²ä¹‹å‰ï¼Œå…ˆæŠŠæ•°æ®æå‰è®¿é—®ä¸€éï¼Œä¿è¯å¤§é‡è®¿é—®çš„æ•°æ®åŠ è½½è¿›ç¼“å­˜ä¸­ã€‚å°†å¤§å¹¶å‘çš„æ•°æ®è®¾å®šä¸åŒçš„keyå’Œè¿‡æœŸæ—¶é—´ï¼Œå¤±æ•ˆæ—¶é—´å°½é‡å‡åŒ€åˆ†å¸ƒã€‚</li><li>é™æµé™çº§ï¼šé€šè¿‡åŠ é”ã€é˜Ÿåˆ—æ¥æ§åˆ¶è¯»æ•°æ®åº“å†™ç¼“å­˜çš„çº¿ç¨‹æ•°é‡</li></ol>]]></content>
      
      
      <categories>
          
          <category> nosql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DOMæ¨¡å‹ã€BOMæ¨¡å‹ã€äº‹ä»¶</title>
      <link href="/2020/07/20/qian-duan/dom-shi-jian-he-bom/"/>
      <url>/2020/07/20/qian-duan/dom-shi-jian-he-bom/</url>
      
        <content type="html"><![CDATA[<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><ul><li><p>åŠŸèƒ½ï¼šæ§åˆ¶htmlæ–‡æ¡£çš„å†…å®¹</p></li><li><p>ä»£ç ï¼šè·å–é¡µé¢æ ‡ç­¾ï¼ˆå…ƒç´ ï¼‰å¯¹è±¡ Element</p><ul><li>document.getElementById(â€œidå€¼â€)ï¼šé€šè¿‡å…ƒç´ çš„idè·å–å…ƒç´ çš„å¯¹è±¡</li></ul></li><li><p>æ“ä½œElementå¯¹è±¡</p><ol><li>ä¿®æ”¹å±æ€§å€¼<ul><li>å¯¹è±¡.src=â€â€</li></ul></li><li>ä¿®æ”¹æ ‡ç­¾ä½“å†…å®¹<ol><li>è·å–æ–‡æœ¬æ ‡ç­¾å¯¹è±¡</li><li>ä¿®æ”¹å†…å®¹<ul><li>å¯¹è±¡.innerHTML =â€å¯ä»¥æ˜¯æ•°å­—/æ ‡ç­¾ â€œ</li><li>è¿½åŠ ï¼šå¯¹è±¡.innerHTML +=â€å¯ä»¥æ˜¯æ•°å­—/æ ‡ç­¾ â€œ</li></ul></li></ol></li></ol><hr></li><li><p>æ¦‚å¿µï¼šDocument Object Model æ–‡æ¡£å¯¹è±¡æ¨¡å‹</p><ul><li>å°†æ ‡è®°è¯­è¨€æ–‡æ¡£çš„å„ä¸ªç»„æˆéƒ¨åˆ†ï¼Œå°è£…æˆå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›å¯¹è±¡ï¼Œå¯¹æ ‡è®°è¯­è¨€æ–‡æ¡£è¿›è¡ŒCRUDçš„åŠ¨æ€æ“ä½œ</li></ul></li><li><p>W3C DOM æ ‡å‡†è¢«åˆ†ä¸º3ä¸ªä¸åŒçš„éƒ¨åˆ†ï¼š</p><ul><li> æ ¸å¿ƒDOM-é’ˆå¯¹ä»»ä½•ç»“æ„åŒ–æ–‡æ¡£çš„æ ‡å‡†æ¨¡å‹</li><li>Documentï¼šæ–‡æ¡£å¯¹è±¡</li><li>Elementï¼šå…ƒç´ å¯¹è±¡</li><li>Attributeï¼šå±æ€§å¯¹è±¡</li><li>Textï¼šæ–‡æœ¬å¯¹è±¡</li><li>Commentï¼šæ³¨é‡Šå¯¹è±¡</li><li>Nodeï¼šèŠ‚ç‚¹å¯¹è±¡ï¼Œå…¶ä»–5ä¸ªçš„çˆ¶å¯¹è±¡</li><li>XML DOM-é’ˆå¯¹XMLæ–‡æ¡£</li><li>HTML DOM-é’ˆå¯¹HTMLæ–‡æ¡£</li></ul></li></ul><h3 id="æ ¸å¿ƒDOM-é’ˆå¯¹ä»»ä½•ç»“æ„åŒ–æ–‡æ¡£çš„æ ‡å‡†æ¨¡å‹"><a href="#æ ¸å¿ƒDOM-é’ˆå¯¹ä»»ä½•ç»“æ„åŒ–æ–‡æ¡£çš„æ ‡å‡†æ¨¡å‹" class="headerlink" title="æ ¸å¿ƒDOM-é’ˆå¯¹ä»»ä½•ç»“æ„åŒ–æ–‡æ¡£çš„æ ‡å‡†æ¨¡å‹"></a>æ ¸å¿ƒDOM-é’ˆå¯¹ä»»ä½•ç»“æ„åŒ–æ–‡æ¡£çš„æ ‡å‡†æ¨¡å‹</h3><h4 id="Documentï¼šæ–‡æ¡£å¯¹è±¡"><a href="#Documentï¼šæ–‡æ¡£å¯¹è±¡" class="headerlink" title="Documentï¼šæ–‡æ¡£å¯¹è±¡"></a>Documentï¼šæ–‡æ¡£å¯¹è±¡</h4><ol><li>åˆ›å»ºï¼ˆè·å–ï¼‰ï¼šåœ¨html domæ¨¡å‹ä¸­å¯ä»¥ä½¿ç”¨windowå¯¹è±¡æ¥è·å–<ol><li>window.document</li><li>document</li></ol></li><li>æ–¹æ³•ï¼š<ol><li>è·å–Elementå¯¹è±¡<ol><li>getElementById()ï¼šæ ¹æ®idå±æ€§å€¼è·å–å…ƒç´ å¯¹è±¡ï¼Œidå±æ€§å€¼ä¸€èˆ¬å”¯ä¸€</li><li>getElementsByTagName():æ ¹æ®å…ƒç´ åç§°è·å–å…ƒç´ å¯¹è±¡ä»¬ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„</li><li>getElementsByClassName():æ ¹æ®Classå±æ€§å€¼è·å–å…ƒç´ å¯¹è±¡ä»¬ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„</li><li>getElementsByName():æ ¹æ®Nameå±æ€§å€¼è·å–å…ƒç´ å¯¹è±¡ä»¬ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„</li></ol></li><li>åˆ›å»ºå…¶ä»–DOMå¯¹è±¡<ol><li>createAttribute(name)å±æ€§å¯¹è±¡</li><li>createComment()æ³¨é‡Šå¯¹è±¡</li><li>createElement()å…ƒç´ å¯¹è±¡</li><li>createTextNode()èŠ‚ç‚¹å¯¹è±¡</li></ol></li></ol></li></ol><h4 id="Elementï¼šå…ƒç´ å¯¹è±¡"><a href="#Elementï¼šå…ƒç´ å¯¹è±¡" class="headerlink" title="Elementï¼šå…ƒç´ å¯¹è±¡"></a>Elementï¼šå…ƒç´ å¯¹è±¡</h4><ol><li>è·å–/åˆ›å»ºï¼šé€šè¿‡documentæ¥è·å–å’Œåˆ›å»º</li><li>æ–¹æ³•ï¼š<ol><li>removeAttribute(å±æ€§å)ï¼šåˆ é™¤å±æ€§</li><li>setAttribute(å±æ€§åï¼Œå±æ€§å€¼)ï¼šè®¾ç½®å±æ€§</li></ol></li></ol><h4 id="Nodeï¼šèŠ‚ç‚¹å¯¹è±¡ï¼Œå…¶ä»–5ä¸ªçš„çˆ¶å¯¹è±¡"><a href="#Nodeï¼šèŠ‚ç‚¹å¯¹è±¡ï¼Œå…¶ä»–5ä¸ªçš„çˆ¶å¯¹è±¡" class="headerlink" title="Nodeï¼šèŠ‚ç‚¹å¯¹è±¡ï¼Œå…¶ä»–5ä¸ªçš„çˆ¶å¯¹è±¡"></a>Nodeï¼šèŠ‚ç‚¹å¯¹è±¡ï¼Œå…¶ä»–5ä¸ªçš„çˆ¶å¯¹è±¡</h4><ul><li>ç‰¹ç‚¹ï¼šæ‰€æœ‰domå¯¹è±¡éƒ½å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªèŠ‚ç‚¹</li><li>æ–¹æ³•ï¼š<ul><li>CRUD domæ ‘ï¼š<ul><li>appendChild(id)ï¼šå‘èŠ‚ç‚¹çš„å­èŠ‚ç‚¹åˆ—è¡¨çš„ç»“å°¾æ·»åŠ æ–°å­èŠ‚ç‚¹<ul><li>æ³¨æ„ï¼šæƒ³è¦ç»™æ ‡ç­¾å†…åŠ æ–‡æœ¬å†…å®¹ï¼Œéœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼Œå†å°†æ–‡æœ¬èŠ‚ç‚¹å½“ä½œå­èŠ‚ç‚¹åŠ å…¥</li></ul></li><li>removeChild(id)ï¼šåˆ é™¤ï¼ˆå¹¶è¿”å›ï¼‰å½“å‰èŠ‚ç‚¹çš„æŒ‡å®šå­èŠ‚ç‚¹<ul><li>æ³¨æ„ï¼šæƒ³è¦è¶…é“¾æ¥ä¸è·³è½¬ï¼Œä½†æ‰§è¡ŒjavaScriptè¯­å¥ï¼Œå¯ä»¥ä½¿ç”¨href=â€javascript:void(0);â€</li></ul></li><li>replaceChild()ï¼šç”¨æ–°èŠ‚ç‚¹æ›¿æ¢ä¸€ä¸ªå­èŠ‚ç‚¹</li></ul></li></ul></li><li>å±æ€§ï¼š<ul><li>parentNode çˆ¶èŠ‚ç‚¹</li></ul></li></ul><h3 id="HTML-DOM"><a href="#HTML-DOM" class="headerlink" title="HTML DOM"></a>HTML DOM</h3><ul><li><p>æ ‡ç­¾ä½“çš„è®¾ç½®å’Œè·å¾—ï¼šinnerHTML</p></li><li><p>ä½¿ç”¨htmlå…ƒç´ å¯¹è±¡çš„å±æ€§</p></li><li><p>æ§åˆ¶å…ƒç´ æ ·å¼</p><ol><li><p>ä½¿ç”¨å…ƒç´ çš„styleå±æ€§æ¥è®¾ç½®(äº†è§£)</p><pre><code>div1.style.border = "1px"</code></pre></li><li><p>æå‰å®šä¹‰å¥½ç±»é€‰æ‹©å™¨çš„æ ·å¼ï¼Œé€šè¿‡å…ƒç´ çš„classNameå±æ€§æ¥è®¾ç½®å…¶classå±æ€§å€¼</p><pre><code>&lt;style&gt;.di{    border="1px"}&lt;/style&gt;div1.className ="d1";</code></pre></li></ol></li></ul><hr><h2 id="äº‹ä»¶ç›‘å¬æœºåˆ¶"><a href="#äº‹ä»¶ç›‘å¬æœºåˆ¶" class="headerlink" title="äº‹ä»¶ç›‘å¬æœºåˆ¶"></a>äº‹ä»¶ç›‘å¬æœºåˆ¶</h2><h3 id="åŠŸèƒ½ï¼šæŸäº›ç»„ä»¶è¢«æ‰§è¡Œäº†æŸäº›æ“ä½œåï¼Œè§¦å‘æŸäº›ä»£ç æ‰§è¡Œ"><a href="#åŠŸèƒ½ï¼šæŸäº›ç»„ä»¶è¢«æ‰§è¡Œäº†æŸäº›æ“ä½œåï¼Œè§¦å‘æŸäº›ä»£ç æ‰§è¡Œ" class="headerlink" title="åŠŸèƒ½ï¼šæŸäº›ç»„ä»¶è¢«æ‰§è¡Œäº†æŸäº›æ“ä½œåï¼Œè§¦å‘æŸäº›ä»£ç æ‰§è¡Œ"></a>åŠŸèƒ½ï¼šæŸäº›ç»„ä»¶è¢«æ‰§è¡Œäº†æŸäº›æ“ä½œåï¼Œè§¦å‘æŸäº›ä»£ç æ‰§è¡Œ</h3><ul><li><p>äº‹ä»¶ï¼šæŸäº›æ“ä½œï¼ˆå•åŒå‡»â€¦â€¦ï¼‰</p></li><li><p>äº‹ä»¶æºï¼šç»„ä»¶ï¼ˆæŒ‰é’®ï¼Œè¾“å…¥æ¡†â€¦â€¦ï¼‰</p></li><li><p>ç›‘å¬å™¨ï¼šä»£ç </p></li><li><p>æ³¨å†Œç›‘å¬ï¼šå°†äº‹ä»¶ï¼Œäº‹ä»¶æºï¼Œç›‘å¬å™¨ç»“åˆåœ¨ä¸€èµ·</p></li></ul><h3 id="å¸¸è§çš„äº‹ä»¶ï¼š"><a href="#å¸¸è§çš„äº‹ä»¶ï¼š" class="headerlink" title="å¸¸è§çš„äº‹ä»¶ï¼š"></a>å¸¸è§çš„äº‹ä»¶ï¼š</h3><h4 id="ç‚¹å‡»äº‹ä»¶ï¼š"><a href="#ç‚¹å‡»äº‹ä»¶ï¼š" class="headerlink" title="ç‚¹å‡»äº‹ä»¶ï¼š"></a>ç‚¹å‡»äº‹ä»¶ï¼š</h4><ol><li>onclickï¼šå•å‡»äº‹ä»¶</li><li>ondblclickï¼šåŒå‡»äº‹ä»¶</li></ol><h4 id="ç„¦ç‚¹äº‹ä»¶ï¼š"><a href="#ç„¦ç‚¹äº‹ä»¶ï¼š" class="headerlink" title="ç„¦ç‚¹äº‹ä»¶ï¼š"></a>ç„¦ç‚¹äº‹ä»¶ï¼š</h4><ul><li><p>onblurï¼šå¤±å»ç„¦ç‚¹</p><ul><li>ä¸€èˆ¬ç”¨äºè¡¨å•éªŒè¯</li></ul><pre><code>//è®¾ç½®onbluräº‹ä»¶ï¼Œæ³¨æ„æ˜¯æ–¹æ³•åï¼Œä¸å¸¦æ‹¬å·document.getElementsByName("password")[0].onblur=checkPassword;</code></pre></li><li><p>onfocusï¼šå…ƒç´ è·å¾—ç„¦ç‚¹</p></li></ul><h4 id="åŠ è½½äº‹ä»¶ï¼š"><a href="#åŠ è½½äº‹ä»¶ï¼š" class="headerlink" title="åŠ è½½äº‹ä»¶ï¼š"></a>åŠ è½½äº‹ä»¶ï¼š</h4><ol><li><p>onloadï¼šä¸€å¼ é¡µé¢æˆ–ä¸€å¹…å›¾è¢«å®ŒæˆåŠ è½½</p><ul><li>ä¸€èˆ¬ç”¨äºç½‘é¡µåŠ è½½å®Œæ¯•å†åŠ è½½jsä»£ç </li></ul><pre><code>window.onload = function(){    jsä»£ç }</code></pre></li></ol><h4 id="é¼ æ ‡äº‹ä»¶ï¼š"><a href="#é¼ æ ‡äº‹ä»¶ï¼š" class="headerlink" title="é¼ æ ‡äº‹ä»¶ï¼š"></a>é¼ æ ‡äº‹ä»¶ï¼š</h4><ul><li>onmousedownï¼šé¼ æ ‡æŒ‰é’®è¢«æŒ‰ä¸‹</li><li>onmouseupï¼šé¼ æ ‡æŒ‰é’®è¢«æ¾å¼€</li><li>onmousemoveï¼šé¼ æ ‡è¢«ç§»åŠ¨</li><li>onmouseoverï¼šé¼ æ ‡ç§»åˆ°æŸå…ƒç´ ä¹‹ä¸­</li><li>onmouseoutï¼šé¼ æ ‡ä»æŸå…ƒç´ ç§»å¼€</li></ul><h4 id="é”®ç›˜äº‹ä»¶ï¼š"><a href="#é”®ç›˜äº‹ä»¶ï¼š" class="headerlink" title="é”®ç›˜äº‹ä»¶ï¼š"></a>é”®ç›˜äº‹ä»¶ï¼š</h4><ul><li>onkeydownï¼šæŸä¸ªé”®ç›˜æŒ‰é”®è¢«æŒ‰ä¸‹</li><li>onkeyupï¼šæŸä¸ªé”®ç›˜æŒ‰é”®è¢«æ¾å¼€</li><li>onkeypressï¼šæŸä¸ªé”®ç›˜æŒ‰é”®è¢«æŒ‰ä¸‹å¹¶æ¾å¼€</li></ul><h4 id="é€‰æ‹©å’Œæ”¹å˜"><a href="#é€‰æ‹©å’Œæ”¹å˜" class="headerlink" title="é€‰æ‹©å’Œæ”¹å˜"></a>é€‰æ‹©å’Œæ”¹å˜</h4><ul><li>onchange åŸŸçš„å†…å®¹è¢«æ”¹å˜</li><li>onselectï¼šæ–‡æœ¬è¢«é€‰ä¸­</li></ul><h4 id="è¡¨å•äº‹ä»¶"><a href="#è¡¨å•äº‹ä»¶" class="headerlink" title="è¡¨å•äº‹ä»¶"></a>è¡¨å•äº‹ä»¶</h4><ul><li><p>onsubmitï¼šç¡®è®¤æŒ‰é’®è¢«ç‚¹å‡»</p><ul><li><p>å¯ä»¥é˜»æ­¢è¡¨å•æäº¤ï¼Œå†fromæ ‡ç­¾ä¸­è°ƒç”¨onsubmitäº‹ä»¶ï¼Œæ–¹æ³•è¿”å›false</p><pre><code>document.getElementById("form").onsubmit=function(){return false;}-------------document.getElementById("form").onsubmit = function () {                return checkUserName()&amp;&amp;checkPassword();            }</code></pre></li><li><p>å¦‚æœæ˜¯å†fromæ ‡ç­¾ä¸­è°ƒç”¨onclickäº‹ä»¶ï¼Œåº”è¯¥æ˜¯onclick=â€return checkform( return false)â€</p></li></ul></li><li><p>onresetï¼šé‡ç½®æŒ‰é’®è¢«ç‚¹å‡»</p></li></ul><h3 id="ç»‘å®šäº‹ä»¶"><a href="#ç»‘å®šäº‹ä»¶" class="headerlink" title="ç»‘å®šäº‹ä»¶"></a>ç»‘å®šäº‹ä»¶</h3><ul><li>ç›´æ¥åœ¨htmlæ ‡ç­¾ä¸Šï¼ŒæŒ‡å®šäº‹ä»¶çš„å±æ€§ï¼Œå±æ€§å€¼å°±æ˜¯jsä»£ç  å¦‚ï¼šonclick=â€fun()â€;</li><li>é€šè¿‡jsè·å–å…ƒç´ å¯¹è±¡ï¼ŒæŒ‡å®šäº‹ä»¶å±æ€§ï¼Œè®¾ç½®ä¸€ä¸ªå‡½æ•°<ol><li>è·å–å¯¹è±¡</li><li>ç»‘å®šäº‹ä»¶ å¯¹è±¡.onclick=fun;</li></ol></li></ul><hr><h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><h3 id="æ¦‚å¿µï¼šBrowser-Object-Model-æµè§ˆå™¨å¯¹è±¡æ¨¡å‹"><a href="#æ¦‚å¿µï¼šBrowser-Object-Model-æµè§ˆå™¨å¯¹è±¡æ¨¡å‹" class="headerlink" title="æ¦‚å¿µï¼šBrowser Object Model æµè§ˆå™¨å¯¹è±¡æ¨¡å‹"></a>æ¦‚å¿µï¼šBrowser Object Model æµè§ˆå™¨å¯¹è±¡æ¨¡å‹</h3><ul><li>å°†æµè§ˆå™¨çš„å„ä¸ªç»„æˆéƒ¨åˆ†å°è£…æˆå¯¹è±¡</li></ul><h3 id="å¯¹è±¡ï¼š"><a href="#å¯¹è±¡ï¼š" class="headerlink" title="å¯¹è±¡ï¼š"></a>å¯¹è±¡ï¼š</h3><h4 id="Windowï¼šçª—å£å¯¹è±¡"><a href="#Windowï¼šçª—å£å¯¹è±¡" class="headerlink" title="Windowï¼šçª—å£å¯¹è±¡"></a>Windowï¼šçª—å£å¯¹è±¡</h4><ol><li>æ–¹æ³•<ol><li>ä¸å¼¹å‡ºçª—å£æœ‰å…³çš„æ–¹æ³•ï¼š<ol><li>alert()è­¦å‘Šæ¡†ï¼Œä¿¡æ¯ï¼Œç¡®è®¤</li><li>confirm()æ¶ˆæ¯æ¡†ï¼Œä¿¡æ¯ï¼Œç¡®è®¤ï¼Œå–æ¶ˆ<ul><li>è¿”å›å€¼ï¼štrueã€false</li></ul></li><li>prompt()è¾“å…¥æ¡†<ul><li>è¿”å›å€¼ï¼šç”¨æˆ·è¾“å…¥çš„å€¼</li></ul></li></ol></li><li>ä¸æ‰“å¼€å…³é—­æœ‰å…³çš„æ–¹æ³•ï¼š<ol><li>openï¼ˆï¼‰æ‰“å¼€ä¸€ä¸ªæ–°çª—å£</li><li>close()å…³é—­æµè§ˆå™¨çª—å£ï¼Œæ³¨æ„ï¼šå…³é—­çš„æ˜¯å½“å‰window</li></ol></li><li>ä¸å®šæ—¶å™¨æœ‰å…³çš„æ–¹å¼ï¼š<ol><li>setTimeout()ä¸€æ¬¡æ€§å®šæ—¶å™¨<ul><li>å‚æ•°ï¼š<ol><li>JSä»£ç  æ³¨æ„ï¼šè°ƒç”¨å‡½æ•°ç›´æ¥å†™åå³å¯ï¼Œä¸ç”¨åŠ æ‹¬å·</li><li>æ¯«ç§’å€¼</li></ol></li><li>è¿”å›å€¼ï¼šid</li></ul></li><li>clearTimeout()<ol><li>å‚æ•°ï¼šå®šæ—¶å™¨çš„id</li></ol></li><li>setInterval()é‡å¤å®šæ—¶å™¨<ul><li>å‚æ•°ï¼š<ol><li>JSä»£ç  æ³¨æ„ï¼šè°ƒç”¨å‡½æ•°ç›´æ¥å†™åå³å¯ï¼Œä¸ç”¨åŠ æ‹¬å·</li><li>æ¯«ç§’å€¼</li></ol></li><li>è¿”å›å€¼ï¼šid</li></ul></li><li>clearInterval()<ol><li>å‚æ•°ï¼šå®šæ—¶å™¨çš„id</li></ol></li></ol></li></ol></li><li>å±æ€§<ol><li>è·å–å…¶ä»–BOMå¯¹è±¡<ol><li>history</li><li>location</li><li>Navigator</li><li>Screen</li></ol></li><li>è·å–DOMå¯¹è±¡<ul><li>document</li></ul></li></ol></li><li>ç‰¹ç‚¹ï¼š<ol><li>windowå¯¹è±¡ä¸éœ€è¦åˆ›å»ºï¼Œç›´æ¥å¯ä»¥window.fun()ï¼Œä¹Ÿå¯ä»¥çœç•¥ç›´æ¥funï¼ˆï¼‰ï¼›</li></ol></li></ol><h4 id="Navigatorï¼šæµè§ˆå™¨å¯¹è±¡ï¼ˆäº†è§£ï¼‰"><a href="#Navigatorï¼šæµè§ˆå™¨å¯¹è±¡ï¼ˆäº†è§£ï¼‰" class="headerlink" title="Navigatorï¼šæµè§ˆå™¨å¯¹è±¡ï¼ˆäº†è§£ï¼‰"></a>Navigatorï¼šæµè§ˆå™¨å¯¹è±¡ï¼ˆäº†è§£ï¼‰</h4><h4 id="Screenï¼šæ˜¾ç¤ºå™¨å±å¹•å¯¹è±¡ï¼ˆäº†è§£ï¼‰"><a href="#Screenï¼šæ˜¾ç¤ºå™¨å±å¹•å¯¹è±¡ï¼ˆäº†è§£ï¼‰" class="headerlink" title="Screenï¼šæ˜¾ç¤ºå™¨å±å¹•å¯¹è±¡ï¼ˆäº†è§£ï¼‰"></a>Screenï¼šæ˜¾ç¤ºå™¨å±å¹•å¯¹è±¡ï¼ˆäº†è§£ï¼‰</h4><h4 id="Historyï¼šå†å²è®°å½•å¯¹è±¡"><a href="#Historyï¼šå†å²è®°å½•å¯¹è±¡" class="headerlink" title="Historyï¼šå†å²è®°å½•å¯¹è±¡"></a>Historyï¼šå†å²è®°å½•å¯¹è±¡</h4><h4 id="Locationï¼šåœ°å€æ å¯¹è±¡"><a href="#Locationï¼šåœ°å€æ å¯¹è±¡" class="headerlink" title="Locationï¼šåœ°å€æ å¯¹è±¡"></a>Locationï¼šåœ°å€æ å¯¹è±¡</h4><ol><li><p>åˆ›å»ºï¼ˆè·å–ï¼‰</p><ol><li>window.location</li><li>location</li></ol></li><li><p>æ–¹æ³•</p><ol><li>reload()é‡æ–°åŠ è½½å½“å‰æ–‡æ¡£ï¼Œåˆ·æ–°</li></ol></li><li><p>å±æ€§</p><ol><li>href è®¾ç½®æˆ–è¿”å›å®Œæ•´çš„url</li></ol><pre><code>location.href="http://www.baidu.com"</code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Filterè¿‡æ»¤å™¨ã€Listenerç›‘å¬å™¨</title>
      <link href="/2020/07/19/qian-duan/filter-guo-lu-qi/"/>
      <url>/2020/07/19/qian-duan/filter-guo-lu-qi/</url>
      
        <content type="html"><![CDATA[<h2 id="Filterï¼šè¿‡æ»¤å™¨"><a href="#Filterï¼šè¿‡æ»¤å™¨" class="headerlink" title="Filterï¼šè¿‡æ»¤å™¨"></a>Filterï¼šè¿‡æ»¤å™¨</h2><h3 id="æ¦‚å¿µï¼š"><a href="#æ¦‚å¿µï¼š" class="headerlink" title="æ¦‚å¿µï¼š"></a>æ¦‚å¿µï¼š</h3><ul><li>ç”Ÿæ´»ä¸­çš„è¿‡æ»¤å™¨ï¼šå‡€æ°´å™¨,ç©ºæ°”å‡€åŒ–å™¨ï¼ŒåœŸåŒª</li><li>webä¸­çš„è¿‡æ»¤å™¨ï¼šå½“è®¿é—®æœåŠ¡å™¨çš„èµ„æºæ—¶ï¼Œè¿‡æ»¤å™¨å¯ä»¥å°†è¯·æ±‚æ‹¦æˆªä¸‹æ¥ï¼Œå®Œæˆä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½ã€‚</li><li>è¿‡æ»¤å™¨çš„ä½œç”¨ï¼š<ul><li>ä¸€èˆ¬ç”¨äºå®Œæˆé€šç”¨çš„æ“ä½œã€‚å¦‚ï¼šç™»å½•éªŒè¯ã€ç»Ÿä¸€ç¼–ç å¤„ç†ã€æ•æ„Ÿå­—ç¬¦è¿‡æ»¤â€¦</li></ul></li></ul><h3 id="å¿«é€Ÿå…¥é—¨ï¼š"><a href="#å¿«é€Ÿå…¥é—¨ï¼š" class="headerlink" title="å¿«é€Ÿå…¥é—¨ï¼š"></a>å¿«é€Ÿå…¥é—¨ï¼š</h3><ol><li><p>æ­¥éª¤ï¼š</p><ol><li>å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°æ¥å£Filter</li><li>å¤å†™æ–¹æ³•</li><li>é…ç½®æ‹¦æˆªè·¯å¾„<ol><li>web.xml</li><li>==æ³¨è§£==</li></ol></li></ol></li><li><p>ä»£ç ï¼š</p><pre><code>@WebFilter("/*")//è®¿é—®æ‰€æœ‰èµ„æºä¹‹å‰ï¼Œéƒ½ä¼šæ‰§è¡Œè¯¥è¿‡æ»¤å™¨        public class FilterDemo1 implements Filter {            @Override            public void init(FilterConfig filterConfig) throws ServletException {            }                                @Override            public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {                System.out.println("filterDemo1è¢«æ‰§è¡Œäº†....");                //æ”¾è¡Œ                filterChain.doFilter(servletRequest,servletResponse);            }                    @Override            public void destroy() {            }        }</code></pre></li></ol><h3 id="è¿‡æ»¤å™¨ç»†èŠ‚ï¼š"><a href="#è¿‡æ»¤å™¨ç»†èŠ‚ï¼š" class="headerlink" title="è¿‡æ»¤å™¨ç»†èŠ‚ï¼š"></a>è¿‡æ»¤å™¨ç»†èŠ‚ï¼š</h3><ol><li><p>web.xmlé…ç½®</p><pre><code>        &lt;filter&gt;            &lt;filter-name&gt;demo1&lt;/filter-name&gt;            &lt;filter-class&gt;cn.itcast.web.filter.FilterDemo1&lt;/filter-class&gt;        &lt;/filter&gt;        &lt;filter-mapping&gt;            &lt;filter-name&gt;demo1&lt;/filter-name&gt;            &lt;!-- æ‹¦æˆªè·¯å¾„ --&gt;            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;        &lt;/filter-mapping&gt;</code></pre></li><li><p>è¿‡æ»¤å™¨æ‰§è¡Œæµç¨‹</p><ol><li><p>æ‰§è¡Œè¿‡æ»¤å™¨</p></li><li><p>è¿‡æ»¤å™¨æ‰§è¡Œæµç¨‹</p><ol><li>æ‰§è¡Œè¿‡æ»¤å™¨</li><li>æ‰§è¡Œæ”¾è¡Œçš„èµ„æº</li><li>å›æ¥æ‰§è¡Œè¿‡æ»¤å™¨æ”¾è¡Œä»£ç ä¸‹è¾¹çš„ä»£ç </li></ol></li><li><p>è¿‡æ»¤å™¨ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</p><ol><li><p>init:åœ¨æœåŠ¡å™¨å¯åŠ¨åï¼Œä¼šåˆ›å»ºFilterå¯¹è±¡ï¼Œç„¶åè°ƒç”¨initæ–¹æ³•ã€‚åªæ‰§è¡Œä¸€æ¬¡ã€‚ç”¨äºåŠ è½½èµ„æº</p></li><li><p>doFilter:æ¯ä¸€æ¬¡è¯·æ±‚è¢«æ‹¦æˆªèµ„æºæ—¶ï¼Œä¼šæ‰§è¡Œã€‚æ‰§è¡Œå¤šæ¬¡</p></li><li><p>destroy:åœ¨æœåŠ¡å™¨å…³é—­åï¼ŒFilterå¯¹è±¡è¢«é”€æ¯ã€‚å¦‚æœæœåŠ¡å™¨æ˜¯æ­£å¸¸å…³é—­ï¼Œåˆ™ä¼šæ‰§è¡Œdestroyæ–¹æ³•ã€‚åªæ‰§è¡Œä¸€æ¬¡ã€‚ç”¨äºé‡Šæ”¾èµ„æº</p></li></ol></li></ol></li><li><p>è¿‡æ»¤å™¨é…ç½®è¯¦è§£</p><ul><li><p><strong>æ‹¦æˆªè·¯å¾„é…ç½®ï¼š</strong></p><ol><li>å…·ä½“èµ„æºè·¯å¾„ï¼š /index.jsp   åªæœ‰è®¿é—®index.jspèµ„æºæ—¶ï¼Œè¿‡æ»¤å™¨æ‰ä¼šè¢«æ‰§è¡Œ</li><li>æ‹¦æˆªç›®å½•ï¼š /user/*    è®¿é—®/userä¸‹çš„æ‰€æœ‰èµ„æºæ—¶ï¼Œè¿‡æ»¤å™¨éƒ½ä¼šè¢«æ‰§è¡Œ</li><li>åç¼€åæ‹¦æˆªï¼š *.jsp        è®¿é—®æ‰€æœ‰åç¼€åä¸ºjspèµ„æºæ—¶ï¼Œè¿‡æ»¤å™¨éƒ½ä¼šè¢«æ‰§è¡Œ</li><li>æ‹¦æˆªæ‰€æœ‰èµ„æºï¼š/*        è®¿é—®æ‰€æœ‰èµ„æºæ—¶ï¼Œè¿‡æ»¤å™¨éƒ½ä¼šè¢«æ‰§è¡Œ</li></ol></li><li><p><strong>æ‹¦æˆªæ–¹å¼é…ç½®ï¼šèµ„æºè¢«è®¿é—®çš„æ–¹å¼</strong></p><ul><li><p>æ³¨è§£é…ç½®ï¼š</p><ul><li><p>è®¾ç½®dispatcherTypeså±æ€§</p><pre><code>              1. REQUESTï¼šé»˜è®¤å€¼ã€‚æµè§ˆå™¨ç›´æ¥è¯·æ±‚èµ„æº              2. FORWARDï¼šè½¬å‘è®¿é—®èµ„æº              3. INCLUDEï¼šåŒ…å«è®¿é—®èµ„æº              4. ERRORï¼šé”™è¯¯è·³è½¬èµ„æº              5. ASYNCï¼šå¼‚æ­¥è®¿é—®èµ„æº</code></pre><ul><li>æ³¨æ„ï¼šè®¾ç½®å¤šä¸ªå€¼å¯ä»¥æ˜¯æ•°ç»„dispatcherTypes={DispatcherType.REQUEST,â€¦â€¦}</li></ul></li></ul></li><li><p>web.xmlé…ç½®</p><ul><li>å†mappingå†…è®¾ç½®<dispatcher></dispatcher>æ ‡ç­¾å³å¯</li></ul></li></ul></li></ul></li><li><p>è¿‡æ»¤å™¨é“¾(é…ç½®å¤šä¸ªè¿‡æ»¤å™¨)</p><ul><li><p>æ‰§è¡Œé¡ºåºï¼šå¦‚æœæœ‰ä¸¤ä¸ªè¿‡æ»¤å™¨ï¼šè¿‡æ»¤å™¨1å’Œè¿‡æ»¤å™¨2</p><pre><code>  1. è¿‡æ»¤å™¨1  2. è¿‡æ»¤å™¨2  3. èµ„æºæ‰§è¡Œ  4. è¿‡æ»¤å™¨2  5. è¿‡æ»¤å™¨1 </code></pre></li><li><p>è¿‡æ»¤å™¨å…ˆåé¡ºåºé—®é¢˜ï¼š</p><ol><li><p>æ³¨è§£é…ç½®ï¼šæŒ‰ç…§==ç±»å==çš„å­—ç¬¦ä¸²æ¯”è¾ƒè§„åˆ™æ¯”è¾ƒï¼Œå€¼å°çš„å…ˆæ‰§è¡Œ</p><ul><li>å¦‚ï¼š AFilter å’Œ BFilterï¼ŒAFilterå°±å…ˆæ‰§è¡Œäº†ã€‚</li></ul></li><li><p>web.xmlé…ç½®ï¼š <filter-mapping>è°å®šä¹‰åœ¨ä¸Šè¾¹ï¼Œè°å…ˆæ‰§è¡Œï¼ˆå’Œfilteræ ‡ç­¾æ— å…³ï¼‰</filter-mapping></p></li></ol></li></ul></li></ol><h3 id="æ¡ˆä¾‹ï¼š"><a href="#æ¡ˆä¾‹ï¼š" class="headerlink" title="æ¡ˆä¾‹ï¼š"></a>æ¡ˆä¾‹ï¼š</h3><h4 id="æ¡ˆä¾‹1ï¼šç™»å½•éªŒè¯"><a href="#æ¡ˆä¾‹1ï¼šç™»å½•éªŒè¯" class="headerlink" title="æ¡ˆä¾‹1ï¼šç™»å½•éªŒè¯"></a>æ¡ˆä¾‹1ï¼šç™»å½•éªŒè¯</h4><ul><li>éœ€æ±‚ï¼š<ol><li>è®¿é—®day17_caseæ¡ˆä¾‹çš„èµ„æºã€‚éªŒè¯å…¶æ˜¯å¦ç™»å½•</li><li>å¦‚æœç™»å½•äº†ï¼Œåˆ™ç›´æ¥æ”¾è¡Œã€‚</li><li>å¦‚æœæ²¡æœ‰ç™»å½•ï¼Œåˆ™è·³è½¬åˆ°ç™»å½•é¡µé¢ï¼Œæç¤ºâ€æ‚¨å°šæœªç™»å½•ï¼Œè¯·å…ˆç™»å½•â€ã€‚</li></ol></li></ul><h4 id="æ¡ˆä¾‹2ï¼šå¢å¼ºå¯¹è±¡çš„åŠŸèƒ½ï¼š"><a href="#æ¡ˆä¾‹2ï¼šå¢å¼ºå¯¹è±¡çš„åŠŸèƒ½ï¼š" class="headerlink" title="æ¡ˆä¾‹2ï¼šå¢å¼ºå¯¹è±¡çš„åŠŸèƒ½ï¼š"></a>æ¡ˆä¾‹2ï¼šå¢å¼ºå¯¹è±¡çš„åŠŸèƒ½ï¼š</h4><ul><li><p>è®¾è®¡æ¨¡å¼ï¼šä¸€äº›é€šç”¨çš„è§£å†³å›ºå®šé—®é¢˜çš„æ–¹å¼</p><ol><li><p>è£…é¥°æ¨¡å¼</p></li><li><p>ä»£ç†æ¨¡å¼</p></li></ol><ul><li><p>æ¦‚å¿µï¼š</p><ol><li>çœŸå®å¯¹è±¡ï¼šè¢«ä»£ç†çš„å¯¹è±¡ï¼ˆå¦‚ï¼šrequestï¼‰</li><li>ä»£ç†å¯¹è±¡ï¼š</li><li>ä»£ç†æ¨¡å¼ï¼šä»£ç†å¯¹è±¡ä»£ç†çœŸå®å¯¹è±¡ï¼Œè¾¾åˆ°å¢å¼ºçœŸå®å¯¹è±¡åŠŸèƒ½çš„ç›®çš„</li></ol><ul><li>å®ç°æ–¹å¼ï¼š<ol><li>é™æ€ä»£ç†ï¼šæœ‰ä¸€ä¸ªç±»æ–‡ä»¶æè¿°ä»£ç†æ¨¡å¼    2. åŠ¨æ€ä»£ç†ï¼šåœ¨å†…å­˜ä¸­å½¢æˆä»£ç†ç±»<ul><li><strong>å®ç°æ­¥éª¤ï¼š</strong><ol><li>ä»£ç†å¯¹è±¡å’ŒçœŸå®å¯¹è±¡å®ç°ç›¸åŒçš„æ¥å£</li><li>ä»£ç†å¯¹è±¡ = Proxy.newProxyInstance(çœŸå®å¯¹è±¡.getClass().getClassLoader(),çœŸå®å¯¹è±¡.getClass().getInterfaces(),new InvocationHandler{é€»è¾‘});</li><li>ä½¿ç”¨ä»£ç†å¯¹è±¡è°ƒç”¨æ–¹æ³•ã€‚method.invoke(ä»£ç†/çœŸå®å¯¹è±¡ï¼Œargså‚æ•°æ•°ç»„)</li><li>å¢å¼ºæ–¹æ³•</li></ol><ul><li>å¢å¼ºæ–¹å¼ï¼š<ul><li>å¢å¼ºå‚æ•°åˆ—è¡¨</li><li>å¢å¼ºè¿”å›å€¼ç±»å‹</li><li>å¢å¼ºæ–¹æ³•ä½“æ‰§è¡Œé€»è¾‘</li></ul></li></ul></li></ul></li></ol></li></ul><pre class=" language-java"><code class="language-java">Lenovo lenovo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Lenovo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å‚æ•°è¯´æ˜ï¼š</span>        <span class="token comment" spellcheck="true">//1.çœŸå®ç›®æ ‡å¯¹è±¡ç±»åŠ è½½å™¨ï¼Œ2.æ¥å£ç›®æ ‡å¯¹è±¡ï¼Œ3.é€»è¾‘æ–¹æ³•</span>        SaleComputer proxy <span class="token operator">=</span> <span class="token punctuation">(</span>SaleComputer<span class="token punctuation">)</span> Proxy<span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>lenovo<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                lenovo<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token keyword">new</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token annotation punctuation">@Override</span>                    <span class="token keyword">public</span> Object <span class="token function">invoke</span><span class="token punctuation">(</span>Object proxy<span class="token punctuation">,</span> Method method<span class="token punctuation">,</span> Object<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Throwable <span class="token punctuation">{</span>                        <span class="token keyword">if</span><span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"sale"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                            <span class="token comment" spellcheck="true">//å¢å¼ºå‚æ•°</span>                            <span class="token keyword">double</span> money <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                            money <span class="token operator">=</span> money<span class="token operator">*</span><span class="token number">0.85</span><span class="token punctuation">;</span>                            Object o <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>lenovo<span class="token punctuation">,</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment" spellcheck="true">//å¢å¼ºè¿”å›å€¼</span>                            <span class="token keyword">return</span> o<span class="token operator">+</span><span class="token string">"_é¼ æ ‡å«"</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>                            Object o <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>lenovo<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment" spellcheck="true">//å¢å¼ºé€»è¾‘è¿‡ç¨‹</span>                            <span class="token comment" spellcheck="true">//System.out.println("æ–¹æ³•æ‰§è¡Œäº†");</span>                            <span class="token keyword">return</span> o<span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        String sale <span class="token operator">=</span> proxy<span class="token punctuation">.</span><span class="token function">sale</span><span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sale<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul></li></ul><hr><h2 id="Listenerï¼šç›‘å¬å™¨"><a href="#Listenerï¼šç›‘å¬å™¨" class="headerlink" title="Listenerï¼šç›‘å¬å™¨"></a>Listenerï¼šç›‘å¬å™¨</h2><ul><li><p>æ¦‚å¿µï¼šwebçš„ä¸‰å¤§ç»„ä»¶ä¹‹ä¸€ã€‚</p><ul><li>äº‹ä»¶ç›‘å¬æœºåˆ¶<ul><li>äº‹ä»¶    ï¼šä¸€ä»¶äº‹æƒ…</li><li>äº‹ä»¶æº ï¼šäº‹ä»¶å‘ç”Ÿçš„åœ°æ–¹</li><li>ç›‘å¬å™¨ ï¼šä¸€ä¸ªå¯¹è±¡</li><li>æ³¨å†Œç›‘å¬ï¼šå°†äº‹ä»¶ã€äº‹ä»¶æºã€ç›‘å¬å™¨ç»‘å®šåœ¨ä¸€èµ·ã€‚ å½“äº‹ä»¶æºä¸Šå‘ç”ŸæŸä¸ªäº‹ä»¶åï¼Œæ‰§è¡Œç›‘å¬å™¨ä»£ç </li></ul></li></ul></li><li><p>ServletContextListener:ç›‘å¬ServletContextå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯</p><ul><li>æ–¹æ³•ï¼š<ul><li>void contextDestroyed(ServletContextEvent sce) ï¼šServletContextå¯¹è±¡è¢«é”€æ¯ä¹‹å‰ä¼šè°ƒç”¨è¯¥æ–¹æ³•</li><li><h4 id="void-contextInitialized-ServletContextEvent-sce-ï¼šServletContextå¯¹è±¡åˆ›å»ºåä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼ˆä¸€èˆ¬ç”¨äºåŠ è½½å…¨å±€é…ç½®æ–‡ä»¶ï¼‰"><a href="#void-contextInitialized-ServletContextEvent-sce-ï¼šServletContextå¯¹è±¡åˆ›å»ºåä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼ˆä¸€èˆ¬ç”¨äºåŠ è½½å…¨å±€é…ç½®æ–‡ä»¶ï¼‰" class="headerlink" title="void contextInitialized(ServletContextEvent sce) ï¼šServletContextå¯¹è±¡åˆ›å»ºåä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼ˆä¸€èˆ¬ç”¨äºåŠ è½½å…¨å±€é…ç½®æ–‡ä»¶ï¼‰"></a>void contextInitialized(ServletContextEvent sce) ï¼šServletContextå¯¹è±¡åˆ›å»ºåä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼ˆä¸€èˆ¬ç”¨äºåŠ è½½å…¨å±€é…ç½®æ–‡ä»¶ï¼‰</h4></li></ul></li><li>åˆ›å»ºç›‘å¬å™¨æ­¥éª¤ï¼š<ol><li>å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°ServletContextListeneræ¥å£</li><li>å¤å†™æ–¹æ³•</li><li>é…ç½®</li><li>web.xml<listener>                      <listener-class>cn.itcast.web.listener.ContextLoaderListener</listener-class></listener>* æŒ‡å®šåˆå§‹åŒ–å‚æ•°<context-param></context-param></li><li>æ³¨è§£ï¼š<pre><code>            * @WebListener</code></pre></li></ol></li></ul><pre><code>åŠ è½½å…¨å±€é…ç½®æ–‡ä»¶:web.xml:    &lt;context-param&gt;        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;        &lt;param-value&gt;/WEB-INF/classes/applicationContext.xml&lt;/param-value&gt;    &lt;/context-param&gt;listener:  public void contextInitialized(ServletContextEvent servletContextEvent) {        //åŠ è½½å…¨å±€é…ç½®æ–‡ä»¶        //è·å–ServletContextå¯¹è±¡        ServletContext servletContext = servletContextEvent.getServletContext();        //è·å–é…ç½®æ–‡ä»¶ï¼ˆweb.xmlï¼‰ä¸­çš„å‚æ•°(å­—ç¬¦ä¸²),ä¼ å‚æ˜¯é…ç½®æ–‡ä»¶ä¸­çš„name        String contextConfigLocation = servletContext.getInitParameter("contextConfigLocation");        //è·å–æ–‡ä»¶çœŸå®ï¼ˆæœåŠ¡å™¨ï¼‰è·¯å¾„ï¼ˆå­—ç¬¦ä¸²ï¼‰        String realPath = servletContext.getRealPath(contextConfigLocation);        //åŠ è½½è¿›å†…å­˜        try {            FileInputStream fis = new FileInputStream(realPath);</code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jsp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptï¼ˆECMAScriptï¼‰ã€æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/2020/07/18/qian-duan/javascript-ecmascript/"/>
      <url>/2020/07/18/qian-duan/javascript-ecmascript/</url>
      
        <content type="html"><![CDATA[<h2 id="JavaScriptï¼ˆECMAScriptï¼‰"><a href="#JavaScriptï¼ˆECMAScriptï¼‰" class="headerlink" title="JavaScriptï¼ˆECMAScriptï¼‰"></a>JavaScriptï¼ˆECMAScriptï¼‰</h2><p>###æ¦‚å¿µï¼šä¸€é—¨å®¢æˆ·ç«¯è„šæœ¬è¯­è¨€</p><ul><li>JavaScript=ECMAScript + JavaScriptè‡ªå·±ç‰¹æœ‰çš„ä¸œè¥¿ï¼ˆBOM+DOMï¼‰</li><li>è¿è¡Œåœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸­çš„ï¼Œä¸éœ€è¦ç¼–è¯‘ï¼Œç›´æ¥è¢«æµè§ˆå™¨è§£ææ‰§è¡Œ</li></ul><p>###åŠŸèƒ½ï¼š</p><ul><li>å¯ä»¥å¢å¼ºç”¨æˆ·å’ŒHTMLé¡µé¢çš„äº¤äº’è¿‡ç¨‹ï¼Œæ§åˆ¶htmlå…ƒç´ ï¼Œè®©é¡µé¢æœ‰ä¸€äº›åŠ¨æ€æ•ˆæœ</li></ul><h3 id="ECMAScriptï¼šå®¢æˆ·ç«¯è„šæœ¬è¯­è¨€çš„æ ‡å‡†"><a href="#ECMAScriptï¼šå®¢æˆ·ç«¯è„šæœ¬è¯­è¨€çš„æ ‡å‡†" class="headerlink" title="ECMAScriptï¼šå®¢æˆ·ç«¯è„šæœ¬è¯­è¨€çš„æ ‡å‡†"></a>ECMAScriptï¼šå®¢æˆ·ç«¯è„šæœ¬è¯­è¨€çš„æ ‡å‡†</h3><h4 id="åŸºæœ¬è¯­æ³•ï¼š"><a href="#åŸºæœ¬è¯­æ³•ï¼š" class="headerlink" title="åŸºæœ¬è¯­æ³•ï¼š"></a>åŸºæœ¬è¯­æ³•ï¼š</h4><ol><li><p>ä¸HTMLç»“åˆæ–¹å¼</p><ol><li><p>å†…éƒ¨</p><p><scrip t="">å¯å®šä¹‰åœ¨ä»»æ„ä½ç½®ï¼Œå®šä¹‰çš„ä½ç½®ä¼šå½±å“æ‰§è¡Œçš„é¡ºåº</scrip></p></li><li><p>å¤–éƒ¨</p><p><scrip t="" src=""></scrip></p></li></ol></li><li><p>æ³¨é‡Š</p><ul><li>//</li><li>/*  */</li></ul></li><li><p>æ•°æ®ç±»å‹</p><ol><li>åŸå§‹æ•°æ®ç±»å‹ï¼ˆåŸºæœ¬æ•°æ®ç±»å‹ï¼‰<ol><li>numberï¼šæ•°å­—ã€‚ æ•´æ•°/å°æ•°/NaN(not a Number ä¸€ä¸ªä¸æ˜¯æ•°å­—çš„æ•°å­—ç±»å‹)<ul><li>0å’ŒNaNä¸ºfalse</li></ul></li><li>stringï¼šå­—ç¬¦ä¸²<ul><li>ç©ºå­—ç¬¦ä¸²ä¸ºfalse</li></ul></li><li>booleanï¼šå¸ƒå°”å€¼</li><li>nullï¼šä¸€ä¸ªå¯¹è±¡ä¸ºç©ºçš„å ä½ç¬¦</li><li>undefinedï¼šæœªå®šä¹‰ï¼Œå¦‚æœä¸€ä¸ªå˜é‡æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™é»˜è®¤èµ‹å€¼ä¸ºundefined</li></ol></li><li>å¼•ç”¨æ•°æ®ç±»å‹ï¼šå¯¹è±¡</li></ol></li><li><p>å˜é‡</p><ol><li>Javaæ˜¯å¼ºç±»å‹è¯­è¨€ï¼ŒJavaScriptæ˜¯å¼±ç±»å‹è¯­è¨€</li><li>è¯­æ³•ï¼š<ul><li>var å˜é‡å=åˆå§‹å€¼;</li></ul></li><li>typeof(å˜é‡å) è¿”å›å˜é‡çš„ç±»å‹</li></ol></li><li><p>è¿ç®—ç¬¦</p><ol><li><p>ä¸€å…ƒè¿ç®—ç¬¦ï¼šåªæœ‰ä¸€ä¸ªè¿ç®—æ•°çš„è¿ç®—ç¬¦</p><p>++ï¼Œâ€“ï¼Œ+(æ­£å·)å¯ä»¥å°†å…¶ä»–å€¼è½¬æ¢ä¸ºnumberç±»å‹</p></li><li><p>ç®—æ•°è¿ç®—ç¬¦</p></li><li><p>èµ‹å€¼è¿ç®—ç¬¦</p><p>= += -=</p></li><li><p>æ¯”è¾ƒè¿ç®—ç¬¦</p><p>===(å…¨ç­‰äº)å…ˆåˆ¤æ–­ç±»å‹ï¼Œå¦‚æœç±»å‹ä¸ä¸€æ ·å°±ç›´æ¥è¿”å›false</p></li><li><p>é€»è¾‘è¿ç®—ç¬¦</p><p>&amp;&amp; &amp; | || ï¼</p></li><li><p>ä¸‰å…ƒè¿ç®—ç¬¦</p><p>ï¼Ÿ :</p><p>var a=3;</p><p>var b=4;</p><p>var c =a &gt; b ? 1: 0   (0)</p></li></ol></li><li><p>æµç¨‹æ§åˆ¶è¯­å¥</p><ol><li>ifâ€¦else</li><li>switch:<ul><li>switch(å¯ä»¥ä»»ä½•ç±»å‹){case xx: xxx break}</li></ul></li><li>while</li><li>doâ€¦while </li><li>for</li></ol></li></ol><h4 id="åŸºæœ¬å¯¹è±¡"><a href="#åŸºæœ¬å¯¹è±¡" class="headerlink" title="åŸºæœ¬å¯¹è±¡"></a>åŸºæœ¬å¯¹è±¡</h4><h5 id="Functionå¯¹è±¡"><a href="#Functionå¯¹è±¡" class="headerlink" title="Functionå¯¹è±¡"></a>Functionå¯¹è±¡</h5><ol><li><p>åˆ›å»ºæ–¹å¼</p><ol><li>åˆ›å»ºæ–¹å¼1ï¼šfunction fun(a,b){    }</li><li>åˆ›å»ºæ–¹å¼2ï¼švar fun = function(a,b){ }<ul><li>å½¢å‚ç±»å‹ä¸ç”¨å†™ï¼Œè¿”å›å€¼ç±»å‹ä¹Ÿä¸ç”¨å†™</li><li>æ–¹æ³•æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœå®šä¹‰ç›¸åŒåå­—ä¼šè¢«è¦†ç›–</li><li>æ–¹æ³•è°ƒç”¨åªçœ‹åç§°ï¼Œä¸çœ‹å‚æ•°ä¸ªæ•°</li></ul></li></ol></li><li><p>å±æ€§ï¼š</p><p>lengthï¼šä»£è¡¨å½¢å‚çš„ä¸ªæ•°</p></li></ol><h5 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h5><ol><li><p>åˆ›å»ºæ–¹å¼ï¼š</p><ol><li>var arr = new Array(å…ƒç´ åˆ—è¡¨)å¯ç©º</li><li>var arr = new Array(é»˜è®¤é•¿åº¦)</li><li>var arr = [å…ƒç´ åˆ—è¡¨]<ul><li>å…ƒç´ ç±»å‹æ˜¯å¯å˜çš„ï¼Œå¯å­˜ä¸åŒç±»å‹çš„å…ƒç´ </li><li>é•¿åº¦å¯å˜</li></ul></li></ol></li><li><p>æ–¹æ³•ï¼š</p><p>join(â€œXâ€)ä¸¤å…ƒç´ ä¹‹é—´çš„é€—å·æ”¹å˜æˆæƒ³è¦çš„æ ·å­</p><p>push(å…ƒç´ )å‘æ•°ç»„çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦</p></li><li><p>å±æ€§ï¼š</p><p>lengthï¼šä»£è¡¨æ•°ç»„é•¿åº¦</p></li></ol><h5 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h5><h5 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h5><ol><li><p>åˆ›å»ºæ–¹å¼ï¼š</p><ol><li>var date = new Date();</li></ol></li><li><p>æ–¹æ³•ï¼š</p><p>toLocaleString()ï¼šè¿”å›å½“å‰dateå¯¹è±¡å¯¹åº”çš„æ—¶é—´æœ¬åœ°å­—ç¬¦ä¸²æ ¼å¼</p><p>getTime()ï¼šè·å–æ¯«ç§’å€¼ï¼Œè¿”å›å½“å‰æ—¶é—´ä¸1970.1.1 0ç‚¹çš„æ¯«ç§’ä¹‹å·®</p></li></ol><h5 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h5><ol><li><p>åˆ›å»ºæ–¹å¼ï¼š</p><p>ä¸ç”¨åˆ›å»ºï¼Œå†…ç½®å¯¹è±¡</p></li><li><p>æ–¹æ³•ï¼š</p><ol><li>random() [0,1)çš„éšæœºæ•°</li><li>ceilï¼ˆxï¼‰å‘ä¸Šå–æ•´ 2.2â€”&gt;3</li><li>floor(x) å‘ä¸‹å–æ•´  2.2â€”&gt;2</li><li>round(x) å››èˆäº”å…¥</li></ol><pre><code>å–1-100çš„éšæœºæ•´æ•°Math.floor((Math.random()*100))+1</code></pre></li><li><p>å±æ€§ï¼š</p><p>PI</p></li></ol><h5 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h5><h5 id="String"><a href="#String" class="headerlink" title="String"></a>String</h5><h6 id="RegExpï¼šæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡"><a href="#RegExpï¼šæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡" class="headerlink" title="RegExpï¼šæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡"></a>RegExpï¼šæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡</h6><ol><li><p>æ­£åˆ™è¡¨è¾¾å¼ï¼šå®šä¹‰å­—ç¬¦ä¸²çš„ç»„æˆè§„åˆ™</p><ol><li><p>å•ä¸ªå­—ç¬¦ï¼š[    ]</p><ol><li>\dï¼šå•ä¸ªæ•°å­—å­—ç¬¦</li><li>\wï¼šå•ä¸ªå•è¯å­—ç¬¦</li></ol></li><li><p>é‡è¯ç¬¦å·ï¼š</p><p>ï¼Ÿï¼šè¡¨ç¤ºå‡ºç°0æ¬¡æˆ–1æ¬¡</p><p>*ï¼šè¡¨ç¤ºå‡ºç°0æ¬¡æˆ–å¤šæ¬¡</p><p>+ï¼šè¡¨ç¤ºå‡ºç°1æ¬¡æˆ–å¤šæ¬¡</p><p>{m,n}è¡¨ç¤º æ•°é‡åœ¨[mï¼Œn]ä¹‹é—´</p><ul><li> må¦‚æœç¼ºçœï¼Œ{,n}æœ€å¤šnæ¬¡</li><li>nå¦‚æœç¼ºçœï¼Œ{m,}æœ€å°‘mæ¬¡</li></ul></li><li><p>å¼€å§‹ç»“æŸç¬¦å·ï¼š</p><p>^:å¼€å§‹</p><p>$:ç»“æŸ</p></li></ol><pre><code>\w{6,12}</code></pre></li><li><p>æ­£åˆ™å¯¹è±¡ï¼š</p><ol><li>åˆ›å»º<ol><li>var reg = new RegExp(â€œæ­£åˆ™è¡¨è¾¾å¼â€) <ul><li>æ³¨æ„ï¼šè¿™é‡Œå®šä¹‰\wçš„åæ–œçº¿éœ€è¦è½¬ä¹‰å­—ç¬¦æ¥å†™ï¼Œ\ \w</li></ul></li><li>var reg = /æ­£åˆ™è¡¨è¾¾å¼/</li></ol></li><li>æ–¹æ³•ï¼š<ol><li>test(å‚æ•°)ï¼šéªŒè¯æŒ‡å®šçš„å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆæ­£åˆ™å®šä¹‰çš„è§„èŒƒ</li></ol></li></ol></li></ol><pre class=" language-javascript"><code class="language-javascript">             <span class="token keyword">function</span> <span class="token function">checkUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                 <span class="token comment" spellcheck="true">//æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦æœ‰è¯¯</span>                 <span class="token comment" spellcheck="true">//è·å–ç”¨æˆ·å</span>                 <span class="token keyword">var</span> username <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">"input_username"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//å†™æ­£åˆ™è¡¨è¾¾å¼</span>                 <span class="token keyword">var</span> reg_username<span class="token operator">=</span><span class="token regex">/^\w{6,12}$/</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//åˆ¤æ–­ç”¨æˆ·åä¸æ­£åˆ™è¡¨è¾¾å¼çš„å…³ç³»</span>                 <span class="token keyword">var</span> flag <span class="token operator">=</span> reg_username<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//æç¤ºä¿¡æ¯</span>                 <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">{</span>                     document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"s_username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"ç”¨æˆ·åæ­£ç¡®ï¼"</span>                 <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>                     document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"s_username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"ç”¨æˆ·åé”™è¯¯ï¼"</span>                 <span class="token punctuation">}</span>                 <span class="token keyword">return</span> flag<span class="token punctuation">;</span>             <span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTPåè®®ï¼šå“åº”æ¶ˆæ¯ã€Responseå¯¹è±¡ã€ServletContextå¯¹è±¡</title>
      <link href="/2020/07/17/qian-duan/response/"/>
      <url>/2020/07/17/qian-duan/response/</url>
      
        <content type="html"><![CDATA[<h2 id="HTTPåè®®ï¼šå“åº”æ¶ˆæ¯"><a href="#HTTPåè®®ï¼šå“åº”æ¶ˆæ¯" class="headerlink" title="HTTPåè®®ï¼šå“åº”æ¶ˆæ¯"></a>HTTPåè®®ï¼šå“åº”æ¶ˆæ¯</h2><h3 id="è¯·æ±‚æ¶ˆæ¯ï¼šå®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡å™¨ç«¯çš„æ•°æ®"><a href="#è¯·æ±‚æ¶ˆæ¯ï¼šå®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡å™¨ç«¯çš„æ•°æ®" class="headerlink" title="è¯·æ±‚æ¶ˆæ¯ï¼šå®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡å™¨ç«¯çš„æ•°æ®"></a>è¯·æ±‚æ¶ˆæ¯ï¼šå®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡å™¨ç«¯çš„æ•°æ®</h3><ul><li>æ•°æ®æ ¼å¼ï¼š<ol><li>è¯·æ±‚è¡Œ</li><li>è¯·æ±‚å¤´</li><li>è¯·æ±‚ç©ºè¡Œ</li><li>è¯·æ±‚ä½“</li></ol></li></ul><h3 id="å“åº”æ¶ˆæ¯ï¼šæœåŠ¡å™¨ç«¯å‘é€ç»™å®¢æˆ·ç«¯çš„æ•°æ®"><a href="#å“åº”æ¶ˆæ¯ï¼šæœåŠ¡å™¨ç«¯å‘é€ç»™å®¢æˆ·ç«¯çš„æ•°æ®" class="headerlink" title="å“åº”æ¶ˆæ¯ï¼šæœåŠ¡å™¨ç«¯å‘é€ç»™å®¢æˆ·ç«¯çš„æ•°æ®"></a>å“åº”æ¶ˆæ¯ï¼šæœåŠ¡å™¨ç«¯å‘é€ç»™å®¢æˆ·ç«¯çš„æ•°æ®</h3><ul><li><p>æ•°æ®æ ¼å¼ï¼š</p><ol><li><p><strong>å“åº”è¡Œ</strong></p><ol><li>ç»„æˆï¼šåè®®/ç‰ˆæœ¬ å“åº”çŠ¶æ€ç  çŠ¶æ€ç æè¿°</li><li>å“åº”çŠ¶æ€ç ï¼šæœåŠ¡å™¨å‘Šè¯‰å®¢æˆ·ç«¯æµè§ˆå™¨æœ¬æ¬¡è¯·æ±‚å’Œå“åº”çš„ä¸€ä¸ªçŠ¶æ€ã€‚<ol><li>çŠ¶æ€ç éƒ½æ˜¯3ä½æ•°å­— </li><li>åˆ†ç±»ï¼š<ol><li>1xxï¼šæœåŠ¡å™¨å°±æ”¶å®¢æˆ·ç«¯æ¶ˆæ¯ï¼Œä½†æ²¡æœ‰æ¥å—å®Œæˆï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´åï¼Œå‘é€1xxå¤šçŠ¶æ€ç </li><li>2xxï¼šæˆåŠŸã€‚ä»£è¡¨ï¼š200</li><li>3xxï¼šé‡å®šå‘ã€‚ä»£è¡¨ï¼š302(é‡å®šå‘)ï¼Œ304(è®¿é—®ç¼“å­˜)</li><li>4xxï¼šå®¢æˆ·ç«¯é”™è¯¯ã€‚<ul><li>ä»£è¡¨ï¼š<ul><li>404ï¼ˆè¯·æ±‚è·¯å¾„æ²¡æœ‰å¯¹åº”çš„èµ„æºï¼‰ </li><li>405ï¼šè¯·æ±‚æ–¹å¼æ²¡æœ‰å¯¹åº”çš„doXxxæ–¹æ³•</li></ul></li></ul></li><li>5xxï¼šæœåŠ¡å™¨ç«¯é”™è¯¯ã€‚ä»£è¡¨ï¼š500(æœåŠ¡å™¨å†…éƒ¨å‡ºç°å¼‚å¸¸)</li></ol></li></ol></li></ol></li><li><p><strong>å“åº”å¤´</strong></p></li><li><p>æ ¼å¼ï¼šå¤´åç§°ï¼š å€¼</p><pre><code>            2. å¸¸è§çš„å“åº”å¤´ï¼š       1. Content-Typeï¼šæœåŠ¡å™¨å‘Šè¯‰å®¢æˆ·ç«¯æœ¬æ¬¡å“åº”ä½“æ•°æ®æ ¼å¼ä»¥åŠç¼–ç æ ¼å¼           2. Content-dispositionï¼šï¼ˆæ‰“å¼€æ–¹å¼ï¼‰æœåŠ¡å™¨å‘Šè¯‰å®¢æˆ·ç«¯ä»¥ä»€ä¹ˆæ ¼å¼æ‰“å¼€å“åº”ä½“æ•°æ®                       * å€¼ï¼š                           * in-line:é»˜è®¤å€¼,åœ¨å½“å‰é¡µé¢å†…æ‰“å¼€                   * attachment;filename=xxxï¼ˆæç¤ºæ¡†çš„åå­—ï¼‰ï¼šä»¥é™„ä»¶å½¢å¼æ‰“å¼€å“åº”ä½“ã€‚æ–‡ä»¶ä¸‹è½½</code></pre></li><li><p><strong>å“åº”ç©ºè¡Œ</strong></p></li><li><p><strong>å“åº”ä½“:ä¼ è¾“çš„æ•°æ®</strong></p></li></ol><pre><code></code></pre></li><li><p>å“åº”å­—ç¬¦ä¸²æ ¼å¼</p><pre><code>    //å“åº”è¡Œï¼šåè®®/ç‰ˆæœ¬ å“åº”çŠ¶æ€ç  çŠ¶æ€ç æè¿°      HTTP/1.1 200 OK      //å“åº”å¤´      Content-Type: text/html;charset=UTF-8      Content-Length: 101      Date: Wed, 06 Jun 2018 07:08:42 GMT      //å“åº”ä½“      &lt;html&gt;        &lt;head&gt;          &lt;title&gt;$Title$&lt;/title&gt;        &lt;/head&gt;        &lt;body&gt;        hello , response        &lt;/body&gt;      &lt;/html&gt;</code></pre><pre><code></code></pre></li></ul><hr><h2 id="Responseå¯¹è±¡"><a href="#Responseå¯¹è±¡" class="headerlink" title="Responseå¯¹è±¡"></a>Responseå¯¹è±¡</h2><ul><li><p>åŠŸèƒ½ï¼šè®¾ç½®å“åº”æ¶ˆæ¯</p><ol><li><p>è®¾ç½®å“åº”è¡Œ</p><ol><li>æ ¼å¼ï¼šHTTP/1.1 200 ok</li><li>è®¾ç½®çŠ¶æ€ç ï¼šsetStatus(int sc) </li></ol></li><li><p>è®¾ç½®å“åº”å¤´ï¼šsetHeader(String name, String value) </p></li><li><p>è®¾ç½®å“åº”ä½“(åœ¨æµè§ˆå™¨ä¸Šå±•ç¤ºæ•°æ®)ï¼š</p><ul><li><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li><p>è·å–è¾“å‡ºæµ</p><ul><li><p>å­—ç¬¦è¾“å‡ºæµï¼šPrintWriter getWriter()</p></li><li><p>å­—èŠ‚è¾“å‡ºæµï¼šServletOutputStream getOutputStream()</p></li></ul></li><li><p>ä½¿ç”¨è¾“å‡ºæµï¼Œå°†æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯æµè§ˆå™¨</p></li></ol></li></ul></li></ol></li></ul><h3 id="1-é‡å®šå‘ï¼š"><a href="#1-é‡å®šå‘ï¼š" class="headerlink" title="1. é‡å®šå‘ï¼š"></a>1. é‡å®šå‘ï¼š</h3><pre><code>å¤æ‚æ–¹å¼ï¼š//1. è®¾ç½®çŠ¶æ€ç ä¸º302response.setStatus(302);//2.è®¾ç½®å“åº”å¤´locationresponse.setHeader("location","/day15/responseDemo2");ç®€å•æ–¹å¼ï¼šsendRedirect("è™šæ‹Ÿè·¯å¾„+èµ„æºåç§°")response.sendRedirect("/day15/responseDemo2");</code></pre><h4 id="é‡å®šå‘çš„ç‰¹ç‚¹-redirect"><a href="#é‡å®šå‘çš„ç‰¹ç‚¹-redirect" class="headerlink" title="é‡å®šå‘çš„ç‰¹ç‚¹:redirect"></a>é‡å®šå‘çš„ç‰¹ç‚¹:redirect</h4><ol><li>åœ°å€æ å‘ç”Ÿå˜åŒ–</li><li>é‡å®šå‘å¯ä»¥è®¿é—®å…¶ä»–ç«™ç‚¹(æœåŠ¡å™¨)çš„èµ„æº</li><li>é‡å®šå‘æ˜¯ä¸¤æ¬¡è¯·æ±‚ã€‚ä¸èƒ½ä½¿ç”¨requestå¯¹è±¡æ¥å…±äº«æ•°æ®</li></ol><h4 id="è½¬å‘çš„ç‰¹ç‚¹ï¼šforward"><a href="#è½¬å‘çš„ç‰¹ç‚¹ï¼šforward" class="headerlink" title="è½¬å‘çš„ç‰¹ç‚¹ï¼šforward"></a>è½¬å‘çš„ç‰¹ç‚¹ï¼šforward</h4><ol><li>è½¬å‘åœ°å€æ è·¯å¾„ä¸å˜</li><li>è½¬å‘åªèƒ½è®¿é—®å½“å‰æœåŠ¡å™¨ä¸‹çš„èµ„æº</li><li>è½¬å‘æ˜¯ä¸€æ¬¡è¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨requestå¯¹è±¡æ¥å…±äº«æ•°æ®</li></ol><h3 id="2-æœåŠ¡å™¨è¾“å‡ºå­—ç¬¦-å­—èŠ‚æ•°æ®åˆ°æµè§ˆå™¨ï¼ˆè®¾ç½®å“åº”ä½“ï¼‰"><a href="#2-æœåŠ¡å™¨è¾“å‡ºå­—ç¬¦-å­—èŠ‚æ•°æ®åˆ°æµè§ˆå™¨ï¼ˆè®¾ç½®å“åº”ä½“ï¼‰" class="headerlink" title="2.æœåŠ¡å™¨è¾“å‡ºå­—ç¬¦/å­—èŠ‚æ•°æ®åˆ°æµè§ˆå™¨ï¼ˆè®¾ç½®å“åº”ä½“ï¼‰"></a>2.æœåŠ¡å™¨è¾“å‡ºå­—ç¬¦/å­—èŠ‚æ•°æ®åˆ°æµè§ˆå™¨ï¼ˆè®¾ç½®å“åº”ä½“ï¼‰</h3><h4 id="æ­¥éª¤ï¼š"><a href="#æ­¥éª¤ï¼š" class="headerlink" title="æ­¥éª¤ï¼š"></a>æ­¥éª¤ï¼š</h4><ol><li>è·å–å­—ç¬¦è¾“å‡ºæµï¼šPrintWriter pw = response.getWriter();</li><li>è¾“å‡ºæ•°æ®ï¼šï¼špw.write(â€œ â€œ);</li></ol><h4 id="ä¹±ç é—®é¢˜ï¼š"><a href="#ä¹±ç é—®é¢˜ï¼š" class="headerlink" title="ä¹±ç é—®é¢˜ï¼š"></a>ä¹±ç é—®é¢˜ï¼š</h4><ol><li>PrintWriter pw = response.getWriter();è·å–çš„æµçš„é»˜è®¤ç¼–ç æ˜¯ISO-8859-1</li><li>è®¾ç½®è¯¥æµçš„é»˜è®¤ç¼–ç </li><li>å‘Šè¯‰æµè§ˆå™¨å“åº”ä½“ä½¿ç”¨çš„ç¼–ç </li></ol><p>//ç®€å•çš„å½¢å¼å®ç°2ã€3æ­¥éª¤ï¼Œè®¾ç½®ç¼–ç ï¼Œæ˜¯åœ¨==è·å–æµä¹‹å‰è®¾ç½®==</p><p>response.setContentType(â€œtext/html;charset=utf-8â€);<br>//åº•å±‚çš„å«ä¹‰ä¹Ÿå°±æ˜¯è®¾ç½®äº†å“åº”å¤´ContentTypeï¼štext/html;charset=utf-8</p><hr><h2 id="è·¯å¾„å†™æ³•ï¼š"><a href="#è·¯å¾„å†™æ³•ï¼š" class="headerlink" title="è·¯å¾„å†™æ³•ï¼š"></a>è·¯å¾„å†™æ³•ï¼š</h2><p>è·¯å¾„åˆ†ç±»</p><h3 id="ç›¸å¯¹è·¯å¾„ï¼šé€šè¿‡ç›¸å¯¹è·¯å¾„ä¸å¯ä»¥ç¡®å®šå”¯ä¸€èµ„æº"><a href="#ç›¸å¯¹è·¯å¾„ï¼šé€šè¿‡ç›¸å¯¹è·¯å¾„ä¸å¯ä»¥ç¡®å®šå”¯ä¸€èµ„æº" class="headerlink" title="ç›¸å¯¹è·¯å¾„ï¼šé€šè¿‡ç›¸å¯¹è·¯å¾„ä¸å¯ä»¥ç¡®å®šå”¯ä¸€èµ„æº"></a>ç›¸å¯¹è·¯å¾„ï¼šé€šè¿‡ç›¸å¯¹è·¯å¾„ä¸å¯ä»¥ç¡®å®šå”¯ä¸€èµ„æº</h3><ul><li>å¦‚ï¼š./index.html</li><li>ä¸ä»¥/å¼€å¤´ï¼Œä»¥.å¼€å¤´è·¯å¾„</li><li><strong>è§„åˆ™ï¼šæ‰¾åˆ°å½“å‰èµ„æºå’Œç›®æ ‡èµ„æºä¹‹é—´çš„ç›¸å¯¹ä½ç½®å…³ç³»</strong></li><li>./ï¼šå½“å‰ç›®å½•</li><li>../:åé€€ä¸€çº§ç›®å½•</li></ul><h3 id="ç»å¯¹è·¯å¾„ï¼šé€šè¿‡ç»å¯¹è·¯å¾„å¯ä»¥ç¡®å®šå”¯ä¸€èµ„æº"><a href="#ç»å¯¹è·¯å¾„ï¼šé€šè¿‡ç»å¯¹è·¯å¾„å¯ä»¥ç¡®å®šå”¯ä¸€èµ„æº" class="headerlink" title="ç»å¯¹è·¯å¾„ï¼šé€šè¿‡ç»å¯¹è·¯å¾„å¯ä»¥ç¡®å®šå”¯ä¸€èµ„æº"></a>ç»å¯¹è·¯å¾„ï¼šé€šè¿‡ç»å¯¹è·¯å¾„å¯ä»¥ç¡®å®šå”¯ä¸€èµ„æº</h3><ul><li>ä»¥httpå¼€å¤´çš„è·¯å¾„</li><li><strong>è§„åˆ™ï¼šåˆ¤æ–­å®šä¹‰çš„è·¯å¾„æ˜¯ç»™è°ç”¨çš„ï¼Ÿåˆ¤æ–­è¯·æ±‚å°†æ¥ä»å“ªå„¿å‘å‡º</strong></li><li><strong>å®¢æˆ·ç«¯æµè§ˆå™¨å‘å‡ºçš„è¯·æ±‚ï¼šéœ€è¦åŠ è™šæ‹Ÿç›®å½•(é¡¹ç›®çš„è®¿é—®è·¯å¾„)</strong><ul><li>å»ºè®®è™šæ‹Ÿç›®å½•åŠ¨æ€è·å–ï¼šrequest.getContextPath()</li><li><a> , <form> é‡å®šå‘â€¦</form></a></li><li><strong>æœåŠ¡å™¨å†…éƒ¨å‘ç”Ÿçš„è¯·æ±‚ï¼šä¸éœ€è¦åŠ è™šæ‹Ÿç›®å½•</strong></li></ul></li><li>è½¬å‘è·¯å¾„ã€ServletContextè·å–çœŸå®è·¯å¾„</li></ul><h3 id="æ ¹è·¯å¾„ï¼šè½¬å‘å’Œé‡å®šå‘ä½¿ç”¨"><a href="#æ ¹è·¯å¾„ï¼šè½¬å‘å’Œé‡å®šå‘ä½¿ç”¨" class="headerlink" title="æ ¹è·¯å¾„ï¼šè½¬å‘å’Œé‡å®šå‘ä½¿ç”¨"></a>æ ¹è·¯å¾„ï¼šè½¬å‘å’Œé‡å®šå‘ä½¿ç”¨</h3><ul><li>ä»¥/å¼€å¤´</li><li>ä¸€èˆ¬æƒ…å†µï¼šä»£è¡¨å½“å‰æœåŠ¡å™¨ï¼Œ/day15/responseDemo2.jsp</li><li>è½¬å‘ï¼šä»£è¡¨å½“å‰é¡¹ç›®  å¦‚ï¼š/responseDemo2.jsp</li><li>é‡å®šå‘ï¼šä»£è¡¨å½“å‰æœåŠ¡å™¨  å¦‚ï¼š/day15/responseDemo2.jsp</li></ul><hr><h2 id="ServletContextå¯¹è±¡ï¼š"><a href="#ServletContextå¯¹è±¡ï¼š" class="headerlink" title="ServletContextå¯¹è±¡ï¼š"></a>ServletContextå¯¹è±¡ï¼š</h2><ol><li><p>æ¦‚å¿µï¼šä»£è¡¨æ•´ä¸ªwebåº”ç”¨ï¼Œå¯ä»¥å’Œç¨‹åºçš„å®¹å™¨(æœåŠ¡å™¨)æ¥é€šä¿¡</p></li><li><p>è·å–ï¼š</p><ol><li>é€šè¿‡requestå¯¹è±¡è·å–<br> request.getServletContext();</li><li><strong>é€šè¿‡HttpServletè·å–</strong> this.getServletContext();</li></ol></li><li><p>åŠŸèƒ½ï¼š</p><ol><li><strong>è·å–MIMEç±»å‹ï¼š</strong><ul><li>MIMEç±»å‹:åœ¨äº’è”ç½‘é€šä¿¡è¿‡ç¨‹ä¸­å®šä¹‰çš„ä¸€ç§æ–‡ä»¶æ•°æ®ç±»å‹</li><li>æ ¼å¼ï¼š å¤§ç±»å‹/å°ç±»å‹   text/html        image/jpeg</li><li><h4 id="è·å–ï¼šString-getMimeType-String-file"><a href="#è·å–ï¼šString-getMimeType-String-file" class="headerlink" title="è·å–ï¼šString getMimeType(String file)"></a>è·å–ï¼šString getMimeType(String file)</h4></li></ul></li><li><strong>åŸŸå¯¹è±¡ï¼šå…±äº«æ•°æ®</strong><ol><li>setAttribute(String name,Object value)</li><li>getAttribute(String name)</li><li>removeAttribute(String name)</li></ol><ul><li><strong>ServletContextå¯¹è±¡èŒƒå›´ï¼šæ‰€æœ‰ç”¨æˆ·æ‰€æœ‰è¯·æ±‚çš„æ•°æ®</strong></li></ul></li><li><strong>è·å–æ–‡ä»¶çš„çœŸå®(æœåŠ¡å™¨)è·¯å¾„</strong></li></ol><p>  <strong>æ–¹æ³•ï¼šString getRealPath(String path)</strong></p><pre><code>   String b = context.getRealPath("/b.txt");//webç›®å½•ä¸‹èµ„æºè®¿é—®   System.out.println(b);   String c = context.getRealPath("/WEB-INF/c.txt");//WEB-INFç›®å½•ä¸‹çš„èµ„æºè®¿é—®   System.out.println(c);   String a = context.getRealPath("/WEB-INF/classes/a.txt");//srcç›®å½•ä¸‹çš„èµ„æºè®¿é—®   System.out.println(a);</code></pre></li></ol><h2 id="æ¡ˆä¾‹ï¼š"><a href="#æ¡ˆä¾‹ï¼š" class="headerlink" title="æ¡ˆä¾‹ï¼š"></a>æ¡ˆä¾‹ï¼š</h2><pre><code>* æ–‡ä»¶ä¸‹è½½éœ€æ±‚ï¼š    1. é¡µé¢æ˜¾ç¤ºè¶…é“¾æ¥    2. ç‚¹å‡»è¶…é“¾æ¥åå¼¹å‡ºä¸‹è½½æç¤ºæ¡†    3. å®Œæˆå›¾ç‰‡æ–‡ä»¶ä¸‹è½½</code></pre><pre><code>* åˆ†æï¼š    1. ä»»ä½•èµ„æºéƒ½å¿…é¡»å¼¹å‡ºä¸‹è½½æç¤ºæ¡†    2. ä½¿ç”¨å“åº”å¤´è®¾ç½®èµ„æºçš„æ‰“å¼€æ–¹å¼ï¼š        * content-disposition:attachment;filename=xxx</code></pre><pre><code>* æ­¥éª¤ï¼š    1. å®šä¹‰é¡µé¢ï¼Œç¼–è¾‘è¶…é“¾æ¥hrefå±æ€§ï¼ŒæŒ‡å‘Servletï¼Œä¼ é€’èµ„æºåç§°filename    2. å®šä¹‰Servlet        1. è·å–æ–‡ä»¶åç§°        2.0 è·å–ServletContextå¯¹è±¡ï¼Œè·å–æ–‡ä»¶çš„çœŸå®è·¯å¾„        2. ä½¿ç”¨å­—èŠ‚è¾“å…¥æµåŠ è½½æ–‡ä»¶è¿›å†…å­˜        3. æŒ‡å®šresponseçš„å“åº”å¤´ï¼š content-disposition:attachment;filename=xxxæ‰“å¼€æ–¹å¼                            å’ŒContent-type mimeTypeä¼ è¾“ç±»å‹        4. å°†æ•°æ®å†™å‡ºåˆ°responseè¾“å‡ºæµ(è¾“å…¥æµå’Œè¾“å‡ºæµçš„å¯¹å†™)</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jsp </tag>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSPè¯¦è§£</title>
      <link href="/2020/07/17/qian-duan/jsp/"/>
      <url>/2020/07/17/qian-duan/jsp/</url>
      
        <content type="html"><![CDATA[<h2 id="JSP"><a href="#JSP" class="headerlink" title="JSP:"></a>JSP:</h2><h3 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h3><ul><li>ä½œç”¨ï¼šç”¨äºé…ç½®JSPé¡µé¢ï¼Œå¯¼å…¥èµ„æºæ–‡ä»¶</li><li>æ ¼å¼ï¼š<br>  &lt;%@ æŒ‡ä»¤åç§° å±æ€§å1=å±æ€§å€¼1 å±æ€§å2=å±æ€§å€¼2 â€¦ %&gt;</li><li>åˆ†ç±»ï¼š<ol><li><strong>page        ï¼š é…ç½®JSPé¡µé¢çš„</strong><ul><li>contentTypeï¼šç­‰åŒäºresponse.setContentType()<ol><li>è®¾ç½®å“åº”ä½“çš„mimeç±»å‹ä»¥åŠå­—ç¬¦é›†</li><li>è®¾ç½®å½“å‰jspé¡µé¢çš„ç¼–ç ï¼ˆåªèƒ½æ˜¯é«˜çº§çš„IDEæ‰èƒ½ç”Ÿæ•ˆï¼Œå¦‚æœä½¿ç”¨ä½çº§å·¥å…·ï¼Œåˆ™éœ€è¦è®¾ç½®pageEncodingå±æ€§è®¾ç½®å½“å‰é¡µé¢çš„å­—ç¬¦é›†ï¼‰</li></ol></li><li>languageï¼šjava </li><li>importï¼šå¯¼åŒ…</li><li>errorPageï¼šå½“å‰é¡µé¢å‘ç”Ÿå¼‚å¸¸åï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°æŒ‡å®šçš„é”™è¯¯é¡µé¢</li><li>isErrorPageï¼šæ ‡è¯†å½“å‰ä¹Ÿæ˜¯æ˜¯å¦æ˜¯é”™è¯¯é¡µé¢ã€‚<ul><li>trueï¼šæ˜¯ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®å¯¹è±¡exception</li><li>falseï¼šå¦ã€‚é»˜è®¤å€¼ã€‚ä¸å¯ä»¥ä½¿ç”¨å†…ç½®å¯¹è±¡exception</li></ul></li></ul></li><li>** include    ï¼š é¡µé¢åŒ…å«çš„ã€‚å¯¼å…¥é¡µé¢çš„èµ„æºæ–‡ä»¶**<ul><li>&lt;%@include file=â€top.jspâ€%&gt;</li></ul></li><li><strong>taglib    ï¼š å¯¼å…¥èµ„æºï¼ˆæ ‡ç­¾åº“ï¼‰</strong><ul><li>&lt;%@ taglib prefix=â€câ€ uri=â€<a href="http://java.sun.com/jsp/jstl/core&quot;">http://java.sun.com/jsp/jstl/core"</a> %&gt;<ul><li>prefixï¼šå‰ç¼€ï¼Œè‡ªå®šä¹‰çš„</li></ul></li></ul></li><li><strong>æ³¨é‡Š:</strong><ol><li>htmlæ³¨é‡Šï¼šï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼Œåœ¨å“åº”ä½“é‡Œè¿˜ä¼šè¢«æ˜¾ç¤ºï¼‰ <!-- -->:åªèƒ½æ³¨é‡Šhtmlä»£ç ç‰‡æ®µ</li><li><strong>jspæ³¨é‡Šï¼šæ¨èä½¿ç”¨</strong> &lt;%â€“ â€“%&gt;ï¼šå¯ä»¥æ³¨é‡Šæ‰€æœ‰</li></ol></li></ol></li></ul><h3 id="å†…ç½®å¯¹è±¡"><a href="#å†…ç½®å¯¹è±¡" class="headerlink" title="å†…ç½®å¯¹è±¡"></a>å†…ç½®å¯¹è±¡</h3><ul><li>åœ¨jspé¡µé¢ä¸­ä¸éœ€è¦åˆ›å»ºï¼Œç›´æ¥ä½¿ç”¨çš„å¯¹è±¡</li><li>ä¸€å…±æœ‰9ä¸ªï¼š</li></ul><pre><code>å˜é‡å                    çœŸå®ç±»å‹                        ä½œç”¨- pageContext        PageContext                     å½“å‰é¡µé¢å…±äº«æ•°æ®ï¼Œè¿˜å¯è·å–å…¶ä»–å…«ä¸ªå†…ç½®å¯¹è±¡- request            HttpServletRequest             ä¸€æ¬¡è¯·æ±‚è®¿é—®çš„å¤šä¸ªèµ„æº(è½¬å‘)- session            HttpSession                    ä¸€æ¬¡ä¼šè¯çš„å¤šä¸ªè¯·æ±‚é—´- application        ServletContext                 æ‰€æœ‰ç”¨æˆ·é—´å…±äº«æ•°æ®- response            HttpServletResponse             å“åº”å¯¹è±¡- page                Object                        å½“å‰é¡µé¢(Servlet)çš„å¯¹è±¡  this- out                JspWriter                    è¾“å‡ºå¯¹è±¡ï¼Œæ•°æ®è¾“å‡ºåˆ°é¡µé¢ä¸Š- config            ServletConfig                Servletçš„é…ç½®å¯¹è±¡- exception            Throwable                    å¼‚å¸¸å¯¹è±¡</code></pre><hr><h2 id="MVCï¼šå¼€å‘æ¨¡å¼"><a href="#MVCï¼šå¼€å‘æ¨¡å¼" class="headerlink" title="MVCï¼šå¼€å‘æ¨¡å¼"></a>MVCï¼šå¼€å‘æ¨¡å¼</h2><ol><li><p>jspæ¼”å˜å†å²</p><ol><li>æ—©æœŸåªæœ‰servletï¼Œåªèƒ½ä½¿ç”¨responseè¾“å‡ºæ ‡ç­¾æ•°æ®ï¼Œéå¸¸éº»çƒ¦</li><li>åæ¥åˆjspï¼Œç®€åŒ–äº†Servletçš„å¼€å‘ï¼Œå¦‚æœè¿‡åº¦ä½¿ç”¨jspï¼Œåœ¨jspä¸­å³å†™å¤§é‡çš„javaä»£ç ï¼Œæœ‰å†™htmlè¡¨ï¼Œé€ æˆéš¾äºç»´æŠ¤ï¼Œéš¾äºåˆ†å·¥åä½œ</li><li>å†åæ¥ï¼Œjavaçš„webå¼€å‘ï¼Œå€Ÿé‰´mvcå¼€å‘æ¨¡å¼ï¼Œä½¿å¾—ç¨‹åºçš„è®¾è®¡æ›´åŠ åˆç†æ€§</li></ol></li><li><p>MVCï¼š</p></li><li><p>Mï¼šModelï¼Œæ¨¡å‹ã€‚JavaBean</p><ul><li>å®Œæˆå…·ä½“çš„ä¸šåŠ¡æ“ä½œï¼Œå¦‚ï¼šæŸ¥è¯¢æ•°æ®åº“ï¼Œå°è£…å¯¹è±¡</li></ul></li><li><p>Vï¼šViewï¼Œè§†å›¾ã€‚JSP</p><ul><li>å±•ç¤ºæ•°æ®</li></ul></li><li><p>Cï¼šControllerï¼Œæ§åˆ¶å™¨ã€‚Servlet</p><ul><li>è·å–ç”¨æˆ·çš„è¾“å…¥</li><li>è°ƒç”¨æ¨¡å‹</li><li>å°†æ•°æ®äº¤ç»™è§†å›¾è¿›è¡Œå±•ç¤º</li></ul></li><li><p>ä¼˜ç¼ºç‚¹ï¼š</p><ol><li>ä¼˜ç‚¹ï¼š<ol><li>è€¦åˆæ€§ä½ï¼Œæ–¹ä¾¿ç»´æŠ¤ï¼Œå¯ä»¥åˆ©äºåˆ†å·¥åä½œ</li><li>é‡ç”¨æ€§é«˜</li></ol></li><li>ç¼ºç‚¹ï¼š<ol><li>ä½¿å¾—é¡¹ç›®æ¶æ„å˜å¾—å¤æ‚ï¼Œå¯¹å¼€å‘äººå‘˜è¦æ±‚é«˜</li></ol></li></ol></li></ol><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/jsp1.png" alt="image-20200504140128503" style="zoom: 67%;"><hr><h2 id="ELè¡¨è¾¾å¼"><a href="#ELè¡¨è¾¾å¼" class="headerlink" title="ELè¡¨è¾¾å¼"></a>ELè¡¨è¾¾å¼</h2><ol><li><p>æ¦‚å¿µï¼šExpression Language ==è¡¨è¾¾å¼==è¯­è¨€</p></li><li><p><strong>ä½œç”¨ï¼šæ›¿æ¢å’Œç®€åŒ–jspé¡µé¢ä¸­javaä»£ç çš„ç¼–å†™</strong></p></li><li><p><strong>è¯­æ³•ï¼š${è¡¨è¾¾å¼}</strong></p></li><li><p>æ³¨æ„ï¼š</p><ul><li>jspé»˜è®¤æ”¯æŒelè¡¨è¾¾å¼çš„ã€‚å¦‚æœè¦å¿½ç•¥elè¡¨è¾¾å¼<ol><li>è®¾ç½®jspä¸­pageæŒ‡ä»¤ä¸­ï¼šisELIgnored=â€trueâ€ å¿½ç•¥å½“å‰jspé¡µé¢ä¸­æ‰€æœ‰çš„elè¡¨è¾¾å¼</li><li>${è¡¨è¾¾å¼} ï¼šå¿½ç•¥å½“å‰è¿™ä¸ªelè¡¨è¾¾å¼</li></ol></li></ul></li><li><p>ä½¿ç”¨ï¼š</p><ol><li><p>è¿ç®—ï¼š</p><ul><li>è¿ç®—ç¬¦ï¼š<ol><li>ç®—æ•°è¿ç®—ç¬¦ï¼š + - * /(div) %(mod)</li><li>æ¯”è¾ƒè¿ç®—ç¬¦ï¼š &gt; &lt; &gt;= &lt;= == !=</li><li>é€»è¾‘è¿ç®—ç¬¦ï¼š &amp;&amp;(and) ||(or) !(not)</li><li>ç©ºè¿ç®—ç¬¦ï¼š empty<ul><li>åŠŸèƒ½ï¼šç”¨äºåˆ¤æ–­å­—ç¬¦ä¸²ã€é›†åˆã€æ•°ç»„å¯¹è±¡æ˜¯å¦ä¸ºnullæˆ–è€…é•¿åº¦æ˜¯å¦ä¸º0</li><li>${empty list}:åˆ¤æ–­å­—ç¬¦ä¸²ã€é›†åˆã€æ•°ç»„å¯¹è±¡æ˜¯å¦ä¸ºnullæˆ–è€…é•¿åº¦ä¸º0</li><li>${not empty str}:è¡¨ç¤ºåˆ¤æ–­å­—ç¬¦ä¸²ã€é›†åˆã€æ•°ç»„å¯¹è±¡æ˜¯å¦ä¸ä¸ºnull å¹¶ä¸” é•¿åº¦&gt;0</li></ul></li></ol></li></ul></li><li><p><strong>è·å–å€¼</strong></p><ol><li>elè¡¨è¾¾å¼åªèƒ½ä»åŸŸå¯¹è±¡ä¸­è·å–å€¼<ol start="2"><li>è¯­æ³•ï¼š<ol><li><strong>${åŸŸåç§°.é”®å}ï¼šä»æŒ‡å®šåŸŸä¸­è·å–æŒ‡å®šé”®çš„å€¼</strong><ul><li>åŸŸåç§°ï¼š<ol><li>pageScope        â€“&gt; pageContext</li><li>requestScope     â€“&gt; request</li><li>sessionScope     â€“&gt; session</li><li>applicationScope â€“&gt; applicationï¼ˆServletContextï¼‰</li></ol></li><li>ä¸¾ä¾‹ï¼šåœ¨requeståŸŸä¸­å­˜å‚¨äº†name=å¼ ä¸‰</li><li>è·å–ï¼š${requestScope.name}</li></ul></li></ol></li></ol></li><li><strong>${é”®å}ï¼šè¡¨ç¤ºä¾æ¬¡ä»æœ€å°çš„åŸŸä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰è¯¥é”®å¯¹åº”çš„å€¼ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚</strong></li></ol></li></ol></li><li><p><strong>è·å–å¯¹è±¡ã€Listé›†åˆã€Mapé›†åˆçš„å€¼</strong></p><ol><li>å¯¹è±¡ï¼š${åŸŸåç§°.é”®å.å±æ€§å}<ul><li>æœ¬è´¨ä¸Šä¼šå»è°ƒç”¨å¯¹è±¡çš„getteræ–¹æ³•</li><li>å±æ€§åï¼šgetå’Œsetæ–¹æ³•å»æ‰get/setï¼Œå‰©ä½™å­—ç¬¦ä¸²é¦–å­—æ¯å»æ‰å¤§å†™ï¼Œå°±æ˜¯å±æ€§<pre><code>  * å¦‚ï¼šgetName --&gt; Name --&gt; name</code></pre></li></ul></li><li>Listé›†åˆï¼š${åŸŸåç§°.é”®å[ç´¢å¼•]}</li><li>Mapé›†åˆï¼š<ul><li>${åŸŸåç§°.é”®å.keyåç§°}<pre><code>* ${åŸŸåç§°.é”®å["keyåç§°"]}</code></pre></li></ul></li></ol></li><li><p>éšå¼å¯¹è±¡ï¼š</p><ul><li><p>elè¡¨è¾¾å¼ä¸­æœ‰11ä¸ªéšå¼å¯¹è±¡</p></li><li><p><strong>pageContextï¼š</strong></p></li><li><p>è·å–jspå…¶ä»–å…«ä¸ªå†…ç½®å¯¹è±¡</p><ul><li>${pageContext.request.contextPath}ï¼šåŠ¨æ€è·å–è™šæ‹Ÿç›®å½•</li></ul></li></ul></li></ol><hr><h2 id="JSTLï¼šæ ‡ç­¾åº“"><a href="#JSTLï¼šæ ‡ç­¾åº“" class="headerlink" title="JSTLï¼šæ ‡ç­¾åº“"></a>JSTLï¼šæ ‡ç­¾åº“</h2><ol><li>æ¦‚å¿µï¼šJavaServer Pages Tag Library  JSPæ ‡å‡†==æ ‡ç­¾åº“==</li></ol><ul><li>æ˜¯ç”±Apacheç»„ç»‡æä¾›çš„å¼€æºçš„å…è´¹çš„jspæ ‡ç­¾        &lt;æ ‡ç­¾&gt;</li></ul><ol start="2"><li><p>ä½œç”¨ï¼šç”¨äºç®€åŒ–å’Œæ›¿æ¢jspé¡µé¢ä¸Šçš„javaä»£ç         </p></li><li><p><strong>ä½¿ç”¨æ­¥éª¤ï¼š</strong></p><ol><li>å¯¼å…¥jstlç›¸å…³jaråŒ…</li><li>å¼•å…¥æ ‡ç­¾åº“ï¼štaglibæŒ‡ä»¤ï¼š  &lt;%@ taglib %&gt;</li></ol></li><li><p>ä½¿ç”¨æ ‡ç­¾</p></li><li><p><strong>å¸¸ç”¨çš„JSTLæ ‡ç­¾</strong></p></li><li><p>if:ç›¸å½“äºjavaä»£ç çš„ifè¯­å¥    1. å±æ€§ï¼š</p><pre><code>   *  test å¿…é¡»å±æ€§ï¼Œæ¥å—booleanè¡¨è¾¾å¼       * å¦‚æœè¡¨è¾¾å¼ä¸ºtrueï¼Œåˆ™æ˜¾ç¤ºifæ ‡ç­¾ä½“å†…å®¹ï¼Œå¦‚æœä¸ºfalseï¼Œåˆ™ä¸æ˜¾ç¤ºæ ‡ç­¾ä½“å†…å®¹       * ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œtestå±æ€§å€¼ä¼šç»“åˆelè¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨</code></pre><p>  æ³¨æ„ï¼š</p><ul><li>c:ifæ ‡ç­¾æ²¡æœ‰elseæƒ…å†µï¼Œæƒ³è¦elseæƒ…å†µï¼Œåˆ™å¯ä»¥åœ¨å®šä¹‰ä¸€ä¸ªc:ifæ ‡ç­¾</li></ul></li></ol><pre><code>``` &lt;c:if test="${number%2 != 0 }"&gt; //é€»è¾‘&lt;/c:if&gt;```</code></pre><ol start="2"><li>choose:ç›¸å½“äºjavaä»£ç çš„switchè¯­å¥    1. ä½¿ç”¨chooseæ ‡ç­¾å£°æ˜                     ç›¸å½“äºswitchå£°æ˜    2. ä½¿ç”¨whenæ ‡ç­¾åšåˆ¤æ–­                     ç›¸å½“äºcase<ul><li>å±æ€§ï¼štest    3. ä½¿ç”¨otherwiseæ ‡ç­¾åšå…¶ä»–æƒ…å†µçš„å£°æ˜        ç›¸å½“äºdefault</li></ul></li></ol><pre><code>``` &lt;c:choose&gt;&lt;c:when test="${number == 1}"&gt; æ˜ŸæœŸä¸€ &lt;/c:when&gt;&lt;c:when test="${number == 2}"&gt; æ˜ŸæœŸäºŒ &lt;/c:when&gt;&lt;c:otherwise&gt; è¾“å…¥æœ‰è¯¯ &lt;/c:otherwise&gt;&lt;/c:choose&gt;```</code></pre><ol start="3"><li><p><strong>foreach:ç›¸å½“äºjavaä»£ç çš„forè¯­å¥</strong></p><ol><li><p><strong>å®Œæˆé‡å¤æ“ä½œ</strong></p><ul><li><p>å±æ€§ï¼š</p><p>beginï¼šå¼€å§‹å€¼</p><p>endï¼šç»“æŸå€¼</p><p>varï¼šä¸´æ—¶å˜é‡</p><p>stepï¼šæ­¥é•¿</p><p>varStatusï¼šå¾ªç¯çŠ¶æ€å¯¹è±¡</p><ul><li><p>indexï¼šå®¹å™¨ä¸­å…ƒç´ çš„ç´¢å¼•ï¼Œä»0å¼€å§‹</p></li><li><p>countï¼šå¾ªç¯æ¬¡æ•°ï¼Œä»1å¼€å§‹</p></li></ul></li></ul><pre><code>&lt;c:forEach begin="1" end="10" var="i" step="2" varStatus="s"(è¿™ä¸ªä¸å¸¸ç”¨)&gt;${s.index} ${s.count}&lt;/c:forEach&gt;</code></pre></li><li><p><strong>éå†å®¹å™¨</strong></p><ul><li><p>å±æ€§ï¼š</p><p>itemsï¼šå®¹å™¨å¯¹è±¡</p><p>varï¼šå®¹å™¨ä¸­å…ƒç´ çš„ä¸´æ—¶å˜é‡ï¼Œç›¸å½“äºfor eachä¸­çš„å…ƒç´ åç§°</p><p>varStatusï¼šå¾ªç¯çŠ¶æ€å¯¹è±¡</p><ul><li><p>indexï¼šå®¹å™¨ä¸­å…ƒç´ çš„ç´¢å¼•ï¼Œä»0å¼€å§‹</p></li><li><p>countï¼šå¾ªç¯æ¬¡æ•°ï¼Œä»1å¼€å§‹</p></li></ul></li></ul><pre><code>&lt;%List list = new ArrayList();list.add("aaa");request.setAttribbute("list",list);%&gt;&lt;c:forEach items="${list}" var="str" varStatus="s"&gt;//ç´¢å¼• å¾ªç¯æ¬¡æ•° éå†çš„å…ƒç´ ${s.index} ${s.count} ${str}&lt;/c:forEach&gt;</code></pre></li></ol></li></ol><hr><h2 id="ä¸‰å±‚æ¶æ„"><a href="#ä¸‰å±‚æ¶æ„" class="headerlink" title="ä¸‰å±‚æ¶æ„"></a>ä¸‰å±‚æ¶æ„</h2><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/jsp3.png" alt="image-20200504175818407"></p><ol><li>ç•Œé¢å±‚(è¡¨ç¤ºå±‚)ï¼šç”¨æˆ·çœ‹çš„å¾—ç•Œé¢ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ç•Œé¢ä¸Šçš„ç»„ä»¶å’ŒæœåŠ¡å™¨è¿›è¡Œäº¤äº’</li><li>ä¸šåŠ¡é€»è¾‘å±‚ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘çš„ã€‚</li><li>æ•°æ®è®¿é—®å±‚ï¼šæ“ä½œæ•°æ®å­˜å‚¨æ–‡ä»¶ã€‚</li></ol><hr><h2 id="æ¡ˆä¾‹1ï¼šç”¨æˆ·ä¿¡æ¯åˆ—è¡¨å±•ç¤º"><a href="#æ¡ˆä¾‹1ï¼šç”¨æˆ·ä¿¡æ¯åˆ—è¡¨å±•ç¤º" class="headerlink" title="æ¡ˆä¾‹1ï¼šç”¨æˆ·ä¿¡æ¯åˆ—è¡¨å±•ç¤º"></a>æ¡ˆä¾‹1ï¼šç”¨æˆ·ä¿¡æ¯åˆ—è¡¨å±•ç¤º</h2><pre><code>bug1:è·¯å¾„é”™è¯¯404    ä½¿ç”¨è·³è½¬æ—¶ï¼šä¸åŠ è™šæ‹Ÿè·¯å¾„ï¼Œå¹¶ä¸”æ³¨æ„èµ„æºåç§°çš„å¤§å°å†™    ä½¿ç”¨è¶…é“¾æ¥ï¼ŒæŒ‰é’®æ—¶ï¼šåŠ è™šæ‹Ÿè·¯å¾„ï¼Œæ³¨æ„å¤§å°å†™</code></pre><pre><code>bug2:æ·»åŠ ç”¨æˆ·åŠŸèƒ½ï¼Œä¸çŸ¥é“æ€ä¹ˆåœ¨æ“ä½œæ•°æ®åº“ç±»ä¸­è·å–è¡¨å•æ•°æ®    å°†æ·»åŠ ç”¨æˆ·æ–¹æ³•è®¾ç½®æœ‰å‚ï¼Œä¼ å…¥ä¸€ä¸ªservletè·å–è¡¨å•æ•°æ®åå¹¶å°è£…å¥½çš„å¯¹è±¡å³å¯</code></pre><pre><code>bug3.1:ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯åŠŸèƒ½ï¼Œæ€§åˆ«è·å–ä¸åˆ°å€¼    æ€§åˆ«çš„nameå€¼æ˜¯sexï¼Œè€Œæ•°æ®åº“çš„æ˜¯gender,ä¿®æ”¹ç›¸åŒå³å¯bug3.2:ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ï¼Œè·å–å€¼æˆåŠŸï¼Œä½†æ— æ³•ä¿®æ”¹æ•°æ®åº“å€¼    sqlè¯­å¥ä¹¦å†™é”™è¯¯ï¼Œè™½ç„¶æ²¡æœ‰æŠ¥é”™ï¼Œä½†æ˜¯åº”ä¿®æ”¹ï¼šå½“éœ€è¦æ›´æ”¹å¤šä¸ªå€¼æ—¶ åº”è¯¥ç”¨","è¿æ¥ï¼Œè€Œä¸æ˜¯"and"    å¦‚ï¼š æ­£ç¡®:update user set gender=?,age=? where name=?;        é”™è¯¯ï¼šupdate user set gender=? and age=? where name=?;        bug3.3:ç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼Œè·å–å€¼æˆåŠŸï¼Œä½†æ˜¾ç¤ºè´¦å·å¯†ç é”™è¯¯    sqlè¯­å¥ä¹¦å†™é”™è¯¯,çœ‹çœ‹where åçš„å‚æ•°åæ˜¯å¦å‡ºé”™    å¦‚ï¼šé”™ï¼šselect * from user where name=?        å®é™…ä¸Šæ˜¯username=ï¼Ÿ</code></pre><ol><li><p>éœ€æ±‚ï¼šç”¨æˆ·ä¿¡æ¯çš„å¢åˆ æ”¹æŸ¥æ“ä½œ</p></li><li><p>è®¾è®¡ï¼š</p><ol><li>æŠ€æœ¯é€‰å‹ï¼šServlet+JSP+MySQL+JDBCTempleat+Duird+BeanUtilS+tomcat</li><li>æ•°æ®åº“è®¾è®¡ï¼š<br> create database day17; â€“ åˆ›å»ºæ•°æ®åº“<br> use day17;                â€“ ä½¿ç”¨æ•°æ®åº“<br> create table user(   â€“ åˆ›å»ºè¡¨<pre><code> id int primary key auto_increment, name varchar(20) not null, gender varchar(5), age int, address varchar(32), qq    varchar(20), email varchar(50)</code></pre> );</li></ol></li><li><p>å¼€å‘ï¼šï¼ˆç¨‹åºå‘˜ä¸»è´Ÿè´£ç¬¬äºŒæ­¥ï¼‰</p><ol><li><p>ç¯å¢ƒæ­å»º</p><ol><li>åˆ›å»ºæ•°æ®åº“ç¯å¢ƒ</li><li>åˆ›å»ºé¡¹ç›®ï¼Œå¯¼å…¥éœ€è¦çš„jaråŒ…</li></ol></li><li><p>ç¼–ç </p></li></ol></li><li><p>æµ‹è¯•</p></li><li><p>éƒ¨ç½²è¿ç»´</p></li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/jsp2.png" alt="image-20200504203115861"></p><pre><code>æŸ¥è¯¢åŠŸèƒ½åˆ†æï¼š1.åˆ›å»ºæ•°æ®åº“ï¼Œç¯å¢ƒæ­å»º(å¯¼å…¥jaråŒ…ï¼Œå¯¼å…¥é™æ€ç½‘é¡µ)2.åˆ›å»ºweb.servletã€serviceã€daoåŒ…3.ç‚¹å‡»index.jspè¿›å…¥UserListSerlet4.UserListSerletï¼šè°ƒç”¨serviceå±‚ä¸­çš„findAllï¼ˆï¼‰æ–¹æ³•,å°†è¿”å›å€¼userå¯¹è±¡å­˜å‚¨è¿›requeståŸŸä¸­ï¼Œå¹¶è½¬å‘åˆ°list.jspé¡µé¢5.serviceå±‚ï¼šéœ€è¦ç”¨æ¥å£å®ç°å¤šæ€ï¼Œå®ç°ç±»è°ƒç”¨Daoå±‚ä¸­çš„findAllï¼ˆï¼‰æ–¹æ³•6.0 åˆ›å»ºdomainåŒ…ï¼Œåˆ›å»ºuserçš„javaBeanç±»6.daoå±‚ï¼šéœ€è¦ç”¨æ¥å£å®ç°å¤šæ€ï¼Œå®ç°ç±»å®ç°JDBCæ“ä½œæ•°æ®åº“åŠŸèƒ½å®ç°æŸ¥è¯¢ï¼Œè¿”å›userå¯¹è±¡ï¼ˆä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ã€JdbcTemplateæŠ€æœ¯ï¼‰7.list.jspï¼šå°†é™æ€æ•°æ®åˆ æ‰ï¼Œè·å–requeståŸŸä¸­çš„æ•°æ®å±•ç¤ºåœ¨é¡µé¢ä¸Š</code></pre><h2 id="æ¡ˆä¾‹2ï¼šç»¼åˆæ¡ˆä¾‹åˆ†æ"><a href="#æ¡ˆä¾‹2ï¼šç»¼åˆæ¡ˆä¾‹åˆ†æ" class="headerlink" title="æ¡ˆä¾‹2ï¼šç»¼åˆæ¡ˆä¾‹åˆ†æ"></a>æ¡ˆä¾‹2ï¼šç»¼åˆæ¡ˆä¾‹åˆ†æ</h2><pre><code>ç™»å½•ï¼š1.è°ƒæ•´é¡µé¢å¸ƒå±€2.å°†ç™»å½•ç•Œé¢è®¾ç½®æˆjspï¼Œå¹¶ä¸”å±•ç¤ºéªŒè¯ç 3.0å°†æ•°æ®åº“å¢åŠ username,passwordï¼Œå¹¶ä¸”javaBeanä¸­ä¹Ÿå¢åŠ ç›¸åº”çš„æˆå‘˜å˜é‡å’Œgetsetæ–¹æ³•3.ç™»å½•è·³è½¬åˆ°loginServletï¼Œè·å–æ•°æ®ï¼Œå®¡æ ¸éªŒè¯ç ï¼Œå®¡æ ¸è´¦å·å¯†ç ï¼Œå‚¨å­˜ä¿¡æ¯ï¼Œé‡å®šå‘åˆ°index.jspï¼Œå¹¶æ˜¾ç¤ºåå­—ï¼Œæ¬¢è¿ä½ 4.éªŒè¯ç æˆ–è´¦å·å¯†ç å¤±è´¥ï¼Œéƒ½è½¬å‘å›login.jspæ·»åŠ åŠŸèƒ½ï¼šæ³¨æ„ï¼šadd()éœ€è¦æ·»åŠ å‚æ•°add.jspï¼šæäº¤åˆ°UserAddServletUserAddSerclet:è®¾ç½®ç¼–ç æ ¼å¼ï¼Œè·å–å€¼ï¼Œè°ƒç”¨serviceå±‚ä¸­çš„add()ï¼Œè½¬å‘åˆ°list.jspé¡µé¢UserServiceæ¥å£ï¼špublic void add(User newUser);UserServiceImplï¼špublic void add(User newUser){ dao.add(User newUser)}UserDaoæ¥å£ï¼špublic void add(User newUser);UserDaoImplï¼špublic void add(User newUser){ jdbcæ“ä½œæ•°æ®åº“}update user set gender=? and qq=? where name=?ä¿®æ”¹ï¼š1.list.jspç‚¹å‡»ä¿®æ”¹è·³è½¬åˆ°findUserServlet2.fidUserServletä¸­è·å–idä¿¡æ¯ï¼Œè°ƒç”¨findUseræ–¹æ³•æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œå­˜å‚¨åˆ°requestä¸­ï¼Œè·³è½¬åˆ°update.jsp3.update.jspè·å–ä¿¡æ¯ï¼Œå›å†™ä¿¡æ¯ï¼ˆåŠ ä¸Šéšè—åŸŸidï¼Œç”¨äºé€šè¿‡idæ¥ä¿®æ”¹å¯¹åº”çš„æ•°æ®ï¼‰4.æäº¤è·³è½¬åˆ°updateServletï¼Œè·å–è¡¨å•ä¿¡æ¯ï¼Œè°ƒç”¨æ•°æ®åº“æ–¹æ³•è¿›è¡Œä¿®æ”¹æ•°æ®5.uodateServletè·³è½¬åˆ°list.jspåˆ é™¤é€‰ä¸­ï¼š    è¦æ±‚ï¼š    1.å¤é€‰æ¡†å…¨é€‰ã€å…¨ä¸é€‰    2.ç‚¹å‡»åˆ é™¤é€‰ä¸­ä¼šæäº¤å¯¹åº”idå€¼    3.åˆ é™¤é€‰ä¸­åŠ ä¸ªåˆ¤æ–­ï¼Œç¡®å®šæ˜¯å¦è¦åˆ é™¤    4.ä¸é€‰æ—¶ç‚¹åˆ é™¤é€‰ä¸­æ—¶ï¼Œä¸æŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œå…ˆåˆ¤æ–­å¤é€‰æ¡†çš„çŠ¶æ€å†è¿›è¡Œåˆ é™¤æ“ä½œ1.ç”¨javascriptï¼Œè·å–æ€»å¤é€‰æ¡†idï¼Œè®¾ç½®å•å‡»äº‹ä»¶ï¼Œäº‹ä»¶ä¸­è·å–å…¶ä»–å¤é€‰æ¡†çš„nameï¼Œéå†å°†å…¶checkedçŠ¶æ€ä¸æ€»å¤é€‰æ¡†ç›¸åŒ2.1å°†å¤é€‰æ¡†è®¾ç½®valueå€¼ï¼Œè¡¨æ ¼å¤–åµŒå¥—è¡¨å•ï¼Œåˆ é™¤é€‰ä¸­æŒ‰é’®è®¾ç½®å•å‡»äº‹ä»¶ï¼Œè®©å…¶æ‹¥æœ‰æäº¤è¡¨å•åŠŸèƒ½2.2æäº¤åˆ°delSelectServletï¼Œè·å–æ‰€æœ‰idå€¼ï¼ˆæ•°ç»„ï¼‰ï¼Œè°ƒç”¨serviceä¸­æ–¹æ³•è½¬å…¥æ•°ç»„ï¼Œè·³è½¬åˆ°listServlet2.3serviceä¸­éå†æ•°ç»„ï¼Œåˆ†åˆ«è°ƒç”¨delæ–¹æ³•ï¼Œä¼ å…¥id3.ç”¨javascriptï¼Œconfirmï¼ˆï¼‰å®ç°4.å‰ç«¯ï¼šç”¨javascriptï¼Œè·å–æ‰€æœ‰å¤é€‰æ¡†çš„nameï¼Œéå†å°†å…¶checkedçŠ¶æ€æ˜¯å¦ä¸ºcheckedï¼Œæœ‰ä¸€ä¸ªå°±å°†flagå˜ä¸ºtrueè¿›è¡Œåˆ é™¤æ“ä½œ  åç«¯ï¼š2.3éå†æ•°ç»„å‰ï¼Œåˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ä¸ºç©ºæˆ–é•¿åº¦å¤§äº0</code></pre><p>åˆ†é¡µæŸ¥è¯¢ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/jsp4.png" alt="image-20200506133933677"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/jsp5.png" alt="image-20200506134007778"></p><pre><code>bug1:å®ç°å½“å‰é¡µé¢è¢«æ¿€æ´»çŠ¶æ€ï¼ŒæŒ‰é”®æ¶ˆå¤±æ£€æŸ¥ä»£ç ï¼š&lt;c:if test="${pb.currentPage == i}"&gt; &lt;li class="active"&gt;    æ³¨æ„ï¼šä¸æ˜¯${pb.currentPage}==${i}||${pb.currentPage}==ié‡å¯æœåŠ¡å™¨</code></pre><pre><code>bug2:å®ç°ä¸‹ä¸€é¡µç¦ç”¨çŠ¶æ€ï¼ŒæŒ‰é’®åˆ†ç¦»æ£€æŸ¥ä»£ç ï¼šä¸è¦å¤šå¤åˆ¶ä»£ç </code></pre><pre><code>bug3:NumberFormatException: nullè·å–çš„æ•°æ®ä¸ºç©ºif(currentPage==null||"".equals(currentPage)){            currentPage="1";}if(rows==null||"".equals(rows)){            rows="5";}</code></pre><pre><code>åˆ†é¡µæŸ¥è¯¢åˆ†æï¼š    è¦æ±‚ï¼š    1.ç‚¹å‡»é¡µæ•°æäº¤å½“å‰é¡µç ï¼ŒæŸ¥è¯¢çš„æ¡æ•°    2.å®ç°åˆ†é¡µæŸ¥è¯¢5æ¡æ•°æ®    3.è·å–æ€»è®°å½•æ•°ï¼Œæ€»é¡µç ï¼Œå½“å‰é¡µç ï¼Œæ¯é¡µçš„æ•°æ®    4.ä¿®æ”¹åŠ¨æ€æ€»è®°å½•æ•°ã€æ€»é¡µç     5.å®ç°ä¸Šä¸‹é¡µåŠŸèƒ½    6.å®ç°å½“å‰é¡µé¢ä¸ºæ¿€æ´»çŠ¶æ€ï¼ˆå‰åç«¯éƒ½è¦è®¾ç½®ï¼‰    7.å®ç°å½“å‰é¡µé¢ä¸º1æˆ–æœ€åä¸€é¡µï¼Œä¸Šä¸‹ä¸€é¡µåŠŸèƒ½è¢«ç¦ç”¨ï¼ˆå‰åç«¯éƒ½è¦è®¾ç½®ï¼‰1.ç‚¹å‡»é¡µç ï¼Œè·³è½¬åˆ°FindUserByPageServletï¼Œå¹¶ä¼ å‚currentPageå½“å‰é¡µé¢å’Œrowsæ¯é¡µæ˜¾ç¤ºæ¡æ•°2.0 åˆ›å»ºPageBeanç±»ï¼Œå‚æ•°:æ€»è®°å½•æ•°ã€æ€»é¡µç ã€å½“å‰é¡µç ã€æŸ¥è¯¢æ¡æ•°ã€æ¯é¡µæ•°æ®2.FindUserByPageServletï¼šè·å–å‚æ•°currentPageã€rowsï¼Œè°ƒç”¨Serviceä¸­çš„findUserByPage(ä¼ å…¥å‚æ•°)ï¼Œè¿”å›ä¸€ä¸ªPageBeané›†åˆï¼Œå°†PageBeanå­˜å…¥requestä¸­ï¼Œè½¬å‘åˆ°list.jspè¿›è¡Œå±•ç¤ºï¼Œå°†list.jsp:è¡¨æ ¼éå†items:${pb.list}3.Serviceä¸­findUserByPageæ–¹æ³•å®ç°ï¼š    åˆ›å»ºPageBeanå¯¹è±¡ï¼Œ    å°†å½“å‰é¡µç ã€æŸ¥è¯¢æ¡æ•°ä¿å­˜è¿›å¯¹è±¡ä¸­ï¼Œ    è°ƒç”¨daoä¸­çš„findTotalCount()è·å–æ€»è®°å½•æ•°å¹¶ä¿å­˜è¿›å¯¹è±¡ä¸­ï¼Œ    è®¡ç®—æ€»é¡µç ï¼šæ€»è®°å½•æ•°/æŸ¥è¯¢æ¡æ•°ï¼Œå‘ä¸Šå–æ•´,ä¿å­˜è¿›å¯¹è±¡    è®¡ç®—å¼€å§‹æŸ¥è¯¢çš„é¡µæ•°ï¼š(å½“å‰é¡µæ•°-1)*æŸ¥è¯¢æ¡æ•°    è°ƒç”¨daoä¸­çš„findByPageï¼ˆä¼ å…¥å¼€å§‹æŸ¥è¯¢çš„é¡µæ•°ã€æŸ¥è¯¢æ¡æ•°ï¼‰æ–¹æ³•è·å–æ¯é¡µæ•°æ®ï¼Œä¿å­˜è¿›å¯¹è±¡    è¿”å›å¯¹è±¡3.1daoä¸­findTotalCount()ã€findByPageï¼ˆï¼‰æ–¹æ³•å®ç°4.${pb.totalCount} ${pb.totalPage}5.ä¸Šä¸€é¡µï¼šcurrentPage=${pb.currentPage-1}&amp;rows=5ä¸‹ä¸€é¡µï¼šcurrentPage=${pb.currentPage+1}&amp;rows=5å…¶ä»–é¡µæ•°åœ¨éå†ä¸­æ”¹&lt;c:forEach begin="1" end="${pb.totalPage}" var="i"&gt;6.å‰ç«¯ï¼š&lt;c:if test="${pb.currentPage == i}"&gt; &lt;li class="active"&gt;   åç«¯ï¼šif(currentPage&lt;=0){            currentPage=1;        }7.&lt;c:if test="${pb.currentPage == 1}"&gt; &lt;li class="disabled"&gt;</code></pre><p>å¤æ‚æ¡ä»¶æŸ¥è¯¢ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/jsp6.png" alt="image-20200506181255362"></p><pre><code>bug0:getParameterMapè·å–ä¸åˆ°å€¼1.formè¡¨å•æ²¡æœ‰action2.inputè¡¨å•æ²¡æœ‰nameæˆ–nameå†™é”™</code></pre><pre><code>bug1:æ‹¼æ¥å­—ç¬¦ä¸²å°†currentPageå’Œrowä¹Ÿæ‹¼äº†è¿›å»åœ¨éå†keyçš„æ—¶å€™ï¼ŒåŠ ä¸ªifåˆ¤æ–­å°†ä¸¤ä¸ªè·³è¿‡if("currentPage".equals(key)||"rows".equals(key)){                continue;}</code></pre><pre><code>bug2:æ‹¼æ¥å­—ç¬¦ä¸²éœ€è¦æ³¨æ„çš„ç»†èŠ‚ï¼š1.ä½¿ç”¨StringBuilder2.æ‹¼æ¥æ—¶è¦åŠ ç©ºæ ¼ ä¸ç„¶ä¼šæ‹¼æ¥åœ¨ä¸€èµ·ï¼Œä¸ç¬¦åˆsqlè¯­æ³•3.ï¼Ÿä»£è¡¨çš„å€¼ç”¨ é›†åˆparams.toArray()æ¥å†™ï¼štemplate.queryForObject(sql,Integer.class,params.toArray());</code></pre><pre><code>bug3:è·å¾—å‚æ•°éƒ½æ­£ç¡®ï¼Œæ‹¼æ¥å­—ç¬¦ä¸²ä¹Ÿæ­£ç¡®ï¼ŒæŸ¥çš„å€¼ä¸å¯¹æ²¡æœ‰æ·»åŠ %ï¼Œå¦‚ï¼šselect * from user where 1 = 1 and name like %æ%æ‰€æœ‰åœ¨è·å–å€¼æ—¶åº”è¯¥åŠ ä¸Š%params.add("%"+value+"%");</code></pre><pre><code>å¤æ‚æ¡ä»¶æŸ¥è¯¢åˆ†æï¼š    è¦æ±‚ï¼š    1.è¾“å…¥å€¼ æ¨¡ç³ŠæŸ¥è¯¢å‡ºè®°å½•æ•°ï¼Œé¡µæ•°    2.æŒ‰ç…§åˆ†é¡µæŸ¥è¯¢å‡ºå¯¹åº”çš„æ•°æ®    3.æŸ¥è¯¢ä¹‹åä¿¡æ¯å›å†™    4.ç‚¹å‡»å…¶ä»–é¡µä¿¡æ¯ä¼ å‚    åˆ†æï¼š1.ç‚¹å‡»æŸ¥è¯¢ï¼Œæäº¤è¡¨å•ï¼Œè·³è½¬åˆ°FindUserByPageServlet2.FindUserByPageServletï¼šè·å–åˆ°è¡¨å•çš„mapé›†åˆï¼Œè°ƒç”¨Serviceä¸­çš„findUserByPageï¼ˆä¼ å…¥mapé›†åˆï¼‰3.Serviceä¸­findUserByPageæ–¹æ³•å®ç°ï¼šè°ƒç”¨daoä¸­çš„findTotalCount(ä¼ å…¥mapé›†åˆ)4.daoä¸­findTotalCount()æ–¹æ³•å®ç°ï¼Œ    Map.keySetè·å–é”®é›†åˆï¼Œå†ç”¨éå†é”®é›†åˆè·å–valueï¼Œ    åˆ¤æ–­valueæ˜¯å¦æœ‰å€¼ï¼Œå¦‚æœæœ‰å€¼è¯æ˜ç”¨æˆ·è¾“å…¥äº†å€¼ï¼Œ    æ‹¼æ¥å­—ç¬¦ä¸² select * from user where 1 = 1 ,sb.append(" and "+key+" like "?) ,è·å–å€¼ params    template.queryForObject(sql,Integer.class,params.toArray())5.Serviceä¸­findUserByPageæ–¹æ³•å®ç°ï¼šè°ƒç”¨daoä¸­çš„findByPage(ä¼ å…¥mapé›†åˆ)6.daoä¸­çš„findByPage()æ–¹æ³•å®ç°ï¼Œ    ä¸4ç›¸åŒï¼Œé¢å¤–å€¼paramsä¸­åŠ ä¸Šå‚æ•°startPageã€rows    æ³¨æ„ï¼šåŠ å‚æ•°åº”è¯¥å°† paramsçš„æ³›å‹æ”¹æˆObjectï¼Œå› ä¸ºç±»å‹å¯ä»¥ä¸åŒ7.ä¿¡æ¯å›å†™ï¼š    å°†conditionè·å–åˆ°åï¼Œå¯ä»¥å­˜å…¥requestä¸­    å°†è¡¨å•çš„valueå€¼æ”¹ä¸ºåŠ¨æ€è·å–${condition.email[0]}    æ³¨æ„ï¼šå­˜çš„conditionæ˜¯mapé›†åˆï¼Œè·å–çš„æ—¶å€™åº”è¯¥åŠ ä¸‹æ ‡[0]8.ç‚¹å‡»å…¶ä»–é¡µä¿¡æ¯ä¼ å‚:å°†åˆ†é¡µå¯¼èˆªçš„é“¾æ¥éƒ½åŠ ä¸ŠåŠ¨æ€å‚æ•°ï¼š    &amp;name=${condition.name[0]}&amp;address=${condition.address[0]}â€¦â€¦</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jsp </tag>
            
            <tag> elã€jstl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>requestè¯¦è§£ã€BeanUtilså·¥å…·ç±»</title>
      <link href="/2020/07/16/qian-duan/request/"/>
      <url>/2020/07/16/qian-duan/request/</url>
      
        <content type="html"><![CDATA[<h2 id="request"><a href="#request" class="headerlink" title="request"></a>request</h2><ol><li><p>requestå¯¹è±¡å’Œresponseå¯¹è±¡çš„åŸç†</p><ol><li>requestå’Œresponseå¯¹è±¡æ˜¯ç”±æœåŠ¡å™¨åˆ›å»ºçš„ã€‚æˆ‘ä»¬æ¥ä½¿ç”¨å®ƒä»¬</li><li>requestå¯¹è±¡æ˜¯æ¥è·å–è¯·æ±‚æ¶ˆæ¯ï¼Œresponseå¯¹è±¡æ˜¯æ¥è®¾ç½®å“åº”æ¶ˆæ¯</li></ol></li><li><p>requestå¯¹è±¡ç»§æ‰¿ä½“ç³»ç»“æ„ï¼š<br>ServletRequest        â€“    æ¥å£</p><p>â€‹    |    ç»§æ‰¿</p><p>HttpServletRequest    â€“ æ¥å£</p><pre><code>|    å®ç°</code></pre><p>org.apache.catalina.connector.RequestFacade ç±»(tomcat)</p></li></ol><h3 id="requeståŠŸèƒ½ï¼š"><a href="#requeståŠŸèƒ½ï¼š" class="headerlink" title="requeståŠŸèƒ½ï¼š"></a>requeståŠŸèƒ½ï¼š</h3><h4 id="è·å–è¯·æ±‚æ¶ˆæ¯æ•°æ®"><a href="#è·å–è¯·æ±‚æ¶ˆæ¯æ•°æ®" class="headerlink" title="è·å–è¯·æ±‚æ¶ˆæ¯æ•°æ®"></a>è·å–è¯·æ±‚æ¶ˆæ¯æ•°æ®</h4><ol><li><p><strong>è·å–è¯·æ±‚è¡Œæ•°æ®</strong></p><ul><li><p>GET /day14/demo1?name=zhangsan HTTP/1.1</p></li><li><p>æ–¹æ³•ï¼š</p><ol><li><p>è·å–è¯·æ±‚æ–¹å¼ ï¼šGET</p><ul><li>String getMethod()  </li></ul></li><li><p><strong>(*)è·å–è™šæ‹Ÿç›®å½•ï¼š/day14</strong></p><ul><li>String getContextPath()</li></ul></li><li><p>è·å–Servletè·¯å¾„: /demo1</p><ul><li>String getServletPath()</li></ul></li><li><p>è·å–getæ–¹å¼è¯·æ±‚å‚æ•°ï¼šname=zhangsan</p></li></ol><ul><li>String getQueryString()</li></ul><ol start="5"><li><strong>(*)è·å–è¯·æ±‚URIï¼š/day14/demo1</strong><ul><li>String getRequestURI():        /day14/demo1</li></ul></li></ol><ul><li><p>StringBuffer getRequestURL()  :<a href="http://localhost/day14/demo1">http://localhost/day14/demo1</a></p></li><li><p>URL:ç»Ÿä¸€èµ„æºå®šä½ç¬¦ ï¼š <a href="http://localhost/day14/demo1">http://localhost/day14/demo1</a>    ä¸­åäººæ°‘å…±å’Œå›½</p></li><li><p>URIï¼šç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ : /day14/demo1                    å…±å’Œå›½</p></li></ul><ol start="6"><li>è·å–åè®®åŠç‰ˆæœ¬ï¼šHTTP/1.1</li></ol><ul><li>String getProtocol()</li></ul><ol start="7"><li><p>è·å–å®¢æˆ·æœºçš„IPåœ°å€ï¼š</p><ul><li>String getRemoteAddr()</li></ul></li></ol></li></ul></li><li><p><strong>è·å–è¯·æ±‚å¤´æ•°æ®</strong></p><ul><li><p>æ–¹æ³•ï¼š</p><ul><li><p><strong>(*)String getHeader(String name):é€šè¿‡è¯·æ±‚å¤´çš„åç§°è·å–è¯·æ±‚å¤´çš„å€¼</strong></p><ul><li>è·å–è™šæ‹Ÿè·¯å¾„getHeader(referer)è¿›è¡Œé˜²ç›—é“¾</li></ul><pre><code>if(referer!=null){    if(referer.contains("/day14")){        //æ’­æ”¾ç”µå½±    }erlse{        //ç›—é“¾    }}</code></pre><ul><li>è·å–æµè§ˆå™¨ç‰ˆæœ¬getHeader(user-agent)è¿›è¡Œé€»è¾‘</li></ul><pre><code>if(agent.contains("Chrome")){    //è°·æ­Œ}else if(agent.contains("Firefox"){    //ç«ç‹}</code></pre></li><li><p>Enumeration<string> getHeaderNames():è·å–æ‰€æœ‰çš„è¯·æ±‚å¤´åç§°</string></p></li></ul></li></ul></li><li><p><strong>è·å–è¯·æ±‚ä½“æ•°æ®:</strong></p><ul><li>è¯·æ±‚ä½“ï¼šåªæœ‰POSTè¯·æ±‚æ–¹å¼ï¼Œæ‰æœ‰è¯·æ±‚ä½“ï¼Œåœ¨è¯·æ±‚ä½“ä¸­å°è£…äº†POSTè¯·æ±‚çš„è¯·æ±‚å‚æ•°<ul><li>æ­¥éª¤ï¼š<ol><li>è·å–æµå¯¹è±¡<ul><li> BufferedReader getReader()ï¼šè·å–å­—ç¬¦è¾“å…¥æµï¼Œåªèƒ½æ“ä½œå­—ç¬¦æ•°</li><li> ServletInputStream getInputStream()ï¼šè·å–å­—èŠ‚è¾“å…¥æµï¼Œå¯ä»¥æ“ä½œæ‰€æœ‰ç±»å‹æ•°æ®</li></ul></li><li>å†ä»æµå¯¹è±¡ä¸­æ‹¿æ•°æ®</li></ol></li></ul></li></ul></li></ol><p>â€‹      </p><h3 id="å…¶ä»–åŠŸèƒ½ï¼š"><a href="#å…¶ä»–åŠŸèƒ½ï¼š" class="headerlink" title="å…¶ä»–åŠŸèƒ½ï¼š"></a>å…¶ä»–åŠŸèƒ½ï¼š</h3><ol><li><p><strong>è·å–è¯·æ±‚å‚æ•°é€šç”¨æ–¹å¼ï¼šä¸è®ºgetè¿˜æ˜¯postè¯·æ±‚æ–¹å¼éƒ½å¯ä»¥ä½¿ç”¨ä¸‹åˆ—æ–¹æ³•æ¥è·å–è¯·æ±‚å‚æ•°</strong></p></li><li><p><strong>String getParameter(String name)</strong>:æ ¹æ®å‚æ•°åç§°è·å–å‚æ•°å€¼    username=zs&amp;password=123</p></li><li><p>String[] getParameterValues(String name):æ ¹æ®å‚æ•°åç§°è·å–å‚æ•°å€¼çš„æ•°ç»„  hobby=xx&amp;hobby=game</p></li><li><p>Enumeration<string> getParameterNames():è·å–æ‰€æœ‰è¯·æ±‚çš„å‚æ•°åç§°</string></p></li><li><p>Map&lt;String,String[]&gt; getParameterMap():è·å–æ‰€æœ‰å‚æ•°çš„mapé›†åˆ</p><ul><li><strong>ä¸­æ–‡ä¹±ç é—®é¢˜ï¼š</strong><pre><code>* getæ–¹å¼ï¼štomcat 8 å·²ç»å°†getæ–¹å¼ä¹±ç é—®é¢˜è§£å†³äº†</code></pre><ul><li>postæ–¹å¼ï¼šä¼šä¹±ç <pre><code>    * è§£å†³ï¼šåœ¨è·å–å‚æ•°å‰ï¼Œè®¾ç½®requestçš„ç¼–ç request.setCharacterEncoding("utf-8");</code></pre></li></ul></li></ul><ol start="2"><li><p> <strong>è¯·æ±‚è½¬å‘(forward)ï¼šä¸€ç§åœ¨æœåŠ¡å™¨å†…éƒ¨çš„èµ„æºè·³è½¬æ–¹å¼</strong></p></li><li><p>æ­¥éª¤ï¼š</p><ol><li>é€šè¿‡requestå¯¹è±¡è·å–è¯·æ±‚è½¬å‘å™¨å¯¹è±¡ï¼šRequestDispatcher getRequestDispatcher(String pathç›®æ ‡èµ„æºæ–‡ä»¶)</li><li>ä½¿ç”¨RequestDispatcherå¯¹è±¡æ¥è¿›è¡Œè½¬å‘ï¼šforward(ServletRequest request, ServletResponse response) <ul><li>ç‰¹ç‚¹ï¼š<ol><li>æµè§ˆå™¨åœ°å€æ è·¯å¾„ä¸å‘ç”Ÿå˜åŒ–</li><li>åªèƒ½è½¬å‘åˆ°å½“å‰æœåŠ¡å™¨å†…éƒ¨èµ„æºä¸­ã€‚</li><li>è½¬å‘æ˜¯ä¸€æ¬¡è¯·æ±‚</li></ol></li></ul></li></ol><pre><code>request.getRequestDispatcher("/requestDemo9").forward(request,response);</code></pre></li><li><p><strong>å…±äº«æ•°æ®ï¼š</strong></p><ul><li>åŸŸå¯¹è±¡ï¼šä¸€ä¸ªæœ‰ä½œç”¨èŒƒå›´çš„å¯¹è±¡ï¼Œå¯ä»¥åœ¨èŒƒå›´å†…å…±äº«æ•°æ®<pre><code>  * requeståŸŸ(åªèƒ½ç”¨äºè½¬å‘forward)ï¼šä»£è¡¨ä¸€æ¬¡è¯·æ±‚çš„èŒƒå›´ï¼Œä¸€èˆ¬ç”¨äºè¯·æ±‚è½¬å‘çš„å¤šä¸ªèµ„æºä¸­å…±äº«æ•°æ®  * æ–¹æ³•ï¼š      1. void setAttribute(String name,Object obj):å­˜å‚¨æ•°æ®      2. Object getAttitude(String name):é€šè¿‡é”®è·å–å€¼      3. void removeAttribute(String name):é€šè¿‡é”®ç§»é™¤é”®å€¼å¯¹      4. **ServletContext getServletContext()** </code></pre></li></ul></li></ol></li></ol><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/request1.png" alt="image-20200429161829534" style="zoom: 67%;"><p>â€‹                </p><h3 id="ç™»å½•æ¡ˆä¾‹"><a href="#ç™»å½•æ¡ˆä¾‹" class="headerlink" title="ç™»å½•æ¡ˆä¾‹"></a>ç™»å½•æ¡ˆä¾‹</h3><h4 id="bug1-æ•°æ®åº“è¯­æ³•é”™è¯¯ï¼šMySQLSyntaxErrorException"><a href="#bug1-æ•°æ®åº“è¯­æ³•é”™è¯¯ï¼šMySQLSyntaxErrorException" class="headerlink" title="bug1:    æ•°æ®åº“è¯­æ³•é”™è¯¯ï¼šMySQLSyntaxErrorException"></a>bug1:    æ•°æ®åº“è¯­æ³•é”™è¯¯ï¼šMySQLSyntaxErrorException</h4><pre><code>è§£å†³æ–¹æ¡ˆï¼šæ•°æ®åº“è¯­æ³•å‡ºç°é”™è¯¯ï¼Œçœ‹è¯­æ³•//æ˜¯from è¡¨åï¼Œä¸æ˜¯from æ•°æ®åº“åString sql = "select * from user where account=? and password=?";</code></pre><h4 id="bug2-500å¼‚å¸¸ï¼šDataAccessException"><a href="#bug2-500å¼‚å¸¸ï¼šDataAccessException" class="headerlink" title="bug2:    500å¼‚å¸¸ï¼šDataAccessException"></a>bug2:    500å¼‚å¸¸ï¼šDataAccessException</h4><pre><code>è§£å†³æ–¹æ¡ˆï¼š1. åœ¨æ­£ç¡®è·¯å¾„ä¸‹å»ºç«‹libåŒ…ã€‚è·¯å¾„ä¸ºï¼šWEB-INFç›®å½•ä¸‹çš„libç›®å½•ï¼Œç›®å½•åä¸èƒ½å†™æˆåˆ«çš„ï¼ŒåŠ ä¸ªséƒ½ä¸è¡Œã€‚2. å¯¼å…¥å®Œæ•´jaråŒ… 3. åœ¨1ï¼Œ2æ­£ç¡®å‰æä¸‹ï¼Œå¯ä»¥åˆ é™¤ï¼Œé‡å¯ideaï¼Œå†æ¬¡å¯¼å…¥ã€‚</code></pre><h4 id="bug3ï¼šgetParameterMapï¼ˆï¼‰è·å–ä¸åˆ°å€¼"><a href="#bug3ï¼šgetParameterMapï¼ˆï¼‰è·å–ä¸åˆ°å€¼" class="headerlink" title="bug3ï¼šgetParameterMapï¼ˆï¼‰è·å–ä¸åˆ°å€¼"></a>bug3ï¼šgetParameterMapï¼ˆï¼‰è·å–ä¸åˆ°å€¼</h4><pre><code>è§£å†³æ–¹æ¡ˆï¼šè¡¨å•çš„nameå¿…é¡»å’Œæ•°æ®åº“çš„åˆ—åç›¸åŒï¼Œä¸èƒ½name="acc"</code></pre><pre><code>* ç”¨æˆ·ç™»å½•æ¡ˆä¾‹éœ€æ±‚ï¼š    1.ç¼–å†™login.htmlç™»å½•é¡µé¢        username &amp; password ä¸¤ä¸ªè¾“å…¥æ¡†    2.ä½¿ç”¨Druidæ•°æ®åº“è¿æ¥æ± æŠ€æœ¯,æ“ä½œmysqlï¼Œday14æ•°æ®åº“ä¸­userè¡¨    3.ä½¿ç”¨JdbcTemplateæŠ€æœ¯å°è£…JDBC    4.ç™»å½•æˆåŠŸè·³è½¬åˆ°SuccessServletå±•ç¤ºï¼šç™»å½•æˆåŠŸï¼ç”¨æˆ·å,æ¬¢è¿æ‚¨    5.ç™»å½•å¤±è´¥è·³è½¬åˆ°FailServletå±•ç¤ºï¼šç™»å½•å¤±è´¥ï¼Œç”¨æˆ·åæˆ–å¯†ç é”™è¯¯</code></pre><pre><code>åˆ†æ:* æ³¨æ„ï¼šå¼•å…¥jaråŒ…å¿…é¡»åœ¨web/WEB-INF/libä¸­å¼•å…¥ï¼Œå¦åˆ™ä¼šå‡º500å¼‚å¸¸* æ³¨æ„ï¼šlogin.htmlä¸­formè¡¨å•çš„actionè·¯å¾„çš„å†™æ³•        * è™šæ‹Ÿç›®å½•+Servletçš„èµ„æºè·¯å¾„1.åˆ›å»ºlogin.htmlå†™è¡¨å•2.åˆ›å»ºæ•°æ®åº“ï¼Œå­˜å‚¨ç”¨æˆ·æ•°æ®ï¼ˆå¼•å…¥jaråŒ…ï¼‰3.åˆ›å»ºå¯¹åº”çš„ç”¨æˆ·ç±»4.åˆ›å»ºæ“ä½œMysqlæ•°æ®åº“çš„daoç±»ï¼Œä½¿ç”¨templateæŠ€æœ¯ï¼Œï¼ˆå¼•å…¥jaråŒ…ï¼‰5.åˆ›å»ºJDBCå·¥å…·ç±»ï¼Œä½¿ç”¨Druidæ•°æ®åº“è¿æ¥æ± æŠ€æœ¯ï¼ˆå¼•å…¥jaråŒ…ï¼‰ï¼Œè·å–è¿æ¥æ± å¯¹è±¡DataSource6.åœ¨daoç±»ä¸­å†™æ–¹æ³•æ“ä½œæ•°æ®åº“7.åˆ›å»ºservletç±»è·å–è¡¨å•å€¼ï¼Œå°†å°è£…æˆå¯¹è±¡ï¼Œè°ƒç”¨daoç±»çš„æ“ä½œæ•°æ®åº“æ–¹æ³•8.æˆåŠŸè·å–åˆ°userä¿¡æ¯ï¼Œåˆ™å°†ä¿¡æ¯å‚¨å­˜è¿›requeståŸŸä¸­ï¼Œç™»å½•æˆåŠŸè·³è½¬åˆ°successServletä¸­ï¼Œå¹¶å±•ç¤ºä¿¡æ¯9.å¤±è´¥åˆ™è·³è½¬åˆ°failedServletä¸­ï¼Œå¹¶å±•ç¤ºä¿¡æ¯</code></pre><hr><h2 id="BeanUtilså·¥å…·ç±»ï¼Œç®€åŒ–æ•°æ®å°è£…"><a href="#BeanUtilså·¥å…·ç±»ï¼Œç®€åŒ–æ•°æ®å°è£…" class="headerlink" title="BeanUtilså·¥å…·ç±»ï¼Œç®€åŒ–æ•°æ®å°è£…"></a>BeanUtilså·¥å…·ç±»ï¼Œç®€åŒ–æ•°æ®å°è£…</h2><ul><li>ç”¨äºå°è£…JavaBeançš„<ol><li>JavaBeanï¼šæ ‡å‡†çš„Javaç±»<pre><code> 1. è¦æ±‚ï¼š     1. ç±»å¿…é¡»è¢«publicä¿®é¥° 2. å¿…é¡»æä¾›ç©ºå‚çš„æ„é€ å™¨ 3. æˆå‘˜å˜é‡å¿…é¡»ä½¿ç”¨privateä¿®é¥° 4. æä¾›å…¬å…±setterå’Œgetteræ–¹æ³•</code></pre><ol start="2"><li>åŠŸèƒ½ï¼šå°è£…æ•°æ®</li><li>æ–¹æ³•ï¼š<pre><code>      1. setProperty(Object,String key,String value)ï¼šå°†javabeanå°è£…å€¼    2. getProperty(Object,String key)ï¼šè·å–javabeançš„å€¼     3. populate(Object obj , Map map):å°†mapé›†åˆçš„é”®å€¼å¯¹ä¿¡æ¯ï¼Œå°è£…åˆ°å¯¹åº”çš„JavaBeanå¯¹è±¡ä¸­</code></pre></li></ol></li></ol></li></ul><p>ä¾‹å­ï¼š<br>//æ³¨æ„ï¼šä½¿ç”¨è¯¥æ–¹æ³•è¦ç¡®ä¿è¡¨å•çš„nameä¸æ•°æ®åº“ä¸­çš„åˆ—åç›¸åŒï¼Œä¸ç„¶è·å–ä¸åˆ°å€¼<br>Map&lt;String,String[]&gt;  map = request.getParameterMap();<br>user user1 = new user();<br>user loginUser = BeanUtils.populate(user1,map);</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jsp </tag>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Httpè¯·æ±‚è¯¦è§£</title>
      <link href="/2020/07/15/qian-duan/http/"/>
      <url>/2020/07/15/qian-duan/http/</url>
      
        <content type="html"><![CDATA[<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><ul><li><p>æ¦‚å¿µï¼šHyper Text Transfer Protocol è¶…æ–‡æœ¬ä¼ è¾“åè®®</p><ul><li><p>ä¼ è¾“åè®®ï¼šå®šä¹‰å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯é€šä¿¡æ—¶ï¼Œå‘é€æ•°æ®çš„æ ¼å¼</p></li><li><p>ç‰¹ç‚¹ï¼š</p><ol><li>åŸºäºTCP/IPçš„é«˜çº§åè®®</li><li>é»˜è®¤ç«¯å£å·:80</li><li>åŸºäºè¯·æ±‚/å“åº”æ¨¡å‹çš„:ä¸€æ¬¡è¯·æ±‚å¯¹åº”ä¸€æ¬¡å“åº”</li><li>æ— çŠ¶æ€çš„ï¼šæ¯æ¬¡è¯·æ±‚ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œä¸èƒ½äº¤äº’æ•°æ®</li></ol></li><li><p>å†å²ç‰ˆæœ¬ï¼š</p><ul><li>1.0ï¼šæ¯ä¸€æ¬¡è¯·æ±‚å“åº”éƒ½ä¼šå»ºç«‹æ–°çš„è¿æ¥</li><li>1.1ï¼šå¤ç”¨è¿æ¥</li></ul></li></ul></li></ul><h3 id="è¯·æ±‚æ¶ˆæ¯æ•°æ®æ ¼å¼"><a href="#è¯·æ±‚æ¶ˆæ¯æ•°æ®æ ¼å¼" class="headerlink" title="è¯·æ±‚æ¶ˆæ¯æ•°æ®æ ¼å¼"></a>è¯·æ±‚æ¶ˆæ¯æ•°æ®æ ¼å¼</h3><h4 id="1-è¯·æ±‚è¡Œ"><a href="#1-è¯·æ±‚è¡Œ" class="headerlink" title="1. è¯·æ±‚è¡Œ"></a>1. è¯·æ±‚è¡Œ</h4><p>è¯·æ±‚æ–¹å¼ è¯·æ±‚url è¯·æ±‚åè®®/ç‰ˆæœ¬<br>GET /login.html    HTTP/1.1</p><ul><li><p>è¯·æ±‚æ–¹å¼ï¼š</p><ul><li><p>HTTPåè®®æœ‰7ç§è¯·æ±‚æ–¹å¼ï¼Œå¸¸ç”¨çš„æœ‰2ç§</p><ul><li><p><strong>GETï¼š</strong></p><pre><code>                   1. è¯·æ±‚å‚æ•°åœ¨è¯·æ±‚è¡Œä¸­ï¼Œåœ¨urlåã€‚                                  2.  è¯·æ±‚çš„urlé•¿åº¦æœ‰é™åˆ¶çš„                                  3. ä¸å¤ªå®‰å…¨</code></pre></li><li><p><strong>POSTï¼š</strong></p><pre><code>                   1. è¯·æ±‚å‚æ•°åœ¨è¯·æ±‚ä½“ä¸­                                  2. è¯·æ±‚çš„urlé•¿åº¦æ²¡æœ‰é™åˆ¶çš„                                  3. ç›¸å¯¹å®‰å…¨</code></pre></li></ul></li></ul></li></ul><h4 id="2-è¯·æ±‚å¤´ï¼šå®¢æˆ·ç«¯æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ä¸€äº›ä¿¡æ¯"><a href="#2-è¯·æ±‚å¤´ï¼šå®¢æˆ·ç«¯æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ä¸€äº›ä¿¡æ¯" class="headerlink" title="2. è¯·æ±‚å¤´ï¼šå®¢æˆ·ç«¯æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ä¸€äº›ä¿¡æ¯"></a>2. è¯·æ±‚å¤´ï¼šå®¢æˆ·ç«¯æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ä¸€äº›ä¿¡æ¯</h4><p>æ ¼å¼ï¼šè¯·æ±‚å¤´åç§°: è¯·æ±‚å¤´å€¼</p><ul><li><p>å¸¸è§çš„è¯·æ±‚å¤´ï¼š</p></li><li><p>User-Agentï¼šæµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œæˆ‘è®¿é—®ä½ ä½¿ç”¨çš„æµè§ˆå™¨ç‰ˆæœ¬ä¿¡æ¯</p><ul><li>å¯ä»¥åœ¨æœåŠ¡å™¨ç«¯è·å–è¯¥å¤´çš„ä¿¡æ¯ï¼Œè§£å†³æµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜</li></ul></li><li><p>Refererï¼š<a href="http://localhost/login.html">http://localhost/login.html</a></p><ul><li><p>å‘Šè¯‰æœåŠ¡å™¨ï¼Œæˆ‘(å½“å‰è¯·æ±‚)ä»å“ªé‡Œæ¥ï¼Ÿ</p><ul><li><p>ä½œç”¨ï¼š</p><ol><li><p>é˜²ç›—é“¾ï¼š</p></li><li><p>ç»Ÿè®¡å·¥ä½œï¼š</p></li></ol></li></ul></li></ul></li></ul><h4 id="3-è¯·æ±‚ç©ºè¡Œ"><a href="#3-è¯·æ±‚ç©ºè¡Œ" class="headerlink" title="3. è¯·æ±‚ç©ºè¡Œ"></a>3. è¯·æ±‚ç©ºè¡Œ</h4><p>ç©ºè¡Œï¼Œå°±æ˜¯ç”¨äºåˆ†å‰²POSTè¯·æ±‚çš„è¯·æ±‚å¤´ï¼Œå’Œè¯·æ±‚ä½“çš„ã€‚</p><h4 id="4-è¯·æ±‚ä½“-æ­£æ–‡-ï¼š"><a href="#4-è¯·æ±‚ä½“-æ­£æ–‡-ï¼š" class="headerlink" title="4. è¯·æ±‚ä½“(æ­£æ–‡)ï¼š"></a>4. è¯·æ±‚ä½“(æ­£æ–‡)ï¼š</h4><ul><li>å°è£…POSTè¯·æ±‚æ¶ˆæ¯çš„è¯·æ±‚å‚æ•°çš„</li></ul><h3 id="å­—ç¬¦ä¸²æ ¼å¼ï¼š"><a href="#å­—ç¬¦ä¸²æ ¼å¼ï¼š" class="headerlink" title="å­—ç¬¦ä¸²æ ¼å¼ï¼š"></a>å­—ç¬¦ä¸²æ ¼å¼ï¼š</h3><pre><code>  //è¯·æ±‚è¡Œ            POST /login.html    HTTP/1.1            //è¯·æ±‚å¤´            Host: localhost            User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0    //å‘ŠçŸ¥æœåŠ¡å™¨ï¼Œæµè§ˆå™¨çš„ç‰ˆæœ¬ä¿¡æ¯            Accept: text/html,application/xhtml+xml,application/xml;q=0.9,/;q=0.8            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2            Accept-Encoding: gzip, deflate            Referer: http://localhost/login.html //å‘Šè¯‰æœåŠ¡å™¨ï¼Œå½“å‰è¯·æ±‚æ˜¯ä»å“ªæ¥            Connection: keep-alive            Upgrade-Insecure-Requests: 1          //è¯·æ±‚ä½“          username=zhangsan    </code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webæœåŠ¡å™¨Tomcatã€Servlet</title>
      <link href="/2020/07/13/qian-duan/tomcat-servlet/"/>
      <url>/2020/07/13/qian-duan/tomcat-servlet/</url>
      
        <content type="html"><![CDATA[<h2 id="webç›¸å…³æ¦‚å¿µå›é¡¾"><a href="#webç›¸å…³æ¦‚å¿µå›é¡¾" class="headerlink" title="webç›¸å…³æ¦‚å¿µå›é¡¾"></a>webç›¸å…³æ¦‚å¿µå›é¡¾</h2><ol><li>è½¯ä»¶æ¶æ„<ol><li>C/Sï¼šå®¢æˆ·ç«¯/æœåŠ¡å™¨ç«¯</li><li>B/Sï¼šæµè§ˆå™¨/æœåŠ¡å™¨ç«¯</li></ol></li><li>èµ„æºåˆ†ç±»<ol><li>é™æ€èµ„æºï¼šæ‰€æœ‰ç”¨æˆ·è®¿é—®åï¼Œå¾—åˆ°çš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œç§°ä¸ºé™æ€èµ„æº.é™æ€èµ„æºå¯ä»¥ç›´æ¥è¢«æµè§ˆå™¨è§£æ<ul><li>å¦‚ï¼š html,css,JavaScript</li></ul></li><li>åŠ¨æ€èµ„æº:æ¯ä¸ªç”¨æˆ·è®¿é—®ç›¸åŒèµ„æºåï¼Œå¾—åˆ°çš„ç»“æœå¯èƒ½ä¸ä¸€æ ·ã€‚ç§°ä¸ºåŠ¨æ€èµ„æºã€‚åŠ¨æ€èµ„æºè¢«è®¿é—®åï¼Œéœ€è¦å…ˆè½¬æ¢ä¸ºé™æ€èµ„æºï¼Œåœ¨è¿”å›ç»™æµè§ˆå™¨<ul><li>å¦‚ï¼šservlet/jsp,php,aspâ€¦</li></ul></li></ol></li><li>ç½‘ç»œé€šä¿¡ä¸‰è¦ç´ <ol><li>IPï¼šç”µå­è®¾å¤‡(è®¡ç®—æœº)åœ¨ç½‘ç»œä¸­çš„å”¯ä¸€æ ‡è¯†ã€‚</li><li>ç«¯å£ï¼šåº”ç”¨ç¨‹åºåœ¨è®¡ç®—æœºä¸­çš„å”¯ä¸€æ ‡è¯†ã€‚ 0~65536</li><li>ä¼ è¾“åè®®ï¼šè§„å®šäº†æ•°æ®ä¼ è¾“çš„è§„åˆ™<ol><li>åŸºç¡€åè®®ï¼š<ol><li>tcp:å®‰å…¨åè®®ï¼Œä¸‰æ¬¡æ¡æ‰‹ã€‚ é€Ÿåº¦ç¨æ…¢</li><li>udpï¼šä¸å®‰å…¨åè®®ã€‚ é€Ÿåº¦å¿«</li></ol></li></ol></li></ol></li></ol><hr><h2 id="WEBæœåŠ¡å™¨"><a href="#WEBæœåŠ¡å™¨" class="headerlink" title="WEBæœåŠ¡å™¨"></a>WEBæœåŠ¡å™¨</h2><ul><li><p>æœåŠ¡å™¨ï¼šå®‰è£…äº†æœåŠ¡å™¨è½¯ä»¶çš„è®¡ç®—æœº</p></li><li><p>æœåŠ¡å™¨è½¯ä»¶ï¼šæ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ï¼Œå¤„ç†è¯·æ±‚ï¼Œåšå‡ºå“åº”</p></li><li><p>webæœåŠ¡å™¨è½¯ä»¶ï¼šæ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ï¼Œå¤„ç†è¯·æ±‚ï¼Œåšå‡ºå“åº”ã€‚</p><ul><li>åœ¨webæœåŠ¡å™¨è½¯ä»¶ä¸­ï¼Œå¯ä»¥éƒ¨ç½²webé¡¹ç›®ï¼Œè®©ç”¨æˆ·é€šè¿‡æµè§ˆå™¨æ¥è®¿é—®è¿™äº›é¡¹ç›®</li><li>webå®¹å™¨</li></ul></li><li><p>å¸¸è§çš„javaç›¸å…³çš„webæœåŠ¡å™¨è½¯ä»¶ï¼š</p><ul><li>webLogicï¼šoracleå…¬å¸ï¼Œå¤§å‹çš„JavaEEæœåŠ¡å™¨ï¼Œæ”¯æŒæ‰€æœ‰çš„JavaEEè§„èŒƒï¼Œæ”¶è´¹çš„ã€‚</li><li>webSphereï¼šIBMå…¬å¸ï¼Œå¤§å‹çš„JavaEEæœåŠ¡å™¨ï¼Œæ”¯æŒæ‰€æœ‰çš„JavaEEè§„èŒƒï¼Œæ”¶è´¹çš„ã€‚</li><li>JBOSSï¼šJBOSSå…¬å¸çš„ï¼Œå¤§å‹çš„JavaEEæœåŠ¡å™¨ï¼Œæ”¯æŒæ‰€æœ‰çš„JavaEEè§„èŒƒï¼Œæ”¶è´¹çš„ã€‚</li><li>Tomcatï¼šApacheåŸºé‡‘ç»„ç»‡ï¼Œä¸­å°å‹çš„JavaEEæœåŠ¡å™¨ï¼Œä»…ä»…æ”¯æŒå°‘é‡çš„JavaEEè§„èŒƒservlet/jspã€‚å¼€æºçš„ï¼Œå…è´¹çš„ã€‚</li></ul></li><li><p>JavaEEï¼šJavaè¯­è¨€åœ¨ä¼ä¸šçº§å¼€å‘ä¸­ä½¿ç”¨çš„æŠ€æœ¯è§„èŒƒçš„æ€»å’Œï¼Œä¸€å…±è§„å®šäº†13é¡¹å¤§çš„è§„èŒƒ</p></li></ul><hr><h2 id="Tomcatï¼šwebæœåŠ¡å™¨è½¯ä»¶"><a href="#Tomcatï¼šwebæœåŠ¡å™¨è½¯ä»¶" class="headerlink" title="Tomcatï¼šwebæœåŠ¡å™¨è½¯ä»¶"></a>Tomcatï¼šwebæœåŠ¡å™¨è½¯ä»¶</h2><ol><li><p>ä¸‹è½½ï¼š<a href="http://tomcat.apache.org/">http://tomcat.apache.org/</a>    </p></li><li><p>å®‰è£…ï¼šè§£å‹å‹ç¼©åŒ…å³å¯ã€‚</p><pre><code>    * æ³¨æ„ï¼šå®‰è£…ç›®å½•å»ºè®®ä¸è¦æœ‰ä¸­æ–‡å’Œç©ºæ ¼</code></pre></li><li><p>å¸è½½ï¼šåˆ é™¤ç›®å½•å°±è¡Œäº†</p></li><li><p>æ–‡ä»¶ç›®å½•ï¼šbin:å¯æ‰§è¡Œæ–‡ä»¶ï¼Œconfï¼šé…ç½®æ–‡ä»¶ï¼Œlibï¼šä¾èµ–jaråŒ…ï¼Œlogsï¼šæ—¥å¿—æ–‡ä»¶ï¼Œtempï¼šä¸´æ—¶æ–‡ä»¶ï¼Œ   webappsï¼šå­˜æ”¾webé¡¹ç›®ï¼Œworkï¼šå­˜æ”¾è¿è¡Œæ—¶çš„æ•°æ®</p></li><li><p>å¼€å¯ï¼š</p><ul><li><p>bin/startup.bat ,åŒå‡»è¿è¡Œè¯¥æ–‡ä»¶å³å¯</p></li><li><p>è®¿é—®ï¼šæµè§ˆå™¨è¾“å…¥ï¼š<a href="http://localhost:8080/">http://localhost:8080</a> å›è½¦è®¿é—®è‡ªå·±</p><pre><code>                http://åˆ«äººçš„ip:8080 è®¿é—®åˆ«äºº</code></pre></li><li><p>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š</p><ol><li><p>é»‘çª—å£ä¸€é—ªè€Œè¿‡ï¼š</p><ul><li>åŸå› ï¼š æ²¡æœ‰æ­£ç¡®é…ç½®JAVA_HOMEç¯å¢ƒå˜é‡<ul><li>è§£å†³æ–¹æ¡ˆï¼šæ­£ç¡®é…ç½®JAVA_HOMEç¯å¢ƒå˜é‡</li></ul></li></ul></li><li><p>å¯åŠ¨æŠ¥é”™ï¼š</p><ol><li>æš´åŠ›ï¼šæ‰¾åˆ°å ç”¨çš„ç«¯å£å·ï¼Œå¹¶ä¸”æ‰¾åˆ°å¯¹åº”çš„PIDè¿›ç¨‹ï¼Œæ€æ­»è¯¥è¿›ç¨‹<ul><li>netstat -ano</li></ul></li></ol></li></ol></li></ul></li><li><p>å…³é—­ï¼š</p><ul><li>bin/shutdown.bat</li><li>ctrl+c</li></ul></li><li><p>é…ç½®ï¼š</p><ol><li>ç›´æ¥å°†é¡¹ç›®æ”¾åˆ°webappsç›®å½•ä¸‹å³å¯<ul><li>ç®€åŒ–éƒ¨ç½²ï¼šå°†é¡¹ç›®æ‰“æˆä¸€ä¸ªwaråŒ…ï¼Œå°†waråŒ…æ”¾ç½®ç›®å½•ä¸‹ï¼Œä¼šè‡ªåŠ¨è§£å‹ç¼©</li></ul></li><li>åœ¨conf\Catalina\localhoståˆ›å»ºä»»æ„åç§°çš„xmlæ–‡ä»¶ã€‚åœ¨æ–‡ä»¶ä¸­ç¼–å†™<pre><code>            &lt;Context docBase="D:\hello" /&gt;            * è™šæ‹Ÿç›®å½•ï¼šxmlæ–‡ä»¶çš„ä»»æ„åç§°</code></pre></li></ol><ul><li>é™æ€é¡¹ç›®å’ŒåŠ¨æ€é¡¹ç›®ï¼š<pre><code>      * ç›®å½•ç»“æ„          * javaåŠ¨æ€é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼š              -- é¡¹ç›®çš„æ ¹ç›®å½•                  -- WEB-INFç›®å½•ï¼š                      -- web.xmlï¼šwebé¡¹ç›®çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶                      -- classesç›®å½•ï¼šæ”¾ç½®å­—èŠ‚ç æ–‡ä»¶çš„ç›®å½•                      -- libç›®å½•ï¼šæ”¾ç½®ä¾èµ–çš„jaråŒ…</code></pre></li></ul></li><li><p>å°†Tomcaté›†æˆåˆ°IDEAä¸­ï¼Œå¹¶ä¸”åˆ›å»ºJavaEEçš„é¡¹ç›®ï¼Œéƒ¨ç½²é¡¹ç›®ã€‚</p><ol><li>runâ€“&gt;edit configurationâ€“&gt;templatesâ€“&gt;tomcatâ€“&gt;localâ€“&gt;configure</li><li>update actionâ€“&gt;update resources</li><li>å–æ¶ˆå‹¾é€‰afterLauch</li></ol></li><li><p>deploymentâ€“&gt;application context:/</p></li></ol><p>åˆ›å»ºé¡¹ç›®ï¼š</p><p>   â€‹    java Enterprise â€“&gt;version:7 â€“&gt;web application(å‹¾é€‰ä¸Š)</p><hr><h2 id="Servlet-server-applet"><a href="#Servlet-server-applet" class="headerlink" title="Servlet :server applet"></a>Servlet :server applet</h2><h3 id="æ¦‚å¿µï¼šè¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„å°ç¨‹åº"><a href="#æ¦‚å¿µï¼šè¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„å°ç¨‹åº" class="headerlink" title="æ¦‚å¿µï¼šè¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„å°ç¨‹åº"></a>æ¦‚å¿µï¼šè¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„å°ç¨‹åº</h3><ul><li>Servletå°±æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®šä¹‰äº†Javaç±»è¢«æµè§ˆå™¨è®¿é—®åˆ°(tomcatè¯†åˆ«)çš„è§„åˆ™ã€‚</li><li>å°†æ¥æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°Servletæ¥å£ï¼Œå¤å†™æ–¹æ³•ã€‚</li></ul><h3 id="å¿«é€Ÿå…¥é—¨"><a href="#å¿«é€Ÿå…¥é—¨" class="headerlink" title="å¿«é€Ÿå…¥é—¨"></a>å¿«é€Ÿå…¥é—¨</h3><ol><li><p>åˆ›å»ºJavaEEé¡¹ç›®</p></li><li><p>å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°Servletæ¥å£</p><ul><li>public class ServletDemo1 ==implements== Servlet</li></ul></li><li><p>å®ç°æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•</p><p>serviceæ–¹æ³•</p></li><li><p>é…ç½®Servlet<br>åœ¨web.xmlä¸­é…ç½®ï¼š</p><pre><code> &lt;!--é…ç½®Servlet --&gt; &lt;servlet&gt;     &lt;servlet-name&gt;demo1&lt;/servlet-name&gt;     &lt;servlet-class&gt;cn.itcast.web.servlet.ServletDemo1&lt;/servlet-class&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt;     &lt;servlet-name&gt;demo1&lt;/servlet-name&gt;     &lt;url-pattern&gt;/demo1&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;</code></pre></li></ol><h3 id="æ‰§è¡ŒåŸç†ï¼š"><a href="#æ‰§è¡ŒåŸç†ï¼š" class="headerlink" title="æ‰§è¡ŒåŸç†ï¼š"></a>æ‰§è¡ŒåŸç†ï¼š</h3><ol><li>å½“æœåŠ¡å™¨æ¥å—åˆ°å®¢æˆ·ç«¯æµè§ˆå™¨çš„è¯·æ±‚åï¼Œä¼šè§£æè¯·æ±‚URLè·¯å¾„ï¼Œè·å–è®¿é—®çš„Servletçš„èµ„æºè·¯å¾„</li><li>æŸ¥æ‰¾web.xmlæ–‡ä»¶ï¼Œæ˜¯å¦æœ‰å¯¹åº”çš„<url-pattern>æ ‡ç­¾ä½“å†…å®¹ã€‚</url-pattern></li><li>å¦‚æœæœ‰ï¼Œåˆ™åœ¨æ‰¾åˆ°å¯¹åº”çš„<servlet-class>å…¨ç±»å</servlet-class></li><li>tomcatä¼šå°†å­—èŠ‚ç æ–‡ä»¶åŠ è½½è¿›å†…å­˜ï¼Œå¹¶ä¸”åˆ›å»ºå…¶å¯¹è±¡</li><li>è°ƒç”¨å…¶æ–¹æ³•</li></ol><h3 id="Servletä¸­çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼š"><a href="#Servletä¸­çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼š" class="headerlink" title="Servletä¸­çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼š"></a>Servletä¸­çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼š</h3><h4 id="è¢«åˆ›å»ºï¼šæ‰§è¡Œinitæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡"><a href="#è¢«åˆ›å»ºï¼šæ‰§è¡Œinitæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡" class="headerlink" title="è¢«åˆ›å»ºï¼šæ‰§è¡Œinitæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡"></a>è¢«åˆ›å»ºï¼šæ‰§è¡Œinitæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡</h4><ul><li><p>Servletä»€ä¹ˆæ—¶å€™è¢«åˆ›å»ºï¼Ÿ</p><ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼ŒServletè¢«åˆ›å»º</li><li>å¯ä»¥é…ç½®æ‰§è¡ŒServletçš„åˆ›å»ºæ—¶æœºã€‚<ul><li>åœ¨<servlet>æ ‡ç­¾ä¸‹é…ç½®<ol><li><p>ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼Œåˆ›å»º</p><pre><code>       * &lt;load-on-startup&gt;çš„å€¼ä¸ºè´Ÿæ•°</code></pre></li><li><p>åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œåˆ›å»º</p><ul><li><load-on-startup>çš„å€¼ä¸º0æˆ–æ­£æ•´æ•°</load-on-startup></li></ul></li></ol></servlet></li></ul></li></ul></li><li><p>Servletçš„initæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡ï¼Œè¯´æ˜ä¸€ä¸ªServletåœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼ŒServletæ˜¯å•ä¾‹çš„</p><ul><li><p>å¤šä¸ªç”¨æˆ·åŒæ—¶è®¿é—®æ—¶ï¼Œå¯èƒ½å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p></li><li><p>è§£å†³ï¼šå°½é‡ä¸è¦åœ¨Servletä¸­å®šä¹‰æˆå‘˜å˜é‡ã€‚å³ä½¿å®šä¹‰äº†æˆå‘˜å˜é‡ï¼Œä¹Ÿä¸è¦å¯¹ä¿®æ”¹å€¼</p><ul><li><p>Servletçš„initæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡ï¼Œè¯´æ˜ä¸€ä¸ªServletåœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼ŒServletæ˜¯å•ä¾‹çš„</p><ul><li><p>å¤šä¸ªç”¨æˆ·åŒæ—¶è®¿é—®æ—¶ï¼Œå¯èƒ½å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p></li><li><p>è§£å†³ï¼šå°½é‡ä¸è¦åœ¨Servletä¸­å®šä¹‰æˆå‘˜å˜é‡ã€‚å³ä½¿å®šä¹‰äº†æˆå‘˜å˜é‡ï¼Œä¹Ÿä¸è¦å¯¹ä¿®æ”¹å€¼</p></li></ul></li></ul></li></ul></li></ul><p>####æä¾›æœåŠ¡ï¼šæ‰§è¡Œserviceæ–¹æ³•ï¼Œæ‰§è¡Œå¤šæ¬¡</p><ul><li>æ¯æ¬¡è®¿é—®Servletæ—¶ï¼ŒServiceæ–¹æ³•éƒ½ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚</li></ul><p>####è¢«é”€æ¯ï¼šæ‰§è¡Œdestroyæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡</p><ul><li>Servletè¢«é”€æ¯æ—¶æ‰§è¡Œã€‚æœåŠ¡å™¨å…³é—­æ—¶ï¼ŒServletè¢«é”€æ¯</li><li>åªæœ‰æœåŠ¡å™¨æ­£å¸¸å…³é—­æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œdestroyæ–¹æ³•ã€‚</li><li>destroyæ–¹æ³•åœ¨Servletè¢«é”€æ¯ä¹‹å‰æ‰§è¡Œï¼Œä¸€èˆ¬ç”¨äºé‡Šæ”¾èµ„æº</li></ul><h3 id="Servlet3-0ï¼š"><a href="#Servlet3-0ï¼š" class="headerlink" title="Servlet3.0ï¼š"></a>Servlet3.0ï¼š</h3><ul><li><p>å¥½å¤„ï¼š</p></li><li><p>æ”¯æŒæ³¨è§£é…ç½®ã€‚ä¸éœ€è¦web.xmlæ¥é…ç½®æ–‡ä»¶äº†ã€‚</p></li><li><p>æ­¥éª¤ï¼š</p><ol><li>åˆ›å»ºJavaEEé¡¹ç›®ï¼Œé€‰æ‹©Servletçš„ç‰ˆæœ¬3.0ä»¥ä¸Šï¼Œå¯ä»¥ä¸åˆ›å»ºweb.xml</li><li>å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°Servletæ¥å£æˆ–ç»§æ‰¿httpServletæ¥å£</li><li>å¤å†™æ–¹æ³•<ol><li>åœ¨ç±»ä¸Šä½¿ç”¨@WebServletæ³¨è§£ï¼Œè¿›è¡Œé…ç½®</li></ol><ul><li>@WebServlet(â€œèµ„æºè·¯å¾„â€)â€“&gt;å¦‚ï¼š@WebServlet(â€œ/demoå°±æ˜¯xmlé‡Œé¢çš„pattenâ€)<ul><li>èµ„æºè·¯å¾„pattençš„å®šä¹‰è§„åˆ™<ul><li>/xxx</li><li>/xxx/xxxï¼šå¤šå±‚è·¯å¾„</li><li>*.doï¼ˆæ²¡æœ‰/ï¼‰</li></ul></li></ul></li></ul></li></ol></li></ul><h3 id="IDEAä¸tomcatçš„ç›¸å…³é…ç½®"><a href="#IDEAä¸tomcatçš„ç›¸å…³é…ç½®" class="headerlink" title="IDEAä¸tomcatçš„ç›¸å…³é…ç½®"></a>IDEAä¸tomcatçš„ç›¸å…³é…ç½®</h3><ol><li>IDEAä¼šä¸ºæ¯ä¸€ä¸ªtomcatéƒ¨ç½²çš„é¡¹ç›®å•ç‹¬å»ºç«‹ä¸€ä»½é…ç½®æ–‡ä»¶</li></ol><ul><li>æŸ¥çœ‹æ§åˆ¶å°çš„logï¼šUsing CATALINA_BASE:   â€œC:\Users\fqy.IntelliJIdea2018.1\system\tomcat_itcastâ€</li></ul><ol start="2"><li>å·¥ä½œç©ºé—´é¡¹ç›®    å’Œ     tomcatéƒ¨ç½²çš„webé¡¹ç›®<ul><li>tomcatçœŸæ­£è®¿é—®çš„æ˜¯â€œtomcatéƒ¨ç½²çš„webé¡¹ç›®â€ï¼Œâ€tomcatéƒ¨ç½²çš„webé¡¹ç›®â€å¯¹åº”ç€â€å·¥ä½œç©ºé—´é¡¹ç›®â€ çš„webç›®å½•ä¸‹çš„æ‰€æœ‰èµ„æº</li><li>WEB-INFç›®å½•ä¸‹çš„èµ„æºä¸èƒ½è¢«æµè§ˆå™¨ç›´æ¥è®¿é—®ã€‚</li></ul></li><li>æ–­ç‚¹è°ƒè¯•ï¼šä½¿ç”¨â€å°è™«å­â€å¯åŠ¨ dubug å¯åŠ¨</li></ol><h3 id="Servletçš„ä½“ç³»ç»“æ„"><a href="#Servletçš„ä½“ç³»ç»“æ„" class="headerlink" title="Servletçš„ä½“ç³»ç»“æ„"></a>Servletçš„ä½“ç³»ç»“æ„</h3><ul><li>Servlet â€“ æ¥å£<pre><code>            |</code></pre>  GenericServlet â€“ æŠ½è±¡ç±»ï¼šç»§æ‰¿ï¼Œåªéœ€è¦å®ç°service()æ–¹æ³•å³å¯<pre><code>      |</code></pre>  HttpServlet  â€“ æŠ½è±¡ç±»ï¼šæœ€å¸¸ç”¨ï¼Œç»§æ‰¿ï¼Œå¤å†™doGet/doPostæ–¹æ³•</li></ul>]]></content>
      
      
      <categories>
          
          <category> tomcat </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tomcat </tag>
            
            <tag> servlet </tag>
            
            <tag> idea </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cookieã€Sessionè¯¦è§£</title>
      <link href="/2020/07/12/qian-duan/cookie-session/"/>
      <url>/2020/07/12/qian-duan/cookie-session/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¼šè¯æŠ€æœ¯"><a href="#ä¼šè¯æŠ€æœ¯" class="headerlink" title="ä¼šè¯æŠ€æœ¯"></a>ä¼šè¯æŠ€æœ¯</h2><ol><li>ä¼šè¯ï¼šä¸€æ¬¡ä¼šè¯ä¸­åŒ…å«å¤šæ¬¡è¯·æ±‚å’Œå“åº”ã€‚<ul><li>ä¸€æ¬¡ä¼šè¯ï¼šæµè§ˆå™¨ç¬¬ä¸€æ¬¡ç»™æœåŠ¡å™¨èµ„æºå‘é€è¯·æ±‚ï¼Œä¼šè¯å»ºç«‹ï¼Œç›´åˆ°æœ‰ä¸€æ–¹æ–­å¼€ä¸ºæ­¢</li></ul></li><li>åŠŸèƒ½ï¼šåœ¨ä¸€æ¬¡ä¼šè¯çš„èŒƒå›´å†…çš„å¤šæ¬¡è¯·æ±‚é—´ï¼Œå…±äº«æ•°æ®</li><li>æ–¹å¼ï¼š<ol><li>å®¢æˆ·ç«¯ä¼šè¯æŠ€æœ¯ï¼šCookie</li><li>æœåŠ¡å™¨ç«¯ä¼šè¯æŠ€æœ¯ï¼šSession</li></ol></li></ol><hr><h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><ol><li><p>æ¦‚å¿µï¼šå®¢æˆ·ç«¯ä¼šè¯æŠ€æœ¯ï¼Œå°†æ•°æ®ä¿å­˜åˆ°==å®¢æˆ·ç«¯==</p></li><li><p>å¿«é€Ÿå…¥é—¨ï¼š</p></li></ol><ul><li><strong>ä½¿ç”¨æ­¥éª¤</strong>ï¼š</li></ul><ol><li><p>åˆ›å»ºCookieå¯¹è±¡ï¼Œç»‘å®šæ•°æ®</p><pre><code> * new Cookie(String name, String value)        * è®¾ç½®æ–°å€¼ï¼šsetValue(String value)</code></pre><ol start="2"><li>å‘é€Cookieå¯¹è±¡<ul><li>response.addCookie(Cookie cookie) </li></ul></li><li>è®¾ç½®Cookieçš„ä½œç”¨èŒƒå›´ï¼Œé»˜è®¤æƒ…å†µæ˜¯å½“å‰è™šæ‹Ÿç›®å½•ä¸‹<ul><li>setPath(String path)ï¼šâ€/â€œè¡¨ç¤ºtomcatç›®å½•æ‰€æœ‰éƒ¨ç½²é¡¹ç›®</li></ul></li><li>è·å–Cookieï¼Œæ‹¿åˆ°æ•°æ®</li></ol><ul><li>Cookie[]  request.getCookies()  </li></ul></li><li><p>å®ç°åŸç†</p><ul><li>åŸºäºå“åº”å¤´set-cookieå’Œè¯·æ±‚å¤´cookieå®ç°</li></ul></li><li><p><strong>cookieçš„ç»†èŠ‚</strong></p><ol><li><p><strong>ä¸€æ¬¡å¯ä¸å¯ä»¥å‘é€å¤šä¸ªcookie?</strong></p><ul><li>å¯ä»¥<ul><li>å¯ä»¥åˆ›å»ºå¤šä¸ªCookieå¯¹è±¡ï¼Œä½¿ç”¨responseè°ƒç”¨å¤šæ¬¡addCookieæ–¹æ³•å‘é€cookieå³å¯ã€‚</li></ul></li></ul></li><li><p><strong>cookieåœ¨æµè§ˆå™¨ä¸­ä¿å­˜å¤šé•¿æ—¶é—´ï¼Ÿ</strong></p><ol><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“==æµè§ˆå™¨å…³é—­==åï¼ŒCookieæ•°æ®è¢«é”€æ¯</li><li> æŒä¹…åŒ–å­˜å‚¨ï¼š</li></ol><ul><li>setMaxAge(int seconds)<ol><li>æ­£æ•°ï¼šå°†Cookieæ•°æ®å†™åˆ°ç¡¬ç›˜çš„æ–‡ä»¶ä¸­ã€‚æŒä¹…åŒ–å­˜å‚¨ã€‚å¹¶æŒ‡å®šcookieå­˜æ´»æ—¶é—´ï¼Œæ—¶é—´åˆ°åï¼Œcookieæ–‡ä»¶è‡ªåŠ¨å¤±æ•ˆ</li><li>è´Ÿæ•°ï¼šé»˜è®¤å€¼</li><li>é›¶ï¼šåˆ é™¤cookieä¿¡æ¯</li></ol></li></ul></li><li><p><strong>cookieèƒ½ä¸èƒ½å­˜ä¸­æ–‡ï¼Ÿ</strong></p><ul><li>åœ¨tomcat 8 ä¹‹å‰ cookieä¸­ä¸èƒ½ç›´æ¥å­˜å‚¨ä¸­æ–‡æ•°æ®ã€‚<ul><li>éœ€è¦å°†ä¸­æ–‡æ•°æ®è½¬ç â€”ä¸€èˆ¬é‡‡ç”¨URLç¼–ç (%E3)</li></ul></li><li>åœ¨==tomcat 8==ä¹‹åï¼Œcookieæ”¯æŒä¸­æ–‡æ•°æ®ã€‚ç‰¹æ®Šå­—ç¬¦è¿˜æ˜¯ä¸æ”¯æŒï¼Œå»ºè®®ä½¿ç”¨URLç¼–ç å­˜å‚¨ï¼ŒURLè§£ç è§£æ</li></ul></li><li><p><strong>cookieå…±äº«é—®é¢˜ï¼Ÿ</strong></p><ol><li><p>å‡è®¾åœ¨==ä¸€ä¸ªtomcatæœåŠ¡å™¨==ä¸­ï¼Œéƒ¨ç½²äº†å¤šä¸ªwebé¡¹ç›®ï¼Œé‚£ä¹ˆåœ¨è¿™äº›webé¡¹ç›®ä¸­cookieèƒ½ä¸èƒ½å…±äº«ï¼Ÿ</p><ul><li><p>é»˜è®¤æƒ…å†µä¸‹cookieä¸èƒ½å…±äº«</p></li><li><p>setPath(String path):è®¾ç½®cookieçš„è·å–èŒƒå›´ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè®¾ç½®å½“å‰çš„è™šæ‹Ÿç›®å½•</p><ul><li>å¦‚æœè¦å…±äº«ï¼Œåˆ™å¯ä»¥å°†pathè®¾ç½®ä¸ºâ€/â€œ</li></ul></li></ul></li><li><p>==ä¸åŒçš„tomcatæœåŠ¡å™¨==é—´cookieå…±äº«é—®é¢˜ï¼Ÿ</p><ul><li><p>setDomain(String path):å¦‚æœè®¾ç½®ä¸€çº§åŸŸåç›¸åŒï¼Œé‚£ä¹ˆå¤šä¸ªæœåŠ¡å™¨ä¹‹é—´cookieå¯ä»¥å…±äº«</p><p>ä¾‹å­ï¼šsetDomain(â€œ.baidu.comâ€),é‚£ä¹ˆtieba.baidu.comå’Œnews.baidu.comä¸­cookieå¯ä»¥å…±äº«</p></li></ul></li></ol></li></ol></li><li><p>Cookieçš„ç‰¹ç‚¹å’Œä½œç”¨</p><ol><li>cookieå­˜å‚¨æ•°æ®åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ï¼ˆä¸å¤ªå®‰å…¨ï¼Œæ˜“è¢«ç¯¡æ”¹ï¼‰</li><li>æµè§ˆå™¨å¯¹äºå•ä¸ªcookie çš„å¤§å°æœ‰é™åˆ¶(4kb) ä»¥åŠ å¯¹åŒä¸€ä¸ªåŸŸåä¸‹çš„æ€»cookieæ•°é‡ä¹Ÿæœ‰é™åˆ¶(20ä¸ª)</li></ol><ul><li>ä½œç”¨ï¼š<ol><li>cookieä¸€èˆ¬ç”¨äºå­˜å‡ºå°‘é‡çš„ä¸å¤ªæ•æ„Ÿçš„æ•°æ®</li><li>åœ¨ä¸ç™»å½•çš„æƒ…å†µä¸‹ï¼Œå®ŒæˆæœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯çš„èº«ä»½è¯†åˆ«</li></ol></li></ul></li></ol><hr><h2 id="æ¡ˆä¾‹ï¼šè®°ä½ä¸Šä¸€æ¬¡è®¿é—®æ—¶é—´"><a href="#æ¡ˆä¾‹ï¼šè®°ä½ä¸Šä¸€æ¬¡è®¿é—®æ—¶é—´" class="headerlink" title="æ¡ˆä¾‹ï¼šè®°ä½ä¸Šä¸€æ¬¡è®¿é—®æ—¶é—´"></a>æ¡ˆä¾‹ï¼šè®°ä½ä¸Šä¸€æ¬¡è®¿é—®æ—¶é—´</h2><ol><li>éœ€æ±‚ï¼š<pre><code> 1. è®¿é—®ä¸€ä¸ªServletï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è®¿é—®ï¼Œåˆ™æç¤ºï¼šæ‚¨å¥½ï¼Œæ¬¢è¿æ‚¨é¦–æ¬¡è®¿é—®ã€‚</code></pre><ol start="2"><li>å¦‚æœä¸æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®ï¼Œåˆ™æç¤ºï¼šæ¬¢è¿å›æ¥ï¼Œæ‚¨ä¸Šæ¬¡è®¿é—®æ—¶é—´ä¸º:æ˜¾ç¤ºæ—¶é—´å­—ç¬¦ä¸²</li></ol></li><li>åˆ†æï¼š<ol><li>å¯ä»¥é‡‡ç”¨Cookieæ¥å®Œæˆ<ol start="2"><li>åœ¨æœåŠ¡å™¨ä¸­çš„Servletåˆ¤æ–­æ˜¯å¦æœ‰ä¸€ä¸ªåä¸ºlastTimeçš„cookie<ol><li>æœ‰ï¼šä¸æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®<ol><li>å“åº”æ•°æ®ï¼šæ¬¢è¿å›æ¥ï¼Œæ‚¨ä¸Šæ¬¡è®¿é—®æ—¶é—´ä¸º:2018å¹´6æœˆ10æ—¥11:50:20</li><li>å†™å›Cookieï¼šlastTime=2018å¹´6æœˆ10æ—¥11:50:01</li></ol></li><li>æ²¡æœ‰ï¼šæ˜¯ç¬¬ä¸€æ¬¡è®¿é—®<ol><li>å“åº”æ•°æ®ï¼šæ‚¨å¥½ï¼Œæ¬¢è¿æ‚¨é¦–æ¬¡è®¿é—®</li><li>å†™å›Cookieï¼šlastTime=2018å¹´6æœˆ10æ—¥11:50:01</li></ol></li></ol></li></ol></li></ol></li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/CookieServlet"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CookieServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//è·å–cookies</span>        Cookie<span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å¦‚æœæ•°ç»„ä¸ä¸ºç©ºåˆ™éå†</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>cookies<span class="token operator">!=</span>null<span class="token operator">&amp;&amp;</span>cookies<span class="token punctuation">.</span>length<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>Cookie cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">//è·å–cookieçš„nameï¼Œå¦‚æœæ˜¯lastTimeè¿›è¡Œä¸‹ä¸€æ­¥</span>                String name <span class="token operator">=</span> cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"lastTime"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">//è·å–æ—¶é—´</span>                    String value <span class="token operator">=</span> cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//URLè§£ç </span>                    value <span class="token operator">=</span> URLDecoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//è¾“å‡º</span>                    response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;h1>æ¬¢è¿å›æ¥ï¼Œæ‚¨çš„ä¸Šæ¬¡è®¿é—®æ—¶é—´ä¸ºï¼š"</span><span class="token operator">+</span>value<span class="token operator">+</span><span class="token string">"&lt;/h1>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//è®¾ç½®cookieå€¼ï¼Œæ–°çš„è®¿é—®æ—¶é—´</span>                    Date date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    SimpleDateFormat sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyyå¹´MMæœˆddæ—¥ hh:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    String sdf_date <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//ç¼–ç </span>                    sdf_date <span class="token operator">=</span> URLEncoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>sdf_date<span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//å¢åŠ cookie</span>                    cookie<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>sdf_date<span class="token punctuation">)</span><span class="token punctuation">;</span>                    response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//è®¾ç½®cookieçš„å­˜æ´»æ—¶é—´</span>                    cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>cookies<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">0</span><span class="token operator">||</span>cookies<span class="token operator">==</span>null<span class="token operator">||</span>flag<span class="token operator">==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//è¯æ˜æ²¡æœ‰lastTime</span>            Date date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            SimpleDateFormat sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyyå¹´MMæœˆddæ—¥ hh:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            String sdf_date <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>            sdf_date <span class="token operator">=</span> URLEncoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>sdf_date<span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//åˆ›å»ºæ–°çš„cookie</span>            Cookie cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"lastTime"</span><span class="token punctuation">,</span>sdf_date<span class="token punctuation">)</span><span class="token punctuation">;</span>            response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>            cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//è¾“å‡º</span>            response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"æ‚¨æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®è¯¥ç½‘é¡µï¼Œæ¬¢è¿æ‚¨ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>        <span class="token function">doPost</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><hr><h2 id="JSPï¼šå…¥é—¨å­¦ä¹ "><a href="#JSPï¼šå…¥é—¨å­¦ä¹ " class="headerlink" title="JSPï¼šå…¥é—¨å­¦ä¹ "></a>JSPï¼šå…¥é—¨å­¦ä¹ </h2><ol><li>æ¦‚å¿µï¼š<ul><li>Java Server Pagesï¼š javaæœåŠ¡å™¨ç«¯é¡µé¢<ul><li>å¯ä»¥ç†è§£ä¸ºï¼šä¸€ä¸ªç‰¹æ®Šçš„é¡µé¢ï¼Œå…¶ä¸­æ—¢å¯ä»¥æŒ‡å®šå®šä¹‰htmlæ ‡ç­¾ï¼Œåˆå¯ä»¥å®šä¹‰javaä»£ç </li><li>ç”¨äºç®€åŒ–ä¹¦å†™ï¼ï¼ï¼</li></ul></li></ul></li><li>åŸç†<ul><li>JSPæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªServlet</li></ul></li><li>JSPçš„è„šæœ¬ï¼šJSPå®šä¹‰Javaä»£ç çš„æ–¹å¼<ol><li>&lt;%  ä»£ç  %&gt;ï¼šå®šä¹‰çš„javaä»£ç ã€‚</li><li>&lt;%! ä»£ç  %&gt;ï¼šå®šä¹‰çš„javaä»£ç ï¼Œåœ¨jspè½¬æ¢åçš„javaç±»çš„æˆå‘˜ä½ç½®ã€‚</li><li>&lt;%= ä»£ç  %&gt;ï¼šå®šä¹‰çš„javaä»£ç ï¼Œè¡¨è¾¾å¼ã€‚</li></ol></li><li>JSPçš„å†…ç½®å¯¹è±¡ï¼š<pre><code>* åœ¨jspé¡µé¢ä¸­ä¸éœ€è¦è·å–å’Œåˆ›å»ºï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨çš„å¯¹è±¡   * jspä¸€å…±æœ‰9ä¸ªå†…ç½®å¯¹è±¡ã€‚   * ä»Šå¤©å­¦ä¹ 3ä¸ªï¼š       * request       * response       * outï¼šå­—ç¬¦è¾“å‡ºæµå¯¹è±¡ï¼Œå¯ä»¥å°†æ•°æ®è¾“å‡ºåˆ°é¡µé¢ä¸Šã€‚           * response.getWriter()å’Œout.write()çš„åŒºåˆ«ï¼š               * åœ¨tomcatæœåŠ¡å™¨çœŸæ­£ç»™å®¢æˆ·ç«¯åšå‡ºå“åº”ä¹‹å‰ï¼Œä¼šå…ˆæ‰¾responseç¼“å†²åŒºæ•°æ®ï¼Œå†æ‰¾outç¼“å†²åŒºæ•°æ®ã€‚               * response.getWriter()æ•°æ®è¾“å‡ºæ°¸è¿œåœ¨out.write()ä¹‹å‰</code></pre></li></ol><hr><h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><ol><li><p>æ¦‚å¿µï¼šæœåŠ¡å™¨ç«¯ä¼šè¯æŠ€æœ¯ï¼Œåœ¨ä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚é—´å…±äº«æ•°æ®ï¼Œå°†æ•°æ®ä¿å­˜åœ¨==æœåŠ¡å™¨ç«¯==çš„å¯¹è±¡ä¸­ã€‚HttpSession</p></li><li><p><strong>å¿«é€Ÿå…¥é—¨ï¼š</strong></p><ol><li>è·å–HttpSessionå¯¹è±¡ï¼š<br> HttpSession session = request.getSession();</li><li>ä½¿ç”¨HttpSessionå¯¹è±¡ï¼š<br> Object getAttribute(String name)<br> void setAttribute(String name, Object value)<br>void removeAttribute(String name)  </li></ol></li><li><p>åŸç†</p><ul><li>Sessionçš„å®ç°æ˜¯ä¾èµ–äºCookieçš„ã€‚ï¼ˆç”¨cookieæ¥æ ‡è®°sessionIDæ¥æ‰¾åˆ°åŒä¸€ä¸ªsessionï¼‰</li></ul></li><li><p>ç»†èŠ‚ï¼š</p><ol><li><p><strong>å½“å®¢æˆ·ç«¯å…³é—­åï¼ŒæœåŠ¡å™¨ä¸å…³é—­ï¼Œä¸¤æ¬¡è·å–sessionæ˜¯å¦ä¸ºåŒä¸€ä¸ªï¼Ÿ</strong></p><ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸æ˜¯ã€‚</li><li>å¦‚æœéœ€è¦ç›¸åŒï¼Œåˆ™å¯ä»¥åˆ›å»ºCookie,é”®ä¸ºJSESSIONIDï¼Œè®¾ç½®æœ€å¤§å­˜æ´»æ—¶é—´ï¼Œè®©cookieæŒä¹…åŒ–ä¿å­˜ã€‚<br> Cookie c = new Cookie(â€œJSESSIONIDâ€,session.getId());<br>c.setMaxAge(60*60);<br>response.addCookie(c);</li></ul></li><li><p><strong>å®¢æˆ·ç«¯ä¸å…³é—­ï¼ŒæœåŠ¡å™¨å…³é—­åï¼Œä¸¤æ¬¡è·å–çš„sessionæ˜¯åŒä¸€ä¸ªå—ï¼Ÿ</strong></p><ul><li>ä¸æ˜¯åŒä¸€ä¸ªï¼ˆIDä¸åŒï¼‰ï¼Œä½†æ˜¯tomcatå¯ä»¥ä¿è¯æ•°æ®ä¸ä¸¢å¤±ã€‚ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹å·¥ä½œï¼Œideaä¸å¯ä»¥<ul><li>sessionçš„é’åŒ–ï¼š<ul><li>åœ¨æœåŠ¡å™¨æ­£å¸¸å…³é—­ä¹‹å‰ï¼Œå°†sessionå¯¹è±¡ç³»åˆ—åŒ–åˆ°ç¡¬ç›˜ä¸Š</li></ul></li><li>sessionçš„æ´»åŒ–ï¼š<ul><li>åœ¨æœåŠ¡å™¨å¯åŠ¨åï¼Œå°†sessionæ–‡ä»¶è½¬åŒ–ä¸ºå†…å­˜ä¸­çš„sessionå¯¹è±¡å³å¯ã€‚</li></ul></li></ul></li></ul></li><li><p><strong>sessionä»€ä¹ˆæ—¶å€™è¢«é”€æ¯ï¼Ÿ</strong></p><ol><li>==æœåŠ¡å™¨å…³é—­==</li><li>sessionå¯¹è±¡è°ƒç”¨invalidate() ã€‚è‡ªæˆ‘é”€æ¯</li><li>sessioné»˜è®¤å¤±æ•ˆæ—¶é—´ 30åˆ†é’Ÿ<br>é€‰æ‹©æ€§é…ç½®ä¿®æ”¹ï¼ˆweb.xmlï¼‰    <session-config>      <session-timeout>30</session-timeout>  </session-config></li></ol></li><li><p><strong>sessionçš„ç‰¹ç‚¹</strong></p><ol><li>sessionç”¨äºå­˜å‚¨ä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚çš„æ•°æ®ï¼Œå­˜åœ¨æœåŠ¡å™¨ç«¯</li><li>sessionå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹ï¼Œä»»æ„å¤§å°çš„æ•°æ®</li></ol><ul><li><strong>sessionä¸Cookieçš„åŒºåˆ«ï¼š</strong><ol><li>sessionå­˜å‚¨æ•°æ®åœ¨æœåŠ¡å™¨ç«¯ï¼ŒCookieåœ¨å®¢æˆ·ç«¯</li><li>sessionæ²¡æœ‰æ•°æ®å¤§å°é™åˆ¶ï¼ŒCookieæœ‰</li><li>sessionæ•°æ®å®‰å…¨ï¼ŒCookieç›¸å¯¹äºä¸å®‰å…¨</li></ol></li></ul></li></ol></li></ol><hr><h2 id="æ¡ˆä¾‹ï¼šéªŒè¯ç "><a href="#æ¡ˆä¾‹ï¼šéªŒè¯ç " class="headerlink" title="æ¡ˆä¾‹ï¼šéªŒè¯ç "></a>æ¡ˆä¾‹ï¼šéªŒè¯ç </h2><pre><code>1. æ¡ˆä¾‹éœ€æ±‚ï¼š    1. è®¿é—®å¸¦æœ‰éªŒè¯ç çš„ç™»å½•é¡µé¢login.jsp    2. ç”¨æˆ·è¾“å…¥ç”¨æˆ·åï¼Œå¯†ç ä»¥åŠéªŒè¯ç ã€‚        * å¦‚æœç”¨æˆ·åå’Œå¯†ç è¾“å…¥æœ‰è¯¯ï¼Œè·³è½¬ç™»å½•é¡µé¢ï¼Œæç¤º:ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯        * å¦‚æœéªŒè¯ç è¾“å…¥æœ‰è¯¯ï¼Œè·³è½¬ç™»å½•é¡µé¢ï¼Œæç¤ºï¼šéªŒè¯ç é”™è¯¯        * å¦‚æœå…¨éƒ¨è¾“å…¥æ­£ç¡®ï¼Œåˆ™è·³è½¬åˆ°ä¸»é¡µsuccess.jspï¼Œæ˜¾ç¤ºï¼šç”¨æˆ·å,æ¬¢è¿æ‚¨</code></pre><pre><code>2. åˆ†æï¼š    1.å…ˆè®¾è®¡login.jspï¼Œå®ç°è¡¨å•è¡¨æ ¼åµŒå¥—    2.è·å–è¡¨å•çš„å€¼ï¼Œå¹¶å°†å€¼å°è£…æˆuserå¯¹è±¡    3.ä½¿ç”¨å·¥å…·ç±»å’Œdaoæ“ä½œæ•°æ®åº“ç±»ï¼Œå°†å¯¹è±¡ä¼ å…¥å¹¶æŸ¥è¯¢æ•°æ®åº“å¯¹åº”çš„ä¿¡æ¯ï¼Œè¿”å›è¯¥å¯¹è±¡æ‰€æœ‰ä¿¡æ¯    4.è·å–éªŒè¯ç çš„å€¼ï¼Œå°†éšæœºéªŒè¯ç å­˜å‚¨è¿›sessionä¸­ï¼Œ    5.éªŒè¯ç æˆåŠŸå†åˆ¤æ–­è´¦å·å¯†ç ï¼Œå¤±è´¥å°±è½¬å‘åˆ°login.jspï¼Œå¹¶å°†é”™è¯¯ä¿¡æ¯å­˜å‚¨å†requeståŸŸä¸­    6.è´¦å·å¯†ç æˆåŠŸï¼Œåˆ™å°†ç”¨æˆ·ä¿¡æ¯å­˜å‚¨è¿›sessionä¸­ï¼Œé‡å®šå‘åˆ°success.jspï¼Œåœ¨æˆåŠŸé¡µé¢è·å–ä¿¡æ¯    7.è´¦å·å¯†ç å¤±è´¥å°±è½¬å‘åˆ°login.jspä¸­ï¼Œå¹¶å°†é”™è¯¯ä¿¡æ¯å­˜å‚¨åœ¨requeståŸŸä¸­    8.Login.jspè·å–é”™è¯¯ä¿¡æ¯    ç»†èŠ‚ï¼š1.é”™è¯¯ä¿¡æ¯éšè—null:ï¼ˆä¸‰å…ƒè¡¨è¾¾å¼ï¼‰    &lt;%=request.getAttribute("cc_err")==null ? "":request.getAttribute("cc_err") %&gt;    2.é˜²æ­¢è¿”å›é‡å¤å¡«å†™éªŒè¯ç ï¼š    è·å–sessionä¸­éªŒè¯ç çš„å€¼ä¹‹åï¼Œç«‹å³åˆ é™¤å­˜å‚¨åœ¨sessionä¸­çš„éªŒè¯ç ä¿¡æ¯    3.å¤±è´¥è½¬å‘æ˜¯ç”¨requeståŸŸå­˜å‚¨ï¼ŒæˆåŠŸé‡å®šå‘æ˜¯sessionå­˜å‚¨    4.Mapä¸€æ¬¡æ€§è·å–ä¿¡æ¯ä¸èƒ½åˆ†ç¦»éªŒè¯ç ï¼Œå¯¼è‡´æ— æ³•åˆ¤æ–­</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jsp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xmlè¯¦è§£</title>
      <link href="/2020/07/10/qian-duan/xml/"/>
      <url>/2020/07/10/qian-duan/xml/</url>
      
        <content type="html"><![CDATA[<h2 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h2><h3 id="æ¦‚å¿µï¼šExtensible-Markup-Language-å¯æ‰©å±•æ ‡è®°è¯­è¨€"><a href="#æ¦‚å¿µï¼šExtensible-Markup-Language-å¯æ‰©å±•æ ‡è®°è¯­è¨€" class="headerlink" title="æ¦‚å¿µï¼šExtensible Markup Language å¯æ‰©å±•æ ‡è®°è¯­è¨€"></a>æ¦‚å¿µï¼šExtensible Markup Language å¯æ‰©å±•æ ‡è®°è¯­è¨€</h3><ul><li>å¯æ‰©å±•ï¼šæ ‡ç­¾éƒ½æ˜¯è‡ªå®šä¹‰çš„    </li><li>åŠŸèƒ½<ul><li>å­˜å‚¨æ•°æ®<ol><li>é…ç½®æ–‡ä»¶</li><li>åœ¨ç½‘ç»œä¸­ä¼ è¾“</li></ol></li></ul></li><li>XMLå’ŒHTMLçš„åŒºåˆ«<ol><li>XMLçš„æ ‡ç­¾æ˜¯è‡ªå®šä¹‰çš„ï¼Œhtmlçš„æ ‡ç­¾æ˜¯é¢„å®šä¹‰çš„</li><li>xmlçš„è¯­æ³•ä¸¥æ ¼ï¼Œhtmlè¯­æ³•æ¾æ•£</li><li>xmlæ˜¯å­˜å‚¨æ•°æ®çš„ï¼Œhtmlæ˜¯å±•ç¤ºæ•°æ®çš„</li></ol></li></ul><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><ul><li><p>åŸºæœ¬è¯­æ³•ï¼š</p><ul><li><p>xmlç¬¬ä¸€è¡Œå¿…é¡»å®šä¹‰æ–‡æ¡£å£°æ˜ï¼ˆå¿…é¡»æ˜¯ç¬¬ä¸€è¡Œï¼Œä¸èƒ½æœ‰ç©ºæ ¼ï¼‰</p><pre><code>&lt;?xml version='1.0'?&gt;</code></pre></li><li><p>xmlæ–‡æ¡£ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾</p></li><li><p>å±æ€§å€¼å¿…é¡»ä½¿ç”¨å¼•å·å¼•èµ·æ¥</p></li><li><p>æ ‡ç­¾å¿…é¡»æœ‰ç»“æŸæ ‡ç­¾</p></li><li><p>xmlæ ‡ç­¾åç§°åŒºåˆ†å¤§å°å†™</p></li></ul></li><li><p>ç»„æˆéƒ¨åˆ†ï¼š</p><ol><li><p>æ–‡æ¡£å£°æ˜</p><ol><li>æ ¼å¼ï¼š<!--?xml å±æ€§åˆ—è¡¨?--></li><li>å±æ€§åˆ—è¡¨ï¼š<ul><li>versionï¼šç‰ˆæœ¬å·ï¼ˆå¿…é¡»å†™ï¼‰</li><li>encodingï¼šç¼–ç æ–¹å¼ï¼Œå‘ŠçŸ¥è§£æå¼•æ“å½“å‰æ–‡æ¡£ä½¿ç”¨çš„å­—ç¬¦é›†ï¼Œé»˜è®¤iso-8859-1</li><li>standaloneï¼šæ˜¯å¦ç‹¬ç«‹ï¼ˆyesä¸ä¾èµ–å…¶ä»–æ–‡ä»¶/noï¼‰</li></ul></li></ol></li><li><p>æŒ‡ä»¤ï¼ˆäº†è§£ï¼‰</p><ul><li><!--?xml-stylesheet type="text/css" href="a.css"?--></li></ul></li><li><p>æ ‡ç­¾ï¼šæ ‡ç­¾åç§°è‡ªå®šä¹‰</p><ul><li>è§„åˆ™ï¼š<ul><li>ä¸èƒ½æ•°å­—å’Œxmlå¼€å¤´</li></ul></li></ul></li><li><p>å±æ€§ï¼š</p><ul><li>idå±æ€§å€¼å”¯ä¸€</li></ul></li><li><p>æ–‡æœ¬</p><ol><li>CDATAåŒºï¼šå¯ä»¥åŸæ ·è¾“å‡º</li></ol><pre><code>&lt;![CDATA[åŸæ ·è¾“å‡ºçš„æ–‡æœ¬]]&gt;</code></pre></li></ol></li></ul><h3 id="çº¦æŸï¼šè§„å®šXMLæ–‡æ¡£çš„ä¹¦å†™è§„åˆ™"><a href="#çº¦æŸï¼šè§„å®šXMLæ–‡æ¡£çš„ä¹¦å†™è§„åˆ™" class="headerlink" title="çº¦æŸï¼šè§„å®šXMLæ–‡æ¡£çš„ä¹¦å†™è§„åˆ™"></a>çº¦æŸï¼šè§„å®šXMLæ–‡æ¡£çš„ä¹¦å†™è§„åˆ™</h3><ul><li><p>ä½œä¸ºæ¡†æ¶çš„ä½¿ç”¨è€…ï¼š</p><ul><li>èƒ½å¤Ÿåœ¨xmlä¸­å¼•å…¥çº¦æŸæ–‡æ¡£</li><li>èƒ½å¤Ÿç®€å•è¯»æ‡‚çº¦æŸæ–‡æ¡£</li></ul></li><li><p>åˆ†ç±»ï¼š</p><ul><li>DTDï¼šä¸€ä¸ªç®€å•çš„çº¦æŸæŠ€æœ¯</li><li>Schemaï¼šä¸€ç§å¤æ‚çš„çº¦æŸæŠ€æœ¯</li></ul></li><li><p>DTD:ï¼ˆ.dtdï¼‰</p><pre><code>* .dtdçº¦æŸæ–‡ä»¶ï¼š//studentsæ˜¯çˆ¶æ ‡ç­¾ï¼Œé‡Œé¢å¯ä»¥åŒ…å«å¤šä¸ªstudentå­æ ‡ç­¾    &lt;!ELEMENT students (student+)&gt;//studentæ ‡ç­¾ä¸­ï¼Œå¯ä»¥åŒ…å«name,age,sexæ ‡ç­¾    &lt;!ELEMENT student(name,age,sex)&gt;//nameæ ‡ç­¾ä½“çš„ç±»å‹æ˜¯å­—ç¬¦ä¸²    &lt;!ELEMENT name(#PCDATA)&gt;//ageæ ‡ç­¾ä½“çš„ç±»å‹æ˜¯å­—ç¬¦ä¸²    &lt;!ELEMENT age(#PCDATA)&gt;//sexæ ‡ç­¾ä½“çš„ç±»å‹æ˜¯å­—ç¬¦ä¸²    &lt;!ELEMENT sex(#PCDATA)&gt;//studentæ ‡ç­¾å¿…é¡»ï¼ˆ#REQUIREDï¼‰æœ‰ä¸€ä¸ªnumberå±æ€§ï¼Œå±æ€§ç±»å‹æ˜¯id    &lt;!ATTLIST student number ID #REQUIRED&gt;</code></pre><p>```</p></li><li><p>å¼•å…¥dtdæ–‡æ¡£åˆ°xmlæ–‡æ¡£ä¸­</p><ul><li><p>å†…éƒ¨dtdï¼šå°†çº¦æŸè§„åˆ™å®šä¹‰åœ¨xmlæ–‡æ¡£ä¸­ï¼ˆäº†è§£ï¼‰</p><p>â€‹    </p></li><li><p>å¤–éƒ¨dtdï¼šå°†çº¦æŸè§„åˆ™å®šä¹‰åœ¨å¤–éƒ¨dtdæ–‡ä»¶ä¸­</p><ul><li>æœ¬åœ°ï¼š</li><li>ç½‘ç»œï¼š</li></ul></li></ul></li></ul><pre><code>* XSDï¼ˆSchemaï¼‰(.xsd)* ```xml  * .xsdçº¦æŸæ–‡ä»¶ï¼š  //studentsæ ‡ç­¾ï¼Œç±»å‹ä¸ºstudentsType  &lt;xsd:element name="students" type="studentsType"/&gt;  //å¯¹studentsTypeçš„è§£æï¼Œå¤æ‚ç±»å‹  &lt;xsd:complexType name="studentsType"&gt;      //æŒ‰é¡ºåº      &lt;xsd:sequence&gt;          //studentæ ‡ç­¾ï¼Œç±»å‹ä¸ºstudentTypeï¼Œè‡³å°‘æ˜¯0ä¸ªï¼Œè‡³å¤šä¸é™          &lt;xsd:element name="student" type="studentType" minOccurs="0" maxOccurs="unbounded"/&gt;      &lt;/xsd:sequence&gt;  &lt;/xsd:complexType&gt;  //å¯¹studentTypeçš„è§£æï¼Œå¤æ‚ç±»å‹  &lt;xsd:complexType name="studentType"&gt;      &lt;xsd:sequence&gt;          //nameæ ‡ç­¾ï¼Œç±»å‹ä¸ºstring          &lt;xsd:element name="name" type="xsd:string"/&gt;          //ageæ ‡ç­¾ï¼Œç±»å‹ä¸ºageType          &lt;xsd:element name="age" type="ageType" /&gt;          &lt;xsd:element name="sex" type="sexType" /&gt;      &lt;/xsd:sequence&gt;      //studentæ ‡ç­¾ä¸­çš„å±æ€§ï¼Œnumberï¼Œç±»å‹ä¸ºnumberTypeï¼Œä¸å¯é‡å¤      &lt;xsd:attribute name="number" type="numberType" use="required"/&gt;  &lt;/xsd:complexType&gt;  //å¯¹sexTypeçš„è§£æï¼Œç®€å•ç±»å‹  &lt;xsd:simpleType name="sexType"&gt;      //çº¦æŸï¼Œç±»å‹ä¸ºstring      &lt;xsd:restriction base="xsd:string"&gt;          //æšä¸¾          &lt;xsd:enumeration value="male"/&gt;          &lt;xsd:enumeration value="female"/&gt;      &lt;/xsd:restriction&gt;  &lt;/xsd:simpleType&gt;  //å¯¹ageTypeçš„è§£æï¼Œç®€å•ç±»å‹  &lt;xsd:simpleType name="ageType"&gt;      &lt;xsd:restriction base="xsd:integer"&gt;          //æœ€å¤§æœ€å°å€¼é™å®š          &lt;xsd:minInclusive value="0"/&gt;          &lt;xsd:maxInclusive value="256"/&gt;      &lt;/xsd:restriction&gt;  &lt;/xsd:simpleType&gt;  //å¯¹numberTypeçš„è§£æï¼Œç®€å•ç±»å‹  &lt;xsd:simpleType name="numberType"&gt;      &lt;xsd:restriction base="xsd:string"&gt;          //æ ¼å¼ä¸ºï¼šheima_4ä¸ªæ•°å­—          &lt;xsd:pattern value="heima_\d{4}"/&gt;      &lt;/xsd:restriction&gt;  &lt;/xsd:simpleType&gt;</code></pre><ul><li><p>å¼•å…¥xsdæ–‡ä»¶çš„æ–¹æ³•ï¼š</p><pre><code>        * å¼•å…¥ï¼š                  1.å¡«å†™xmlæ–‡æ¡£çš„æ ¹å…ƒç´ ï¼ˆ&lt;students &gt;ï¼‰                  2.å¼•å…¥xsiå‰ç¼€.  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"                  3.å¼•å…¥xsdæ–‡ä»¶ å‘½åç©ºé—´.  xsi:schemaLocation="http://www.itcast.cn/xmlï¼ˆç»™è·¯å¾„èµ·çš„åå­—ï¼Œå³å‘½åç©ºé—´ï¼‰  student.xsd(è¿™æ˜¯æ–‡ä»¶è·¯å¾„)"                  4.ä¸ºæ¯ä¸€ä¸ªxsdçº¦æŸå£°æ˜ä¸€ä¸ªå‰ç¼€,ä½œä¸ºæ ‡è¯†  xmlns="http://www.itcast.cn/xml" ï¼ˆç»™çº¦æŸèµ·ä¸ªåå­—ï¼Œä»¥åç”¨çš„æ—¶å€™å“ªä¸ªè¯­å¥ç”¨å“ªä¸ªçº¦æŸï¼Œç›´æ¥å†™åå­—å¼€å¤´å³å¯ï¼‰                  å¦‚xmlns:a="http://www.itcast.cn/xml"ï¼Œä¸å†™å°±æ˜¯é»˜è®¤                    &lt;ï¼ˆ1ï¼‰students   ï¼ˆ2ï¼‰xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"                  ï¼ˆ4ï¼‰xmlns="http://www.itcast.cn/xml"                  ï¼ˆ3ï¼‰xsi:schemaLocation="http://www.itcast.cn/xml  student.xsd"&gt;</code></pre></li></ul><hr><h3 id="è§£æï¼šæ“ä½œxmlæ–‡æ¡£ï¼Œå°†æ–‡æ¡£ä¸­çš„æ•°æ®è¯»å–åˆ°å†…å­˜ä¸­"><a href="#è§£æï¼šæ“ä½œxmlæ–‡æ¡£ï¼Œå°†æ–‡æ¡£ä¸­çš„æ•°æ®è¯»å–åˆ°å†…å­˜ä¸­" class="headerlink" title="è§£æï¼šæ“ä½œxmlæ–‡æ¡£ï¼Œå°†æ–‡æ¡£ä¸­çš„æ•°æ®è¯»å–åˆ°å†…å­˜ä¸­"></a>è§£æï¼šæ“ä½œxmlæ–‡æ¡£ï¼Œå°†æ–‡æ¡£ä¸­çš„æ•°æ®è¯»å–åˆ°å†…å­˜ä¸­</h3><ul><li><p>æ“ä½œxmlæ–‡æ¡£</p><ol><li>è§£æï¼ˆè¯»å–ï¼‰ï¼šå°†æ–‡æ¡£ä¸­çš„æ•°æ®è¯»å–åˆ°å†…å­˜ä¸­</li><li>å†™å…¥ï¼šå°†å†…å­˜ä¸­çš„æ•°æ®åŒ…ä¿å­˜åˆ°xmlæ–‡æ¡£ä¸­ï¼ŒæŒä¹…åŒ–çš„å­˜å‚¨</li></ol></li><li><p>è§£æxmlçš„æ–¹å¼ï¼š</p><ol><li><p>DOMï¼šå°†æ ‡è®°è¯­è¨€æ–‡æ¡£ä¸€æ¬¡æ€§åŠ è½½è¿›å†…å­˜ï¼Œåœ¨å†…å­˜ä¸­å½¢æˆä¸€é¢—domæ ‘</p><ul><li><p>ä¼˜ç‚¹ï¼šæ“ä½œæ–¹ä¾¿ï¼Œå¯ä»¥å¯¹æ–‡æ¡£è¿›è¡ŒCRUDçš„æ‰€æœ‰æ“ä½œ</p></li><li><p>ç¼ºç‚¹ï¼šå å†…å­˜</p></li></ul></li><li><p>SAXï¼šé€è¡Œè¯»å–ï¼ŒåŸºäºäº‹ä»¶é©±åŠ¨çš„ã€‚</p><ul><li>ä¼˜ç‚¹ï¼šä¸å å†…å­˜ã€‚</li><li>ç¼ºç‚¹ï¼šåªèƒ½è¯»å–ï¼Œä¸èƒ½å¢åˆ æ”¹</li></ul></li></ol></li><li><p>xmlå¸¸è§çš„è§£æå™¨ï¼š</p><ol><li>JAXPï¼šsunå…¬å¸æä¾›çš„è§£æå™¨ï¼Œæ”¯æŒdomå’Œsaxä¸¤ç§æ€æƒ³</li><li>DOM4Jï¼šä¸€æ¬¾éå¸¸ä¼˜ç§€çš„è§£æå™¨</li><li>Jsoupï¼šjsoup æ˜¯ä¸€æ¬¾Java çš„HTMLè§£æå™¨ï¼Œå¯ç›´æ¥è§£ææŸä¸ªURLåœ°å€ã€HTMLæ–‡æœ¬å†…å®¹ã€‚å®ƒæä¾›äº†ä¸€å¥—éå¸¸çœåŠ›çš„APIï¼Œå¯é€šè¿‡DOMï¼ŒCSSä»¥åŠç±»ä¼¼äºjQueryçš„æ“ä½œæ–¹æ³•æ¥å–å‡ºå’Œæ“ä½œæ•°æ®</li><li>PULLï¼šAndroidæ“ä½œç³»ç»Ÿå†…ç½®çš„è§£æå™¨ï¼Œsaxæ–¹å¼çš„ã€‚</li></ol></li><li><p><strong>Jsoupè§£æå™¨è¯¦è§£</strong></p><ul><li><p>æ­¥éª¤ï¼š</p><ol><li><p>å¯¼å…¥jaråŒ…ï¼šjsoup-1.11.2.jar</p></li><li><p>è·å–Documentå¯¹è±¡</p><pre><code>Jsoup.pasrse(æ–‡ä»¶,"å­—ç¬¦é›†")æ³¨æ„ï¼šæ–‡ä»¶å¯ä»¥é€šè¿‡ ç±»å.class.getClassLoader().getAsResource("student.xml")æ¥è·å–</code></pre></li><li><p>è·å–å¯¹åº”çš„æ ‡ç­¾Elementå¯¹è±¡</p><pre><code>Elements æŒ‡çš„æ˜¯é›†åˆï¼Œå¯ä»¥é€šè¿‡é›†åˆçš„æ–¹å¼get(ç´¢å¼•)æ¥è·å–å¯¹è±¡</code></pre></li><li><p>è·å–æ•°æ®</p><pre><code>element.text()è·å–æ–‡æœ¬æ•°æ®</code></pre></li></ol></li><li><p>å¯¹è±¡çš„ä½¿ç”¨ï¼š</p><ol><li><strong>Jsoupï¼šå·¥å…·ç±»ï¼Œå¯ä»¥è§£æhtmlæˆ–xmlæ–‡æ¡£ï¼Œè¿”å›Document</strong></li></ol></li></ul></li><li><p>parseï¼šè§£æhtmlæˆ–xmlæ–‡æ¡£ï¼Œè¿”å›Document</p><pre><code>                       * parse(File in, String charsetName)ï¼šè§£æxmlæˆ–htmlæ–‡ä»¶çš„ã€‚                    * parse(String html)ï¼šè§£æxmlæˆ–htmlå­—ç¬¦ä¸²                    * parse(URL url, int timeoutMillis)ï¼šé€šè¿‡ç½‘ç»œè·¯å¾„è·å–æŒ‡å®šçš„htmlæˆ–xmlçš„æ–‡æ¡£å¯¹è±¡</code></pre></li></ul><ol start="2"><li><p><strong>Documentï¼šæ–‡æ¡£å¯¹è±¡ï¼Œä»£è¡¨å†…å­˜ä¸­çš„domæ ‘</strong></p><ul><li>è·å–Elementå¯¹è±¡<pre><code>                  * getElementById(String id)ï¼šæ ¹æ®idå±æ€§å€¼è·å–å”¯ä¸€çš„elementå¯¹è±¡                * getElementsByTag(String tagName)ï¼šæ ¹æ®æ ‡ç­¾åç§°è·å–å…ƒç´ å¯¹è±¡é›†åˆ                * getElementsByAttribute(String key)ï¼šæ ¹æ®å±æ€§åç§°è·å–å…ƒç´ å¯¹è±¡é›†åˆ                * getElementsByAttributeValue(String key, String value)ï¼šæ ¹æ®å¯¹åº”çš„å±æ€§åå’Œå±æ€§å€¼è·å–å…ƒç´ å¯¹è±¡é›†åˆ</code></pre></li></ul><ol start="3"><li><p>Elementsï¼šå…ƒç´ Elementå¯¹è±¡çš„é›†åˆã€‚å¯ä»¥å½“åš ArrayList<element>æ¥ä½¿ç”¨,get(ç´¢å¼•)</element></p></li><li><p><strong>Elementï¼šå…ƒç´ å¯¹è±¡</strong></p></li></ol></li><li><p>è·å–å­å…ƒç´ å¯¹è±¡</p><pre><code>                            * getElementById(String id)ï¼šæ ¹æ®idå±æ€§å€¼è·å–å”¯ä¸€çš„elementå¯¹è±¡                     * getElementsByTag(String tagName)ï¼šæ ¹æ®æ ‡ç­¾åç§°è·å–å…ƒç´ å¯¹è±¡é›†åˆ                   * getElementsByAttribute(String key)ï¼šæ ¹æ®å±æ€§åç§°è·å–å…ƒç´ å¯¹è±¡é›†åˆ                   * getElementsByAttributeValue(String key, String value)ï¼šæ ¹æ®å¯¹åº”çš„å±æ€§åå’Œå±æ€§å€¼è·å–å…ƒç´ å¯¹è±¡é›†åˆ              2. è·å–å±æ€§å€¼                * String attr(String key)ï¼šæ ¹æ®å±æ€§åç§°è·å–å±æ€§å€¼            3. è·å–æ–‡æœ¬å†…å®¹                * String text():è·å–çº¯æ–‡æœ¬å†…å®¹                * String html():è·å–æ ‡ç­¾ä½“å†…æ‰€æœ‰å†…å®¹çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼(åŒ…æ‹¬å­æ ‡ç­¾çš„æ ‡ç­¾å’Œæ–‡æœ¬å†…å®¹)</code></pre><ol start="5"><li><strong>Nodeï¼šèŠ‚ç‚¹å¯¹è±¡</strong></li></ol><ul><li>æ˜¯Documentå’ŒElementçš„çˆ¶ç±»</li></ul></li></ol><p>â€‹    </p><ul><li><p>å¿«æ·æŸ¥è¯¢æ–¹å¼</p><ul><li><strong>selectorï¼šé€‰æ‹©å™¨</strong></li></ul></li><li><p>ä½¿ç”¨çš„æ–¹æ³•ï¼šElements    select(String cssQuery)</p><pre><code>        * è¯­æ³•ï¼šå‚è€ƒAPIæ–‡æ¡£é‡ŒSelectorç±»ä¸­å®šä¹‰çš„è¯­æ³•    å¦‚ï¼šè·å–æœ‰numberå±æ€§å€¼ä¸ºheima_0001çš„studentæ ‡ç­¾ä¸­çš„ageå­æ ‡ç­¾  Elements eles = document.select("student[number='heima_0001'] age")</code></pre><ul><li><p><strong>xpathï¼šXPathå³ä¸ºXMLè·¯å¾„è¯­è¨€ï¼Œå®ƒæ˜¯ä¸€ç§ç”¨æ¥ç¡®å®šXMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„å­é›†ï¼‰æ–‡æ¡£ä¸­æŸéƒ¨åˆ†ä½ç½®çš„è¯­è¨€</strong></p><ul><li>ä½¿ç”¨Jsoupçš„Xpathéœ€è¦é¢å¤–==å¯¼å…¥jaråŒ…==ï¼šJsoupXpath-0.3.2.jar    <ul><li>æŸ¥è¯¢w3cshoolå‚è€ƒæ‰‹å†Œï¼Œä½¿ç”¨xpathçš„è¯­æ³•å®ŒæˆæŸ¥è¯¢</li></ul></li></ul><p>//1.è·å–student.xmlçš„path</p><pre><code>            String path = JsoupDemo6.class.getClassLoader().getResource("student.xml").getPath();              //2.è·å–Documentå¯¹è±¡              Document document = Jsoup.parse(new File(path), "utf-8");                //3.æ ¹æ®documentå¯¹è±¡ï¼Œåˆ›å»ºJXDocumentå¯¹è±¡              JXDocument jxDocument = new JXDocument(document);                    //4.ç»“åˆxpathè¯­æ³•æŸ¥è¯¢            //4.1æŸ¥è¯¢æ‰€æœ‰studentæ ‡ç­¾              List&lt;JXNode&gt; jxNodes = jxDocument.selN("//student");              for (JXNode jxNode : jxNodes) {                  System.out.println(jxNode);              }                    System.out.println("--------------------");                    //4.2æŸ¥è¯¢æ‰€æœ‰studentæ ‡ç­¾ä¸‹çš„nameæ ‡ç­¾              List&lt;JXNode&gt; jxNodes2 = jxDocument.selN("//student/name");              for (JXNode jxNode : jxNodes2) {                  System.out.println(jxNode);              }                    System.out.println("--------------------");                    //4.3æŸ¥è¯¢studentæ ‡ç­¾ä¸‹å¸¦æœ‰idå±æ€§çš„nameæ ‡ç­¾              List&lt;JXNode&gt; jxNodes3 = jxDocument.selN("//student/name[@id]");              for (JXNode jxNode : jxNodes3) {                  System.out.println(jxNode);              }              System.out.println("--------------------");              //4.4æŸ¥è¯¢studentæ ‡ç­¾ä¸‹å¸¦æœ‰idå±æ€§çš„nameæ ‡ç­¾ å¹¶ä¸”idå±æ€§å€¼ä¸ºitcast                    List&lt;JXNode&gt; jxNodes4 = jxDocument.selN("//student/name[@id='itcast']");              for (JXNode jxNode : jxNodes4) {                  System.out.println(jxNode);              }</code></pre></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> xml </category>
          
      </categories>
      
      
        <tags>
            
            <tag> xml </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jqueryé«˜çº§æ“ä½œ</title>
      <link href="/2020/07/09/qian-duan/jquery-gao-ji/"/>
      <url>/2020/07/09/qian-duan/jquery-gao-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="JQuery-é«˜çº§"><a href="#JQuery-é«˜çº§" class="headerlink" title="JQuery é«˜çº§"></a>JQuery é«˜çº§</h2><h3 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h3><ol><li><p>ä¸‰ç§æ–¹å¼æ˜¾ç¤ºå’Œéšè—å…ƒç´ </p><ol><li><p>é»˜è®¤æ˜¾ç¤ºå’Œéšè—æ–¹å¼</p><ol><li><p>show([speed,[easing],[fn]])</p><ol><li>å‚æ•°ï¼š<ol><li>speedï¼šåŠ¨ç”»çš„é€Ÿåº¦ã€‚ä¸‰ä¸ªé¢„å®šä¹‰çš„å€¼(â€œslowâ€,â€normalâ€, â€œfastâ€)æˆ–è¡¨ç¤ºåŠ¨ç”»æ—¶é•¿çš„æ¯«ç§’æ•°å€¼(å¦‚ï¼š1000)</li><li>easingï¼šç”¨æ¥æŒ‡å®šåˆ‡æ¢æ•ˆæœï¼Œé»˜è®¤æ˜¯â€swingâ€ï¼Œå¯ç”¨å‚æ•°â€linearâ€<ul><li>swingï¼šåŠ¨ç”»æ‰§è¡Œæ—¶æ•ˆæœæ˜¯ å…ˆæ…¢ï¼Œä¸­é—´å¿«ï¼Œæœ€ååˆæ…¢</li><li>linearï¼šåŠ¨ç”»æ‰§è¡Œæ—¶é€Ÿåº¦æ˜¯åŒ€é€Ÿçš„</li></ul></li></ol></li><li>fnï¼šåœ¨åŠ¨ç”»å®Œæˆæ—¶æ‰§è¡Œçš„å‡½æ•°ï¼Œæ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡ã€‚</li></ol></li><li><p>hide([speed,[easing],[fn]])</p></li><li><p>toggle([speed],[easing],[fn])</p></li></ol></li><li><p>æ»‘åŠ¨æ˜¾ç¤ºå’Œéšè—æ–¹å¼</p><ol><li>slideDown([speed],[easing],[fn])</li><li>slideUp([speed,[easing],[fn]])</li></ol></li><li><p>slideToggle([speed],[easing],[fn])</p></li><li><p>æ·¡å…¥æ·¡å‡ºæ˜¾ç¤ºå’Œéšè—æ–¹å¼</p><ol><li>fadeIn([speed],[easing],[fn])</li><li>fadeOut([speed],[easing],[fn])</li><li>fadeToggle([speed,[easing],[fn]])</li></ol></li></ol></li></ol><h3 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h3><ol><li>jsçš„éå†æ–¹å¼<ul><li>for(åˆå§‹åŒ–å€¼;å¾ªç¯ç»“æŸæ¡ä»¶;æ­¥é•¿)</li></ul></li><li>jqçš„éå†æ–¹å¼</li><li>jqå¯¹è±¡.each(callback)    1. è¯­æ³•ï¼š<br> jqueryå¯¹è±¡.each(function(index,element){});<ul><li>index:å°±æ˜¯å…ƒç´ åœ¨é›†åˆä¸­çš„ç´¢å¼•</li><li>elementï¼šå°±æ˜¯é›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å¯¹è±¡</li><li>thisï¼šé›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å¯¹è±¡    2. å›è°ƒå‡½æ•°è¿”å›å€¼ï¼š</li><li>true:å¦‚æœå½“å‰functionè¿”å›ä¸ºfalseï¼Œåˆ™ç»“æŸå¾ªç¯(break)ã€‚</li><li>false:å¦‚æœå½“å‰functionè¿”å›ä¸ºtrueï¼Œåˆ™ç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œç»§ç»­ä¸‹æ¬¡å¾ªç¯(continue)</li></ul></li></ol><pre><code>``` html&lt;ul id="address"&gt;&lt;li&gt;åŒ—äº¬&lt;/li&gt;&lt;li&gt;ä¸Šæµ·&lt;/li&gt;&lt;/ul&gt;&lt;script&gt;    $("#address li").each(function(){        alert(this.innerHTML());    });    //ç¬¬äºŒç§å†™æ³•    $("#address li").each(function(index,element){        //åˆ¤æ–­å¦‚æœæ˜¯åŒ—äº¬ï¼Œè·³è¿‡        if("ä¸Šæµ·"==element.innerHtml()){            //functionè¿”å›falseï¼Œ(break)            //functionè¿”å›trueï¼Œ(continue)            return true;        }        //alert(index+":"+element.innerHtml());        //alert(index+":"+$(element).html());    });&lt;/script&gt;```</code></pre><ol start="2"><li><p>$.each(object, [callback])</p><pre class=" language-html"><code class="language-html">$.each($("#address li"),funtion(){    //é€»è¾‘ç›¸åŒ    alert(this.innerHtml());});</code></pre></li><li><p>for..of: jquery 3.0 ç‰ˆæœ¬ä¹‹åæä¾›çš„æ–¹å¼ï¼ˆå› ä¸ºç‰ˆæœ¬å¤ªæ–°ï¼Œä¸æ¨èä½¿ç”¨ï¼‰<br>for(å…ƒç´ å¯¹è±¡ of å®¹å™¨å¯¹è±¡)</p></li></ol><pre><code>``` for(li of $("#address li")){    alert(li.innerHtml());}```</code></pre><h3 id="äº‹ä»¶ç»‘å®š"><a href="#äº‹ä»¶ç»‘å®š" class="headerlink" title="äº‹ä»¶ç»‘å®š"></a>äº‹ä»¶ç»‘å®š</h3><ol><li>jqueryæ ‡å‡†çš„ç»‘å®šæ–¹å¼<ul><li>jqå¯¹è±¡.äº‹ä»¶æ–¹æ³•(å›è°ƒå‡½æ•°)ï¼›</li><li>æ³¨ï¼šå¦‚æœè°ƒç”¨äº‹ä»¶æ–¹æ³•ï¼Œä¸ä¼ é€’å›è°ƒå‡½æ•°ï¼Œåˆ™ä¼šè§¦å‘æµè§ˆå™¨é»˜è®¤è¡Œä¸ºã€‚<ul><li>è¡¨å•å¯¹è±¡.submit();//è®©è¡¨å•æäº¤</li></ul></li></ul></li><li>onç»‘å®šäº‹ä»¶/offè§£é™¤ç»‘å®š<ul><li>jqå¯¹è±¡.on(â€œäº‹ä»¶åç§°â€,å›è°ƒå‡½æ•°)</li><li>jqå¯¹è±¡.off(â€œäº‹ä»¶åç§°â€)<ul><li>å¦‚æœoffæ–¹æ³•ä¸ä¼ é€’ä»»ä½•å‚æ•°ï¼Œåˆ™å°†ç»„ä»¶ä¸Šçš„æ‰€æœ‰äº‹ä»¶å…¨éƒ¨è§£ç»‘</li></ul></li></ul></li><li>äº‹ä»¶åˆ‡æ¢ï¼štoggle<ul><li>jqå¯¹è±¡.toggle(fn1,fn2â€¦)<ul><li>å½“å•å‡»jqå¯¹è±¡å¯¹åº”çš„ç»„ä»¶åï¼Œä¼šæ‰§è¡Œfn1.ç¬¬äºŒæ¬¡ç‚¹å‡»ä¼šæ‰§è¡Œfn2â€¦..</li></ul></li><li>æ³¨æ„ï¼š1.9ç‰ˆæœ¬ .toggle() æ–¹æ³•åˆ é™¤,jQuery Migrateï¼ˆè¿ç§»ï¼‰æ’ä»¶å¯ä»¥æ¢å¤æ­¤åŠŸèƒ½ã€‚<pre><code>&lt;script src="../js/jquery-migrate-1.0.0.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt;</code></pre></li></ul></li></ol><h4 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h4><pre class=" language-html"><code class="language-html">å¹¿å‘Šæ˜¾ç¤ºã€éšè—ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>xx.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å®šæ—¶å™¨</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>div1Show<span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>div1Hide<span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">function</span> <span class="token function">div1Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#div1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">"slow"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">div1SHide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#div1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token string">"slow"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><pre class=" language-html"><code class="language-html">æŠ½å¥–ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>xiaodiv<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>xx.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>&lt;input type="button" id="start" value = "å¼€å§‹">&lt;input type="button" id="stop" value = "åœæ­¢"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dadiv<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>xx.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> imgs<span class="token operator">=</span><span class="token punctuation">{</span>        src<span class="token operator">=</span><span class="token string">"1.jpg"</span><span class="token punctuation">;</span>        src<span class="token operator">=</span><span class="token string">"1.jpg"</span><span class="token punctuation">;</span>        src<span class="token operator">=</span><span class="token string">"1.jpg"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">var</span> startId<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¼€å§‹æŒ‰é’®çš„å®šæ—¶å™¨</span>    <span class="token keyword">var</span> index<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//éšæœºè§’æ ‡</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//åˆšå¼€å§‹ï¼Œåœæ­¢ä¸å¯ç”¨</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#start"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">,</span><span class="token string">"false"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#start"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">,</span><span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#start"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//ç‚¹å‡»å¼€å§‹ï¼Œå¼€å§‹ä¸å¯ç”¨</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#start"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">,</span><span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#start"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">,</span><span class="token string">"false"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//æ•°ç»„è§’æ ‡éšæœº0-3</span>        index <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//è®¾ç½®å¾ªç¯å®šæ—¶å™¨</span>        startId<span class="token operator">=</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//è®¾ç½®å°ç›¸æ¡†é‡Œimgæ ‡ç­¾ä¸‹çš„srcå±æ€§ä¸ºéšæœºsrc</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#xiaodiv"</span> img<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">,</span>imgs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#stop"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//ç‚¹å‡»åœæ­¢ï¼Œåœæ­¢ä¸å¯ç”¨</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#start"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">,</span><span class="token string">"false"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#start"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">,</span><span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å°ç›¸æ¡†åœæ­¢â€”â€”åœæ­¢å¾ªç¯å®šæ—¶å™¨</span>        <span class="token function">clearInterval</span><span class="token punctuation">(</span>startId<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//è®¾ç½®å¤§ç›¸æ¡†é‡Œimgæ ‡ç­¾ä¸‹çš„srcå±æ€§ä¸ºå°ç›¸æ¡†çš„src</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#dadiv"</span> img<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">,</span>imgs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h3 id="æ’ä»¶ï¼šå¢å¼ºJQueryçš„åŠŸèƒ½"><a href="#æ’ä»¶ï¼šå¢å¼ºJQueryçš„åŠŸèƒ½" class="headerlink" title="æ’ä»¶ï¼šå¢å¼ºJQueryçš„åŠŸèƒ½"></a>æ’ä»¶ï¼šå¢å¼ºJQueryçš„åŠŸèƒ½</h3><ol><li>å®ç°æ–¹å¼ï¼š<ol><li>$.fn.extend(object) <ul><li>å¢å¼ºé€šè¿‡Jqueryè·å–çš„å¯¹è±¡çš„åŠŸèƒ½  $(â€œ#idâ€)</li></ul></li><li>$.extend(object)<ul><li>å¢å¼ºJQeuryå¯¹è±¡è‡ªèº«çš„åŠŸèƒ½  $/jQuery</li></ul></li></ol></li></ol><pre class=" language-html"><code class="language-html">å®šä¹‰jqå¯¹è±¡çš„åŠŸèƒ½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å®šä¹‰äº†ä¸€ä¸ªcheckæ–¹æ³•ï¼Œæ‰€æœ‰çš„jqå¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨æ­¤æ–¹æ³•</span>    check<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"checked"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//è°ƒç”¨</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"btn_check"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"input[type="</span>checkbox<span class="token string">"]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>å®šä¹‰å…¨å±€çš„åŠŸèƒ½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å®šä¹‰ä¸€ä¸ªå–ä¸¤å€¼ä¹‹é—´æœ€å¤§æ•°çš„æ–¹æ³•</span>    max<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">var</span> a<span class="token punctuation">,</span><span class="token keyword">var</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> a <span class="token operator">>=</span>b <span class="token operator">?</span> a<span class="token punctuation">:</span>b<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">//ä¸¤ä¸ªæ–¹æ³•ä¹‹é—´ç”¨â€œï¼Œâ€è¿æ¥</span>    min<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">var</span> a<span class="token punctuation">,</span><span class="token keyword">var</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> a <span class="token operator">&lt;=</span>b <span class="token operator">?</span> a<span class="token punctuation">:</span>b<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//è°ƒç”¨</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> maxValue <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h4 id="æ¡ˆä¾‹-1"><a href="#æ¡ˆä¾‹-1" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h4><p>æ¡ˆä¾‹éœ€æ±‚ï¼š<br>     1. æä¾›index.htmlé¡µé¢ï¼Œé¡µé¢ä¸­æœ‰ä¸€ä¸ªçœä»½ ä¸‹æ‹‰åˆ—è¡¨<br>     2. å½“é¡µé¢åŠ è½½å®Œæˆå å‘é€ajaxè¯·æ±‚ï¼ŒåŠ è½½æ‰€æœ‰çœä»½ï¼ˆä½¿ç”¨ç¼“å­˜æ¥å¤„ç†ä¼˜åŒ–ï¼‰</p><ul><li>æ³¨æ„ï¼šä½¿ç”¨redisç¼“å­˜ä¸€äº›ä¸ç»å¸¸å‘ç”Ÿå˜åŒ–çš„æ•°æ®ã€‚<ul><li>æ•°æ®åº“çš„æ•°æ®ä¸€æ—¦å‘ç”Ÿæ”¹å˜ï¼Œåˆ™éœ€è¦æ›´æ–°ç¼“å­˜ã€‚</li><li>æ•°æ®åº“çš„è¡¨æ‰§è¡Œ å¢åˆ æ”¹çš„ç›¸å…³æ“ä½œï¼Œéœ€è¦å°†redisç¼“å­˜æ•°æ®æƒ…å†µï¼Œå†æ¬¡å­˜å…¥</li><li>åœ¨serviceå¯¹åº”çš„å¢åˆ æ”¹æ–¹æ³•ä¸­ï¼Œå°†redisæ•°æ®åˆ é™¤ã€‚</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JqueryåŸºç¡€</title>
      <link href="/2020/07/08/qian-duan/jquery-ji-chu/"/>
      <url>/2020/07/08/qian-duan/jquery-ji-chu/</url>
      
        <content type="html"><![CDATA[<h2 id="JQuery-åŸºç¡€"><a href="#JQuery-åŸºç¡€" class="headerlink" title="JQuery åŸºç¡€"></a>JQuery åŸºç¡€</h2><h3 id="æ¦‚å¿µï¼š-ä¸€ä¸ªJavaScriptæ¡†æ¶ã€‚ç®€åŒ–JSå¼€å‘"><a href="#æ¦‚å¿µï¼š-ä¸€ä¸ªJavaScriptæ¡†æ¶ã€‚ç®€åŒ–JSå¼€å‘" class="headerlink" title="æ¦‚å¿µï¼š ä¸€ä¸ªJavaScriptæ¡†æ¶ã€‚ç®€åŒ–JSå¼€å‘"></a>æ¦‚å¿µï¼š ä¸€ä¸ªJavaScriptæ¡†æ¶ã€‚ç®€åŒ–JSå¼€å‘</h3><ul><li><p>jQueryæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´çš„JavaScriptæ¡†æ¶ï¼Œæ˜¯ç»§Prototypeä¹‹ååˆä¸€ä¸ªä¼˜ç§€çš„JavaScriptä»£ç åº“ï¼ˆæˆ–JavaScriptæ¡†æ¶ï¼‰ã€‚å®ƒå°è£…JavaScriptå¸¸ç”¨çš„åŠŸèƒ½ä»£ç ï¼Œæä¾›ä¸€ç§ç®€ä¾¿çš„JavaScriptè®¾è®¡æ¨¡å¼ï¼Œä¼˜åŒ–HTMLæ–‡æ¡£æ“ä½œã€äº‹ä»¶å¤„ç†ã€åŠ¨ç”»è®¾è®¡å’ŒAjaxäº¤äº’ã€‚</p></li><li><p>JavaScriptæ¡†æ¶ï¼šæœ¬è´¨ä¸Šå°±æ˜¯ä¸€äº›jsæ–‡ä»¶ï¼Œå°è£…äº†jsçš„åŸç”Ÿä»£ç è€Œå·²</p></li></ul><h3 id="å¿«é€Ÿå…¥é—¨"><a href="#å¿«é€Ÿå…¥é—¨" class="headerlink" title="å¿«é€Ÿå…¥é—¨"></a>å¿«é€Ÿå…¥é—¨</h3><ol><li><p><strong>æ­¥éª¤ï¼š</strong></p></li><li><p>ä¸‹è½½JQuery</p><ul><li>ç›®å‰jQueryæœ‰ä¸‰ä¸ªå¤§ç‰ˆæœ¬ï¼š<br>  1.xï¼šå…¼å®¹ie678,ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„ï¼Œå®˜æ–¹åªåšBUGç»´æŠ¤ï¼Œ<pre><code>   åŠŸèƒ½ä¸å†æ–°å¢ã€‚å› æ­¤ä¸€èˆ¬é¡¹ç›®æ¥è¯´ï¼Œä½¿ç”¨1.xç‰ˆæœ¬å°±å¯ä»¥äº†ï¼Œ   æœ€ç»ˆç‰ˆæœ¬ï¼š1.12.4 (2016å¹´5æœˆ20æ—¥)</code></pre>  2.xï¼šä¸å…¼å®¹ie678ï¼Œå¾ˆå°‘æœ‰äººä½¿ç”¨ï¼Œå®˜æ–¹åªåšBUGç»´æŠ¤ï¼Œ<pre><code>   åŠŸèƒ½ä¸å†æ–°å¢ã€‚å¦‚æœä¸è€ƒè™‘å…¼å®¹ä½ç‰ˆæœ¬çš„æµè§ˆå™¨å¯ä»¥ä½¿ç”¨2.xï¼Œ   æœ€ç»ˆç‰ˆæœ¬ï¼š2.2.4 (2016å¹´5æœˆ20æ—¥)</code></pre>  3.xï¼šä¸å…¼å®¹ie678ï¼Œåªæ”¯æŒæœ€æ–°çš„æµè§ˆå™¨ã€‚é™¤éç‰¹æ®Šè¦æ±‚ï¼Œ<pre><code>   ä¸€èˆ¬ä¸ä¼šä½¿ç”¨3.xç‰ˆæœ¬çš„ï¼Œå¾ˆå¤šè€çš„jQueryæ’ä»¶ä¸æ”¯æŒè¿™ä¸ªç‰ˆæœ¬ã€‚   ç›®å‰è¯¥ç‰ˆæœ¬æ˜¯å®˜æ–¹ä¸»è¦æ›´æ–°ç»´æŠ¤çš„ç‰ˆæœ¬ã€‚æœ€æ–°ç‰ˆæœ¬ï¼š3.2.1ï¼ˆ2017å¹´3æœˆ20æ—¥ï¼‰</code></pre></li><li>jquery-xxx.js ä¸ jquery-xxx.min.jsåŒºåˆ«ï¼š<ol><li>jquery-xxx.jsï¼šå¼€å‘ç‰ˆæœ¬ã€‚ç»™ç¨‹åºå‘˜çœ‹çš„ï¼Œæœ‰è‰¯å¥½çš„ç¼©è¿›å’Œæ³¨é‡Šã€‚ä½“ç§¯å¤§ä¸€äº›</li><li>jquery-xxx.min.jsï¼šç”Ÿäº§ç‰ˆæœ¬ã€‚ç¨‹åºä¸­ä½¿ç”¨ï¼Œæ²¡æœ‰ç¼©è¿›ã€‚ä½“ç§¯å°ä¸€äº›ã€‚ç¨‹åºåŠ è½½æ›´å¿«</li></ol></li></ul></li><li><p>å¯¼å…¥JQueryçš„jsæ–‡ä»¶ï¼šå¯¼å…¥min.jsæ–‡ä»¶</p></li><li><p>ä½¿ç”¨ï¼š</p><p>var div1 = $(â€œ#div1â€);</p><p>alert(div1.html());</p></li></ol><h3 id="JQueryå¯¹è±¡å’ŒJSå¯¹è±¡åŒºåˆ«ä¸è½¬æ¢"><a href="#JQueryå¯¹è±¡å’ŒJSå¯¹è±¡åŒºåˆ«ä¸è½¬æ¢" class="headerlink" title="JQueryå¯¹è±¡å’ŒJSå¯¹è±¡åŒºåˆ«ä¸è½¬æ¢"></a>JQueryå¯¹è±¡å’ŒJSå¯¹è±¡åŒºåˆ«ä¸è½¬æ¢</h3><ol><li><p>JQueryå¯¹è±¡åœ¨æ“ä½œæ—¶ï¼Œæ›´åŠ æ–¹ä¾¿ã€‚</p></li><li><p><strong>JQueryå¯¹è±¡å’Œjså¯¹è±¡æ–¹æ³•ä¸é€šç”¨çš„.</strong></p></li><li><p><strong>ä¸¤è€…ç›¸äº’è½¬æ¢</strong></p></li></ol><ul><li>jq â€“ &gt; js : jqå¯¹è±¡[ç´¢å¼•] æˆ–è€… jqå¯¹è±¡.get(ç´¢å¼•)<ul><li>js â€“ &gt; jq : $(jså¯¹è±¡)</li></ul></li></ul><h3 id="é€‰æ‹©å™¨ï¼šç­›é€‰å…·æœ‰ç›¸ä¼¼ç‰¹å¾çš„å…ƒç´ -æ ‡ç­¾"><a href="#é€‰æ‹©å™¨ï¼šç­›é€‰å…·æœ‰ç›¸ä¼¼ç‰¹å¾çš„å…ƒç´ -æ ‡ç­¾" class="headerlink" title="é€‰æ‹©å™¨ï¼šç­›é€‰å…·æœ‰ç›¸ä¼¼ç‰¹å¾çš„å…ƒç´ (æ ‡ç­¾)"></a>é€‰æ‹©å™¨ï¼šç­›é€‰å…·æœ‰ç›¸ä¼¼ç‰¹å¾çš„å…ƒç´ (æ ‡ç­¾)</h3><ol><li>åŸºæœ¬æ“ä½œå­¦ä¹ ï¼š</li><li><strong>äº‹ä»¶ç»‘å®š</strong></li></ol><pre><code>``` //1.è·å–b1æŒ‰é’®      $("#b1").click(function(){          alert("abc");      });```</code></pre><ol start="2"><li><p><strong>å…¥å£å‡½æ•°(ç›¸å½“äºwindow.onload )</strong></p><pre><code>$(function(){});</code></pre><p>  window.onload  å’Œ $(function) åŒºåˆ«</p><ul><li>â€‹    window.onload åªèƒ½å®šä¹‰ä¸€æ¬¡,å¦‚æœå®šä¹‰å¤šæ¬¡ï¼Œåè¾¹çš„ä¼šå°†å‰è¾¹çš„è¦†ç›–æ‰</li><li>â€‹    $(function)å¯ä»¥å®šä¹‰å¤šæ¬¡çš„ã€‚</li></ul></li><li><p><strong>æ ·å¼æ§åˆ¶ï¼šcssæ–¹æ³•</strong></p><pre><code> $("#div1").css("background-color","red"); $("#div1").css("backgroundColor","pink");</code></pre></li><li><p><strong>é€‰æ‹©å™¨åˆ†ç±»ï¼š</strong></p><pre><code>1. åŸºæœ¬é€‰æ‹©å™¨    1. æ ‡ç­¾é€‰æ‹©å™¨ï¼ˆå…ƒç´ é€‰æ‹©å™¨ï¼‰        * è¯­æ³•ï¼š $("htmlæ ‡ç­¾å") è·å¾—æ‰€æœ‰åŒ¹é…æ ‡ç­¾åç§°çš„å…ƒç´         * å¦‚ï¼š$("div")    2. idé€‰æ‹©å™¨         * è¯­æ³•ï¼š $("#idçš„å±æ€§å€¼") è·å¾—ä¸æŒ‡å®šidå±æ€§å€¼åŒ¹é…çš„å…ƒç´         * å¦‚ï¼š$("#d1")    3. ç±»é€‰æ‹©å™¨        * è¯­æ³•ï¼š $(".classçš„å±æ€§å€¼") è·å¾—ä¸æŒ‡å®šçš„classå±æ€§å€¼åŒ¹é…çš„å…ƒç´         * å¦‚ï¼š$(".c1")    4. å¹¶é›†é€‰æ‹©å™¨ï¼š        * è¯­æ³•ï¼š $("é€‰æ‹©å™¨1,é€‰æ‹©å™¨2....") è·å–å¤šä¸ªé€‰æ‹©å™¨é€‰ä¸­çš„æ‰€æœ‰å…ƒç´         * å¦‚ï¼š$("#d1,.c1")2. å±‚çº§é€‰æ‹©å™¨    1. åä»£é€‰æ‹©å™¨        * è¯­æ³•ï¼š $("A B ") é€‰æ‹©Aå…ƒç´ å†…éƒ¨çš„æ‰€æœ‰Bå…ƒç´              * å¦‚ï¼š$("#d1 #d2")    2. å­é€‰æ‹©å™¨        * è¯­æ³•ï¼š $("A &gt; B") é€‰æ‹©Aå…ƒç´ å†…éƒ¨çš„æ‰€æœ‰Bå­å…ƒç´         * å¦‚ï¼š$("#d1&gt;#d2")3. å±æ€§é€‰æ‹©å™¨    1. å±æ€§åç§°é€‰æ‹©å™¨         * è¯­æ³•ï¼š $("A[å±æ€§å]") åŒ…å«æŒ‡å®šå±æ€§çš„é€‰æ‹©å™¨        * å¦‚ï¼š$("#d1[title]")    2. å±æ€§é€‰æ‹©å™¨        * è¯­æ³•ï¼š $("A[å±æ€§å='å€¼']") åŒ…å«æŒ‡å®šå±æ€§ç­‰äºæŒ‡å®šå€¼çš„é€‰æ‹©å™¨        * å¦‚ï¼š$("#d1[title='123']")å±æ€§å€¼æ˜¯123            $("#d1[title^='123']")å±æ€§å€¼å¼€å¤´æ˜¯123            $("#d1[title$='123']")å±æ€§å€¼ç»“å°¾æ˜¯123            $("#d1[title*='123']")å±æ€§å€¼åŒ…å«123    3. å¤åˆå±æ€§é€‰æ‹©å™¨        * è¯­æ³•ï¼š $("A[å±æ€§å='å€¼'][]...") åŒ…å«å¤šä¸ªå±æ€§æ¡ä»¶çš„é€‰æ‹©å™¨        * å¦‚ï¼š$("#d1[title='123'][class]")4. è¿‡æ»¤é€‰æ‹©å™¨    1. é¦–å…ƒç´ é€‰æ‹©å™¨         * è¯­æ³•ï¼š :first è·å¾—é€‰æ‹©çš„å…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´         * å¦‚ï¼š$("div:first")ç¬¬ä¸€ä¸ªdiv    2. å°¾å…ƒç´ é€‰æ‹©å™¨         * è¯­æ³•ï¼š :last è·å¾—é€‰æ‹©çš„å…ƒç´ ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´         * å¦‚ï¼š$("div:last")æœ€åä¸€ä¸ªdiv    3. éå…ƒç´ é€‰æ‹©å™¨        * è¯­æ³•ï¼š :not(selector) ä¸åŒ…æ‹¬æŒ‡å®šå†…å®¹çš„å…ƒç´         * å¦‚ï¼š$("div:not(.one))classå±æ€§å€¼ä¸æ˜¯.oneçš„div    4. å¶æ•°é€‰æ‹©å™¨        * è¯­æ³•ï¼š :even å¶æ•°ï¼Œä» 0 å¼€å§‹è®¡æ•°        * å¦‚ï¼š$("div:even")å¶æ•°çš„div    5. å¥‡æ•°é€‰æ‹©å™¨        * è¯­æ³•ï¼š :odd å¥‡æ•°ï¼Œä» 0 å¼€å§‹è®¡æ•°        * å¦‚ï¼š$("div:odd")å¥‡æ•°çš„div    6. ç­‰äºç´¢å¼•é€‰æ‹©å™¨        * è¯­æ³•ï¼š :eq(index) æŒ‡å®šç´¢å¼•å…ƒç´         * å¦‚ï¼š$("div:eq(3)")ç¬¬3ä¸ªdiv    7. å¤§äºç´¢å¼•é€‰æ‹©å™¨         * è¯­æ³•ï¼š :gt(index) å¤§äºæŒ‡å®šç´¢å¼•å…ƒç´         * å¦‚ï¼š$("div:gt(3)")ç¬¬3ä¸ªä¹‹åçš„div    8. å°äºç´¢å¼•é€‰æ‹©å™¨         * è¯­æ³•ï¼š :lt(index) å°äºæŒ‡å®šç´¢å¼•å…ƒç´         * å¦‚ï¼š$("div:lt(3)")ç¬¬3ä¸ªä¹‹å‰çš„div    9. æ ‡é¢˜é€‰æ‹©å™¨        * è¯­æ³•ï¼š :header è·å¾—æ ‡é¢˜ï¼ˆh1~h6ï¼‰å…ƒç´ ï¼Œå›ºå®šå†™æ³•        * å¦‚ï¼š$(":header")æ‰€æœ‰æ ‡é¢˜5. è¡¨å•è¿‡æ»¤é€‰æ‹©å™¨    1. å¯ç”¨å…ƒç´ é€‰æ‹©å™¨         * è¯­æ³•ï¼š :enabled è·å¾—å¯ç”¨å…ƒç´         * å¦‚ï¼š$("input[type='text']:enabled").val("aaa")å¯ç”¨æ–‡æœ¬è¾“å…¥æ¡†ï¼Œæ”¹å˜å€¼ä¸ºaaa    2. ä¸å¯ç”¨å…ƒç´ é€‰æ‹©å™¨         * è¯­æ³•ï¼š :disabled è·å¾—ä¸å¯ç”¨å…ƒç´         * å¦‚ï¼š$("input[type='text']:disabled").val("aaa")ä¸å¯ç”¨æ–‡æœ¬è¾“å…¥æ¡†ï¼Œæ”¹å˜å€¼ä¸ºbbb    3. é€‰ä¸­é€‰æ‹©å™¨         * è¯­æ³•ï¼š :checked è·å¾—å•é€‰/å¤é€‰æ¡†é€‰ä¸­çš„å…ƒç´         * å¦‚ï¼š$("input[type='checkbox']:checked").lengthå·²é€‰æ‹©å¤é€‰æ¡†çš„ä¸ªæ•°    4. é€‰ä¸­é€‰æ‹©å™¨         * è¯­æ³•ï¼š :selected è·å¾—ä¸‹æ‹‰æ¡†é€‰ä¸­çš„å…ƒç´         * å¦‚ï¼š$("#job &gt; option:selected").lengthä¸‹æ‹‰æ¡†ï¼Œé€‰æ‹©å¤é€‰é¡¹çš„ä¸ªæ•°</code></pre></li></ol><h3 id="DOMæ“ä½œ"><a href="#DOMæ“ä½œ" class="headerlink" title="DOMæ“ä½œ"></a>DOMæ“ä½œ</h3><ol><li><p>å†…å®¹æ“ä½œ</p><ol><li><p>html(): è·å–/è®¾ç½®å…ƒç´ çš„æ ‡ç­¾ä½“å†…å®¹   </p><pre><code>&lt;a&gt;&lt;font&gt;å†…å®¹&lt;/font&gt;&lt;/a&gt;  å¦‚ï¼švalue = $("#id").html()  &lt;font&gt;å†…å®¹&lt;/font&gt;    $("#id").html("aaa")     &lt;a&gt;aaa&lt;a&gt;</code></pre></li><li><p>text(): è·å–/è®¾ç½®å…ƒç´ çš„æ ‡ç­¾ä½“çº¯æ–‡æœ¬å†…å®¹   </p><pre><code>&lt;a&gt;&lt;font&gt;å†…å®¹&lt;/font&gt;&lt;/a&gt; å¦‚ï¼švalue = $("#id").text()  å†…å®¹    $("#id").html("aaa")     &lt;a&gt;aaa&lt;a&gt;</code></pre></li><li><p>val()ï¼š è·å–/è®¾ç½®å…ƒç´ çš„valueå±æ€§å€¼</p><pre><code>å¦‚ï¼švalue = $("#id").val();    $("#id").val("aaa")</code></pre></li></ol></li><li><p>å±æ€§æ“ä½œ</p><ol><li><p>é€šç”¨å±æ€§æ“ä½œ</p><ol><li>attr(): è·å–/è®¾ç½®å…ƒç´ çš„å±æ€§</li><li>removeAttr():åˆ é™¤å±æ€§</li><li>prop():è·å–/è®¾ç½®å…ƒç´ çš„å±æ€§</li><li>removeProp():åˆ é™¤å±æ€§</li></ol><ul><li>attrå’ŒpropåŒºåˆ«ï¼Ÿ<ol><li>å¦‚æœæ“ä½œçš„æ˜¯å…ƒç´ çš„å›ºæœ‰å±æ€§ï¼Œåˆ™å»ºè®®ä½¿ç”¨prop</li><li>å¦‚æœæ“ä½œçš„æ˜¯å…ƒç´ è‡ªå®šä¹‰çš„å±æ€§ï¼Œåˆ™å»ºè®®ä½¿ç”¨attr</li></ol></li></ul><pre><code>è·å–ï¼šclassValue = $("#id").attr("class")è®¾ç½®ï¼š$("#id").attr("class","nihao")</code></pre></li><li><p>å¯¹classå±æ€§æ“ä½œ</p><ol><li><p>addClass():æ·»åŠ classå±æ€§å€¼</p><pre><code>å¦‚ï¼š$("#id").addClass("haha")</code></pre></li><li><p>removeClass():åˆ é™¤classå±æ€§å€¼</p><pre><code>å¦‚ï¼š$("#id").removeClass("haha")</code></pre></li><li><p>toggleClass():åˆ‡æ¢classå±æ€§</p><pre><code>toggleClass("one"): åˆ¤æ–­å¦‚æœå…ƒç´ å¯¹è±¡ä¸Šå­˜åœ¨class="one"ï¼Œåˆ™å°†å±æ€§å€¼oneåˆ é™¤æ‰ã€‚  å¦‚æœå…ƒç´ å¯¹è±¡ä¸Šä¸å­˜åœ¨class="one"ï¼Œåˆ™æ·»åŠ </code></pre></li><li><p>css():è·å–/è®¾ç½®csså±æ€§</p><pre><code>å¦‚ï¼šcolor = $("#id").css("backgroundColor")è·å–èƒŒæ™¯é¢œè‰²$("#id").css("backgroundColor","red")</code></pre></li><li><p>CRUDæ“ä½œ:</p><ol><li><p>append():çˆ¶å…ƒç´ å°†å­å…ƒç´ è¿½åŠ åˆ°æœ«å°¾</p><pre><code> * å¯¹è±¡1.append(å¯¹è±¡2): å°†å¯¹è±¡2æ·»åŠ åˆ°å¯¹è±¡1å…ƒç´ å†…éƒ¨ï¼Œå¹¶ä¸”åœ¨æœ«å°¾</code></pre><pre><code>&lt;a id="a"&gt;&lt;a&gt;&lt;p id="b"&gt;&lt;p&gt;$("#a").append("#b") ---&gt; &lt;a&gt;&lt;p&gt;&lt;/p&gt;&lt;/a&gt;</code></pre></li><li><p>prepend():çˆ¶å…ƒç´ å°†å­å…ƒç´ è¿½åŠ åˆ°å¼€å¤´</p><ul><li>å¯¹è±¡1.prepend(å¯¹è±¡2):å°†å¯¹è±¡2æ·»åŠ åˆ°å¯¹è±¡1å…ƒç´ å†…éƒ¨ï¼Œå¹¶ä¸”åœ¨å¼€å¤´</li></ul></li><li><p>after():æ·»åŠ å…ƒç´ åˆ°å…ƒç´ åè¾¹</p><ul><li>å¯¹è±¡1.after(å¯¹è±¡2)ï¼š å°†å¯¹è±¡2æ·»åŠ åˆ°å¯¹è±¡1åè¾¹ã€‚å¯¹è±¡1å’Œå¯¹è±¡2æ˜¯å…„å¼Ÿå…³ç³»</li></ul></li><li><p>before():æ·»åŠ å…ƒç´ åˆ°å…ƒç´ å‰è¾¹</p><ul><li>å¯¹è±¡1.before(å¯¹è±¡2)ï¼š å°†å¯¹è±¡2æ·»åŠ åˆ°å¯¹è±¡1å‰è¾¹ã€‚å¯¹è±¡1å’Œå¯¹è±¡2æ˜¯å…„å¼Ÿå…³ç³»</li></ul></li><li><p>remove():ç§»é™¤å…ƒç´ </p></li></ol></li></ol></li></ol></li></ol><ul><li>å¯¹è±¡.remove():å°†å¯¹è±¡åˆ é™¤æ‰</li></ul><ol start="6"><li>empty():æ¸…ç©ºå…ƒç´ çš„æ‰€æœ‰åä»£å…ƒç´ ã€‚<pre><code>                    * å¯¹è±¡.empty():å°†å¯¹è±¡çš„åä»£å…ƒç´ å…¨éƒ¨æ¸…ç©ºï¼Œä½†æ˜¯ä¿ç•™å½“å‰å¯¹è±¡ä»¥åŠå…¶å±æ€§èŠ‚ç‚¹</code></pre></li></ol><h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><pre class=" language-html"><code class="language-html">QQè¡¨æƒ…ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>word<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    å¯¹è¯æ¡†<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul img"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".word"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><pre class=" language-html"><code class="language-html">ä¸‹æ‹‰åˆ—è¡¨å·¦å³ç§»ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//ç»‘å®šå•å‡»äº‹ä»¶</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#toRight"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"right"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"left>option:selected"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//ç»‘å®šå•å‡»äº‹ä»¶</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#toLeft"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"right>option:selected"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><pre class=" language-html"><code class="language-html">å…¨é€‰å’Œå…¨ä¸é€‰ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>selectAll(this)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">function</span> <span class="token function">selectAll</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//è·å–ä¸‹é¢çš„å¤é€‰æ¡†ï¼Œå°†å…¶å±æ€§è®¾ç½®æˆ</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".itemSelect"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"checked"</span><span class="token punctuation">,</span>obj<span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>é”™è¯¯ï¼š$(function() {    åœ¨è¿™é‡Œé¢å†™å°±ä¸è¡Œï¼Œå› ä¸ºobjæ˜¯jsçš„å¯¹è±¡ï¼Œä¸èƒ½è°ƒç”¨jqçš„æ–¹æ³•})</code></pre><pre class=" language-html"><code class="language-html">éš”è¡Œæ¢è‰²ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//å°†æ•°æ®è¡Œçš„å¥‡æ•°èƒŒæ™¯é¢œè‰²è®¾ç½®æˆpink</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"tr:gt(1):odd"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background-color"</span><span class="token punctuation">,</span><span class="token string">"pink"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å°†æ•°æ®è¡Œçš„å¶æ•°èƒŒæ™¯é¢œè‰²è®¾ç½®æˆyellow</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"tr:gt(1):even"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"backgroundColor"</span><span class="token punctuation">,</span><span class="token string">"yellow"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Htmlè¡¨å•</title>
      <link href="/2020/07/07/qian-duan/html-biao-dan/"/>
      <url>/2020/07/07/qian-duan/html-biao-dan/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»Šæ—¥å†…å®¹ï¼š"><a href="#ä»Šæ—¥å†…å®¹ï¼š" class="headerlink" title="ä»Šæ—¥å†…å®¹ï¼š"></a>ä»Šæ—¥å†…å®¹ï¼š</h1><pre><code>1. HTMLæ ‡ç­¾ï¼šè¡¨å•æ ‡ç­¾2. CSSï¼š</code></pre><h2 id="HTMLæ ‡ç­¾ï¼šè¡¨å•æ ‡ç­¾"><a href="#HTMLæ ‡ç­¾ï¼šè¡¨å•æ ‡ç­¾" class="headerlink" title="HTMLæ ‡ç­¾ï¼šè¡¨å•æ ‡ç­¾"></a>HTMLæ ‡ç­¾ï¼šè¡¨å•æ ‡ç­¾</h2><pre><code>* è¡¨å•ï¼š    * æ¦‚å¿µï¼šç”¨äºé‡‡é›†ç”¨æˆ·è¾“å…¥çš„æ•°æ®çš„ã€‚ç”¨äºå’ŒæœåŠ¡å™¨è¿›è¡Œäº¤äº’ã€‚    * formï¼šç”¨äºå®šä¹‰è¡¨å•çš„ã€‚å¯ä»¥å®šä¹‰ä¸€ä¸ªèŒƒå›´ï¼ŒèŒƒå›´ä»£è¡¨é‡‡é›†ç”¨æˆ·æ•°æ®çš„èŒƒå›´        * å±æ€§ï¼š            * actionï¼šæŒ‡å®šæäº¤æ•°æ®çš„URL            * method:æŒ‡å®šæäº¤æ–¹å¼                * åˆ†ç±»ï¼šä¸€å…±7ç§ï¼Œ2ç§æ¯”è¾ƒå¸¸ç”¨                   * getï¼š                        1. è¯·æ±‚å‚æ•°ä¼šåœ¨åœ°å€æ ä¸­æ˜¾ç¤ºã€‚ä¼šå°è£…åˆ°è¯·æ±‚è¡Œä¸­(HTTPåè®®åè®²è§£)ã€‚                        2. è¯·æ±‚å‚æ•°å¤§å°æ˜¯æœ‰é™åˆ¶çš„ã€‚                        3. ä¸å¤ªå®‰å…¨ã€‚                   * postï¼š                        2. è¯·æ±‚å‚æ•°ä¸ä¼šå†åœ°å€æ ä¸­æ˜¾ç¤ºã€‚ä¼šå°è£…åœ¨è¯·æ±‚ä½“ä¸­(HTTPåè®®åè®²è§£)                        2. è¯·æ±‚å‚æ•°çš„å¤§å°æ²¡æœ‰é™åˆ¶ã€‚                        3. è¾ƒä¸ºå®‰å…¨ã€‚        * è¡¨å•é¡¹ä¸­çš„æ•°æ®è¦æƒ³è¢«æäº¤ï¼šå¿…é¡»æŒ‡å®šå…¶nameå±æ€§    * è¡¨å•é¡¹æ ‡ç­¾ï¼š        * inputï¼šå¯ä»¥é€šè¿‡typeå±æ€§å€¼ï¼Œæ”¹å˜å…ƒç´ å±•ç¤ºçš„æ ·å¼            * typeå±æ€§ï¼š                * textï¼šæ–‡æœ¬è¾“å…¥æ¡†ï¼Œé»˜è®¤å€¼                    * placeholderï¼šæŒ‡å®šè¾“å…¥æ¡†çš„æç¤ºä¿¡æ¯ï¼Œå½“è¾“å…¥æ¡†çš„å†…å®¹å‘ç”Ÿå˜åŒ–ï¼Œä¼šè‡ªåŠ¨æ¸…ç©ºæç¤ºä¿¡æ¯                    * passwordï¼šå¯†ç è¾“å…¥æ¡†                * radio:å•é€‰æ¡†                    * æ³¨æ„ï¼š                        1. è¦æƒ³è®©å¤šä¸ªå•é€‰æ¡†å®ç°å•é€‰çš„æ•ˆæœï¼Œåˆ™å¤šä¸ªå•é€‰æ¡†çš„nameå±æ€§å€¼å¿…é¡»ä¸€æ ·ã€‚                        2. ä¸€èˆ¬ä¼šç»™æ¯ä¸€ä¸ªå•é€‰æ¡†æä¾›valueå±æ€§ï¼ŒæŒ‡å®šå…¶è¢«é€‰ä¸­åæäº¤çš„å€¼                        3. checkedå±æ€§ï¼Œå¯ä»¥æŒ‡å®šé»˜è®¤å€¼                * checkboxï¼šå¤é€‰æ¡†                    * æ³¨æ„ï¼š                        1. ä¸€èˆ¬ä¼šç»™æ¯ä¸€ä¸ªå•é€‰æ¡†æä¾›valueå±æ€§ï¼ŒæŒ‡å®šå…¶è¢«é€‰ä¸­åæäº¤çš„å€¼                        2. checkedå±æ€§ï¼Œå¯ä»¥æŒ‡å®šé»˜è®¤å€¼                * fileï¼šæ–‡ä»¶é€‰æ‹©æ¡†                * hiddenï¼šéšè—åŸŸï¼Œç”¨äºæäº¤ä¸€äº›ä¿¡æ¯ã€‚                * æŒ‰é’®ï¼š                    * submitï¼šæäº¤æŒ‰é’®ã€‚å¯ä»¥æäº¤è¡¨å•                    * buttonï¼šæ™®é€šæŒ‰é’®                    * imageï¼šå›¾ç‰‡æäº¤æŒ‰é’®                        * srcå±æ€§æŒ‡å®šå›¾ç‰‡çš„è·¯å¾„    </code></pre><p>â€‹<br>â€‹<br>â€‹           * labelï¼šæŒ‡å®šè¾“å…¥é¡¹çš„æ–‡å­—æè¿°ä¿¡æ¯<br>â€‹               * æ³¨æ„ï¼š<br>â€‹                * labelçš„forå±æ€§ä¸€èˆ¬ä¼šå’Œ input çš„ idå±æ€§å€¼ å¯¹åº”ã€‚å¦‚æœå¯¹åº”äº†ï¼Œåˆ™ç‚¹å‡»labelåŒºåŸŸï¼Œä¼šè®©inputè¾“å…¥æ¡†è·å–ç„¦ç‚¹ã€‚<br>â€‹                * select: ä¸‹æ‹‰åˆ—è¡¨<br>â€‹                * å­å…ƒç´ ï¼šoptionï¼ŒæŒ‡å®šåˆ—è¡¨é¡¹<br>â€‹<br>        * textareaï¼šæ–‡æœ¬åŸŸ<br>            * colsï¼šæŒ‡å®šåˆ—æ•°ï¼Œæ¯ä¸€è¡Œæœ‰å¤šå°‘ä¸ªå­—ç¬¦<br>            * rowsï¼šé»˜è®¤å¤šå°‘è¡Œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Htmlæ¦‚è¿°ã€æ ‡ç­¾</title>
      <link href="/2020/07/06/qian-duan/html/"/>
      <url>/2020/07/06/qian-duan/html/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»Šæ—¥å†…å®¹"><a href="#ä»Šæ—¥å†…å®¹" class="headerlink" title="ä»Šæ—¥å†…å®¹"></a>ä»Šæ—¥å†…å®¹</h1><pre><code>1. webæ¦‚å¿µæ¦‚è¿°2. HTML</code></pre><h2 id="webæ¦‚å¿µæ¦‚è¿°"><a href="#webæ¦‚å¿µæ¦‚è¿°" class="headerlink" title="webæ¦‚å¿µæ¦‚è¿°"></a>webæ¦‚å¿µæ¦‚è¿°</h2><pre><code>* JavaWebï¼š    * ä½¿ç”¨Javaè¯­è¨€å¼€å‘åŸºäºäº’è”ç½‘çš„é¡¹ç›®* è½¯ä»¶æ¶æ„ï¼š    1. C/S: Client/Server å®¢æˆ·ç«¯/æœåŠ¡å™¨ç«¯        * åœ¨ç”¨æˆ·æœ¬åœ°æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯ç¨‹åºï¼Œåœ¨è¿œç¨‹æœ‰ä¸€ä¸ªæœåŠ¡å™¨ç«¯ç¨‹åº        * å¦‚ï¼šQQï¼Œè¿…é›·...        * ä¼˜ç‚¹ï¼š            1. ç”¨æˆ·ä½“éªŒå¥½        * ç¼ºç‚¹ï¼š            1. å¼€å‘ã€å®‰è£…ï¼Œéƒ¨ç½²ï¼Œç»´æŠ¤ éº»çƒ¦    2. B/S: Browser/Server æµè§ˆå™¨/æœåŠ¡å™¨ç«¯        * åªéœ€è¦ä¸€ä¸ªæµè§ˆå™¨ï¼Œç”¨æˆ·é€šè¿‡ä¸åŒçš„ç½‘å€(URL)ï¼Œå®¢æˆ·è®¿é—®ä¸åŒçš„æœåŠ¡å™¨ç«¯ç¨‹åº        * ä¼˜ç‚¹ï¼š            1. å¼€å‘ã€å®‰è£…ï¼Œéƒ¨ç½²ï¼Œç»´æŠ¤ ç®€å•        * ç¼ºç‚¹ï¼š            1. å¦‚æœåº”ç”¨è¿‡å¤§ï¼Œç”¨æˆ·çš„ä½“éªŒå¯èƒ½ä¼šå—åˆ°å½±å“            2. å¯¹ç¡¬ä»¶è¦æ±‚è¿‡é«˜* B/Sæ¶æ„è¯¦è§£    * èµ„æºåˆ†ç±»ï¼š        1. é™æ€èµ„æºï¼š            * ä½¿ç”¨é™æ€ç½‘é¡µå¼€å‘æŠ€æœ¯å‘å¸ƒçš„èµ„æºã€‚            * ç‰¹ç‚¹ï¼š                * æ‰€æœ‰ç”¨æˆ·è®¿é—®ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚                * å¦‚ï¼šæ–‡æœ¬ï¼Œå›¾ç‰‡ï¼ŒéŸ³é¢‘ã€è§†é¢‘, HTML,CSS,JavaScript                * å¦‚æœç”¨æˆ·è¯·æ±‚çš„æ˜¯é™æ€èµ„æºï¼Œé‚£ä¹ˆæœåŠ¡å™¨ä¼šç›´æ¥å°†é™æ€èµ„æºå‘é€ç»™æµè§ˆå™¨ã€‚æµè§ˆå™¨ä¸­å†…ç½®äº†é™æ€èµ„æºçš„è§£æå¼•æ“ï¼Œå¯ä»¥å±•ç¤ºé™æ€èµ„æº        2. åŠ¨æ€èµ„æºï¼š            * ä½¿ç”¨åŠ¨æ€ç½‘é¡µåŠæ—¶å‘å¸ƒçš„èµ„æºã€‚            * ç‰¹ç‚¹ï¼š                * æ‰€æœ‰ç”¨æˆ·è®¿é—®ï¼Œå¾—åˆ°çš„ç»“æœå¯èƒ½ä¸ä¸€æ ·ã€‚                * å¦‚ï¼šjsp/servlet,php,asp...                * å¦‚æœç”¨æˆ·è¯·æ±‚çš„æ˜¯åŠ¨æ€èµ„æºï¼Œé‚£ä¹ˆæœåŠ¡å™¨ä¼šæ‰§è¡ŒåŠ¨æ€èµ„æºï¼Œè½¬æ¢ä¸ºé™æ€èµ„æºï¼Œå†å‘é€ç»™æµè§ˆå™¨    * æˆ‘ä»¬è¦å­¦ä¹ åŠ¨æ€èµ„æºï¼Œå¿…é¡»å…ˆå­¦ä¹ é™æ€èµ„æºï¼    * é™æ€èµ„æºï¼š        * HTMLï¼šç”¨äºæ­å»ºåŸºç¡€ç½‘é¡µï¼Œå±•ç¤ºé¡µé¢çš„å†…å®¹        * CSSï¼šç”¨äºç¾åŒ–é¡µé¢ï¼Œå¸ƒå±€é¡µé¢        * JavaScriptï¼šæ§åˆ¶é¡µé¢çš„å…ƒç´ ï¼Œè®©é¡µé¢æœ‰ä¸€äº›åŠ¨æ€çš„æ•ˆæœ</code></pre><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><pre><code>1. æ¦‚å¿µï¼šæ˜¯æœ€åŸºç¡€çš„ç½‘é¡µå¼€å‘è¯­è¨€    * Hyper Text Markup Language è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€        * è¶…æ–‡æœ¬:            * è¶…æ–‡æœ¬æ˜¯ç”¨è¶…é“¾æ¥çš„æ–¹æ³•ï¼Œå°†å„ç§ä¸åŒç©ºé—´çš„æ–‡å­—ä¿¡æ¯ç»„ç»‡åœ¨ä¸€èµ·çš„ç½‘çŠ¶æ–‡æœ¬.        * æ ‡è®°è¯­è¨€:            * ç”±æ ‡ç­¾æ„æˆçš„è¯­è¨€ã€‚&lt;æ ‡ç­¾åç§°&gt; å¦‚ htmlï¼Œxml            * æ ‡è®°è¯­è¨€ä¸æ˜¯ç¼–ç¨‹è¯­è¨€2. å¿«é€Ÿå…¥é—¨ï¼š    * è¯­æ³•ï¼š        1. htmlæ–‡æ¡£åç¼€å .html æˆ–è€… .htm        2. æ ‡ç­¾åˆ†ä¸º            1. å›´å µæ ‡ç­¾ï¼šæœ‰å¼€å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ã€‚å¦‚ &lt;html&gt; &lt;/html&gt;            2. è‡ªé—­å’Œæ ‡ç­¾ï¼šå¼€å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾åœ¨ä¸€èµ·ã€‚å¦‚ &lt;br/&gt;        3. æ ‡ç­¾å¯ä»¥åµŒå¥—ï¼š            éœ€è¦æ­£ç¡®åµŒå¥—ï¼Œä¸èƒ½ä½ ä¸­æœ‰æˆ‘ï¼Œæˆ‘ä¸­æœ‰ä½             é”™è¯¯ï¼š&lt;a&gt;&lt;b&gt;&lt;/a&gt;&lt;/b&gt;            æ­£ç¡®ï¼š&lt;a&gt;&lt;b&gt;&lt;/b&gt;&lt;/a&gt;        4. åœ¨å¼€å§‹æ ‡ç­¾ä¸­å¯ä»¥å®šä¹‰å±æ€§ã€‚å±æ€§æ˜¯ç”±é”®å€¼å¯¹æ„æˆï¼Œå€¼éœ€è¦ç”¨å¼•å·(å•åŒéƒ½å¯)å¼•èµ·æ¥        5. htmlçš„æ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†æ˜¯å»ºè®®ä½¿ç”¨å°å†™ã€‚    * ä»£ç ï¼š        &lt;html&gt;                    &lt;head&gt;                &lt;title&gt;title&lt;/title&gt;            &lt;/head&gt;                        &lt;body&gt;                &lt;FONT color='red'&gt;Hello World&lt;/font&gt;&lt;br/&gt;                                &lt;font color='green'&gt;Hello World&lt;/font&gt;                        &lt;/body&gt;            &lt;/html&gt;3. æ ‡ç­¾å­¦ä¹ ï¼š    1. æ–‡ä»¶æ ‡ç­¾ï¼šæ„æˆhtmlæœ€åŸºæœ¬çš„æ ‡ç­¾        * html:htmlæ–‡æ¡£çš„æ ¹æ ‡ç­¾        * headï¼šå¤´æ ‡ç­¾ã€‚ç”¨äºæŒ‡å®šhtmlæ–‡æ¡£çš„ä¸€äº›å±æ€§ã€‚å¼•å…¥å¤–éƒ¨çš„èµ„æº        * titleï¼šæ ‡é¢˜æ ‡ç­¾ã€‚        * bodyï¼šä½“æ ‡ç­¾        * &lt;!DOCTYPE html&gt;ï¼šhtml5ä¸­å®šä¹‰è¯¥æ–‡æ¡£æ˜¯htmlæ–‡æ¡£    2. æ–‡æœ¬æ ‡ç­¾ï¼šå’Œæ–‡æœ¬æœ‰å…³çš„æ ‡ç­¾        * æ³¨é‡Šï¼š&lt;!-- æ³¨é‡Šå†…å®¹ --&gt;        * &lt;h1&gt; to &lt;h6&gt;ï¼šæ ‡é¢˜æ ‡ç­¾            * h1~h6:å­—ä½“å¤§å°é€æ¸é€’å‡        * &lt;p&gt;ï¼šæ®µè½æ ‡ç­¾        * &lt;br&gt;ï¼šæ¢è¡Œæ ‡ç­¾        * &lt;hr&gt;ï¼šå±•ç¤ºä¸€æ¡æ°´å¹³çº¿            * å±æ€§ï¼š                * colorï¼šé¢œè‰²                * widthï¼šå®½åº¦                * sizeï¼šé«˜åº¦                * alignï¼šå¯¹å…¶æ–¹å¼                    * centerï¼šå±…ä¸­                    * leftï¼šå·¦å¯¹é½                    * rightï¼šå³å¯¹é½        * &lt;b&gt;ï¼šå­—ä½“åŠ ç²—        * &lt;i&gt;ï¼šå­—ä½“æ–œä½“        * &lt;font&gt;:å­—ä½“æ ‡ç­¾        * &lt;center&gt;:æ–‡æœ¬å±…ä¸­            * å±æ€§ï¼š                * colorï¼šé¢œè‰²                * sizeï¼šå¤§å°                * faceï¼šå­—ä½“        * å±æ€§å®šä¹‰ï¼š            * colorï¼š                1. è‹±æ–‡å•è¯ï¼šred,green,blue                2. rgb(å€¼1ï¼Œå€¼2ï¼Œå€¼3)ï¼šå€¼çš„èŒƒå›´ï¼š0~255  å¦‚  rgb(0,0,255)                3. #å€¼1å€¼2å€¼3ï¼šå€¼çš„èŒƒå›´ï¼š00~FFä¹‹é—´ã€‚å¦‚ï¼š #FF00FF            * widthï¼š                1. æ•°å€¼ï¼šwidth='20' ,æ•°å€¼çš„å•ä½ï¼Œé»˜è®¤æ˜¯ px(åƒç´ )                2. æ•°å€¼%ï¼šå æ¯”ç›¸å¯¹äºçˆ¶å…ƒç´ çš„æ¯”ä¾‹    3. å›¾ç‰‡æ ‡ç­¾ï¼š            * imgï¼šå±•ç¤ºå›¾ç‰‡                * å±æ€§ï¼š                    * srcï¼šæŒ‡å®šå›¾ç‰‡çš„ä½ç½®            * ä»£ç ï¼š                 &lt;!--å±•ç¤ºä¸€å¼ å›¾ç‰‡ img--&gt;                 &lt;img src="image/jingxuan_2.jpg" align="right" alt="å¤é•‡" width="500" height="500"/&gt;                    &lt;!--                ç›¸å¯¹è·¯å¾„                    * ä»¥.å¼€å¤´çš„è·¯å¾„                        * ./ï¼šä»£è¡¨å½“å‰ç›®å½•  ./image/1.jpg                        * ../:ä»£è¡¨ä¸Šä¸€çº§ç›®å½•             --&gt;                    &lt;img src="./image/jiangwai_1.jpg"&gt;                    &lt;img src="../image/jiangwai_1.jpg"&gt;    4. åˆ—è¡¨æ ‡ç­¾ï¼š        * æœ‰åºåˆ—è¡¨ï¼š            * ol:            * li:        * æ— åºåˆ—è¡¨ï¼š            * ul:            * li:    5. é“¾æ¥æ ‡ç­¾ï¼š        * a:å®šä¹‰ä¸€ä¸ªè¶…é“¾æ¥            * å±æ€§ï¼š                * hrefï¼šæŒ‡å®šè®¿é—®èµ„æºçš„URL(ç»Ÿä¸€èµ„æºå®šä½ç¬¦)                * targetï¼šæŒ‡å®šæ‰“å¼€èµ„æºçš„æ–¹å¼                    * _self:é»˜è®¤å€¼ï¼Œåœ¨å½“å‰é¡µé¢æ‰“å¼€                    * _blankï¼šåœ¨ç©ºç™½é¡µé¢æ‰“å¼€        * ä»£ç ï¼š             &lt;!--è¶…é“¾æ¥  a--&gt;            &lt;a href="http://www.itcast.cn"&gt;ç‚¹æˆ‘&lt;/a&gt;            &lt;br&gt;                    &lt;a href="http://www.itcast.cn" target="_self"&gt;ç‚¹æˆ‘&lt;/a&gt;            &lt;br&gt;            &lt;a href="http://www.itcast.cn" target="_blank"&gt;ç‚¹æˆ‘&lt;/a&gt;                    &lt;br&gt;                    &lt;a href="./5_åˆ—è¡¨æ ‡ç­¾.html"&gt;åˆ—è¡¨æ ‡ç­¾&lt;/a&gt;&lt;br&gt;            &lt;a href="mailto:itcast@itcast.cn"&gt;è”ç³»æˆ‘ä»¬&lt;/a&gt;                    &lt;br&gt;            &lt;a href="http://www.itcast.cn"&gt;&lt;img src="image/jiangwai_1.jpg"&gt;&lt;/a&gt;    6. divå’Œspanï¼š        * div:æ¯ä¸€ä¸ªdivå æ»¡ä¸€æ•´è¡Œã€‚å—çº§æ ‡ç­¾        * spanï¼šæ–‡æœ¬ä¿¡æ¯åœ¨ä¸€è¡Œå±•ç¤ºï¼Œè¡Œå†…æ ‡ç­¾ å†…è”æ ‡ç­¾    7. è¯­ä¹‰åŒ–æ ‡ç­¾ï¼šhtml5ä¸­ä¸ºäº†æé«˜ç¨‹åºçš„å¯è¯»æ€§ï¼Œæä¾›äº†ä¸€äº›æ ‡ç­¾ã€‚        1. &lt;header&gt;ï¼šé¡µçœ‰        2. &lt;footer&gt;ï¼šé¡µè„š            8. è¡¨æ ¼æ ‡ç­¾ï¼š        * tableï¼šå®šä¹‰è¡¨æ ¼            * widthï¼šå®½åº¦            * borderï¼šè¾¹æ¡†            * cellpaddingï¼šå®šä¹‰å†…å®¹å’Œå•å…ƒæ ¼çš„è·ç¦»            * cellspacingï¼šå®šä¹‰å•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»ã€‚å¦‚æœæŒ‡å®šä¸º0ï¼Œåˆ™å•å…ƒæ ¼çš„çº¿ä¼šåˆä¸ºä¸€æ¡ã€            * bgcolorï¼šèƒŒæ™¯è‰²            * alignï¼šå¯¹é½æ–¹å¼        * trï¼šå®šä¹‰è¡Œ            * bgcolorï¼šèƒŒæ™¯è‰²            * alignï¼šå¯¹é½æ–¹å¼        * tdï¼šå®šä¹‰å•å…ƒæ ¼            * colspanï¼šåˆå¹¶åˆ—            * rowspanï¼šåˆå¹¶è¡Œ        * thï¼šå®šä¹‰è¡¨å¤´å•å…ƒæ ¼        * &lt;caption&gt;ï¼šè¡¨æ ¼æ ‡é¢˜        * &lt;thead&gt;ï¼šè¡¨ç¤ºè¡¨æ ¼çš„å¤´éƒ¨åˆ†        * &lt;tbody&gt;ï¼šè¡¨ç¤ºè¡¨æ ¼çš„ä½“éƒ¨åˆ†        * &lt;tfoot&gt;ï¼šè¡¨ç¤ºè¡¨æ ¼çš„è„šéƒ¨åˆ†</code></pre><p>â€‹        </p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springæ³¨è§£é©±åŠ¨</title>
      <link href="/2020/07/05/ssm-kuang-jia/spring-zhu-jie-qu-dong/"/>
      <url>/2020/07/05/ssm-kuang-jia/spring-zhu-jie-qu-dong/</url>
      
        <content type="html"><![CDATA[<h1 id="Springæ³¨è§£é©±åŠ¨"><a href="#Springæ³¨è§£é©±åŠ¨" class="headerlink" title="Springæ³¨è§£é©±åŠ¨"></a>Springæ³¨è§£é©±åŠ¨</h1><h2 id="1-å®¹å™¨"><a href="#1-å®¹å™¨" class="headerlink" title="1.å®¹å™¨"></a>1.å®¹å™¨</h2><h3 id="ç»„ä»¶æ·»åŠ "><a href="#ç»„ä»¶æ·»åŠ " class="headerlink" title="ç»„ä»¶æ·»åŠ "></a>ç»„ä»¶æ·»åŠ </h3><h4 id="Configuration"><a href="#Configuration" class="headerlink" title="@Configuration"></a>@Configuration</h4><p><strong>å‘Šè¯‰Springè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»</strong></p><h4 id="Bean"><a href="#Bean" class="headerlink" title="@Bean"></a>@Bean</h4><p><strong>åœ¨é…ç½®ç±»ä¸­æ³¨å†Œä¸€ä¸ªBean</strong>ï¼Œ</p><p>ç±»å‹ä¸ºè¿”å›å€¼çš„ç±»å‹ï¼Œidé»˜è®¤ä¸ºæ–¹æ³•åçš„Idï¼Œä¹Ÿå¯ä»¥é€šè¿‡@Bean(â€œpersionâ€)æ¥å‘½åid</p><h4 id="ConponentScanï¼ˆâ€com-atguiguâ€ï¼‰"><a href="#ConponentScanï¼ˆâ€com-atguiguâ€ï¼‰" class="headerlink" title="@ConponentScanï¼ˆâ€com.atguiguâ€ï¼‰"></a>@ConponentScanï¼ˆâ€com.atguiguâ€ï¼‰</h4><p><strong>åŠ åœ¨é…ç½®ç±»çš„ç±»ä¸Šï¼Œæ‰«æåŒ…</strong></p><p>å¯ä»¥æŒ‡å®šæ’é™¤è§„åˆ™ @ConponentScanï¼ˆvalue=â€com.atguiguâ€,excludeFilters = { @Filter(type=FilterType.ANNOTATION,classes={Controller.class})}ï¼‰ï¼šæ ¹æ®æ³¨è§£æ’é™¤Controlleræ³¨è§£</p><p>ä¹Ÿå¯ä»¥æŒ‡å®šåŒ…å«è§„åˆ™@ConponentScanï¼ˆvalue=â€com.atguiguâ€,includeFilters = { @Filter(type=FilterType.ANNOTATION,classes={Controller.class})},useDefaultFilters = falseï¼‰ï¼šæ ¹æ®æ³¨è§£åªåŒ…å«Controlleræ³¨è§£ï¼Œå‰æè¦ç¦ç”¨æ‰é»˜è®¤çš„è¿‡æ»¤è§„åˆ™</p><p>ä¹Ÿå¯ä»¥æŒ‡å®šç±»å‹@ConponentScanï¼ˆvalue=â€com.atguiguâ€,includeFilters = { @Filter(type=FilterType.ASSIGNABLE_TYPE,classes={BookService.class})},useDefaultFilters = falseï¼‰ï¼šBookServiceä¸€å®šä¼šåŒ…å«è¿›å»</p><h4 id="Scope-â€œâ€"><a href="#Scope-â€œâ€" class="headerlink" title="@Scope(â€œâ€)"></a>@Scope(â€œâ€)</h4><p><strong>åŠ åœ¨@beanä¸Šï¼ŒæŒ‡å®šä½œç”¨èŒƒå›´</strong></p><p>å€¼ï¼šprototype:å¤šå®ä¾‹ï¼Œsingletonï¼šå•å®ä¾‹</p><p>å¤šå®ä¾‹ï¼šåœ¨å®¹å™¨åˆ›å»ºæ—¶ä¸ä¼šè¢«è°ƒç”¨ï¼Œè·å–å‡ æ¬¡å°±è°ƒç”¨å‡ æ¬¡</p><p>å•å®ä¾‹ï¼šåœ¨å®¹å™¨åˆ›å»ºæ—¶è¢«è°ƒç”¨ï¼Œè·å–çš„æ—¶å€™ç›´æ¥æ‹¿å‡ºæ¥å³å¯ï¼Œå¤šæ¬¡è°ƒç”¨çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</p><h4 id="Lazy"><a href="#Lazy" class="headerlink" title="@Lazy"></a>@Lazy</h4><p><strong>åŠ åœ¨@Beanä¸Šï¼Œæ‡’åŠ è½½</strong></p><p>è½¬å¯¹å•å®ä¾‹å¯¹è±¡ï¼Œåœ¨å®¹å™¨åˆ›å»ºæ—¶ä¸ä¼šè¢«è°ƒç”¨ï¼Œè·å–ä½¿æ‰ä¼šè¢«åŠ è½½ï¼Œå¹¶ä¸”è·å–çš„æ˜¯å•ä¾‹å¯¹è±¡</p><h4 id="Conditional-WindowsCondition-class"><a href="#Conditional-WindowsCondition-class" class="headerlink" title="@Conditional({WindowsCondition.class})"></a>@Conditional({WindowsCondition.class})</h4><p><strong>å¯ä»¥åŠ åœ¨@beanä¸Š</strong>ï¼Œæ ¹æ®æ¡ä»¶åˆ¤æ–­ï¼ˆWindowsConditionå°±æ˜¯ä¸€ä¸ªè‡ªåŠ¨çš„åˆ¤æ–­æ–¹æ³•ï¼‰ï¼Œå¦‚æœè¿”å›trueï¼Œåˆ™è¯¥beanä¼šåŠ è½½å®¹å™¨ä¸­</p><p><strong>ä¹Ÿå¯ä»¥åŠ åœ¨ç±»ä¸Šï¼Œè¿”å›ä¸ºtrueï¼Œè¯¥ç±»ä¸‹çš„æ‰€æœ‰@Beanéƒ½ä¼šè¢«åŠ åœ¨å®¹å™¨ä¸­</strong></p><h4 id="Import-color-class"><a href="#Import-color-class" class="headerlink" title="@Import({color.class})"></a>@Import({color.class})</h4><p><strong>åŠ åœ¨é…ç½®ç±»ä¸Šï¼Œå¿«é€ŸåŠ è½½ç»„ä»¶</strong>ï¼Œä¸éœ€è¦ä½¿ç”¨æ— å‚æ„é€ å™¨+@beançš„æ–¹å¼</p><h4 id="Import-MyImportSelector-class"><a href="#Import-MyImportSelector-class" class="headerlink" title="@Import({MyImportSelector.class})"></a>@Import({MyImportSelector.class})</h4><p><strong>åŠ åœ¨é…ç½®ç±»ä¸Šï¼ŒåŠ è½½è‡ªå®šä¹‰æ–¹æ³•çš„è¿”å›å€¼æŒ‡å®šçš„å…¨ç±»åç»„ä»¶</strong></p><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">MyImportSelector</span> <span class="token keyword">implements</span> <span class="token class-name">ImportSelector</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//å®ç°æ–¹æ³•ï¼Œæ–¹æ³•è¿”å›å€¼å°±æ˜¯éœ€è¦å¯¼å…¥å®¹å™¨ä¸­çš„å…¨ç±»å</span><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"com.atguigu.bean.blue"</span><span class="token punctuation">,</span><span class="token string">"com.atguigu.bean.red"</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="Import-MyImportBeanDefinitionRegister-class"><a href="#Import-MyImportBeanDefinitionRegister-class" class="headerlink" title="@Import({MyImportBeanDefinitionRegister.class})"></a>@Import({MyImportBeanDefinitionRegister.class})</h4><p><strong>åŠ åœ¨é…ç½®ç±»ä¸Šï¼ŒåŠ è½½è‡ªå®šä¹‰æ–¹æ³•ä¸­è‡ªå®šä¹‰çš„ç»„ä»¶</strong></p><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">MyImportBeanDefinitionRegister</span> <span class="token keyword">implements</span> <span class="token class-name">ImportBeanDefinitionRegistrar</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å®ç°æ–¹æ³•ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨redç»„ä»¶ï¼Œå¦‚æœå­˜åœ¨ï¼Œå°±è‡ªå®šä¹‰åˆ›å»ºä¸€ä¸ªrainbowç»„ä»¶</span>    <span class="token keyword">boolean</span> definition <span class="token operator">=</span> registry<span class="token punctuation">.</span><span class="token function">containsBeanDefinition</span><span class="token punctuation">(</span><span class="token string">"com.atguigu.bean.Red"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>defintion<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//Beançš„ç±»å‹</span>        RootBeanDefinition beanDefintion <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">RootBeanDefinition</span><span class="token punctuation">(</span>RainBow<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//Beançš„idï¼ŒBeançš„ç±»å‹</span>        registry<span class="token punctuation">.</span><span class="token function">registerBeanDefinition</span><span class="token punctuation">(</span><span class="token string">"rainbow"</span><span class="token punctuation">,</span>beanDefintion<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="FactoryBeanåˆ›å»ºç»„ä»¶"><a href="#FactoryBeanåˆ›å»ºç»„ä»¶" class="headerlink" title="FactoryBeanåˆ›å»ºç»„ä»¶"></a>FactoryBeanåˆ›å»ºç»„ä»¶</h4><p>ä½¿ç”¨@Beançš„æ–¹å¼FactoryBeanåˆ›å»ºç»„ä»¶ï¼Œå®é™…ä¸Šåˆ›å»ºçš„æ˜¯Colorç»„ä»¶</p><pre><code>åŠ åœ¨é…ç½®ç±»ä¸­@Beanpublic ColorFactoryBean colorFactoryBean(){    return new ColorFactoryBean();}</code></pre><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">ColorFactoryBean</span> <span class="token keyword">implements</span> <span class="token class-name">FactoryBean</span><span class="token operator">&lt;</span>Color<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//é‡å†™getObjectï¼šåˆ›å»ºbeanå¯¹è±¡</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//é‡å†™getObjectTypeï¼šè®¾ç½®å¯¹è±¡ç±»å‹</span>    <span class="token keyword">return</span> Color<span class="token punctuation">.</span><span class="token keyword">class</span>    <span class="token comment" spellcheck="true">//é‡å†™isSingletonï¼šè®¾ç½®æ˜¯å¦ä¸ºå•ä¾‹ï¼Œtrueä¸ºå•ä¾‹</span>    <span class="token keyword">return</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code></pre><p>å¦‚æœæƒ³è·å–FactoryBeanæœ¬èº«ï¼Œåœ¨è·å–çš„æ—¶å€™å‰é¢åŠ ä¸ª&amp;</p><h4 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h4><h5 id="1-Bean-initMethod-â€initâ€-destoryMethod-â€destoryâ€"><a href="#1-Bean-initMethod-â€initâ€-destoryMethod-â€destoryâ€" class="headerlink" title="1. @Bean(initMethod=â€initâ€,destoryMethod=â€destoryâ€)"></a>1. @Bean(initMethod=â€initâ€,destoryMethod=â€destoryâ€)</h5><p>æŒ‡å®šç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œinitå’Œdestoryä¸ºè‡ªå·±å®šä¹‰çš„</p><p>å¯¹è±¡åˆ›å»ºï¼š</p><ul><li><p>å•å®ä¾‹ï¼šåœ¨å®¹å™¨å¯åŠ¨æ—¶åˆ›å»º</p></li><li><p>å¤šå®ä¾‹ï¼šåœ¨æ¯æ¬¡è·å–æ—¶åˆ›å»º</p></li></ul><p>åˆå§‹åŒ–ï¼š</p><ul><li>å¯¹è±¡åˆ›å»ºå®Œæˆï¼Œå¹¶èµ‹å€¼å¥½ï¼Œè°ƒç”¨åˆå§‹åŒ–æ–¹æ³•</li></ul><p>é”€æ¯ï¼š</p><ul><li><p>å•å®ä¾‹ï¼šå®¹å™¨å…³é—­çš„æ—¶å€™</p></li><li><p>å¤šå®ä¾‹ï¼šå®¹å™¨ä¸ä¼šç®¡ç†Beanï¼Œå®¹å™¨ä¸ä¼šè°ƒç”¨é”€æ¯æ–¹æ³•</p></li></ul><h5 id="2-é€šè¿‡è®©Beanå®ç°InitializingBeanå’ŒDisposableBeanæ¥å£"><a href="#2-é€šè¿‡è®©Beanå®ç°InitializingBeanå’ŒDisposableBeanæ¥å£" class="headerlink" title="2. é€šè¿‡è®©Beanå®ç°InitializingBeanå’ŒDisposableBeanæ¥å£"></a>2. é€šè¿‡è®©Beanå®ç°InitializingBeanå’ŒDisposableBeanæ¥å£</h5><p>å®ç°destoryå’ŒInitæ–¹æ³•</p><h5 id="3-PostConstructï¼ˆåˆå§‹åŒ–ï¼‰ã€-PreDestroyï¼ˆå®¹å™¨ç§»é™¤å¯¹è±¡å‰ï¼šé”€æ¯ï¼‰"><a href="#3-PostConstructï¼ˆåˆå§‹åŒ–ï¼‰ã€-PreDestroyï¼ˆå®¹å™¨ç§»é™¤å¯¹è±¡å‰ï¼šé”€æ¯ï¼‰" class="headerlink" title="3. @PostConstructï¼ˆåˆå§‹åŒ–ï¼‰ã€@PreDestroyï¼ˆå®¹å™¨ç§»é™¤å¯¹è±¡å‰ï¼šé”€æ¯ï¼‰"></a>3. @PostConstructï¼ˆåˆå§‹åŒ–ï¼‰ã€@PreDestroyï¼ˆå®¹å™¨ç§»é™¤å¯¹è±¡å‰ï¼šé”€æ¯ï¼‰</h5><p>åœ¨Beançš„initæ–¹æ³•å’Œdestoryæ–¹æ³•ä¸­ï¼ŒåŠ ä¸Šä»¥ä¸Šä¸¤ä¸ªæ³¨è§£</p><h5 id="4-åç½®å¤„ç†å™¨BeanPostProcessorï¼ˆç±»ä¼¼ç›‘å¬å™¨ï¼‰"><a href="#4-åç½®å¤„ç†å™¨BeanPostProcessorï¼ˆç±»ä¼¼ç›‘å¬å™¨ï¼‰" class="headerlink" title="4. åç½®å¤„ç†å™¨BeanPostProcessorï¼ˆç±»ä¼¼ç›‘å¬å™¨ï¼‰"></a>4. åç½®å¤„ç†å™¨BeanPostProcessorï¼ˆç±»ä¼¼ç›‘å¬å™¨ï¼‰</h5><p>å†™ä¸€ä¸ªåç½®å¤„ç†å™¨ï¼Œå®ç°BeanPostProcessorï¼Œ</p><p>å®ç°ä¸¤ä¸ªæ–¹æ³•ï¼š</p><p>postProcessBeforeInitializationï¼šåˆå§‹åŒ–å‰è°ƒç”¨</p><p>postProcessAfterInit ializationï¼šåˆå§‹åŒ–åè°ƒç”¨</p><h3 id="ç»„ä»¶èµ‹å€¼"><a href="#ç»„ä»¶èµ‹å€¼" class="headerlink" title="ç»„ä»¶èµ‹å€¼"></a>ç»„ä»¶èµ‹å€¼</h3><h4 id="Value"><a href="#Value" class="headerlink" title="@Value"></a>@Value</h4><p><strong>åœ¨Beançš„å±æ€§ä¸Šèµ‹å€¼</strong></p><p>1.åŸºæœ¬æ•°å€¼</p><p>2.å¯ä»¥å†™SpEL #{ }</p><p>3.å¯ä»¥å†™${ }ï¼Œå–å‡ºé…ç½®æ–‡ä»¶ä¸­çš„å€¼ï¼Œå‰æè¦æœ‰@PropertySourceåŠ è½½é…ç½®æ–‡ä»¶</p><h4 id="PropertySourceï¼ˆ-â€œclasspath-person-propertiesâ€-ï¼‰"><a href="#PropertySourceï¼ˆ-â€œclasspath-person-propertiesâ€-ï¼‰" class="headerlink" title="@PropertySourceï¼ˆ{â€œclasspath:/person.propertiesâ€}ï¼‰"></a>@PropertySourceï¼ˆ{â€œclasspath:/person.propertiesâ€}ï¼‰</h4><p><strong>åŠ åœ¨é…ç½®ç±»ä¸Šï¼Œè¯»å–å¤–éƒ¨é…ç½®æ–‡ä»¶ä¸­ä¿å­˜çš„k/v</strong></p><h3 id="è‡ªåŠ¨è£…é…ï¼ˆæ³¨å…¥ï¼‰"><a href="#è‡ªåŠ¨è£…é…ï¼ˆæ³¨å…¥ï¼‰" class="headerlink" title="è‡ªåŠ¨è£…é…ï¼ˆæ³¨å…¥ï¼‰"></a>è‡ªåŠ¨è£…é…ï¼ˆæ³¨å…¥ï¼‰</h3><h4 id="Autowired-ï¼ŒSpringå®šä¹‰çš„"><a href="#Autowired-ï¼ŒSpringå®šä¹‰çš„" class="headerlink" title="@Autowired             ï¼ŒSpringå®šä¹‰çš„"></a>@Autowired             ï¼ŒSpringå®šä¹‰çš„</h4><p><strong>åŠ åœ¨å±æ€§ä¸Šï¼Œè‡ªåŠ¨è£…é…</strong></p><p>1.é»˜è®¤ä¼˜å…ˆæŒ‰ç…§ç±»å‹å»å®¹å™¨ä¸­æ‰¾å¯¹åº”ç»„ä»¶</p><p>2.å¦‚æœæ‰¾åˆ°å¤šä¸ªç›¸åŒç±»å‹çš„ç»„ä»¶ï¼Œå†å°†å±æ€§åç§°ä½œä¸ºå®¹å™¨çš„idåœ¨å®¹å™¨ä¸­æŸ¥æ‰¾</p><p>3.@Qualifierï¼ˆâ€bookDaoâ€ï¼‰ï¼ŒæŒ‡å®šéœ€è¦è£…é…çš„idï¼Œè€Œä¸æ˜¯ä½¿ç”¨å±æ€§å</p><p>4.è‡ªåŠ¨è£…é…é»˜è®¤ä¸€å®šè¦å°†å±æ€§èµ‹å€¼å¥½ï¼Œæ²¡æœ‰æ‰¾åˆ°ç›¸åº”ç»„ä»¶å°±ä¼šæŠ¥é”™</p><p>â€‹    å¯ä»¥ä½¿ç”¨@Autowiredï¼ˆrequired=falseï¼‰ï¼Œæ²¡æœ‰è£…é…ä¹Ÿä¸ä¼šæŠ¥é”™</p><p>5.@Primaryï¼Œåœ¨æ²¡æœ‰æ˜ç¡®æŒ‡å®šæ—¶ï¼Œè¿™ä¸ªæ³¨è§£æ˜¯é¦–é€‰è£…é…ï¼Œå¿½ç•¥å±æ€§å</p><p><strong>è¿˜å¯ä»¥åŠ åœ¨æœ‰å‚æ„é€ å™¨ã€å‚æ•°ã€æ–¹æ³•ä¸Šï¼Œéƒ½æ˜¯ä»å®¹å™¨ä¸­æ‹¿åˆ°å¹¶è‡ªåŠ¨è£…é…ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥çœç•¥@Autowired</strong></p><h4 id="Resource-name-â€â€-JSR250ï¼ŒJavaè§„èŒƒçš„æ³¨è§£"><a href="#Resource-name-â€â€-JSR250ï¼ŒJavaè§„èŒƒçš„æ³¨è§£" class="headerlink" title="@Resource(name=â€â€) JSR250ï¼ŒJavaè§„èŒƒçš„æ³¨è§£"></a>@Resource(name=â€â€) JSR250ï¼ŒJavaè§„èŒƒçš„æ³¨è§£</h4><p>å¯ä»¥å’Œ@Autowriedä¸€æ ·å®ç°è‡ªåŠ¨è£…é…åŠŸèƒ½ï¼Œé»˜è®¤æŒ‰ç…§ç»„ä»¶åç§°è£…é…</p><p>ä¸æ”¯æŒ@Primaryï¼Œ@Autowiredï¼ˆrequired=falseï¼‰åŠŸèƒ½</p><h4 id="Inject-JSR330ï¼ŒJavaè§„èŒƒçš„æ³¨è§£"><a href="#Inject-JSR330ï¼ŒJavaè§„èŒƒçš„æ³¨è§£" class="headerlink" title="@Inject JSR330ï¼ŒJavaè§„èŒƒçš„æ³¨è§£"></a>@Inject JSR330ï¼ŒJavaè§„èŒƒçš„æ³¨è§£</h4><p>éœ€è¦å¯¼å…¥javax.injectçš„åŒ…ï¼Œå’ŒAutowiredçš„åŠŸèƒ½ä¸€æ ·</p><h4 id="xxxAware"><a href="#xxxAware" class="headerlink" title="xxxAware"></a>xxxAware</h4><p>è‡ªå®šä¹‰ç»„ä»¶å®ç°XXXAwareï¼Œåœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨æ¥å£è§„å®šçš„æ–¹æ³•æ³¨å…¥ç›¸å…³ç»„ä»¶</p><p>æŠŠSpringåº•å±‚çš„ä¸€äº›ç»„ä»¶æ³¨å…¥åˆ°è‡ªå®šä¹‰çš„Beanä¸­</p><h4 id="Profileï¼ˆâ€â€ï¼‰"><a href="#Profileï¼ˆâ€â€ï¼‰" class="headerlink" title="@Profileï¼ˆâ€â€ï¼‰"></a>@Profileï¼ˆâ€â€ï¼‰</h4><p><strong>åŠ åœ¨@Beanä¸Šï¼Œæ ¹æ®ç¯å¢ƒæ³¨å†ŒBean</strong></p><p>1.ä½¿ç”¨å‘½ä»¤è¡ŒåŠ¨æ€å‚æ•°ï¼šåœ¨è™šæ‹Ÿæœºå‚æ•°ä½ç½®åŠ è½½ -Dspring.profiles.active=test</p><p>2.ä»£ç çš„æ–¹å¼æ¿€æ´»æŸç§ç¯å¢ƒ</p><p>ï¼ˆ1ï¼‰åˆ›å»ºä¸€ä¸ªapplicationContext </p><p>ï¼ˆ2ï¼‰è®¾ç½®éœ€è¦æ¿€æ´»çš„ç¯å¢ƒï¼ŒapplicationContext.getEnvironment().setActiveProfiles(â€œtestâ€,â€devâ€)</p><p>ï¼ˆ3ï¼‰æ³¨å†Œä¸»é…ç½®ç±»ï¼ŒapplicationContext.register(MainConfigOfProfile.class)</p><p>ï¼ˆ4ï¼‰å¯åŠ¨åˆ·æ–°å®¹å™¨ï¼ŒapplicationContext.refresh()</p><p><strong>åŠ åœ¨é…ç½®ç±»ä¸Šï¼Œåªæœ‰æ˜¯è¯¥æŒ‡å®šçš„ç¯å¢ƒï¼Œæ•´ä¸ªé…ç½®ç±»æ‰ä¼šèµ·ä½œç”¨</strong></p><p><strong>æ²¡æœ‰æ ‡æ³¨ç¯å¢ƒæ ‡è¯†çš„Beanï¼Œåœ¨ä»»ä½•ç¯å¢ƒä¸‹éƒ½æ˜¯åŠ è½½çš„</strong></p>]]></content>
      
      
      <categories>
          
          <category> ssmæ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Bootä¸æ•°æ®è®¿é—®</title>
      <link href="/2020/07/02/springboot/springboot-yu-shu-ju-fang-wen/"/>
      <url>/2020/07/02/springboot/springboot-yu-shu-ju-fang-wen/</url>
      
        <content type="html"><![CDATA[<h1 id="SpringBootä¸æ•°æ®è®¿é—®"><a href="#SpringBootä¸æ•°æ®è®¿é—®" class="headerlink" title="SpringBootä¸æ•°æ®è®¿é—®"></a>SpringBootä¸æ•°æ®è®¿é—®</h1><h2 id="1ã€JDBC"><a href="#1ã€JDBC" class="headerlink" title="1ã€JDBC"></a>1ã€JDBC</h2><p>åˆ›å»ºé¡¹ç›®æ—¶åŠ ä¸Šjdbcã€mysqlæ¨¡å—</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><p>ä¸»é…ç½®æ–‡ä»¶ä¸­è®¾ç½®</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>    <span class="token key atrule">username</span><span class="token punctuation">:</span> root    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//192.168.15.22<span class="token punctuation">:</span>3306/jdbc    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.jdbc.Driver</code></pre><p>æ•ˆæœï¼š</p><p>â€‹    é»˜è®¤æ˜¯ç”¨org.apache.tomcat.jdbc.pool.DataSourceä½œä¸ºæ•°æ®æºï¼›ï¼ˆæ–°ç‰ˆ2.3.3é»˜è®¤ç”¨çš„æ˜¯hikariæ•°æ®æºï¼‰</p><p>â€‹    æ•°æ®æºçš„ç›¸å…³é…ç½®éƒ½åœ¨DataSourcePropertiesé‡Œé¢ï¼›</p><p>è‡ªåŠ¨é…ç½®åŸç†ï¼š</p><p>org.springframework.boot.autoconfigure.jdbcï¼š</p><p>1ã€å‚è€ƒDataSourceConfigurationï¼Œæ ¹æ®é…ç½®åˆ›å»ºæ•°æ®æºï¼Œé»˜è®¤ä½¿ç”¨Tomcatè¿æ¥æ± ï¼›å¯ä»¥ä½¿ç”¨spring.datasource.typeæŒ‡å®šè‡ªå®šä¹‰çš„æ•°æ®æºç±»å‹ï¼›</p><p>2ã€SpringBooté»˜è®¤å¯ä»¥æ”¯æŒï¼›</p><pre><code>org.apache.tomcat.jdbc.pool.DataSourceã€HikariDataSourceã€BasicDataSourceã€</code></pre><p>3ã€è‡ªå®šä¹‰æ•°æ®æºç±»å‹</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** * Generic DataSource configuration. */</span><span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span>DataSource<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ConditionalOnProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"spring.datasource.type"</span><span class="token punctuation">)</span><span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Generic</span> <span class="token punctuation">{</span>   <span class="token annotation punctuation">@Bean</span>   <span class="token keyword">public</span> DataSource <span class="token function">dataSource</span><span class="token punctuation">(</span>DataSourceProperties properties<span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">//ä½¿ç”¨DataSourceBuilderåˆ›å»ºæ•°æ®æºï¼Œåˆ©ç”¨åå°„åˆ›å»ºå“åº”typeçš„æ•°æ®æºï¼Œå¹¶ä¸”ç»‘å®šç›¸å…³å±æ€§</span>      <span class="token keyword">return</span> properties<span class="token punctuation">.</span><span class="token function">initializeDataSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>4ã€<strong>DataSourceInitializerï¼šApplicationListener</strong>ï¼›</p><p>â€‹    ä½œç”¨ï¼š</p><p>â€‹        1ï¼‰ã€runSchemaScripts();è¿è¡Œå»ºè¡¨è¯­å¥ï¼›</p><p>â€‹        2ï¼‰ã€runDataScripts();è¿è¡Œæ’å…¥æ•°æ®çš„sqlè¯­å¥ï¼›</p><p>é»˜è®¤åªéœ€è¦å°†æ–‡ä»¶å‘½åä¸ºï¼š</p><pre class=" language-properties"><code class="language-properties">schema-*.sqlã€data-*.sqlé»˜è®¤è§„åˆ™ï¼šschema.sqlï¼Œschema-all.sqlï¼›<span class="token attr-name">å¯ä»¥ä½¿ç”¨</span> <span class="token attr-value">  </span><span class="token attr-name">    schema</span><span class="token punctuation">:</span><span class="token attr-name">      -</span> <span class="token attr-value">classpath:department.sql</span>      æŒ‡å®šä½ç½®</code></pre><p>5ã€æ“ä½œæ•°æ®åº“ï¼šè‡ªåŠ¨é…ç½®äº†JdbcTemplateæ“ä½œæ•°æ®åº“</p><h2 id="2ã€æ•´åˆDruidæ•°æ®æº"><a href="#2ã€æ•´åˆDruidæ•°æ®æº" class="headerlink" title="2ã€æ•´åˆDruidæ•°æ®æº"></a>2ã€æ•´åˆDruidæ•°æ®æº</h2><ol><li><p>å¯¼å…¥druidæ•°æ®æºä¾èµ–</p></li><li><p>ç¼–å†™é…ç½®æ–‡ä»¶</p><pre class=" language-properties"><code class="language-properties"><span class="token attr-name">spring.datasource.driver-class-name</span><span class="token punctuation">=</span><span class="token attr-value">com.mysql.jdbc.Driver</span><span class="token attr-name">spring.datasource.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://localhost:3306/test</span><span class="token attr-name">spring.datasource.username</span><span class="token punctuation">=</span><span class="token attr-value">root</span><span class="token attr-name">spring.datasource.password</span><span class="token punctuation">=</span><span class="token attr-value">1234</span><span class="token comment" spellcheck="true">#åˆ‡æ¢é»˜è®¤æ•°æ®æº</span><span class="token attr-name">spring.datasource.type</span><span class="token punctuation">=</span><span class="token attr-value">com.alibaba.druid.pool.DruidDataSource</span></code></pre></li><li><p>å¦‚æœæƒ³é…ç½®druidçš„å±æ€§ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­è®¾å®šï¼Œä¹‹ååœ¨è‡ªå·±å†™çš„configä¸­æ³¨å†Œbean</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DruidConfig</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"spring.datasource"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> DataSource <span class="token function">druid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       <span class="token keyword">return</span>  <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><ol start="4"><li>å¦‚æœæƒ³è®¾ç½®duridåå°ï¼Œå¢åŠ servletã€filter</li></ol></li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DruidConfig</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"spring.datasource"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> DataSource <span class="token function">druid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       <span class="token keyword">return</span>  <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//é…ç½®Druidçš„ç›‘æ§</span>    <span class="token comment" spellcheck="true">//1ã€é…ç½®ä¸€ä¸ªç®¡ç†åå°çš„Servlet</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> ServletRegistrationBean <span class="token function">statViewServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        ServletRegistrationBean bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletRegistrationBean</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StatViewServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"/druid/*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>String<span class="token operator">></span> initParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        initParams<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"loginUsername"</span><span class="token punctuation">,</span><span class="token string">"admin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        initParams<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"loginPassword"</span><span class="token punctuation">,</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        initParams<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"allow"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//é»˜è®¤å°±æ˜¯å…è®¸æ‰€æœ‰è®¿é—®</span>        initParams<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"deny"</span><span class="token punctuation">,</span><span class="token string">"192.168.15.21"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bean<span class="token punctuation">.</span><span class="token function">setInitParameters</span><span class="token punctuation">(</span>initParams<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//2ã€é…ç½®ä¸€ä¸ªwebç›‘æ§çš„filter</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> FilterRegistrationBean <span class="token function">webStatFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        FilterRegistrationBean bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FilterRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bean<span class="token punctuation">.</span><span class="token function">setFilter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebStatFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>String<span class="token operator">></span> initParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        initParams<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"exclusions"</span><span class="token punctuation">,</span><span class="token string">"*.js,*.css,/druid/*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bean<span class="token punctuation">.</span><span class="token function">setInitParameters</span><span class="token punctuation">(</span>initParams<span class="token punctuation">)</span><span class="token punctuation">;</span>        bean<span class="token punctuation">.</span><span class="token function">setUrlPatterns</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"/*"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span>  bean<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="3ã€æ•´åˆMyBatis"><a href="#3ã€æ•´åˆMyBatis" class="headerlink" title="3ã€æ•´åˆMyBatis"></a>3ã€æ•´åˆMyBatis</h2><pre class=" language-xml"><code class="language-xml">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/%E6%90%9C%E7%8B%97%E6%88%AA%E5%9B%BE20180305194443.png"></p><p>æ­¥éª¤ï¼š</p><p>â€‹    1ï¼‰ã€é…ç½®æ•°æ®æºç›¸å…³å±æ€§ï¼ˆè§ä¸Šä¸€èŠ‚Druidï¼‰+ä¸»é…ç½®æ–‡ä»¶é…ç½®æ•°æ®æºå’Œdruidç›¸å…³å±æ€§</p><p>â€‹    2ï¼‰ã€ç»™æ•°æ®åº“å»ºè¡¨ï¼ˆç”¨schemaï¼‰</p><blockquote><p>ç”¨schemaé‡åˆ°çš„å‘ï¼š</p><p>é”™è¯¯ï¼šè¡¨åˆ›å»ºä¸å‡ºæ¥</p><p>æ”¹ä¸ºï¼šåœ¨ymlä¸­åŠ ä¸Š initialization-mode: always</p><p>é”™è¯¯ï¼šFailed to bind properties under â€˜spring.datasourceâ€™ to javax.sql.DataSource:</p><p>åŸå› ï¼šå°‘äº†log4jçš„ç›¸å…³ä¾èµ–</p><p>æ”¹ä¸ºï¼š</p><pre><code>&lt;dependency&gt;            &lt;groupId&gt;log4j&lt;/groupId&gt;            &lt;artifactId&gt;log4j&lt;/artifactId&gt;            &lt;version&gt;1.2.17&lt;/version&gt;        &lt;/dependency&gt;</code></pre><p> å†æŠŠymlé…ç½®æ–‡ä»¶ä¸­çš„driveræ”¹ä¸ºï¼šcom.mysql.cj.jdbc.Driver</p><p>é”™è¯¯ï¼šlog4j:WARN No appenders could be found for logger (druid.sql.Connection)</p><p>åŸå› ï¼šæ—¥å¿—é…ç½®</p><p>è§£å†³ï¼š<a href="https://blog.csdn.net/weixin_43759352/article/details/104298332">https://blog.csdn.net/weixin_43759352/article/details/104298332</a></p></blockquote><p>â€‹    3ï¼‰ã€åˆ›å»ºJavaBean</p><h3 id="4ï¼‰ã€æ³¨è§£ç‰ˆ"><a href="#4ï¼‰ã€æ³¨è§£ç‰ˆ" class="headerlink" title="4ï¼‰ã€æ³¨è§£ç‰ˆ"></a>4ï¼‰ã€æ³¨è§£ç‰ˆ</h3><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æŒ‡å®šè¿™æ˜¯ä¸€ä¸ªæ“ä½œæ•°æ®åº“çš„mapper</span><span class="token comment" spellcheck="true">//@Mapperå’Œ@Repositoryçš„åŒºåˆ«</span><span class="token comment" spellcheck="true">//@Repositoryéœ€è¦åœ¨Springä¸­é…ç½®æ‰«æåœ°å€ï¼Œç„¶åç”ŸæˆDaoå±‚çš„Beanæ‰èƒ½è¢«æ³¨å…¥åˆ°Serviceå±‚ä¸­ã€‚</span><span class="token comment" spellcheck="true">//@Mapperä¸éœ€è¦é…ç½®æ‰«æåœ°å€ï¼Œé€šè¿‡xmlé‡Œé¢çš„namespaceé‡Œé¢çš„æ¥å£åœ°å€ï¼Œç”Ÿæˆäº†Beanåæ³¨å…¥åˆ°Serviceå±‚ä¸­ã€‚</span><span class="token annotation punctuation">@Mapper</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">DepartmentMapper</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select * from department where id=#{id}"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> Department <span class="token function">getDeptById</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Delete</span><span class="token punctuation">(</span><span class="token string">"delete from department where id=#{id}"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">deleteDeptById</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Options</span><span class="token punctuation">(</span>useGeneratedKeys <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>keyProperty <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//è·å¾—è‡ªå¢ä¸»é”®</span>    <span class="token annotation punctuation">@Insert</span><span class="token punctuation">(</span><span class="token string">"insert into department(departmentName) values(#{departmentName})"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">insertDept</span><span class="token punctuation">(</span>Department department<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Update</span><span class="token punctuation">(</span><span class="token string">"update department set departmentName=#{departmentName} where id=#{id}"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">updateDept</span><span class="token punctuation">(</span>Department department<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><blockquote><p>é‡åˆ°çš„å‘ï¼š</p><p>é”™è¯¯ï¼šç¼–å†™å®Œcontrollerå±‚ï¼ŒæŸ¥è¯¢ä¸åˆ°æ•°æ®</p><p>åŸå› ï¼šæŸ¥è¯¢çš„æ˜¯@GetMapping(â€œ/dept/{id}â€)ï¼Œè®¿é—®æ—¶ä¸èƒ½ç”¨localhost:8080/dept?id=1</p><p>æ”¹ä¸ºï¼šlocalhost:8080/dept/1</p></blockquote><p>é—®é¢˜ï¼šå½“æ•°æ®åº“åˆ—åä¿®æ”¹ä¸ºé©¼å³°å‘½ååï¼Œæ•°æ®å°è£…ä¸ä¸Š</p><p>è‡ªå®šä¹‰MyBatisçš„é…ç½®è§„åˆ™ï¼›ç»™å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªConfigurationCustomizerï¼›</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@org</span><span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Configuration<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBatisConfig</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> ConfigurationCustomizer <span class="token function">configurationCustomizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConfigurationCustomizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">customize</span><span class="token punctuation">(</span>Configuration configuration<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">//å¼€å¯é©¼å³°å‘½åæ³•</span>                configuration<span class="token punctuation">.</span><span class="token function">setMapUnderscoreToCamelCase</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java">ä½¿ç”¨MapperScanæ‰¹é‡æ‰«ææ‰€æœ‰çš„Mapperæ¥å£ï¼›<span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"com.atguigu.springboot.mapper"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringBoot06DataMybatisApplication</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        SpringApplication<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>SpringBoot06DataMybatisApplication<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="5ï¼‰ã€é…ç½®æ–‡ä»¶ç‰ˆ"><a href="#5ï¼‰ã€é…ç½®æ–‡ä»¶ç‰ˆ" class="headerlink" title="5ï¼‰ã€é…ç½®æ–‡ä»¶ç‰ˆ"></a>5ï¼‰ã€é…ç½®æ–‡ä»¶ç‰ˆ</h3><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">mybatis</span><span class="token punctuation">:</span>  <span class="token key atrule">config-location</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>mybatis/mybatis<span class="token punctuation">-</span>config.xml æŒ‡å®šå…¨å±€é…ç½®æ–‡ä»¶çš„ä½ç½®  <span class="token key atrule">mapper-locations</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>mybatis/mapper/*.xml  æŒ‡å®šsqlæ˜ å°„æ–‡ä»¶çš„ä½ç½®</code></pre><p>å…¶ä»–æ“ä½œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œ@MapperScanåªéœ€è¦é…ç½®ä¸€æ¬¡ï¼Œæ³¨è§£å’Œé…ç½®æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨</p><p>æ›´å¤šä½¿ç”¨å‚ç…§</p><p><a href="http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/">http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/</a></p>]]></content>
      
      
      <categories>
          
          <category> Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker</title>
      <link href="/2020/07/01/linux/docker/"/>
      <url>/2020/07/01/linux/docker/</url>
      
        <content type="html"><![CDATA[<h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><h2 id="1ã€ç®€ä»‹"><a href="#1ã€ç®€ä»‹" class="headerlink" title="1ã€ç®€ä»‹"></a>1ã€ç®€ä»‹</h2><p><strong>Docker</strong>æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼›æ˜¯ä¸€ä¸ªè½»é‡çº§å®¹å™¨æŠ€æœ¯ï¼›</p><p>Dockeræ”¯æŒå°†è½¯ä»¶ç¼–è¯‘æˆä¸€ä¸ªé•œåƒï¼›ç„¶ååœ¨é•œåƒä¸­å„ç§è½¯ä»¶åšå¥½é…ç½®ï¼Œå°†é•œåƒå‘å¸ƒå‡ºå»ï¼Œå…¶ä»–ä½¿ç”¨è€…å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªé•œåƒï¼›</p><p>è¿è¡Œä¸­çš„è¿™ä¸ªé•œåƒç§°ä¸ºå®¹å™¨ï¼Œå®¹å™¨å¯åŠ¨æ˜¯éå¸¸å¿«é€Ÿçš„ã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/%E6%90%9C%E7%8B%97%E6%88%AA%E5%9B%BE20180303145531.png" alt="docker1"></p><h2 id="2ã€æ ¸å¿ƒæ¦‚å¿µ"><a href="#2ã€æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="2ã€æ ¸å¿ƒæ¦‚å¿µ"></a>2ã€æ ¸å¿ƒæ¦‚å¿µ</h2><p>dockerä¸»æœº(Host)ï¼šå®‰è£…äº†Dockerç¨‹åºçš„æœºå™¨ï¼ˆDockerç›´æ¥å®‰è£…åœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼‰ï¼›</p><p>dockerå®¢æˆ·ç«¯(Client)ï¼šè¿æ¥dockerä¸»æœºè¿›è¡Œæ“ä½œï¼›</p><p>dockerä»“åº“(Registry)ï¼šç”¨æ¥ä¿å­˜å„ç§æ‰“åŒ…å¥½çš„è½¯ä»¶é•œåƒï¼›</p><p>dockeré•œåƒ(Images)ï¼šè½¯ä»¶æ‰“åŒ…å¥½çš„é•œåƒï¼›æ”¾åœ¨dockerä»“åº“ä¸­ï¼›</p><p>dockerå®¹å™¨(Container)ï¼šé•œåƒå¯åŠ¨åçš„å®ä¾‹ç§°ä¸ºä¸€ä¸ªå®¹å™¨ï¼›å®¹å™¨æ˜¯ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/docker2.png" alt="docker2"></p><p>ä½¿ç”¨Dockerçš„æ­¥éª¤ï¼š</p><p>1ï¼‰ã€å®‰è£…Docker</p><p>2ï¼‰ã€å»Dockerä»“åº“æ‰¾åˆ°è¿™ä¸ªè½¯ä»¶å¯¹åº”çš„é•œåƒï¼›</p><p>3ï¼‰ã€ä½¿ç”¨Dockerè¿è¡Œè¿™ä¸ªé•œåƒï¼Œè¿™ä¸ªé•œåƒå°±ä¼šç”Ÿæˆä¸€ä¸ªDockerå®¹å™¨ï¼›</p><p>4ï¼‰ã€å¯¹å®¹å™¨çš„å¯åŠ¨åœæ­¢å°±æ˜¯å¯¹è½¯ä»¶çš„å¯åŠ¨åœæ­¢ï¼›</p><h2 id="3ã€å®‰è£…Docker"><a href="#3ã€å®‰è£…Docker" class="headerlink" title="3ã€å®‰è£…Docker"></a>3ã€å®‰è£…Docker</h2><h4 id="1ï¼‰ã€å®‰è£…linuxè™šæ‹Ÿæœº"><a href="#1ï¼‰ã€å®‰è£…linuxè™šæ‹Ÿæœº" class="headerlink" title="1ï¼‰ã€å®‰è£…linuxè™šæ‹Ÿæœº"></a>1ï¼‰ã€å®‰è£…linuxè™šæ‹Ÿæœº</h4><p>â€‹    1ï¼‰ã€VMWareã€VirtualBoxï¼ˆå®‰è£…ï¼‰ï¼›</p><p>â€‹    2ï¼‰ã€å¯¼å…¥è™šæ‹Ÿæœºæ–‡ä»¶centos7-atguigu.ovaï¼›</p><p>â€‹    3ï¼‰ã€åŒå‡»å¯åŠ¨linuxè™šæ‹Ÿæœº;ä½¿ç”¨  root/ 123456ç™»é™†</p><p>â€‹    4ï¼‰ã€ä½¿ç”¨å®¢æˆ·ç«¯è¿æ¥linuxæœåŠ¡å™¨è¿›è¡Œå‘½ä»¤æ“ä½œï¼›</p><p>â€‹    5ï¼‰ã€è®¾ç½®è™šæ‹Ÿæœºç½‘ç»œï¼›</p><p>â€‹        æ¡¥æ¥ç½‘ç»œ===é€‰å¥½ç½‘å¡====æ¥å…¥ç½‘çº¿ï¼›</p><p>â€‹    6ï¼‰ã€è®¾ç½®å¥½ç½‘ç»œä»¥åä½¿ç”¨å‘½ä»¤é‡å¯è™šæ‹Ÿæœºçš„ç½‘ç»œ</p><pre class=" language-shell"><code class="language-shell">service network restart</code></pre><p>â€‹    7ï¼‰ã€æŸ¥çœ‹linuxçš„ipåœ°å€</p><pre class=" language-shell"><code class="language-shell">ip addr</code></pre><p>â€‹    8ï¼‰ã€ä½¿ç”¨å®¢æˆ·ç«¯è¿æ¥linuxï¼›</p><h4 id="2ï¼‰ã€åœ¨linuxè™šæ‹Ÿæœºä¸Šå®‰è£…docker"><a href="#2ï¼‰ã€åœ¨linuxè™šæ‹Ÿæœºä¸Šå®‰è£…docker" class="headerlink" title="2ï¼‰ã€åœ¨linuxè™šæ‹Ÿæœºä¸Šå®‰è£…docker"></a>2ï¼‰ã€åœ¨linuxè™šæ‹Ÿæœºä¸Šå®‰è£…docker</h4><p>æ­¥éª¤ï¼š</p><pre class=" language-shell"><code class="language-shell">1ã€æ£€æŸ¥å†…æ ¸ç‰ˆæœ¬ï¼Œå¿…é¡»æ˜¯3.10åŠä»¥ä¸Šuname -r2ã€å®‰è£…dockeryum install docker3ã€è¾“å…¥yç¡®è®¤å®‰è£…4ã€å¯åŠ¨docker[root@localhost ~]# systemctl start docker[root@localhost ~]# docker -vDocker version 1.12.6, build 3e8e77d/1.12.65ã€å¼€æœºå¯åŠ¨docker[root@localhost ~]# systemctl enable dockerCreated symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.6ã€åœæ­¢dockersystemctl stop docker</code></pre><h2 id="4ã€Dockerå¸¸ç”¨å‘½ä»¤-amp-æ“ä½œ"><a href="#4ã€Dockerå¸¸ç”¨å‘½ä»¤-amp-æ“ä½œ" class="headerlink" title="4ã€Dockerå¸¸ç”¨å‘½ä»¤&amp;æ“ä½œ"></a>4ã€Dockerå¸¸ç”¨å‘½ä»¤&amp;æ“ä½œ</h2><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id="1ï¼‰ã€é•œåƒæ“ä½œ"><a href="#1ï¼‰ã€é•œåƒæ“ä½œ" class="headerlink" title="1ï¼‰ã€é•œåƒæ“ä½œ"></a>1ï¼‰ã€é•œåƒæ“ä½œ</h3><table><thead><tr><th>æ“ä½œ</th><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ£€ç´¢</td><td>docker  search å…³é”®å­—  egï¼šdocker  search redis</td><td>æˆ‘ä»¬ç»å¸¸å»docker  hubä¸Šæ£€ç´¢é•œåƒçš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚é•œåƒçš„TAGã€‚</td></tr><tr><td>æ‹‰å–</td><td>docker pull é•œåƒå:tag</td><td>:tagæ˜¯å¯é€‰çš„ï¼Œtagè¡¨ç¤ºæ ‡ç­¾ï¼Œå¤šä¸ºè½¯ä»¶çš„ç‰ˆæœ¬ï¼Œé»˜è®¤æ˜¯latest</td></tr><tr><td>åˆ—è¡¨</td><td>docker images</td><td>æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°é•œåƒ</td></tr><tr><td>åˆ é™¤</td><td>docker rmi image-id</td><td>åˆ é™¤æŒ‡å®šçš„æœ¬åœ°é•œåƒ</td></tr></tbody></table><p><a href="https://hub.docker.com/">https://hub.docker.com/</a></p><h3 id="2ï¼‰ã€å®¹å™¨æ“ä½œ"><a href="#2ï¼‰ã€å®¹å™¨æ“ä½œ" class="headerlink" title="2ï¼‰ã€å®¹å™¨æ“ä½œ"></a>2ï¼‰ã€å®¹å™¨æ“ä½œ</h3><p>è½¯ä»¶é•œåƒï¼ˆQQå®‰è£…ç¨‹åºï¼‰â€”-è¿è¡Œé•œåƒâ€”-äº§ç”Ÿä¸€ä¸ªå®¹å™¨ï¼ˆæ­£åœ¨è¿è¡Œçš„è½¯ä»¶ï¼Œè¿è¡Œçš„QQï¼‰ï¼›</p><p>æ­¥éª¤ï¼š</p><pre class=" language-shell"><code class="language-shell">1ã€æœç´¢é•œåƒ[root@localhost ~]# docker search tomcat2ã€æ‹‰å–é•œåƒ[root@localhost ~]# docker pull tomcat3ã€æ ¹æ®é•œåƒå¯åŠ¨å®¹å™¨docker run --name mytomcat -d tomcat:latest4ã€docker ps  æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨5ã€ åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨docker stop  å®¹å™¨çš„id6ã€æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨docker ps -a7ã€å¯åŠ¨å®¹å™¨docker start å®¹å™¨id8ã€åˆ é™¤ä¸€ä¸ªå®¹å™¨ docker rm å®¹å™¨id9ã€å¯åŠ¨ä¸€ä¸ªåšäº†ç«¯å£æ˜ å°„çš„tomcat[root@localhost ~]# docker run -d -p 8888:8080 tomcat-dï¼šåå°è¿è¡Œ-p: å°†ä¸»æœºçš„ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ä¸€ä¸ªç«¯å£    ä¸»æœºç«¯å£:å®¹å™¨å†…éƒ¨çš„ç«¯å£10ã€ä¸ºäº†æ¼”ç¤ºç®€å•å…³é—­äº†linuxçš„é˜²ç«å¢™service firewalld status ï¼›æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€service firewalld stopï¼šå…³é—­é˜²ç«å¢™11ã€æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—docker logs container-name/container-idæ›´å¤šå‘½ä»¤å‚çœ‹https://docs.docker.com/engine/reference/commandline/docker/å¯ä»¥å‚è€ƒæ¯ä¸€ä¸ªé•œåƒçš„æ–‡æ¡£TYPE=EthernetBOOTPROTO=static#é…ç½®é™æ€IPï¼Œç½‘å…³ï¼Œå­ç½‘æ©ç IPADDR=192.168.179.0NETMASK=255.255.255.0GATEWAY=192.168.179.2NM_CONTROLLED=no</code></pre><blockquote><p>é‡åˆ°çš„å‘ï¼š</p><p>é”™è¯¯ï¼š404</p><p>åŸå› ï¼šä¸‹è½½çš„tomcaté•œåƒç‰ˆæœ¬ä¸å¯¹</p><p>æ”¹ä¸ºï¼šä¸‹è½½tomcat:8.0.35ç‰ˆæœ¬</p><p>é”™è¯¯ï¼šé‡å¯è™šæ‹Ÿæœºåï¼Œipå‘ç”Ÿæ”¹å˜ï¼Œå¯¼è‡´crtå’Œmysqlæ— æ³•è¿æ¥</p><p>åŸå› ï¼šåº”è¯¥æ˜¯ç½‘ç»œæ²¡æœ‰å¼€å¯ï¼Œéœ€è¦é…ç½®Ipä¹‹åé‡å¯ç½‘ç»œå³å¯</p><p>æ–¹æ³•ï¼š<a href="https://blog.csdn.net/delight_sl/article/details/91358832">https://blog.csdn.net/delight_sl/article/details/91358832</a></p></blockquote><h3 id="3ï¼‰ã€å®‰è£…MySQLç¤ºä¾‹"><a href="#3ï¼‰ã€å®‰è£…MySQLç¤ºä¾‹" class="headerlink" title="3ï¼‰ã€å®‰è£…MySQLç¤ºä¾‹"></a>3ï¼‰ã€å®‰è£…MySQLç¤ºä¾‹</h3><pre><code>docker pull mysql</code></pre><p>é”™è¯¯çš„å¯åŠ¨</p><pre><code>[root@localhost ~]# docker run --name mysql01 -d mysql42f09819908bb72dd99ae19e792e0a5d03c48638421fa64cce5f8ba0f40f5846mysqlé€€å‡ºäº†[root@localhost ~]# docker ps -aCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                           PORTS               NAMES42f09819908b        mysql               "docker-entrypoint.sh"   34 seconds ago      Exited (1) 33 seconds ago                            mysql01538bde63e500        tomcat              "catalina.sh run"        About an hour ago   Exited (143) About an hour ago                       compassionate_goldstinec4f1ac60b3fc        tomcat              "catalina.sh run"        About an hour ago   Exited (143) About an hour ago                       lonely_fermi81ec743a5271        tomcat              "catalina.sh run"        About an hour ago   Exited (143) About an hour ago                       sick_ramanujan//é”™è¯¯æ—¥å¿—[root@localhost ~]# docker logs 42f09819908berror: database is uninitialized and password option is not specified   You need to specify one of MYSQL_ROOT_PASSWORD, MYSQL_ALLOW_EMPTY_PASSWORD and MYSQL_RANDOM_ROOT_PASSWORDï¼›è¿™ä¸ªä¸‰ä¸ªå‚æ•°å¿…é¡»æŒ‡å®šä¸€ä¸ª</code></pre><p>é”™è¯¯çš„å¯åŠ¨</p><pre><code>[root@localhost ~]# docker run --name mysql01 -e MYSQL_ROOT_PASSWORD=123456 -d mysqlb874c56bec49fb43024b3805ab51e9097da779f2f572c22c695305dedd684c5f[root@localhost ~]# docker psCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS               NAMESb874c56bec49        mysql               "docker-entrypoint.sh"   4 seconds ago       Up 3 seconds        3306/tcp            mysql01</code></pre><p>æ­£ç¡®çš„å¯åŠ¨ï¼šåšäº†ç«¯å£æ˜ å°„</p><pre><code>[root@localhost ~]# docker run -p 3306:3306 --name mysql02 -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.5ad10e4bc5c6a0f61cbad43898de71d366117d120e39db651844c0e73863b9434[root@localhost ~]# docker psCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMESad10e4bc5c6a        mysql               "docker-entrypoint.sh"   4 seconds ago       Up 2 seconds        0.0.0.0:3306-&gt;3306/tcp   mysql02</code></pre><blockquote><p>é‡åˆ°çš„å‘ï¼š</p><p>é”™è¯¯ï¼šError response from daemon: driver failed programming external connectivity on</p><p>åŸå› ï¼šdockeræœåŠ¡å¯åŠ¨æ—¶å®šä¹‰çš„è‡ªå®šä¹‰é“¾DOCKERç”±äºæŸç§åŸå› è¢«æ¸…æ‰</p><p>è§£å†³ï¼šé‡å¯dockeræœåŠ¡å™¨åå†å¯åŠ¨å®¹å™¨</p></blockquote><p>å‡ ä¸ªå…¶ä»–çš„é«˜çº§æ“ä½œ</p><pre><code>docker run --name mysql03 -v /conf/mysql:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tagæŠŠä¸»æœºçš„/conf/mysqlæ–‡ä»¶å¤¹æŒ‚è½½åˆ° mysqldockerå®¹å™¨çš„/etc/mysql/conf.dæ–‡ä»¶å¤¹é‡Œé¢æ”¹mysqlçš„é…ç½®æ–‡ä»¶å°±åªéœ€è¦æŠŠmysqlé…ç½®æ–‡ä»¶æ”¾åœ¨è‡ªå®šä¹‰çš„æ–‡ä»¶å¤¹ä¸‹ï¼ˆ/conf/mysqlï¼‰docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ciæŒ‡å®šmysqlçš„ä¸€äº›é…ç½®å‚æ•°</code></pre><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>ä¿®æ”¹è¿è¡Œä¸­çš„å®¹å™¨ç«¯å£</p><p><a href="https://www.cnblogs.com/shijf/p/10386193.html">https://www.cnblogs.com/shijf/p/10386193.html</a></p><p>ä¿®æ”¹å®¹å™¨ä¸­host</p><p><code>docker run -d -p 8000:8000 --add-host=blade-report:127.0.0.1 799382</code></p><ol><li>â€“add-host=hostå:IP</li><li>799382æ˜¯é•œåƒid</li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot webå¼€å‘</title>
      <link href="/2020/06/26/springboot/spring-boot-web-kai-fa/"/>
      <url>/2020/06/26/springboot/spring-boot-web-kai-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="å››ã€Webå¼€å‘"><a href="#å››ã€Webå¼€å‘" class="headerlink" title="å››ã€Webå¼€å‘"></a>å››ã€Webå¼€å‘</h1><h2 id="1ã€ç®€ä»‹"><a href="#1ã€ç®€ä»‹" class="headerlink" title="1ã€ç®€ä»‹"></a>1ã€ç®€ä»‹</h2><p>ä½¿ç”¨SpringBootï¼›</p><p><strong>1ï¼‰ã€åˆ›å»ºSpringBootåº”ç”¨ï¼Œé€‰ä¸­æˆ‘ä»¬éœ€è¦çš„æ¨¡å—ï¼›</strong></p><p><strong>2ï¼‰ã€SpringBootå·²ç»é»˜è®¤å°†è¿™äº›åœºæ™¯é…ç½®å¥½äº†ï¼Œåªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå°‘é‡é…ç½®å°±å¯ä»¥è¿è¡Œèµ·æ¥</strong></p><p><strong>3ï¼‰ã€è‡ªå·±ç¼–å†™ä¸šåŠ¡ä»£ç ï¼›</strong></p><p><strong>è‡ªåŠ¨é…ç½®åŸç†ï¼Ÿ</strong></p><p>è¿™ä¸ªåœºæ™¯SpringBootå¸®æˆ‘ä»¬é…ç½®äº†ä»€ä¹ˆï¼Ÿèƒ½ä¸èƒ½ä¿®æ”¹ï¼Ÿèƒ½ä¿®æ”¹å“ªäº›é…ç½®ï¼Ÿèƒ½ä¸èƒ½æ‰©å±•ï¼Ÿxxx</p><pre><code>xxxxAutoConfigurationï¼šå¸®æˆ‘ä»¬ç»™å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç»„ä»¶ï¼›xxxxProperties:é…ç½®ç±»æ¥å°è£…é…ç½®æ–‡ä»¶çš„å†…å®¹ï¼›</code></pre><h2 id="2ã€SpringBootå¯¹é™æ€èµ„æºçš„æ˜ å°„è§„åˆ™"><a href="#2ã€SpringBootå¯¹é™æ€èµ„æºçš„æ˜ å°„è§„åˆ™" class="headerlink" title="2ã€SpringBootå¯¹é™æ€èµ„æºçš„æ˜ å°„è§„åˆ™"></a>2ã€SpringBootå¯¹é™æ€èµ„æºçš„æ˜ å°„è§„åˆ™</h2><pre class=" language-java"><code class="language-java">    WebMvcAuotConfigurationï¼š        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addResourceHandlers</span><span class="token punctuation">(</span>ResourceHandlerRegistry registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>resourceProperties<span class="token punctuation">.</span><span class="token function">isAddMappings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"Default resource handling disabled"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            Integer cachePeriod <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resourceProperties<span class="token punctuation">.</span><span class="token function">getCachePeriod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>registry<span class="token punctuation">.</span><span class="token function">hasMappingForPattern</span><span class="token punctuation">(</span><span class="token string">"/webjars/**"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">customizeResourceHandlerRegistration</span><span class="token punctuation">(</span>                        registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span><span class="token string">"/webjars/**"</span><span class="token punctuation">)</span>                                <span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span>                                        <span class="token string">"classpath:/META-INF/resources/webjars/"</span><span class="token punctuation">)</span>                        <span class="token punctuation">.</span><span class="token function">setCachePeriod</span><span class="token punctuation">(</span>cachePeriod<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            String staticPathPattern <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mvcProperties<span class="token punctuation">.</span><span class="token function">getStaticPathPattern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token operator">/</span><span class="token operator">/</span>é™æ€èµ„æºæ–‡ä»¶å¤¹æ˜ å°„            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>registry<span class="token punctuation">.</span><span class="token function">hasMappingForPattern</span><span class="token punctuation">(</span>staticPathPattern<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">customizeResourceHandlerRegistration</span><span class="token punctuation">(</span>                        registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span>staticPathPattern<span class="token punctuation">)</span>                                <span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span>                                        <span class="token keyword">this</span><span class="token punctuation">.</span>resourceProperties<span class="token punctuation">.</span><span class="token function">getStaticLocations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token punctuation">.</span><span class="token function">setCachePeriod</span><span class="token punctuation">(</span>cachePeriod<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token operator">/</span><span class="token operator">/</span>é…ç½®æ¬¢è¿é¡µæ˜ å°„        <span class="token annotation punctuation">@Bean</span>        <span class="token keyword">public</span> WelcomePageHandlerMapping <span class="token function">welcomePageHandlerMapping</span><span class="token punctuation">(</span>                ResourceProperties resourceProperties<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">WelcomePageHandlerMapping</span><span class="token punctuation">(</span>resourceProperties<span class="token punctuation">.</span><span class="token function">getWelcomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>mvcProperties<span class="token punctuation">.</span><span class="token function">getStaticPathPattern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>       <span class="token operator">/</span><span class="token operator">/</span>é…ç½®å–œæ¬¢çš„å›¾æ ‡        <span class="token annotation punctuation">@Configuration</span>        <span class="token annotation punctuation">@ConditionalOnProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"spring.mvc.favicon.enabled"</span><span class="token punctuation">,</span> matchIfMissing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">FaviconConfiguration</span> <span class="token punctuation">{</span>            <span class="token keyword">private</span> <span class="token keyword">final</span> ResourceProperties resourceProperties<span class="token punctuation">;</span>            <span class="token keyword">public</span> <span class="token function">FaviconConfiguration</span><span class="token punctuation">(</span>ResourceProperties resourceProperties<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>resourceProperties <span class="token operator">=</span> resourceProperties<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token annotation punctuation">@Bean</span>            <span class="token keyword">public</span> SimpleUrlHandlerMapping <span class="token function">faviconHandlerMapping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                SimpleUrlHandlerMapping mapping <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleUrlHandlerMapping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mapping<span class="token punctuation">.</span><span class="token function">setOrder</span><span class="token punctuation">(</span>Ordered<span class="token punctuation">.</span>HIGHEST_PRECEDENCE <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token operator">/</span><span class="token operator">/</span>æ‰€æœ‰  <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">/</span>favicon<span class="token punctuation">.</span>ico                 mapping<span class="token punctuation">.</span><span class="token function">setUrlMap</span><span class="token punctuation">(</span>Collections<span class="token punctuation">.</span><span class="token function">singletonMap</span><span class="token punctuation">(</span><span class="token string">"**/favicon.ico"</span><span class="token punctuation">,</span>                        <span class="token function">faviconRequestHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> mapping<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token annotation punctuation">@Bean</span>            <span class="token keyword">public</span> ResourceHttpRequestHandler <span class="token function">faviconRequestHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                ResourceHttpRequestHandler requestHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResourceHttpRequestHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                requestHandler                        <span class="token punctuation">.</span><span class="token function">setLocations</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>resourceProperties<span class="token punctuation">.</span><span class="token function">getFaviconLocations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> requestHandler<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span></code></pre><p>==1ï¼‰ã€æ‰€æœ‰ /webjars/** ï¼Œéƒ½å» classpath:/META-INF/resources/webjars/ æ‰¾èµ„æºï¼›==</p><p>â€‹    webjarsï¼šä»¥jaråŒ…çš„æ–¹å¼å¼•å…¥é™æ€èµ„æºï¼›<a href="http://www.webjars.org/">http://www.webjars.org/</a></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sbweb1.png" alt="sbweb1"></p><p>localhost:8080/webjars/jquery/3.3.1/jquery.js</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--å¼•å…¥jquery-webjar--></span>åœ¨è®¿é—®çš„æ—¶å€™åªéœ€è¦å†™webjarsä¸‹é¢èµ„æºçš„åç§°å³å¯        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.webjars<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jquery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><p>==2ï¼‰ã€â€/**â€ è®¿é—®å½“å‰é¡¹ç›®çš„ä»»ä½•èµ„æºï¼Œéƒ½å»ï¼ˆé™æ€èµ„æºçš„æ–‡ä»¶å¤¹ï¼‰æ‰¾æ˜ å°„==</p><pre><code>"classpath:/META-INF/resources/", "classpath:/resources/","classpath:/static/", "classpath:/public/" "/"ï¼šå½“å‰é¡¹ç›®çš„æ ¹è·¯å¾„</code></pre><p>localhost:8080/abc ===  å»é™æ€èµ„æºæ–‡ä»¶å¤¹é‡Œé¢æ‰¾abc</p><p>==3ï¼‰ã€æ¬¢è¿é¡µï¼› é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰index.htmlé¡µé¢ï¼›è¢«â€/**â€æ˜ å°„ï¼›==</p><p>â€‹    localhost:8080/   æ‰¾indexé¡µé¢</p><p>==4ï¼‰ã€æ‰€æœ‰çš„ **/favicon.ico  éƒ½æ˜¯åœ¨é™æ€èµ„æºæ–‡ä»¶ä¸‹æ‰¾ï¼›==</p><p>æƒ³ä¿®æ”¹é™æ€èµ„æºæ–‡ä»¶å¤¹çš„ä½ç½®ï¼š<code>spring.resources.static-locations=classpath:/hello/</code></p><h2 id="3ã€æ¨¡æ¿å¼•æ“"><a href="#3ã€æ¨¡æ¿å¼•æ“" class="headerlink" title="3ã€æ¨¡æ¿å¼•æ“"></a>3ã€æ¨¡æ¿å¼•æ“</h2><p>JSPã€Velocityã€Freemarkerã€Thymeleaf</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sbweb2.png" alt="sbweb2"></p><p>SpringBootæ¨èçš„Thymeleafï¼›</p><h3 id="1ã€å¼•å…¥thymeleafï¼›"><a href="#1ã€å¼•å…¥thymeleafï¼›" class="headerlink" title="1ã€å¼•å…¥thymeleafï¼›"></a>1ã€å¼•å…¥thymeleafï¼›</h3><pre class=" language-xml"><code class="language-xml">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>              2.1.6        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>åˆ‡æ¢thymeleafç‰ˆæœ¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thymeleaf.version</span><span class="token punctuation">></span></span>3.0.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thymeleaf.version</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- å¸ƒå±€åŠŸèƒ½çš„æ”¯æŒç¨‹åº  thymeleaf3ä¸»ç¨‹åº  layout2ä»¥ä¸Šç‰ˆæœ¬ --></span>        <span class="token comment" spellcheck="true">&lt;!-- thymeleaf2   layout1--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thymeleaf-layout-dialect.version</span><span class="token punctuation">></span></span>2.2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thymeleaf-layout-dialect.version</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span></code></pre><h3 id="2ã€Thymeleafä½¿ç”¨"><a href="#2ã€Thymeleafä½¿ç”¨" class="headerlink" title="2ã€Thymeleafä½¿ç”¨"></a>2ã€Thymeleafä½¿ç”¨</h3><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"spring.thymeleaf"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThymeleafProperties</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Charset DEFAULT_ENCODING <span class="token operator">=</span> Charset<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> MimeType DEFAULT_CONTENT_TYPE <span class="token operator">=</span> MimeType<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> String DEFAULT_PREFIX <span class="token operator">=</span> <span class="token string">"classpath:/templates/"</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> String DEFAULT_SUFFIX <span class="token operator">=</span> <span class="token string">".html"</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//</span></code></pre><p>åªè¦æˆ‘ä»¬æŠŠHTMLé¡µé¢æ”¾åœ¨classpath:/templates/ï¼Œthymeleafå°±èƒ½è‡ªåŠ¨æ¸²æŸ“ï¼›</p><p>ä½¿ç”¨ï¼š</p><p>1ã€å¯¼å…¥thymeleafçš„åç§°ç©ºé—´</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p>2ã€ä½¿ç”¨thymeleafè¯­æ³•ï¼›</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>æˆåŠŸï¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--th:text å°†divé‡Œé¢çš„æ–‡æœ¬å†…å®¹è®¾ç½®ä¸º --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${hello}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è¿™æ˜¯æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h3 id="3ã€è¯­æ³•è§„åˆ™"><a href="#3ã€è¯­æ³•è§„åˆ™" class="headerlink" title="3ã€è¯­æ³•è§„åˆ™"></a>3ã€è¯­æ³•è§„åˆ™</h3><p>1ï¼‰ã€th:textï¼›æ”¹å˜å½“å‰å…ƒç´ é‡Œé¢çš„æ–‡æœ¬å†…å®¹ï¼›</p><p>â€‹    thï¼šä»»æ„htmlå±æ€§ï¼›æ¥æ›¿æ¢åŸç”Ÿå±æ€§çš„å€¼</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sbweb3.png" alt="sbweb3"></p><p>th:eachè¯­æ³•ï¼š<code>&lt;span th:each="user:${users}"&gt;[[user]]&lt;/span&gt;</code></p><p>2ï¼‰ã€è¡¨è¾¾å¼</p><pre class=" language-properties"><code class="language-properties"><span class="token attr-name">Simple</span> <span class="token attr-value">expressions:ï¼ˆè¡¨è¾¾å¼è¯­æ³•ï¼‰</span><span class="token attr-name">    Variable</span> <span class="token attr-value">Expressions: ${...}ï¼šè·å–å˜é‡å€¼ï¼›OGNLï¼›</span>            1ï¼‰ã€è·å–å¯¹è±¡çš„å±æ€§ã€è°ƒç”¨æ–¹æ³•            2ï¼‰ã€ä½¿ç”¨å†…ç½®çš„åŸºæœ¬å¯¹è±¡ï¼š<span class="token comment" spellcheck="true">                #ctx : the context object.ä¸Šä¸‹æ–‡</span><span class="token comment" spellcheck="true">                #vars: the context variables.</span><span class="token comment" spellcheck="true">                #locale : åŒºåŸŸå¯¹è±¡</span><span class="token comment" spellcheck="true">                #å†…ç½®å¯¹è±¡</span><span class="token comment" spellcheck="true">                #request : (only in Web Contexts)</span><span class="token comment" spellcheck="true">                #response : (only in Web Contexts) </span><span class="token comment" spellcheck="true">                #session : (only in Web Contexts) </span><span class="token comment" spellcheck="true">                #servletContext : (only in Web Contexts) </span>                                ${session.foo}            3ï¼‰ã€å†…ç½®çš„ä¸€äº›å·¥å…·å¯¹è±¡ï¼š<span class="token comment" spellcheck="true">#execInfo : information about the template being processed.</span><span class="token comment" spellcheck="true">#messages : methods for obtaining externalized messages inside variables expressions, in the same way as they would be obtained using #{â€¦} syntax.</span><span class="token comment" spellcheck="true">#uris : methods for escaping parts of URLs/URIs</span><span class="token comment" spellcheck="true">#conversions : methods for executing the configured conversion service (if any).</span><span class="token comment" spellcheck="true">#dates : methods for java.util.Date objects: formatting, component extraction, etc.</span><span class="token comment" spellcheck="true">#calendars : analogous to #dates , but for java.util.Calendar objects.</span><span class="token comment" spellcheck="true">#numbers : methods for formatting numeric objects.</span><span class="token comment" spellcheck="true">#strings : methods for String objects: contains, startsWith, prepending/appending, etc.</span><span class="token comment" spellcheck="true">#objects : methods for objects in general.</span><span class="token comment" spellcheck="true">#bools : methods for boolean evaluation.</span><span class="token comment" spellcheck="true">#arrays : methods for arrays.</span><span class="token comment" spellcheck="true">#lists : methods for lists.</span><span class="token comment" spellcheck="true">#sets : methods for sets.</span><span class="token comment" spellcheck="true">#maps : methods for maps.</span><span class="token comment" spellcheck="true">#aggregates : methods for creating aggregates on arrays or collections.</span><span class="token comment" spellcheck="true">#ids : methods for dealing with id attributes that might be repeated (for example, as a result of an iteration).</span><span class="token attr-name">    Selection</span> <span class="token attr-value">Variable Expressions: *{...}ï¼šé€‰æ‹©è¡¨è¾¾å¼ï¼šå’Œ${}åœ¨åŠŸèƒ½ä¸Šæ˜¯ä¸€æ ·ï¼›åªæ˜¯é…åˆ${}ä½¿ç”¨çš„</span>    <span class="token attr-name">        è¡¥å……ï¼šé…åˆ</span> <span class="token attr-value">th:object="${session.user}ï¼š</span><span class="token attr-name">               &lt;div</span> <span class="token attr-value">th:object="${session.user}"></span><span class="token attr-name">                    &lt;p>Name</span><span class="token punctuation">:</span> <span class="token attr-value">&lt;span th:text="*{firstName}">Sebastian&lt;/span>.&lt;/p></span><span class="token attr-name">                    &lt;p>Surname</span><span class="token punctuation">:</span> <span class="token attr-value">&lt;span th:text="*{lastName}">Pepper&lt;/span>.&lt;/p></span><span class="token attr-name">                    &lt;p>Nationality</span><span class="token punctuation">:</span> <span class="token attr-value">&lt;span th:text="*{nationality}">Saturn&lt;/span>.&lt;/p></span>                &lt;/div>    <span class="token attr-name">    Message</span> <span class="token attr-value">Expressions: #{...}ï¼šè·å–å›½é™…åŒ–å†…å®¹</span><span class="token attr-name">    Link</span> <span class="token attr-value">URL Expressions: @{...}ï¼šå®šä¹‰URLï¼› </span><span class="token attr-name">            @{/order/process(execId</span><span class="token punctuation">=</span><span class="token attr-value">${execId},execType='FAST')}</span><span class="token attr-name">    Fragment</span> <span class="token attr-value">Expressions: ~{...}ï¼šç‰‡æ®µå¼•ç”¨è¡¨è¾¾å¼</span><span class="token attr-name">            &lt;div</span> <span class="token attr-value">th:insert="~{commons :: main}">...&lt;/div></span>            Literalsï¼ˆå­—é¢é‡ï¼‰<span class="token attr-name">      Text</span> <span class="token attr-value">literals: 'one text' , 'Another one!' ,â€¦</span><span class="token attr-name">      Number</span> <span class="token attr-value">literals: 0 , 34 , 3.0 , 12.3 ,â€¦</span><span class="token attr-name">      Boolean</span> <span class="token attr-value">literals: true , false</span><span class="token attr-name">      Null</span> <span class="token attr-value">literal: null</span><span class="token attr-name">      Literal</span> <span class="token attr-value">tokens: one , sometext , main ,â€¦</span><span class="token attr-name">Text</span> <span class="token attr-value">operations:ï¼ˆæ–‡æœ¬æ“ä½œï¼‰</span><span class="token attr-name">    String</span> <span class="token attr-value">concatenation: +</span><span class="token attr-name">    Literal</span> <span class="token attr-value">substitutions: |The name is ${name}|</span><span class="token attr-name">Arithmetic</span> <span class="token attr-value">operations:ï¼ˆæ•°å­¦è¿ç®—ï¼‰</span><span class="token attr-name">    Binary</span> <span class="token attr-value">operators: + , - , * , / , %</span><span class="token attr-name">    Minus</span> <span class="token attr-value">sign (unary operator): -</span><span class="token attr-name">Boolean</span> <span class="token attr-value">operations:ï¼ˆå¸ƒå°”è¿ç®—ï¼‰</span><span class="token attr-name">    Binary</span> <span class="token attr-value">operators: and , or</span><span class="token attr-name">    Boolean</span> <span class="token attr-value">negation (unary operator): ! , not</span><span class="token attr-name">Comparisons</span> <span class="token attr-value">and equality:ï¼ˆæ¯”è¾ƒè¿ç®—ï¼‰</span><span class="token attr-name">    Comparators</span><span class="token punctuation">:</span> <span class="token attr-value">> , &lt; , >= , &lt;= ( gt , lt , ge , le )</span><span class="token attr-name">    Equality</span> <span class="token attr-value">operators: == , != ( eq , ne )</span><span class="token attr-name">Conditional</span> <span class="token attr-value">operators:æ¡ä»¶è¿ç®—ï¼ˆä¸‰å…ƒè¿ç®—ç¬¦ï¼‰</span><span class="token attr-name">    If-then</span><span class="token punctuation">:</span> <span class="token attr-value">(if) ? (then)</span><span class="token attr-name">    If-then-else</span><span class="token punctuation">:</span> <span class="token attr-value">(if) ? (then) : (else)</span><span class="token attr-name">    Default</span><span class="token punctuation">:</span> <span class="token attr-value">(value) ?: (defaultvalue)</span><span class="token attr-name">Special</span> <span class="token attr-value">tokens:</span><span class="token attr-name">    No-Operation</span><span class="token punctuation">:</span> <span class="token attr-value">_ </span></code></pre><h2 id="4ã€SpringMVCè‡ªåŠ¨é…ç½®"><a href="#4ã€SpringMVCè‡ªåŠ¨é…ç½®" class="headerlink" title="4ã€SpringMVCè‡ªåŠ¨é…ç½®"></a>4ã€SpringMVCè‡ªåŠ¨é…ç½®</h2><h3 id="1-Spring-MVC-auto-configuration"><a href="#1-Spring-MVC-auto-configuration" class="headerlink" title="1. Spring MVC auto-configuration"></a>1. Spring MVC auto-configuration</h3><p>Spring Boot è‡ªåŠ¨é…ç½®å¥½äº†SpringMVC</p><p>ä»¥ä¸‹æ˜¯SpringBootå¯¹SpringMVCçš„é»˜è®¤é…ç½®:<strong>==ï¼ˆWebMvcAutoConfigurationï¼‰==</strong></p><ul><li><p>Inclusion of <code>ContentNegotiatingViewResolver</code> and <code>BeanNameViewResolver</code> beans.</p><ul><li>è‡ªåŠ¨é…ç½®äº†ViewResolverï¼ˆè§†å›¾è§£æå™¨ï¼šæ ¹æ®æ–¹æ³•çš„è¿”å›å€¼å¾—åˆ°è§†å›¾å¯¹è±¡ï¼ˆViewï¼‰ï¼Œè§†å›¾å¯¹è±¡å†³å®šå¦‚ä½•æ¸²æŸ“ï¼ˆè½¬å‘ï¼Ÿé‡å®šå‘ï¼Ÿï¼‰ï¼‰</li><li>ContentNegotiatingViewResolverï¼šç»„åˆæ‰€æœ‰çš„è§†å›¾è§£æå™¨çš„ï¼›</li><li>==å¦‚ä½•å®šåˆ¶ï¼šæˆ‘ä»¬å¯ä»¥è‡ªå·±ç»™å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªè§†å›¾è§£æå™¨ï¼›è‡ªåŠ¨çš„å°†å…¶ç»„åˆè¿›æ¥ï¼›==</li></ul></li><li><p>Support for serving static resources, including support for WebJars (see below).é™æ€èµ„æºæ–‡ä»¶å¤¹è·¯å¾„,webjars</p></li><li><p>Static <code>index.html</code> support. é™æ€é¦–é¡µè®¿é—®</p></li><li><p>Custom <code>Favicon</code> support (see below).  favicon.ico</p></li></ul><ul><li><p>è‡ªåŠ¨æ³¨å†Œäº† of <code>Converter</code>, <code>GenericConverter</code>, <code>Formatter</code> beans.</p><ul><li>Converterï¼šè½¬æ¢å™¨ï¼›  public String hello(User user)ï¼šç±»å‹è½¬æ¢ä½¿ç”¨Converter</li><li><code>Formatter</code>  æ ¼å¼åŒ–å™¨ï¼›  2017.12.17===Dateï¼›</li></ul><p>â€‹    ==è‡ªå·±æ·»åŠ çš„æ ¼å¼åŒ–å™¨è½¬æ¢å™¨ï¼Œæˆ‘ä»¬åªéœ€è¦æ”¾åœ¨å®¹å™¨ä¸­å³å¯==</p></li><li><p>Support for <code>HttpMessageConverters</code> (see below).</p><ul><li><p>HttpMessageConverterï¼šSpringMVCç”¨æ¥è½¬æ¢Httpè¯·æ±‚å’Œå“åº”çš„ï¼›Userâ€”Jsonï¼›</p></li><li><p><code>HttpMessageConverters</code> æ˜¯ä»å®¹å™¨ä¸­ç¡®å®šï¼›è·å–æ‰€æœ‰çš„HttpMessageConverterï¼›</p><p>==è‡ªå·±ç»™å®¹å™¨ä¸­æ·»åŠ HttpMessageConverterï¼Œåªéœ€è¦å°†è‡ªå·±çš„ç»„ä»¶æ³¨å†Œå®¹å™¨ä¸­ï¼ˆ@Bean,@Componentï¼‰==</p></li></ul></li><li><p>Automatic registration of <code>MessageCodesResolver</code> (see below).å®šä¹‰é”™è¯¯ä»£ç ç”Ÿæˆè§„åˆ™</p></li><li><p>Automatic use of a <code>ConfigurableWebBindingInitializer</code> bean (see below).</p><p>==æˆ‘ä»¬å¯ä»¥é…ç½®ä¸€ä¸ªConfigurableWebBindingInitializeræ¥æ›¿æ¢é»˜è®¤çš„ï¼›ï¼ˆæ·»åŠ åˆ°å®¹å™¨ï¼‰==</p></li></ul><h3 id="2ã€æ‰©å±•SpringMVC"><a href="#2ã€æ‰©å±•SpringMVC" class="headerlink" title="2ã€æ‰©å±•SpringMVC"></a>2ã€æ‰©å±•SpringMVC</h3><p><strong>==ç¼–å†™ä¸€ä¸ªé…ç½®ç±»ï¼ˆ@Configurationï¼‰ï¼Œå®ç°WebMvcConfigureræ¥å£<del>ç»§æ‰¿WebMvcConfigurerAdapter</del>ï¼›ä¸èƒ½æ ‡æ³¨@EnableWebMvcï¼Œé‡å†™é‡Œé¢çš„addæ–¹æ³•æ¥è‡ªå®šä¹‰ç»„ä»¶==</strong></p><p>æ—¢ä¿ç•™äº†æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ï¼Œä¹Ÿèƒ½ç”¨æˆ‘ä»¬æ‰©å±•çš„é…ç½®ï¼›</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ä½¿ç”¨WebMvcConfigurerAdapterå¯ä»¥æ¥æ‰©å±•SpringMVCçš„åŠŸèƒ½</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyMvcConfig</span> <span class="token keyword">implements</span>  <span class="token class-name">WebMvcConfigurer</span><span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addViewControllers</span><span class="token punctuation">(</span>ViewControllerRegistry registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">// super.addViewControllers(registry);</span>        <span class="token comment" spellcheck="true">//æµè§ˆå™¨å‘é€ /atguigu è¯·æ±‚æ¥åˆ° success</span>        registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">"/atguigu"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>åŸç†ï¼š</p><p>â€‹    1ï¼‰ã€WebMvcAutoConfigurationæ˜¯SpringMVCçš„è‡ªåŠ¨é…ç½®ç±»</p><p>â€‹    2ï¼‰ã€åœ¨åšå…¶ä»–è‡ªåŠ¨é…ç½®æ—¶ä¼šå¯¼å…¥ï¼›@Import(<strong>EnableWebMvcConfiguration</strong>.class)</p><pre class=" language-java"><code class="language-java">    <span class="token annotation punctuation">@Configuration</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">EnableWebMvcConfiguration</span> <span class="token keyword">extends</span> <span class="token class-name">DelegatingWebMvcConfiguration</span> <span class="token punctuation">{</span>      <span class="token keyword">private</span> <span class="token keyword">final</span> WebMvcConfigurerComposite configurers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebMvcConfigurerComposite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//ä»å®¹å™¨ä¸­è·å–æ‰€æœ‰çš„WebMvcConfigurer</span>      <span class="token annotation punctuation">@Autowired</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setConfigurers</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>WebMvcConfigurer<span class="token operator">></span> configurers<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>CollectionUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>configurers<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token keyword">this</span><span class="token punctuation">.</span>configurers<span class="token punctuation">.</span><span class="token function">addWebMvcConfigurers</span><span class="token punctuation">(</span>configurers<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//ä¸€ä¸ªå‚è€ƒå®ç°ï¼›å°†æ‰€æœ‰çš„WebMvcConfigurerç›¸å…³é…ç½®éƒ½æ¥ä¸€èµ·è°ƒç”¨ï¼›  </span>                <span class="token annotation punctuation">@Override</span>             <span class="token comment" spellcheck="true">// public void addViewControllers(ViewControllerRegistry registry) {</span>              <span class="token comment" spellcheck="true">//    for (WebMvcConfigurer delegate : this.delegates) {</span>               <span class="token comment" spellcheck="true">//       delegate.addViewControllers(registry);</span>               <span class="token comment" spellcheck="true">//   }</span>              <span class="token punctuation">}</span>          <span class="token punctuation">}</span>    <span class="token punctuation">}</span></code></pre><p>â€‹    3ï¼‰ã€å®¹å™¨ä¸­æ‰€æœ‰çš„WebMvcConfigureréƒ½ä¼šä¸€èµ·èµ·ä½œç”¨ï¼›</p><p>â€‹    4ï¼‰ã€æˆ‘ä»¬çš„é…ç½®ç±»ä¹Ÿä¼šè¢«è°ƒç”¨ï¼›</p><p>â€‹    æ•ˆæœï¼šSpringMVCçš„è‡ªåŠ¨é…ç½®å’Œæˆ‘ä»¬çš„æ‰©å±•é…ç½®éƒ½ä¼šèµ·ä½œç”¨ï¼›</p><h3 id="3ã€å…¨é¢æ¥ç®¡SpringMVCï¼›"><a href="#3ã€å…¨é¢æ¥ç®¡SpringMVCï¼›" class="headerlink" title="3ã€å…¨é¢æ¥ç®¡SpringMVCï¼›"></a>3ã€å…¨é¢æ¥ç®¡SpringMVCï¼›</h3><p>SpringBootå¯¹SpringMVCçš„è‡ªåŠ¨é…ç½®ä¸éœ€è¦äº†ï¼Œæ‰€æœ‰éƒ½æ˜¯æˆ‘ä»¬è‡ªå·±é…ç½®ï¼›æ‰€æœ‰çš„SpringMVCçš„è‡ªåŠ¨é…ç½®éƒ½å¤±æ•ˆäº†</p><p><strong>æˆ‘ä»¬éœ€è¦åœ¨é…ç½®ç±»ä¸­æ·»åŠ @EnableWebMvcå³å¯ï¼›</strong></p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ä½¿ç”¨WebMvcConfigurerAdapterå¯ä»¥æ¥æ‰©å±•SpringMVCçš„åŠŸèƒ½</span><span class="token annotation punctuation">@EnableWebMvc</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyMvcConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebMvcConfigurerAdapter</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addViewControllers</span><span class="token punctuation">(</span>ViewControllerRegistry registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">// super.addViewControllers(registry);</span>        <span class="token comment" spellcheck="true">//æµè§ˆå™¨å‘é€ /atguigu è¯·æ±‚æ¥åˆ° success</span>        registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">"/atguigu"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>åŸç†ï¼š</p><p>ä¸ºä»€ä¹ˆ@EnableWebMvcè‡ªåŠ¨é…ç½®å°±å¤±æ•ˆäº†ï¼›</p><p>1ï¼‰ã€@EnableWebMvcçš„æ ¸å¿ƒ</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span>DelegatingWebMvcConfiguration<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> @<span class="token keyword">interface</span> <span class="token class-name">EnableWebMvc</span> <span class="token punctuation">{</span></code></pre><p>2ï¼‰ã€</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DelegatingWebMvcConfiguration</span> <span class="token keyword">extends</span> <span class="token class-name">WebMvcConfigurationSupport</span> <span class="token punctuation">{</span></code></pre><p>3ï¼‰ã€</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ConditionalOnWebApplication</span><span class="token annotation punctuation">@ConditionalOnClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span> Servlet<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> DispatcherServlet<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>        WebMvcConfigurerAdapter<span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//å®¹å™¨ä¸­æ²¡æœ‰è¿™ä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»æ‰ç”Ÿæ•ˆ</span><span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span>WebMvcConfigurationSupport<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token annotation punctuation">@AutoConfigureOrder</span><span class="token punctuation">(</span>Ordered<span class="token punctuation">.</span>HIGHEST_PRECEDENCE <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token annotation punctuation">@AutoConfigureAfter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> DispatcherServletAutoConfiguration<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>        ValidationAutoConfiguration<span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebMvcAutoConfiguration</span> <span class="token punctuation">{</span></code></pre><p>4ï¼‰ã€@EnableWebMvcå°†WebMvcConfigurationSupportç»„ä»¶å¯¼å…¥è¿›æ¥ï¼›</p><p>5ï¼‰ã€å¯¼å…¥çš„WebMvcConfigurationSupportåªæ˜¯SpringMVCæœ€åŸºæœ¬çš„åŠŸèƒ½ï¼›</p><h2 id="5ã€å¦‚ä½•ä¿®æ”¹SpringBootçš„é»˜è®¤é…ç½®"><a href="#5ã€å¦‚ä½•ä¿®æ”¹SpringBootçš„é»˜è®¤é…ç½®" class="headerlink" title="5ã€å¦‚ä½•ä¿®æ”¹SpringBootçš„é»˜è®¤é…ç½®"></a>5ã€å¦‚ä½•ä¿®æ”¹SpringBootçš„é»˜è®¤é…ç½®</h2><p>æ¨¡å¼ï¼š</p><p>â€‹    1ï¼‰ã€SpringBootåœ¨è‡ªåŠ¨é…ç½®å¾ˆå¤šç»„ä»¶çš„æ—¶å€™ï¼Œå…ˆçœ‹å®¹å™¨ä¸­æœ‰æ²¡æœ‰ç”¨æˆ·è‡ªå·±é…ç½®çš„ï¼ˆ@Beanã€@Componentï¼‰å¦‚æœæœ‰å°±ç”¨ç”¨æˆ·é…ç½®çš„ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ‰è‡ªåŠ¨é…ç½®ï¼›å¦‚æœæœ‰äº›ç»„ä»¶å¯ä»¥æœ‰å¤šä¸ªï¼ˆViewResolverï¼‰å°†ç”¨æˆ·é…ç½®çš„å’Œè‡ªå·±é»˜è®¤çš„ç»„åˆèµ·æ¥ï¼›</p><p>â€‹    2ï¼‰ã€åœ¨SpringBootä¸­ä¼šæœ‰éå¸¸å¤šçš„xxxConfigurerå¸®åŠ©æˆ‘ä»¬è¿›è¡Œæ‰©å±•é…ç½®</p><p>â€‹    3ï¼‰ã€åœ¨SpringBootä¸­ä¼šæœ‰å¾ˆå¤šçš„xxxCustomizerå¸®åŠ©æˆ‘ä»¬è¿›è¡Œå®šåˆ¶é…ç½®</p><h2 id="6ã€RestfulCRUD"><a href="#6ã€RestfulCRUD" class="headerlink" title="6ã€RestfulCRUD"></a>6ã€RestfulCRUD</h2><h3 id="1ï¼‰ã€é»˜è®¤è®¿é—®é¦–é¡µ"><a href="#1ï¼‰ã€é»˜è®¤è®¿é—®é¦–é¡µ" class="headerlink" title="1ï¼‰ã€é»˜è®¤è®¿é—®é¦–é¡µ"></a>1ï¼‰ã€é»˜è®¤è®¿é—®é¦–é¡µ</h3><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ä½¿ç”¨WebMvcConfigurerAdapterå¯ä»¥æ¥æ‰©å±•SpringMVCçš„åŠŸèƒ½</span><span class="token comment" spellcheck="true">//@EnableWebMvc   ä¸è¦æ¥ç®¡SpringMVC</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyMvcConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebMvcConfigurerAdapter</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addViewControllers</span><span class="token punctuation">(</span>ViewControllerRegistry registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">// super.addViewControllers(registry);</span>        <span class="token comment" spellcheck="true">//æµè§ˆå™¨å‘é€ /atguigu è¯·æ±‚æ¥åˆ° success</span>        registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">"/atguigu"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//æ‰€æœ‰çš„WebMvcConfigurerAdapterç»„ä»¶éƒ½ä¼šä¸€èµ·èµ·ä½œç”¨</span>    <span class="token annotation punctuation">@Bean</span> <span class="token comment" spellcheck="true">//å°†ç»„ä»¶æ³¨å†Œåœ¨å®¹å™¨</span>    <span class="token keyword">public</span> WebMvcConfigurerAdapter <span class="token function">webMvcConfigurerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        WebMvcConfigurerAdapter adapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebMvcConfigurerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addViewControllers</span><span class="token punctuation">(</span>ViewControllerRegistry registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>                registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"login"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">"/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"login"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> adapter<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="2ï¼‰ã€å›½é™…åŒ–"><a href="#2ï¼‰ã€å›½é™…åŒ–" class="headerlink" title="2ï¼‰ã€å›½é™…åŒ–"></a>2ï¼‰ã€å›½é™…åŒ–</h3><p><strong>1ï¼‰ã€ç¼–å†™å›½é™…åŒ–é…ç½®æ–‡ä»¶ï¼›</strong></p><p>2ï¼‰ã€ä½¿ç”¨ResourceBundleMessageSourceç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶</p><p>3ï¼‰ã€åœ¨é¡µé¢ä½¿ç”¨fmt:messageå–å‡ºå›½é™…åŒ–å†…å®¹</p><p>æ­¥éª¤ï¼š</p><p>1ï¼‰ã€ç¼–å†™å›½é™…åŒ–é…ç½®æ–‡ä»¶ï¼ŒæŠ½å–é¡µé¢éœ€è¦æ˜¾ç¤ºçš„å›½é™…åŒ–æ¶ˆæ¯</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sbweb11.png" alt="image-20200627180810368"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sbweb12.png" alt="image-20200627180856525"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sbweb13.png" alt="image-20200627181119740"></p><p>2ï¼‰ã€SpringBootè‡ªåŠ¨é…ç½®å¥½äº†ç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶çš„ç»„ä»¶ï¼›</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"spring.messages"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageSourceAutoConfiguration</span> <span class="token punctuation">{</span>        <span class="token keyword">private</span> String basename <span class="token operator">=</span> <span class="token string">"messages"</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶å¯ä»¥ç›´æ¥æ”¾åœ¨ç±»è·¯å¾„ä¸‹å«messages.propertiesï¼›</span>        <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> MessageSource <span class="token function">messageSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        ResourceBundleMessageSource messageSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResourceBundleMessageSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils<span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>basename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//è®¾ç½®å›½é™…åŒ–èµ„æºæ–‡ä»¶çš„åŸºç¡€åï¼ˆå»æ‰è¯­è¨€å›½å®¶ä»£ç çš„ï¼‰</span>            messageSource<span class="token punctuation">.</span><span class="token function">setBasenames</span><span class="token punctuation">(</span>StringUtils<span class="token punctuation">.</span><span class="token function">commaDelimitedListToStringArray</span><span class="token punctuation">(</span>                    StringUtils<span class="token punctuation">.</span><span class="token function">trimAllWhitespace</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>basename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>encoding <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>            messageSource<span class="token punctuation">.</span><span class="token function">setDefaultEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>encoding<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        messageSource<span class="token punctuation">.</span><span class="token function">setFallbackToSystemLocale</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>fallbackToSystemLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>        messageSource<span class="token punctuation">.</span><span class="token function">setCacheSeconds</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cacheSeconds<span class="token punctuation">)</span><span class="token punctuation">;</span>        messageSource<span class="token punctuation">.</span><span class="token function">setAlwaysUseMessageFormat</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>alwaysUseMessageFormat<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> messageSource<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>åªéœ€è¦åœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­è®¾ç½®é…ç½®æ–‡ä»¶çš„è·¯å¾„</p><pre><code>spring.messages.basename==i18n.login</code></pre><p>3ï¼‰ã€å»é¡µé¢è·å–å›½é™…åŒ–çš„å€¼</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span>  <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1, shrink-to-fit<span class="token punctuation">=</span>no<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>author<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Signin Template for Bootstrap<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- Bootstrap core CSS --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>asserts/css/bootstrap.min.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/bootstrap/4.0.0/css/bootstrap.css}<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- Custom styles for this template --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>asserts/css/signin.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/asserts/css/signin.css}<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-signin<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dashboard.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mb-4<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/asserts/img/bootstrap-solid.svg}<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>asserts/img/bootstrap-solid.svg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>72<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>72<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>h3 mb-3 font-weight-normal<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{login.tip}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Please sign in<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sr-only<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{login.username}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Username<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{login.username}<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">autofocus</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sr-only<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{login.password}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Password<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Password<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{login.password}<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox mb-3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>remember-me<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> [[#{login.remember}]]        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-lg btn-primary btn-block<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{login.btn}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sign in<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mt-5 mb-3 text-muted<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Â© 2017-2018<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-sm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸­æ–‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-sm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>English<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>æ•ˆæœï¼šæ ¹æ®æµè§ˆå™¨è¯­è¨€è®¾ç½®çš„ä¿¡æ¯åˆ‡æ¢äº†å›½é™…åŒ–ï¼›</p><blockquote><p>é‡åˆ°çš„å‘:</p><p>é”™è¯¯ï¼šå‡ºç°??login.tip_zh_CN??ä¹±ç </p><p>åŸå› ï¼šåœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­è®¾ç½®æˆäº†spring.messages.basename=i18n</p><p>æ”¹ä¸ºï¼šspring.messages.basename=i18n.login</p></blockquote><p>åŸç†ï¼š</p><p>â€‹    å›½é™…åŒ–Localeï¼ˆåŒºåŸŸä¿¡æ¯å¯¹è±¡ï¼‰ï¼›LocaleResolverï¼ˆè·å–åŒºåŸŸä¿¡æ¯å¯¹è±¡ï¼‰ï¼›</p><pre class=" language-java"><code class="language-java">        <span class="token annotation punctuation">@Bean</span>        <span class="token annotation punctuation">@ConditionalOnMissingBean</span>        <span class="token annotation punctuation">@ConditionalOnProperty</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"spring.mvc"</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token string">"locale"</span><span class="token punctuation">)</span>        <span class="token keyword">public</span> LocaleResolver <span class="token function">localeResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mvcProperties                    <span class="token punctuation">.</span><span class="token function">getLocaleResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> WebMvcProperties<span class="token punctuation">.</span>LocaleResolver<span class="token punctuation">.</span>FIXED<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">FixedLocaleResolver</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mvcProperties<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            AcceptHeaderLocaleResolver localeResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AcceptHeaderLocaleResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            localeResolver<span class="token punctuation">.</span><span class="token function">setDefaultLocale</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mvcProperties<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> localeResolver<span class="token punctuation">;</span>        <span class="token punctuation">}</span>é»˜è®¤çš„å°±æ˜¯æ ¹æ®è¯·æ±‚å¤´å¸¦æ¥çš„åŒºåŸŸä¿¡æ¯è·å–Localeè¿›è¡Œå›½é™…åŒ–</code></pre><p>4ï¼‰ã€ç‚¹å‡»é“¾æ¥åˆ‡æ¢å›½é™…åŒ–</p><p>åœ¨è¿æ¥ä¸Šæºå¸¦åŒºåŸŸä¿¡æ¯</p><pre class=" language-html"><code class="language-html">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-sm<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/index.html(l<span class="token punctuation">=</span><span class="token punctuation">'</span>zh_CN<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸­æ–‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-sm<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/index.html(l<span class="token punctuation">=</span><span class="token punctuation">'</span>en_US<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>English<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre><p>è‡ªå·±å†™åŒºåŸŸä¿¡æ¯å¯¹è±¡</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** * å¯ä»¥åœ¨è¿æ¥ä¸Šæºå¸¦åŒºåŸŸä¿¡æ¯ */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyLocaleResolver</span> <span class="token keyword">implements</span> <span class="token class-name">LocaleResolver</span> <span class="token punctuation">{</span>        <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> Locale <span class="token function">resolveLocale</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">)</span> <span class="token punctuation">{</span>        String l <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"l"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Locale locale <span class="token operator">=</span> Locale<span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>StringUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            String<span class="token punctuation">[</span><span class="token punctuation">]</span> split <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"_"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            locale <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>split<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>split<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> locale<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLocale</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Locale locale<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>åœ¨æ‰©å±•mvcé…ç½®ç±»ä¸­å°†è‡ªå·±å†™çš„åŒºåŸŸä¿¡æ¯å¯¹è±¡äº¤ç»™springå®¹å™¨</p><pre class=" language-java"><code class="language-java"> <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> LocaleResolver <span class="token function">localeResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyLocaleResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><blockquote><p>é‡åˆ°çš„å‘ï¼š</p><p>é”™è¯¯ï¼šç‚¹å‡»äº†å´æ²¡æœ‰æ•ˆæœ</p><p>åŸå› 1ï¼šåœ¨mvcçš„é…ç½®ç±»MyMvcConfigä¸­æ²¡æœ‰åŠ @Configurationæ³¨è§£</p><p>æ”¹ä¸ºï¼šåœ¨é…ç½®ç±»ä¸Šæ ‡è®°æ³¨è§£@Configurationï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»</p><p>åŸå› 2ï¼šå°†åŒºåŸŸä¿¡æ¯å¯¹è±¡äº¤ç»™Springå®¹å™¨æ—¶ï¼Œæ–¹æ³•åå¿…é¡»æ˜¯localeResolverï¼ŒåŒºåˆ†å¤§å°å†™</p></blockquote><h3 id="3ï¼‰ã€ç™»é™†"><a href="#3ï¼‰ã€ç™»é™†" class="headerlink" title="3ï¼‰ã€ç™»é™†"></a>3ï¼‰ã€ç™»é™†</h3><p>ç™»å½•ç•Œé¢ä¼ å‚ï¼Œå‘é€è¯·æ±‚</p><p>ç¼–å†™controllerè·å–è¯·æ±‚ï¼Œè¿›è¡Œåˆ¤æ–­åé‡å®šå‘åˆ°åå°é¡µé¢</p><p>ç¼–å†™é”™è¯¯æç¤ºä¿¡æ¯</p><p>å¼€å‘æœŸé—´æ¨¡æ¿å¼•æ“é¡µé¢ä¿®æ”¹ä»¥åï¼Œè¦å®æ—¶ç”Ÿæ•ˆ</p><p>1ï¼‰ã€ç¦ç”¨æ¨¡æ¿å¼•æ“çš„ç¼“å­˜</p><pre><code># ç¦ç”¨ç¼“å­˜spring.thymeleaf.cache=false </code></pre><p>2ï¼‰ã€é¡µé¢ä¿®æ”¹å®Œæˆä»¥åctrl+f9ï¼šé‡æ–°ç¼–è¯‘ï¼›</p><p>ç™»é™†é”™è¯¯æ¶ˆæ¯çš„æ˜¾ç¤º</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span> red</span><span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${msg}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${not #strings.isEmpty(msg)}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span></code></pre><h3 id="4ï¼‰ã€æ‹¦æˆªå™¨è¿›è¡Œç™»é™†æ£€æŸ¥"><a href="#4ï¼‰ã€æ‹¦æˆªå™¨è¿›è¡Œç™»é™†æ£€æŸ¥" class="headerlink" title="4ï¼‰ã€æ‹¦æˆªå™¨è¿›è¡Œç™»é™†æ£€æŸ¥"></a>4ï¼‰ã€æ‹¦æˆªå™¨è¿›è¡Œç™»é™†æ£€æŸ¥</h3><p>æ‹¦æˆªå™¨</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** * ç™»é™†æ£€æŸ¥ï¼Œ */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginHandlerInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Object handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>        Object user <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"loginUser"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>user <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//æœªç™»é™†ï¼Œè¿”å›ç™»é™†é¡µé¢</span>            request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span><span class="token string">"æ²¡æœ‰æƒé™è¯·å…ˆç™»é™†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//å·²ç™»é™†ï¼Œæ”¾è¡Œè¯·æ±‚</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Object handler<span class="token punctuation">,</span> ModelAndView modelAndView<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Object handler<span class="token punctuation">,</span> Exception ex<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>æ³¨å†Œæ‹¦æˆªå™¨</p><pre class=" language-java"><code class="language-java">  <span class="token comment" spellcheck="true">//æ‰€æœ‰çš„WebMvcConfigurerAdapterç»„ä»¶éƒ½ä¼šä¸€èµ·èµ·ä½œç”¨</span>    <span class="token annotation punctuation">@Bean</span> <span class="token comment" spellcheck="true">//å°†ç»„ä»¶æ³¨å†Œåœ¨å®¹å™¨</span>    <span class="token keyword">public</span> WebMvcConfigurerAdapter <span class="token function">webMvcConfigurerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        WebMvcConfigurerAdapter adapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebMvcConfigurerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addViewControllers</span><span class="token punctuation">(</span>ViewControllerRegistry registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>                registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"login"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">"/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"login"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">"/main.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"dashboard"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">//æ³¨å†Œæ‹¦æˆªå™¨</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span>InterceptorRegistry registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">//super.addInterceptors(registry);</span>                <span class="token comment" spellcheck="true">//é™æ€èµ„æºï¼›  *.css , *.js</span>                <span class="token comment" spellcheck="true">//SpringBootå·²ç»åšå¥½äº†é™æ€èµ„æºæ˜ å°„</span>                registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LoginHandlerInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPathPatterns</span><span class="token punctuation">(</span><span class="token string">"/**"</span><span class="token punctuation">)</span>                        <span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span><span class="token string">"/index.html"</span><span class="token punctuation">,</span><span class="token string">"/"</span><span class="token punctuation">,</span><span class="token string">"/user/login"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> adapter<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>ä¿®æ”¹åå°é¡µé¢çš„å€¼ï¼Œ[[${session.loginUser}]]</p><blockquote><p>é‡åˆ°çš„å‘ï¼š</p><p>é”™è¯¯ï¼š500</p><p>åŸå› ï¼šä¿®æ”¹åå°å€¼çš„æ—¶å€™ï¼Œå¤šå†™äº†ä¸ªå¤§æ‹¬å·</p></blockquote><h3 id="5ï¼‰ã€CRUD-å‘˜å·¥åˆ—è¡¨"><a href="#5ï¼‰ã€CRUD-å‘˜å·¥åˆ—è¡¨" class="headerlink" title="5ï¼‰ã€CRUD-å‘˜å·¥åˆ—è¡¨"></a>5ï¼‰ã€CRUD-å‘˜å·¥åˆ—è¡¨</h3><p>ç‚¹å‡»å‘˜å·¥åˆ—è¡¨ï¼Œè¿›å…¥å‘˜å·¥é¡µé¢ï¼Œè®¾ç½®hrefå±æ€§</p><p>ç¼–å†™controllerï¼Œè¿æ¥daoï¼ŒæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</p><p>å®éªŒè¦æ±‚ï¼š</p><p>1ï¼‰ã€RestfulCRUDï¼šCRUDæ»¡è¶³Resté£æ ¼ï¼›</p><p>URIï¼š  /èµ„æºåç§°/èµ„æºæ ‡è¯†       HTTPè¯·æ±‚æ–¹å¼åŒºåˆ†å¯¹èµ„æºCRUDæ“ä½œ</p><table><thead><tr><th></th><th>æ™®é€šCRUDï¼ˆuriæ¥åŒºåˆ†æ“ä½œï¼‰</th><th>RestfulCRUD</th></tr></thead><tbody><tr><td>æŸ¥è¯¢</td><td>getEmp</td><td>empâ€”GET</td></tr><tr><td>æ·»åŠ </td><td>addEmp?xxx</td><td>empâ€”POST</td></tr><tr><td>ä¿®æ”¹</td><td>updateEmp?id=xxx&amp;xxx=xx</td><td>emp/{id}â€”PUT</td></tr><tr><td>åˆ é™¤</td><td>deleteEmp?id=1</td><td>emp/{id}â€”DELETE</td></tr></tbody></table><p>2ï¼‰ã€å®éªŒçš„è¯·æ±‚æ¶æ„;</p><table><thead><tr><th>å®éªŒåŠŸèƒ½</th><th>è¯·æ±‚URI</th><th>è¯·æ±‚æ–¹å¼</th></tr></thead><tbody><tr><td>æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥</td><td>emps</td><td>GET</td></tr><tr><td>æŸ¥è¯¢æŸä¸ªå‘˜å·¥(æ¥åˆ°ä¿®æ”¹é¡µé¢)</td><td>emp/1</td><td>GET</td></tr><tr><td>æ¥åˆ°æ·»åŠ é¡µé¢</td><td>emp</td><td>GET</td></tr><tr><td>æ·»åŠ å‘˜å·¥</td><td>emp</td><td>POST</td></tr><tr><td>æ¥åˆ°ä¿®æ”¹é¡µé¢ï¼ˆæŸ¥å‡ºå‘˜å·¥è¿›è¡Œä¿¡æ¯å›æ˜¾ï¼‰</td><td>emp/1</td><td>GET</td></tr><tr><td>ä¿®æ”¹å‘˜å·¥</td><td>emp</td><td>PUT</td></tr><tr><td>åˆ é™¤å‘˜å·¥</td><td>emp/1</td><td>DELETE</td></tr></tbody></table><blockquote><p>é‡åˆ°çš„å‘ï¼š</p><p>é”™è¯¯ï¼šè¿›å…¥listå‘˜å·¥é¡µé¢ä¸¢å¤±äº†æ ·å¼</p><p>åŸå› ï¼šlisté¡µé¢çš„cssæ²¡æœ‰æ¢æˆthemelf</p><p>æ”¹ä¸ºï¼š<code>th:href="@{/webjars/bootstrap/4.0.0/css/bootstrap.css}"</code></p></blockquote><p>3ï¼‰ã€å‘˜å·¥åˆ—è¡¨ï¼š</p><h4 id="thymeleafå…¬å…±é¡µé¢å…ƒç´ æŠ½å–"><a href="#thymeleafå…¬å…±é¡µé¢å…ƒç´ æŠ½å–" class="headerlink" title="thymeleafå…¬å…±é¡µé¢å…ƒç´ æŠ½å–"></a>thymeleafå…¬å…±é¡µé¢å…ƒç´ æŠ½å–</h4><pre class=" language-html"><code class="language-html">1ã€æŠ½å–å…¬å…±ç‰‡æ®µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>copy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&copy;">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>2ã€å¼•å…¥å…¬å…±ç‰‡æ®µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>~{footer :: copy}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>~{templatename::selector}ï¼šæ¨¡æ¿å::é€‰æ‹©å™¨~{templatename::fragmentname}:æ¨¡æ¿å::ç‰‡æ®µå3ã€é»˜è®¤æ•ˆæœï¼šinsertçš„å…¬å…±ç‰‡æ®µåœ¨divæ ‡ç­¾ä¸­å¦‚æœä½¿ç”¨th:insertç­‰å±æ€§è¿›è¡Œå¼•å…¥ï¼Œå¯ä»¥ä¸ç”¨å†™~{}ï¼šè¡Œå†…å†™æ³•å¯ä»¥åŠ ä¸Šï¼š[[~{}]];[(~{})]ï¼›</code></pre><p>ä¸‰ç§å¼•å…¥å…¬å…±ç‰‡æ®µçš„thå±æ€§ï¼š</p><p><strong>th:insert</strong>ï¼šå°†å…¬å…±ç‰‡æ®µæ•´ä¸ªæ’å…¥åˆ°å£°æ˜å¼•å…¥çš„å…ƒç´ ä¸­</p><p><strong>th:replace</strong>ï¼šå°†å£°æ˜å¼•å…¥çš„å…ƒç´ æ›¿æ¢ä¸ºå…¬å…±ç‰‡æ®µ</p><p><strong>th:include</strong>ï¼šå°†è¢«å¼•å…¥çš„ç‰‡æ®µçš„å†…å®¹åŒ…å«è¿›è¿™ä¸ªæ ‡ç­¾ä¸­</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>copy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&copy;">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span>å¼•å…¥æ–¹å¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer :: copy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer :: copy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer :: copy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>æ•ˆæœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span>    <span class="token entity" title="&copy;">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span><span class="token entity" title="&copy;">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token entity" title="&copy;">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>é«˜äº®ï¼šå¼•å…¥ç‰‡æ®µçš„æ—¶å€™ä¼ å…¥å‚æ•°</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-2 d-none d-md-block bg-light sidebar<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sidebar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sidebar-sticky<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nav flex-column<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nav-link active<span class="token punctuation">"</span></span>                   <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${activeUri<span class="token punctuation">=</span><span class="token punctuation">=</span><span class="token punctuation">'</span>main.html<span class="token punctuation">'</span>?<span class="token punctuation">'</span>nav-link active<span class="token punctuation">'</span>:<span class="token punctuation">'</span>nav-link<span class="token punctuation">'</span>}<span class="token punctuation">"</span></span>                   <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/main.html}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>feather feather-home<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>9 22 9 12 15 12 15 22<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span>                    Dashboard <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sr-only<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>(current)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--å¼•å…¥ä¾§è¾¹æ ;ä¼ å…¥å‚æ•°--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>commons/bar::#sidebar(activeUri<span class="token punctuation">=</span><span class="token punctuation">'</span>emps<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><blockquote><p>é‡åˆ°çš„å‘:</p><p>é”™è¯¯ï¼šç‚¹å‡»æ²¡æœ‰å‡ºç°é«˜äº®æ•ˆæœ</p><p>åŸå› ï¼šä¼ å€¼æ”¾åœ¨äº†topBarä¸Š</p><p>æ”¹ä¸ºï¼šå°†ä¼ å€¼æ”¾åœ¨sideBarä¸Š</p></blockquote><p>å‘˜å·¥ä¿¡æ¯åˆ—è¡¨æ˜¾ç¤º</p><p>```html</p>    <!--empsæ˜¯controllerä¸­DaoæŸ¥è¯¢åˆ°çš„å€¼-->                    [[${emp.lastName}]]                                <!--æ—¥æœŸæ ¼å¼å¯ä»¥ä½¿ç”¨å·¥å…·ç±»è¿›è¡Œä¿®æ”¹-->        ]]></content>
      
      
      <categories>
          
          <category> Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Bootæ—¥å¿—</title>
      <link href="/2020/06/26/springboot/spring-boot-ri-zhi/"/>
      <url>/2020/06/26/springboot/spring-boot-ri-zhi/</url>
      
        <content type="html"><![CDATA[<h1 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a>æ—¥å¿—</h1><h2 id="1ã€æ—¥å¿—æ¡†æ¶"><a href="#1ã€æ—¥å¿—æ¡†æ¶" class="headerlink" title="1ã€æ—¥å¿—æ¡†æ¶"></a>1ã€æ—¥å¿—æ¡†æ¶</h2><p><strong>å¸‚é¢ä¸Šçš„æ—¥å¿—æ¡†æ¶ï¼›</strong></p><p>JULã€JCLã€Jboss-loggingã€logbackã€log4jã€log4j2ã€slf4jâ€¦.</p><table><thead><tr><th>æ—¥å¿—é—¨é¢  ï¼ˆæ—¥å¿—çš„æŠ½è±¡å±‚ï¼‰</th><th>æ—¥å¿—å®ç°</th></tr></thead><tbody><tr><td><del>JCLï¼ˆJakarta  Commons Loggingï¼‰</del>    SLF4jï¼ˆSimple  Logging Facade for Javaï¼‰    <strong><del>jboss-logging</del></strong></td><td>Log4j  JULï¼ˆjava.util.loggingï¼‰  Log4j2  <strong>Logback</strong></td></tr></tbody></table><p>å·¦è¾¹é€‰ä¸€ä¸ªé—¨é¢ï¼ˆæŠ½è±¡å±‚ï¼‰ã€å³è¾¹æ¥é€‰ä¸€ä¸ªå®ç°ï¼›</p><p>æ—¥å¿—é—¨é¢ï¼š  SLF4Jï¼›</p><p>æ—¥å¿—å®ç°ï¼šLogbackï¼›</p><p>SpringBootï¼šåº•å±‚æ˜¯Springæ¡†æ¶ï¼ŒSpringæ¡†æ¶é»˜è®¤æ˜¯ç”¨JCLï¼›</p><p>â€‹    <strong>==SpringBooté€‰ç”¨ SLF4jå’Œlogbackï¼›==</strong></p><h2 id="2ã€SLF4jä½¿ç”¨"><a href="#2ã€SLF4jä½¿ç”¨" class="headerlink" title="2ã€SLF4jä½¿ç”¨"></a>2ã€SLF4jä½¿ç”¨</h2><h3 id="1ã€å¦‚ä½•åœ¨ç³»ç»Ÿä¸­ä½¿ç”¨SLF4j-https-www-slf4j-org"><a href="#1ã€å¦‚ä½•åœ¨ç³»ç»Ÿä¸­ä½¿ç”¨SLF4j-https-www-slf4j-org" class="headerlink" title="1ã€å¦‚ä½•åœ¨ç³»ç»Ÿä¸­ä½¿ç”¨SLF4j   https://www.slf4j.org"></a>1ã€å¦‚ä½•åœ¨ç³»ç»Ÿä¸­ä½¿ç”¨SLF4j   <a href="https://www.slf4j.org/">https://www.slf4j.org</a></h3><p>ä»¥åå¼€å‘çš„æ—¶å€™ï¼Œæ—¥å¿—è®°å½•æ–¹æ³•çš„è°ƒç”¨ï¼Œä¸åº”è¯¥æ¥ç›´æ¥è°ƒç”¨æ—¥å¿—çš„å®ç°ç±»ï¼Œè€Œæ˜¯è°ƒç”¨æ—¥å¿—æŠ½è±¡å±‚é‡Œé¢çš„æ–¹æ³•ï¼›</p><p>ç»™ç³»ç»Ÿé‡Œé¢å¯¼å…¥slf4jçš„jarå’Œ  logbackçš„å®ç°jar</p><pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span>Logger<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span>LoggerFactory<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">{</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Logger logger <span class="token operator">=</span> LoggerFactory<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>HelloWorld<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sblog1.png" alt="sblog1">æ¯ä¸€ä¸ªæ—¥å¿—çš„å®ç°æ¡†æ¶éƒ½æœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶ã€‚ä½¿ç”¨slf4jä»¥åï¼Œé…ç½®æ–‡ä»¶è¿˜æ˜¯åšæˆæ—¥å¿—<strong>å®ç°æ¡†æ¶è‡ªå·±æœ¬èº«çš„é…ç½®æ–‡ä»¶ï¼›</strong></p><h3 id="2ã€é—ç•™é—®é¢˜ï¼ˆå¤šä¸ªæ¡†æ¶ä¸åŒæ—¥å¿—æ–‡ä»¶çš„å¤„ç†åŠæ³•ï¼‰"><a href="#2ã€é—ç•™é—®é¢˜ï¼ˆå¤šä¸ªæ¡†æ¶ä¸åŒæ—¥å¿—æ–‡ä»¶çš„å¤„ç†åŠæ³•ï¼‰" class="headerlink" title="2ã€é—ç•™é—®é¢˜ï¼ˆå¤šä¸ªæ¡†æ¶ä¸åŒæ—¥å¿—æ–‡ä»¶çš„å¤„ç†åŠæ³•ï¼‰"></a>2ã€é—ç•™é—®é¢˜ï¼ˆå¤šä¸ªæ¡†æ¶ä¸åŒæ—¥å¿—æ–‡ä»¶çš„å¤„ç†åŠæ³•ï¼‰</h3><p>aï¼ˆslf4j+logbackï¼‰: Springï¼ˆcommons-loggingï¼‰ã€Hibernateï¼ˆjboss-loggingï¼‰ã€MyBatisã€xxxx</p><p>ç»Ÿä¸€æ—¥å¿—è®°å½•ï¼Œå³ä½¿æ˜¯åˆ«çš„æ¡†æ¶å’Œæˆ‘ä¸€èµ·ç»Ÿä¸€ä½¿ç”¨slf4jè¿›è¡Œè¾“å‡ºï¼Ÿ</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sblog2.png" alt="sblog2"></p><p><strong>å¦‚ä½•è®©ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ—¥å¿—éƒ½ç»Ÿä¸€åˆ°slf4jï¼›</strong></p><p>==1ã€å°†ç³»ç»Ÿä¸­å…¶ä»–æ—¥å¿—æ¡†æ¶å…ˆæ’é™¤å‡ºå»ï¼›==</p><p>==2ã€ç”¨ä¸­é—´åŒ…æ¥æ›¿æ¢åŸæœ‰çš„æ—¥å¿—æ¡†æ¶ï¼›==</p><p>==3ã€æˆ‘ä»¬å¯¼å…¥slf4jå…¶ä»–çš„å®ç°==</p><h2 id="3ã€SpringBootæ—¥å¿—å…³ç³»"><a href="#3ã€SpringBootæ—¥å¿—å…³ç³»" class="headerlink" title="3ã€SpringBootæ—¥å¿—å…³ç³»"></a>3ã€SpringBootæ—¥å¿—å…³ç³»</h2><pre class=" language-xml"><code class="language-xml">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><p>SpringBootä½¿ç”¨å®ƒæ¥åšæ—¥å¿—åŠŸèƒ½ï¼›</p><pre class=" language-xml"><code class="language-xml">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><p>åº•å±‚ä¾èµ–å…³ç³»</p><p>å³é”®pom.xmlç©ºç™½å¤„ï¼ŒDiagrams,show Dependencies</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sblog3.png" alt="sblog3"></p><p>æ€»ç»“ï¼š</p><p>â€‹    1ï¼‰ã€SpringBootåº•å±‚ä¹Ÿæ˜¯ä½¿ç”¨slf4j+logbackçš„æ–¹å¼è¿›è¡Œæ—¥å¿—è®°å½•</p><p>â€‹    2ï¼‰ã€SpringBootä¹ŸæŠŠå…¶ä»–çš„æ—¥å¿—éƒ½æ›¿æ¢æˆäº†slf4jï¼›</p><p>â€‹    3ï¼‰ã€ä¸­é—´æ›¿æ¢åŒ…ï¼Ÿ</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">"rawtypes"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">LogFactory</span> <span class="token punctuation">{</span>    <span class="token keyword">static</span> String UNSUPPORTED_OPERATION_IN_JCL_OVER_SLF4J <span class="token operator">=</span> <span class="token string">"http://www.slf4j.org/codes.html#unsupported_operation_in_jcl_over_slf4j"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å®é™…ä¸Šç”¨çš„æ˜¯slf4jçš„æ—¥å¿—å·¥å‚</span>    <span class="token keyword">static</span> LogFactory logFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SLF4JLogFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sblog4.png" alt="sblog4"></p><p>4ï¼‰ã€å¦‚æœæˆ‘ä»¬è¦å¼•å…¥å…¶ä»–æ¡†æ¶ï¼Ÿä¸€å®šè¦æŠŠè¿™ä¸ªæ¡†æ¶çš„é»˜è®¤æ—¥å¿—ä¾èµ–ç§»é™¤æ‰</p><p>â€‹            Springæ¡†æ¶ç”¨çš„æ˜¯commons-loggingçš„æ’é™¤æ–¹æ³•ï¼›</p><pre class=" language-xml"><code class="language-xml">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>commons-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commons-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><p><strong>==SpringBootèƒ½è‡ªåŠ¨é€‚é…æ‰€æœ‰çš„æ—¥å¿—ï¼Œè€Œä¸”åº•å±‚ä½¿ç”¨slf4j+logbackçš„æ–¹å¼è®°å½•æ—¥å¿—ï¼Œå¼•å…¥å…¶ä»–æ¡†æ¶çš„æ—¶å€™ï¼Œåªéœ€è¦æŠŠè¿™ä¸ªæ¡†æ¶ä¾èµ–çš„æ—¥å¿—æ¡†æ¶æ’é™¤æ‰å³å¯ï¼›==</strong></p><h2 id="4ã€æ—¥å¿—ä½¿ç”¨ï¼›"><a href="#4ã€æ—¥å¿—ä½¿ç”¨ï¼›" class="headerlink" title="4ã€æ—¥å¿—ä½¿ç”¨ï¼›"></a>4ã€æ—¥å¿—ä½¿ç”¨ï¼›</h2><h3 id="1ã€é»˜è®¤é…ç½®"><a href="#1ã€é»˜è®¤é…ç½®" class="headerlink" title="1ã€é»˜è®¤é…ç½®"></a>1ã€é»˜è®¤é…ç½®</h3><p>SpringBooté»˜è®¤å¸®æˆ‘ä»¬é…ç½®å¥½äº†æ—¥å¿—ï¼›</p><pre class=" language-java"><code class="language-java">    <span class="token comment" spellcheck="true">//è®°å½•å™¨</span>    Logger logger <span class="token operator">=</span> LoggerFactory<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//System.out.println();</span>        <span class="token comment" spellcheck="true">//æ—¥å¿—çš„çº§åˆ«ï¼›</span>        <span class="token comment" spellcheck="true">//ç”±ä½åˆ°é«˜   trace&lt;debug&lt;info&lt;warn&lt;error</span>        <span class="token comment" spellcheck="true">//å¯ä»¥è°ƒæ•´è¾“å‡ºçš„æ—¥å¿—çº§åˆ«ï¼›æ—¥å¿—å°±åªä¼šåœ¨è¿™ä¸ªçº§åˆ«ä»¥ä»¥åçš„é«˜çº§åˆ«ç”Ÿæ•ˆ</span>        logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯traceæ—¥å¿—..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯debugæ—¥å¿—..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//SpringBooté»˜è®¤ç»™æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯infoçº§åˆ«çš„ï¼Œæ²¡æœ‰æŒ‡å®šçº§åˆ«çš„å°±ç”¨SpringBooté»˜è®¤è§„å®šçš„çº§åˆ«ï¼›rootçº§åˆ«</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯infoæ—¥å¿—..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯warnæ—¥å¿—..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯erroræ—¥å¿—..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>SpringBootä¿®æ”¹æ—¥å¿—çš„é»˜è®¤é…ç½®(å¯ä»¥åœ¨æ€»é…ç½®æ–‡ä»¶ä¸­è®¾ç½®)</p><pre class=" language-properties"><code class="language-properties"><span class="token attr-name">logging.level.com.atguigu</span><span class="token punctuation">=</span><span class="token attr-value">trace</span><span class="token comment" spellcheck="true">#logging.file.path=</span><span class="token comment" spellcheck="true"># ä¸æŒ‡å®šè·¯å¾„åœ¨å½“å‰é¡¹ç›®ä¸‹ç”Ÿæˆspringboot.logæ—¥å¿—</span><span class="token comment" spellcheck="true"># å¯ä»¥æŒ‡å®šå®Œæ•´çš„è·¯å¾„ï¼›</span><span class="token comment" spellcheck="true">#logging.file.name=G:/springboot.log</span><span class="token comment" spellcheck="true"># åœ¨å½“å‰ç£ç›˜çš„æ ¹è·¯å¾„ä¸‹åˆ›å»ºspringæ–‡ä»¶å¤¹å’Œé‡Œé¢çš„logæ–‡ä»¶å¤¹ï¼›ä½¿ç”¨&amp;nbsp;spring.log ä½œä¸ºé»˜è®¤æ–‡ä»¶</span><span class="token attr-name">logging.file.path</span><span class="token punctuation">=</span><span class="token attr-value">/spring/log</span><span class="token comment" spellcheck="true">#  åœ¨æ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—çš„æ ¼å¼</span><span class="token attr-name">logging.pattern.console</span><span class="token punctuation">=</span><span class="token attr-value">%d{yyyy-MM-dd} [%thread] %-5level %logger{50} - %msg%n</span><span class="token comment" spellcheck="true"># æŒ‡å®šæ–‡ä»¶ä¸­æ—¥å¿—è¾“å‡ºçš„æ ¼å¼</span><span class="token attr-name">logging.pattern.file</span><span class="token punctuation">=</span><span class="token attr-value">%d{yyyy-MM-dd} === [%thread] === %-5level === %logger{50} ==== %msg%n</span></code></pre><pre><code>æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼š    %dè¡¨ç¤ºæ—¥æœŸæ—¶é—´ï¼Œ    %threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ    %-5levelï¼šçº§åˆ«ä»å·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦    %logger{50} è¡¨ç¤ºloggeråå­—æœ€é•¿50ä¸ªå­—ç¬¦ï¼Œå¦åˆ™æŒ‰ç…§å¥ç‚¹åˆ†å‰²ã€‚     %msgï¼šæ—¥å¿—æ¶ˆæ¯ï¼Œ    %næ˜¯æ¢è¡Œç¬¦--&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</code></pre><table><thead><tr><th>logging.file</th><th>logging.path</th><th>Example</th><th>Description</th></tr></thead><tbody><tr><td>(none)</td><td>(none)</td><td></td><td>åªåœ¨æ§åˆ¶å°è¾“å‡º</td></tr><tr><td>æŒ‡å®šæ–‡ä»¶å</td><td>(none)</td><td>my.log</td><td>è¾“å‡ºæ—¥å¿—åˆ°my.logæ–‡ä»¶</td></tr><tr><td>(none)</td><td>æŒ‡å®šç›®å½•</td><td>/var/log</td><td>è¾“å‡ºåˆ°æœ¬åœ°ç£ç›˜æŒ‡å®šç›®å½•çš„ spring.log æ–‡ä»¶ä¸­</td></tr></tbody></table><blockquote><p>ç°åœ¨éƒ½ç”¨logging.file.nameå³å¯</p><pre class=" language-yml"><code class="language-yml">logging.file.name: log/log1.log# åœ¨å½“å‰é¡¹ç›®ä¸‹çš„Logæ–‡ä»¶å¤¹ä¸­</code></pre></blockquote><h3 id="2ã€æŒ‡å®šé…ç½®-ç”¨è‡ªå·±çš„æ—¥å¿—æ¡†æ¶"><a href="#2ã€æŒ‡å®šé…ç½®-ç”¨è‡ªå·±çš„æ—¥å¿—æ¡†æ¶" class="headerlink" title="2ã€æŒ‡å®šé…ç½®(ç”¨è‡ªå·±çš„æ—¥å¿—æ¡†æ¶)"></a>2ã€æŒ‡å®šé…ç½®(ç”¨è‡ªå·±çš„æ—¥å¿—æ¡†æ¶)</h3><p>ç»™ç±»è·¯å¾„ä¸‹æ”¾ä¸Šæ¯ä¸ªæ—¥å¿—æ¡†æ¶è‡ªå·±çš„é…ç½®æ–‡ä»¶å³å¯ï¼›SpringBootå°±ä¸ä½¿ç”¨ä»–çš„é»˜è®¤é…ç½®çš„äº†</p><table><thead><tr><th>Logging System</th><th>Customization</th></tr></thead><tbody><tr><td>Logback</td><td><code>logback-spring.xml</code>, <code>logback-spring.groovy</code>, <code>logback.xml</code> or <code>logback.groovy</code></td></tr><tr><td>Log4j2</td><td><code>log4j2-spring.xml</code> or <code>log4j2.xml</code></td></tr><tr><td>JDK (Java Util Logging)</td><td><code>logging.properties</code></td></tr></tbody></table><p><strong>logback-spring.xml</strong>ï¼šæ—¥å¿—æ¡†æ¶å°±ä¸ç›´æ¥åŠ è½½æ—¥å¿—çš„é…ç½®é¡¹ï¼Œç”±SpringBootè§£ææ—¥å¿—é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨SpringBootçš„é«˜çº§ProfileåŠŸèƒ½</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProfile</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>staging<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- configuration to be enabled when the "staging" profile is active --></span>      å¯ä»¥æŒ‡å®šæŸæ®µé…ç½®åªåœ¨æŸä¸ªç¯å¢ƒä¸‹ç”Ÿæ•ˆ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springProfile</span><span class="token punctuation">></span></span></code></pre><p>å¦‚ï¼š</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stdout<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--        æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼š            %dè¡¨ç¤ºæ—¥æœŸæ—¶é—´ï¼Œ            %threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ            %-5levelï¼šçº§åˆ«ä»å·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦            %logger{50} è¡¨ç¤ºloggeråå­—æœ€é•¿50ä¸ªå­—ç¬¦ï¼Œå¦åˆ™æŒ‰ç…§å¥ç‚¹åˆ†å‰²ã€‚             %msgï¼šæ—¥å¿—æ¶ˆæ¯ï¼Œ            %næ˜¯æ¢è¡Œç¬¦        --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.PatternLayout<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProfile</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dev<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%d{yyyy-MM-dd HH:mm:ss.SSS} ----> [%thread] ---> %-5level %logger{50} - %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springProfile</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProfile</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>!dev<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%d{yyyy-MM-dd HH:mm:ss.SSS} ==== [%thread] ==== %-5level %logger{50} - %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springProfile</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span></code></pre><p>å¦‚æœä½¿ç”¨logback.xmlä½œä¸ºæ—¥å¿—é…ç½®æ–‡ä»¶ï¼Œè¿˜è¦ä½¿ç”¨profileåŠŸèƒ½ï¼Œä¼šæœ‰ä»¥ä¸‹é”™è¯¯,å› ä¸ºä¸æ”¯æŒé«˜çº§åŠŸèƒ½</p><p> <code>no applicable action for [springProfile]</code></p><h2 id="5ã€åˆ‡æ¢æ—¥å¿—æ¡†æ¶"><a href="#5ã€åˆ‡æ¢æ—¥å¿—æ¡†æ¶" class="headerlink" title="5ã€åˆ‡æ¢æ—¥å¿—æ¡†æ¶"></a>5ã€åˆ‡æ¢æ—¥å¿—æ¡†æ¶</h2><p>å¯ä»¥æŒ‰ç…§slf4jçš„æ—¥å¿—é€‚é…å›¾ï¼Œè¿›è¡Œç›¸å…³çš„åˆ‡æ¢ï¼›</p><p>slf4j+log4jçš„æ–¹å¼ï¼›ï¼ˆæ’é™¤æ‰logbackï¼Œlog4j-logbackï¼Œå¢åŠ logback-Log4jï¼‰</p><p>å¯ä»¥åœ¨ä¾èµ–å›¾ä¸­ï¼Œé€‰ä¸­ä¾èµ–å³é”®æ’é™¤</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>logback-classic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>ch.qos.logback<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>log4j-over-slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>slf4j-log4j12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><p>åˆ‡æ¢ä¸ºlog4j2çš„æ–¹å¼ï¼›ï¼ˆæ’é™¤æ‰spring-boot-starter-loggingï¼Œå¢åŠ spring-boot-starter-log4j2ï¼‰</p><pre class=" language-xml"><code class="language-xml">   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-log4j2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Booté…ç½®æ–‡ä»¶</title>
      <link href="/2020/06/24/springboot/spring-boot-pei-zhi-wen-jian/"/>
      <url>/2020/06/24/springboot/spring-boot-pei-zhi-wen-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h1><h2 id="1ã€é…ç½®æ–‡ä»¶"><a href="#1ã€é…ç½®æ–‡ä»¶" class="headerlink" title="1ã€é…ç½®æ–‡ä»¶"></a>1ã€é…ç½®æ–‡ä»¶</h2><p>SpringBootä½¿ç”¨ä¸€ä¸ªå…¨å±€çš„é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶åæ˜¯å›ºå®šçš„ï¼›</p><p>â€¢application.properties</p><p>â€¢application.yml</p><p>é…ç½®æ–‡ä»¶çš„ä½œç”¨ï¼šä¿®æ”¹SpringBootè‡ªåŠ¨é…ç½®çš„é»˜è®¤å€¼ï¼›SpringBootåœ¨åº•å±‚éƒ½ç»™æˆ‘ä»¬è‡ªåŠ¨é…ç½®å¥½ï¼›</p><p>æ ‡è®°è¯­è¨€ï¼š</p><p>â€‹    ä»¥å‰çš„é…ç½®æ–‡ä»¶ï¼›å¤§å¤šéƒ½ä½¿ç”¨çš„æ˜¯  <strong>xxxx.xml</strong>æ–‡ä»¶ï¼›</p><p>â€‹    YAMLï¼š<strong>ä»¥æ•°æ®ä¸ºä¸­å¿ƒ</strong>ï¼Œæ¯”jsonã€xmlç­‰æ›´é€‚åˆåšé…ç½®æ–‡ä»¶ï¼›</p><h2 id="2ã€YAMLè¯­æ³•ï¼š"><a href="#2ã€YAMLè¯­æ³•ï¼š" class="headerlink" title="2ã€YAMLè¯­æ³•ï¼š"></a>2ã€YAMLè¯­æ³•ï¼š</h2><h3 id="1ã€åŸºæœ¬è¯­æ³•"><a href="#1ã€åŸºæœ¬è¯­æ³•" class="headerlink" title="1ã€åŸºæœ¬è¯­æ³•"></a>1ã€åŸºæœ¬è¯­æ³•</h3><p>k:(ç©ºæ ¼)vï¼šè¡¨ç¤ºä¸€å¯¹é”®å€¼å¯¹ï¼ˆç©ºæ ¼å¿…é¡»æœ‰ï¼‰ï¼›</p><p>ä»¥<strong>ç©ºæ ¼</strong>çš„ç¼©è¿›æ¥æ§åˆ¶å±‚çº§å…³ç³»ï¼›åªè¦æ˜¯å·¦å¯¹é½çš„ä¸€åˆ—æ•°æ®ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªå±‚çº§çš„</p><p>å±æ€§å’Œå€¼ä¹Ÿæ˜¯å¤§å°å†™æ•æ„Ÿï¼›</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> /hello</code></pre><h3 id="2ã€å€¼çš„å†™æ³•"><a href="#2ã€å€¼çš„å†™æ³•" class="headerlink" title="2ã€å€¼çš„å†™æ³•"></a>2ã€å€¼çš„å†™æ³•</h3><h4 id="å­—é¢é‡ï¼šæ™®é€šçš„å€¼ï¼ˆæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”ï¼‰"><a href="#å­—é¢é‡ï¼šæ™®é€šçš„å€¼ï¼ˆæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”ï¼‰" class="headerlink" title="å­—é¢é‡ï¼šæ™®é€šçš„å€¼ï¼ˆæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”ï¼‰"></a>å­—é¢é‡ï¼šæ™®é€šçš„å€¼ï¼ˆæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”ï¼‰</h4><p>â€‹    k: vï¼šå­—é¢ç›´æ¥æ¥å†™ï¼›</p><p>â€‹        å­—ç¬¦ä¸²é»˜è®¤ä¸ç”¨åŠ ä¸Šå•å¼•å·æˆ–è€…åŒå¼•å·ï¼›</p><p>â€‹        â€œâ€ï¼šåŒå¼•å·ï¼›ä¸ä¼šè½¬ä¹‰å­—ç¬¦ä¸²é‡Œé¢çš„ç‰¹æ®Šå­—ç¬¦ï¼›ç‰¹æ®Šå­—ç¬¦ä¼šä½œä¸ºæœ¬èº«æƒ³è¡¨ç¤ºçš„æ„æ€</p><p>â€‹                name:   â€œzhangsan \n lisiâ€ï¼šè¾“å‡ºï¼›zhangsan æ¢è¡Œ  lisi</p><p>â€‹        â€˜â€™ï¼šå•å¼•å·ï¼›ä¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œç‰¹æ®Šå­—ç¬¦æœ€ç»ˆåªæ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²æ•°æ®</p><p>â€‹                name:   â€˜zhangsan \n lisiâ€™ï¼šè¾“å‡ºï¼›zhangsan \n  lisi</p><h4 id="å¯¹è±¡ã€Mapï¼ˆå±æ€§å’Œå€¼ï¼‰ï¼ˆé”®å€¼å¯¹ï¼‰ï¼š"><a href="#å¯¹è±¡ã€Mapï¼ˆå±æ€§å’Œå€¼ï¼‰ï¼ˆé”®å€¼å¯¹ï¼‰ï¼š" class="headerlink" title="å¯¹è±¡ã€Mapï¼ˆå±æ€§å’Œå€¼ï¼‰ï¼ˆé”®å€¼å¯¹ï¼‰ï¼š"></a>å¯¹è±¡ã€Mapï¼ˆå±æ€§å’Œå€¼ï¼‰ï¼ˆé”®å€¼å¯¹ï¼‰ï¼š</h4><p>â€‹    k: vï¼šåœ¨ä¸‹ä¸€è¡Œæ¥å†™å¯¹è±¡çš„å±æ€§å’Œå€¼çš„å…³ç³»ï¼›æ³¨æ„ç¼©è¿›</p><p>â€‹        å¯¹è±¡è¿˜æ˜¯k: vçš„æ–¹å¼</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">friends</span><span class="token punctuation">:</span>        <span class="token key atrule">lastName</span><span class="token punctuation">:</span> zhangsan        <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">20</span></code></pre><p>è¡Œå†…å†™æ³•ï¼š</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">friends</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">lastName</span><span class="token punctuation">:</span> zhangsan<span class="token punctuation">,</span><span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">}</span></code></pre><h4 id="æ•°ç»„ï¼ˆListã€Setï¼‰ï¼š"><a href="#æ•°ç»„ï¼ˆListã€Setï¼‰ï¼š" class="headerlink" title="æ•°ç»„ï¼ˆListã€Setï¼‰ï¼š"></a>æ•°ç»„ï¼ˆListã€Setï¼‰ï¼š</h4><p>ç”¨- å€¼è¡¨ç¤ºæ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ </p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">pets</span><span class="token punctuation">:</span> <span class="token punctuation">-</span> cat <span class="token punctuation">-</span> dog <span class="token punctuation">-</span> pig</code></pre><p>è¡Œå†…å†™æ³•</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">pets</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>cat<span class="token punctuation">,</span>dog<span class="token punctuation">,</span>pig<span class="token punctuation">]</span></code></pre><h2 id="3ã€é…ç½®æ–‡ä»¶å€¼æ³¨å…¥"><a href="#3ã€é…ç½®æ–‡ä»¶å€¼æ³¨å…¥" class="headerlink" title="3ã€é…ç½®æ–‡ä»¶å€¼æ³¨å…¥"></a>3ã€é…ç½®æ–‡ä»¶å€¼æ³¨å…¥</h2><p>é…ç½®æ–‡ä»¶</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">person</span><span class="token punctuation">:</span>    <span class="token key atrule">lastName</span><span class="token punctuation">:</span> hello    <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">18</span>    <span class="token key atrule">boss</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">birth</span><span class="token punctuation">:</span> 2017/12/12    <span class="token key atrule">maps</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">k1</span><span class="token punctuation">:</span> v1<span class="token punctuation">,</span><span class="token key atrule">k2</span><span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">}</span>    <span class="token key atrule">lists</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> lisi      <span class="token punctuation">-</span> zhaoliu    <span class="token key atrule">dog</span><span class="token punctuation">:</span>      <span class="token key atrule">name</span><span class="token punctuation">:</span> å°ç‹—      <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">12</span></code></pre><p>javaBean</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** * å°†é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æ¯ä¸€ä¸ªå±æ€§çš„å€¼ï¼Œæ˜ å°„åˆ°è¿™ä¸ªç»„ä»¶ä¸­ * @ConfigurationPropertiesï¼šå‘Šè¯‰SpringBootå°†æœ¬ç±»ä¸­çš„æ‰€æœ‰å±æ€§å’Œé…ç½®æ–‡ä»¶ä¸­ç›¸å…³çš„é…ç½®è¿›è¡Œç»‘å®šï¼› *      prefix = "person"ï¼šé…ç½®æ–‡ä»¶ä¸­å“ªä¸ªä¸‹é¢çš„æ‰€æœ‰å±æ€§è¿›è¡Œä¸€ä¸€æ˜ å°„ * * åªæœ‰è¿™ä¸ªç»„ä»¶æ˜¯å®¹å™¨ä¸­çš„ç»„ä»¶ï¼Œæ‰èƒ½å®¹å™¨æä¾›çš„@ConfigurationPropertiesåŠŸèƒ½ï¼› * */</span><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"person"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> String lastName<span class="token punctuation">;</span>    <span class="token keyword">private</span> Integer age<span class="token punctuation">;</span>    <span class="token keyword">private</span> Boolean boss<span class="token punctuation">;</span>    <span class="token keyword">private</span> Date birth<span class="token punctuation">;</span>    <span class="token keyword">private</span> Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Object<span class="token operator">></span> maps<span class="token punctuation">;</span>    <span class="token keyword">private</span> List<span class="token operator">&lt;</span>Object<span class="token operator">></span> lists<span class="token punctuation">;</span>    <span class="token keyword">private</span> Dog dog<span class="token punctuation">;</span></code></pre><p>æˆ‘ä»¬å¯ä»¥å¯¼å…¥é…ç½®æ–‡ä»¶å¤„ç†å™¨ï¼Œä»¥åç¼–å†™é…ç½®å°±æœ‰æç¤ºäº†</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--å¯¼å…¥é…ç½®æ–‡ä»¶å¤„ç†å™¨ï¼Œé…ç½®æ–‡ä»¶è¿›è¡Œç»‘å®šå°±ä¼šæœ‰æç¤º--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><h4 id="1ã€propertiesé…ç½®æ–‡ä»¶åœ¨ideaä¸­é»˜è®¤utf-8å¯èƒ½ä¼šä¹±ç "><a href="#1ã€propertiesé…ç½®æ–‡ä»¶åœ¨ideaä¸­é»˜è®¤utf-8å¯èƒ½ä¼šä¹±ç " class="headerlink" title="1ã€propertiesé…ç½®æ–‡ä»¶åœ¨ideaä¸­é»˜è®¤utf-8å¯èƒ½ä¼šä¹±ç "></a>1ã€propertiesé…ç½®æ–‡ä»¶åœ¨ideaä¸­é»˜è®¤utf-8å¯èƒ½ä¼šä¹±ç </h4><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/sb2-1.png" alt="spring Boot2-1"></p><h4 id="2ã€-Valueè·å–å€¼å’Œ-ConfigurationPropertiesè·å–å€¼æ¯”è¾ƒ"><a href="#2ã€-Valueè·å–å€¼å’Œ-ConfigurationPropertiesè·å–å€¼æ¯”è¾ƒ" class="headerlink" title="2ã€@Valueè·å–å€¼å’Œ@ConfigurationPropertiesè·å–å€¼æ¯”è¾ƒ"></a>2ã€@Valueè·å–å€¼å’Œ@ConfigurationPropertiesè·å–å€¼æ¯”è¾ƒ</h4><table><thead><tr><th></th><th>@ConfigurationProperties</th><th>@Value</th></tr></thead><tbody><tr><td>åŠŸèƒ½</td><td>æ‰¹é‡æ³¨å…¥é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§</td><td>ä¸€ä¸ªä¸ªæŒ‡å®š</td></tr><tr><td>æ¾æ•£ç»‘å®šï¼ˆæ¾æ•£è¯­æ³•ï¼‰</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr><tr><td>SpEL è¡¨è¾¾å¼#{ }</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>JSR303æ•°æ®æ ¡éªŒ</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr><tr><td>å¤æ‚ç±»å‹å°è£…</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr></tbody></table><p>é…ç½®æ–‡ä»¶ymlè¿˜æ˜¯propertiesä»–ä»¬éƒ½èƒ½è·å–åˆ°å€¼ï¼›</p><p>å¦‚æœè¯´ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨æŸä¸ªä¸šåŠ¡é€»è¾‘ä¸­éœ€è¦è·å–ä¸€ä¸‹é…ç½®æ–‡ä»¶ä¸­çš„æŸé¡¹å€¼ï¼Œä½¿ç”¨@Valueï¼›</p><p>å¦‚æœè¯´ï¼Œæˆ‘ä»¬ä¸“é—¨ç¼–å†™äº†ä¸€ä¸ªjavaBeanæ¥å’Œé…ç½®æ–‡ä»¶è¿›è¡Œæ˜ å°„ï¼Œæˆ‘ä»¬å°±ç›´æ¥ä½¿ç”¨@ConfigurationPropertiesï¼›</p><h4 id="3ã€é…ç½®æ–‡ä»¶æ³¨å…¥å€¼æ•°æ®æ ¡éªŒ"><a href="#3ã€é…ç½®æ–‡ä»¶æ³¨å…¥å€¼æ•°æ®æ ¡éªŒ" class="headerlink" title="3ã€é…ç½®æ–‡ä»¶æ³¨å…¥å€¼æ•°æ®æ ¡éªŒ"></a>3ã€é…ç½®æ–‡ä»¶æ³¨å…¥å€¼æ•°æ®æ ¡éªŒ</h4><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"person"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Validated</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/**     * &lt;bean class="Person">     *      &lt;property name="lastName" value="å­—é¢é‡/${key}ä»ç¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ä¸­è·å–å€¼/#{SpEL}">&lt;/property>     * &lt;bean/>     */</span>   <span class="token comment" spellcheck="true">//lastNameå¿…é¡»æ˜¯é‚®ç®±æ ¼å¼</span>    <span class="token annotation punctuation">@Email</span>    <span class="token comment" spellcheck="true">//@Value("${person.last-name}")</span>    <span class="token keyword">private</span> String lastName<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//@Value("#{11*2}")</span>    <span class="token keyword">private</span> Integer age<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//@Value("true")</span>    <span class="token keyword">private</span> Boolean boss<span class="token punctuation">;</span>    <span class="token keyword">private</span> Date birth<span class="token punctuation">;</span>    <span class="token keyword">private</span> Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Object<span class="token operator">></span> maps<span class="token punctuation">;</span>    <span class="token keyword">private</span> List<span class="token operator">&lt;</span>Object<span class="token operator">></span> lists<span class="token punctuation">;</span>    <span class="token keyword">private</span> Dog dog<span class="token punctuation">;</span></code></pre><h4 id="4ã€-PropertySource-amp-ImportResource-amp-Bean"><a href="#4ã€-PropertySource-amp-ImportResource-amp-Bean" class="headerlink" title="4ã€@PropertySource&amp;@ImportResource&amp;@Bean"></a>4ã€@PropertySource&amp;@ImportResource&amp;@Bean</h4><p>@<strong>PropertySource</strong>ï¼šåŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶ï¼›</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** *@PropertySourceï¼šåŠ è½½è‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶ */</span><span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"classpath:person.properties"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"person"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//@Validated</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>   <span class="token comment" spellcheck="true">//lastNameå¿…é¡»æ˜¯é‚®ç®±æ ¼å¼</span>   <span class="token comment" spellcheck="true">// @Email</span>    <span class="token comment" spellcheck="true">//@Value("${person.last-name}")</span>    <span class="token keyword">private</span> String lastName<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//@Value("#{11*2}")</span>    <span class="token keyword">private</span> Integer age<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//@Value("true")</span>    <span class="token keyword">private</span> Boolean boss<span class="token punctuation">;</span></code></pre><p>@<strong>ImportResource</strong>ï¼šå¯¼å…¥Springçš„é…ç½®æ–‡ä»¶ï¼Œè®©é…ç½®æ–‡ä»¶é‡Œé¢çš„å†…å®¹ç”Ÿæ•ˆï¼›ï¼ˆä¸€èˆ¬ä¸ç”¨æ­¤ç±»æ–¹æ³•ï¼Œè€Œæ˜¯å…¨æ³¨è§£é…ç½®ç±»ï¼‰</p><p>Spring Booté‡Œé¢æ²¡æœ‰Springçš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬è‡ªå·±ç¼–å†™çš„é…ç½®æ–‡ä»¶ï¼Œä¹Ÿä¸èƒ½è‡ªåŠ¨è¯†åˆ«ï¼›</p><p>æƒ³è®©Springçš„é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼ŒåŠ è½½è¿›æ¥ï¼›@<strong>ImportResource</strong>æ ‡æ³¨åœ¨ä¸€ä¸ªé…ç½®ç±»ä¸Š</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@ImportResource</span><span class="token punctuation">(</span>locations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"classpath:applicationContext.xml"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>å¯¼å…¥Springçš„é…ç½®æ–‡ä»¶è®©å…¶ç”Ÿæ•ˆ</code></pre><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>helloService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.atguigu.springboot.service.HelloService<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre><p>SpringBootæ¨èç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶çš„æ–¹å¼ï¼›æ¨èä½¿ç”¨å…¨æ³¨è§£çš„æ–¹å¼</p><p>1ã€é…ç½®ç±»**@Configuration**â€”â€”&gt;Springé…ç½®æ–‡ä»¶</p><p>2ã€ä½¿ç”¨**@Bean**ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** * @Configurationï¼šæŒ‡æ˜å½“å‰ç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼›å°±æ˜¯æ¥æ›¿ä»£ä¹‹å‰çš„Springé…ç½®æ–‡ä»¶ * * åœ¨é…ç½®æ–‡ä»¶ä¸­ç”¨&lt;bean>&lt;bean/>æ ‡ç­¾æ·»åŠ ç»„ä»¶ * */</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAppConfig</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å°†æ–¹æ³•çš„è¿”å›å€¼æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼›å®¹å™¨ä¸­è¿™ä¸ªç»„ä»¶é»˜è®¤çš„idå°±æ˜¯æ–¹æ³•å</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> HelloService <span class="token function">helloService02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é…ç½®ç±»@Beanç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶äº†..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">HelloService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>##4ã€é…ç½®æ–‡ä»¶å ä½ç¬¦</p><h3 id="1ã€éšæœºæ•°"><a href="#1ã€éšæœºæ•°" class="headerlink" title="1ã€éšæœºæ•°"></a>1ã€éšæœºæ•°</h3><pre class=" language-java"><code class="language-java">$<span class="token punctuation">{</span>random<span class="token punctuation">.</span>value<span class="token punctuation">}</span>ã€$<span class="token punctuation">{</span>random<span class="token punctuation">.</span><span class="token keyword">int</span><span class="token punctuation">}</span>ã€$<span class="token punctuation">{</span>random<span class="token punctuation">.</span><span class="token keyword">long</span><span class="token punctuation">}</span>$<span class="token punctuation">{</span>random<span class="token punctuation">.</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span>ã€$<span class="token punctuation">{</span>random<span class="token punctuation">.</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">,</span><span class="token number">65536</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><h3 id="2ã€å ä½ç¬¦è·å–ä¹‹å‰é…ç½®çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥æ˜¯ç”¨-æŒ‡å®šé»˜è®¤å€¼"><a href="#2ã€å ä½ç¬¦è·å–ä¹‹å‰é…ç½®çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥æ˜¯ç”¨-æŒ‡å®šé»˜è®¤å€¼" class="headerlink" title="2ã€å ä½ç¬¦è·å–ä¹‹å‰é…ç½®çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥æ˜¯ç”¨:æŒ‡å®šé»˜è®¤å€¼"></a>2ã€å ä½ç¬¦è·å–ä¹‹å‰é…ç½®çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥æ˜¯ç”¨:æŒ‡å®šé»˜è®¤å€¼</h3><pre class=" language-properties"><code class="language-properties"><span class="token attr-name">person.last-name</span><span class="token punctuation">=</span><span class="token attr-value">å¼ ä¸‰${random.uuid}</span><span class="token attr-name">person.age</span><span class="token punctuation">=</span><span class="token attr-value">${random.int}</span><span class="token attr-name">person.birth</span><span class="token punctuation">=</span><span class="token attr-value">2017/12/15</span><span class="token attr-name">person.boss</span><span class="token punctuation">=</span><span class="token attr-value">false</span><span class="token attr-name">person.maps.k1</span><span class="token punctuation">=</span><span class="token attr-value">v1</span><span class="token attr-name">person.maps.k2</span><span class="token punctuation">=</span><span class="token attr-value">14</span><span class="token attr-name">person.lists</span><span class="token punctuation">=</span><span class="token attr-value">a,b,c</span><span class="token attr-name">person.dog.name</span><span class="token punctuation">=</span><span class="token attr-value">${person.hello:hello}_dog</span><span class="token attr-name">person.dog.age</span><span class="token punctuation">=</span><span class="token attr-value">15</span></code></pre><h2 id="5ã€Profile"><a href="#5ã€Profile" class="headerlink" title="5ã€Profile"></a>5ã€Profile</h2><h3 id="1ã€å¤šProfileæ–‡ä»¶"><a href="#1ã€å¤šProfileæ–‡ä»¶" class="headerlink" title="1ã€å¤šProfileæ–‡ä»¶"></a>1ã€å¤šProfileæ–‡ä»¶</h3><p>æˆ‘ä»¬åœ¨ä¸»é…ç½®æ–‡ä»¶ç¼–å†™çš„æ—¶å€™ï¼Œæ–‡ä»¶åå¯ä»¥æ˜¯   application-{profile}.properties/yml</p><p>é»˜è®¤ä½¿ç”¨application.propertiesçš„é…ç½®ï¼›</p><h3 id="2ã€ymlæ”¯æŒå¤šæ–‡æ¡£å—æ–¹å¼"><a href="#2ã€ymlæ”¯æŒå¤šæ–‡æ¡£å—æ–¹å¼" class="headerlink" title="2ã€ymlæ”¯æŒå¤šæ–‡æ¡£å—æ–¹å¼"></a>2ã€ymlæ”¯æŒå¤šæ–‡æ¡£å—æ–¹å¼</h3><pre class=" language-yml"><code class="language-yml">server:  port: 8081spring:  profiles:    active: prod---server:  port: 8083spring:  profiles: dev---server:  port: 8084spring:  profiles: prod  #æŒ‡å®šå±äºå“ªä¸ªç¯å¢ƒ</code></pre><h3 id="3ã€æ¿€æ´»æŒ‡å®šprofile"><a href="#3ã€æ¿€æ´»æŒ‡å®šprofile" class="headerlink" title="3ã€æ¿€æ´»æŒ‡å®šprofile"></a>3ã€æ¿€æ´»æŒ‡å®šprofile</h3><p>â€‹    1ã€åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®š  spring.profiles.active=dev</p><p>â€‹    2ã€å‘½ä»¤è¡Œï¼š</p><p>â€‹        java -jar spring-boot-02-config-0.0.1-SNAPSHOT.jar â€“spring.profiles.active=devï¼›</p><p>â€‹        å¯ä»¥ç›´æ¥åœ¨æµ‹è¯•çš„æ—¶å€™ï¼Œé…ç½®ä¼ å…¥å‘½ä»¤è¡Œå‚æ•°</p><p>â€‹    3ã€è™šæ‹Ÿæœºå‚æ•°ï¼›</p><p>â€‹        -Dspring.profiles.active=dev</p><h2 id="6ã€é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®"><a href="#6ã€é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®" class="headerlink" title="6ã€é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®"></a>6ã€é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®</h2><p>springboot å¯åŠ¨ä¼šæ‰«æä»¥ä¸‹ä½ç½®çš„application.propertiesæˆ–è€…application.ymlæ–‡ä»¶ä½œä¸ºSpring bootçš„é»˜è®¤é…ç½®æ–‡ä»¶</p><p>â€“file:./config/</p><p>â€“file:./</p><p>â€“classpath:/config/</p><p>â€“classpath:/</p><p>ä¼˜å…ˆçº§ç”±é«˜åˆ°åº•ï¼Œé«˜ä¼˜å…ˆçº§çš„é…ç½®ä¼šè¦†ç›–ä½ä¼˜å…ˆçº§çš„é…ç½®ï¼›</p><p>SpringBootä¼šä»è¿™å››ä¸ªä½ç½®å…¨éƒ¨åŠ è½½ä¸»é…ç½®æ–‡ä»¶ï¼›<strong>äº’è¡¥é…ç½®</strong>ï¼›</p><p>==æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡spring.config.locationæ¥æ”¹å˜é»˜è®¤çš„é…ç½®æ–‡ä»¶ä½ç½®==</p><p><strong>é¡¹ç›®æ‰“åŒ…å¥½ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ï¼Œå¯åŠ¨é¡¹ç›®çš„æ—¶å€™æ¥æŒ‡å®šé…ç½®æ–‡ä»¶çš„æ–°ä½ç½®ï¼›æŒ‡å®šé…ç½®æ–‡ä»¶å’Œé»˜è®¤åŠ è½½çš„è¿™äº›é…ç½®æ–‡ä»¶å…±åŒèµ·ä½œç”¨å½¢æˆäº’è¡¥é…ç½®ï¼›</strong></p><p>java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar â€“spring.config.location=G:/application.properties</p><h2 id="7ã€å¤–éƒ¨é…ç½®åŠ è½½é¡ºåº"><a href="#7ã€å¤–éƒ¨é…ç½®åŠ è½½é¡ºåº" class="headerlink" title="7ã€å¤–éƒ¨é…ç½®åŠ è½½é¡ºåº"></a>7ã€å¤–éƒ¨é…ç½®åŠ è½½é¡ºåº</h2><p><strong>==SpringBootä¹Ÿå¯ä»¥ä»ä»¥ä¸‹ä½ç½®åŠ è½½é…ç½®ï¼› ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼›é«˜ä¼˜å…ˆçº§çš„é…ç½®è¦†ç›–ä½ä¼˜å…ˆçº§çš„é…ç½®ï¼Œæ‰€æœ‰çš„é…ç½®ä¼šå½¢æˆäº’è¡¥é…ç½®==</strong></p><p><strong>1.å‘½ä»¤è¡Œå‚æ•°</strong></p><p>æ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸Šè¿›è¡ŒæŒ‡å®š</p><p>java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar â€“server.port=8087  â€“server.context-path=/abc</p><p>å¤šä¸ªé…ç½®ç”¨ç©ºæ ¼åˆ†å¼€ï¼› â€“é…ç½®é¡¹=å€¼</p><p>2.æ¥è‡ªjava:comp/envçš„JNDIå±æ€§</p><p>3.Javaç³»ç»Ÿå±æ€§ï¼ˆSystem.getProperties()ï¼‰</p><p>4.æ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡</p><p>5.RandomValuePropertySourceé…ç½®çš„random.*å±æ€§å€¼</p><p>==<strong>ç”±jaråŒ…å¤–å‘jaråŒ…å†…è¿›è¡Œå¯»æ‰¾ï¼›</strong>==</p><p>==<strong>ä¼˜å…ˆåŠ è½½å¸¦profile</strong>==</p><p><strong>6.jaråŒ…å¤–éƒ¨çš„application-{profile}.propertiesæˆ–application.yml(å¸¦spring.profile)é…ç½®æ–‡ä»¶</strong></p><p><strong>7.jaråŒ…å†…éƒ¨çš„application-{profile}.propertiesæˆ–application.yml(å¸¦spring.profile)é…ç½®æ–‡ä»¶</strong></p><p>==<strong>å†æ¥åŠ è½½ä¸å¸¦profile</strong>==</p><p><strong>8.jaråŒ…å¤–éƒ¨çš„application.propertiesæˆ–application.yml(ä¸å¸¦spring.profile)é…ç½®æ–‡ä»¶</strong></p><p><strong>9.jaråŒ…å†…éƒ¨çš„application.propertiesæˆ–application.yml(ä¸å¸¦spring.profile)é…ç½®æ–‡ä»¶</strong></p><p>10.@Configurationæ³¨è§£ç±»ä¸Šçš„@PropertySource</p><p>11.é€šè¿‡SpringApplication.setDefaultPropertiesæŒ‡å®šçš„é»˜è®¤å±æ€§</p><h2 id="8ã€è‡ªåŠ¨é…ç½®åŸç†"><a href="#8ã€è‡ªåŠ¨é…ç½®åŸç†" class="headerlink" title="8ã€è‡ªåŠ¨é…ç½®åŸç†"></a>8ã€è‡ªåŠ¨é…ç½®åŸç†</h2><p>é…ç½®æ–‡ä»¶åˆ°åº•èƒ½å†™ä»€ä¹ˆï¼Ÿæ€ä¹ˆå†™ï¼Ÿè‡ªåŠ¨é…ç½®åŸç†ï¼›</p><p><a href="https://docs.spring.io/spring-boot/docs/1.5.9.RELEASE/reference/htmlsingle/#common-application-properties">é…ç½®æ–‡ä»¶èƒ½é…ç½®çš„å±æ€§å‚ç…§</a></p><h3 id="1ã€è‡ªåŠ¨é…ç½®åŸç†ï¼š"><a href="#1ã€è‡ªåŠ¨é…ç½®åŸç†ï¼š" class="headerlink" title="1ã€è‡ªåŠ¨é…ç½®åŸç†ï¼š"></a>1ã€<strong>è‡ªåŠ¨é…ç½®åŸç†ï¼š</strong></h3><p>1ï¼‰ã€SpringBootå¯åŠ¨çš„æ—¶å€™åŠ è½½ä¸»é…ç½®ç±»ï¼Œå¼€å¯äº†è‡ªåŠ¨é…ç½®åŠŸèƒ½ ==@EnableAutoConfiguration==</p><p><strong>2ï¼‰ã€@EnableAutoConfiguration ä½œç”¨ï¼š</strong></p><ul><li><p>åˆ©ç”¨EnableAutoConfigurationImportSelectorç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€äº›ç»„ä»¶ï¼Ÿ</p></li><li><p>å¯ä»¥æŸ¥çœ‹selectImports()æ–¹æ³•çš„å†…å®¹ï¼›</p></li><li><p>List<string> configurations = getCandidateConfigurations(annotationMetadata,      attributes);è·å–å€™é€‰çš„é…ç½®</string></p><ul><li><pre class=" language-java"><code class="language-java">SpringFactoriesLoader<span class="token punctuation">.</span><span class="token function">loadFactoryNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ‰«ææ‰€æœ‰jaråŒ…ç±»è·¯å¾„ä¸‹  META<span class="token operator">-</span>INF<span class="token operator">/</span>spring<span class="token punctuation">.</span>factoriesæŠŠæ‰«æåˆ°çš„è¿™äº›æ–‡ä»¶çš„å†…å®¹åŒ…è£…æˆpropertieså¯¹è±¡ä»propertiesä¸­è·å–åˆ°EnableAutoConfiguration<span class="token punctuation">.</span><span class="token keyword">class</span>ç±»ï¼ˆç±»åï¼‰å¯¹åº”çš„å€¼ï¼Œç„¶åæŠŠä»–ä»¬æ·»åŠ åœ¨å®¹å™¨ä¸­</code></pre></li></ul></li></ul><p><strong>==å°† ç±»è·¯å¾„ä¸‹  META-INF/spring.factories é‡Œé¢é…ç½®çš„æ‰€æœ‰EnableAutoConfigurationçš„å€¼åŠ å…¥åˆ°äº†å®¹å™¨ä¸­ï¼›==</strong></p><pre class=" language-properties"><code class="language-properties"><span class="token comment" spellcheck="true"># Auto Configure</span><span class="token attr-name">org.springframework.boot.autoconfigure.EnableAutoConfiguration</span><span class="token punctuation">=</span><span class="token attr-value">\org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration,\org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration,\org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration,\...</span></code></pre><p>æ¯ä¸€ä¸ªè¿™æ ·çš„  xxxAutoConfigurationç±»éƒ½æ˜¯å®¹å™¨ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œéƒ½åŠ å…¥åˆ°å®¹å™¨ä¸­ï¼›ç”¨ä»–ä»¬æ¥åšè‡ªåŠ¨é…ç½®ï¼›</p><p>3ï¼‰ã€æ¯ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»è¿›è¡Œè‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼›</p><p>4ï¼‰ã€ä»¥<strong>HttpEncodingAutoConfigurationï¼ˆHttpç¼–ç è‡ªåŠ¨é…ç½®ï¼‰</strong>ä¸ºä¾‹è§£é‡Šè‡ªåŠ¨é…ç½®åŸç†ï¼›</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>   <span class="token comment" spellcheck="true">//è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œä»¥å‰ç¼–å†™çš„é…ç½®æ–‡ä»¶ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶</span><span class="token annotation punctuation">@EnableConfigurationProperties</span><span class="token punctuation">(</span>HttpEncodingProperties<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//å¯åŠ¨æŒ‡å®šç±»çš„ConfigurationPropertiesåŠŸèƒ½ï¼›å°†é…ç½®æ–‡ä»¶ä¸­å¯¹åº”çš„å€¼å’ŒHttpEncodingPropertiesç»‘å®šèµ·æ¥ï¼›å¹¶æŠŠHttpEncodingPropertiesåŠ å…¥åˆ°iocå®¹å™¨ä¸­</span><span class="token annotation punctuation">@ConditionalOnWebApplication</span> <span class="token comment" spellcheck="true">//Springåº•å±‚@Conditionalæ³¨è§£ï¼ˆSpringæ³¨è§£ç‰ˆï¼‰ï¼Œæ ¹æ®ä¸åŒçš„æ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³æŒ‡å®šçš„æ¡ä»¶ï¼Œæ•´ä¸ªé…ç½®ç±»é‡Œé¢çš„é…ç½®å°±ä¼šç”Ÿæ•ˆï¼›    åˆ¤æ–­å½“å‰åº”ç”¨æ˜¯å¦æ˜¯webåº”ç”¨ï¼Œå¦‚æœæ˜¯ï¼Œå½“å‰é…ç½®ç±»ç”Ÿæ•ˆ</span><span class="token annotation punctuation">@ConditionalOnClass</span><span class="token punctuation">(</span>CharacterEncodingFilter<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//åˆ¤æ–­å½“å‰é¡¹ç›®æœ‰æ²¡æœ‰è¿™ä¸ªç±»CharacterEncodingFilterï¼›SpringMVCä¸­è¿›è¡Œä¹±ç è§£å†³çš„è¿‡æ»¤å™¨ï¼›</span><span class="token annotation punctuation">@ConditionalOnProperty</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"spring.http.encoding"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"enabled"</span><span class="token punctuation">,</span> matchIfMissing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//åˆ¤æ–­é…ç½®æ–‡ä»¶ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé…ç½®  spring.http.encoding.enabledï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ¤æ–­ä¹Ÿæ˜¯æˆç«‹çš„</span><span class="token comment" spellcheck="true">//å³ä½¿æˆ‘ä»¬é…ç½®æ–‡ä»¶ä¸­ä¸é…ç½®pring.http.encoding.enabled=trueï¼Œä¹Ÿæ˜¯é»˜è®¤ç”Ÿæ•ˆçš„ï¼›</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpEncodingAutoConfiguration</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//ä»–å·²ç»å’ŒSpringBootçš„é…ç½®æ–‡ä»¶æ˜ å°„äº†</span>      <span class="token keyword">private</span> <span class="token keyword">final</span> HttpEncodingProperties properties<span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//åªæœ‰ä¸€ä¸ªæœ‰å‚æ„é€ å™¨çš„æƒ…å†µä¸‹ï¼Œå‚æ•°çš„å€¼å°±ä¼šä»å®¹å™¨ä¸­æ‹¿</span>      <span class="token keyword">public</span> <span class="token function">HttpEncodingAutoConfiguration</span><span class="token punctuation">(</span>HttpEncodingProperties properties<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>properties <span class="token operator">=</span> properties<span class="token punctuation">;</span>    <span class="token punctuation">}</span>      <span class="token annotation punctuation">@Bean</span>   <span class="token comment" spellcheck="true">//ç»™å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶çš„æŸäº›å€¼éœ€è¦ä»propertiesä¸­è·å–</span>    <span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span>CharacterEncodingFilter<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//åˆ¤æ–­å®¹å™¨æ²¡æœ‰è¿™ä¸ªç»„ä»¶ï¼Ÿ</span>    <span class="token keyword">public</span> CharacterEncodingFilter <span class="token function">characterEncodingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        CharacterEncodingFilter filter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrderedCharacterEncodingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        filter<span class="token punctuation">.</span><span class="token function">setEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">getCharset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        filter<span class="token punctuation">.</span><span class="token function">setForceRequestEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">shouldForce</span><span class="token punctuation">(</span>Type<span class="token punctuation">.</span>REQUEST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        filter<span class="token punctuation">.</span><span class="token function">setForceResponseEncoding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">shouldForce</span><span class="token punctuation">(</span>Type<span class="token punctuation">.</span>RESPONSE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> filter<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>æ ¹æ®å½“å‰ä¸åŒçš„æ¡ä»¶åˆ¤æ–­ï¼Œå†³å®šè¿™ä¸ªé…ç½®ç±»æ˜¯å¦ç”Ÿæ•ˆï¼Ÿ</p><p>==ä¸€ä½†è¿™ä¸ªé…ç½®ç±»ç”Ÿæ•ˆï¼›è¿™ä¸ªé…ç½®ç±»å°±ä¼šç»™å®¹å™¨ä¸­æ·»åŠ å„ç§ç»„ä»¶ï¼›è¿™äº›ç»„ä»¶çš„å±æ€§æ˜¯ä»å¯¹åº”çš„propertiesç±»ä¸­è·å–çš„ï¼Œè¿™äº›ç±»é‡Œé¢çš„æ¯ä¸€ä¸ªå±æ€§åˆæ˜¯å’Œé…ç½®æ–‡ä»¶ç»‘å®šçš„ï¼›æœ¬èº«propertieså°±æœ‰å€¼ï¼Œå¦‚æœå¯¹å€¼ä¸æ»¡æ„ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®propertiesçš„å‰ç¼€åœ¨é…ç½®æ–‡ä»¶ä¸Šä¿®æ”¹å€¼==</p><p>5ï¼‰ã€æ‰€æœ‰åœ¨é…ç½®æ–‡ä»¶ä¸­èƒ½é…ç½®çš„å±æ€§éƒ½æ˜¯åœ¨xxxxPropertiesç±»ä¸­å°è£…ç€ï¼›é…ç½®æ–‡ä»¶èƒ½é…ç½®ä»€ä¹ˆå°±å¯ä»¥å‚ç…§æŸä¸ªåŠŸèƒ½å¯¹åº”çš„è¿™ä¸ªå±æ€§ç±»</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"spring.http.encoding"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//ä»é…ç½®æ–‡ä»¶ä¸­è·å–æŒ‡å®šçš„å€¼å’Œbeançš„å±æ€§è¿›è¡Œç»‘å®š</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpEncodingProperties</span> <span class="token punctuation">{</span>   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Charset DEFAULT_CHARSET <span class="token operator">=</span> Charset<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>ç²¾é«“ï¼š</strong></p><p>â€‹    <strong>1ï¼‰ã€SpringBootå¯åŠ¨ä¼šåŠ è½½å¤§é‡çš„è‡ªåŠ¨é…ç½®ç±»ï¼ˆä¼šæ ¹æ®åˆ¤æ–­æ˜¯å¦çœŸæ­£åŠ è½½ï¼‰</strong></p><p>â€‹    <strong>2ï¼‰ã€æˆ‘ä»¬çœ‹æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½æœ‰æ²¡æœ‰SpringBooté»˜è®¤å†™å¥½çš„è‡ªåŠ¨é…ç½®ç±»ï¼›</strong></p><p>â€‹    <strong>3ï¼‰ã€æˆ‘ä»¬å†æ¥çœ‹è¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»ä¸­åˆ°åº•é…ç½®äº†å“ªäº›ç»„ä»¶ï¼›ï¼ˆåªè¦æˆ‘ä»¬è¦ç”¨çš„ç»„ä»¶æœ‰ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†æ¥é…ç½®äº†ï¼‰</strong></p><p>â€‹    <strong>4ï¼‰ã€ç»™å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç±»æ·»åŠ ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šä»propertiesç±»ä¸­è·å–æŸäº›å±æ€§ã€‚æˆ‘ä»¬å°±å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè¿™äº›å±æ€§çš„å€¼ï¼›</strong>**</p><p>xxxxAutoConfigurartionï¼šè‡ªåŠ¨é…ç½®ç±»ï¼›</p><p>ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶</p><p>xxxxProperties:å°è£…é…ç½®æ–‡ä»¶ä¸­ç›¸å…³å±æ€§ï¼›</p><h3 id="2ã€ç»†èŠ‚"><a href="#2ã€ç»†èŠ‚" class="headerlink" title="2ã€ç»†èŠ‚"></a>2ã€ç»†èŠ‚</h3><h4 id="1ã€-Conditionalæ´¾ç”Ÿæ³¨è§£ï¼ˆSpringæ³¨è§£ç‰ˆåŸç”Ÿçš„-Conditionalä½œç”¨ï¼‰"><a href="#1ã€-Conditionalæ´¾ç”Ÿæ³¨è§£ï¼ˆSpringæ³¨è§£ç‰ˆåŸç”Ÿçš„-Conditionalä½œç”¨ï¼‰" class="headerlink" title="1ã€@Conditionalæ´¾ç”Ÿæ³¨è§£ï¼ˆSpringæ³¨è§£ç‰ˆåŸç”Ÿçš„@Conditionalä½œç”¨ï¼‰"></a>1ã€@Conditionalæ´¾ç”Ÿæ³¨è§£ï¼ˆSpringæ³¨è§£ç‰ˆåŸç”Ÿçš„@Conditionalä½œç”¨ï¼‰</h4><p>ä½œç”¨ï¼šå¿…é¡»æ˜¯@ConditionalæŒ‡å®šçš„æ¡ä»¶æˆç«‹ï¼Œæ‰ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ï¼Œé…ç½®é…é‡Œé¢çš„æ‰€æœ‰å†…å®¹æ‰ç”Ÿæ•ˆï¼›</p><table><thead><tr><th>@Conditionalæ‰©å±•æ³¨è§£</th><th>ä½œç”¨ï¼ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³å½“å‰æŒ‡å®šæ¡ä»¶ï¼‰</th></tr></thead><tbody><tr><td>@ConditionalOnJava</td><td>ç³»ç»Ÿçš„javaç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚</td></tr><tr><td>@ConditionalOnBean</td><td>å®¹å™¨ä¸­å­˜åœ¨æŒ‡å®šBeanï¼›</td></tr><tr><td>@ConditionalOnMissingBean</td><td>å®¹å™¨ä¸­ä¸å­˜åœ¨æŒ‡å®šBeanï¼›</td></tr><tr><td>@ConditionalOnExpression</td><td>æ»¡è¶³SpELè¡¨è¾¾å¼æŒ‡å®š</td></tr><tr><td>@ConditionalOnClass</td><td>ç³»ç»Ÿä¸­æœ‰æŒ‡å®šçš„ç±»</td></tr><tr><td>@ConditionalOnMissingClass</td><td>ç³»ç»Ÿä¸­æ²¡æœ‰æŒ‡å®šçš„ç±»</td></tr><tr><td>@ConditionalOnSingleCandidate</td><td>å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªæŒ‡å®šçš„Beanï¼Œæˆ–è€…è¿™ä¸ªBeanæ˜¯é¦–é€‰Bean</td></tr><tr><td>@ConditionalOnProperty</td><td>ç³»ç»Ÿä¸­æŒ‡å®šçš„å±æ€§æ˜¯å¦æœ‰æŒ‡å®šçš„å€¼</td></tr><tr><td>@ConditionalOnResource</td><td>ç±»è·¯å¾„ä¸‹æ˜¯å¦å­˜åœ¨æŒ‡å®šèµ„æºæ–‡ä»¶</td></tr><tr><td>@ConditionalOnWebApplication</td><td>å½“å‰æ˜¯webç¯å¢ƒ</td></tr><tr><td>@ConditionalOnNotWebApplication</td><td>å½“å‰ä¸æ˜¯webç¯å¢ƒ</td></tr><tr><td>@ConditionalOnJndi</td><td>JNDIå­˜åœ¨æŒ‡å®šé¡¹</td></tr></tbody></table><p><strong>è‡ªåŠ¨é…ç½®ç±»å¿…é¡»åœ¨ä¸€å®šçš„æ¡ä»¶ä¸‹æ‰èƒ½ç”Ÿæ•ˆï¼›</strong></p><p>æˆ‘ä»¬æ€ä¹ˆçŸ¥é“å“ªäº›è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆï¼›</p><p>**==æˆ‘ä»¬å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­é€šè¿‡å¯ç”¨  debug=trueå±æ€§ï¼›æ¥è®©æ§åˆ¶å°æ‰“å°è‡ªåŠ¨é…ç½®æŠ¥å‘Š==**ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„çŸ¥é“å“ªäº›è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆï¼›</p><pre class=" language-java"><code class="language-java"><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>AUTO<span class="token operator">-</span>CONFIGURATION REPORT<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>Positive matches<span class="token operator">:</span>ï¼ˆè‡ªåŠ¨é…ç½®ç±»å¯ç”¨çš„ï¼‰<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>   DispatcherServletAutoConfiguration matched<span class="token operator">:</span>      <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnClass</span> found required <span class="token keyword">class</span> <span class="token string">'org.springframework.web.servlet.DispatcherServlet'</span><span class="token punctuation">;</span> <span class="token annotation punctuation">@ConditionalOnMissingClass</span> did not find unwanted <span class="token keyword">class</span> <span class="token punctuation">(</span>OnClassCondition<span class="token punctuation">)</span>      <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnWebApplication</span> <span class="token punctuation">(</span>required<span class="token punctuation">)</span> found <span class="token function">StandardServletEnvironment</span> <span class="token punctuation">(</span>OnWebApplicationCondition<span class="token punctuation">)</span>            Negative matches<span class="token operator">:</span>ï¼ˆæ²¡æœ‰å¯åŠ¨ï¼Œæ²¡æœ‰åŒ¹é…æˆåŠŸçš„è‡ªåŠ¨é…ç½®ç±»ï¼‰<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>   ActiveMQAutoConfiguration<span class="token operator">:</span>      Did not match<span class="token operator">:</span>         <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnClass</span> did not find required classes <span class="token string">'javax.jms.ConnectionFactory'</span><span class="token punctuation">,</span> <span class="token string">'org.apache.activemq.ActiveMQConnectionFactory'</span> <span class="token punctuation">(</span>OnClassCondition<span class="token punctuation">)</span>   AopAutoConfiguration<span class="token operator">:</span>      Did not match<span class="token operator">:</span>         <span class="token operator">-</span> <span class="token annotation punctuation">@ConditionalOnClass</span> did not find required classes <span class="token string">'org.aspectj.lang.annotation.Aspect'</span><span class="token punctuation">,</span> <span class="token string">'org.aspectj.lang.reflect.Advice'</span> <span class="token punctuation">(</span>OnClassCondition<span class="token punctuation">)</span>        </code></pre>]]></content>
      
      
      <categories>
          
          <category> Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Bootå…¥é—¨</title>
      <link href="/2020/06/23/springboot/spring-boot-ru-men/"/>
      <url>/2020/06/23/springboot/spring-boot-ru-men/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Bootå…¥é—¨"><a href="#Spring-Bootå…¥é—¨" class="headerlink" title="Spring Bootå…¥é—¨"></a>Spring Bootå…¥é—¨</h1><h2 id="1ã€Spring-Boot-ç®€ä»‹"><a href="#1ã€Spring-Boot-ç®€ä»‹" class="headerlink" title="1ã€Spring Boot ç®€ä»‹"></a>1ã€Spring Boot ç®€ä»‹</h2><blockquote><p>ç®€åŒ–Springåº”ç”¨å¼€å‘çš„ä¸€ä¸ªæ¡†æ¶ï¼›</p><p>æ•´ä¸ªSpringæŠ€æœ¯æ ˆçš„ä¸€ä¸ªå¤§æ•´åˆï¼›</p><p>J2EEå¼€å‘çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼›</p></blockquote><h2 id="2ã€å¾®æœåŠ¡"><a href="#2ã€å¾®æœåŠ¡" class="headerlink" title="2ã€å¾®æœåŠ¡"></a>2ã€å¾®æœåŠ¡</h2><p>2014ï¼Œmartin fowler</p><p>å¾®æœåŠ¡ï¼šæ¶æ„é£æ ¼ï¼ˆæœåŠ¡å¾®åŒ–ï¼‰</p><p>ä¸€ä¸ªåº”ç”¨åº”è¯¥æ˜¯ä¸€ç»„å°å‹æœåŠ¡ï¼›å¯ä»¥é€šè¿‡HTTPçš„æ–¹å¼è¿›è¡Œäº’é€šï¼›</p><p>å•ä½“åº”ç”¨ï¼šALL IN ONE</p><p>å¾®æœåŠ¡ï¼šæ¯ä¸€ä¸ªåŠŸèƒ½å…ƒç´ æœ€ç»ˆéƒ½æ˜¯ä¸€ä¸ªå¯ç‹¬ç«‹æ›¿æ¢å’Œç‹¬ç«‹å‡çº§çš„è½¯ä»¶å•å…ƒï¼›</p><h2 id="3ã€ç¯å¢ƒå‡†å¤‡"><a href="#3ã€ç¯å¢ƒå‡†å¤‡" class="headerlink" title="3ã€ç¯å¢ƒå‡†å¤‡"></a>3ã€ç¯å¢ƒå‡†å¤‡</h2><p>ç¯å¢ƒçº¦æŸ</p><p>â€“jdk1.9ï¼šSpring Boot æ¨èjdk1.7åŠä»¥ä¸Šï¼›java version â€œ9.0.4â€</p><p>â€“maven3.xï¼šmaven 3.3ä»¥ä¸Šç‰ˆæœ¬ï¼›Apache Maven 3.6.3</p><p>â€“IntelliJIDEA2019ï¼šIntelliJ IDEA 2019.3 x64</p><p>â€“SpringBoot 1.5.9.RELEASEï¼š1.5.9ï¼›</p><p>ç»Ÿä¸€ç¯å¢ƒï¼›</p><h3 id="1ã€MAVENè®¾ç½®"><a href="#1ã€MAVENè®¾ç½®" class="headerlink" title="1ã€MAVENè®¾ç½®"></a>1ã€MAVENè®¾ç½®</h3><p>ç»™maven çš„settings.xmlé…ç½®æ–‡ä»¶çš„profilesæ ‡ç­¾æ·»åŠ </p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>jdk-1.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activation</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeByDefault</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeByDefault</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdk</span><span class="token punctuation">></span></span>1.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdk</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activation</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">></span></span>1.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">></span></span>1.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.compilerVersion</span><span class="token punctuation">></span></span>1.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.compilerVersion</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">></span></span></code></pre><h3 id="2ã€IDEAè®¾ç½®"><a href="#2ã€IDEAè®¾ç½®" class="headerlink" title="2ã€IDEAè®¾ç½®"></a>2ã€IDEAè®¾ç½®</h3><p>æ•´åˆmavenè¿›æ¥</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/springboot1.png" alt="sp1"></p><h2 id="4ã€Spring-Boot-HelloWorld"><a href="#4ã€Spring-Boot-HelloWorld" class="headerlink" title="4ã€Spring Boot HelloWorld"></a>4ã€Spring Boot HelloWorld</h2><p>éœ€æ±‚ï¼šæµè§ˆå™¨å‘é€helloè¯·æ±‚ï¼ŒæœåŠ¡å™¨æ¥å—è¯·æ±‚å¹¶å¤„ç†ï¼Œå“åº”Hello Worldå­—ç¬¦ä¸²ï¼›</p><h3 id="1ã€åˆ›å»ºä¸€ä¸ªmavenå·¥ç¨‹ï¼›ï¼ˆjarï¼‰"><a href="#1ã€åˆ›å»ºä¸€ä¸ªmavenå·¥ç¨‹ï¼›ï¼ˆjarï¼‰" class="headerlink" title="1ã€åˆ›å»ºä¸€ä¸ªmavenå·¥ç¨‹ï¼›ï¼ˆjarï¼‰"></a>1ã€åˆ›å»ºä¸€ä¸ªmavenå·¥ç¨‹ï¼›ï¼ˆjarï¼‰</h3><h3 id="2ã€å¯¼å…¥spring-bootç›¸å…³çš„ä¾èµ–"><a href="#2ã€å¯¼å…¥spring-bootç›¸å…³çš„ä¾èµ–" class="headerlink" title="2ã€å¯¼å…¥spring bootç›¸å…³çš„ä¾èµ–"></a>2ã€å¯¼å…¥spring bootç›¸å…³çš„ä¾èµ–</h3><pre class=" language-xml"><code class="language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.5.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><h3 id="3ã€ç¼–å†™ä¸€ä¸ªä¸»ç¨‹åºï¼›å¯åŠ¨Spring-Bootåº”ç”¨"><a href="#3ã€ç¼–å†™ä¸€ä¸ªä¸»ç¨‹åºï¼›å¯åŠ¨Spring-Bootåº”ç”¨" class="headerlink" title="3ã€ç¼–å†™ä¸€ä¸ªä¸»ç¨‹åºï¼›å¯åŠ¨Spring Bootåº”ç”¨"></a>3ã€ç¼–å†™ä¸€ä¸ªä¸»ç¨‹åºï¼›å¯åŠ¨Spring Bootåº”ç”¨</h3><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** *  @SpringBootApplication æ¥æ ‡æ³¨ä¸€ä¸ªä¸»ç¨‹åºç±»ï¼Œè¯´æ˜è¿™æ˜¯ä¸€ä¸ªSpring Bootåº”ç”¨ */</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorldMainApplication</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// Springåº”ç”¨å¯åŠ¨èµ·æ¥</span>        SpringApplication<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>HelloWorldMainApplication<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="4ã€ç¼–å†™ç›¸å…³çš„Controllerã€Service"><a href="#4ã€ç¼–å†™ç›¸å…³çš„Controllerã€Service" class="headerlink" title="4ã€ç¼–å†™ç›¸å…³çš„Controllerã€Service"></a>4ã€ç¼–å†™ç›¸å…³çš„Controllerã€Service</h3><p>åœ¨ä¸»å…¥å£çš„åŒçº§ç›®å½•ä¸‹åˆ›å»ºåŒ…</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å°†æ•°æ®ç›´æ¥è¿”å›ç»™æœåŠ¡å™¨</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"Hello World!"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="5ã€è¿è¡Œä¸»ç¨‹åºæµ‹è¯•"><a href="#5ã€è¿è¡Œä¸»ç¨‹åºæµ‹è¯•" class="headerlink" title="5ã€è¿è¡Œä¸»ç¨‹åºæµ‹è¯•"></a>5ã€è¿è¡Œä¸»ç¨‹åºæµ‹è¯•</h3><p>è¿è¡Œmainæ–¹æ³•ï¼Œåœ¨ç½‘é¡µä¸Šè®¿é—®localhost:8080//hello</p><h3 id="6ã€ç®€åŒ–éƒ¨ç½²"><a href="#6ã€ç®€åŒ–éƒ¨ç½²" class="headerlink" title="6ã€ç®€åŒ–éƒ¨ç½²"></a>6ã€ç®€åŒ–éƒ¨ç½²</h3><pre class=" language-xml"><code class="language-xml"> <span class="token comment" spellcheck="true">&lt;!-- è¿™ä¸ª**æ’ä»¶**ï¼Œå¯ä»¥å°†åº”ç”¨æ‰“åŒ…æˆä¸€ä¸ªå¯æ‰§è¡Œçš„jaråŒ…ï¼›--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span></code></pre><p>å°†è¿™ä¸ªåº”ç”¨æ‰“æˆjaråŒ…ï¼Œç›´æ¥åœ¨cmdå‘½ä»¤è¡Œä½¿ç”¨<code>java -jar åŒ…å</code> çš„å‘½ä»¤è¿›è¡Œæ‰§è¡Œï¼›</p><h2 id="5ã€Hello-Worldæ¢ç©¶ï¼ˆåº•å±‚åˆ†æï¼‰"><a href="#5ã€Hello-Worldæ¢ç©¶ï¼ˆåº•å±‚åˆ†æï¼‰" class="headerlink" title="5ã€Hello Worldæ¢ç©¶ï¼ˆåº•å±‚åˆ†æï¼‰"></a>5ã€Hello Worldæ¢ç©¶ï¼ˆåº•å±‚åˆ†æï¼‰</h2><h3 id="1ã€POMæ–‡ä»¶"><a href="#1ã€POMæ–‡ä»¶" class="headerlink" title="1ã€POMæ–‡ä»¶"></a>1ã€POMæ–‡ä»¶</h3><h4 id="1ã€çˆ¶é¡¹ç›®-Spring-Bootçš„ç‰ˆæœ¬ä»²è£ä¸­å¿ƒ"><a href="#1ã€çˆ¶é¡¹ç›®-Spring-Bootçš„ç‰ˆæœ¬ä»²è£ä¸­å¿ƒ" class="headerlink" title="1ã€çˆ¶é¡¹ç›®(Spring Bootçš„ç‰ˆæœ¬ä»²è£ä¸­å¿ƒ)"></a>1ã€çˆ¶é¡¹ç›®(Spring Bootçš„ç‰ˆæœ¬ä»²è£ä¸­å¿ƒ)</h4><p>ä½œç”¨ï¼šä»¥åæˆ‘ä»¬å¯¼å…¥ä¾èµ–é»˜è®¤æ˜¯ä¸éœ€è¦å†™ç‰ˆæœ¬ï¼›ï¼ˆæ²¡æœ‰åœ¨dependenciesé‡Œé¢ç®¡ç†çš„ä¾èµ–è‡ªç„¶éœ€è¦å£°æ˜ç‰ˆæœ¬å·ï¼‰</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.5.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>ä»–çš„çˆ¶é¡¹ç›®æ˜¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.5.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">></span></span>../../spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>relativePath</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>ä»–æ¥çœŸæ­£ç®¡ç†Spring Bootåº”ç”¨é‡Œé¢çš„æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬ï¼›</code></pre><h4 id="2ã€å¯åŠ¨å™¨"><a href="#2ã€å¯åŠ¨å™¨" class="headerlink" title="2ã€å¯åŠ¨å™¨"></a>2ã€å¯åŠ¨å™¨</h4><p>ä½œç”¨ï¼šSpring Bootå°†æ‰€æœ‰çš„åŠŸèƒ½åœºæ™¯éƒ½æŠ½å–å‡ºæ¥ï¼Œåšæˆä¸€ä¸ªä¸ªçš„startersï¼ˆå¯åŠ¨å™¨ï¼‰ï¼Œåªéœ€è¦åœ¨é¡¹ç›®é‡Œé¢å¼•å…¥è¿™äº›starterç›¸å…³åœºæ™¯çš„æ‰€æœ‰ä¾èµ–éƒ½ä¼šå¯¼å…¥è¿›æ¥ã€‚è¦ç”¨ä»€ä¹ˆåŠŸèƒ½å°±å¯¼å…¥ä»€ä¹ˆåœºæ™¯çš„å¯åŠ¨å™¨</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><p><strong>spring-boot-starter</strong>-==web==ï¼š</p><p>â€‹    spring-boot-starterï¼šspring-bootåœºæ™¯å¯åŠ¨å™¨ï¼›å¸®æˆ‘ä»¬å¯¼å…¥äº†webæ¨¡å—æ­£å¸¸è¿è¡Œæ‰€ä¾èµ–çš„ç»„ä»¶ï¼›</p><h3 id="2ã€ä¸»ç¨‹åºç±»ï¼Œä¸»å…¥å£ç±»"><a href="#2ã€ä¸»ç¨‹åºç±»ï¼Œä¸»å…¥å£ç±»" class="headerlink" title="2ã€ä¸»ç¨‹åºç±»ï¼Œä¸»å…¥å£ç±»"></a>2ã€ä¸»ç¨‹åºç±»ï¼Œä¸»å…¥å£ç±»</h3><p>@<strong>SpringBootApplication</strong>:    Spring Bootåº”ç”¨æ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šè¯´æ˜è¿™ä¸ªç±»æ˜¯SpringBootçš„ä¸»é…ç½®ç±»ï¼ŒSpringBootå°±åº”è¯¥è¿è¡Œè¿™ä¸ªç±»çš„mainæ–¹æ³•æ¥å¯åŠ¨SpringBootåº”ç”¨ï¼›</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** *  @SpringBootApplication æ¥æ ‡æ³¨ä¸€ä¸ªä¸»ç¨‹åºç±»ï¼Œè¯´æ˜è¿™æ˜¯ä¸€ä¸ªSpring Bootåº”ç”¨ */</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorldMainApplication</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// Springåº”ç”¨å¯åŠ¨èµ·æ¥</span>        SpringApplication<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>HelloWorldMainApplication<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>@<strong>SpringBootApplication</strong>:   å…¶ä¸­åŒ…å«çš„æœ€æ ¸å¿ƒçš„ä¸¤ä¸ªæ³¨è§£</p><pre><code>@SpringBootConfiguration@EnableAutoConfiguration</code></pre><p>@<strong>SpringBootConfiguration</strong>:Spring Bootçš„é…ç½®ç±»ï¼›</p><p>ä½œç”¨ï¼šæ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªSpring Bootçš„é…ç½®ç±»ï¼›</p><p>â€‹        @<strong>Configuration</strong>:é…ç½®ç±»ä¸Šæ¥æ ‡æ³¨è¿™ä¸ªæ³¨è§£ï¼›</p><p>â€‹            é…ç½®ç±» â€”â€“  é…ç½®æ–‡ä»¶ï¼›é…ç½®ç±»ä¹Ÿæ˜¯å®¹å™¨ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼›@Component</p><p>@<strong>EnableAutoConfiguration</strong>ï¼šå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼›</p><p>ä½œç”¨ï¼šä»¥å‰æˆ‘ä»¬éœ€è¦é…ç½®çš„ä¸œè¥¿ï¼ŒSpring Bootå¸®æˆ‘ä»¬è‡ªåŠ¨é…ç½®ï¼›@<strong>EnableAutoConfiguration</strong>å‘Šè¯‰SpringBootå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼›è¿™æ ·è‡ªåŠ¨é…ç½®æ‰èƒ½ç”Ÿæ•ˆï¼›</p><p>å®ç°åŸç†ï¼šå…ˆå°†åŒ…ä¸­çš„æ³¨è§£æ‰«æåˆ°springå®¹å™¨ä¸­ï¼Œå†å°†ä½¿ç”¨åˆ°çš„æ³¨è§£é…ç½®è‡ªåŠ¨é…ç½®åˆ°å®¹å™¨ä¸­ï¼Œä»è€Œå®ç°è‡ªåŠ¨é…ç½®</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@AutoConfigurationPackage</span><span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span>EnableAutoConfigurationImportSelector<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> @<span class="token keyword">interface</span> <span class="token class-name">EnableAutoConfiguration</span> <span class="token punctuation">{</span></code></pre><p>â€‹        @<strong>AutoConfigurationPackage</strong>ï¼šè‡ªåŠ¨é…ç½®åŒ…</p><p>â€‹        @<strong>Import</strong>(AutoConfigurationPackages.Registrar.class)ï¼š</p><p>â€‹        Springçš„åº•å±‚æ³¨è§£@Importï¼Œç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€ä¸ªç»„ä»¶ï¼›å¯¼å…¥çš„ç»„ä»¶ç”±AutoConfigurationPackages.Registrar.classï¼›</p><p>==å°†ä¸»é…ç½®ç±»ï¼ˆ@SpringBootApplicationæ ‡æ³¨çš„ç±»ï¼‰çš„æ‰€åœ¨åŒ…åŠä¸‹é¢æ‰€æœ‰å­åŒ…é‡Œé¢çš„æ‰€æœ‰ç»„ä»¶æ‰«æåˆ°Springå®¹å™¨ï¼›==</p><p>â€‹        <strong>EnableAutoConfigurationImportSelector</strong>ï¼šå¯¼å…¥å“ªäº›ç»„ä»¶çš„é€‰æ‹©å™¨ï¼›</p><p>â€‹        å°†æ‰€æœ‰éœ€è¦å¯¼å…¥çš„ç»„ä»¶ä»¥å…¨ç±»åçš„æ–¹å¼è¿”å›ï¼›è¿™äº›ç»„ä»¶å°±ä¼šè¢«æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼›</p><p>â€‹        ä¼šç»™å®¹å™¨ä¸­å¯¼å…¥éå¸¸å¤šçš„è‡ªåŠ¨é…ç½®ç±»ï¼ˆxxxAutoConfigurationï¼‰ï¼›å°±æ˜¯ç»™å®¹å™¨ä¸­å¯¼å…¥è¿™ä¸ªåœºæ™¯éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½è¿™äº›ç»„ä»¶ï¼›</p><p>==Spring Bootåœ¨å¯åŠ¨çš„æ—¶å€™ä»ç±»è·¯å¾„ä¸‹çš„META-INF/spring.factoriesä¸­è·å–EnableAutoConfigurationæŒ‡å®šçš„å…¨é™å®šç±»åï¼Œå°†è¿™äº›ç±»åä½œä¸ºè‡ªåŠ¨é…ç½®ç±»å¯¼å…¥åˆ°å®¹å™¨ä¸­ï¼Œè‡ªåŠ¨é…ç½®ç±»å°±ç”Ÿæ•ˆï¼Œå¸®æˆ‘ä»¬è¿›è¡Œè‡ªåŠ¨é…ç½®å·¥ä½œï¼›==</p><p>J2EEçš„æ•´ä½“æ•´åˆè§£å†³æ–¹æ¡ˆå’Œè‡ªåŠ¨é…ç½®éƒ½åœ¨spring-boot-autoconfigure-1.5.9.RELEASE.jarï¼›</p><h2 id="6ã€ä½¿ç”¨Spring-Initializerå¿«é€Ÿåˆ›å»ºSpring-Booté¡¹ç›®"><a href="#6ã€ä½¿ç”¨Spring-Initializerå¿«é€Ÿåˆ›å»ºSpring-Booté¡¹ç›®" class="headerlink" title="6ã€ä½¿ç”¨Spring Initializerå¿«é€Ÿåˆ›å»ºSpring Booté¡¹ç›®"></a>6ã€ä½¿ç”¨Spring Initializerå¿«é€Ÿåˆ›å»ºSpring Booté¡¹ç›®</h2><h3 id="1ã€IDEAï¼šä½¿ç”¨-Spring-Initializerå¿«é€Ÿåˆ›å»ºé¡¹ç›®"><a href="#1ã€IDEAï¼šä½¿ç”¨-Spring-Initializerå¿«é€Ÿåˆ›å»ºé¡¹ç›®" class="headerlink" title="1ã€IDEAï¼šä½¿ç”¨ Spring Initializerå¿«é€Ÿåˆ›å»ºé¡¹ç›®"></a>1ã€IDEAï¼šä½¿ç”¨ Spring Initializerå¿«é€Ÿåˆ›å»ºé¡¹ç›®</h3><p>é€‰æ‹©æˆ‘ä»¬éœ€è¦çš„æ¨¡å—ï¼›å‘å¯¼ä¼šè”ç½‘åˆ›å»ºSpring Booté¡¹ç›®ï¼›</p><p>é»˜è®¤ç”Ÿæˆçš„Spring Booté¡¹ç›®ï¼š</p><ul><li>ä¸»ç¨‹åºå·²ç»ç”Ÿæˆå¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æˆ‘ä»¬è‡ªå·±çš„é€»è¾‘</li><li>resourcesæ–‡ä»¶å¤¹ä¸­ç›®å½•ç»“æ„<ul><li>staticï¼šä¿å­˜æ‰€æœ‰çš„é™æ€èµ„æºï¼› js css  imagesï¼›</li><li>templatesï¼šä¿å­˜æ‰€æœ‰çš„æ¨¡æ¿é¡µé¢ï¼›ï¼ˆSpring Booté»˜è®¤jaråŒ…ä½¿ç”¨åµŒå…¥å¼çš„Tomcatï¼Œé»˜è®¤ä¸æ”¯æŒJSPé¡µé¢ï¼‰ï¼›å¯ä»¥ä½¿ç”¨æ¨¡æ¿å¼•æ“ï¼ˆfreemarkerã€thymeleafï¼‰ï¼›</li><li>application.propertiesï¼šSpring Bootåº”ç”¨çš„é…ç½®æ–‡ä»¶ï¼›å¯ä»¥ä¿®æ”¹ä¸€äº›é»˜è®¤è®¾ç½®ï¼Œå¦‚tomcatç«¯å£å·ï¼›</li></ul></li></ul><h3 id="2ã€STSä½¿ç”¨-Spring-Starter-Projectå¿«é€Ÿåˆ›å»ºé¡¹ç›®"><a href="#2ã€STSä½¿ç”¨-Spring-Starter-Projectå¿«é€Ÿåˆ›å»ºé¡¹ç›®" class="headerlink" title="2ã€STSä½¿ç”¨ Spring Starter Projectå¿«é€Ÿåˆ›å»ºé¡¹ç›®"></a>2ã€STSä½¿ç”¨ Spring Starter Projectå¿«é€Ÿåˆ›å»ºé¡¹ç›®</h3><hr><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>Spring Bootæ˜¯ä¸€ä¸ªä¾¿æ·æ­å»º åŸºäºspringå·¥ç¨‹çš„è„šæ‰‹æ¶ï¼›ä½œç”¨æ˜¯å¸®åŠ©å¼€å‘äººå‘˜å¿«é€Ÿæ­å»ºå¤§å‹çš„spring é¡¹ç›®ã€‚ç®€åŒ–å·¥ç¨‹çš„é…ç½®ï¼Œä¾èµ–ç®¡ç†ï¼›æˆ‘ä»¬åªéœ€è¦å¯¼å…¥ä¸åŒåŠŸèƒ½åœºæ™¯æ‰€å¯¹åº”çš„starterï¼ŒspringBootå°±ä¼šé€šè¿‡è‡ªåŠ¨é…ç½®å°†åœºæ™¯ä¸­æ‰€éœ€è¦çš„é…ç½®ç»„ä»¶éƒ½åŠ å…¥åˆ°springå®¹å™¨ä¸­ç®¡ç†ã€‚</p><h3 id="è‡ªåŠ¨é…ç½®"><a href="#è‡ªåŠ¨é…ç½®" class="headerlink" title="è‡ªåŠ¨é…ç½®"></a><strong>è‡ªåŠ¨é…ç½®</strong></h3><p><strong>beanæ³¨å†Œ</strong></p><ul><li>åŸºäºjavaä»£ç çš„beané…ç½®</li></ul><p>mybatis-spring-boot-starterè¿™ä¸ªåŒ…å¸®æˆ‘ä»¬å¼•å…¥äº†mybatis-spring-boot-autoconfigureå­åŒ…ï¼Œå…¶ä¸­è¿˜ä¼šæœ‰ä¸åŒçš„å­åŒ…ï¼ˆjdbcã€mongoï¼‰ï¼Œé‡Œé¢æœ‰å¯¹åº”çš„xxxAutoConfigurationé…ç½®ç±»ï¼Œå…¶ä¸­æœ‰@Configurationå’Œ@Beanï¼Œå°†å¯¹è±¡æ³¨å†Œspringå®¹å™¨ä¸­</p><ul><li>è‡ªåŠ¨é…ç½®æ¡ä»¶ä¾èµ–</li></ul><p>å¹¶ä¸æ˜¯æ‰€æœ‰çš„beanéƒ½ä¼šå®ä¾‹åŒ–æˆåŠŸå¹¶åŠ å…¥å®¹å™¨ä¸­çš„ï¼Œåœ¨xxxAutoConfigurationé…ç½®ç±»ä¸­æœ‰å¾ˆå¤š@Conditionalxxxçš„æ¡ä»¶æ³¨è§£ï¼Œåªæœ‰æ»¡è¶³è¿™äº›æ¡ä»¶æ‰ä¼šå®Œæˆæ³¨å†Œ</p><p><strong>beanå‚æ•°è£…é…</strong></p><ul><li>beanå‚æ•°è·å–ï¼ˆå¦‚ä½•ä»ymlã€propertiesé…ç½®æ–‡ä»¶ä¸­è·å–å±æ€§ï¼‰</li></ul><p>åœ¨xxxAutoConfigurationé…ç½®ç±»ä¸­ï¼Œæœ‰@EnableConfigurationPropertiesæ³¨è§£ï¼Œç”¨äºå¼€å¯@ConfigurationPropertiesçš„åŠŸèƒ½ï¼Œæ­¤æ³¨è§£å‚æ•°ä¸­åŒ…å«xxxProperties.classï¼Œå…¶ä¸­å°è£…äº†ç»„ä»¶çš„å„ä¸ªå‚æ•°ï¼Œä¸”ä½¿ç”¨äº†æ³¨è§£@ConfigurationPropertiesæŒ‡å®šäº†é…ç½®æ–‡ä»¶çš„å‰ç¼€ï¼Œç”¨äºæŠŠymlæˆ–è€…propertiesé…ç½®æ–‡ä»¶çš„å±æ€§å°è£…è¿›beanä¸­</p><p><strong>æ‰«æbean</strong></p><p>springbooté»˜è®¤æ‰«æå¯åŠ¨ç±»æ‰€åœ¨çš„åŒ…ä¸‹çš„ä¸»ç±»ä¸å­ç±»çš„æ‰€æœ‰ç»„ä»¶ï¼Œä½†å¹¶æ²¡æœ‰åŒ…æ‹¬ä¾èµ–åŒ…çš„ä¸­çš„ç±»ï¼Œé‚£ä¹ˆä¾èµ–åŒ…ä¸­çš„beanæ˜¯å¦‚ä½•è¢«å‘ç°å’ŒåŠ è½½çš„ï¼Ÿ</p><p>ä¸»è¦æ˜¯å› ä¸º@SpringBootApplicationï¼Œå…¶ä¸­æœ‰3ä¸ªæ³¨è§£ï¼Œ@SpringBootConfigurationï¼ˆé‡Œé¢è¿˜æ˜¯åº”ç”¨äº†@Configurationï¼‰è¡¨ç¤ºè‡ªå·±æ˜¯é…ç½®ç±»ï¼Œ@ComponentScanæ‰«ææ‰€åœ¨åŒ…ä¸‹çš„æ³¨è§£ï¼Œ@EnableAutoConfigurationå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼ˆä¸»è¦åŠ è½½ä¾èµ–åŒ…ä¸­çš„beanå’Œæ³¨å†Œï¼‰ï¼Œè§ä¸‹é¢è¯¦è§£</p><p>@EnableAutoConfigurationæ³¨è§£å¼•å…¥äº†@AutoConfigurationPackageå’Œ@Importè¿™ä¸¤ä¸ªæ³¨è§£ï¼Œ@AutoConfigurationPackageï¼ˆå°†æ ‡è®°çš„ç±»æ‰€åœ¨çš„åŒ…å˜ä¸ºè‡ªåŠ¨é…ç½®åŒ…ï¼‰çš„ä½œç”¨å°±æ˜¯å°†ä¸»é…ç½®ç±»ï¼ˆ@SpringBootApplicationæ ‡æ³¨çš„ç±»ï¼‰çš„æ‰€åœ¨åŒ…åŠä¸‹é¢å­åŒ…é‡Œé¢çš„æ‰€æœ‰ç»„ä»¶æ‰«æåˆ°Springå®¹å™¨ï¼Œ</p><p>@Import({AutoConfigurationImportSelector.class})å¯¼å…¥éœ€è¦è‡ªåŠ¨é…ç½®çš„ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶çš„ç”±æ¥:AutoConfigurationImportSelectorç±»ä¸­æœ‰ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä»æ‰€æœ‰çš„jaråŒ…ä¸­è¯»å–META-INF/xxx.factoriesæ–‡ä»¶ä¿¡æ¯ï¼Œå…¶ä¸­æœ‰å¾ˆå¤šxxxAutoConfigurationï¼Œå®ƒä»¬è¡¨ç¤ºä¸€ä¸ªä¸ªé…ç½®ç±»ï¼Œä½†åªä¼šæ ¹æ®xxxAutoConfigurationä¸Šçš„æ¡ä»¶åˆ¤æ–­æ˜¯å¦åŠ è½½ï¼Œä¹‹åé€šè¿‡åå°„æœºåˆ¶åˆ›å»ºå‡ºå¯¹åº”çš„beanå®ä¾‹ã€‚</p><p><strong>å°†æ‰«æçš„xxxAutoConfiguration(æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªbean)åŠ åˆ°å®¹å™¨ä¸­</strong></p><p>xxxAutoConfigurationåŠ å…¥å®¹å™¨ï¼Œè‡ªç„¶å…¶ä¸­çš„beanç»„ä»¶ä¹Ÿä¼šé€šè¿‡1ï¼Œ2æ­¥åŠ å…¥åˆ°å®¹å™¨</p><p>springbootä¸­ä½¿ç”¨äº†@Import æ–¹æ³•åŠ è½½Beanï¼š</p><p>@EnableAutoConfigurationæ³¨è§£ä¸­ä½¿ç”¨äº†@Import({AutoConfigurationImportSelector.class})æ³¨è§£ï¼ŒAutoConfigurationImportSelectoråº•å±‚æ¥å£çš„æ–¹æ³•è·å–æ¥è‡ªä¸Šä¸€æ­¥çš„æ–¹æ³•è·å–xxx.factoriesä¸­è¿”å›çš„å…¨ç±»åï¼Œå°†ç»„ä»¶åŠ å…¥springå®¹å™¨ä¸­</p><p><strong>æ€»ç»“</strong></p><p>1ã€@Configuration&amp;ä¸@Bean-&gt;åŸºäºjavaä»£ç çš„beané…ç½®</p><p>2ã€@Conditional-&gt;è®¾ç½®è‡ªåŠ¨é…ç½®æ¡ä»¶ä¾èµ–</p><p>3ã€@EnableConfigurationPropertiesä¸@ConfigurationProperties-&gt;beanå‚æ•°è£…é…ã€‚</p><p>4ã€@EnableAutoConfigurationã€@AutoConfigurationPackage ä¸@Import-&gt;å®ç°beanå‘ç°ä¸åŠ è½½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC</title>
      <link href="/2020/06/23/ssm-kuang-jia/springmvc/"/>
      <url>/2020/06/23/ssm-kuang-jia/springmvc/</url>
      
        <content type="html"><![CDATA[<h1 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h1><h2 id="ä¸‰å±‚æ¶æ„å’Œ-MVC"><a href="#ä¸‰å±‚æ¶æ„å’Œ-MVC" class="headerlink" title="ä¸‰å±‚æ¶æ„å’Œ MVC"></a>ä¸‰å±‚æ¶æ„å’Œ MVC</h2><ul><li>ä¸‰å±‚æ¶æ„ <ul><li>è¡¨ç°å±‚ï¼š  ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„webå±‚ã€‚å®ƒè´Ÿè´£æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå‘å®¢æˆ·ç«¯å“åº”ç»“æœï¼Œé€šå¸¸å®¢æˆ·ç«¯ä½¿ç”¨httpåè®®è¯·æ±‚ web å±‚ï¼Œweb éœ€è¦æ¥æ”¶ http è¯·æ±‚ï¼Œå®Œæˆ http å“åº”ã€‚  </li><li>ä¸šåŠ¡å±‚ï¼š  ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ service å±‚ã€‚å®ƒè´Ÿè´£ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œå’Œæˆ‘ä»¬å¼€å‘é¡¹ç›®çš„éœ€æ±‚æ¯æ¯ç›¸å…³ã€‚</li><li>æŒä¹…å±‚ï¼š  ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ˜¯å¸¸è¯´çš„ dao å±‚ã€‚è´Ÿè´£æ•°æ®æŒä¹…åŒ–ï¼ŒåŒ…æ‹¬æ•°æ®å±‚å³æ•°æ®åº“å’Œæ•°æ®è®¿é—®å±‚ã€‚</li></ul></li><li>MVC <ul><li>å…¨åæ˜¯ Model View Controllerï¼Œæ˜¯æ¨¡å‹(model)ï¼è§†å›¾(view)ï¼æ§åˆ¶å™¨(controller)çš„ç¼©å†™ï¼Œ æ˜¯ä¸€ç§ç”¨äºè®¾è®¡åˆ›å»º Web åº”ç”¨ç¨‹åºè¡¨ç°å±‚çš„æ¨¡å¼ã€‚</li><li>Modelï¼ˆæ¨¡å‹ï¼‰ï¼š   é€šå¸¸æŒ‡çš„å°±æ˜¯æˆ‘ä»¬çš„æ•°æ®æ¨¡å‹ã€‚ä½œç”¨ä¸€èˆ¬æƒ…å†µä¸‹ç”¨äºå°è£…æ•°æ®ã€‚ </li><li>Viewï¼ˆè§†å›¾ï¼‰ï¼š   é€šå¸¸æŒ‡çš„å°±æ˜¯æˆ‘ä»¬çš„ jsp æˆ–è€… htmlã€‚ä½œç”¨ä¸€èˆ¬å°±æ˜¯å±•ç¤ºæ•°æ®çš„ã€‚ </li><li>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼š   æ˜¯åº”ç”¨ç¨‹åºä¸­å¤„ç†ç”¨æˆ·äº¤äº’çš„éƒ¨åˆ†ã€‚ä½œç”¨ä¸€èˆ¬å°±æ˜¯å¤„ç†ç¨‹åºé€»è¾‘çš„ã€‚ </li></ul></li></ul><h2 id="SpringMVC-æ¦‚è¿°"><a href="#SpringMVC-æ¦‚è¿°" class="headerlink" title="SpringMVC æ¦‚è¿°"></a>SpringMVC æ¦‚è¿°</h2><ul><li>SpringMVC æ˜¯ä¸€ç§åŸºäº Java çš„å®ç° MVC è®¾è®¡æ¨¡å‹çš„è¯·æ±‚é©±åŠ¨ç±»å‹çš„è½»é‡çº§ Web è¡¨ç°å±‚æ¡†æ¶</li></ul><h2 id="SpringMVCçš„å…¥é—¨"><a href="#SpringMVCçš„å…¥é—¨" class="headerlink" title="SpringMVCçš„å…¥é—¨"></a>SpringMVCçš„å…¥é—¨</h2><p>éœ€æ±‚ï¼šç‚¹å‡»è¶…é“¾æ¥å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œè·³è½¬é¡µé¢</p><h3 id="æ­¥éª¤ï¼š"><a href="#æ­¥éª¤ï¼š" class="headerlink" title="æ­¥éª¤ï¼š"></a>æ­¥éª¤ï¼š</h3><ol><li><p>åˆ›å»ºmaven webå·¥ç¨‹ï¼Œå¯¼å…¥ä¾èµ–(iocï¼Œweb,webmvc,servletapi,jspapi)</p><pre class=" language-xml"><code class="language-xml">    <span class="token comment" spellcheck="true">&lt;!-- ç‰ˆæœ¬é”å®š --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring.version</span><span class="token punctuation">></span></span>5.0.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre></li><li><p>é…ç½®æ ¸å¿ƒçš„æ§åˆ¶å™¨ï¼ˆé…ç½®DispatcherServletï¼‰ </p><pre class=" language-xml"><code class="language-xml">åœ¨web.xmlé…ç½®æ–‡ä»¶<span class="token comment" spellcheck="true">&lt;!-- SpringMVCçš„æ ¸å¿ƒæ§åˆ¶å™¨ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>       <span class="token comment" spellcheck="true">&lt;!-- é…ç½®Servletçš„åˆå§‹åŒ–å‚æ•°ï¼Œè¯»å–springmvcçš„é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºspringå®¹å™¨ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>classpath:springmvc.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span>           <span class="token comment" spellcheck="true">&lt;!-- é…ç½®servletå¯åŠ¨æ—¶åŠ è½½å¯¹è±¡ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span></code></pre></li><li><p>ç¼–å†™springmvc.xmlçš„é…ç½®æ–‡ä»¶</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/mvc<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>        http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd        http://www.springframework.org/schema/mvc        http://www.springframework.org/schema/mvc/spring-mvc.xsd        http://www.springframework.org/schema/context        http://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token comment" spellcheck="true">&lt;!-- é…ç½®springåˆ›å»ºå®¹å™¨æ—¶è¦æ‰«æçš„åŒ… --></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span>          <span class="token comment" spellcheck="true">&lt;!-- é…ç½®è§†å›¾è§£æå™¨ --></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewResolver<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prefix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/WEB-INF/pages/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>suffix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.jsp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>          <span class="token comment" spellcheck="true">&lt;!-- é…ç½®springå¼€å¯æ³¨è§£mvcçš„æ”¯æŒ     --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre></li><li><p> ç¼–å†™index.jspå’ŒHelloControlleræ§åˆ¶å™¨ç±» </p></li></ol><pre class=" language-jsp"><code class="language-jsp"><body>            <h3>å…¥é—¨æ¡ˆä¾‹</h3>           <a href="${ pageContext.request.contextPath }/hello">å…¥é—¨æ¡ˆä¾‹</a></body></code></pre><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** æ§åˆ¶å™¨ */</span><span class="token annotation punctuation">@Controller</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>         <span class="token comment" spellcheck="true">/**         * æ¥æ”¶è¯·æ±‚             */</span>        <span class="token comment" spellcheck="true">//è¯·æ±‚æ˜ å°„</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>path<span class="token operator">=</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>        <span class="token keyword">public</span> String <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello SpringMVC!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token string">"success"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><ol start="5"><li><p>åœ¨WEB-INFç›®å½•ä¸‹åˆ›å»ºpagesæ–‡ä»¶å¤¹ï¼Œç¼–å†™success.jspçš„æˆåŠŸé¡µé¢</p><pre class=" language-jsp"><code class="language-jsp"><body>    <h3>å…¥é—¨æˆåŠŸï¼ï¼</h3></body></code></pre></li><li><p>å¯åŠ¨TomcatæœåŠ¡å™¨ï¼Œè¿›è¡Œæµ‹è¯•</p></li></ol><h3 id="æ‰§è¡Œè¿‡ç¨‹åˆ†æ"><a href="#æ‰§è¡Œè¿‡ç¨‹åˆ†æ" class="headerlink" title="æ‰§è¡Œè¿‡ç¨‹åˆ†æ"></a>æ‰§è¡Œè¿‡ç¨‹åˆ†æ</h3><h4 id="1-å…¥é—¨æ¡ˆä¾‹çš„æ‰§è¡Œæµç¨‹"><a href="#1-å…¥é—¨æ¡ˆä¾‹çš„æ‰§è¡Œæµç¨‹" class="headerlink" title="1. å…¥é—¨æ¡ˆä¾‹çš„æ‰§è¡Œæµç¨‹"></a>1. å…¥é—¨æ¡ˆä¾‹çš„æ‰§è¡Œæµç¨‹</h4><ol><li>å½“å¯åŠ¨TomcatæœåŠ¡å™¨çš„æ—¶å€™ï¼Œå› ä¸ºé…ç½®äº†load-on-startupæ ‡ç­¾ï¼Œæ‰€ä»¥ä¼š<strong>åˆ›å»ºDispatcherServletå¯¹è±¡</strong>ï¼Œ å°±ä¼š**åŠ è½½springmvc.xmlé…ç½®æ–‡ä»¶ **</li><li>å¼€å¯äº†æ³¨è§£æ‰«æï¼Œé‚£ä¹ˆ<strong>HelloControllerå¯¹è±¡å°±ä¼šè¢«åˆ›å»º</strong> </li><li>ä»index.jspå‘é€è¯·æ±‚ï¼Œè¯·æ±‚ä¼šå…ˆåˆ°è¾¾DispatcherServletæ ¸å¿ƒæ§åˆ¶å™¨ï¼Œæ ¹æ®é…ç½®@RequestMappingæ³¨è§£ **æ‰¾åˆ°æ‰§è¡Œçš„å…·ä½“æ–¹æ³• **</li><li>æ ¹æ®æ‰§è¡Œæ–¹æ³•çš„è¿”å›å€¼ï¼Œå†æ ¹æ®é…ç½®çš„<strong>è§†å›¾è§£æå™¨</strong>ï¼Œå»æŒ‡å®šçš„ç›®å½•ä¸‹**æŸ¥æ‰¾æŒ‡å®šåç§°çš„JSPæ–‡ä»¶ **</li><li>TomcatæœåŠ¡å™¨æ¸²æŸ“é¡µé¢ï¼Œåšå‡ºå“åº” </li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/mvc1.png" alt="image-20200608001412839"></p><p><strong>åŸç†ï¼ˆè¿è¡Œæœºåˆ¶ï¼‰</strong></p><ol><li><p>å®¢æˆ·ç«¯å‘é€è¯·æ±‚åˆ°DispacherServletï¼ˆåˆ†å‘å™¨ï¼‰</p></li><li><p>ç”±DispacherServletæ§åˆ¶å™¨æŸ¥è¯¢HanderMappingï¼Œæ‰¾åˆ°å¤„ç†è¯·æ±‚çš„Controller</p></li><li><p>Controllerè°ƒç”¨ä¸šåŠ¡é€»è¾‘å¤„ç†åï¼Œè¿”å›ModelAndView</p></li><li><p>DispacherServletæŸ¥è¯¢è§†å›¾è§£æå™¨ï¼Œæ‰¾åˆ°ModelAndViewæŒ‡å®šçš„è§†å›¾</p></li><li><p>è§†å›¾è´Ÿè´£å°†ç»“æœæ˜¾ç¤ºåˆ°å®¢æˆ·ç«¯</p></li></ol><h4 id="2-å…¥é—¨æ¡ˆä¾‹ä¸­æ¶‰åŠçš„ç»„ä»¶"><a href="#2-å…¥é—¨æ¡ˆä¾‹ä¸­æ¶‰åŠçš„ç»„ä»¶" class="headerlink" title="2. å…¥é—¨æ¡ˆä¾‹ä¸­æ¶‰åŠçš„ç»„ä»¶"></a>2. å…¥é—¨æ¡ˆä¾‹ä¸­æ¶‰åŠçš„ç»„ä»¶</h4><ol><li><p>DispatcherServletï¼šå‰ç«¯æ§åˆ¶å™¨ </p><ul><li>ç”¨æˆ·è¯·æ±‚åˆ°è¾¾å‰ç«¯æ§åˆ¶å™¨ï¼Œå®ƒå°±ç›¸å½“äº mvc æ¨¡å¼ä¸­çš„ cï¼ŒdispatcherServlet æ˜¯æ•´ä¸ªæµç¨‹æ§åˆ¶çš„ä¸­å¿ƒï¼Œç”± å®ƒè°ƒç”¨å…¶å®ƒç»„ä»¶å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼ŒdispatcherServlet çš„å­˜åœ¨é™ä½äº†ç»„ä»¶ä¹‹é—´çš„è€¦åˆæ€§ã€‚ </li></ul></li><li><p>HandlerMappingï¼šå¤„ç†å™¨æ˜ å°„å™¨ </p><ul><li>è´Ÿè´£æ ¹æ®ç”¨æˆ·è¯·æ±‚æ‰¾åˆ° sayhello å³å¤„ç†å™¨</li></ul></li><li><p>Handlerï¼šå¤„ç†å™¨ ï¼ˆæ–¹æ³•ï¼‰</p><ul><li>å®ƒå°±æ˜¯æˆ‘ä»¬å¼€å‘ä¸­è¦ç¼–å†™çš„å…·ä½“ä¸šåŠ¡æ§åˆ¶å™¨ã€‚ç”± DispatcherServlet æŠŠç”¨æˆ·è¯·æ±‚è½¬å‘åˆ° Handlerã€‚</li></ul></li><li><p>HandlAdapterï¼šå¤„ç†å™¨é€‚é…å™¨ </p><ul><li>é€šè¿‡ HandlerAdapter å¯¹å¤„ç†å™¨è¿›è¡Œæ‰§è¡Œï¼Œè¿™æ˜¯é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨ï¼Œä¸åŒçš„å¤„ç†å™¨éƒ½å¯ä»¥é€šè¿‡é€‚é…å™¨æ‰§è¡Œ</li></ul></li><li><p> View Resolverï¼šè§†å›¾è§£æå™¨ ï¼ˆæ ¹æ®æ–¹æ³•æ‰§è¡Œçš„ç»“æœæ‰¾åˆ°å¯¹åº”çš„é¡µé¢ï¼‰</p></li></ol><ul><li>View Resolver è´Ÿè´£å°†å¤„ç†ç»“æœç”Ÿæˆ View è§†å›¾ï¼ŒView Resolver é¦–å…ˆæ ¹æ®é€»è¾‘è§†å›¾åè§£ææˆç‰©ç†è§†å›¾å å³å…·ä½“çš„é¡µé¢åœ°å€ï¼Œå†ç”Ÿæˆ View è§†å›¾å¯¹è±¡ï¼Œæœ€åå¯¹ View è¿›è¡Œæ¸²æŸ“å°†å¤„ç†ç»“æœé€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ã€‚</li></ul><ol start="6"><li><p>Viewï¼šè§†å›¾ </p></li><li><p> &lt; mvc:annotation-driven&gt;è¯´æ˜ </p></li></ol><ul><li>åœ¨ SpringMVC çš„å„ä¸ªç»„ä»¶ä¸­ï¼Œå¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨ç§°ä¸º SpringMVC çš„ä¸‰å¤§ç»„ä»¶ã€‚ <ul><li>å¼€å¯mvcæ³¨è§£æ”¯æŒä»£è¡¨è‡ªåŠ¨åŠ è½½ RequestMappingHandlerMapping ï¼ˆå¤„ç†æ˜ å°„å™¨ï¼‰å’Œ RequestMappingHandlerAdapter ï¼ˆ å¤„ ç† é€‚ é… å™¨ ï¼‰ï¼ŒåŒæ—¶é›†æˆäº†jsonè½¬æ¢å·¥å…·</li></ul></li></ul><ol start="8"><li><strong>æ˜ç¡®ï¼š  æˆ‘ä»¬åªéœ€è¦ç¼–å†™å¤„ç†å…·ä½“ä¸šåŠ¡çš„æ§åˆ¶å™¨ï¼ˆæ–¹æ³•ï¼‰ä»¥åŠè§†å›¾ï¼ˆé¡µé¢ï¼‰ã€‚</strong></li></ol><hr><h2 id="è¯·æ±‚å‚æ•°çš„ç»‘å®š"><a href="#è¯·æ±‚å‚æ•°çš„ç»‘å®š" class="headerlink" title="è¯·æ±‚å‚æ•°çš„ç»‘å®š"></a>è¯·æ±‚å‚æ•°çš„ç»‘å®š</h2><ol><li><p>è¯·æ±‚å‚æ•°çš„ç»‘å®šè¯´æ˜ </p><ol><li>è¡¨å•æäº¤çš„æ•°æ®éƒ½æ˜¯k=væ ¼å¼çš„ username=haha&amp;password=123 </li><li>SpringMVCçš„å‚æ•°ç»‘å®šè¿‡ç¨‹æ˜¯æŠŠè¡¨å•æäº¤çš„è¯·æ±‚å‚æ•°ï¼Œä½œä¸ºæ§åˆ¶å™¨ä¸­æ–¹æ³•çš„å‚æ•°è¿›è¡Œç»‘å®šçš„ </li><li>è¦æ±‚ï¼šæäº¤è¡¨å•çš„nameå’Œå‚æ•°çš„åç§°æ˜¯ç›¸åŒçš„ </li></ol></li><li><p>æ”¯æŒçš„æ•°æ®ç±»å‹ </p><ol><li>åŸºæœ¬æ•°æ®ç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹ </li><li>å®ä½“ç±»å‹ï¼ˆJavaBeanï¼‰ </li><li>é›†åˆæ•°æ®ç±»å‹ï¼ˆListã€mapé›†åˆç­‰ï¼‰</li></ol></li><li><p><strong>åŸºæœ¬æ•°æ®ç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹</strong></p><ol><li>æäº¤è¡¨å•çš„nameå’Œå‚æ•°çš„åç§°æ˜¯ç›¸åŒçš„ </li><li>åŒºåˆ†å¤§å°å†™</li></ol></li><li><p><strong>å®ä½“ç±»å‹ï¼ˆJavaBeanï¼‰</strong></p><ol><li>æäº¤è¡¨å•çš„nameå’ŒJavaBeanä¸­çš„å±æ€§åç§°éœ€è¦ä¸€è‡´ï¼Œæ–¹æ³•å‚æ•°å†™å®ä½“å¯¹è±¡ï¼Œå¯è‡ªåŠ¨å°è£…</li><li>å¦‚æœä¸€ä¸ªJavaBeanç±»ä¸­åŒ…å«å…¶ä»–çš„å¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆè¡¨å•çš„nameå±æ€§éœ€è¦ç¼–å†™æˆï¼šå¯¹è±¡.å±æ€§ ä¾‹å¦‚ï¼š address.name </li></ol></li><li><p><strong>ç»™æ•°ç»„å±æ€§æ•°æ®å°è£…</strong></p><ol><li>æäº¤è¡¨å•çš„nameå’Œæ–¹æ³•å‚æ•°çš„æ•°ç»„å¯¹è±¡åç§°éœ€è¦ä¸€è‡´</li></ol></li><li><p><strong>ç»™é›†åˆå±æ€§æ•°æ®å°è£…</strong></p><p>åˆ›å»ºVoå¯¹è±¡ï¼Œå±æ€§åŒ…å«å®ä½“ç±»é›†åˆï¼Œæ–¹æ³•å‚æ•°æ˜¯voï¼Œè¡¨å•å¦‚ä¸‹</p><ol><li>JSPé¡µé¢ç¼–å†™æ–¹å¼ï¼šlist[0].å®ä½“ç±»å±æ€§ </li><li>Mapï¼šmap[â€˜oneâ€™].å±æ€§</li></ol></li><li><p><strong>è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç çš„è§£å†³</strong></p><ul><li><p>åœ¨web.xmlä¸­é…ç½®Springæä¾›çš„è¿‡æ»¤å™¨ç±»</p><pre class=" language-xml"><code class="language-xml">  <span class="token comment" spellcheck="true">&lt;!-- é…ç½®è¿‡æ»¤å™¨ï¼Œè§£å†³ä¸­æ–‡ä¹±ç çš„é—®é¢˜ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">></span></span>org.springframework.web.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filterclass</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- æŒ‡å®šå­—ç¬¦é›† --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">></span></span></code></pre></li></ul></li><li><p><strong>è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</strong></p><ul><li><p>æ¥æ”¶åˆ°çš„æ•°æ®éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼ŒspringMVCé‡Œé¢æœ‰é…ç½®å¥½çš„ç±»å‹è½¬æ¢å™¨è¿›è¡Œè½¬æ¢ä¸ºå…¶ä»–ç±»å‹ï¼Œæœ‰ç‰¹æ®Šéœ€æ±‚å¯ä»¥è‡ªå·±åŠ ç±»å‹è½¬æ¢å™¨</p></li><li><p>æ­¥éª¤ï¼š</p><ol><li><p>å†™ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨çš„ç±»ï¼Œå®ç°Converterçš„æ¥å£ </p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**  æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ—¥æœŸçš„è½¬æ¢å™¨ */</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StringToDateConverter</span> <span class="token keyword">implements</span> <span class="token class-name">Converter</span><span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Date<span class="token operator">></span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/**     * è¿›è¡Œç±»å‹è½¬æ¢çš„æ–¹æ³•     */</span>        <span class="token keyword">public</span> Date <span class="token function">convert</span><span class="token punctuation">(</span>String source<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">// åˆ¤æ–­        </span>        <span class="token keyword">if</span><span class="token punctuation">(</span>source <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"å‚æ•°ä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>                        DateFormat df <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">// å­—ç¬¦ä¸²è½¬æ¢æ—¥æœŸ           </span>            Date date <span class="token operator">=</span> df<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">return</span> date<span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"ç±»å‹è½¬æ¢é”™è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>æ³¨å†Œè‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨ï¼Œåœ¨springmvc.xmlé…ç½®æ–‡ä»¶ä¸­ç¼–å†™é…ç½®</p><pre class=" language-xml"><code class="language-xml"> <span class="token comment" spellcheck="true">&lt;!-- æ³¨å†Œè‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>conversionService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.context.support.ConversionServiceFactoryBean<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--æ³¨å…¥è‡ªå®šä¹‰çš„è½¬æ¢å™¨--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>converters<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">></span></span>                           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.itcast.utils.StringToDateConverter<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>       <span class="token comment" spellcheck="true">&lt;!-- å¼€å¯Springå¯¹MVCæ³¨è§£çš„æ”¯æŒ --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span> <span class="token attr-name">conversion-service</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>conversionService<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></code></pre></li></ol></li></ul></li><li><p><strong>åœ¨æ§åˆ¶å™¨ä¸­ä½¿ç”¨åŸç”Ÿçš„ServletAPIå¯¹è±¡</strong></p><ul><li>åªéœ€è¦åœ¨æ§åˆ¶å™¨çš„æ–¹æ³•å‚æ•°å®šä¹‰HttpServletRequestå’ŒHttpServletResponseå¯¹è±¡</li></ul></li></ol><hr><h2 id="å¸¸ç”¨çš„æ³¨è§£"><a href="#å¸¸ç”¨çš„æ³¨è§£" class="headerlink" title="å¸¸ç”¨çš„æ³¨è§£"></a>å¸¸ç”¨çš„æ³¨è§£</h2><h3 id="RequestMapping-æ³¨è§£"><a href="#RequestMapping-æ³¨è§£" class="headerlink" title="RequestMapping æ³¨è§£"></a>RequestMapping æ³¨è§£</h3><ul><li>ä½œç”¨ï¼š  ç”¨äºå»ºç«‹è¯·æ±‚ URL å’Œå¤„ç†è¯·æ±‚æ–¹æ³•ä¹‹é—´çš„å¯¹åº”å…³ç³»</li><li>å‡ºç°ä½ç½®ï¼š  <ul><li>ç±»ä¸Šï¼š   è¯·æ±‚ URL çš„ç¬¬ä¸€çº§è®¿é—®ç›®å½•ã€‚æ­¤å¤„ä¸å†™çš„è¯ï¼Œå°±ç›¸å½“äºåº”ç”¨çš„æ ¹ç›®å½•ã€‚å†™çš„è¯éœ€è¦ä»¥/å¼€å¤´ã€‚                   å®ƒå‡ºç°çš„ç›®çš„æ˜¯ä¸ºäº†ä½¿æˆ‘ä»¬çš„ URL å¯ä»¥æŒ‰ç…§æ¨¡å—åŒ–ç®¡ç†</li><li>æ–¹æ³•ä¸Šï¼š   è¯·æ±‚ URL çš„ç¬¬äºŒçº§è®¿é—®ç›®å½•ã€‚ </li></ul></li><li>å±æ€§ï¼š  <ul><li>valueï¼šç”¨äºæŒ‡å®šè¯·æ±‚çš„ URLã€‚å®ƒå’Œ path å±æ€§çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚  </li><li>methodï¼šç”¨äºæŒ‡å®šè¯·æ±‚çš„æ–¹å¼ã€‚  post/get</li><li>paramsï¼šç”¨äºæŒ‡å®šé™åˆ¶è¯·æ±‚å‚æ•°çš„æ¡ä»¶ã€‚è¦æ±‚è¯·æ±‚å‚æ•°çš„ key å’Œ value å¿…é¡»å’Œ é…ç½®çš„ä¸€æ¨¡ä¸€æ ·ã€‚<ul><li>ä¾‹å¦‚ï¼šparams = {â€œaccountNameâ€} params = {â€œaccountName=heheâ€}</li></ul></li><li>headersï¼šç”¨äºæŒ‡å®šé™åˆ¶è¯·æ±‚æ¶ˆæ¯å¤´çš„æ¡ä»¶ã€‚ </li></ul></li></ul><h3 id="WebServletã€-WebFilterã€-Weblistener"><a href="#WebServletã€-WebFilterã€-Weblistener" class="headerlink" title="@WebServletã€@WebFilterã€@Weblistener"></a>@WebServletã€@WebFilterã€@Weblistener</h3><ol><li>ä½œç”¨ï¼šåŠ åœ¨ç±»ä¸Šï¼Œè¡¨ç¤ºè¯¥ç±»æ˜¯ä¸€ä¸ªä¸‰å¤§ç»„ä»¶</li><li>å±æ€§<ol><li>valueï¼šurlè·¯å¾„     å¦‚ï¼š /hello</li></ol></li></ol><h3 id="RequestParamæ³¨è§£-ï¼ˆè§£å†³å‚æ•°åç§°å’Œä¼ é€’å‚æ•°åç§°ä¸ä¸€è‡´ï¼‰"><a href="#RequestParamæ³¨è§£-ï¼ˆè§£å†³å‚æ•°åç§°å’Œä¼ é€’å‚æ•°åç§°ä¸ä¸€è‡´ï¼‰" class="headerlink" title="RequestParamæ³¨è§£ ï¼ˆè§£å†³å‚æ•°åç§°å’Œä¼ é€’å‚æ•°åç§°ä¸ä¸€è‡´ï¼‰"></a>RequestParamæ³¨è§£ ï¼ˆè§£å†³å‚æ•°åç§°å’Œä¼ é€’å‚æ•°åç§°ä¸ä¸€è‡´ï¼‰</h3><ol><li>ä½œç”¨ï¼šæŠŠè¯·æ±‚ä¸­çš„æŒ‡å®šåç§°çš„å‚æ•°ä¼ é€’ç»™æ§åˆ¶å™¨ä¸­çš„å½¢å‚èµ‹å€¼ </li><li>å±æ€§ <ol><li>valueï¼šè¯·æ±‚å‚æ•°ä¸­çš„åç§° </li><li>requiredï¼šè¯·æ±‚å‚æ•°ä¸­æ˜¯å¦å¿…é¡»æä¾›æ­¤å‚æ•°ï¼Œé»˜è®¤å€¼æ˜¯trueï¼Œå¿…é¡»æä¾›</li></ol></li></ol><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> name<span class="token operator">=</span><span class="token string">"username"</span><span class="token operator">></span><span class="token keyword">public</span> String <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"username"</span><span class="token punctuation">,</span>required<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>               </code></pre><h3 id="RequestBodyæ³¨è§£"><a href="#RequestBodyæ³¨è§£" class="headerlink" title="RequestBodyæ³¨è§£"></a>RequestBodyæ³¨è§£</h3><ol><li>ä½œç”¨ï¼šç”¨äºè·å–è¯·æ±‚ä½“çš„å†…å®¹ï¼ˆæ³¨æ„ï¼šgetæ–¹æ³•ä¸å¯ä»¥ï¼‰ </li><li>å±æ€§ <ol><li>requiredï¼šæ˜¯å¦å¿…é¡»æœ‰è¯·æ±‚ä½“ï¼Œé»˜è®¤å€¼æ˜¯true </li></ol></li></ol><pre class=" language-java"><code class="language-java"> <span class="token keyword">public</span> String <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> String body<span class="token punctuation">)</span> <span class="token punctuation">{</span> </code></pre><h3 id="ResponseBodyæ³¨è§£"><a href="#ResponseBodyæ³¨è§£" class="headerlink" title="ResponseBodyæ³¨è§£"></a>ResponseBodyæ³¨è§£</h3><ol><li>ä½œç”¨ï¼šç”¨åœ¨æ–¹æ³•ä¸Šï¼Œä¸è¿›è¡Œé¡µé¢è·³è½¬ï¼Œç›´æ¥å›å†™æ•°æ®</li></ol><h3 id="RequestHeaderæ³¨è§£"><a href="#RequestHeaderæ³¨è§£" class="headerlink" title="RequestHeaderæ³¨è§£"></a>RequestHeaderæ³¨è§£</h3><ol><li>ä½œç”¨ï¼šè·å–æŒ‡å®šè¯·æ±‚å¤´çš„å€¼ </li><li>å±æ€§ <ol><li>valueï¼šè¯·æ±‚å¤´çš„åç§°</li></ol></li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>path<span class="token operator">=</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> String <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"Accept"</span><span class="token punctuation">)</span> String header<span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre><h3 id="CookieValueæ³¨è§£"><a href="#CookieValueæ³¨è§£" class="headerlink" title="CookieValueæ³¨è§£"></a>CookieValueæ³¨è§£</h3><ol><li>ä½œç”¨ï¼šç”¨äºè·å–æŒ‡å®šcookieçš„åç§°çš„å€¼ </li><li>å±æ€§ <ol><li>valueï¼šcookieçš„åç§° </li></ol></li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>path<span class="token operator">=</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token annotation punctuation">@CookieValue</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"JSESSIONID"</span><span class="token punctuation">)</span> String cookieValue<span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre><h3 id="PathVariableæ³¨è§£"><a href="#PathVariableæ³¨è§£" class="headerlink" title="PathVariableæ³¨è§£"></a>PathVariableæ³¨è§£</h3><ol><li>ä½œç”¨ï¼šæ‹¥æœ‰ç»‘å®šurlä¸­çš„å ä½ç¬¦çš„ã€‚ä¾‹å¦‚ï¼šurlä¸­æœ‰/delete/{id}ï¼Œ{id}å°±æ˜¯å ä½ç¬¦ </li><li>å±æ€§ <ol><li>valueï¼šæŒ‡å®šurlä¸­çš„å ä½ç¬¦åç§°</li></ol></li><li>Restfulé£æ ¼çš„URL <ol><li>è¯·æ±‚è·¯å¾„ä¸€æ ·ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„è¯·æ±‚æ–¹å¼å»æ‰§è¡Œåå°çš„ä¸åŒæ–¹æ³• </li><li>restfulé£æ ¼çš„URLä¼˜ç‚¹ 1. ç»“æ„æ¸…æ™° 2. ç¬¦åˆæ ‡å‡† 3. æ˜“äºç†è§£ 4. æ‰©å±•æ–¹ä¾¿</li></ol></li></ol><pre><code> @RequestMapping(path="/hello/{id}")     public String sayHello(@PathVariable(value="id") String id) { </code></pre><h3 id="ModelAttributeæ³¨è§£"><a href="#ModelAttributeæ³¨è§£" class="headerlink" title="ModelAttributeæ³¨è§£"></a>ModelAttributeæ³¨è§£</h3><ol><li><p> ä½œç”¨ </p></li><li><p>å‡ºç°åœ¨æ–¹æ³•ä¸Šï¼šè¡¨ç¤ºå½“å‰æ–¹æ³•ä¼šåœ¨æ§åˆ¶å™¨æ–¹æ³•æ‰§è¡Œå‰å…ˆæ‰§è¡Œã€‚</p></li><li><p>å‡ºç°åœ¨å‚æ•°ä¸Šï¼šè·å–æŒ‡å®šçš„æ•°æ®ç»™å‚æ•°èµ‹å€¼ã€‚</p></li><li><p>åº”ç”¨åœºæ™¯ï¼šå½“æäº¤è¡¨å•æ•°æ®ä¸æ˜¯å®Œæ•´çš„å®ä½“æ•°æ®æ—¶ï¼Œä¿è¯æ²¡æœ‰æäº¤çš„å­—æ®µä½¿ç”¨æ•°æ®åº“åŸæ¥çš„æ•°æ®ã€‚</p></li><li><p>è¿è¡Œæµç¨‹ï¼š</p><ol><li> æ‰§è¡Œ@ModelAttributeæ³¨è§£ä¿®é¥°çš„æ–¹æ³•ï¼šä»æ•°æ®åº“ä¸­å–å‡ºå¯¹è±¡ï¼ŒæŠŠå¯¹è±¡æ”¾åˆ°model/mapå½“ä¸­</li><li> SpringMVCä»model/mapå–å‡ºå¯¹è±¡ï¼ŒæŠŠè¡¨å•çš„è¯·æ±‚å‚æ•°ç»™è¯¥å¯¹è±¡çš„å¯¹åº”å±æ€§</li><li> springMVCæŠŠä¸Šè¿°å¯¹è±¡ä¼ å…¥ç›®æ ‡æ–¹æ³•çš„å‚æ•°</li></ol><p>æ³¨æ„ï¼šåœ¨@ModelAttributeä¿®é¥°çš„æ–¹æ³•ä¸­ï¼Œæ”¾å…¥åˆ°Mapæ—¶çš„é”®å’Œç›®æ ‡æ–¹æ³•çš„å‚æ•°ç±»å‹çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å°å†™çš„å­—ç¬¦ä¸²ä¸€è‡´</p></li></ol><pre class=" language-java"><code class="language-java">ä¿®é¥°æ–¹æ³•æœ‰è¿”å›å€¼<span class="token comment" spellcheck="true">/**     * ä½œç”¨åœ¨æ–¹æ³•ï¼Œå…ˆæ‰§è¡Œ* æœ‰è¿”å›å€¼ï¼Œæ–¹æ³•æ§åˆ¶å™¨è·å–çš„å€¼å°±æœ‰ä¿®é¥°æ–¹æ³•è¿”å›çš„å€¼*/</span>    <span class="token annotation punctuation">@ModelAttribute</span>    <span class="token keyword">public</span> User <span class="token function">showUser</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"showUseræ‰§è¡Œäº†..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// æ¨¡æ‹Ÿä»æ•°æ®åº“ä¸­æŸ¥è¯¢å¯¹è±¡        </span>    User user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"å“ˆå“ˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            user<span class="token punctuation">.</span><span class="token function">setMoney</span><span class="token punctuation">(</span><span class="token number">100d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> user<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">/**     * ä¿®æ”¹ç”¨æˆ·çš„æ–¹æ³•     */</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>path<span class="token operator">=</span><span class="token string">"/updateUser"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">updateUser</span><span class="token punctuation">(</span>User user<span class="token punctuation">)</span> <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token string">"success"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><pre class=" language-java"><code class="language-java">ä¿®é¥°æ–¹æ³•æ— è¿”å›å€¼ <span class="token comment" spellcheck="true">/**      * ä½œç”¨åœ¨æ–¹æ³•ï¼Œå…ˆæ‰§è¡Œ * æ— è¿”å›å€¼ä¼šå°†å€¼å­˜åˆ°mapä¸­ï¼Œæ–¹æ³•æ§åˆ¶å™¨ä½¿ç”¨æ³¨è§£ä¼šä»mapä¸­å– */</span>    <span class="token annotation punctuation">@ModelAttribute</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showUser</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> User<span class="token operator">></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>          System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"showUseræ‰§è¡Œäº†..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// æ¨¡æ‹Ÿä»æ•°æ®åº“ä¸­æŸ¥è¯¢å¯¹è±¡      </span>    User user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"å“ˆå“ˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          user<span class="token punctuation">.</span><span class="token function">setMoney</span><span class="token punctuation">(</span><span class="token number">100d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">/**     * ä¿®æ”¹ç”¨æˆ·çš„æ–¹æ³• */</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>path<span class="token operator">=</span><span class="token string">"/updateUser"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"abc"</span><span class="token punctuation">)</span> User user<span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">return</span> <span class="token string">"success"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><h3 id="SessionAttributesæ³¨è§£-ï¼ˆå­˜åˆ°sessionåŸŸä¸­ï¼‰"><a href="#SessionAttributesæ³¨è§£-ï¼ˆå­˜åˆ°sessionåŸŸä¸­ï¼‰" class="headerlink" title="SessionAttributesæ³¨è§£ ï¼ˆå­˜åˆ°sessionåŸŸä¸­ï¼‰"></a>SessionAttributesæ³¨è§£ ï¼ˆå­˜åˆ°sessionåŸŸä¸­ï¼‰</h3><ol><li>ä½œç”¨ï¼šç”¨äºå¤šæ¬¡æ‰§è¡Œæ§åˆ¶å™¨æ–¹æ³•é—´çš„å‚æ•°å…±äº« </li><li>å±æ€§ <ol><li>valueï¼šæŒ‡å®šå­˜å…¥å±æ€§çš„åç§° </li><li>typesï¼šæŒ‡å®šç±»å‹ï¼Œå­˜å…¥å±æ€§</li></ol></li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Controller</span> <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>path<span class="token operator">=</span><span class="token string">"/user"</span><span class="token punctuation">)</span> <span class="token annotation punctuation">@SessionAttributes</span><span class="token punctuation">(</span>value<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"username"</span><span class="token punctuation">,</span><span class="token string">"password"</span><span class="token punctuation">,</span><span class="token string">"age"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>types<span class="token operator">=</span><span class="token punctuation">{</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">// æŠŠæ•°æ®å­˜å…¥åˆ°sessionåŸŸå¯¹è±¡ä¸­ </span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">/**         * å‘sessionä¸­å­˜å…¥å€¼          */</span>        <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>path<span class="token operator">=</span><span class="token string">"/save"</span><span class="token punctuation">)</span>        <span class="token keyword">public</span> String <span class="token function">save</span><span class="token punctuation">(</span>Model model<span class="token punctuation">)</span> <span class="token punctuation">{</span>           <span class="token comment" spellcheck="true">//å°†æ•°æ®å­˜å‚¨åˆ°modelä¸­ï¼Œåº•å±‚å®é™…ä¸Šæ˜¯å­˜å‚¨åˆ°äº†requeståŸŸä¸­</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å‘sessionåŸŸä¸­ä¿å­˜æ•°æ®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> <span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">,</span> <span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           User user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"tom"</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"success"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">/**     * ä»sessionä¸­è·å–å€¼  */</span>        <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>path<span class="token operator">=</span><span class="token string">"/find"</span><span class="token punctuation">)</span>        <span class="token keyword">public</span> String <span class="token function">find</span><span class="token punctuation">(</span>ModelMap modelMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token comment" spellcheck="true">//ModelMapæ˜¯modelçš„å®ç°ç±»ï¼Œèƒ½å¤Ÿè·å–å­˜å‚¨åœ¨modelä¸­çš„å€¼</span>        String username <span class="token operator">=</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span> modelMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           String password <span class="token operator">=</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span> modelMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            Integer age <span class="token operator">=</span> <span class="token punctuation">(</span>Integer<span class="token punctuation">)</span> modelMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username <span class="token operator">+</span> <span class="token string">" : "</span><span class="token operator">+</span>password <span class="token operator">+</span><span class="token string">" : "</span><span class="token operator">+</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token keyword">return</span> <span class="token string">"success"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token comment" spellcheck="true">/**     * æ¸…é™¤å€¼    */</span>     <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>path<span class="token operator">=</span><span class="token string">"/delete"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">delete</span><span class="token punctuation">(</span>SessionStatus status<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//SessionStatusä¼šè¯çŠ¶æ€ï¼Œå°†ä¼šè¯å®Œæˆï¼Œå³åˆ é™¤sessionåŸŸä¸­çš„å€¼ï¼Œ</span>        status<span class="token punctuation">.</span><span class="token function">setComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token keyword">return</span> <span class="token string">"success"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><hr><h2 id="å“åº”æ•°æ®å’Œç»“æœè§†å›¾"><a href="#å“åº”æ•°æ®å’Œç»“æœè§†å›¾" class="headerlink" title="å“åº”æ•°æ®å’Œç»“æœè§†å›¾"></a>å“åº”æ•°æ®å’Œç»“æœè§†å›¾</h2><h3 id="Model-ModelAndView"><a href="#Model-ModelAndView" class="headerlink" title="Model,ModelAndView"></a>Model,ModelAndView</h3><p>åº•å±‚å®é™…ä¸Šæ˜¯å­˜å‚¨åˆ°äº†requeståŸŸä¸­</p><h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p>map.putï¼ˆï¼‰æ–¹æ³•ä¹Ÿä¼šå­˜å…¥åˆ°requeståŸŸä¸­</p><h3 id="è¿”å›å€¼åˆ†ç±»"><a href="#è¿”å›å€¼åˆ†ç±»" class="headerlink" title="è¿”å›å€¼åˆ†ç±»"></a>è¿”å›å€¼åˆ†ç±»</h3><ol><li><p> è¿”å›å­—ç¬¦ä¸²ï¼šæ ¹æ®è§†å›¾è§£æå™¨ä¸ºç‰©ç†è§†å›¾çš„åœ°å€ã€‚</p></li><li><p>è¿”å›å€¼æ˜¯void ï¼š</p><ol><li>å¯ä½¿ç”¨ request è½¬å‘é¡µé¢</li><li>ä¹Ÿå¯ä»¥é€šè¿‡ response é¡µé¢é‡å®šå‘</li><li>ä¹Ÿå¯ä»¥é€šè¿‡ response æŒ‡å®šå“åº”ç»“æœ</li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/initAdd"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initAdd</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span>HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·æ±‚è½¬å‘æˆ–è€…é‡å®šå‘"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// è¯·æ±‚è½¬å‘        </span>     request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/WEB-INF/pages/add.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">// é‡å®šå‘        </span>    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"/add2.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">// ç›´æ¥å“åº”æ•°æ®        </span>    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"ä½ å¥½"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">return</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span></code></pre></li><li><p>è¿”å›å€¼æ˜¯ModelAndViewå¯¹è±¡ ï¼šç±»ä¼¼è¿”å›å­—ç¬¦ä¸²ï¼Œè°ƒç”¨è§†å›¾è§£æå™¨è·³è½¬åˆ°å…·ä½“çš„JSPè§†å›¾ </p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**     * è¿”å›ModelAndViewå¯¹è±¡     * å¯ä»¥ä¼ å…¥è§†å›¾çš„åç§°ï¼ˆå³è·³è½¬çš„é¡µé¢ï¼‰ï¼Œè¿˜å¯ä»¥ä¼ å…¥å¯¹è±¡ã€‚*/</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/findAll"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> ModelAndView <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>           ModelAndView mv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">// è·³è½¬åˆ°list.jspçš„é¡µé¢   </span>    mv<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// æ¨¡æ‹Ÿä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ‰€æœ‰çš„ç”¨æˆ·ä¿¡æ¯        </span>    List<span class="token operator">&lt;</span>User<span class="token operator">></span> users <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           User user1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         user1<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        user1<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">// æ·»åŠ å¯¹è±¡       </span>    mv<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"users"</span><span class="token punctuation">,</span> users<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> mv<span class="token punctuation">;</span>    <span class="token punctuation">}</span> ä¹Ÿå¯ä»¥ModelAndViewä½œä¸ºå‚æ•°ï¼ŒSpringMVCä¼šè‡ªåŠ¨åˆ›å»º    <span class="token keyword">public</span> ModelAndView <span class="token function">findAll</span><span class="token punctuation">(</span>ModelAndView modelAndView<span class="token punctuation">)</span><span class="token punctuation">{</span>    modelAndView<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p> è¿”å›å€¼æ˜¯å­—ç¬¦ä¸²ï¼Œå‚æ•°æ˜¯modelï¼šç”¨äºæºå¸¦æ•°æ®</p></li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/quick4"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">sayHello4</span><span class="token punctuation">(</span>Model model<span class="token punctuation">)</span><span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello SpringMVC!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span><span class="token string">"zhaowu"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"success"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><ol start="5"><li> ä½¿ç”¨@ResponseBodyå›å†™å­—ç¬¦ä¸²</li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/quick5"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> String <span class="token function">sayHello4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token string">"hello success"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><h3 id="SpringMVCæ¡†æ¶æä¾›çš„è½¬å‘å’Œé‡å®šå‘"><a href="#SpringMVCæ¡†æ¶æä¾›çš„è½¬å‘å’Œé‡å®šå‘" class="headerlink" title="SpringMVCæ¡†æ¶æä¾›çš„è½¬å‘å’Œé‡å®šå‘"></a>SpringMVCæ¡†æ¶æä¾›çš„è½¬å‘å’Œé‡å®šå‘</h3><ol><li><p>forwardè¯·æ±‚è½¬å‘</p><pre class=" language-java"><code class="language-java"> <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/delete"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>         System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"deleteæ–¹æ³•æ‰§è¡Œäº†..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">return</span> <span class="token string">"forward:/WEB-INF/pages/success.jsp"</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span></code></pre></li><li><p>redirecté‡å®šå‘</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/count"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>           System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"countæ–¹æ³•æ‰§è¡Œäº†..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//ä¸éœ€è¦å†™é¡¹ç›®årequest.getContextPath(),åº•å±‚å·²ç»å†™å¥½äº†</span>    <span class="token keyword">return</span> <span class="token string">"redirect:/add.jsp"</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span></code></pre></li></ol><h3 id="ResponseBodyå“åº”jsonæ•°æ®"><a href="#ResponseBodyå“åº”jsonæ•°æ®" class="headerlink" title="ResponseBodyå“åº”jsonæ•°æ®"></a>ResponseBodyå“åº”jsonæ•°æ®</h3><ol><li><p>ç¬¬ä¸€ç§æ–¹å¼ï¼šå¼€å¯mvcæ³¨è§£é©±åŠ¨ï¼Œå¯¼å…¥jaråŒ…ï¼Œä½¿ç”¨@ResponseBodyï¼Œç›´æ¥è¿”å›å¯¹è±¡ï¼Œå›å†™jsonæ•°æ®</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/quick"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> User <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>           User user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> user<span class="token punctuation">;</span>     <span class="token punctuation">}</span></code></pre></li></ol><ul><li><p>DispatcherServletä¼šæ‹¦æˆªåˆ°æ‰€æœ‰çš„èµ„æºï¼Œå¯¼è‡´ä¸€ä¸ªé—®é¢˜å°±æ˜¯é™æ€èµ„æºï¼ˆimgã€cssã€jsï¼‰ä¹Ÿä¼šè¢«æ‹¦æˆªåˆ°ï¼Œä»è€Œ ä¸èƒ½è¢«ä½¿ç”¨ã€‚è§£å†³é—®é¢˜å°±æ˜¯éœ€è¦é…ç½®é™æ€èµ„æºä¸è¿›è¡Œæ‹¦æˆªï¼Œ</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- è®¾ç½®é™æ€èµ„æºä¸è¿‡æ»¤    1. locationå…ƒç´ è¡¨ç¤ºwebappç›®å½•ä¸‹çš„åŒ…ä¸‹çš„æ‰€æœ‰æ–‡ä»¶    2. mappingå…ƒç´ è¡¨ç¤ºä»¥/staticå¼€å¤´çš„æ‰€æœ‰è¯·æ±‚è·¯å¾„ï¼Œå¦‚/static/a æˆ–è€…/static/a/b --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/css/<span class="token punctuation">"</span></span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/css/**<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token comment" spellcheck="true">&lt;!-- æ ·å¼ --></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/images/<span class="token punctuation">"</span></span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/images/**<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>  <span class="token comment" spellcheck="true">&lt;!-- å›¾ç‰‡ --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/js/<span class="token punctuation">"</span></span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/js/**<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>  <span class="token comment" spellcheck="true">&lt;!-- javascript --></span>ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œæ•ˆæœä¸€æ ·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">></span></span></code></pre></li><li><p>ä½¿ç”¨@RequestBodyè·å–è¯·æ±‚ä½“æ•°æ®</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ä½¿ç”¨Ajaxéœ€è¦æå‰å¯¼å…¥jqueryçš„jsæ–‡ä»¶</span><span class="token comment" spellcheck="true">// é¡µé¢åŠ è½½       </span>$<span class="token punctuation">(</span><span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>          <span class="token comment" spellcheck="true">// ç»‘å®šç‚¹å‡»äº‹ä»¶      </span>    $<span class="token punctuation">(</span><span class="token string">"#btn"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                 $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                         url<span class="token operator">:</span><span class="token string">"user/testJson"</span><span class="token punctuation">,</span>                    contentType<span class="token operator">:</span><span class="token string">"application/json;charset=UTF-8"</span><span class="token punctuation">,</span>            data<span class="token operator">:</span><span class="token string">'{"addressName":"aa","addressNum":100}'</span><span class="token punctuation">,</span>                     dataType<span class="token operator">:</span><span class="token string">"json"</span><span class="token punctuation">,</span>                          type<span class="token operator">:</span><span class="token string">"post"</span><span class="token punctuation">,</span>                   success<span class="token operator">:</span><span class="token function">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>                          <span class="token function">alert</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>                             <span class="token function">alert</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>addressName<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/*è·å–è¯·æ±‚ä½“æ•°æ®*/</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/testJson"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testJson</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> String body<span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre></li><li><p> jsonå­—ç¬¦ä¸²å’ŒJavaBeanå¯¹è±¡äº’ç›¸è½¬æ¢çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä½¿ç”¨jacksonçš„jaråŒ…</p></li></ul><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.9.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jackson-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.9.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jackson-annotations<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.9.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><ul><li><p>ä½¿ç”¨@RequestBodyæ³¨è§£æŠŠjsonçš„å­—ç¬¦ä¸²è‡ªåŠ¨è½¬æ¢æˆJavaBeançš„å¯¹è±¡</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/testJson"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testJson</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> Address address<span class="token punctuation">)</span> <span class="token punctuation">{</span>       System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre></li><li><p>ä½¿ç”¨@ResponseBodyæ³¨è§£æŠŠJavaBeanå¯¹è±¡è‡ªåŠ¨è½¬æ¢æˆjsonå­—ç¬¦ä¸²ï¼Œç›´æ¥å“åº” ï¼Œå‰æå¼€å¯äº†mvcæ³¨è§£é©±åŠ¨</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ajaxçš„å›è°ƒå‡½æ•°</span>success<span class="token operator">:</span><span class="token function">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>           <span class="token function">alert</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token function">alert</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>addressName<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">}</span> <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/testJson"</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> <span class="token annotation punctuation">@ResponseBody</span> Address <span class="token function">testJson</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> Address address<span class="token punctuation">)</span> <span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>       address<span class="token punctuation">.</span><span class="token function">setAddressName</span><span class="token punctuation">(</span><span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">return</span> address<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre></li></ul><hr><h2 id="SpringMVCå®ç°æ–‡ä»¶ä¸Šä¼ "><a href="#SpringMVCå®ç°æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="SpringMVCå®ç°æ–‡ä»¶ä¸Šä¼ "></a>SpringMVCå®ç°æ–‡ä»¶ä¸Šä¼ </h2><h3 id="SpringMVCä¼ ç»Ÿæ–¹å¼æ–‡ä»¶ä¸Šä¼ ï¼ˆçœå»äº†è§£ærequeståŸŸè·å–ä¸Šä¼ æ–‡ä»¶é¡¹çš„è¿‡ç¨‹ï¼Œç›´æ¥è·å¾—æ–‡ä»¶é¡¹ï¼‰"><a href="#SpringMVCä¼ ç»Ÿæ–¹å¼æ–‡ä»¶ä¸Šä¼ ï¼ˆçœå»äº†è§£ærequeståŸŸè·å–ä¸Šä¼ æ–‡ä»¶é¡¹çš„è¿‡ç¨‹ï¼Œç›´æ¥è·å¾—æ–‡ä»¶é¡¹ï¼‰" class="headerlink" title="SpringMVCä¼ ç»Ÿæ–¹å¼æ–‡ä»¶ä¸Šä¼ ï¼ˆçœå»äº†è§£ærequeståŸŸè·å–ä¸Šä¼ æ–‡ä»¶é¡¹çš„è¿‡ç¨‹ï¼Œç›´æ¥è·å¾—æ–‡ä»¶é¡¹ï¼‰"></a>SpringMVCä¼ ç»Ÿæ–¹å¼æ–‡ä»¶ä¸Šä¼ ï¼ˆçœå»äº†è§£ærequeståŸŸè·å–ä¸Šä¼ æ–‡ä»¶é¡¹çš„è¿‡ç¨‹ï¼Œç›´æ¥è·å¾—æ–‡ä»¶é¡¹ï¼‰</h3><ol><li><p>å¯¼å…¥æ–‡ä»¶ä¸Šä¼ çš„jaråŒ…</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></li><li><p>ç¼–å†™æ–‡ä»¶ä¸Šä¼ çš„JSPé¡µé¢</p><ul><li>SpringMVCæ¡†æ¶æä¾›äº†MultipartFileå¯¹è±¡ï¼Œè¯¥å¯¹è±¡è¡¨ç¤ºä¸Šä¼ çš„æ–‡ä»¶ï¼Œè¦æ±‚å˜é‡åç§°å¿…é¡»å’Œè¡¨å•ï¬leæ ‡ç­¾çš„ nameå±æ€§åç§°ç›¸åŒ</li></ul><pre class=" language-jsp"><code class="language-jsp"><h3>æ–‡ä»¶ä¸Šä¼ </h3>        <form action="user/fileupload" method="post" enctype="multipart/form-data">       é€‰æ‹©æ–‡ä»¶ï¼š<input type="file" name="upload"/><br/>          <input type="submit" value="ä¸Šä¼ æ–‡ä»¶"/>    </form></code></pre></li><li><p>é…ç½®æ–‡ä»¶è§£æå™¨å¯¹è±¡</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- åœ¨springMVC.xmlä¸­é…ç½®æ–‡ä»¶è§£æå™¨å¯¹è±¡ï¼Œè¦æ±‚idåç§°å¿…é¡»æ˜¯multipartResolver --></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>multipartResolver<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.web.multipart.commons.CommonsMultipartResolver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--é…ç½®æ–‡ä»¶ä¸Šä¼ å¤§å°ä¸º10M--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>maxUploadSize<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10485760<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li><li><p>ç¼–å†™æ–‡ä»¶ä¸Šä¼ çš„æ–¹æ³•</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**     * SpringMVCæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼      */</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/fileupload2"</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> String <span class="token function">fileupload2</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span>MultipartFile upload<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"SpringMVCæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// å…ˆè·å–åˆ°è¦ä¸Šä¼ çš„æ–‡ä»¶ç›®å½•        </span>    String path <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">"/uploads"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">// åˆ›å»ºFileå¯¹è±¡ï¼Œä¸€ä¼šå‘è¯¥è·¯å¾„ä¸‹ä¸Šä¼ æ–‡ä»¶     </span>    File file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">// åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºè¯¥è·¯å¾„     </span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>               file<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>           <span class="token comment" spellcheck="true">// è·å–åˆ°ä¸Šä¼ æ–‡ä»¶çš„åç§°   </span>    String filename <span class="token operator">=</span> upload<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//åˆ›å»ºéšæœºåºåˆ—å·</span>    String uuid <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// æŠŠæ–‡ä»¶çš„åç§°å”¯ä¸€åŒ–    </span>    filename <span class="token operator">=</span> uuid<span class="token operator">+</span><span class="token string">"_"</span><span class="token operator">+</span>filename<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// ä¸Šä¼ æ–‡ä»¶     </span>    upload<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">return</span> <span class="token string">"success"</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span></code></pre></li></ol><h3 id="SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼æ–‡ä»¶ä¸Šä¼ "><a href="#SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼æ–‡ä»¶ä¸Šä¼ "></a>SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼æ–‡ä»¶ä¸Šä¼ </h3><pre><code>bug1:403é”™è¯¯    åŸå› ï¼štomcatæƒé™ä¸å¤Ÿ    æ”¹ä¸ºï¼šä¿®æ”¹tomcatçš„web.xml    &lt;init-param&gt;    &lt;param-name&gt;readonly&lt;/param-name&gt;    &lt;param-value&gt;false&lt;/param-value&gt;    &lt;/init-param&gt;    ä½ç½®ï¼š&lt;servlet-class&gt;org.apache.catalina.servlets.DefaultServlet&lt;/servlet-class&gt;    bug2:409é”™è¯¯    åŸå› ï¼šæ²¡æœ‰è¯¥æ–‡ä»¶å¤¹    æ”¹ä¸ºï¼šåœ¨éƒ¨ç½²çš„ç›®å½•ä¸­åˆ›å»ºè¯¥æ–‡ä»¶å¤¹        E:\Java\springMVC_day02_image\target\springMVC_day02_image\uploads</code></pre><ol><li><p>æ­å»ºå›¾ç‰‡æœåŠ¡å™¨</p></li><li><p>å¯¼å…¥å¼€å‘éœ€è¦çš„jaråŒ…</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.sun.jersey<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jersey-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.18.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.sun.jersey<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jersey-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.18.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></li><li><p>ç¼–å†™æ–‡ä»¶ä¸Šä¼ çš„JSPé¡µé¢</p></li><li><p>ç¼–å†™æ§åˆ¶å™¨</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/fileupload3"</span><span class="token punctuation">)</span><span class="token keyword">public</span> String <span class="token function">fileupload3</span><span class="token punctuation">(</span>MultipartFile upload<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">// å®šä¹‰å›¾ç‰‡æœåŠ¡å™¨çš„è¯·æ±‚è·¯å¾„        </span>    String path <span class="token operator">=</span> <span class="token string">"http://localhost:9090/day02_springmvc5_02image/uploads/"</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">// è·å–åˆ°ä¸Šä¼ æ–‡ä»¶çš„åç§°      </span>    String filename <span class="token operator">=</span> upload<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         String uuid <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// æŠŠæ–‡ä»¶çš„åç§°å”¯ä¸€åŒ–   </span>    filename <span class="token operator">=</span> uuid<span class="token operator">+</span><span class="token string">"_"</span><span class="token operator">+</span>filename<span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">// å‘å›¾ç‰‡æœåŠ¡å™¨ä¸Šä¼ æ–‡ä»¶           </span>    <span class="token comment" spellcheck="true">// åˆ›å»ºå®¢æˆ·ç«¯å¯¹è±¡  </span>    Client client <span class="token operator">=</span> Client<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">// è¿æ¥å›¾ç‰‡æœåŠ¡å™¨  </span>    WebResource webResource <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">resource</span><span class="token punctuation">(</span>path<span class="token operator">+</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// ä¸Šä¼ æ–‡ä»¶   </span>    webResource<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>upload<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">return</span> <span class="token string">"success"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre></li></ol><hr><h2 id="SpringMVCçš„å¼‚å¸¸å¤„ç†"><a href="#SpringMVCçš„å¼‚å¸¸å¤„ç†" class="headerlink" title="SpringMVCçš„å¼‚å¸¸å¤„ç†"></a>SpringMVCçš„å¼‚å¸¸å¤„ç†</h2><ul><li><p>å¼‚å¸¸å¤„ç†æ€è·¯ ï¼šControllerè°ƒç”¨serviceï¼Œserviceè°ƒç”¨daoï¼Œå¼‚å¸¸éƒ½æ˜¯å‘ä¸ŠæŠ›å‡ºçš„ï¼Œæœ€ç»ˆæœ‰DispatcherServletæ‰¾<strong>å¼‚å¸¸å¤„ç†å™¨</strong>è¿›è¡Œå¼‚å¸¸çš„å¤„ç†</p></li><li><p>å‰æï¼šç¨‹åºçš„å¼‚å¸¸å¿…é¡»æŠ“å¹¶æŠ›è‡ªå·±å®šä¹‰çš„å¼‚å¸¸</p></li><li><p>æ­¥éª¤ï¼ˆç®€å•å¼‚å¸¸å¤„ç†å™¨ï¼‰ï¼š</p><blockquote><p>é‡åˆ°å¼‚å¸¸ï¼Œåªèƒ½è·³è½¬åˆ°æŒ‡å®šçš„é¡µé¢ã€‚ä¸èƒ½å¢åŠ å…¶ä»–é€»è¾‘</p></blockquote><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.web.servlet.handler.SimpleMappingExceptionResolver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>defaultErrorView<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--æ²¡æœ‰åŒ¹é…åˆ°çš„å¼‚å¸¸è·³è½¬åˆ°è¿™ä¸ªï¼Œerrorï¼Œå› ä¸ºé…ç½®äº†è§†å›¾è§£æå™¨ï¼Œæ‰€ä»¥ç›´æ¥è¾“å…¥errorå³å¯è·³è½¬error.jsp--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>exceptionMappings<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>java.lang.ClassCastException<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>error2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.jm.MyException<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>error3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li><li><p>æ­¥éª¤ï¼ˆè‡ªå®šä¹‰å¼‚å¸¸ï¼‰ï¼š</p><ol><li><p>è‡ªå®šä¹‰å¼‚å¸¸ç±»</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ç»§æ‰¿Exceptionç±»</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SysException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// å¼‚å¸¸æç¤ºä¿¡æ¯    </span>    <span class="token keyword">private</span> String message<span class="token punctuation">;</span>        <span class="token keyword">public</span> String <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">return</span> message<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMessage</span><span class="token punctuation">(</span>String message<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>    <span class="token punctuation">}</span>       <span class="token keyword">public</span> <span class="token function">SysException</span><span class="token punctuation">(</span>String message<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre></li><li><p>è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†å™¨</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** * å¼‚å¸¸å¤„ç†å™¨ :å®ç°HandlerExceptionResolver*/</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SysExceptionResolver</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerExceptionResolver</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/**     * è·³è½¬åˆ°å…·ä½“çš„é”™è¯¯é¡µé¢çš„æ–¹æ³•         exï¼šç¨‹åºæ‰§è¡Œæ—¶æŠ›å‡ºçš„å¼‚å¸¸ï¼ˆå‰æï¼šç¨‹åºçš„å¼‚å¸¸å¿…é¡»æŠ“å¹¶æŠ›è‡ªå·±å®šä¹‰çš„å¼‚å¸¸ï¼‰    */</span>       <span class="token keyword">public</span> ModelAndView <span class="token function">resolveException</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Object handler<span class="token punctuation">,</span>Exception ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>            ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             SysException e <span class="token operator">=</span> null<span class="token punctuation">;</span>              <span class="token comment" spellcheck="true">// è·å–åˆ°å¼‚å¸¸å¯¹è±¡      </span>        <span class="token keyword">if</span><span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">SysException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//æ˜¯è‡ªå·±å®šä¹‰çš„å¼‚å¸¸ç±»å¯¹è±¡</span>            e <span class="token operator">=</span> <span class="token punctuation">(</span>SysException<span class="token punctuation">)</span> ex<span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>                     <span class="token comment" spellcheck="true">//ä¸æ˜¯è‡ªå·±å®šä¹‰çš„å¼‚å¸¸</span>            e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SysException</span><span class="token punctuation">(</span><span class="token string">"è¯·è”ç³»ç®¡ç†å‘˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token punctuation">}</span>             ModelAndView mv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// å­˜å…¥é”™è¯¯çš„æç¤ºä¿¡æ¯</span>        mv<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment" spellcheck="true">// è·³è½¬çš„Jspé¡µé¢</span>        mv<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token keyword">return</span> mv<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>é…ç½®å¼‚å¸¸å¤„ç†å™¨</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- é…ç½®å¼‚å¸¸å¤„ç†å™¨ æ­£å¸¸é…beanå°±è¡Œ--></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sysExceptionResolver<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.itcast.exception.SysExceptionResolver<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></code></pre></li></ol></li></ul><hr><h2 id="SpringMVCæ¡†æ¶ä¸­çš„æ‹¦æˆªå™¨"><a href="#SpringMVCæ¡†æ¶ä¸­çš„æ‹¦æˆªå™¨" class="headerlink" title="SpringMVCæ¡†æ¶ä¸­çš„æ‹¦æˆªå™¨"></a>SpringMVCæ¡†æ¶ä¸­çš„æ‹¦æˆªå™¨</h2><p>æ¦‚è¿°ï¼šç”¨äºå¯¹å¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’Œåå¤„ç†çš„æŠ€æœ¯</p><p><strong>æ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨çš„åŠŸèƒ½æ¯”è¾ƒç±»ä¼¼ï¼Œæœ‰åŒºåˆ«</strong></p><ol><li>è¿‡æ»¤å™¨æ˜¯Servletè§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œä»»ä½•æ¡†æ¶éƒ½å¯ä»¥ä½¿ç”¨è¿‡æ»¤å™¨æŠ€æœ¯ã€‚ </li><li>æ‹¦æˆªå™¨æ˜¯SpringMVCæ¡†æ¶ç‹¬æœ‰çš„ã€‚ </li><li>è¿‡æ»¤å™¨é…ç½®äº†/*ï¼Œå¯ä»¥æ‹¦æˆªä»»ä½•èµ„æºã€‚ </li><li>æ‹¦æˆªå™¨åªä¼šå¯¹æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•è¿›è¡Œæ‹¦æˆªã€‚ </li></ol><p>æƒ³è¦è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œéœ€è¦å®ç°HandlerInterceptoræ¥å£</p><h3 id="æ­¥éª¤ï¼š-1"><a href="#æ­¥éª¤ï¼š-1" class="headerlink" title="æ­¥éª¤ï¼š"></a>æ­¥éª¤ï¼š</h3><ol><li><p>åˆ›å»ºæ‹¦æˆªå™¨ç±»ï¼Œå®ç°æ¥å£ï¼ˆæ¥å£å†…éƒ¨å·²ç»å®ç°äº†æ–¹æ³•ï¼Œéœ€è¦è‡ªå·±é‡è½½ï¼‰</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyInterceptor1</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/**         * controlleræ–¹æ³•æ‰§è¡Œå‰ï¼Œè¿›è¡Œæ‹¦æˆªçš„æ–¹æ³•         * return trueæ”¾è¡Œ         * return falseæ‹¦æˆª         * å¯ä»¥ä½¿ç”¨è½¬å‘æˆ–è€…é‡å®šå‘ç›´æ¥è·³è½¬åˆ°æŒ‡å®šçš„é¡µé¢ã€‚         */</span>        <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Object handler<span class="token punctuation">)</span><span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>               System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‹¦æˆªå™¨æ‰§è¡Œäº†..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>åœ¨springmvc.xmlä¸­é…ç½®æ‹¦æˆªå™¨ç±»</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- é…ç½®æ‹¦æˆªå™¨ --></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">></span></span>               <span class="token comment" spellcheck="true">&lt;!-- å“ªäº›æ–¹æ³•è¿›è¡Œæ‹¦æˆª --></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/user/*<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>             <span class="token comment" spellcheck="true">&lt;!-- å“ªäº›æ–¹æ³•ä¸è¿›è¡Œæ‹¦æˆª             &lt;mvc:exclude-mapping path=""/>            --></span>            <span class="token comment" spellcheck="true">&lt;!-- æ³¨å†Œæ‹¦æˆªå™¨å¯¹è±¡ --></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.itcast.demo1.MyInterceptor1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">></span></span>     <span class="token comment" spellcheck="true">&lt;!--ç¬¬äºŒä¸ªæ‹¦æˆªå™¨ä¹Ÿæ˜¯è¦å…¨éƒ¨é…ç½®mvc:interceptorï¼Œä¸”æ‹¦æˆªé¡ºåºæŒ‰é…ç½®çš„é¡ºåºæ‰§è¡Œï¼Œ12æ–¹æ³•21--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">></span></span></code></pre></li></ol><h3 id="HandlerInterceptoræ¥å£ä¸­çš„æ–¹æ³•"><a href="#HandlerInterceptoræ¥å£ä¸­çš„æ–¹æ³•" class="headerlink" title="HandlerInterceptoræ¥å£ä¸­çš„æ–¹æ³•"></a>HandlerInterceptoræ¥å£ä¸­çš„æ–¹æ³•</h3><h4 id="preHandleæ–¹æ³•ï¼šæ§åˆ¶å™¨æ–¹æ³•æ‰§è¡Œå‰æ‹¦æˆª"><a href="#preHandleæ–¹æ³•ï¼šæ§åˆ¶å™¨æ–¹æ³•æ‰§è¡Œå‰æ‹¦æˆª" class="headerlink" title="preHandleæ–¹æ³•ï¼šæ§åˆ¶å™¨æ–¹æ³•æ‰§è¡Œå‰æ‹¦æˆª"></a>preHandleæ–¹æ³•ï¼šæ§åˆ¶å™¨æ–¹æ³•æ‰§è¡Œå‰æ‹¦æˆª</h4><ol><li>å¯ä»¥ä½¿ç”¨requestæˆ–è€…responseè·³è½¬åˆ°æŒ‡å®šçš„é¡µé¢ </li><li>return trueæ”¾è¡Œï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œå¦‚æœæ²¡æœ‰æ‹¦æˆªå™¨ï¼Œæ‰§è¡Œcontrollerä¸­çš„æ–¹æ³•ã€‚ </li><li>return falseä¸æ”¾è¡Œï¼Œä¸ä¼šæ‰§è¡Œcontrollerä¸­çš„æ–¹æ³•ã€‚</li></ol><h4 id="postHandleæ–¹æ³•æ˜¯controlleræ–¹æ³•æ‰§è¡Œåæ‹¦æˆª"><a href="#postHandleæ–¹æ³•æ˜¯controlleræ–¹æ³•æ‰§è¡Œåæ‹¦æˆª" class="headerlink" title="postHandleæ–¹æ³•æ˜¯controlleræ–¹æ³•æ‰§è¡Œåæ‹¦æˆª"></a>postHandleæ–¹æ³•æ˜¯controlleræ–¹æ³•æ‰§è¡Œåæ‹¦æˆª</h4><ol><li>å¯ä»¥ä½¿ç”¨requestæˆ–è€…responseè·³è½¬åˆ°æŒ‡å®šçš„é¡µé¢ </li><li>å¦‚æœæŒ‡å®šäº†è·³è½¬çš„é¡µé¢ï¼Œé‚£ä¹ˆcontrolleræ–¹æ³•è·³è½¬çš„é¡µé¢å°†ä¸ä¼šæ˜¾ç¤ºï¼Œä½†è¾“å‡ºæ§åˆ¶å°çš„ä»ç„¶ä¼šæ‰§è¡Œã€‚</li><li>å‚æ•°ModelAndViewå¯ä»¥å°†å‚æ•°ä¿®æ”¹</li></ol><h4 id="afterCompletionæ–¹æ³•æ˜¯åœ¨é¡µé¢åŠ è½½åæ‰§è¡Œ"><a href="#afterCompletionæ–¹æ³•æ˜¯åœ¨é¡µé¢åŠ è½½åæ‰§è¡Œ" class="headerlink" title="afterCompletionæ–¹æ³•æ˜¯åœ¨é¡µé¢åŠ è½½åæ‰§è¡Œ"></a>afterCompletionæ–¹æ³•æ˜¯åœ¨é¡µé¢åŠ è½½åæ‰§è¡Œ</h4><ol><li>requestæˆ–è€…responseä¸èƒ½å†è·³è½¬é¡µé¢äº†</li></ol>]]></content>
      
      
      <categories>
          
          <category> ssmæ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ssmæ¡†æ¶æ•´åˆ</title>
      <link href="/2020/06/22/ssm-kuang-jia/ssm-zheng-he/"/>
      <url>/2020/06/22/ssm-kuang-jia/ssm-zheng-he/</url>
      
        <content type="html"><![CDATA[<h1 id="SSMæ•´åˆ"><a href="#SSMæ•´åˆ" class="headerlink" title="SSMæ•´åˆ"></a>SSMæ•´åˆ</h1><h2 id="æ­å»ºæ•´åˆç¯å¢ƒ"><a href="#æ­å»ºæ•´åˆç¯å¢ƒ" class="headerlink" title="æ­å»ºæ•´åˆç¯å¢ƒ"></a>æ­å»ºæ•´åˆç¯å¢ƒ</h2><ul><li><p>æ€è·¯</p><ul><li>æ•´åˆè¯´æ˜ï¼šSSMæ•´åˆå¯ä»¥ä½¿ç”¨å¤šç§æ–¹å¼ï¼Œå’±ä»¬ä¼šé€‰æ‹©XML + æ³¨è§£çš„æ–¹å¼ </li><li><ol><li>å…ˆæ­å»ºæ•´åˆçš„ç¯å¢ƒ </li><li>å…ˆæŠŠSpringçš„é…ç½®æ­å»ºå®Œæˆï¼ˆspringæ•´åˆå…¶ä»–ä¸¤ä¸ªï¼‰</li><li>å†ä½¿ç”¨Springæ•´åˆSpringMVCæ¡†æ¶ </li><li> æœ€åä½¿ç”¨Springæ•´åˆMyBatisæ¡†æ¶</li></ol></li></ul></li><li><p>æ­¥éª¤</p><ol><li><p>å¯¼å…¥åæ ‡ä¾èµ–</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring.version</span><span class="token punctuation">></span></span>5.0.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring.version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slf4j.version</span><span class="token punctuation">></span></span>1.6.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slf4j.version</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>log4j.version</span><span class="token punctuation">></span></span>1.2.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>log4j.version</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mysql.version</span><span class="token punctuation">></span></span>5.1.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mysql.version</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mybatis.version</span><span class="token punctuation">></span></span>3.4.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mybatis.version</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- spring --></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>aspectjweaver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.6.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-tx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${mysql.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token comment" spellcheck="true">&lt;!-- log start --></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${log4j.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>slf4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${slf4j.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>slf4j-log4j12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${slf4j.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>           <span class="token comment" spellcheck="true">&lt;!-- log end --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${mybatis.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>c3p0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>c3p0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.9.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>                       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre></li><li><p>ç¼–å†™å®ä½“ç±»ï¼Œåœ¨ssm_domainé¡¹ç›®ä¸­ç¼–å†™</p></li><li><p>ç¼–å†™daoæ¥å£</p></li><li><p>ç¼–å†™serviceæ¥å£å’Œå®ç°ç±»</p></li></ol></li></ul><h2 id="Springæ¡†æ¶ä»£ç çš„ç¼–å†™"><a href="#Springæ¡†æ¶ä»£ç çš„ç¼–å†™" class="headerlink" title="Springæ¡†æ¶ä»£ç çš„ç¼–å†™"></a>Springæ¡†æ¶ä»£ç çš„ç¼–å†™</h2><ul><li><p>æ­¥éª¤</p><ol><li><p>åˆ›å»ºapplicationContext.xmlçš„ï¼ˆspringçš„ï¼‰é…ç½®æ–‡ä»¶</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/aop<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>tx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/tx<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans     http://www.springframework.org/schema/beans/spring-beans.xsd    http://www.springframework.org/schema/context    http://www.springframework.org/schema/context/spring-context.xsd    http://www.springframework.org/schema/aop    http://www.springframework.org/schema/aop/spring-aop.xsdhttp://www.springframework.org/schema/tx     http://www.springframework.org/schema/tx/spring-tx.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment" spellcheck="true">&lt;!-- å¼€å¯æ³¨è§£æ‰«æï¼Œè¦æ‰«æçš„æ˜¯serviceå’Œdaoå±‚çš„æ³¨è§£ï¼Œè¦å¿½ç•¥webå±‚æ³¨è§£ï¼Œå› ä¸ºwebå±‚è®©SpringMVCæ¡†æ¶ å»ç®¡ç† --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.itcast<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>           <span class="token comment" spellcheck="true">&lt;!-- é…ç½®è¦å¿½ç•¥çš„æ³¨è§£(springé…ç½®æ–‡ä»¶åªæ‰«æserviceå’Œdaoçš„æ³¨è§£ï¼Œè¡¨ç°å±‚controllerçš„æ³¨è§£ä¸æ‰«) --></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>exclude-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>annotation<span class="token punctuation">"</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.stereotype.Controller<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre></li></ol></li></ul><h2 id="Springæ•´åˆSpringMVCæ¡†æ¶"><a href="#Springæ•´åˆSpringMVCæ¡†æ¶" class="headerlink" title="Springæ•´åˆSpringMVCæ¡†æ¶"></a>Springæ•´åˆSpringMVCæ¡†æ¶</h2><blockquote><p>springmvcåªåŠ è½½äº†controllerçš„beanï¼Œspringçš„applicationContext.xmlæ–‡ä»¶å¹¶æ²¡æœ‰åŠ è½½ï¼Œserviceä¹Ÿæ²¡æœ‰åŠ åˆ°springå®¹å™¨ä¸­ï¼Œcontrolleræ³¨å…¥serviceä¸æˆåŠŸã€‚æ‰€ä»¥æ•´åˆç›®çš„æ˜¯åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œä¹Ÿä¼šåŠ è½½springçš„é…ç½®æ–‡ä»¶ï¼Œserviceå°±å¯ä»¥è¢«controlleræ³¨å…¥æˆåŠŸå¹¶è°ƒç”¨äº†ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶åŠ è½½å‘¢ï¼ŒæœåŠ¡å™¨å¯åŠ¨æœ‰ä¸€ä¸ªservletcontextåŸŸå¯¹è±¡ä¼šè¢«åˆ›å»ºï¼Œå…³é—­æ—¶é”€æ¯ã€‚åœ¨spring-webçš„ä¾èµ–ä¸­æœ‰ä¸€ä¸ªç›‘å¬å™¨ContextLoaderListeneræ¥ç›‘å¬servletContextçš„åˆ›å»ºå’Œé”€æ¯ã€‚</p><p>è¿™ä¸ªç›‘å¬å™¨é»˜è®¤æ˜¯ç›‘å¬</p></blockquote><ul><li><p>æ­¥éª¤</p><ol><li><p>åœ¨web.xmlä¸­é…ç½®DispatcherServletå‰ç«¯æ§åˆ¶å™¨</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- é…ç½®å‰ç«¯æ§åˆ¶å™¨ï¼šæœåŠ¡å™¨å¯åŠ¨æ—¶åŠ è½½ï¼Œéœ€è¦åŠ è½½springmvc.xmlé…ç½®æ–‡ä»¶ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- é…ç½®åˆå§‹åŒ–å‚æ•°ï¼Œåˆ›å»ºå®ŒDispatcherServletå¯¹è±¡ï¼ŒåŠ è½½springmvc.xmlé…ç½®æ–‡ä»¶ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>classpath:springmvc.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span>         <span class="token comment" spellcheck="true">&lt;!-- æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œè®©DispatcherServletå¯¹è±¡åˆ›å»º --></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span></code></pre></li><li><p>åœ¨web.xmlä¸­é…ç½®DispatcherServletè¿‡æ»¤å™¨è§£å†³ä¸­æ–‡ä¹±ç </p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- é…ç½®è§£å†³ä¸­æ–‡ä¹±ç çš„è¿‡æ»¤å™¨ --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">></span></span>org.springframework.web.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">></span></span></code></pre></li><li><p>åˆ›å»ºspringmvc.xmlçš„é…ç½®æ–‡ä»¶</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/mvc<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>        http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd        http://www.springframework.org/schema/mvc        http://www.springframework.org/schema/mvc/spring-mvc.xsd        http://www.springframework.org/schema/context        http://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>     <span class="token comment" spellcheck="true">&lt;!-- æ‰«æcontrollerçš„æ³¨è§£ï¼Œåˆ«çš„ä¸æ‰«æ,éœ€è¦ç”¨exclude --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.itcast<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>include-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>annotation<span class="token punctuation">"</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.stereotype.Controller<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span>          <span class="token comment" spellcheck="true">&lt;!-- é…ç½®è§†å›¾è§£æå™¨ --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewResolver<span class="token punctuation">"</span></span>    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>             <span class="token comment" spellcheck="true">&lt;!-- JSPæ–‡ä»¶æ‰€åœ¨çš„ç›®å½• --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prefix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/WEB-INF/pages/<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>           <span class="token comment" spellcheck="true">&lt;!-- æ–‡ä»¶çš„åç¼€å --></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>suffix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.jsp<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>     <span class="token comment" spellcheck="true">&lt;!-- è®¾ç½®é™æ€èµ„æºä¸è¿‡æ»¤ --></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/css/<span class="token punctuation">"</span></span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/css/**<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/images/<span class="token punctuation">"</span></span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/images/**<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/js/<span class="token punctuation">"</span></span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/js/**<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>     <span class="token comment" spellcheck="true">&lt;!-- å¼€å¯å¯¹SpringMVCæ³¨è§£çš„æ”¯æŒ --></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span> <span class="token punctuation">/></span></span>    <span class="token comment" spellcheck="true">&lt;!--çº¯æ³¨è§£çš„æ–¹å¼ï¼š@EnableWebMvc--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre></li></ol></li></ul><ol start="4"><li>æµ‹è¯•SpringMVCçš„æ¡†æ¶æ­å»ºæ˜¯å¦æˆåŠŸ<pre><code>ç¼–å†™index.jspå’Œlist.jspç¼–å†™ï¼Œè¶…é“¾æ¥&lt;a href="account/findAll"&gt;æŸ¥è¯¢æ‰€æœ‰&lt;/a&gt;</code></pre><pre class=" language-java"><code class="language-java">åˆ›å»ºAccountControllerç±»ï¼Œç¼–å†™æ–¹æ³•ï¼Œè¿›è¡Œæµ‹è¯•<span class="token annotation punctuation">@Controller</span> <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/account"</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountController</span> <span class="token punctuation">{</span>          <span class="token comment" spellcheck="true">/**     * æŸ¥è¯¢æ‰€æœ‰çš„æ•°æ®      */</span>        <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/findAll"</span><span class="token punctuation">)</span>       <span class="token keyword">public</span> String <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>           System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¡¨ç°å±‚ï¼šæŸ¥è¯¢æ‰€æœ‰è´¦æˆ·..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token keyword">return</span> <span class="token string">"list"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span> </code></pre></li><li><strong>æ•´åˆ</strong><ul><li>ç›®çš„ï¼šåœ¨controllerä¸­èƒ½æˆåŠŸçš„è°ƒç”¨serviceå¯¹è±¡ä¸­çš„æ–¹æ³•</li><li>åœ¨é¡¹ç›®å¯åŠ¨çš„æ—¶å€™ï¼Œå°±å»åŠ è½½applicationContext.xmlï¼ˆspringçš„ï¼‰çš„é…ç½®æ–‡ä»¶</li></ul><ol><li><p>åœ¨web.xmlä¸­é…ç½® ContextLoaderListenerç›‘å¬å™¨</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- é…ç½®Springçš„ç›‘å¬å™¨,spring-webæä¾›çš„ç›‘å¬å™¨ --></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">></span></span>org.springframework.web.context.ContextLoaderListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listenerclass</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">></span></span>   <span class="token comment" spellcheck="true">&lt;!-- é…ç½®åŠ è½½ç±»è·¯å¾„çš„é…ç½®æ–‡ä»¶ --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>classpath:applicationContext.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">></span></span></code></pre></li><li><p>åœ¨controllerä¸­æ³¨å…¥serviceå¯¹è±¡ï¼Œè°ƒç”¨serviceå¯¹è±¡çš„æ–¹æ³•è¿›è¡Œæµ‹è¯•</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Controller</span> <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/account"</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountController</span> <span class="token punctuation">{</span>           <span class="token annotation punctuation">@Autowired</span>      <span class="token keyword">private</span> AccountService accoutService<span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">/**     * æŸ¥è¯¢æ‰€æœ‰çš„æ•°æ®     */</span>       <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/findAll"</span><span class="token punctuation">)</span>      <span class="token keyword">public</span> String <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¡¨ç°å±‚ï¼šæŸ¥è¯¢æ‰€æœ‰è´¦æˆ·..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            accoutService<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token string">"list"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li></ol></li></ol><h2 id="Springæ•´åˆSpringMVCæ¡†æ¶ï¼ˆçº¯æ³¨è§£ç‰ˆï¼‰"><a href="#Springæ•´åˆSpringMVCæ¡†æ¶ï¼ˆçº¯æ³¨è§£ç‰ˆï¼‰" class="headerlink" title="Springæ•´åˆSpringMVCæ¡†æ¶ï¼ˆçº¯æ³¨è§£ç‰ˆï¼‰"></a>Springæ•´åˆSpringMVCæ¡†æ¶ï¼ˆçº¯æ³¨è§£ç‰ˆï¼‰</h2><ol><li>åˆ›å»ºapplicationContext.xmlçš„ï¼ˆspringçš„ï¼‰é…ç½®æ–‡ä»¶ï¼Œæ³¨è§£ä¸­å«é…ç½®ç±»</li></ol><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//Springçš„å®¹å™¨ä¸æ‰«æcontroller</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"com.atguigu"</span><span class="token punctuation">,</span>excludeFilters<span class="token operator">=</span><span class="token punctuation">{</span>    <span class="token annotation punctuation">@Filter</span><span class="token punctuation">(</span>type<span class="token operator">=</span>FilterType<span class="token punctuation">.</span>ANNOTATION<span class="token punctuation">,</span>classes<span class="token operator">=</span><span class="token punctuation">{</span>Controller<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RootConfig</span><span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><ol start="2"><li>åˆ›å»ºSpringMVC.xmlçš„é…ç½®æ–‡ä»¶ï¼Œæ³¨è§£ä¸­å«é…ç½®ç±»</li></ol><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//SpringMVCå®¹å™¨åªæ‰«æcontroller</span><span class="token comment" spellcheck="true">//åªæ‰«æéœ€è¦ç¦ç”¨é»˜è®¤çš„è¿‡æ»¤è§„åˆ™    useDefaultFilters=false</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"com.atguigu"</span><span class="token punctuation">,</span>includeFilters<span class="token operator">=</span><span class="token punctuation">{</span>    <span class="token annotation punctuation">@Filter</span><span class="token punctuation">(</span>type<span class="token operator">=</span>FilterType<span class="token punctuation">.</span>ANNOTATION<span class="token punctuation">,</span>classes<span class="token operator">=</span><span class="token punctuation">{</span>Controller<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">,</span>useDefaultFilters<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span><span class="token punctuation">{</span>    <span class="token punctuation">}</span></code></pre><ol start="3"><li>åˆ›å»ºMyWebAppInitializerï¼Œç»§æ‰¿AbstractAnnotationConfigDispatcherServletInitializer</li></ol><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//Webå®¹å™¨å¯åŠ¨çš„æ—¶å€™åˆ›å»ºå¯¹è±¡ï¼Œè°ƒç”¨æ–¹æ³•æ¥åˆå§‹åŒ–ä»¥å‰å‰ç«¯æ§åˆ¶å™¨</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyWebAppInitializer</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractAnnotationConfigDispatcherServletInitializer</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//é‡å†™æ–¹æ³•</span>    <span class="token comment" spellcheck="true">//è·å–æ ¹å®¹å™¨çš„é…ç½®ç±»ï¼Œspringé…ç½®ç±»</span>    <span class="token keyword">protected</span> Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getRootConfigClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>RootConfig<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//è·å–webå®¹å™¨çš„é…ç½®ç±»ï¼ŒspringMVCé…ç½®ç±»</span>    <span class="token keyword">protected</span> Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletConfigClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>AppConfig<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//è·å–DispatcherServletçš„æ˜ å°„ä¿¡æ¯</span>    <span class="token comment" spellcheck="true">// /ï¼šæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼ˆåŒ…æ‹¬é™æ€èµ„æºjs,cssï¼‰ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬*.jsp</span>    <span class="token comment" spellcheck="true">// /*:æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼Œjspä¹Ÿä¼šæ‹¦æˆª</span>    <span class="token keyword">protected</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletMappings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"/"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><ol start="4"><li>å®šåˆ¶mvcï¼šå¼€å¯æ³¨è§£ï¼Œé…ç½®è§†å›¾è§£æå™¨â€¦â€¦</li></ol><p>ä¸‰å¤§æ­¥ï¼š</p><ul><li><p>@EnableWebMvcï¼Œå¼€å¯SpringMVCå®šåˆ¶åŠŸèƒ½ï¼Œä¸&lt;mvc:annotation-driven /&gt;åŠŸèƒ½ç›¸åŒ</p></li><li><p>ç»§æ‰¿WebMvcConfigurerAdapter</p></li><li><p>é‡å†™æ–¹æ³•ï¼Œè¿›è¡Œå®šåˆ¶</p></li></ul><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"com.atguigu"</span><span class="token punctuation">,</span>includeFilters<span class="token operator">=</span><span class="token punctuation">{</span>    <span class="token annotation punctuation">@Filter</span><span class="token punctuation">(</span>type<span class="token operator">=</span>FilterType<span class="token punctuation">.</span>ANNOTATION<span class="token punctuation">,</span>classes<span class="token operator">=</span><span class="token punctuation">{</span>Controller<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">,</span>useDefaultFilters<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token annotation punctuation">@EnableWebMvc</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebMvcConfigurerAdapter</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//é‡å†™æ–¹æ³• alt+/</span>    <span class="token comment" spellcheck="true">//é…ç½®è§†å›¾è§£æå™¨</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureViewResolvers</span><span class="token punctuation">(</span>ViewResolverRegistry registry<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//å‰ç¼€ï¼Œåç¼€</span>        registry<span class="token punctuation">.</span><span class="token function">jsp</span><span class="token punctuation">(</span><span class="token string">"/WEB-INF/views/"</span><span class="token punctuation">,</span><span class="token string">".jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//é…ç½®é™æ€èµ„æºè®¿é—®ï¼Œæ‰€æœ‰é™æ€èµ„æºäº¤ç»™tomcatæ¥è®¿é—®ï¼Œä¸ä½¿ç”¨springMVCè¿›è¡Œè¿‡æ»¤</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureDefaultServletHandling</span><span class="token punctuation">(</span>DefaultServletHandlerConfigurer configurer<span class="token punctuation">)</span><span class="token punctuation">{</span>        configurer<span class="token punctuation">.</span><span class="token function">enable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//é…ç½®æ‹¦æˆªå™¨</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span>InterceptorRegistry registry<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//å°†è‡ªå®šä¹‰çš„æ‹¦æˆªå™¨ç±»åŠ åˆ°ç»„ä»¶ä¸­ï¼Œå¹¶è®¾ç½®æ‹¦æˆªçš„è·¯å¾„</span>        registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyFirstInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPathPatterns</span><span class="token punctuation">(</span><span class="token string">"/**"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="Springæ•´åˆMyBatisæ¡†æ¶"><a href="#Springæ•´åˆMyBatisæ¡†æ¶" class="headerlink" title="Springæ•´åˆMyBatisæ¡†æ¶"></a>Springæ•´åˆMyBatisæ¡†æ¶</h2><ul><li><p>æ­¥éª¤ï¼š</p><ol><li><p>åœ¨webé¡¹ç›®ä¸­ç¼–å†™SqlMapConï¬g.xmlçš„é…ç½®æ–‡ä»¶ï¼Œç¼–å†™æ ¸å¿ƒé…ç½®æ–‡ä»¶</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token doctype">&lt;!DOCTYPE configuration    PUBLIC "-//mybatis.org//DTD Config 3.0//EN"    "http://mybatis.org/dtd/mybatis-3-config.dtd"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mysql<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mysql<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>JDBC<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POOLED<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql:///ssm<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">></span></span>            <span class="token comment" spellcheck="true">&lt;!-- ä½¿ç”¨çš„æ˜¯æ³¨è§£ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">></span></span>               <span class="token comment" spellcheck="true">&lt;!-- &lt;mapper class="cn.itcast.dao.AccountDao"/> --></span>                <span class="token comment" spellcheck="true">&lt;!-- è¯¥åŒ…ä¸‹æ‰€æœ‰çš„daoæ¥å£éƒ½å¯ä»¥ä½¿ç”¨ --></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.itcast.dao<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></code></pre></li><li><p>åœ¨AccountDaoæ¥å£çš„æ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£ï¼Œç¼–å†™SQLè¯­å¥</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>           <span class="token annotation punctuation">@Insert</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"insert into account (name,money) values (#{name},#{money})"</span><span class="token punctuation">)</span>      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span>Account account<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select * from account"</span><span class="token punctuation">)</span>       <span class="token keyword">public</span> List<span class="token operator">&lt;</span>Account<span class="token operator">></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>ç¼–å†™æµ‹è¯•çš„æ–¹æ³•</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Test</span>   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>          <span class="token comment" spellcheck="true">// åŠ è½½é…ç½®æ–‡ä»¶      </span>    InputStream inputStream <span class="token operator">=</span> Resources<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"SqlMapConfig.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// åˆ›å»ºå·¥å‚      </span>    SqlSessionFactory factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">// åˆ›å»ºsqlSessionå¯¹è±¡     </span>    SqlSession session <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">// è·å–ä»£ç†å¯¹è±¡      </span>    AccountDao dao <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span>AccountDao<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">// è°ƒç”¨æŸ¥è¯¢çš„æ–¹æ³•    </span>    List<span class="token operator">&lt;</span>Account<span class="token operator">></span> list <span class="token operator">=</span> dao<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">for</span> <span class="token punctuation">(</span>Account account <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>               System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">// é‡Šæ”¾èµ„æº     </span>    session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          inputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre></li><li><p><strong>æ•´åˆ</strong></p><ul><li>ç›®çš„ï¼šå°†ç”Ÿæˆçš„ä»£ç†å¯¹è±¡å­˜å…¥åˆ°Springçš„å®¹å™¨å½“ä¸­ï¼ˆä¹‹å‰æ˜¯é€šè¿‡è‡ªå·±çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶æ¥é…ç½®ï¼‰</li></ul><ol><li><p>SqlMapConï¬g.xmlé…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹é…ç½®åˆ°applicationContext.xmlï¼ˆspringçš„ï¼‰é…ç½®æ–‡ä»¶ä¸­</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- é…ç½®C3P0çš„è¿æ¥æ± å¯¹è±¡ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.jdbc.datasource.DriverManagerDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClassName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql:///ssm<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>     <span class="token comment" spellcheck="true">&lt;!-- é…ç½®SqlSessionçš„å·¥å‚,åº•å±‚å·¥å‚åˆ›å»ºsqlsessionï¼Œsqlsessionåˆ›å»ºä»£ç†å¯¹è±¡å­˜å…¥iocå®¹å™¨ä¸­--></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sqlSessionFactory<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>       <span class="token comment" spellcheck="true">&lt;!--å¦‚æœä¸æ˜¯çº¯æ³¨è§£æ–¹å¼ï¼Œè¿˜éœ€è¦æ³¨å…¥mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>configLocation<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>classpath:sqlMapConfig.xml<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>      <span class="token comment" spellcheck="true">&lt;!-- é…ç½®æ‰«ædaoçš„åŒ…ï¼Œåº•å±‚å‘Šè¯‰sqlsessionåˆ›å»ºè°çš„ä»£ç†å¯¹è±¡ --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mapperScanner<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--æ³¨å…¥sqlSessionFactory--></span><span class="token comment" spellcheck="true">&lt;!--    &lt;property name="sqlSessionFactoryBeanName" value="sqlSessionFactory">&lt;/property>   --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>basePackage<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.itcast.dao<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li><li><p>åœ¨AccountDaoæ¥å£ä¸­æ·»åŠ @Repositoryæ³¨è§£</p></li><li><p>åœ¨serviceä¸­æ³¨å…¥daoå¯¹è±¡ï¼Œæµ‹è¯•ï¼ˆè¿™æ ·çœŸæ­£æ³¨å…¥çš„å¯¹è±¡å°±æ˜¯ä»£ç†å¯¹è±¡äº†ï¼Œè€Œä¸æ˜¯åŸæ¥daoImplçš„å®ç°ç±»å¯¹è±¡ï¼‰</p></li><li><p>é…ç½®Springçš„å£°æ˜å¼äº‹åŠ¡ç®¡ç†</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!-- é…ç½®äº‹åŠ¡çš„é€šçŸ¥ --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>advice</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>txAdvice<span class="token punctuation">"</span></span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ï¬nd*<span class="token punctuation">"</span></span> <span class="token attr-name">read-only</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span> <span class="token attr-name">isolation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>DEFAULT<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>advice</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- é…ç½® aop --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>conï¬g</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ --></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>execution(* com.itheima.service.impl.*.*(..))<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pt1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>     <span class="token comment" spellcheck="true">&lt;!-- å»ºç«‹é€šçŸ¥å’Œåˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„å…³ç³» --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>advisor</span> <span class="token attr-name">advice-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>txAdvice<span class="token punctuation">"</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pt1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>conï¬g</span><span class="token punctuation">></span></span></code></pre></li><li><p>æµ‹è¯•ï¼šåœ¨ä¸šåŠ¡å±‚ç¼–å†™è½¬è´¦æ–¹æ³•ï¼Œä¸èƒ½åœ¨controllerè¡¨ç°å±‚ç¼–å†™</p><ul><li><strong>bugï¼šåœ¨è¡¨ç°å±‚ç¼–å†™ï¼Œäº‹åŠ¡ä¸èƒ½èµ·æ•ˆæœï¼Œå› ä¸ºäº‹åŠ¡åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ˜¯ä¸šåŠ¡å±‚</strong></li></ul></li></ol></li></ol></li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é…ç½®æ–‡ä»¶ï¼š</p><ol><li><p>web.xmlï¼š    </p><ol><li>ContextLoaderListenerç›‘å¬å™¨ï¼ˆåŠ è½½Springé…ç½®æ–‡ä»¶ï¼‰ã€</li><li>DispatcherServletå‰ç«¯æ§åˆ¶å™¨ï¼ˆåŠ è½½SpringMVCé…ç½®æ–‡ä»¶ï¼‰ã€</li><li>CharacterEncodingFilterï¼ˆä¸­æ–‡ä¹±ç é—®é¢˜ï¼‰</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">"</span></span>         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span>         <span class="token attr-name">metadata-complete</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--ä½¿ç”¨2.4ä»¥ä¸Šçš„è¡¨å¤´ï¼Œä¸ç„¶ä¼šå‡ºç°404--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>display-name</span><span class="token punctuation">></span></span>Archetype Created Web Application<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>display-name</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!--é…ç½®applicationContextç›‘å¬å™¨ï¼ŒåŠ è½½springé…ç½®æ–‡ä»¶--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">></span></span>org.springframework.web.context.ContextLoaderListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!--é…ç½®åŠ è½½ç±»è·¯å¾„ä¸‹çš„é…ç½®æ–‡ä»¶--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>classpath:applicationContext.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®å‰ç«¯æ§åˆ¶å™¨--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!--åŠ è½½springmvcé…ç½®æ–‡ä»¶--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>classpath:springmvc.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!--é…ç½®å¤„ç†ä¸­æ–‡ä¹±ç é—®é¢˜--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">></span></span>org.springframework.web.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">></span></span></code></pre></li><li><p>springMVC.xmlï¼š </p><ol><li>context:component-scan å¼€å¯æ³¨è§£æ‰«æï¼ˆåªæ‰«æmvcéƒ¨åˆ†ï¼‰ã€</li><li>InternalResourceViewResolver è§†å›¾è§£æå™¨</li><li><a href="mvc:default-servlet-handler">mvc:default-servlet-handler</a>æ’é™¤é™æ€èµ„æºè¿‡æ»¤</li><li>mvc:annotation-driven å¼€å¯MVCæ³¨è§£æ”¯æŒ</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/mvc<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>        http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd        http://www.springframework.org/schema/mvc        http://www.springframework.org/schema/mvc/spring-mvc.xsd        http://www.springframework.org/schema/context        http://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--å¼€å¯æ³¨è§£æ‰«æ--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>include-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>annotation<span class="token punctuation">"</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.stereotype.Controller<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®è§†å›¾è§£æå™¨--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewResolver<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prefix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/WEB-INF/pages/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>suffix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.jsp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--æ’é™¤é™æ€èµ„æºè¿‡æ»¤é—®é¢˜--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--å¼€å¯Mvcæ³¨è§£æ”¯æŒ--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre></li><li><p>applicationContext.xmlï¼š</p><ol><li>context:component-scan å¼€å¯æ³¨è§£æ‰«æï¼ˆæ’é™¤mvcéƒ¨åˆ†ï¼‰</li><li>é…ç½®Beanï¼šæ•°æ®æº ComboPooledDataSource/druid/</li><li>é…ç½®Beanï¼šå·¥å‚ç±»å¯¹è±¡ sqlSessionFactory</li><li>é…ç½®Beanï¼šæ˜ å°„çš„åŒ… MapperScannerConfigurer</li><li>é…ç½®Beanï¼šå¹³å°äº‹åŠ¡ç®¡ç†å™¨ DataSourceTransactionManager</li><li>é…ç½®äº‹åŠ¡é€šçŸ¥ï¼štransactionManager</li><li>é…ç½®äº‹åŠ¡Aopå¢å¼ºï¼šaop:config</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/aop<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>tx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/tx<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans     http://www.springframework.org/schema/beans/spring-beans.xsd    http://www.springframework.org/schema/context    http://www.springframework.org/schema/context/spring-context.xsd    http://www.springframework.org/schema/aop    http://www.springframework.org/schema/aop/spring-aop.xsdhttp://www.springframework.org/schema/tx     http://www.springframework.org/schema/tx/spring-tx.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--å¼€å¯æ³¨è§£æ‰«æ--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>exclude-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>annotation<span class="token punctuation">"</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.stereotype.Controller<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®æ•°æ®æºc3p0--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mchange.v2.c3p0.ComboPooledDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClass<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbcUrl<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/spring<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®å·¥å‚å¯¹è±¡--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sqlSessionFactory<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®æ˜ å°„çš„åŒ…--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mapperScanner<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- &lt;property name="sqlSessionFactoryBeanName" value="sqlSessionFactory">&lt;/property> --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>basePackage<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm.dao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®äº‹åŠ¡ç®¡ç†å™¨--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®äº‹åŠ¡é€šçŸ¥--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>advice</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>txAdvice<span class="token punctuation">"</span></span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>find*<span class="token punctuation">"</span></span> <span class="token attr-name">read-only</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">propagation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SUPPORTS<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>method</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">></span></span>/    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>advice</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®aopå¢å¼º--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pt1<span class="token punctuation">"</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>execution(* cn.hm.service.impl.*.*(..))<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>advisor</span> <span class="token attr-name">advice-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>txAdvice<span class="token punctuation">"</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pt1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>advisor</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre></li><li><p>sqlMapConfig.xml</p><ol><li>é…ç½®åˆ«å</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token doctype">&lt;!DOCTYPE configuration    PUBLIC "-//mybatis.org//DTD Config 3.0//EN"    "http://mybatis.org/dtd/mybatis-3-config.dtd"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm.dao<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> ssmæ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssmæ•´åˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springæ¡†æ¶</title>
      <link href="/2020/06/22/ssm-kuang-jia/spring/"/>
      <url>/2020/06/22/ssm-kuang-jia/spring/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h1><h2 id="Springæ¦‚è¿°"><a href="#Springæ¦‚è¿°" class="headerlink" title="Springæ¦‚è¿°"></a>Springæ¦‚è¿°</h2><ul><li><p>Springæ˜¯åˆ†å±‚çš„ Java SE/EEåº”ç”¨ full-stack è½»é‡çº§å¼€æºæ¡†æ¶ï¼Œä»¥<strong>IoCï¼ˆInverse Of Controlï¼š åè½¬æ§åˆ¶ï¼‰å’Œ AOPï¼ˆAspect Oriented Programmingï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰</strong>ä¸ºå†…æ ¸</p></li><li><p><strong>spring çš„ä¼˜åŠ¿</strong></p><ul><li>æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘</li><li>AOPç¼–ç¨‹çš„æ”¯æŒ</li><li>å£°æ˜å¼äº‹åŠ¡çš„æ”¯æŒ</li><li>æ–¹ä¾¿ç¨‹åºçš„æµ‹è¯•</li><li>æ–¹ä¾¿é›†æˆå„ç§ä¼˜ç§€æ¡†æ¶ </li><li>é™ä½ JavaEE APIçš„ä½¿ç”¨éš¾åº¦ </li></ul></li><li><p><strong>springçš„ä½“ç³»ç»“æ„</strong></p><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/spring1.png" alt="image-20200601133424281" style="zoom: 67%;"></li><li><p>IOCå’ŒAOP</p><p>**IOC:**æ‰€è°“æ§åˆ¶åè½¬å°±æ˜¯åº”ç”¨æœ¬èº«ä¾èµ–å¯¹è±¡çš„åˆ›å»ºå’Œç»´æŠ¤æƒåŠ›äº¤ç»™å¤–éƒ¨å®¹å™¨è´Ÿè´£çš„ã€‚è¿™æ ·æ§åˆ¶æƒå°±ç”±åº”ç”¨è½¬ç§»åˆ°äº†å¤–éƒ¨å®¹å™¨ï¼Œæ§åˆ¶æƒçš„è½¬ç§»å°±æ˜¯æ‰€è°“åè½¬ï¼Œç›®çš„æ˜¯ä¸ºäº†è§£è€¦ï¼Œè·å¾—æ›´å¥½çš„æ‰©å±•æ€§å’Œè‰¯å¥½çš„å¯ç»´æŠ¤æ€§ã€‚</p><p>æ ¸å¿ƒå®¹å™¨çš„ä¸»è¦ç»„ä»¶æ˜¯BeanFactoryå’ŒApplicationContextï¼Œå®ƒæ˜¯å·¥å‚æ¨¡å¼çš„å®ç°ï¼Œé€šè¿‡BeanFactoryåå°„å®ä¾‹åŒ–ä¸€ä¸ªbeanå¯¹è±¡ï¼Œå°†å…¶åŠ å…¥çš„springå®¹å™¨ä¸­ç®¡ç†ã€‚</p><p><strong>AOP</strong>:é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œä½¿ç”¨åŠ¨æ€ä»£ç†çš„è®¾è®¡æ¨¡å¼ï¼Œåœ¨ä¸æ”¹å˜åŸæ¥ä»£ç çš„åŸºç¡€ä¸ŠåŠ¨æ€çš„å¢åŠ åŠŸèƒ½ä»¥æ»¡è¶³æ–°çš„éœ€æ±‚ï¼Œå¦‚ï¼šåŠ¨æ€çš„å¢åŠ æ—¥å¿—ã€å®‰å…¨æˆ–å¼‚å¸¸å¤„ç†ç­‰ã€‚AOPä½¿ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºå¯é‡ç”¨æ€§ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚    </p></li><li><p>åŸä»£ç è€¦åˆï¼ˆç¨‹åºé—´çš„ä¾èµ–å…³ç³»ï¼‰é—®é¢˜çš„è§£å†³</p></li></ul><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/spring2.png" alt="image-20200601135015492" style="zoom:67%;"><ul><li><p>è§£å†³æ–¹æ¡ˆï¼š</p><ol><li><p>ä½¿ç”¨åå°„åˆ›å»ºå¯¹è±¡ï¼Œé¿å…ä½¿ç”¨Newå…³é”®å­—</p><pre><code>åœ¨åˆ›å»ºå¥½çš„å·¥å‚ç±»ä¸­ï¼Œä½¿ç”¨åå°„çš„æ–¹æ³•åˆ›å»ºå®ä¾‹åŒ–å¯¹è±¡ï¼Œå…¶ä¸­beanPathå°±æ˜¯é…ç½®æ–‡ä»¶ä¸­çš„å€¼bean = Class.forName(beanPath).newInstance();</code></pre></li><li><p>é€šè¿‡è¯»å–é…ç½®æ–‡ä»¶æ¥è·å–è¦åˆ›å»ºçš„å¯¹è±¡å…¨é™å®šç±»å</p><pre><code>åœ¨åˆ›å»ºå¥½çš„å·¥å‚ç±»ä¸­ï¼Œä½¿ç”¨é™æ€ä»£ç å—åŠ è½½é…ç½®æ–‡ä»¶props = new Properties();//è¯»å–é…ç½®æ–‡ä»¶InputStream is = BeanFactory.class.getClassLoader().getResourceAsStream("Bean.properties");//åŠ è½½é…ç½®æ–‡ä»¶props.load(is);</code></pre></li><li><p>ä¼˜åŒ–ï¼šè®©ç±»å¯¹è±¡åªè¢«åˆå§‹åŒ–ï¼ˆåˆ›å»ºï¼‰ä¸€æ¬¡ï¼Œæ•ˆç‡æ›´é«˜</p><pre class=" language-java"><code class="language-java">åˆ›å»ºä¸€ä¸ªmapé›†åˆï¼Œå°†é…ç½®æ–‡ä»¶ä¸­çš„key<span class="token punctuation">,</span>valueå…¨éƒ¨éå†å‡ºæ¥ï¼Œç”Ÿæˆå¯¹è±¡ï¼Œä¿å­˜åœ¨mapä¸­ï¼Œå…¶ä»–äººè°ƒç”¨çš„æ˜¯mapzä¸­çš„keyï¼Œè¿”å›çš„æ˜¯å¯¹è±¡<span class="token comment" spellcheck="true">//è¯»å–é…ç½®æ–‡ä»¶ä¸­æ‰€æœ‰çš„å€¼ï¼Œå°†èµ·å­˜å…¥åˆ°mapä¸­</span>            <span class="token comment" spellcheck="true">//å®ä¾‹åŒ–ä¸€ä¸ªmapå¯¹è±¡</span>            beans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Object<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//è¯»å–propsä¸­çš„æ‰€æœ‰Key</span>            Enumeration keys <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//éå†æ‰€æœ‰çš„key</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>keys<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">//å–å‡ºæ¯ä¸ªkey</span>                String key <span class="token operator">=</span> keys<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//æ ¹æ®keyè·å–value</span>                String beanPath <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//åå°„åˆ›å»ºå®ä¾‹åŒ–å¯¹è±¡</span>                Object bean <span class="token operator">=</span> Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>beanPath<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//å°†keyå’Œå¯¹è±¡éƒ½å­˜å…¥åˆ°mapé›†åˆä¸­</span>                beans<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>bean<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*    æ ¹æ®keyå€¼è·å–beanå¯¹è±¡*/</span><span class="token keyword">public</span> <span class="token keyword">static</span> Object <span class="token function">getBean</span><span class="token punctuation">(</span>String beanName<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> beans<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre></li></ol><p> IOCä¸­æœ€åŸºæœ¬çš„æŠ€æœ¯å°±æ˜¯â€œåå°„(Reflection)â€ï¼Œé€šä¿—æ¥è®²å°±æ˜¯<strong>æ ¹æ®ç»™å‡ºçš„ç±»åï¼ˆå­—ç¬¦ä¸²æ–¹å¼ï¼‰æ¥åŠ¨æ€åœ°ç”Ÿæˆå¯¹è±¡ï¼Œè¿™ç§ç¼–ç¨‹æ–¹å¼å¯ä»¥è®©å¯¹è±¡åœ¨ç”Ÿæˆæ—¶æ‰è¢«å†³å®šåˆ°åº•æ˜¯å“ªä¸€ç§å¯¹è±¡</strong>ã€‚å…¶å®æˆ‘ä»¬<strong>å¯ä»¥æŠŠIOCå®¹å™¨çœ‹ä½œæ˜¯ä¸€ä¸ªå·¥å‚ï¼Œè¿™ä¸ªå·¥å‚é‡Œè¦ç”Ÿäº§çš„å¯¹è±¡éƒ½åœ¨é…ç½®æ–‡ä»¶ä¸­ç»™å‡ºå®šä¹‰ï¼Œç„¶ååˆ©ç”¨ç¼–ç¨‹è¯­è¨€æä¾›çš„åå°„æœºåˆ¶ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶ä¸­ç»™å‡ºçš„ç±»åç”Ÿæˆç›¸åº”çš„å¯¹è±¡</strong>ã€‚è¿™å°±æ˜¯IOCçš„å®ç°åŸç†â€“åå°„æœºåˆ¶åœ¨å·¥å‚æ¨¡å¼ä¸­çš„åº”ç”¨ã€‚</p></li><li><h3 id="ä½¿ç”¨-springçš„-IOCè§£å†³ç¨‹åºè€¦åˆ"><a href="#ä½¿ç”¨-springçš„-IOCè§£å†³ç¨‹åºè€¦åˆ" class="headerlink" title="ä½¿ç”¨ springçš„ IOCè§£å†³ç¨‹åºè€¦åˆ"></a>ä½¿ç”¨ springçš„ IOCè§£å†³ç¨‹åºè€¦åˆ</h3><ul><li><ol><li><p>å‡†å¤‡ spring çš„å¼€å‘åŒ… ï¼š</p><p>å®˜ç½‘ï¼š<a href="http://spring.io/">http://spring.io/</a> </p><p>ä¸‹è½½åœ°å€ï¼š <a href="http://repo.springsource.org/libs-release-local/org/springframework/spring">http://repo.springsource.org/libs-release-local/org/springframework/spring</a> </p></li></ol></li><li><ol start="2"><li>åˆ›å»ºä¸€ä¸ª xml æ–‡ä»¶</li></ol><ul><li><ol><li>å¢åŠ çº¦æŸï¼š</li></ol></li></ul><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>     <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>     <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans      http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span> </code></pre><ul><li><ol start="2"><li>åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½® service å’Œ dao </li></ol></li></ul><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- bean æ ‡ç­¾ï¼šç”¨äºé…ç½®è®© spring åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä¸”å­˜å…¥ ioc å®¹å™¨ä¹‹ä¸­       id å±æ€§ï¼šå¯¹è±¡çš„å”¯ä¸€æ ‡è¯†ã€‚       class å±æ€§ï¼šæŒ‡å®šè¦åˆ›å»ºå¯¹è±¡çš„å…¨é™å®šç±»å --></span> <span class="token comment" spellcheck="true">&lt;!-- é…ç½® service --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.service.impl.AccountServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!-- é…ç½® dao --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.dao.impl.AccountDaoImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre><ul><li><ol start="3"><li>ç±»ä¸­è·å–springå®¹å™¨ï¼Œè·å–å®¹å™¨ä¸­çš„å¯¹è±¡</li></ol></li></ul><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.ä½¿ç”¨ ApplicationContext æ¥å£ï¼Œå°±æ˜¯åœ¨è·å– spring å®¹å™¨   </span>ApplicationContext ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"bean.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//2.æ ¹æ® bean çš„ id è·å–å¯¹è±¡   </span>IAccountService aService <span class="token operator">=</span> <span class="token punctuation">(</span>IAccountService<span class="token punctuation">)</span> ac<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"accountService"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre></li><li><p><strong>SpringåŸºäº XML çš„ IOC ç»†èŠ‚</strong></p><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/spring3.png" alt="image-20200601172657256" style="zoom:67%;"><ul><li> ApplicationContext æ¥å£çš„å®ç°ç±» </li></ul><pre><code>ClassPathXmlApplicationContextï¼š  å®ƒæ˜¯ä»ç±»çš„æ ¹è·¯å¾„ä¸‹åŠ è½½é…ç½®æ–‡ä»¶  (æ¨è) FileSystemXmlApplicationContextï¼š å®ƒæ˜¯ä»ç£ç›˜è·¯å¾„ä¸ŠåŠ è½½é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶å¯ä»¥åœ¨ç£ç›˜çš„ä»»æ„ä½ç½®ã€‚ AnnotationConfigApplicationContext: ä½¿ç”¨æ³¨è§£é…ç½®å®¹å™¨å¯¹è±¡æ—¶ï¼Œéœ€è¦ä½¿ç”¨æ­¤ç±»æ¥åˆ›å»º spring å®¹å™¨ã€‚å®ƒç”¨æ¥è¯»å–æ³¨è§£ã€‚ </code></pre><ul><li><p>BeanFactoryå’Œ ApplicationContext çš„åŒºåˆ«</p><pre><code>BeanFactory æ‰æ˜¯ Spring å®¹å™¨ä¸­çš„é¡¶å±‚æ¥å£ã€‚ ApplicationContext æ˜¯å®ƒçš„å­æ¥å£ã€‚ BeanFactory å’Œ ApplicationContext çš„åŒºåˆ«ï¼š  åˆ›å»ºå¯¹è±¡çš„æ—¶é—´ç‚¹ä¸ä¸€æ ·ã€‚   ApplicationContextï¼šåªè¦ä¸€è¯»å–é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤æƒ…å†µä¸‹å°±ä¼šåˆ›å»ºå¯¹è±¡ã€‚(åˆ›å»ºä¹‹åå°±ä¸ä¼šå†åˆ›å»ºï¼Œé€‚ç”¨äºå•ä¾‹ï¼Œä¸è¿‡å®ƒæ˜¯æ™ºèƒ½çš„ï¼Œå¯ä»¥é€šè¿‡å…·ä½“æƒ…å†µæ”¹å˜)   BeanFactoryï¼šä»€ä¹ˆä½¿ç”¨ä»€ä¹ˆæ—¶å€™åˆ›å»ºå¯¹è±¡ã€‚ï¼ˆé€‚ç”¨äºå¤šä¾‹ï¼‰</code></pre></li></ul></li><li><p><strong>IOC ä¸­ bean æ ‡ç­¾å’Œç®¡ç†å¯¹è±¡ç»†èŠ‚</strong></p><ul><li><p>å®ä¾‹åŒ– Bean çš„ä¸‰ç§æ–¹å¼ </p><pre class=" language-xml"><code class="language-xml">ç¬¬ä¸€ç§æ–¹å¼ï¼šä½¿ç”¨**é»˜è®¤æ— å‚æ„é€ å‡½æ•°**  <span class="token comment" spellcheck="true">&lt;!--åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼šå®ƒä¼šæ ¹æ®é»˜è®¤æ— å‚æ„é€ å‡½æ•°æ¥åˆ›å»ºç±»å¯¹è±¡ã€‚å¦‚æœ bean ä¸­æ²¡æœ‰é»˜è®¤æ— å‚æ„é€ å‡½æ•°ï¼Œå°†ä¼šåˆ›å»ºå¤±è´¥ã€‚  --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.service.impl.AccountServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></code></pre><pre class=" language-xml"><code class="language-xml">ç¬¬äºŒç§æ–¹å¼ï¼šspringç®¡ç†é™æ€å·¥å‚-ä½¿ç”¨**é™æ€**å·¥å‚çš„æ–¹æ³•åˆ›å»ºå¯¹è±¡     /**      * æ¨¡æ‹Ÿä¸€ä¸ªé™æ€å·¥å‚ï¼Œåˆ›å»ºä¸šåŠ¡å±‚å®ç°ç±»       */ public class StaticFactory {       public static IAccountService createAccountService(){           return new AccountServiceImpl();  } } <span class="token comment" spellcheck="true">&lt;!-- ä½¿ç”¨ StaticFactory ç±»ä¸­çš„é™æ€æ–¹æ³• createAccountService åˆ›å»ºå¯¹è±¡ï¼Œå¹¶å­˜å…¥ spring å®¹å™¨       id å±æ€§ï¼šæŒ‡å®š bean çš„ idï¼Œç”¨äºä»å®¹å™¨ä¸­è·å–çš„å”¯ä¸€æ ‡è¯†       class å±æ€§ï¼šæŒ‡å®šé™æ€å·¥å‚çš„å…¨é™å®šç±»å       factory-method å±æ€§ï¼šæŒ‡å®šç”Ÿäº§å¯¹è±¡çš„é™æ€æ–¹æ³•  --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountService<span class="token punctuation">"</span></span>     <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.factory.StaticFactory<span class="token punctuation">"</span></span>     <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>createAccountService<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre><pre class=" language-xml"><code class="language-xml">ç¬¬ä¸‰ç§æ–¹å¼ï¼šspringç®¡ç†å®ä¾‹å·¥å‚-ä½¿ç”¨**å®ä¾‹**å·¥å‚çš„æ–¹æ³•åˆ›å»ºå¯¹è±¡ /**  * æ¨¡æ‹Ÿä¸€ä¸ªå®ä¾‹å·¥å‚ï¼Œåˆ›å»ºä¸šåŠ¡å±‚å®ç°ç±»   * æ­¤å·¥å‚åˆ›å»ºå¯¹è±¡ï¼Œå¿…é¡»ç°æœ‰å·¥å‚å®ä¾‹å¯¹è±¡ï¼Œå†è°ƒç”¨æ–¹æ³•  */ public class InstanceFactory {       public IAccountService createAccountService(){           return new AccountServiceImpl();  } }  <span class="token comment" spellcheck="true">&lt;!--å…ˆæŠŠå·¥å‚çš„åˆ›å»ºäº¤ç»™ spring æ¥ç®¡ç†ã€‚ ç„¶åå†ä½¿ç”¨å·¥å‚çš„ bean æ¥è°ƒç”¨é‡Œé¢çš„æ–¹æ³•   factory-bean å±æ€§ï¼šç”¨äºæŒ‡å®šå®ä¾‹å·¥å‚ bean çš„ idã€‚   factory-method å±æ€§ï¼šç”¨äºæŒ‡å®šå®ä¾‹å·¥å‚ä¸­åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ã€‚  --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>instancFactory<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.factory.InstanceFactory<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountService<span class="token punctuation">"</span></span>  <span class="token attr-name">factory-bean</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>instancFactory<span class="token punctuation">"</span></span>       <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>createAccountService<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span> </code></pre></li><li><p>bean æ ‡ç­¾ </p><pre><code>ä½œç”¨ï¼š  ç”¨äºé…ç½®å¯¹è±¡è®© spring æ¥åˆ›å»ºçš„ã€‚  é»˜è®¤æƒ…å†µä¸‹å®ƒè°ƒç”¨çš„æ˜¯ç±»ä¸­çš„æ— å‚æ„é€ å‡½æ•°ã€‚å¦‚æœæ²¡æœ‰æ— å‚æ„é€ å‡½æ•°åˆ™ä¸èƒ½åˆ›å»ºæˆåŠŸã€‚ å±æ€§ï¼š  idï¼šç»™å¯¹è±¡åœ¨å®¹å™¨ä¸­æä¾›ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ã€‚ç”¨äºè·å–å¯¹è±¡ã€‚  classï¼šæŒ‡å®šç±»çš„å…¨é™å®šç±»åã€‚ç”¨äºåå°„åˆ›å»ºå¯¹è±¡ã€‚é»˜è®¤æƒ…å†µä¸‹è°ƒç”¨æ— å‚æ„é€ å‡½æ•°ã€‚  scopeï¼šæŒ‡å®šå¯¹è±¡çš„ä½œç”¨èŒƒå›´ã€‚        * singleton :é»˜è®¤å€¼ï¼Œå•ä¾‹çš„.        * prototype :å¤šä¾‹çš„.        * request :WEB é¡¹ç›®ä¸­,Spring åˆ›å»ºä¸€ä¸ª Bean çš„å¯¹è±¡,å°†å¯¹è±¡å­˜å…¥åˆ° request åŸŸä¸­.        * session :WEB é¡¹ç›®ä¸­,Spring åˆ›å»ºä¸€ä¸ª Bean çš„å¯¹è±¡,å°†å¯¹è±¡å­˜å…¥åˆ° session åŸŸä¸­.        * global session :WEB é¡¹ç›®ä¸­,åº”ç”¨åœ¨ Portlet é›†ç¾¤ç¯å¢ƒ.å¦‚æœæ²¡æœ‰ Portlet é›†ç¾¤ç¯å¢ƒé‚£ä¹ˆ                             globalSession ç›¸å½“äº session.   init-methodï¼šæŒ‡å®šç±»ä¸­çš„åˆå§‹åŒ–æ–¹æ³•åç§°ã€‚   destroy-methodï¼šæŒ‡å®šç±»ä¸­é”€æ¯æ–¹æ³•åç§°ã€‚ </code></pre></li></ul></li><li><p><strong>spring çš„ä¾èµ–æ³¨å…¥</strong></p><ul><li><p>æ¦‚å¿µï¼šä¾èµ–å…³ç³»äº¤ç»™springæ¥ç»´æŠ¤ï¼Œæ¡†æ¶æŠŠæŒä¹…å±‚å¯¹è±¡ä¼ å…¥ä¸šåŠ¡å±‚ï¼Œè€Œä¸ç”¨æˆ‘ä»¬è‡ªå·±å»è·å–</p></li><li><p>æ„é€ å‡½æ•°æ³¨å…¥</p><pre class=" language-xml"><code class="language-xml">//æœ‰å‚æ„é€ å‡½æ•°public AccountServiceImpl(String name, Integer age, Date birthday) {   this.name = name;   this.age = age;   this.birthday = birthday;  } <span class="token comment" spellcheck="true">&lt;!-- ä½¿ç”¨æ„é€ å‡½æ•°çš„æ–¹å¼ï¼Œç»™ service ä¸­çš„å±æ€§ä¼ å€¼  è¦æ±‚ï¼š   ç±»ä¸­éœ€è¦æä¾›ä¸€ä¸ªå¯¹åº”å‚æ•°åˆ—è¡¨çš„æ„é€ å‡½æ•°ã€‚  æ¶‰åŠçš„æ ‡ç­¾ï¼š   constructor-arg    å±æ€§ï¼š     index:æŒ‡å®šå‚æ•°åœ¨æ„é€ å‡½æ•°å‚æ•°åˆ—è¡¨çš„ç´¢å¼•ä½ç½® ä»0å¼€å§‹    type:æŒ‡å®šå‚æ•°åœ¨æ„é€ å‡½æ•°ä¸­çš„æ•°æ®ç±»å‹ name:æŒ‡å®šå‚æ•°åœ¨æ„é€ å‡½æ•°ä¸­çš„åç§°     ç”¨è¿™ä¸ªæ‰¾ç»™è°èµ‹å€¼  (å¸¸ç”¨)    =======ä¸Šé¢ä¸‰ä¸ªéƒ½æ˜¯æ‰¾ç»™è°èµ‹å€¼ï¼Œä¸‹é¢ä¸¤ä¸ªæŒ‡çš„æ˜¯èµ‹ä»€ä¹ˆå€¼çš„==============      value:å®ƒèƒ½èµ‹çš„å€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹å’Œ String ç±»å‹     ref:å®ƒèƒ½èµ‹çš„å€¼æ˜¯å…¶ä»– bean ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¿…é¡»æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®è¿‡çš„ bean   --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.service.impl.AccountServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> å¼ ä¸‰ <span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>18<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>birthday<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>now<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>now<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>java.util.Date<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span> </code></pre></li><li><p>set æ–¹æ³•æ³¨å…¥ (å¸¸ç”¨)</p><pre class=" language-xml"><code class="language-xml">åªéœ€è¦æˆå‘˜çš„setæ–¹æ³•ï¼Œä¸éœ€è¦æœ‰å‚æ„é€ å‡½æ•°<span class="token comment" spellcheck="true">&lt;!-- é€šè¿‡é…ç½®æ–‡ä»¶ç»™ bean ä¸­çš„å±æ€§ä¼ å€¼ï¼šä½¿ç”¨ set æ–¹æ³•çš„æ–¹å¼  æ¶‰åŠçš„æ ‡ç­¾ï¼š   property å±æ€§ï¼š    nameï¼šæ‰¾çš„æ˜¯ç±»ä¸­ set æ–¹æ³•åé¢çš„éƒ¨åˆ†    refï¼šç»™å±æ€§èµ‹å€¼æ˜¯å…¶ä»– bean ç±»å‹çš„    valueï¼šç»™å±æ€§èµ‹å€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹å’Œ string ç±»å‹çš„  --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.service.impl.AccountServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>21<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>birthday<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>now<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>now<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>java.util.Date<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li><li><p>æ³¨å…¥é›†åˆå±æ€§ï¼ˆå¸¸ç”¨ï¼‰</p><pre class=" language-xml"><code class="language-xml">ä½¿ç”¨setæ³¨å…¥çš„æ–¹å¼<span class="token comment" spellcheck="true">&lt;!-- åœ¨æ³¨å…¥é›†åˆæ•°æ®æ—¶ï¼Œåªè¦ç»“æ„ç›¸åŒï¼Œæ ‡ç­¾å¯ä»¥äº’æ¢   List ç»“æ„çš„ï¼š   array,list,set  Map ç»“æ„çš„   map,entry,props,prop --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.service.impl.AccountServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- åœ¨æ³¨å…¥é›†åˆæ•°æ®æ—¶ï¼Œåªè¦ç»“æ„ç›¸åŒï¼Œæ ‡ç­¾å¯ä»¥äº’æ¢ --></span>      <span class="token comment" spellcheck="true">&lt;!-- ç»™æ•°ç»„æ³¨å…¥æ•°æ® --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myStrs<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>AAA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>BBB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>CCC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- æ³¨å…¥ list é›†åˆæ•°æ® --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myList<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>array</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>AAA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>BBB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>CCC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>array</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- æ³¨å…¥ set é›†åˆæ•°æ® --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mySet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>AAA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>BBB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>CCC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- æ³¨å…¥ Map æ•°æ® --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>testA<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>aaa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>testB<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>bbb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- æ³¨å…¥ properties æ•°æ® --></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myProps<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>testA<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>aaa<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>testB<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>bbb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li></ul></li></ul></li></ul><hr><h2 id="åŸºäºæ³¨è§£çš„-IOC-é…ç½®"><a href="#åŸºäºæ³¨è§£çš„-IOC-é…ç½®" class="headerlink" title="åŸºäºæ³¨è§£çš„ IOC é…ç½®"></a>åŸºäºæ³¨è§£çš„ IOC é…ç½®</h2><h3 id="å¸¸ç”¨æ³¨è§£ï¼š"><a href="#å¸¸ç”¨æ³¨è§£ï¼š" class="headerlink" title="å¸¸ç”¨æ³¨è§£ï¼š"></a>å¸¸ç”¨æ³¨è§£ï¼š</h3><ul><li><p>ç”¨äºåˆ›å»ºbeanå¯¹è±¡çš„</p></li><li><p>@Component </p><pre><code>ä½œç”¨ï¼š  æŠŠèµ„æºè®© spring æ¥ç®¡ç†ã€‚ç›¸å½“äºåœ¨ xml ä¸­é…ç½®ä¸€ä¸ª beanã€‚ å±æ€§ï¼š  valueï¼šæŒ‡å®š bean çš„ idã€‚å¦‚æœä¸æŒ‡å®š value å±æ€§ï¼Œé»˜è®¤ bean çš„ id æ˜¯å½“å‰ç±»çš„ç±»åã€‚é¦–å­—æ¯å°å†™ã€‚</code></pre></li><li><p> @Controller  @Service  @Repository </p></li></ul><pre><code>ä½œç”¨å’ŒComponentä¸€æ‘¸ä¸€æ ·ï¼Œæ›´åŠ æ˜ç¡®çš„è¯­ä¹‰åŒ–ã€‚  @Controllerï¼šä¸€èˆ¬ç”¨äºè¡¨ç°å±‚çš„æ³¨è§£ã€‚  @Serviceï¼šä¸€èˆ¬ç”¨äºä¸šåŠ¡å±‚çš„æ³¨è§£ã€‚ @Repositoryï¼šä¸€èˆ¬ç”¨äºæŒä¹…å±‚çš„æ³¨è§£ã€‚ ç»†èŠ‚ï¼šå¦‚æœæ³¨è§£ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªå±æ€§è¦èµ‹å€¼æ—¶ï¼Œä¸”åç§°æ˜¯ valueæ—¶å¯ä»¥ä¸å†™ã€‚ </code></pre><ul><li><p> ç”¨äºæ³¨å…¥æ•°æ®çš„</p></li><li><p>@Autowired </p><pre><code>ä½œç”¨ï¼š  è‡ªåŠ¨æŒ‰ç…§ç±»å‹æ³¨å…¥ã€‚    å½“ä½¿ç”¨æ³¨è§£æ³¨å…¥å±æ€§æ—¶ï¼Œsetæ–¹æ³•å¯ä»¥çœç•¥ã€‚å®ƒåªèƒ½æ³¨å…¥bean ç±»å‹ã€‚å½“æœ‰å¤šä¸ªç›¸åŒç±»å‹æ—¶ï¼Œä½¿ç”¨å˜é‡åç§°ä½œä¸º bean çš„ idï¼Œåœ¨springå®¹å™¨æŸ¥æ‰¾ï¼Œæ‰¾åˆ°äº†ä¹Ÿå¯ä»¥æ³¨å…¥æˆåŠŸã€‚æ‰¾ä¸åˆ°å°±æŠ¥é”™</code></pre></li><li><p>@Qualifier </p><pre><code>ä½œç”¨ï¼š  åœ¨è‡ªåŠ¨æŒ‰ç…§ç±»å‹æ³¨å…¥çš„åŸºç¡€ä¹‹ä¸Šï¼Œå†æŒ‰ç…§ Bean çš„ id æ³¨å…¥ã€‚å®ƒåœ¨ç»™å­—æ®µæ³¨å…¥æ—¶ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ï¼Œå¿…é¡»å’Œ @Autowire ä¸€èµ·ä½¿ç”¨ï¼›ä½†æ˜¯ç»™æ–¹æ³•å‚æ•°æ³¨å…¥æ—¶ï¼Œå¯ä»¥ç‹¬ç«‹ä½¿ç”¨ã€‚ å±æ€§ï¼š  valueï¼šæŒ‡å®š bean çš„ idã€‚ </code></pre></li><li><p> @Resource </p></li></ul><pre><code>ä½œç”¨ï¼š  ç›´æ¥æŒ‰ç…§ Bean çš„ id æ³¨å…¥ã€‚ä¹Ÿåªèƒ½æ³¨å…¥bean ç±»å‹ã€‚ å±æ€§ï¼š  nameï¼šæŒ‡å®š bean çš„ idã€‚</code></pre><ul><li><p>@Value </p><pre><code>ä½œç”¨ï¼š  æ³¨å…¥åŸºæœ¬æ•°æ®ç±»å‹å’Œ String ç±»å‹æ•°æ®çš„ å±æ€§ï¼š  valueï¼šç”¨äºæŒ‡å®šå€¼</code></pre></li><li><p>ç”¨äºæ”¹å˜ä½œç”¨èŒƒå›´ï¼ˆå•ä¾‹ã€å¤šä¾‹ï¼‰çš„</p></li><li><p> @Scope </p></li></ul><pre><code>ä½œç”¨ï¼š  æŒ‡å®š bean çš„ä½œç”¨èŒƒå›´ã€‚ å±æ€§ï¼š  valueï¼šæŒ‡å®šèŒƒå›´çš„å€¼ã€‚      å–å€¼ï¼šsingletonï¼ˆå•ï¼‰  prototype(å¤š)                         request session globalsession </code></pre><ul><li><p>å’Œç”Ÿå‘½å‘¨æœŸç›¸å…³çš„</p></li><li><p>@PostConstruct </p><pre><code>ä½œç”¨ï¼š  ç”¨äºæŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ã€‚ </code></pre></li><li><p>@PreDestroy </p><pre><code>ä½œç”¨ï¼š  ç”¨äºæŒ‡å®šé”€æ¯æ–¹æ³•ã€‚ </code></pre></li></ul><h3 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h3><ul><li><p>å¯¼å…¥spring-aopä¾èµ–</p></li><li><p>ä½¿ç”¨@Component æ³¨è§£é…ç½®ç®¡ç†çš„èµ„æº </p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">"accountDao"</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountDaoImpl</span>  <span class="token keyword">implements</span> <span class="token class-name">IAccountDao</span> <span class="token punctuation">{</span>  <span class="token keyword">private</span> DBAssit dbAssit<span class="token punctuation">;</span> <span class="token punctuation">}</span> </code></pre></li><li><p>åˆ›å»º spring çš„ xmlé…ç½®æ–‡ä»¶å¹¶å¼€å¯å¯¹æ³¨è§£çš„æ”¯æŒ</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>  <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>     <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>     <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans         http://www.springframework.org/schema/beans/spring-beans.xsd         http://www.springframework.org/schema/context         http://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>     <span class="token comment" spellcheck="true">&lt;!-- å‘ŠçŸ¥ spring åˆ›å»ºå®¹å™¨æ—¶è¦æ‰«ææœ‰æ³¨è§£çš„çš„åŒ… --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span> </code></pre></li></ul><h3 id="å…³äº-Spring-æ³¨è§£å’Œ-XMLçš„é€‰æ‹©é—®é¢˜"><a href="#å…³äº-Spring-æ³¨è§£å’Œ-XMLçš„é€‰æ‹©é—®é¢˜" class="headerlink" title="å…³äº Spring æ³¨è§£å’Œ XMLçš„é€‰æ‹©é—®é¢˜"></a>å…³äº Spring æ³¨è§£å’Œ XMLçš„é€‰æ‹©é—®é¢˜</h3><ul><li><p>æ³¨è§£çš„ä¼˜åŠ¿ï¼š  é…ç½®ç®€å•ï¼Œç»´æŠ¤æ–¹ä¾¿ï¼ˆæˆ‘ä»¬æ‰¾åˆ°ç±»ï¼Œå°±ç›¸å½“äºæ‰¾åˆ°äº†å¯¹åº”çš„é…ç½®ï¼‰ã€‚ </p></li><li><p>XML çš„ä¼˜åŠ¿ï¼š  ä¿®æ”¹æ—¶ï¼Œä¸ç”¨æ”¹æºç ã€‚ä¸æ¶‰åŠé‡æ–°ç¼–è¯‘å’Œéƒ¨ç½²</p></li><li><p>Spring ç®¡ç† Beanæ–¹å¼çš„æ¯”è¾ƒï¼š</p><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/spring4.png" alt="image-20200602220049920" style="zoom:67%;"></li></ul><hr><h2 id="åŸºäºXMLçš„IOCæ¡ˆä¾‹"><a href="#åŸºäºXMLçš„IOCæ¡ˆä¾‹" class="headerlink" title="åŸºäºXMLçš„IOCæ¡ˆä¾‹"></a>åŸºäºXMLçš„IOCæ¡ˆä¾‹</h2><ul><li><p>éœ€æ±‚ï¼šå®ç°å•è¡¨çš„CRUDæ“ä½œ</p></li><li><p>æŠ€æœ¯è¦æ±‚ï¼šä½¿ç”¨ spring çš„ IoC å®ç°å¯¹è±¡çš„ç®¡ç† ï¼Œä½¿ç”¨ DBUtils ä½œä¸ºæŒä¹…å±‚è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨ c3p0 æ•°æ®æº</p><ol><li>ç¯å¢ƒæ­å»º</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.0.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.1.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>commons-dbutils<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commons-dbutils<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>c3p0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>c3p0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.9.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><ol start="2"><li><p>åˆ›å»ºæ•°æ®åº“ï¼Œæ ¹æ®æ•°æ®åº“åˆ›å»ºbeanç±»</p></li><li><p>ç¼–å†™ä¸šåŠ¡å±‚ä»£ç </p></li></ol><pre class=" language-java"><code class="language-java"> æ¥å£ï¼š <span class="token comment" spellcheck="true">/*    ä¿å­˜è´¦æˆ·     */</span>    <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/*    æŸ¥è¯¢æ‰€æœ‰     */</span>    List<span class="token operator">&lt;</span>Account<span class="token operator">></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/*    é€šè¿‡IdæŸ¥è¯¢å•ä¸ª     */</span>    Account <span class="token function">findAccountById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/*    é€šè¿‡idä¿®æ”¹è´¦æˆ·ä¿¡æ¯     */</span>    <span class="token keyword">void</span> <span class="token function">updateAccount</span><span class="token punctuation">(</span>Account account<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/*    é€šè¿‡idåˆ é™¤è´¦æˆ·ä¿¡æ¯     */</span>    <span class="token keyword">void</span> <span class="token function">deleteAccount</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>    å®ç°ç±»ï¼š    <span class="token keyword">private</span> IAccountDao accountDao<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//xmlé…ç½®éœ€è¦Setæ–¹æ³•ï¼Œæ³¨è§£ä¸éœ€è¦</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAccountDao</span><span class="token punctuation">(</span>IAccountDao accountDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>accountDao <span class="token operator">=</span> accountDao<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><ol start="4"><li>ç¼–å†™æŒä¹…å±‚ä»£ç </li></ol><pre class=" language-java"><code class="language-java">    <span class="token comment" spellcheck="true">//åˆ›å»ºdbUtilså¯¹è±¡</span>    <span class="token keyword">private</span> QueryRunner runner<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRunner</span><span class="token punctuation">(</span>QueryRunner runner<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>runner <span class="token operator">=</span> runner<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> List<span class="token operator">&lt;</span>Account<span class="token operator">></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            String sql <span class="token operator">=</span><span class="token string">"select * from account"</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> runner<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">BeanListHandler</span><span class="token operator">&lt;</span>Account<span class="token operator">></span><span class="token punctuation">(</span>Account<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> Account <span class="token function">findAccountById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            String sql <span class="token operator">=</span><span class="token string">"select * from account where id = ? "</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> runner<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">BeanHandler</span><span class="token operator">&lt;</span>Account<span class="token operator">></span><span class="token punctuation">(</span>Account<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateAccount</span><span class="token punctuation">(</span>Account account<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            String sql <span class="token operator">=</span><span class="token string">"update account set name = ?,money = ? where id = ? "</span><span class="token punctuation">;</span>            runner<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span>account<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>account<span class="token punctuation">.</span><span class="token function">getMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>account<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span></code></pre><ol start="5"><li>åˆ›å»ºå¹¶ç¼–å†™é…ç½®æ–‡ä»¶bean.xml</li></ol><pre class=" language-xml"><code class="language-xml">    <span class="token comment" spellcheck="true">&lt;!--é…ç½®service--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm.service.impl.AccountServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--æ³¨å…¥dao--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountDao<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®daoå¯¹è±¡--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm.dao.impl.AccountDaoImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--æ³¨å…¥QueryRunner--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>runner<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>runner<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®QueryRunnerå¯¹è±¡--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>runner<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.apache.commons.dbutils.QueryRunner<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--æ³¨å…¥æ•°æ®æº--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ds<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®æ•°æ®æºc3p0--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mchange.v2.c3p0.ComboPooledDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--è¿æ¥æ•°æ®åº“å¿…å¤‡ä¿¡æ¯--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClass<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbcUrl<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/spring<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre><ol start="6"><li>ç¼–å†™æµ‹è¯•ç±»</li></ol><pre class=" language-java"><code class="language-java"> <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFindAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//è·å¾—springå®¹å™¨</span>        ApplicationContext ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"bean.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//æ ¹æ®beançš„idè·å–å¯¹è±¡</span>        IAccountService accountService <span class="token operator">=</span> <span class="token punctuation">(</span>IAccountService<span class="token punctuation">)</span> ac<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"accountService"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        List<span class="token operator">&lt;</span>Account<span class="token operator">></span> accounts <span class="token operator">=</span> accountService<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>Account account<span class="token operator">:</span>accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span></code></pre></li></ul><hr><h2 id="åŸºäºæ³¨è§£çš„IOCæ¡ˆä¾‹"><a href="#åŸºäºæ³¨è§£çš„IOCæ¡ˆä¾‹" class="headerlink" title="åŸºäºæ³¨è§£çš„IOCæ¡ˆä¾‹"></a>åŸºäºæ³¨è§£çš„IOCæ¡ˆä¾‹</h2><ol><li><p>ç¯å¢ƒæ­å»ºï¼šå½“ä½¿ç”¨Resourceæ³¨è§£æ—¶ï¼Œéœ€è¦åŠ ä¸Šæ­¤ä¾èµ–</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.annotation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javax.annotation-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.3.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></li><li><p>åˆ›å»ºæ•°æ®åº“ï¼Œæ ¹æ®æ•°æ®åº“åˆ›å»ºbeanç±»</p></li><li><p>ç¼–å†™ä¸šåŠ¡å±‚ä»£ç </p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span><span class="token string">"accountService"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//å¯çœç•¥å€¼ï¼Œé‚£ä¹ˆå°±æ˜¯ç±»åï¼Œé¦–å­—æ¯å°å†™</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">IAccountService</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"accountDao"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//è¿™é‡Œæ˜¯daoçš„id</span>    <span class="token keyword">private</span> IAccountDao accountDao<span class="token punctuation">;</span></code></pre></li><li><p>ç¼–å†™æŒä¹…å±‚ä»£ç </p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Repository</span><span class="token punctuation">(</span><span class="token string">"accountDao"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">IAccountDao</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"runner"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//è¿™é‡Œæ˜¯xmlä¸­çš„bean id</span>    <span class="token keyword">private</span> QueryRunner runner<span class="token punctuation">;</span></code></pre></li><li><p>åˆ›å»ºå¹¶ç¼–å†™é…ç½®æ–‡ä»¶bean.xml</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--å‘ŠçŸ¥springåœ¨åˆ›å»ºå®¹å™¨æ—¶è¦æ‰«æçš„åŒ…--></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!--é…ç½®QueryRunnerå¯¹è±¡--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>runner<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.apache.commons.dbutils.QueryRunner<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--æ³¨å…¥æ•°æ®æº--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ds<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--é…ç½®æ•°æ®æºc3p0--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mchange.v2.c3p0.ComboPooledDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--è¿æ¥æ•°æ®åº“å¿…å¤‡ä¿¡æ¯--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClass<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbcUrl<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/spring<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li><li><p>ç¼–å†™æµ‹è¯•ç±»</p></li></ol><hr><h2 id="çº¯æ³¨è§£å½¢å¼ï¼Œå°†xmlå˜ä¸ºæ³¨è§£"><a href="#çº¯æ³¨è§£å½¢å¼ï¼Œå°†xmlå˜ä¸ºæ³¨è§£" class="headerlink" title="çº¯æ³¨è§£å½¢å¼ï¼Œå°†xmlå˜ä¸ºæ³¨è§£"></a>çº¯æ³¨è§£å½¢å¼ï¼Œå°†xmlå˜ä¸ºæ³¨è§£</h2><ul><li><p>å¾…æ”¹é€ çš„é—®é¢˜</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- é…ç½® dbAssit --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dbAssit<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.dbassit.DBAssit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- é…ç½®æ•°æ®æº --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mchange.v2.c3p0.ComboPooledDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClass<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbcUrl<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql:///spring_day02<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span> </code></pre></li><li><p><strong>æ–°æ³¨è§£</strong></p><ul><li><p>@Configuration ï¼ˆå£°æ˜é…ç½®ç±»ï¼‰</p><pre><code>ä½œç”¨ï¼š  ç”¨äºæŒ‡å®šå½“å‰ç±»æ˜¯ä¸€ä¸ª spring é…ç½®ç±»è·å–å®¹å™¨æ—¶éœ€è¦ä½¿ç”¨ AnnotationApplicationContext(æœ‰@Configuration æ³¨è§£çš„ç±».class)ã€‚ å±æ€§ï¼š  value:ç”¨äºæŒ‡å®šé…ç½®ç±»çš„å­—èŠ‚ç  </code></pre></li><li><p>@ComponentScanï¼ˆæŒ‡å®šæ‰«æçš„åŒ…ï¼‰ </p><pre><code>ä½œç”¨ï¼š  ç”¨äºæŒ‡å®š spring åœ¨åˆå§‹åŒ–å®¹å™¨æ—¶è¦æ‰«æçš„åŒ…ã€‚ä½œç”¨å’Œåœ¨ spring çš„ xml é…ç½®æ–‡ä»¶ä¸­çš„ï¼š &lt;context:component-scan base-package="com.itheima"/&gt;ä¸€æ ·ã€‚ å±æ€§ï¼š  basePackages/valueï¼šç”¨äºæŒ‡å®šè¦æ‰«æçš„åŒ…ã€‚</code></pre></li><li><p>@Beanï¼ˆå°†å¯¹è±¡æ”¾å…¥å®¹å™¨ï¼‰ </p><pre><code>ä½œç”¨ï¼š  è¯¥æ³¨è§£åªèƒ½å†™åœ¨æ–¹æ³•ä¸Šï¼Œå°†æ–¹æ³•è¿”å›å€¼æ”¾å…¥ spring å®¹å™¨ä¸­ã€‚ å±æ€§ï¼š  nameï¼šç»™å½“å‰@Bean æ³¨è§£æ–¹æ³•åˆ›å»ºçš„å¯¹è±¡æŒ‡å®šä¸€ä¸ªåç§°(å³ bean çš„ idï¼‰ã€‚</code></pre></li><li><p>@Importï¼ˆå¼•å…¥å­é…ç½®ç±»ï¼‰ </p><pre><code>ä½œç”¨ï¼š  ç”¨äºçˆ¶é…ç½®ç±»å¯¼å…¥å­é…ç½®ç±»ï¼Œåœ¨å¼•å…¥å…¶ä»–é…ç½®ç±»æ—¶ï¼Œå¯ä»¥ä¸ç”¨å†å†™@Configuration æ³¨è§£ã€‚å†™ä¸Šä¹Ÿæ²¡é—®é¢˜ã€‚ å±æ€§ï¼š  value[]ï¼šç”¨äºæŒ‡å®šå…¶ä»–é…ç½®ç±»çš„å­—èŠ‚ç ã€‚</code></pre></li><li><p>@PropertySourceï¼ˆå¼•å…¥é…ç½®æ–‡ä»¶ï¼‰ </p><pre class=" language-java"><code class="language-java">ä½œç”¨ï¼š     ç”¨äºåŠ è½½<span class="token punctuation">.</span>properties æ–‡ä»¶ä¸­çš„é…ç½®å±æ€§ï¼š  value<span class="token punctuation">[</span><span class="token punctuation">]</span>ï¼šç”¨äºæŒ‡å®š properties æ–‡ä»¶ä½ç½®ã€‚å¦‚æœæ˜¯åœ¨ç±»è·¯å¾„ä¸‹ï¼Œéœ€è¦å†™ä¸Š classpath<span class="token operator">:</span> ä¾‹å¦‚ï¼š<span class="token annotation punctuation">@PropertySource</span> <span class="token punctuation">(</span><span class="token string">"classpath:jdbcConfig.properties"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ä½ç½®åœ¨çˆ¶é…ç½®ç±»ä¸­<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcConfig</span> <span class="token punctuation">{</span>      <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.driver}"</span><span class="token punctuation">)</span>      <span class="token keyword">private</span> String driver<span class="token punctuation">;</span>      <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.url}"</span><span class="token punctuation">)</span>      <span class="token keyword">private</span> String url<span class="token punctuation">;</span>      <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.username}"</span><span class="token punctuation">)</span>      <span class="token keyword">private</span> String username<span class="token punctuation">;</span>      <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.password}"</span><span class="token punctuation">)</span>      <span class="token keyword">private</span> String password<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">/**   * åˆ›å»ºä¸€ä¸ªæ•°æ®æºï¼Œå¹¶å­˜å…¥ spring å®¹å™¨ä¸­    */</span>      <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"dataSource"</span><span class="token punctuation">)</span>     <span class="token keyword">public</span> DataSource <span class="token function">createDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>           <span class="token keyword">try</span> <span class="token punctuation">{</span>                ComboPooledDataSource ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComboPooledDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                       ds<span class="token punctuation">.</span><span class="token function">setDriverClass</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>                ds<span class="token punctuation">.</span><span class="token function">setJdbcUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>                ds<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>                ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token keyword">return</span> ds<span class="token punctuation">;</span>   <span class="token punctuation">}</span> </code></pre><blockquote><p>æ³¨æ„ï¼š</p><p>ä½¿ç”¨çº¯æ³¨è§£ï¼Œæµ‹è¯•çš„æ—¶å€™éœ€è¦ä½¿ç”¨</p><p><code>ApplicationContext ac = new AnnotationConfigApplicationContext(springConfiguration.class);</code></p><p>æ¥è·å–springå®¹å™¨</p></blockquote></li></ul></li></ul><hr><h2 id="Spring-æ•´åˆ-Junitï¼ˆéœ€è¦4-12ç‰ˆæœ¬ï¼‰"><a href="#Spring-æ•´åˆ-Junitï¼ˆéœ€è¦4-12ç‰ˆæœ¬ï¼‰" class="headerlink" title="Spring æ•´åˆ Junitï¼ˆéœ€è¦4.12ç‰ˆæœ¬ï¼‰"></a>Spring æ•´åˆ Junitï¼ˆéœ€è¦4.12ç‰ˆæœ¬ï¼‰</h2><ul><li><p>æ€è·¯åˆ†æï¼šjunit æ— æ³•çŸ¥æ™“æˆ‘ä»¬æ˜¯å¦ä½¿ç”¨äº† spring æ¡†æ¶ï¼Œæ›´ä¸ç”¨è¯´å¸®æˆ‘ä»¬åˆ›å»º spring å®¹å™¨äº†ã€‚ä¸è¿‡æˆ‘ä»¬æ›¿æ¢æ‰junitçš„è¿è¡Œå™¨ã€‚ è¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¾é  spring æ¡†æ¶ï¼Œå› ä¸ºå®ƒæä¾›äº†ä¸€ä¸ªè¿è¡Œå™¨ï¼Œå¯ä»¥è¯»å–é…ç½®æ–‡ä»¶ï¼ˆæˆ–æ³¨è§£ï¼‰æ¥åˆ›å»ºå®¹å™¨ã€‚æˆ‘ ä»¬åªéœ€è¦å‘Šè¯‰å®ƒé…ç½®æ–‡ä»¶åœ¨å“ªå°±è¡Œäº†ã€‚</p><ol><li>å¯¼å…¥ä¾èµ–</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.0.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><ol start="2"><li>ä½¿ç”¨@RunWith æ³¨è§£æ›¿æ¢åŸæœ‰è¿è¡Œå™¨ </li></ol><pre><code>  @RunWith(SpringJUnit4ClassRunner.class) public class AccountServiceTest { } </code></pre><ol start="3"><li>ä½¿ç”¨@ContextConfiguration æŒ‡å®š spring é…ç½®æ–‡ä»¶çš„ä½ç½®</li></ol><pre><code>  @ContextConfiguration æ³¨è§£ï¼š  locations å±æ€§ï¼šç”¨äºæŒ‡å®šxmlé…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚å¦‚æœæ˜¯ç±»è·¯å¾„ä¸‹ï¼Œéœ€è¦ç”¨ classpath:è¡¨æ˜    classes å±æ€§ï¼šç”¨äºæŒ‡å®šæ³¨è§£çš„ç±»ã€‚ä¾‹å¦‚ï¼š@ContextConfiguration(locations= {"classpath:bean.xml"})</code></pre><ol start="4"><li>ä½¿ç”¨@Autowired ç»™æµ‹è¯•ç±»ä¸­çš„å˜é‡æ³¨å…¥æ•°æ® </li></ol><pre><code>  @Autowired   private IAccountService as ; </code></pre></li></ul><hr><h2 id="AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰"><a href="#AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰" class="headerlink" title="AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰"></a>AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰</h2><h3 id="å­¦ä¹ -spring-ä¸­çš„-AOP-è¦æ˜ç¡®çš„äº‹"><a href="#å­¦ä¹ -spring-ä¸­çš„-AOP-è¦æ˜ç¡®çš„äº‹" class="headerlink" title="å­¦ä¹  spring ä¸­çš„ AOP è¦æ˜ç¡®çš„äº‹"></a>å­¦ä¹  spring ä¸­çš„ AOP è¦æ˜ç¡®çš„äº‹</h3><pre><code>aã€å¼€å‘é˜¶æ®µï¼ˆæˆ‘ä»¬åšçš„ï¼‰  ç¼–å†™æ ¸å¿ƒä¸šåŠ¡ä»£ç ï¼ˆå¼€å‘ä¸»çº¿ï¼‰ï¼šè¦æ±‚ç†Ÿæ‚‰ä¸šåŠ¡éœ€æ±‚ã€‚  æŠŠå…¬ç”¨ä»£ç æŠ½å–å‡ºæ¥ï¼Œåˆ¶ä½œæˆé€šçŸ¥ã€‚ï¼ˆå¼€å‘é˜¶æ®µæœ€åå†åšï¼‰ åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå£°æ˜åˆ‡å…¥ç‚¹ä¸é€šçŸ¥é—´çš„å…³ç³»ï¼Œå³åˆ‡é¢ã€‚ bã€è¿è¡Œé˜¶æ®µï¼ˆSpringæ¡†æ¶å®Œæˆçš„ï¼‰  Spring æ¡†æ¶ç›‘æ§åˆ‡å…¥ç‚¹æ–¹æ³•çš„æ‰§è¡Œã€‚ä¸€æ—¦ç›‘æ§åˆ°åˆ‡å…¥ç‚¹æ–¹æ³•è¢«è¿è¡Œï¼Œä½¿ç”¨ä»£ç†æœºåˆ¶ï¼ŒåŠ¨æ€åˆ›å»ºç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œæ ¹æ®é€šçŸ¥ç±»åˆ«ï¼Œåœ¨ä»£ç†å¯¹è±¡çš„å¯¹åº”ä½ç½®ï¼Œå°†é€šçŸ¥å¯¹åº”çš„åŠŸèƒ½ç»‡å…¥ï¼Œå®Œæˆå®Œæ•´çš„ä»£ç é€»è¾‘è¿è¡Œã€‚</code></pre><h3 id="AOP-ç›¸å…³æœ¯è¯­"><a href="#AOP-ç›¸å…³æœ¯è¯­" class="headerlink" title="AOP ç›¸å…³æœ¯è¯­"></a>AOP ç›¸å…³æœ¯è¯­</h3><pre><code>Joinpoint(è¿æ¥ç‚¹):   æ‰€è°“è¿æ¥ç‚¹æ˜¯æŒ‡é‚£äº›è¢«æ‹¦æˆªåˆ°çš„ç‚¹ã€‚åœ¨ spring ä¸­,è¿™äº›ç‚¹æŒ‡çš„æ˜¯æ–¹æ³•,å› ä¸º spring åªæ”¯æŒæ–¹æ³•ç±»å‹çš„ è¿æ¥ç‚¹ã€‚ Pointcut(åˆ‡å…¥ç‚¹):   æ‰€è°“åˆ‡å…¥ç‚¹æ˜¯æŒ‡æˆ‘ä»¬è¦å¯¹å“ªäº› Joinpoint è¿›è¡Œæ‹¦æˆªçš„å®šä¹‰ã€‚ Advice(é€šçŸ¥/å¢å¼º):   æ‰€è°“é€šçŸ¥æ˜¯æŒ‡æ‹¦æˆªåˆ° Joinpoint ä¹‹åæ‰€è¦åšçš„äº‹æƒ…å°±æ˜¯é€šçŸ¥ã€‚                      é€šçŸ¥çš„ç±»å‹ï¼šå‰ç½®é€šçŸ¥,åç½®é€šçŸ¥,å¼‚å¸¸é€šçŸ¥,æœ€ç»ˆé€šçŸ¥,ç¯ç»•é€šçŸ¥ã€‚ Introduction(å¼•ä»‹):   å¼•ä»‹æ˜¯ä¸€ç§ç‰¹æ®Šçš„é€šçŸ¥åœ¨ä¸ä¿®æ”¹ç±»ä»£ç çš„å‰æä¸‹, Introduction å¯ä»¥åœ¨è¿è¡ŒæœŸä¸ºç±»åŠ¨æ€åœ°æ·»åŠ ä¸€äº›æ–¹æ³•æˆ– Fieldã€‚ Target(ç›®æ ‡å¯¹è±¡):   ä»£ç†çš„ç›®æ ‡å¯¹è±¡ã€‚ Weaving(ç»‡å…¥):   æ˜¯æŒ‡æŠŠå¢å¼ºåº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡æ¥åˆ›å»ºæ–°çš„ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ã€‚                   spring é‡‡ç”¨åŠ¨æ€ä»£ç†ç»‡å…¥ï¼Œè€Œ AspectJ é‡‡ç”¨ç¼–è¯‘æœŸç»‡å…¥å’Œç±»è£…è½½æœŸç»‡å…¥ã€‚ Proxyï¼ˆä»£ç†ï¼‰:   ä¸€ä¸ªç±»è¢« AOP ç»‡å…¥å¢å¼ºåï¼Œå°±äº§ç”Ÿä¸€ä¸ªç»“æœä»£ç†ç±»ã€‚ Aspect(åˆ‡é¢):   æ˜¯åˆ‡å…¥ç‚¹å’Œé€šçŸ¥ï¼ˆå¼•ä»‹ï¼‰çš„ç»“åˆã€‚ </code></pre><h3 id="åŸºäº-XML-çš„-AOP-é…ç½®"><a href="#åŸºäº-XML-çš„-AOP-é…ç½®" class="headerlink" title="åŸºäº XML çš„ AOP é…ç½®"></a>åŸºäº XML çš„ AOP é…ç½®</h3><ol><li><p>å¯¼å…¥ä¾èµ–</p><pre><code>springaop5.0.2springaspects</code></pre></li><li><p>åˆ›å»º spring çš„é…ç½®æ–‡ä»¶å¹¶å¯¼å…¥çº¦æŸ </p><pre class=" language-xml"><code class="language-xml">aopçš„çº¦æŸ<span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/aop<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans               http://www.springframework.org/schema/beans/spring-beans.xsd              http://www.springframework.org/schema/aop               http://www.springframework.org/schema/aop/spring-aop.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre></li><li><p>é…ç½® spring çš„ ioc </p><pre class=" language-xml"><code class="language-xml">    <span class="token comment" spellcheck="true">&lt;!-- é…ç½® service --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.service.impl.AccountServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li><li><p>æŠŠé€šçŸ¥ç±»é…ç½®è¿›å®¹å™¨ä¸­</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- é…ç½®é€šçŸ¥ --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>txManager<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.utils.TransactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li><li><p>ä½¿ç”¨ aop:config å£°æ˜ aop é…ç½® </p><pre class=" language-xml"><code class="language-xml">ä½œç”¨ï¼šç”¨äºå£°æ˜å¼€å§‹ aop çš„é…ç½® <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!-- é…ç½®çš„ä»£ç éƒ½å†™åœ¨æ­¤å¤„ --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">></span></span> </code></pre></li><li><p>ä½¿ç”¨ aop:aspect é…ç½®åˆ‡é¢ </p><pre class=" language-xml"><code class="language-xml">ä½œç”¨ï¼š   ç”¨äºé…ç½®åˆ‡é¢ã€‚  å±æ€§ï¼š       idï¼šç»™åˆ‡é¢æä¾›ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ã€‚       refï¼šå¼•ç”¨é…ç½®å¥½çš„é€šçŸ¥ç±» bean çš„ idã€‚ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspect</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>txAdvice<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>txManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   <span class="token comment" spellcheck="true">&lt;!--é…ç½®é€šçŸ¥çš„ç±»å‹è¦å†™åœ¨æ­¤å¤„--></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>aspect</span><span class="token punctuation">></span></span></code></pre></li><li><p>ä½¿ç”¨ aop:pointcut é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ </p><pre class=" language-xml"><code class="language-xml">ä½œç”¨ï¼š   ç”¨äºé…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ã€‚å°±æ˜¯æŒ‡å®šå¯¹å“ªäº›ç±»çš„å“ªäº›æ–¹æ³•è¿›è¡Œå¢å¼ºã€‚  å±æ€§ï¼š       expressionï¼šç”¨äºå®šä¹‰åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ã€‚       idï¼šç”¨äºç»™åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æä¾›ä¸€ä¸ªå”¯ä¸€æ ‡è¯† ä½ç½®ï¼šå¿…é¡»åœ¨é…ç½®åˆ‡é¢ä¹‹å‰ï¼Œä¹Ÿå¯ä»¥åœ¨é…ç½®åˆ‡é¢ä¸­ï¼Œåˆ™è¯¥è¡¨è¾¾å¼åªèƒ½åº”ç”¨äºè¯¥åˆ‡é¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>execution(  public void com.itheima.service.impl.AccountServiceImpl.transfer(    java.lang.String, java.lang.String, java.lang.Float) )<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pt1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> åˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¯´æ˜ :    è¡¨è¾¾å¼è¯­æ³•ï¼šexecution([ä¿®é¥°ç¬¦] è¿”å›å€¼ç±»å‹ åŒ…å.ç±»å.æ–¹æ³•å(å‚æ•°))     è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥çœç•¥ï¼Œ    å…¨é€šé…æ–¹å¼ï¼š                       *     *..  *  .  *  (..)    ä½¿ç”¨..æ¥è¡¨ç¤ºå½“å‰åŒ…ï¼ŒåŠå…¶å­åŒ…         æ³¨ï¼š  é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯å¯¹ä¸šåŠ¡å±‚çš„æ–¹æ³•è¿›è¡Œå¢å¼ºï¼Œæ‰€ä»¥åˆ‡å…¥ç‚¹è¡¨è¾¾å¼éƒ½æ˜¯åˆ‡åˆ°ä¸šåŠ¡å±‚å®ç°ç±»ã€‚                  execution(* com.itheima.service.impl.*.*(..))    </code></pre></li><li><p>ä½¿ç”¨ aop:xxx é…ç½®å¯¹åº”çš„é€šçŸ¥ç±»å‹ (å†™åœ¨aop:aspecté‡Œ)</p><pre><code> ä½œç”¨ï¼š   ç”¨äºé…ç½®é€šçŸ¥ã€‚æŒ‡å®šå¢å¼ºçš„æ–¹æ³•åœ¨åˆ‡å…¥ç‚¹æ–¹æ³•ä¹‹å‰æ‰§è¡Œ    å±æ€§ï¼š   method:ç”¨äºæŒ‡å®šé€šçŸ¥ç±»ä¸­çš„å¢å¼ºæ–¹æ³•åç§°   ponitcut-refï¼šç”¨äºæŒ‡å®šåˆ‡å…¥ç‚¹çš„è¡¨è¾¾å¼çš„å¼•ç”¨            poinitcutï¼šç”¨äºæŒ‡å®šåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Œexpression(public void                                     com.itheima.service.impl.AccountServiceImpl.transfer()) æ‰§è¡Œæ—¶é—´ç‚¹ï¼š       aop:before  å‰ç½®é€šçŸ¥ï¼Œåˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œ     aop:after-returning åç½®é€šçŸ¥ï¼Œåˆ‡å…¥ç‚¹æ–¹æ³•æ­£å¸¸æ‰§è¡Œä¹‹åã€‚å®ƒå’Œå¼‚å¸¸é€šçŸ¥åªèƒ½æœ‰ä¸€ä¸ªæ‰§è¡Œ     aop:after-throwing å¼‚å¸¸é€šçŸ¥ï¼Œåˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œäº§ç”Ÿå¼‚å¸¸åæ‰§è¡Œã€‚å®ƒå’Œåç½®é€šçŸ¥åªèƒ½æ‰§è¡Œä¸€ä¸ª     aop:after  ç”¨äºé…ç½®æœ€ç»ˆé€šçŸ¥ï¼Œæ— è®ºåˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œæ—¶æ˜¯å¦æœ‰å¼‚å¸¸ï¼Œå®ƒéƒ½ä¼šåœ¨å…¶åé¢æ‰§è¡Œã€‚      &lt;aop:before method="beginTransaction" pointcut-ref="pt1"/&gt; </code></pre></li></ol><ul><li><p><strong>ç¯ç»•é€šçŸ¥</strong></p><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> é…ç½®ç¯ç»•é€šçŸ¥ <span class="token operator">--</span><span class="token operator">></span>   <span class="token operator">&lt;</span>aop<span class="token operator">:</span>around method<span class="token operator">=</span><span class="token string">"transactionAround"</span> pointcut<span class="token operator">-</span>ref<span class="token operator">=</span><span class="token string">"pt1"</span><span class="token operator">/</span><span class="token operator">></span> è¯´æ˜ï¼š   å®ƒæ˜¯ spring æ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›çš„ä¸€ç§å¯ä»¥åœ¨ä»£ç ä¸­æ‰‹åŠ¨æ§åˆ¶å¢å¼ºä»£ç ä»€ä¹ˆæ—¶å€™æ‰§è¡Œçš„æ–¹å¼ã€‚ æ³¨æ„ï¼š   é€šå¸¸æƒ…å†µä¸‹ï¼Œç¯ç»•é€šçŸ¥éƒ½æ˜¯ç‹¬ç«‹ä½¿ç”¨çš„     spring æ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ¥å£ï¼šProceedingJoinPointï¼Œå®ƒå¯ä»¥ä½œä¸ºç¯ç»•é€šçŸ¥çš„æ–¹æ³•å‚æ•°ã€‚      åœ¨ç¯ç»•é€šçŸ¥æ‰§è¡Œæ—¶ï¼Œspring æ¡†æ¶ä¼šä¸ºæˆ‘ä»¬æä¾›è¯¥æ¥å£çš„å®ç°ç±»å¯¹è±¡ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨å°±è¡Œ<span class="token keyword">public</span> Object <span class="token function">transactionAround</span><span class="token punctuation">(</span>ProceedingJoinPoint pjp<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment" spellcheck="true">//å®šä¹‰è¿”å›å€¼  </span>    Object rtValue <span class="token operator">=</span> null<span class="token punctuation">;</span>  <span class="token keyword">try</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">//è·å–æ–¹æ³•æ‰§è¡Œæ‰€éœ€çš„å‚æ•°   </span>    Object<span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//å‰ç½®é€šçŸ¥ï¼šå¼€å¯äº‹åŠ¡   </span>    <span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//æ‰§è¡Œæ–¹æ³•  </span>    rtValue <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//åç½®é€šçŸ¥ï¼šæäº¤äº‹åŠ¡   </span>    <span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>Throwable e<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment" spellcheck="true">//å¼‚å¸¸é€šçŸ¥ï¼šå›æ»šäº‹åŠ¡   </span>    <span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">//æœ€ç»ˆé€šçŸ¥ï¼šé‡Šæ”¾èµ„æº   </span>    <span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>  <span class="token keyword">return</span> rtValue<span class="token punctuation">;</span> <span class="token punctuation">}</span> </code></pre></li><li><p><strong>ä¾‹å­</strong></p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- å£°æ˜ä¸€ä¸ªä¸šåŠ¡ç±» --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userManager<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.spring.service.impl.UserManagerServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lixiaoxi<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- å£°æ˜é€šçŸ¥ç±» --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>aspectBean<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.spring.aop.AopAspect<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspect</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>aspectBean<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pointcut<span class="token punctuation">"</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>execution(* com.spring.service.impl.UserManagerServiceImpl..*(..))<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>before</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doBefore<span class="token punctuation">"</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pointcut<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>after-returning</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doAfterReturning<span class="token punctuation">"</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pointcut<span class="token punctuation">"</span></span> <span class="token attr-name">returning</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>after</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doAfter<span class="token punctuation">"</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pointcut<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>around</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doAround<span class="token punctuation">"</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pointcut<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>after-throwing</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doAfterThrowing<span class="token punctuation">"</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pointcut<span class="token punctuation">"</span></span> <span class="token attr-name">throwing</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ex<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>aspect</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">></span></span></code></pre></li></ul><h3 id="åŸºäºæ³¨è§£çš„-AOP-é…ç½®"><a href="#åŸºäºæ³¨è§£çš„-AOP-é…ç½®" class="headerlink" title="åŸºäºæ³¨è§£çš„ AOP é…ç½®"></a>åŸºäºæ³¨è§£çš„ AOP é…ç½®</h3><p>ä¸‰å¤§æ­¥:</p><ul><li><p>å°†ä¸šåŠ¡é€»è¾‘ç»„ä»¶å’Œåˆ‡é¢ç±»éƒ½åŠ å…¥åˆ°å®¹å™¨ä¸­ï¼Œå¹¶å‘ŠçŸ¥springå®¹å™¨å“ªä¸ªæ˜¯åˆ‡é¢ç±»ï¼ˆ@Aspectï¼‰</p></li><li><p>åœ¨åˆ‡é¢ç±»ä¸Šçš„æ¯ä¸€ä¸ªé€šçŸ¥æ–¹æ³•ä¸Šæ ‡æ³¨ä¸Šé€šçŸ¥æ³¨è§£ï¼Œå‘Šè¯‰Springä½•æ—¶ä½•åœ°è¿è¡Œï¼ˆåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼‰</p></li><li><p>å¼€å¯åŸºäºæ³¨è§£çš„AOPæ¨¡å¼</p><ol><li>é…ç½®æ–‡ä»¶ä¸­å¯¼å…¥ springé…ç½®æ–‡ä»¶ çš„åç§°ç©ºé—´</li></ol><pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;beans xmlns="http://www.springframework.org/schema/beans"  xmlns:aop="http://www.springframework.org/schema/aop"  xmlns:context="http://www.springframework.org/schema/context"     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"     xsi:schemaLocation="http://www.springframework.org/schema/beans         http://www.springframework.org/schema/beans/spring-beans.xsd         http://www.springframework.org/schema/aop         http://www.springframework.org/schema/aop/spring-aop.xsd         http://www.springframework.org/schema/context         http://www.springframework.org/schema/context/spring-context.xsd"&gt;</code></pre><ol start="2"><li>æŠŠèµ„æºä½¿ç”¨æ³¨è§£é…ç½® </li></ol><pre><code>@Service("accountService") public class AccountServiceImpl implements IAccountService { </code></pre><ol start="3"><li>æŒ‡å®š spring è¦æ‰«æçš„åŒ…</li></ol><pre><code>&lt;!-- å‘ŠçŸ¥ springï¼Œåœ¨åˆ›å»ºå®¹å™¨æ—¶è¦æ‰«æçš„åŒ… --&gt; &lt;context:component-scan base-package="com.itheima"&gt;&lt;/context:component-scan&gt;æˆ–@ComponentScanï¼ˆæŒ‡å®šæ‰«æçš„åŒ…ï¼‰ </code></pre><ol start="4"><li>æŠŠé€šçŸ¥ç±»ä¹Ÿä½¿ç”¨æ³¨è§£é…ç½® </li></ol><pre><code>@Component("txManager") </code></pre><ol start="5"><li>åœ¨é€šçŸ¥ç±»ä¸Šä½¿ç”¨@Aspect æ³¨è§£å£°æ˜ä¸ºåˆ‡é¢ </li></ol><pre><code>@Aspect//è¡¨æ˜å½“å‰ç±»æ˜¯ä¸€ä¸ªåˆ‡é¢ç±»</code></pre><ol start="6"><li>åœ¨å¢å¼ºçš„æ–¹æ³•ä¸Šä½¿ç”¨æ³¨è§£é…ç½®é€šçŸ¥</li></ol><pre><code>@Before@AfterReturning(value="",returning="result")ï¼Œæ–¹æ³•å‚æ•°å¯ä»¥åŠ ä¸€ä¸ªObject resultï¼Œç”¨äºè·å–è¿”å›å€¼@AfterThrowing(value="",throwing="exception"),æ–¹æ³•å‚æ•°å¯ä»¥åŠ ä¸€ä¸ªException exceptionï¼Œç”¨äºè·å–å¼‚å¸¸ä¿¡æ¯@After @Before("execution(* com.itheima.service.impl..(..))") æ–¹æ³•çš„å‚æ•°å¯ä»¥åŠ JoinPointï¼Œä¸”å¿…é¡»åœ¨å‚æ•°çš„ç¬¬ä¸€ä½joinponit.getSignature().getName()å¯ä»¥è·å–åˆ°è¢«åˆ‡æ–¹æ³•çš„åå­—joinponit.getArgs()å¯ä»¥è·å–è¢«åˆ‡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨</code></pre><ol start="7"><li>**åœ¨ spring é…ç½®æ–‡ä»¶ä¸­å¼€å¯ spring å¯¹æ³¨è§£ AOP çš„æ”¯æŒ **</li></ol><pre><code>&lt;aop:aspectj-autoproxy/&gt;  æˆ–çº¯æ³¨è§£æ–¹å¼  @EnableAspectJAutoProxy  public class SpringConfiguration { }</code></pre><ol start="8"><li>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ³¨è§£ </li></ol><pre><code>  @Pointcut("execution(* com.itheima.service.impl..(..))")   private void pt1() {}   @Around("pt1()")//æ³¨æ„ï¼šåƒä¸‡åˆ«å¿˜äº†å†™æ‹¬å·    public Object printLog() {}</code></pre><blockquote><p>æ³¨æ„ï¼š</p><p>è¿›è¡Œæµ‹è¯•çš„æ—¶å€™ï¼Œä¸šåŠ¡é€»è¾‘æ–¹æ³•å¯¹è±¡åº”è¯¥æ˜¯ä»å®¹å™¨ä¸­è·å–ï¼Œå¦‚æœæ˜¯è‡ªå·±newå‡ºæ¥ï¼Œä¸ä¼šæœ‰aopå¢å¼ºçš„æ•ˆæœ</p></blockquote><ul><li>ç¯ç»•é€šçŸ¥æ³¨è§£é…ç½® </li></ul><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">"execution(* com.itheima.service.impl.*.*(..))"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> Object <span class="token function">transactionAround</span><span class="token punctuation">(</span>ProceedingJoinPoint pjp<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment" spellcheck="true">//å®šä¹‰è¿”å›å€¼   </span>    Object rtValue <span class="token operator">=</span> null<span class="token punctuation">;</span>       <span class="token keyword">try</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//è·å–æ–¹æ³•æ‰§è¡Œæ‰€éœ€çš„å‚æ•°    </span>        Object<span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//å‰ç½®é€šçŸ¥ï¼šå¼€å¯äº‹åŠ¡    </span>        <span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//æ‰§è¡Œæ–¹æ³•    </span>        rtValue <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//åç½®é€šçŸ¥ï¼šæäº¤äº‹åŠ¡    </span>        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>Throwable e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å¼‚å¸¸é€šçŸ¥ï¼šå›æ»šäº‹åŠ¡    </span>        <span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//æœ€ç»ˆé€šçŸ¥ï¼šé‡Šæ”¾èµ„æº    </span>        <span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">}</span>       <span class="token keyword">return</span> rtValue<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre></li></ul><hr><h2 id="JDBCTemplate"><a href="#JDBCTemplate" class="headerlink" title="JDBCTemplate"></a>JDBCTemplate</h2><h3 id="JDBCTemplateå’ŒDBUtilså¯¹æ¯”ï¼š"><a href="#JDBCTemplateå’ŒDBUtilså¯¹æ¯”ï¼š" class="headerlink" title="JDBCTemplateå’ŒDBUtilså¯¹æ¯”ï¼š"></a>JDBCTemplateå’ŒDBUtilså¯¹æ¯”ï¼š</h3><ul><li>æœ€é‡è¦çš„ä¸€ç‚¹ï¼šjdbcTemplateçš„queryæ–¹æ³•æ˜¯çœ‹ä¸åŒqueryçš„è¿”å›å€¼ï¼šqueryï¼ˆæŸ¥æ‰€æœ‰ã€æŸ¥ä¸€ä¸ªï¼‰ã€queryForObjectï¼ˆæŸ¥ä¸€è¡Œä¸€åˆ—ï¼‰ï¼Œè€Œå‚æ•°éƒ½æ˜¯new BeanProperty&lt;&gt;()  DBUtilsçš„queryæ–¹æ³•åªæœ‰queryï¼Œæ˜¯çœ‹queryä¸­ä¸åŒå‚æ•°new BeanHandlerçš„è¿”å›å€¼ï¼šBeanHandlerã€            BeanListHandlerã€BeanObjectHandler</li></ul><pre class=" language-java"><code class="language-java">æŸ¥ä¸€ä¸ªList<span class="token operator">&lt;</span>User<span class="token operator">></span> users <span class="token operator">=</span> jdbcTemplate<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">"select * from user where id = ? "</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">BeanPropertyRowMapper</span><span class="token operator">&lt;</span>User<span class="token operator">></span><span class="token punctuation">(</span>User<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åˆ¤æ–­listæ˜¯å¦ä¸ºç©ºï¼Œç©ºåˆ™è¿”å›nullï¼Œä¸ä¸ºç©ºåˆ™è¿”å›è¯¥ä¿¡æ¯ï¼Œå› ä¸ºæ˜¯ä¸€ä¸ªä¿¡æ¯ï¼Œæ‰€æœ‰get(0)æ˜¯è¯¥ä¿¡æ¯</span><span class="token keyword">return</span> users<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span>null<span class="token operator">:</span>users<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><ul><li><p>å¯¼å…¥ä¾èµ–</p><pre><code> spring-jdbc-5.0.2.RELEASE.jar  spring-tx-5.0.2.RELEASE.jar</code></pre></li><li><p>é…ç½®æ•°æ®æº </p><ul><li><p>C3P0</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mchange.v2.c3p0.ComboPooledDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClass<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbcUrl<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql:///spring_day02<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li><li><p>é…ç½® spring å†…ç½®æ•°æ®æº</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.jdbc.datasource.DriverManagerDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClassName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql:///spring_day02<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li></ul></li><li><p>å°†æ•°æ®åº“è¿æ¥çš„ä¿¡æ¯é…ç½®åˆ°å±æ€§æ–‡ä»¶ä¸­:</p><pre><code>å¼•å…¥å¤–éƒ¨çš„å±æ€§æ–‡ä»¶&lt;context:property-placeholder location="classpath:jdbc.properties"/&gt; </code></pre></li><li><p> JdbcTemplate çš„å¢åˆ æ”¹æŸ¥æ“ä½œ </p></li></ul><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- é…ç½®ä¸€ä¸ªæ•°æ®åº“çš„æ“ä½œæ¨¡æ¿ï¼šJdbcTemplate --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbcTemplate<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.jdbc.core.JdbcTemplate<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre><ul><li><p>ç¬¬ä¸€ç§æ–¹å¼ï¼ˆæ‰€æœ‰æƒ…å†µéƒ½é€‚ç”¨ï¼‰ï¼šåœ¨ dao ä¸­å®šä¹‰ JdbcTemplate </p><pre><code>åœ¨ Daoç±»ä¸­å®šä¹‰ JdbcTemplate çš„æ–¹å¼ï¼Œé€‚ç”¨äºæ‰€æœ‰é…ç½®æ–¹å¼ï¼ˆxmlå’Œæ³¨è§£éƒ½å¯ä»¥ï¼‰ã€‚ public class AccountDaoImpl implements IAccountDao {private JdbcTemplate jdbcTemplate;    public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {   this.jdbcTemplate = jdbcTemplate;  }xmlï¼š&lt;!-- é…ç½®ä¸€ä¸ª dao --&gt;  &lt;bean id="accountDao" class="com.itheima.dao.impl.AccountDaoImpl"&gt;       &lt;!-- æ³¨å…¥ jdbcTemplate --&gt;         &lt;property name="jdbcTemplate" ref="jdbcTemplate"&gt;&lt;/property&gt; &lt;/bean&gt;</code></pre></li><li><p>ç¬¬äºŒç§æ–¹å¼ï¼ˆçº¯æ³¨è§£ï¼‰ï¼šåœ¨é…ç½®ç±»ä¸ŠåŠ JDBCTemplateç»„ä»¶</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ•°æ®æº</span><span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> DataSource <span class="token function">dateSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception<span class="token punctuation">{</span>    ComboPoolDataSource dataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComboPoolDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dataSource<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dataSource<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dataSource<span class="token punctuation">.</span><span class="token function">setDriverClass</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dataSource<span class="token punctuation">.</span><span class="token function">setJdbcUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> dataSource<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//JdbcTemplate</span><span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> JdbcTemplate <span class="token function">jdbcTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception<span class="token punctuation">{</span>    jdbcTemplate jdbcTemplate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JdbcTemplate</span><span class="token punctuation">(</span><span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> jdbcTemplate<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>ç¬¬ä¸‰ç§æ–¹å¼ï¼ˆæ³¨è§£ä¸é€‚ç”¨ï¼‰ï¼šè®© dao ç»§æ‰¿ JdbcDaoSupport </p><pre class=" language-java"><code class="language-java">è®© Daoç»§æ‰¿ JdbcDaoSupport çš„æ–¹å¼ï¼Œåªèƒ½ç”¨äºåŸºäº XML çš„æ–¹å¼ï¼Œæ³¨è§£ç”¨ä¸äº†ã€‚ <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountDaoImpl2</span> <span class="token keyword">extends</span> <span class="token class-name">JdbcDaoSupport</span> <span class="token keyword">implements</span> <span class="token class-name">IAccountDao</span> <span class="token punctuation">{</span>   <span class="token annotation punctuation">@Override</span>  <span class="token keyword">public</span> Account <span class="token function">findAccountById</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//getJdbcTemplate()æ–¹æ³•æ˜¯ä»çˆ¶ç±»ä¸Šç»§æ‰¿ä¸‹æ¥çš„ã€‚   </span>     List<span class="token operator">&lt;</span>Account<span class="token operator">></span> list <span class="token operator">=</span> <span class="token function">getJdbcTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">"select * from account where id = ? "</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">AccountRowMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>      xml<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> é…ç½® dao2 <span class="token operator">--</span><span class="token operator">></span> <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"accountDao2"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.itheima.dao.impl.AccountDaoImpl2"</span><span class="token operator">></span>     <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> æ³¨å…¥ dataSource <span class="token operator">--</span><span class="token operator">></span>      <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"dataSource"</span> ref<span class="token operator">=</span><span class="token string">"dataSource"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></code></pre></li></ul><hr><h2 id="Springä¸­çš„äº‹åŠ¡æ§åˆ¶"><a href="#Springä¸­çš„äº‹åŠ¡æ§åˆ¶" class="headerlink" title="Springä¸­çš„äº‹åŠ¡æ§åˆ¶"></a>Springä¸­çš„äº‹åŠ¡æ§åˆ¶</h2><ul><li><p>å†™åœ¨æœ€å‰ï¼šSpring æä¾›äº†åˆ†å±‚è®¾è®¡ä¸šåŠ¡å±‚çš„äº‹åŠ¡å¤„ç†è§£å†³æ–¹æ¡ˆï¼Œspring çš„äº‹åŠ¡æ§åˆ¶éƒ½æ˜¯åŸºäº AOP çš„</p></li><li><p> Springä¸­äº‹åŠ¡æ§åˆ¶çš„ APIä»‹ç»ï¼š</p></li><li><p>PlatformTransactionManagerï¼šæ­¤æ¥å£æ˜¯ spring çš„äº‹åŠ¡ç®¡ç†å™¨</p></li><li><p>å®ƒçš„å®ç°ç±»ï¼š</p><pre><code>org.springframework.jdbc.datasource.DataSourceTransactionManager ä½¿ç”¨ Spring JDBC æˆ– iBatis è¿›è¡ŒæŒä¹…åŒ–æ•°æ®æ—¶ä½¿ç”¨ org.springframework.orm.hibernate5.HibernateTransactionManager  ä½¿ç”¨ Hibernate ç‰ˆæœ¬è¿›è¡ŒæŒä¹…åŒ–æ•°æ®æ—¶ä½¿ç”¨</code></pre></li></ul><h3 id="åŸºäº-XML-çš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶ï¼ˆé…ç½®æ–¹å¼ï¼‰"><a href="#åŸºäº-XML-çš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶ï¼ˆé…ç½®æ–¹å¼ï¼‰" class="headerlink" title="åŸºäº XML çš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶ï¼ˆé…ç½®æ–¹å¼ï¼‰"></a>åŸºäº XML çš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶ï¼ˆé…ç½®æ–¹å¼ï¼‰</h3><ul><li><p>å¯¼å…¥ä¾èµ–</p><pre><code>spring-tx-5.0.2spring-jdbc-5.0.2</code></pre></li><li><p>åˆ›å»º spring çš„é…ç½®æ–‡ä»¶å¹¶å¯¼å…¥çº¦æŸ </p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>      <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>      <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/aop<span class="token punctuation">"</span></span>      <span class="token attr-name"><span class="token namespace">xmlns:</span>tx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/tx<span class="token punctuation">"</span></span>      <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans         http://www.springframework.org/schema/beans/spring-beans.xsd        http://www.springframework.org/schema/tx         http://www.springframework.org/schema/tx/spring-tx.xsd           http://www.springframework.org/schema/aop            http://www.springframework.org/schema/aop/spring-aop.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre></li><li><p>å‡†å¤‡æ•°æ®åº“è¡¨å’Œå®ä½“ç±»</p></li><li><p>ç¼–å†™ä¸šåŠ¡å±‚æ¥å£å’Œå®ç°ç±»</p></li><li><p>ç¼–å†™ Dao æ¥å£å’Œå®ç°ç±» </p></li><li><p>åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ä¸šåŠ¡å±‚å’ŒæŒä¹…å±‚</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- é…ç½® service --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.service.impl.AccountServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountDao<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>   <span class="token comment" spellcheck="true">&lt;!-- é…ç½® dao --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.dao.impl.AccountDaoImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token comment" spellcheck="true">&lt;!-- æ³¨å…¥ dataSource è¿™é‡Œä½¿ç”¨çš„æ˜¯ç»§æ‰¿çš„æ–¹æ³•ï¼Œä¸éœ€è¦é…ç½®JdbcTemplateï¼Œä¸é€‚ç”¨äºæ³¨è§£--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>   <span class="token comment" spellcheck="true">&lt;!-- é…ç½®æ•°æ®æº --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.jdbc.datasource.DriverManagerDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClassName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql:///spring_day04<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span> </code></pre></li><li><p>äº‹åŠ¡é…ç½®ï¼šé…ç½®äº‹åŠ¡ç®¡ç†å™¨ </p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- é…ç½®ä¸€ä¸ªäº‹åŠ¡ç®¡ç†å™¨ --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>     <span class="token comment" spellcheck="true">&lt;!-- æ³¨å…¥ DataSource --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre></li><li><p>é…ç½®äº‹åŠ¡çš„é€šçŸ¥ï¼Œå¼•ç”¨äº‹åŠ¡ç®¡ç†å™¨</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- äº‹åŠ¡çš„é…ç½® transaction-manager:å¼•ç”¨äº‹åŠ¡ç®¡ç†å™¨beançš„id--></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>advice</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>txAdvice<span class="token punctuation">"</span></span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>advice</span><span class="token punctuation">></span></span></code></pre></li><li><p>é…ç½®äº‹åŠ¡çš„å±æ€§ </p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--åœ¨ tx:advice æ ‡ç­¾å†…éƒ¨ é…ç½®äº‹åŠ¡çš„å±æ€§ --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!-- æŒ‡å®šæ–¹æ³•åç§°ï¼šæ˜¯ä¸šåŠ¡æ ¸å¿ƒæ–¹æ³•   *read-onlyï¼šæ˜¯å¦æ˜¯åªè¯»äº‹åŠ¡ã€‚é»˜è®¤ false(é€‚ç”¨äºå¢åˆ æ”¹)ï¼Œä¸åªè¯»(é€‚ç”¨äºæŸ¥è¯¢)ã€‚  isolationï¼šæŒ‡å®šäº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€‚é»˜è®¤å€¼æ˜¯ä½¿ç”¨æ•°æ®åº“çš„é»˜è®¤éš”ç¦»çº§åˆ«ã€‚  *propagationï¼šæŒ‡å®šäº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºï¼Œé»˜è®¤REQUIREDï¼ˆåˆ›å»ºäº‹åŠ¡ï¼Œé€‚ç”¨äºå¢åˆ æ”¹ï¼‰ï¼ŒSUPPORTSï¼ˆé€‚ç”¨äºæŸ¥è¯¢ï¼‰ã€‚  timeoutï¼šæŒ‡å®šè¶…æ—¶æ—¶é—´ã€‚é»˜è®¤å€¼ä¸ºï¼š-1ã€‚æ°¸ä¸è¶…æ—¶ã€‚  rollback-forï¼šç”¨äºæŒ‡å®šä¸€ä¸ªå¼‚å¸¸ï¼Œå½“æ‰§è¡Œäº§ç”Ÿè¯¥å¼‚å¸¸æ—¶ï¼Œäº‹åŠ¡å›æ»šã€‚äº§ç”Ÿå…¶ä»–å¼‚å¸¸ï¼Œäº‹åŠ¡ä¸å›æ»šã€‚ æ²¡æœ‰é»˜è®¤å€¼ï¼Œä»»ä½•å¼‚å¸¸éƒ½å›æ»šã€‚  no-rollback-forï¼šç”¨äºæŒ‡å®šä¸€ä¸ªå¼‚å¸¸ï¼Œå½“äº§ç”Ÿè¯¥å¼‚å¸¸æ—¶ï¼Œäº‹åŠ¡ä¸å›æ»šï¼Œäº§ç”Ÿå…¶ä»–å¼‚å¸¸æ—¶ï¼Œäº‹åŠ¡å› æ»šã€‚æ²¡æœ‰é»˜è®¤å€¼ï¼Œä»»ä½•å¼‚å¸¸éƒ½å›æ»šã€‚  --></span>  <span class="token comment" spellcheck="true">&lt;!--nameå¯ä»¥ç”¨*å ä½ç¬¦--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span> <span class="token attr-name">read-only</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">propagation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>REQUIRED<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>find*<span class="token punctuation">"</span></span> <span class="token attr-name">read-only</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">propagation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SUPPORTS<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">></span></span></code></pre></li><li><p>é…ç½® AOP åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ </p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- é…ç½® aop --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">></span></span>      <span class="token comment" spellcheck="true">&lt;!-- é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>execution(* com.itheima.service.impl.*.*(..))<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pt1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">></span></span></code></pre></li><li><p>é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å’Œäº‹åŠ¡é€šçŸ¥çš„å¯¹åº”å…³ç³»</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- åœ¨ aop:configæ ‡ç­¾å†…éƒ¨ advice-ref:äº‹åŠ¡é…ç½®çš„idpointcut-refï¼šåˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„id--></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>advisor</span> <span class="token attr-name">advice-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>txAdvice<span class="token punctuation">"</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pt1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> </code></pre></li></ul><h3 id="åŸºäºæ³¨è§£çš„é…ç½®æ–¹å¼"><a href="#åŸºäºæ³¨è§£çš„é…ç½®æ–¹å¼" class="headerlink" title="åŸºäºæ³¨è§£çš„é…ç½®æ–¹å¼"></a>åŸºäºæ³¨è§£çš„é…ç½®æ–¹å¼</h3><p>ä¸‰å¤§æ­¥ï¼š</p><ul><li>å¼€å¯äº‹åŠ¡ç®¡ç†åŠŸèƒ½@EnableTransactionManagement</li><li>ç»™æ–¹æ³•æ ‡æ³¨ä¸Š@Transactional ï¼Œè¡¨ç¤ºå½“å‰æ–¹æ³•æ˜¯ä¸€ä¸ªç”±äº‹åŠ¡æ¥ç®¡çš„æ–¹æ³•</li><li>é…ç½®äº‹åŠ¡ç®¡ç†å™¨æ¥æ§åˆ¶äº‹åŠ¡</li></ul><ul><li><p>å¯¼å…¥ä¾èµ–</p><pre><code>aopaspectJ(è§£æåˆ‡å…¥ç‚¹è¡¨è¾¾å¼)</code></pre></li><li><p>åˆ›å»º spring çš„é…ç½®æ–‡ä»¶å¯¼å…¥çº¦æŸå¹¶é…ç½®æ‰«æçš„åŒ… ï¼ˆçº¯æ³¨è§£è¯·å‚è€ƒJDBCTemplateç¬¬äºŒç§æ–¹å¼é…ç½®æ•°æ®æºå’ŒjdbcTemplateï¼‰</p></li></ul><pre class=" language-xml"><code class="language-xml">  <span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>     <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/aop<span class="token punctuation">"</span></span>     <span class="token attr-name"><span class="token namespace">xmlns:</span>tx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/tx<span class="token punctuation">"</span></span>     <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>      http://www.springframework.org/schema/beans              http://www.springframework.org/schema/beans/spring-beans.xsd            http://www.springframework.org/schema/aop          http://www.springframework.org/schema/aop/spring-aop.xsd          http://www.springframework.org/schema/tx           http://www.springframework.org/schema/tx/spring-tx.xsd          http://www.springframework.org/schema/context         http://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- é…ç½® spring åˆ›å»ºå®¹å™¨æ—¶è¦æ‰«æçš„åŒ… --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span>          <span class="token comment" spellcheck="true">&lt;!-- é…ç½® JdbcTemplate é‡‡ç”¨éç»§æ‰¿å½¢å¼ï¼Œé€‚ç”¨äºæ‰€æœ‰æƒ…å†µ--></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbcTemplate<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.jdbc.core.JdbcTemplate<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>         <span class="token comment" spellcheck="true">&lt;!-- é…ç½® spring æä¾›çš„å†…ç½®æ•°æ®æº --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.jdbc.datasource.DriverManagerDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driverClassName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/spring_day02<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span> </code></pre><ul><li><p>åˆ›å»ºæ•°æ®åº“è¡¨å’Œå®ä½“ç±»</p></li><li><p>åˆ›å»ºä¸šåŠ¡å±‚æ¥å£å’Œå®ç°ç±»å¹¶ä½¿ç”¨æ³¨è§£è®© spring ç®¡ç†</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span><span class="token string">"accountService"</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">IAccountService</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Autowired</span>      <span class="token keyword">private</span> IAccountDao accountDao<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//å…¶ä½™ä»£ç å’ŒåŸºäº XML çš„é…ç½®ç›¸åŒ </span><span class="token punctuation">}</span> </code></pre></li><li><p>åˆ›å»º Dao æ¥å£å’Œå®ç°ç±»å¹¶ä½¿ç”¨æ³¨è§£è®© spring ç®¡ç† </p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Repository</span><span class="token punctuation">(</span><span class="token string">"accountDao"</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">IAccountDao</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Autowired</span>      <span class="token keyword">private</span> JdbcTemplate jdbcTemplate<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//å…¶ä½™ä»£ç å’ŒåŸºäº XML çš„é…ç½®ç›¸åŒ </span><span class="token punctuation">}</span></code></pre></li><li><p>äº‹åŠ¡é…ç½®ï¼šé…ç½®äº‹åŠ¡ç®¡ç†å™¨å¹¶æ³¨å…¥æ•°æ®æº </p><pre class=" language-java"><code class="language-java"> åœ¨é…ç½®ç±»ä¸Šå†™ <span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> PlatformTransactionManager <span class="token function">transactionManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception<span class="token punctuation">{</span>     <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceTransactionManager</span><span class="token punctuation">(</span><span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><ul><li><p>åœ¨ä¸šåŠ¡å±‚ä½¿ç”¨@Transactional æ³¨è§£é…ç½®äº‹åŠ¡é€šçŸ¥</p><p>``` java<br>//åˆ›å»ºbean<br>@Service(â€œaccountServiceâ€)<br>//é…ç½®äº‹åŠ¡é€šçŸ¥ï¼Œå¹¶é…ç½®äº‹åŠ¡å±æ€§<br>@Transactional(readOnly=true,propagation=Propagation.SUPPORTS)<br>public class AccountServiceImpl implements IAccountService {</p><pre><code>//è½¬è´¦@Override  @Transactional(readOnly=false,propagation=Propagation.REQUIRED) public void transfer(String sourceName, String targeName, Float money) { </code></pre><p>/* @Transactional</p><pre><code>è¯¥æ³¨è§£çš„å±æ€§å’Œ xml ä¸­çš„å±æ€§å«ä¹‰ä¸€è‡´ã€‚è¯¥æ³¨è§£å¯ä»¥å‡ºç°åœ¨æ¥å£ä¸Šï¼Œç±»ä¸Šå’Œæ–¹æ³•ä¸Šã€‚ å‡ºç°æ¥å£ä¸Šï¼Œè¡¨ç¤ºè¯¥æ¥å£çš„æ‰€æœ‰å®ç°ç±»éƒ½æœ‰äº‹åŠ¡æ”¯æŒã€‚ </code></pre><p>  å‡ºç°åœ¨ç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­æ‰€æœ‰æ–¹æ³•æœ‰äº‹åŠ¡æ”¯æŒ<br>  å‡ºç°åœ¨æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºæ–¹æ³•æœ‰äº‹åŠ¡æ”¯æŒã€‚<br>  ä»¥ä¸Šä¸‰ä¸ªä½ç½®çš„ä¼˜å…ˆçº§ï¼šæ–¹æ³•&gt;ç±»&gt;æ¥å£</p></li><li><p>/<br> ```</p></li><li><p>å¼€å¯ spring å¯¹æ³¨è§£äº‹åŠ¡çš„æ”¯æŒ </p><pre><code>&lt;!-- å¼€å¯ spring å¯¹æ³¨è§£äº‹åŠ¡çš„æ”¯æŒ --&gt; &lt;tx:annotation-driven transaction-manager="transactionManager"/&gt; æˆ–çº¯æ³¨è§£æ–¹å¼   @EnableTransactionManagement @Configuration @EnableTransactionManagement public class SpringTxConfiguration {  //é‡Œé¢é…ç½®æ•°æ®æºï¼Œé…ç½® JdbcTemplate,é…ç½®äº‹åŠ¡ç®¡ç†å™¨ã€‚ } </code></pre></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> ssmæ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mybatisæ¡†æ¶</title>
      <link href="/2020/06/22/ssm-kuang-jia/mybatis/"/>
      <url>/2020/06/22/ssm-kuang-jia/mybatis/</url>
      
        <content type="html"><![CDATA[<h1 id="æ¡†æ¶-Framework"><a href="#æ¡†æ¶-Framework" class="headerlink" title="æ¡†æ¶(Framework)"></a>æ¡†æ¶(Framework)</h1><h2 id="Mybatis"><a href="#Mybatis" class="headerlink" title="Mybatis"></a>Mybatis</h2><ul><li>æ˜¯ä¸€ä¸ªä¼˜ç§€çš„åŸºäº java çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒå†…éƒ¨å°è£…äº† jdbcï¼Œä½¿å¼€å‘è€…åªéœ€è¦å…³æ³¨ sqlè¯­å¥æœ¬èº«ï¼Œ è€Œä¸éœ€è¦èŠ±è´¹ç²¾åŠ›å»å¤„ç†åŠ è½½é©±åŠ¨ã€åˆ›å»ºè¿æ¥ã€åˆ›å»º statement ç­‰ç¹æ‚çš„è¿‡ç¨‹</li><li>é‡‡ç”¨ ORM æ€æƒ³è§£å†³äº†å®ä½“å’Œæ•°æ®åº“æ˜ å°„çš„é—®é¢˜</li><li><strong>Mybatis ä¸ JDBC ç¼–ç¨‹çš„æ¯”è¾ƒ</strong></li><li><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/mybatis1.png" alt="image-20200527162139445"></li></ul><h3 id="Mybatis-æ¡†æ¶å¼€å‘çš„å‡†å¤‡"><a href="#Mybatis-æ¡†æ¶å¼€å‘çš„å‡†å¤‡" class="headerlink" title="Mybatis æ¡†æ¶å¼€å‘çš„å‡†å¤‡"></a>Mybatis æ¡†æ¶å¼€å‘çš„å‡†å¤‡</h3><ul><li>ä¸‹è½½ç›¸å…³çš„ jar åŒ…æˆ– maven å¼€å‘çš„åæ ‡:Mybatis ç‰ˆæœ¬æ˜¯ 3.4.5 ç‰ˆæœ¬</li></ul><h3 id="æ­å»º-Mybatis-å¼€å‘ç¯å¢ƒ"><a href="#æ­å»º-Mybatis-å¼€å‘ç¯å¢ƒ" class="headerlink" title="æ­å»º Mybatis å¼€å‘ç¯å¢ƒ"></a>æ­å»º Mybatis å¼€å‘ç¯å¢ƒ</h3><ol><li><p>åˆ›å»º maven å·¥ç¨‹ </p></li><li><p>æ·»åŠ  Mybatis 3.4.5 çš„åæ ‡ï¼ˆä¾èµ–ï¼‰</p><pre class=" language-xml"><code class="language-xml">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.4.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.1.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.2.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre></li><li><p>ç¼–å†™ User å®ä½“ç±» </p></li><li><p>ç¼–å†™æŒä¹…å±‚æ¥å£ IUserDao ï¼ˆä¹Ÿå¯ä»¥å†™æˆ UserDao æˆ–è€… UserMapperï¼‰</p></li><li><p>ç¼–å†™æŒä¹…å±‚æ¥å£çš„æ˜ å°„æ–‡ä»¶ IUserDao.xml ï¼ˆä¹Ÿå¯ä½¿ç”¨æ³¨è§£ï¼Œä¸ç¼–å†™æ˜ å°„æ–‡ä»¶ï¼Œå…·ä½“æ–¹æ³•åœ¨8ï¼‰</p><ul><li><strong>è¦æ±‚</strong>ï¼š  <ul><li><strong>åˆ›å»ºä½ç½®</strong>ï¼šå¿…é¡»å’ŒæŒä¹…å±‚æ¥å£åœ¨ç›¸åŒçš„åŒ…ä¸­ã€‚ï¼ˆç›®å½•å’ŒåŒ…ä¸ä¸€æ ·ï¼Œéœ€è¦åˆ›å»ºä¸‰æ¬¡ï¼Œä¸€æ¬¡æ€§åˆ›å»ºä¸ºä¸€çº§ç›®å½•ï¼‰  </li><li><strong>åç§°</strong>ï¼šå¿…é¡»ä»¥æŒä¹…å±‚æ¥å£åç§°ä¸€æ ·ï¼Œæ‰©å±•åæ˜¯.xml </li></ul></li></ul></li></ol><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/mybatis2.png" alt="image-20200526192732631" style="zoom: 80%;"><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token doctype">&lt;!DOCTYPE mapper     PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-mapper.dtd"></span> <span class="token comment" spellcheck="true">&lt;!-- å‚æ•°namespaceæ˜¯æ¥å£å…¨ç±»å --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.dao.IUserDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>       <span class="token comment" spellcheck="true">&lt;!-- é…ç½®æŸ¥è¯¢æ‰€æœ‰æ“ä½œ --></span>  <span class="token comment" spellcheck="true">&lt;!-- å‚æ•°idæ˜¯æ¥å£çš„æ–¹æ³•åï¼ŒresultTypeæ˜¯å®ä½“ç±»çš„å…¨ç±»å --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findAll<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.domain.User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>     select * from user      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span></code></pre><ol start="6"><li> ç¼–å†™ SqlMapConfig.xml é…ç½®æ–‡ä»¶ </li></ol><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token doctype">&lt;!DOCTYPE configuration     PUBLIC "-//mybatis.org//DTD Config 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-config.dtd"></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- é…ç½® mybatis çš„ç¯å¢ƒ --></span>  <span class="token comment" spellcheck="true">&lt;!-- å‚æ•°éšä¾¿èµ· --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mysql<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>           <span class="token comment" spellcheck="true">&lt;!-- é…ç½® mysql çš„ç¯å¢ƒ --></span>   <span class="token comment" spellcheck="true">&lt;!-- å‚æ•°ä¸defaultä¿æŒä¸€è‡´--></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mysql<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token comment" spellcheck="true">&lt;!-- é…ç½®äº‹åŠ¡çš„ç±»å‹ --></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>JDBC<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transactionManager</span><span class="token punctuation">></span></span>              <span class="token comment" spellcheck="true">&lt;!-- é…ç½®è¿æ¥æ•°æ®åº“çš„ä¿¡æ¯ï¼šç”¨çš„æ˜¯æ•°æ®æº(è¿æ¥æ± ) --></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POOLED<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/eesy<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å‘ŠçŸ¥ mybatis æ˜ å°„é…ç½®çš„ä½ç½® --></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com/itheima/dao/IUserDao.xml<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></code></pre><ol start="7"><li><p>å¿«é€Ÿå…¥é—¨</p><ul><li>ç¼–å†™æµ‹è¯•ç±»ï¼š</li></ul><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//1.è¯»å–é…ç½®æ–‡ä»¶</span>        InputStream is <span class="token operator">=</span> Resources<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"SqlMapConfig.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//2.åˆ›å»ºSqlSessionFactoryæ„å»ºè€…å¯¹è±¡</span>        SqlSessionFactoryBuilder builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//3.ä½¿ç”¨æ„å»ºè€…åˆ›å»ºå·¥ç¨‹å¯¹è±¡SqlSessionFactory</span>        SqlSessionFactory factory <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//4.ä½¿ç”¨å·¥å‚ç”Ÿäº§SqlSessionå¯¹è±¡</span>        SqlSession session <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//5.ä½¿ç”¨SqlSessionå¯¹è±¡åˆ›å»ºDaoæ¥å£ä»£ç†å¯¹è±¡</span>        IUserDao userDao <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span>IUserDao<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//æ­¤å¤„ä¹Ÿå¯ä»¥å†™session.select(åç§°ç©ºé—´.æ–¹æ³•id);ç›´æ¥è¿›è¡Œcrudæ“ä½œï¼Œæ­¤æ—¶åç§°ç©ºé—´æ˜¯éšæ„èµ·çš„ï¼Œä¹Ÿä¸éœ€è¦æ¥å£</span>        <span class="token comment" spellcheck="true">//6.ä½¿ç”¨ä»£ç†å¯¹è±¡æ‰§è¡ŒæŸ¥è¯¢æ‰€æœ‰çš„æ–¹æ³•</span>        List<span class="token operator">&lt;</span>User<span class="token operator">></span> users <span class="token operator">=</span> userDao<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>User user <span class="token operator">:</span>users<span class="token punctuation">)</span> <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//7.é‡Šæ”¾èµ„æº</span>        session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/mybatis3.png" alt="image-20200526215352563" style="zoom:150%;"></li><li><p>ä½¿ç”¨æ³¨è§£ï¼Œä¸ä½¿ç”¨æ˜ å°„é…ç½®æ–‡ä»¶</p><ol><li>å°†daoæ¥å£ä¸ŠåŠ ä¸Šæ³¨è§£ï¼š</li></ol><pre><code>@select("select * from user")</code></pre><ol start="2"><li>ä¿®æ”¹mybatisæ€»é…ç½®ä¸­çš„æ˜ å°„é…ç½®</li></ol><pre><code>&lt;mapper class="cn/hm/dao/IUserDao"/&gt;</code></pre><ol start="3"><li>æ³¨æ„ï¼šåœ¨ä½¿ç”¨åŸºäºæ³¨è§£çš„ Mybatis é…ç½®æ—¶ï¼Œè¯·ç§»é™¤ xml çš„æ˜ å°„é…ç½®ï¼ˆIUserDao.xmlï¼‰ã€‚ </li></ol></li></ol><h3 id="è‡ªå®šä¹‰Mybatisåº•å±‚"><a href="#è‡ªå®šä¹‰Mybatisåº•å±‚" class="headerlink" title="è‡ªå®šä¹‰Mybatisåº•å±‚"></a>è‡ªå®šä¹‰Mybatisåº•å±‚</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/mybatis4.png" alt="image-20200527140709218"></p><hr><h2 id="CRUDæ“ä½œ"><a href="#CRUDæ“ä½œ" class="headerlink" title="CRUDæ“ä½œ"></a>CRUDæ“ä½œ</h2><ul><li>ä½¿ç”¨è¦æ±‚ï¼š  </li></ul><ol><li>æŒä¹…å±‚æ¥å£å’ŒæŒä¹…å±‚æ¥å£çš„æ˜ å°„é…ç½®å¿…é¡»åœ¨ç›¸åŒçš„åŒ…ä¸‹  </li><li>æŒä¹…å±‚æ˜ å°„é…ç½®ä¸­ mapper æ ‡ç­¾çš„ namespace å±æ€§å–å€¼å¿…é¡»æ˜¯æŒä¹…å±‚æ¥å£çš„å…¨é™å®šç±»å  </li><li>SQL è¯­å¥çš„é…ç½®æ ‡ç­¾<select>,,,çš„ id å±æ€§å¿…é¡»å’ŒæŒä¹…å±‚æ¥å£çš„ æ–¹æ³•åç›¸åŒ</select></li></ol><pre class=" language-xml"><code class="language-xml">æ’å…¥æ“ä½œ:1.åœ¨æŒä¹…å±‚æ¥å£ä¸­æ·»åŠ æ–°å¢æ–¹æ³•  void saveUser(User user);2.åœ¨ç”¨æˆ·çš„æ˜ å°„é…ç½®æ–‡ä»¶ä¸­é…ç½®      <span class="token comment" spellcheck="true">&lt;!-- ä¿å­˜ç”¨æˆ·--></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>saveUser<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.domain.User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      insert into user(username,birthday,sex,address)          values(#{username},#{birthday},#{sex},#{address})     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">></span></span> 2.1.åœ¨æ€»é…ç½®æ–‡ä»¶ä¸­åŠ ä¸Šæ˜ å°„é…ç½® <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn/hm/dao/IUserDao.xml<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>ç»†èŠ‚ï¼š  parameterType å±æ€§ï¼š   ä»£è¡¨å‚æ•°çš„ç±»å‹ï¼Œå› ä¸ºæˆ‘ä»¬è¦ä¼ å…¥çš„æ˜¯ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œæ‰€ä»¥ç±»å‹å°±å†™ç±»çš„å…¨åç§°ã€‚ sql è¯­å¥ä¸­ä½¿ç”¨#{}å­—ç¬¦ï¼š   å®ƒä»£è¡¨å ä½ç¬¦ï¼Œç›¸å½“äºåŸæ¥ jdbc éƒ¨åˆ†æ‰€å­¦çš„?ï¼Œéƒ½æ˜¯ç”¨äºæ‰§è¡Œè¯­å¥æ—¶æ›¿æ¢å®é™…çš„æ•°æ®ã€‚   å…·ä½“çš„æ•°æ®æ˜¯ç”±#{}é‡Œé¢çš„å†…å®¹å†³å®šçš„ã€‚  #{}ä¸­å†…å®¹çš„å†™æ³•ï¼š    ç”±äºæˆ‘ä»¬ä¿å­˜æ–¹æ³•çš„å‚æ•°æ˜¯ ä¸€ä¸ª User å¯¹è±¡ï¼Œæ­¤å¤„è¦å†™ User å¯¹è±¡ä¸­çš„å±æ€§åç§°ã€‚ å®ƒç”¨çš„æ˜¯ ognl è¡¨è¾¾å¼ã€‚ ognl è¡¨è¾¾å¼ï¼š  å®ƒæ˜¯ apache æä¾›çš„ä¸€ç§è¡¨è¾¾å¼è¯­è¨€ï¼Œå…¨ç§°æ˜¯ï¼š   Object Graphic Navigation Language  å¯¹è±¡å›¾å¯¼èˆªè¯­è¨€  å®ƒæ˜¯æŒ‰ç…§ä¸€å®šçš„è¯­æ³•æ ¼å¼æ¥è·å–æ•°æ®çš„ã€‚  è¯­æ³•æ ¼å¼å°±æ˜¯ä½¿ç”¨  #{å¯¹è±¡.å¯¹è±¡}çš„æ–¹å¼#{user.username}å®ƒä¼šå…ˆå»æ‰¾ user å¯¹è±¡ï¼Œç„¶ååœ¨ user å¯¹è±¡ä¸­æ‰¾åˆ° username å±æ€§ï¼Œå¹¶è°ƒç”¨ getUsername()æ–¹æ³•æŠŠå€¼å–å‡ºæ¥ã€‚ä½†æ˜¯æˆ‘ä»¬åœ¨ parameterType å±æ€§ä¸ŠæŒ‡å®šäº†å®ä½“ç±»åç§°ï¼Œæ‰€ä»¥å¯ä»¥çœç•¥ user. è€Œç›´æ¥å†™ username3.æ·»åŠ æµ‹è¯•ç±»ä¸­çš„æµ‹è¯•æ–¹æ³•     @Test     public void testSave(){      User user = new User();     user.setUsername("modify User property");      user.setAddress("åŒ—äº¬å¸‚é¡ºä¹‰åŒº");     user.setSex("ç”·");     user.setBirthday(new Date());     //æ‰§è¡Œä¿å­˜æ–¹æ³•      userDao.saveUser(user);     }æ‰“å¼€ Mysql æ•°æ®åº“å‘ç°å¹¶æ²¡æœ‰æ·»åŠ ä»»ä½•è®°å½•ï¼ŒåŸå› æ˜¯ä»€ä¹ˆï¼Ÿ è¿™ä¸€ç‚¹å’Œ jdbc æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬åœ¨å®ç°å¢åˆ æ”¹æ—¶ä¸€å®šè¦å»æ§åˆ¶äº‹åŠ¡çš„æäº¤ï¼Œé‚£ä¹ˆåœ¨ mybatis ä¸­å¦‚ä½•æ§åˆ¶äº‹åŠ¡ æäº¤å‘¢ï¼Ÿ å¯ä»¥ä½¿ç”¨:session.commit();åŠ å…¥äº‹åŠ¡æäº¤åçš„ä»£ç å¦‚ä¸‹ï¼š     @After//åœ¨æµ‹è¯•æ–¹æ³•æ‰§è¡Œå®Œæˆä¹‹åæ‰§è¡Œ     public void destroy() throws Exception{      session.commit();      //é‡Šæ”¾èµ„æº      session.close();      in.close(); }æ‹“å±•ï¼šæŸ¥è¯¢æ–°å¢ç”¨æˆ· id çš„è¿”å›å€¼    åœ¨insertæ ‡ç­¾ä½“å†…    <span class="token comment" spellcheck="true">&lt;!-- é…ç½®ä¿å­˜æ—¶è·å–æ’å…¥çš„ id  å‚æ•°è¡¨ä¸­åˆ—åç§°ã€ç±»ä¸­å±æ€§åã€æ‰§è¡Œæ—¶æœŸã€è¿”å›å€¼ç±»å‹--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selectKey</span> <span class="token attr-name">keyColumn</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">order</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>AFTER<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>           select last_insert_id();      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selectKey</span><span class="token punctuation">></span></span>  </code></pre><pre class=" language-xml"><code class="language-xml">ä¿®æ”¹æ“ä½œï¼š1.åœ¨æŒä¹…å±‚æ¥å£ä¸­æ·»åŠ æ›´æ–°æ–¹æ³•  int updateUser(User user); 2.åœ¨ç”¨æˆ·çš„æ˜ å°„é…ç½®æ–‡ä»¶ä¸­é…ç½®     <span class="token comment" spellcheck="true">&lt;!-- æ›´æ–°ç”¨æˆ· --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>updateUser<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.domain.User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      update user set username=#{username},birthday=#{birthday},sex=#{sex},  address=#{address} where id=#{id}    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">></span></span>3.åŠ å…¥æ›´æ–°çš„æµ‹è¯•æ–¹æ³•    @Test     public void testUpdateUser()throws Exception{      //1.æ ¹æ® id æŸ¥è¯¢      User user = userDao.findById(52);      //2.æ›´æ–°æ“ä½œ     user.setAddress("åŒ—äº¬å¸‚é¡ºä¹‰åŒº");     int res = userDao.updateUser(user);      System.out.println(res); }     </code></pre><pre class=" language-xml"><code class="language-xml">åˆ é™¤æ“ä½œï¼š1.åœ¨æŒä¹…å±‚æ¥å£ä¸­æ·»åŠ åˆ é™¤æ–¹æ³• int deleteUser(Integer userId); 2.åœ¨ç”¨æˆ·çš„æ˜ å°„é…ç½®æ–‡ä»¶ä¸­é…ç½®     <span class="token comment" spellcheck="true">&lt;!-- åˆ é™¤ç”¨æˆ· æ³¨æ„ï¼Œè¯¥å‚æ•°æ˜¯Intç±»å‹ï¼Œå¯ä»¥æ˜¯int,Integer,java.lang.Integer--></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>deleteUser<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>java.lang.Integer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         <span class="token comment" spellcheck="true">&lt;!-- æ³¨æ„ï¼š#{}åªæ˜¯ä¸ªå ä½ç¬¦ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ä¸”æ˜¯åŸºæœ¬æ•°æ®ç±»å‹å°±å¯ä»¥éšä¾¿å¡«å†™--></span>    delete from user where id = #{uid}    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">></span></span>3.åŠ å…¥åˆ é™¤çš„æµ‹è¯•æ–¹æ³•     @Test     public void testDeleteUser() throws Exception {     //æ‰§è¡Œæ“ä½œ     int res = userDao.deleteUser(52);     System.out.println(res); }</code></pre><pre class=" language-xml"><code class="language-xml">æŸ¥è¯¢ä¸€ä¸ªæ“ä½œï¼š1.åœ¨æŒä¹…å±‚æ¥å£ä¸­æ·»åŠ  findById æ–¹æ³• 2.åœ¨ç”¨æˆ·çš„æ˜ å°„é…ç½®æ–‡ä»¶ä¸­é…ç½®    <span class="token comment" spellcheck="true">&lt;!-- æ ¹æ® id æŸ¥è¯¢ --></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findById<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.domain.User<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      select * from user where id = #{uid}     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>3. åœ¨æµ‹è¯•ç±»æ·»åŠ æµ‹è¯•æ¨¡ç³ŠæŸ¥è¯¢ï¼š1.åœ¨æŒä¹…å±‚æ¥å£ä¸­æ·»åŠ æ¨¡ç³ŠæŸ¥è¯¢æ–¹æ³• List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>User</span><span class="token punctuation">></span></span> findByName(String username); 2.åœ¨ç”¨æˆ·çš„æ˜ å°„é…ç½®æ–‡ä»¶ä¸­é…ç½®     <span class="token comment" spellcheck="true">&lt;!-- æ ¹æ®åç§°æ¨¡ç³ŠæŸ¥è¯¢ --></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findByName<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.domain.User<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>String<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>           select * from user where username like #{username}     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>3.åŠ å…¥æ¨¡ç³ŠæŸ¥è¯¢çš„æµ‹è¯•æ–¹æ³•     @Test       public void testFindByName(){         //5.æ‰§è¡ŒæŸ¥è¯¢ä¸€ä¸ªæ–¹æ³•                 List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>User</span><span class="token punctuation">></span></span> users = userDao.findByName("%ç‹%");       //æ³¨æ„è¿™é‡Œçš„ç™¾åˆ†å·        for(User user : users){                  System.out.println(user);               }        }    æŸ¥è¯¢ä½¿ç”¨èšåˆå‡½æ•°1.åœ¨æŒä¹…å±‚æ¥å£ä¸­æ·»åŠ æ¨¡ç³ŠæŸ¥è¯¢æ–¹æ³• 2.åœ¨ç”¨æˆ·çš„æ˜ å°„é…ç½®æ–‡ä»¶ä¸­é…ç½®     <span class="token comment" spellcheck="true">&lt;!-- æŸ¥è¯¢æ€»è®°å½•æ¡æ•° --></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findTotal<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          select count(*) from user;     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>    3.åŠ å…¥èšåˆæŸ¥è¯¢çš„æµ‹è¯•æ–¹æ³•    @Test    public void testFindTotal(){    int total = userDao.findTotal();    System.out.println(total);    }</code></pre><hr><h2 id="parameterType-é…ç½®å‚æ•°"><a href="#parameterType-é…ç½®å‚æ•°" class="headerlink" title="parameterType é…ç½®å‚æ•°"></a>parameterType é…ç½®å‚æ•°</h2><ul><li><p>è¯¥å±æ€§çš„å–å€¼å¯ä»¥ æ˜¯åŸºæœ¬ç±»å‹ï¼Œå¼•ç”¨ç±»å‹ï¼ˆä¾‹å¦‚:String ç±»å‹ï¼‰ï¼Œè¿˜å¯ä»¥æ˜¯å®ä½“ç±»ç±»å‹ï¼ˆPOJO ç±»ï¼‰ï¼ˆéœ€è¦ä½¿ç”¨å…¨é™å®šç±»åï¼‰ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨å®ä½“ç±»çš„åŒ…è£…ç±»ã€‚</p></li><li><p><strong>ä¼ é€’ pojo åŒ…è£…å¯¹è±¡ï¼ˆå¤šä¸ªå¯¹è±¡ä¿¡æ¯å°è£…è¿›ä¸€ä¸ªæŸ¥è¯¢å¯¹è±¡ä¸­ï¼‰</strong></p><ul><li>å¼€å‘ä¸­é€šè¿‡ pojo ä¼ é€’æŸ¥è¯¢æ¡ä»¶ ï¼ŒæŸ¥è¯¢æ¡ä»¶æ˜¯ç»¼åˆçš„æŸ¥è¯¢æ¡ä»¶ï¼Œä¸ä»…åŒ…æ‹¬ç”¨æˆ·æŸ¥è¯¢æ¡ä»¶è¿˜åŒ…æ‹¬å…¶å®ƒçš„æŸ¥è¯¢æ¡ä»¶ï¼ˆæ¯”å¦‚å°†ç”¨æˆ·è´­ä¹°å•†å“ä¿¡æ¯ä¹Ÿä½œä¸ºæŸ¥è¯¢æ¡ä»¶ï¼‰ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨åŒ…è£…å¯¹è±¡ä¼ é€’è¾“å…¥å‚æ•°ã€‚ </li></ul><pre class=" language-java"><code class="language-java"><span class="token number">1</span><span class="token punctuation">.</span>ç¼–å†™ QueryVo     <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryVo</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>          <span class="token keyword">private</span> User user<span class="token punctuation">;</span>          <span class="token keyword">public</span> User <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">return</span> user<span class="token punctuation">;</span>  <span class="token punctuation">}</span>          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUser</span><span class="token punctuation">(</span>User user<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">this</span><span class="token punctuation">.</span>user <span class="token operator">=</span> user<span class="token punctuation">;</span>  <span class="token punctuation">}</span>       <span class="token punctuation">}</span><span class="token number">2</span><span class="token punctuation">.</span>ç¼–å†™æŒä¹…å±‚æ¥å£<span class="token operator">:</span>    List<span class="token operator">&lt;</span>User<span class="token operator">></span> <span class="token function">findByVo</span><span class="token punctuation">(</span>QueryVo vo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token punctuation">.</span>æµ‹è¯•åŒ…è£…ç±»ä½œä¸ºå‚æ•°     <span class="token annotation punctuation">@Test</span>     <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFindByQueryVo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         QueryVo vo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryVo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          User user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         user<span class="token punctuation">.</span><span class="token function">setUserName</span><span class="token punctuation">(</span><span class="token string">"%ç‹%"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         vo<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>          List<span class="token operator">&lt;</span>User<span class="token operator">></span> users <span class="token operator">=</span> userDao<span class="token punctuation">.</span><span class="token function">findByVo</span><span class="token punctuation">(</span>vo<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">for</span><span class="token punctuation">(</span>User u <span class="token operator">:</span> users<span class="token punctuation">)</span> <span class="token punctuation">{</span>              System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>    <span class="token punctuation">}</span></code></pre></li></ul><h3 id="resultType-é…ç½®ç»“æœç±»å‹ï¼ˆä½œç”¨ï¼šè®©ç±»ä¸­å±æ€§ä¸æ•°æ®åº“åˆ—åä¿æŒä¸€è‡´ï¼‰"><a href="#resultType-é…ç½®ç»“æœç±»å‹ï¼ˆä½œç”¨ï¼šè®©ç±»ä¸­å±æ€§ä¸æ•°æ®åº“åˆ—åä¿æŒä¸€è‡´ï¼‰" class="headerlink" title="resultType é…ç½®ç»“æœç±»å‹ï¼ˆä½œç”¨ï¼šè®©ç±»ä¸­å±æ€§ä¸æ•°æ®åº“åˆ—åä¿æŒä¸€è‡´ï¼‰"></a>resultType é…ç½®ç»“æœç±»å‹ï¼ˆä½œç”¨ï¼šè®©ç±»ä¸­å±æ€§ä¸æ•°æ®åº“åˆ—åä¿æŒä¸€è‡´ï¼‰</h3><ul><li><p>ä»¥æŒ‡å®šç»“æœé›†çš„ç±»å‹ï¼Œå®ƒæ”¯æŒåŸºæœ¬ç±»å‹å’Œå®ä½“ç±»ç±»å‹ï¼ˆéœ€è¦å…¨é™å®šç±»åï¼‰ã€‚ </p></li><li><p>å½“æ˜¯å®ä½“ç±»åç§°æ—¶ï¼Œå®ä½“ç±»ä¸­çš„å±æ€§åç§°å¿…é¡»å’ŒæŸ¥è¯¢è¯­å¥ä¸­çš„åˆ—åä¿æŒä¸€è‡´ï¼Œå¦åˆ™æ— æ³•å®ç°å°è£…ã€‚</p><ul><li><p><strong>å¯ä»¥ä½¿ç”¨èµ·åˆ«åçš„æ–¹å¼è§£å†³é—®é¢˜</strong></p></li><li><ol><li>åœ¨sqlè¯­å¥ä¸­èµ·åˆ«åï¼ˆæ•ˆç‡é«˜ï¼Œä½†æŸ¥è¯¢çš„å¤šè¿‡äºéº»çƒ¦ï¼Œä¸å®œäºç»´æŠ¤ï¼‰</li></ol><pre class=" language-xml"><code class="language-xml">ä½¿ç”¨åˆ«åæŸ¥è¯¢ <span class="token comment" spellcheck="true">&lt;!--èµ·çš„åˆ«åä¸å®ä½“ç±»çš„å±æ€§åç›¸åŒ --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findAll<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.domain.User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      select id as userId,username as userName,birthday as userBirthday,  sex as userSex,address as userAddress from user <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span> </code></pre></li><li><ol start="2"><li>ä½¿ç”¨ resultMap å»ºç«‹ User å®ä½“å’Œæ•°æ®åº“è¡¨çš„å¯¹åº”å…³ç³» ï¼ˆå¤šæ’å…¥äº†ä¸€ä¸ªæ ‡ç­¾ï¼Œæ•ˆç‡ä½ï¼Œä½†åæœŸå¥½ç»´æŠ¤ï¼‰</li></ol><pre class=" language-xml"><code class="language-xml">1.å®šä¹‰ resultMap <span class="token comment" spellcheck="true">&lt;!-- å»ºç«‹ User å®ä½“å’Œæ•°æ®åº“è¡¨çš„å¯¹åº”å…³ç³»  type å±æ€§ï¼šæŒ‡å®šå®ä½“ç±»çš„å…¨é™å®šç±»å  id å±æ€§ï¼šç»™å®šä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼Œæ˜¯ç»™æŸ¥è¯¢ select æ ‡ç­¾å¼•ç”¨æ—¶ç”¨çš„ã€‚ --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.domain.User<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userId<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userName<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userSex<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userAddress<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>birthday<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userBirthday<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">></span></span> id æ ‡ç­¾ï¼šç”¨äºæŒ‡å®šä¸»é”®å­—æ®µ result æ ‡ç­¾ï¼šç”¨äºæŒ‡å®šéä¸»é”®å­—æ®µ column å±æ€§ï¼šç”¨äºæŒ‡å®šæ•°æ®åº“åˆ—å property å±æ€§ï¼šç”¨äºæŒ‡å®šå®ä½“ç±»å±æ€§åç§°2. æ˜ å°„é…ç½® <span class="token comment" spellcheck="true">&lt;!-- ä¸å†éœ€è¦resultType,è€Œæ˜¯ä½¿ç”¨resultMapæ¥æ‰¾åˆ°è¿”å›ç±»å‹ --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findAll<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>     select * from user<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></code></pre></li></ul></li></ul><hr><h2 id="SqlMapConfig-xmlé…ç½®æ–‡ä»¶"><a href="#SqlMapConfig-xmlé…ç½®æ–‡ä»¶" class="headerlink" title="SqlMapConfig.xmlé…ç½®æ–‡ä»¶"></a>SqlMapConfig.xmlé…ç½®æ–‡ä»¶</h2><h3 id="1-SqlMapConfig-xml-ä¸­é…ç½®çš„å†…å®¹å’Œé¡ºåº"><a href="#1-SqlMapConfig-xml-ä¸­é…ç½®çš„å†…å®¹å’Œé¡ºåº" class="headerlink" title="1. SqlMapConfig.xml ä¸­é…ç½®çš„å†…å®¹å’Œé¡ºåº"></a>1. SqlMapConfig.xml ä¸­é…ç½®çš„å†…å®¹å’Œé¡ºåº</h3><pre><code>-propertiesï¼ˆå±æ€§ï¼‰    --property -settingsï¼ˆå…¨å±€é…ç½®å‚æ•°ï¼‰     --setting -typeAliasesï¼ˆç±»å‹åˆ«åï¼‰      --typeAliase      --package -typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰-objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰-pluginsï¼ˆæ’ä»¶ï¼‰ -environmentsï¼ˆç¯å¢ƒé›†åˆå±æ€§å¯¹è±¡ï¼‰     --environmentï¼ˆç¯å¢ƒå­å±æ€§å¯¹è±¡ï¼‰      ---transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†ï¼‰      ---dataSourceï¼ˆæ•°æ®æºï¼‰ -mappersï¼ˆæ˜ å°„å™¨ï¼‰      --mapper      --package</code></pre><h3 id="2-propertiesï¼ˆå±æ€§ï¼‰ï¼ˆä½œç”¨ï¼šåŠ è½½å¤–éƒ¨é…ç½®æ–‡ä»¶ï¼‰"><a href="#2-propertiesï¼ˆå±æ€§ï¼‰ï¼ˆä½œç”¨ï¼šåŠ è½½å¤–éƒ¨é…ç½®æ–‡ä»¶ï¼‰" class="headerlink" title="2.propertiesï¼ˆå±æ€§ï¼‰ï¼ˆä½œç”¨ï¼šåŠ è½½å¤–éƒ¨é…ç½®æ–‡ä»¶ï¼‰"></a>2.propertiesï¼ˆå±æ€§ï¼‰ï¼ˆä½œç”¨ï¼šåŠ è½½å¤–éƒ¨é…ç½®æ–‡ä»¶ï¼‰</h3><ol><li> ç¬¬ä¸€ç§ï¼šåœ¨SqlMapConfig.xmlé…ç½®æ–‡ä»¶ä¸­</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc.driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc.url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/eesy<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc.username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc.password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span></code></pre><ol start="2"><li><p>ç¬¬äºŒç§ï¼šåœ¨classPathä¸‹å®šä¹‰ db.properties æ–‡ä»¶ </p><pre><code>jdbc.driver=com.mysql.jdbc.Driver jdbc.url=jdbc:mysql://localhost:3306/eesy jdbc.username=root jdbc.password=1234</code></pre><pre class=" language-xml"><code class="language-xml">åœ¨SqlMapConfig.xmlä¸­åŠ ä¸Špropertiesï¼š<span class="token comment" spellcheck="true">&lt;!-- é…ç½®è¿æ¥æ•°æ®åº“çš„ä¿¡æ¯    resource å±æ€§ï¼šç”¨äºæŒ‡å®š properties é…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¦æ±‚é…ç½®æ–‡ä»¶å¿…é¡»åœ¨ç±»è·¯å¾„ä¸‹                            resource="jdbcConfig.properties" url å±æ€§ï¼š    URLï¼š Uniform Resource Locator ç»Ÿä¸€èµ„æºå®šä½ç¬¦         http://localhost:8080/mystroe/CategoryServlet  (å¦‚æœæ˜¯æ–‡ä»¶ï¼Œåè®®å°±æ˜¯file:///)        åè®®  ä¸»æœº   ç«¯å£               URI    URIï¼šUniform Resource Identifier ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦     /mystroe/CategoryServlet     å®ƒæ˜¯å¯ä»¥åœ¨ web åº”ç”¨ä¸­å”¯ä¸€å®šä½ä¸€ä¸ªèµ„æºçš„è·¯å¾„ --></span> <span class="token comment" spellcheck="true">&lt;!-- å±æ€§å¸¸ç”¨resource ä¹Ÿå¯ä»¥ç”¨url æ•ˆæœä¸€æ ·--></span>&lt;properties url= "file:///D:/IdeaProjects/day02_eesy_01mybatisCRUD/src/main/resources/jdbcConfig.prop erties"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span> </code></pre></li><li><p>dataSource æ ‡ç­¾å°±å˜æˆäº†å¼•ç”¨ä¸Šé¢çš„é…ç½®</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POOLED<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${jdbc.driver}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${jdbc.url}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${jdbc.username}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${jdbc.password}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">></span></span></code></pre></li></ol><h3 id="3-typeAliasesï¼ˆç±»å‹åˆ«åï¼‰ï¼ˆç»™ç±»å‹èµ·åˆ«åï¼ŒresultTypeå’ŒparameterTypeåœ¨ä½¿ç”¨å…¨ç±»åæ—¶å¯ç›´æ¥å†™ç±»åï¼‰"><a href="#3-typeAliasesï¼ˆç±»å‹åˆ«åï¼‰ï¼ˆç»™ç±»å‹èµ·åˆ«åï¼ŒresultTypeå’ŒparameterTypeåœ¨ä½¿ç”¨å…¨ç±»åæ—¶å¯ç›´æ¥å†™ç±»åï¼‰" class="headerlink" title="3.typeAliasesï¼ˆç±»å‹åˆ«åï¼‰ï¼ˆç»™ç±»å‹èµ·åˆ«åï¼ŒresultTypeå’ŒparameterTypeåœ¨ä½¿ç”¨å…¨ç±»åæ—¶å¯ç›´æ¥å†™ç±»åï¼‰"></a>3.typeAliasesï¼ˆç±»å‹åˆ«åï¼‰ï¼ˆç»™ç±»å‹èµ·åˆ«åï¼ŒresultTypeå’ŒparameterTypeåœ¨ä½¿ç”¨å…¨ç±»åæ—¶å¯ç›´æ¥å†™ç±»åï¼‰</h3><ul><li><p>è‡ªå®šä¹‰åˆ«å</p><pre class=" language-xml"><code class="language-xml">åœ¨ SqlMapConfig.xml ä¸­é…ç½®ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">></span></span>     <span class="token comment" spellcheck="true">&lt;!-- å•ä¸ªåˆ«åå®šä¹‰ alias:æŒ‡å®šåˆ«å type:åŸå ä½¿ç”¨packageæ ‡ç­¾å°±ä¸éœ€è¦typeAliasæ ‡ç­¾äº†--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAlias</span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.domain.User<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token comment" spellcheck="true">&lt;!-- æ‰¹é‡åˆ«åå®šä¹‰ï¼Œæ‰«ææ•´ä¸ªåŒ…ä¸‹çš„ç±»ï¼Œåˆ«åä¸ºç±»åï¼ˆé¦–å­—æ¯å¤§å†™æˆ–å°å†™éƒ½å¯ä»¥ï¼‰ --></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.domain<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> åŒ…å <span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">></span></span> </code></pre></li></ul><h4 id="4-mappersï¼ˆæ˜ å°„å™¨ï¼‰ï¼ˆä½œç”¨ï¼šä¸ç”¨å•ç‹¬æ˜ å°„ï¼Œç›´æ¥å°è£…æ˜ å°„ï¼Œæ³¨è§£å’ŒXmlé…ç½®éƒ½èµ·æ•ˆï¼‰"><a href="#4-mappersï¼ˆæ˜ å°„å™¨ï¼‰ï¼ˆä½œç”¨ï¼šä¸ç”¨å•ç‹¬æ˜ å°„ï¼Œç›´æ¥å°è£…æ˜ å°„ï¼Œæ³¨è§£å’ŒXmlé…ç½®éƒ½èµ·æ•ˆï¼‰" class="headerlink" title="4.mappersï¼ˆæ˜ å°„å™¨ï¼‰ï¼ˆä½œç”¨ï¼šä¸ç”¨å•ç‹¬æ˜ å°„ï¼Œç›´æ¥å°è£…æ˜ å°„ï¼Œæ³¨è§£å’ŒXmlé…ç½®éƒ½èµ·æ•ˆï¼‰"></a>4.mappersï¼ˆæ˜ å°„å™¨ï¼‰ï¼ˆä½œç”¨ï¼šä¸ç”¨å•ç‹¬æ˜ å°„ï¼Œç›´æ¥å°è£…æ˜ å°„ï¼Œæ³¨è§£å’ŒXmlé…ç½®éƒ½èµ·æ•ˆï¼‰</h4><ol><li> <mapper resource=" "> ç”¨åœ¨é…ç½®æ–‡ä»¶çš„é…ç½®</mapper></li></ol><pre><code>ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æº å¦‚ï¼š&lt;mapper resource="com/itheima/dao/IUserDao.xml" /&gt; </code></pre><ol start="2"><li><p><mapper class=" ">ç”¨åœ¨æ³¨è§£é…ç½®</mapper></p><pre><code>ä½¿ç”¨ mapper æ¥å£ç±»è·¯å¾„ å¦‚ï¼š&lt;mapper class="com.itheima.dao.UserDao"/&gt; æ³¨æ„ï¼šæ­¤ç§æ–¹æ³•è¦æ±‚ mapper æ¥å£åç§°å’Œ mapper æ˜ å°„æ–‡ä»¶åç§°ç›¸åŒï¼Œä¸”æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸­ã€‚ </code></pre></li><li><p><package name="">ç”¨åœ¨æ‰¹é‡é…ç½®</package></p><pre><code>æ³¨å†ŒæŒ‡å®šåŒ…ä¸‹çš„æ‰€æœ‰ mapper æ¥å£ å¦‚ï¼š&lt;package name="cn.itcast.dao"/&gt; //nameï¼šæ¥å£æ–‡ä»¶å¤¹æ³¨æ„ï¼šæ­¤ç§æ–¹æ³•è¦æ±‚ mapper æ¥å£åç§°å’Œ mapper æ˜ å°„æ–‡ä»¶åç§°ç›¸åŒï¼Œä¸”æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸­</code></pre></li></ol><h4 id="5-pluginsæ’ä»¶æ ‡ç­¾"><a href="#5-pluginsæ’ä»¶æ ‡ç­¾" class="headerlink" title="5.pluginsæ’ä»¶æ ‡ç­¾"></a>5.pluginsæ’ä»¶æ ‡ç­¾</h4><p>åˆ†é¡µæ’ä»¶</p><ol><li><p>å¯¼å…¥é€šç”¨PageHelperåæ ‡</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.github.pagehelper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>pagehelper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.7.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.github.jsqlparser<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jsqlparser<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.9.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></li><li><p>åœ¨mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®PageHelperæ’ä»¶</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span> <span class="token attr-name">interceptor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.github.pagehelper.PageHelper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dialect<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mysql<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span></code></pre></li><li><p>æµ‹è¯•ï¼šé…ç½®å‚æ•°</p><pre class=" language-java"><code class="language-java">PageHelper<span class="token punctuation">.</span><span class="token function">startPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è®¾ç½®å½“å‰é¡µä¸º1ï¼Œä¸€é¡µ3æ¡</span><span class="token comment" spellcheck="true">//æŸ¥çœ‹åˆ†é¡µä¿¡æ¯</span>PageInfo<span class="token operator">&lt;</span>User<span class="token operator">></span> userPageInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PageInfo</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å½“å‰é¡µï¼š"</span><span class="token operator">+</span>userPageInfo<span class="token punctuation">.</span><span class="token function">getPageNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ¯é¡µæ˜¾ç¤ºæ¡æ•°ï¼š"</span><span class="token operator">+</span>userPageInfo<span class="token punctuation">.</span><span class="token function">getPageSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ€»æ¡æ•°ï¼š"</span><span class="token operator">+</span>userPageInfo<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ€»é¡µæ•°ï¼š"</span><span class="token operator">+</span>userPageInfo<span class="token punctuation">.</span><span class="token function">getPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><h3 id="Mybatis-çš„è¿æ¥æ± æŠ€æœ¯"><a href="#Mybatis-çš„è¿æ¥æ± æŠ€æœ¯" class="headerlink" title="Mybatis çš„è¿æ¥æ± æŠ€æœ¯"></a>Mybatis çš„è¿æ¥æ± æŠ€æœ¯</h3><ul><li>åœ¨ Mybatis çš„ SqlMapConfig.xml é…ç½®æ–‡ä»¶ä¸­ï¼Œé€šè¿‡<datasource type="pooled">æ¥å® ç° Mybatis ä¸­è¿æ¥æ± çš„é…ç½®ã€‚ </datasource></li><li><strong>Mybatis è¿æ¥æ± çš„åˆ†ç±»ï¼ˆ<datasource type="å…¶ä¸­çš„å±æ€§">ï¼‰</datasource></strong><ul><li>UNPOOLED     ä¸ä½¿ç”¨è¿æ¥æ± çš„æ•°æ®æº </li><li>POOLED       ä½¿ç”¨è¿æ¥æ± çš„æ•°æ®æº </li><li>JNDI            ä½¿ç”¨ JNDI å®ç°çš„æ•°æ®æº (æ ¹æ®æœåŠ¡å™¨è·å¾—ä¸åŒçš„è¿æ¥æ± ï¼Œc3p0,druid)</li></ul></li></ul><hr><h2 id="Mybatis-çš„äº‹åŠ¡æ§åˆ¶"><a href="#Mybatis-çš„äº‹åŠ¡æ§åˆ¶" class="headerlink" title="Mybatis çš„äº‹åŠ¡æ§åˆ¶"></a>Mybatis çš„äº‹åŠ¡æ§åˆ¶</h2><ul><li><p><strong>Mybatis è‡ªåŠ¨æäº¤äº‹åŠ¡çš„è®¾ç½®</strong></p><pre><code>åœ¨æµ‹è¯•ç±»çš„initæ–¹æ³•ä¸­ï¼Œå°†openSessionå¢åŠ å‚æ•°truesession = factory.openSession(true); </code></pre><ul><li>è™½ç„¶è¿™ä¹Ÿæ˜¯ä¸€ç§æ–¹å¼ï¼Œä½†å°± ç¼–ç¨‹è€Œè¨€ï¼Œè®¾ç½®ä¸ºè‡ªåŠ¨æäº¤æ–¹å¼ä¸º falseå†æ ¹æ®æƒ…å†µå†³å®šæ˜¯å¦è¿›è¡Œæäº¤ï¼Œè¿™ç§æ–¹å¼æ›´å¸¸ç”¨ã€‚å› ä¸ºæˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸šåŠ¡ æƒ…å†µæ¥å†³å®šæäº¤æ˜¯å¦è¿›è¡Œæäº¤ã€‚</li></ul></li></ul><hr><h2 id="åŠ¨æ€-SQLï¼ˆæ ¹æ®ä¸åŒæ¡ä»¶æ¥è¿½åŠ sqlè¯­å¥ï¼‰"><a href="#åŠ¨æ€-SQLï¼ˆæ ¹æ®ä¸åŒæ¡ä»¶æ¥è¿½åŠ sqlè¯­å¥ï¼‰" class="headerlink" title="åŠ¨æ€ SQLï¼ˆæ ¹æ®ä¸åŒæ¡ä»¶æ¥è¿½åŠ sqlè¯­å¥ï¼‰"></a>åŠ¨æ€ SQLï¼ˆæ ¹æ®ä¸åŒæ¡ä»¶æ¥è¿½åŠ sqlè¯­å¥ï¼‰</h2><ul><li><p><if>æ ‡ç­¾ï¼ˆæ‹¼æ¥æ¡ä»¶è¯­å¥ï¼‰</if></p><ul><li> æŒä¹…å±‚ Dao æ˜ å°„é…ç½® </li></ul><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--æ³¨æ„ï¼šBindingExceptionå¼‚å¸¸çš„åŸå› ï¼šselectçš„idå±æ€§å’Œæ–¹æ³•åä¸ä¸€æ ·å¯¼è‡´--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findByUser<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      select * from user where 1=1  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username!<span class="token punctuation">=</span>null and username !<span class="token punctuation">=</span> <span class="token punctuation">'</span><span class="token punctuation">'</span> <span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      and username like #{username}   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>address !<span class="token punctuation">=</span> null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>       and address like #{address}  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span> æ³¨æ„ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span><span class="token punctuation">></span></span>æ ‡ç­¾çš„ test å±æ€§ä¸­å†™çš„æ˜¯å¯¹è±¡çš„å±æ€§å</code></pre></li><li><p><where>æ ‡ç­¾ (ç®€åŒ–ä¸Šé¢ where 1=1 çš„æ¡ä»¶æ‹¼è£…)</where></p><ul><li> æŒä¹…å±‚ Dao æ˜ å°„é…ç½® </li></ul><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username!<span class="token punctuation">=</span>null and username !<span class="token punctuation">=</span> <span class="token punctuation">'</span><span class="token punctuation">'</span> <span class="token punctuation">"</span></span><span class="token punctuation">></span></span>           and username like #{username}       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>address !<span class="token punctuation">=</span> null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         and address like #{address}      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">></span></span></code></pre></li><li><p><foreach>æ ‡ç­¾ ï¼ˆæ‹¼æ¥ in æ¡ä»¶è¯­å¥ï¼šæœç´¢idä¸º1æˆ–2æˆ–3çš„ç”¨æˆ·ï¼‰</foreach></p><ul><li><p>åœ¨ QueryVo ä¸­åŠ å…¥ä¸€ä¸ª List é›†åˆç”¨äºå°è£…å‚æ•° </p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryVo</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>      <span class="token keyword">private</span> List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> ids<span class="token punctuation">;</span>      <span class="token keyword">public</span> List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> <span class="token function">getIds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">return</span> ids<span class="token punctuation">;</span>  <span class="token punctuation">}</span>      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setIds</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> ids<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">this</span><span class="token punctuation">.</span>ids <span class="token operator">=</span> ids<span class="token punctuation">;</span>  <span class="token punctuation">}</span>     <span class="token punctuation">}</span></code></pre></li><li><p>æŒä¹…å±‚ Dao æ˜ å°„é…ç½® </p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·åœ¨ id çš„é›†åˆä¹‹ä¸­ --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findInIds<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>queryvo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token comment" spellcheck="true">&lt;!--  select * from user where id in (1,2,3,4,5); --></span>      select * from user    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ids !<span class="token punctuation">=</span> null and ids.size() <span class="token punctuation">></span> 0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ids<span class="token punctuation">"</span></span> <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id in ( <span class="token punctuation">"</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>)<span class="token punctuation">"</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>uid<span class="token punctuation">"</span></span>  <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>,<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                     #{uid}                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span> SQL è¯­å¥ï¼š    select å­—æ®µ from user where id in (?) <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span><span class="token punctuation">></span></span>æ ‡ç­¾ç”¨äºéå†é›†åˆï¼Œå®ƒçš„å±æ€§ï¼š      collection:ä»£è¡¨è¦éå†çš„é›†åˆå…ƒç´ ï¼Œæ³¨æ„ç¼–å†™æ—¶ä¸è¦å†™#{}      open:ä»£è¡¨è¯­å¥çš„å¼€å§‹éƒ¨åˆ†      close:ä»£è¡¨ç»“æŸéƒ¨åˆ†    item:ä»£è¡¨ä¸­é—´æ’å…¥çš„æ•°ï¼ˆéšæ„å†™ï¼Œ#{è¦å’Œitemèµ·çš„åä¸€æ ·}ï¼‰    separatorï¼šåˆ†éš”ç¬¦</code></pre></li></ul></li><li><p>sqlè¯­å¥æŠ½å–</p><ul><li><p>ä½œç”¨ï¼šå°†å¤šæ¬¡ç”¨åˆ°çš„è¯­å¥æŠ½å–å‡ºæ¥</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>selectUser<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>select * from user<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">></span></span>ä½¿ç”¨æ—¶ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>selectUser<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span></code></pre></li></ul></li></ul><hr><h2 id="å¤šè¡¨æŸ¥è¯¢"><a href="#å¤šè¡¨æŸ¥è¯¢" class="headerlink" title="å¤šè¡¨æŸ¥è¯¢"></a>å¤šè¡¨æŸ¥è¯¢</h2><h3 id="ä¸€å¯¹ä¸€æŸ¥è¯¢-å¤šå¯¹ä¸€"><a href="#ä¸€å¯¹ä¸€æŸ¥è¯¢-å¤šå¯¹ä¸€" class="headerlink" title="ä¸€å¯¹ä¸€æŸ¥è¯¢(å¤šå¯¹ä¸€)"></a>ä¸€å¯¹ä¸€æŸ¥è¯¢(å¤šå¯¹ä¸€)</h3><ul><li><p>éœ€æ±‚ ï¼šæŸ¥è¯¢æ‰€æœ‰è´¦æˆ·ä¿¡æ¯ï¼Œå…³è”æŸ¥è¯¢ä¸‹å•ç”¨æˆ·ä¿¡æ¯</p><ul><li><p>ä½¿ç”¨ resultMapï¼Œå®šä¹‰ä¸“é—¨çš„ resultMap ç”¨äºæ˜ å°„ä¸€å¯¹ä¸€æŸ¥è¯¢ç»“æœ</p></li><li><ol start="0"><li>åˆ›å»ºè¡¨</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>orders<span class="token punctuation">`</span> <span class="token punctuation">(</span>  <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>ordertime<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>total<span class="token punctuation">`</span> <span class="token keyword">double</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>uid<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword">KEY</span> <span class="token punctuation">`</span>uid<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>uid<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">/*å¤–é”®çš„æ ¼å¼ï¼šCONSTRAINT å¤–é”®å FOREIGN KEY (å¤–é”®å) REFERENCES ç›®æ ‡åº“å (ç›®æ ‡åº“å¤–é”®å)    */</span>  <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">`</span>orders_ibfk_1<span class="token punctuation">`</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>uid<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">4</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span></code></pre><p>```</p></li><li><ol><li> ä¿®æ”¹ Account ç±» </li></ol><pre class=" language-java"><code class="language-java">å¢åŠ ç”¨æˆ·ä¿¡æ¯<span class="token keyword">private</span> User user<span class="token punctuation">;</span>    <span class="token keyword">public</span> User <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">return</span> user<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUser</span><span class="token punctuation">(</span>User user<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">this</span><span class="token punctuation">.</span>user <span class="token operator">=</span> user<span class="token punctuation">;</span>  <span class="token punctuation">}</span></code></pre></li><li><ol start="2"><li>æ¥å£æ–¹æ³•è¿”å›å€¼</li></ol><pre><code>å°†è¿”å›å€¼æ”¹ ä¸ºäº† Account ç±»å‹ã€‚ å› ä¸º Account ç±»ä¸­åŒ…å«äº†ä¸€ä¸ª User ç±»çš„å¯¹è±¡ï¼Œå®ƒå¯ä»¥å°è£…è´¦æˆ·æ‰€å¯¹åº”çš„ç”¨æˆ·ä¿¡æ¯ã€‚ </code></pre></li><li><ol start="3"><li>é‡æ–°å®šä¹‰ AccountDao.xml æ–‡ä»¶ </li></ol></li></ul><pre class=" language-xml"><code class="language-xml">  <span class="token comment" spellcheck="true">&lt;!-- å»ºç«‹å¯¹åº”å…³ç³» --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>account<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--columnï¼šæ•°æ®è¡¨å­—æ®µåç§°ï¼Œproperty:å½“å‰ç±»å±æ€§åç§°--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>aid<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>uid<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>uid<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>money<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>money<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>       <span class="token comment" spellcheck="true">&lt;!-- å®ƒæ˜¯ç”¨äºæŒ‡å®šä»è¡¨æ–¹çš„å¼•ç”¨å®ä½“å±æ€§çš„ --></span>         <span class="token comment" spellcheck="true">&lt;!--property:å½“å‰çš„å®ä½“å±æ€§åç§°ï¼ŒjavaTapeï¼šå½“å‰çš„å®ä½“å±æ€§ç±»å‹--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>birthday<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>birthday<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findAll<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accountMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         select u.*,a.id as aid,a.uid,a.money from account a,user u where a.uid =u.id;    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span> </code></pre><blockquote><p>æ³¨æ„ï¼šresultMapå†…çš„æ¯ä¸ªå¯¹ç…§å…³ç³»ï¼Œå°¤å…¶æ˜¯å¤–é”®å¯¹åº”ï¼Œå¦åˆ™æ•°æ®ä¼šä¸å¯¹åº”</p></blockquote><ul><li><ol start="4"><li>åœ¨ AccountTest ç±»ä¸­åŠ å…¥æµ‹è¯•æ–¹æ³• </li></ol><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Test</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFindAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>        List<span class="token operator">&lt;</span>Account<span class="token operator">></span> accounts <span class="token operator">=</span> accountDao<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">for</span><span class="token punctuation">(</span>Account au <span class="token operator">:</span> accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span>           System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>au<span class="token punctuation">)</span><span class="token punctuation">;</span>           System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>au<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span> </code></pre><blockquote><p>å‡ºç°çš„é”™è¯¯ï¼šCause: org.apache.ibatis.executor.ExecutorException</p><p>åŸå› ï¼šæ²¡æœ‰æ‰¾åˆ°ç©ºæ„é€ å‡½æ•°</p><p>è§£å†³ï¼šå°†ä¸¤ä¸ªå®ä½“ç±»åŠ ä¸Šç©ºå‚æ„é€ å‡½æ•°å³å¯</p></blockquote></li></ul></li></ul><h3 id="ä¸€å¯¹å¤šæŸ¥è¯¢"><a href="#ä¸€å¯¹å¤šæŸ¥è¯¢" class="headerlink" title="ä¸€å¯¹å¤šæŸ¥è¯¢"></a>ä¸€å¯¹å¤šæŸ¥è¯¢</h3><ul><li><p>éœ€æ±‚ï¼š  æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯åŠç”¨æˆ·å…³è”çš„è´¦æˆ·ä¿¡æ¯ã€‚ </p></li><li><p>åˆ†æï¼š  ç”¨æˆ·ä¿¡æ¯å’Œä»–çš„è´¦æˆ·ä¿¡æ¯ä¸ºä¸€å¯¹å¤šå…³ç³»ï¼Œå¹¶ä¸”æŸ¥è¯¢è¿‡ç¨‹ä¸­å¦‚æœç”¨æˆ·æ²¡æœ‰è´¦æˆ·ä¿¡æ¯ï¼Œæ­¤æ—¶ä¹Ÿè¦å°†ç”¨æˆ·ä¿¡æ¯ æŸ¥è¯¢å‡ºæ¥ï¼Œæˆ‘ä»¬æƒ³åˆ°äº†å·¦å¤–è¿æ¥æŸ¥è¯¢æ¯”è¾ƒåˆé€‚</p></li><li><ol><li>ä¿®æ”¹Userç±»</li></ol><pre class=" language-java"><code class="language-java">å¢åŠ è´¦æˆ·ä¿¡æ¯    <span class="token keyword">private</span> List<span class="token operator">&lt;</span>Account<span class="token operator">></span> accounts<span class="token punctuation">;</span>          <span class="token keyword">public</span> List<span class="token operator">&lt;</span>Account<span class="token operator">></span> <span class="token function">getAccounts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">return</span> accounts<span class="token punctuation">;</span>  <span class="token punctuation">}</span>      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAccounts</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>Account<span class="token operator">></span> accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">this</span><span class="token punctuation">.</span>accounts <span class="token operator">=</span> accounts<span class="token punctuation">;</span>  <span class="token punctuation">}</span> </code></pre></li><li><ol start="2"><li>é‡æ–°å®šä¹‰ AccountDao.xml æ–‡ä»¶ </li></ol><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>birthday<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>birthday<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>     <span class="token comment" spellcheck="true">&lt;!-- collection æ˜¯ç”¨äºå»ºç«‹ä¸€å¯¹å¤šä¸­é›†åˆå±æ€§çš„å¯¹åº”å…³ç³»    ofType ç”¨äºæŒ‡å®šé›†åˆå…ƒç´ çš„æ•°æ®ç±»å‹    --></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accounts<span class="token punctuation">"</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>account<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>aid<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>uid<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>uid<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>money<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>money<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">></span></span>   <span class="token comment" spellcheck="true">&lt;!-- é…ç½®æŸ¥è¯¢æ‰€æœ‰æ“ä½œ --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findAll<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>       select u.*,a.id as aid ,a.uid,a.money from user u left outer join account a on u.id =a.uid <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span> collection  éƒ¨åˆ†å®šä¹‰äº†ç”¨æˆ·å…³è”çš„è´¦æˆ·ä¿¡æ¯ã€‚è¡¨ç¤ºå…³è”æŸ¥è¯¢ç»“æœé›† property="accList" ï¼šå…³è”æŸ¥è¯¢çš„ç»“æœé›†å­˜å‚¨åœ¨ User å¯¹è±¡çš„ä¸Šå“ªä¸ªå±æ€§ã€‚ ofType="account" ï¼šæŒ‡å®šå…³è”æŸ¥è¯¢çš„ç»“æœé›†ä¸­çš„å¯¹è±¡ç±»å‹å³Listä¸­çš„å¯¹è±¡ç±»å‹ã€‚æ­¤å¤„å¯ä»¥ä½¿ç”¨åˆ«åï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¨é™å®šåã€‚ </code></pre></li></ul><h3 id="å¤šå¯¹å¤š"><a href="#å¤šå¯¹å¤š" class="headerlink" title="å¤šå¯¹å¤š"></a>å¤šå¯¹å¤š</h3><ul><li><p>éœ€æ±‚ï¼š  å®ç°æŸ¥è¯¢æ‰€æœ‰è§’è‰²å¹¶ä¸”åŠ è½½å®ƒæ‰€åˆ†é…çš„ç”¨æˆ·ä¿¡æ¯ã€‚ </p></li><li><p>åˆ†æï¼š  æŸ¥è¯¢è§’è‰²æˆ‘ä»¬éœ€è¦ç”¨åˆ°Roleè¡¨ï¼Œä½†è§’è‰²åˆ†é…çš„ç”¨æˆ·çš„ä¿¡æ¯æˆ‘ä»¬å¹¶ä¸èƒ½ç›´æ¥æ‰¾åˆ°ç”¨æˆ·ä¿¡æ¯ï¼Œè€Œæ˜¯è¦é€šè¿‡ä¸­ é—´è¡¨(USER_ROLE è¡¨)æ‰èƒ½å…³è”åˆ°ç”¨æˆ·ä¿¡æ¯ã€‚</p><ul><li><ol><li>ç¼–å†™è§’è‰²å®ä½“ç±» </li></ol><pre class=" language-java"><code class="language-java">     <span class="token keyword">private</span> List<span class="token operator">&lt;</span>User<span class="token operator">></span> users<span class="token punctuation">;</span>     <span class="token keyword">public</span> List<span class="token operator">&lt;</span>User<span class="token operator">></span> <span class="token function">getUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token keyword">return</span> users<span class="token punctuation">;</span>     <span class="token punctuation">}</span>     <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsers</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>User<span class="token operator">></span> users<span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token keyword">this</span><span class="token punctuation">.</span>users <span class="token operator">=</span> users<span class="token punctuation">;</span>     <span class="token punctuation">}</span> </code></pre></li><li><ol start="2"><li>ç¼–å†™ Role æŒä¹…å±‚æ¥å£ </li></ol></li><li><ol start="3"><li> ç¼–å†™æ˜ å°„æ–‡ä»¶ </li></ol><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token doctype">&lt;!DOCTYPE mapper         PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"         "http://mybatis.org/dtd/mybatis-3-mapper.dtd"></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.dao.IRoleDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!--å®šä¹‰ role è¡¨çš„ ResultMap--></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>roleMap<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>role<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment" spellcheck="true">&lt;!--æ³¨æ„è¿™é‡Œæ˜¯ridï¼Œå› ä¸ºsqlè¯­å¥ä¸­é‡å‘½åäº†ï¼Œå¦åˆ™æŸ¥è¯¢ä¸åˆ°æ€»è£ä¿¡æ¯--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>roleId<span class="token punctuation">"</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>roleName<span class="token punctuation">"</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>role_name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>roleDesc<span class="token punctuation">"</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>role_desc<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>users<span class="token punctuation">"</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>                       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>                       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>birthday<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>birthday<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">></span></span>      <span class="token comment" spellcheck="true">&lt;!--æŸ¥è¯¢æ‰€æœ‰--></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findAll<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>roleMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            select u.*,r.id as rid,r.role_name,r.role_desc from role r         left outer join user_role ur  on r.id = ur.rid                left outer join user u on u.id = ur.uid        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span></code></pre><blockquote><p>æ€»ç»“ï¼š</p><ol><li>ä¿®æ”¹å®ä½“ç±»ï¼Œä¸€å¯¹ä¸€å¢åŠ å®ä½“ç±»å±æ€§ï¼Œä¸€å¯¹å¤šã€å¤šå¯¹å¤šå¢åŠ é›†åˆå±æ€§</li></ol><p>ä¸€å¯¹ä¸€ä½¿ç”¨associationï¼Œä¸€å¯¹å¤šå’Œå¤šå¯¹å¤šä½¿ç”¨collectionï¼Œcolumnå±æ€§æ˜¯æŸ¥è¯¢çš„ç»“æœé›†åˆ—å</p></blockquote></li></ul></li></ul><hr><h2 id="Mybatis-å»¶è¿ŸåŠ è½½"><a href="#Mybatis-å»¶è¿ŸåŠ è½½" class="headerlink" title="Mybatis å»¶è¿ŸåŠ è½½"></a>Mybatis å»¶è¿ŸåŠ è½½</h2><ul><li><p>å»¶è¿ŸåŠ è½½ï¼š   å°±æ˜¯åœ¨éœ€è¦ç”¨åˆ°æ•°æ®æ—¶æ‰è¿›è¡ŒåŠ è½½ï¼Œä¸éœ€è¦ç”¨åˆ°æ•°æ®æ—¶å°±ä¸åŠ è½½æ•°æ®ã€‚å»¶è¿ŸåŠ è½½ä¹Ÿç§°æ‡’åŠ è½½. </p></li><li><p>å¥½å¤„ï¼šå…ˆä»å•è¡¨æŸ¥è¯¢ï¼Œéœ€è¦æ—¶å†ä»å…³è”è¡¨å»å…³è”æŸ¥è¯¢ï¼Œå¤§å¤§æé«˜æ•°æ®åº“æ€§èƒ½ï¼Œå› ä¸ºæŸ¥è¯¢å•è¡¨è¦æ¯”å…³è”æŸ¥è¯¢å¤šå¼ è¡¨é€Ÿ åº¦è¦å¿«ã€‚  </p></li><li><p>åå¤„ï¼š   å› ä¸ºåªæœ‰å½“éœ€è¦ç”¨åˆ°æ•°æ®æ—¶ï¼Œæ‰ä¼šè¿›è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œè¿™æ ·åœ¨å¤§æ‰¹é‡æ•°æ®æŸ¥è¯¢æ—¶ï¼Œå› ä¸ºæŸ¥è¯¢å·¥ä½œä¹Ÿè¦æ¶ˆè€— æ—¶é—´ï¼Œæ‰€ä»¥å¯èƒ½é€ æˆç”¨æˆ·ç­‰å¾…æ—¶é—´å˜é•¿ï¼Œé€ æˆç”¨æˆ·ä½“éªŒä¸‹é™</p></li><li><p>é€šå¸¸ï¼šä¸€å¯¹ä¸€æ­£å¸¸ç«‹å³åŠ è½½ ä¸€å¯¹å¤šä½¿ç”¨å»¶è¿ŸåŠ è½½</p></li><li><p><strong>ä½¿ç”¨ assocation å®ç°å»¶è¿ŸåŠ è½½</strong></p><ul><li><ol><li> SqlMapConfig.xml æ–‡ä»¶ä¸­æ·»åŠ å»¶è¿ŸåŠ è½½çš„é…ç½®</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lazyLoadingEnabled<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>aggressiveLazyLoading<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">></span></span></code></pre></li><li><ol start="2"><li>æŒä¹…å±‚æ˜ å°„æ–‡ä»¶</li></ol><pre class=" language-xml"><code class="language-xml">resultMapä¸­ï¼š<span class="token comment" spellcheck="true">&lt;!-- å®ƒæ˜¯ç”¨äºæŒ‡å®šä»è¡¨æ–¹çš„å¼•ç”¨å®ä½“å±æ€§çš„ selectå‚æ•°æ˜¯è°ƒç”¨çš„æ–¹æ³•--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.dao.IUserDao.findById<span class="token punctuation">"</span></span>     <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>uid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">></span></span></code></pre></li><li><ol start="3"><li>ç¼–å†™selectå¯¹åº”çš„æ–¹æ³•</li></ol></li></ul></li><li><p><strong>ä½¿ç”¨ Collection å®ç°å»¶è¿ŸåŠ è½½</strong></p><ul><li><ol><li>SqlMapConfig.xml æ–‡ä»¶ä¸­æ·»åŠ å»¶è¿ŸåŠ è½½çš„é…ç½®</li><li>æŒä¹…å±‚æ˜ å°„æ–‡ä»¶</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- collection æ˜¯ç”¨äºå»ºç«‹ä¸€å¯¹å¤šä¸­é›†åˆå±æ€§çš„å¯¹åº”å…³ç³»     ofType ç”¨äºæŒ‡å®šé›†åˆå…ƒç´ çš„æ•°æ®ç±»å‹    select æ˜¯ç”¨äºæŒ‡å®šæŸ¥è¯¢è´¦æˆ·çš„å”¯ä¸€æ ‡è¯†ï¼ˆè´¦æˆ·çš„ dao å…¨é™å®šç±»ååŠ ä¸Šæ–¹æ³•åç§°ï¼‰    column æ˜¯ç”¨äºæŒ‡å®šä½¿ç”¨å“ªä¸ªå­—æ®µçš„å€¼ä½œä¸ºæ¡ä»¶æŸ¥è¯¢    --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>accounts<span class="token punctuation">"</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>account<span class="token punctuation">"</span></span>      <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.dao.IAccountDao.findByUid<span class="token punctuation">"</span></span>     <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">></span></span></code></pre></li><li><ol start="3"><li>ç¼–å†™selectå¯¹åº”çš„æ–¹æ³•</li></ol></li></ul></li></ul><hr><h2 id="Mybatis-ç¼“å­˜"><a href="#Mybatis-ç¼“å­˜" class="headerlink" title="Mybatis ç¼“å­˜"></a>Mybatis ç¼“å­˜</h2><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/mybatis5.png" alt="image-20200531153243729"></p><ul><li><p><strong>ä¸€çº§ç¼“å­˜</strong>ï¼šä¸€çº§ç¼“å­˜æ˜¯ SqlSession èŒƒå›´çš„ç¼“å­˜ï¼Œå½“è°ƒç”¨ SqlSession çš„ä¿®æ”¹ï¼Œæ·»åŠ ï¼Œåˆ é™¤ï¼Œcommit()ï¼Œclose()ç­‰æ–¹æ³•æ—¶ï¼Œå°±ä¼šæ¸…ç©ºä¸€çº§ç¼“å­˜ã€‚</p><ul><li><p>ä¹Ÿå¯æ‰‹åŠ¨æ¸…é™¤ä¸€çº§ç¼“å­˜ï¼š</p><pre><code>sqlSession.clearCache();//æ­¤æ–¹æ³•ä¹Ÿå¯ä»¥æ¸…ç©ºç¼“å­˜        userDao = sqlSession.getMapper(IUserDao.class);</code></pre></li></ul></li><li><p><strong>äºŒçº§ç¼“å­˜</strong>ï¼šäºŒçº§ç¼“å­˜æ˜¯ mapper æ˜ å°„çº§åˆ«çš„ç¼“å­˜ï¼Œå¤šä¸ª SqlSession å»æ“ä½œåŒä¸€ä¸ª Mapper æ˜ å°„çš„ sql è¯­å¥ï¼Œå¤šä¸ª SqlSession å¯ä»¥å…±ç”¨äºŒçº§ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜æ˜¯è·¨ SqlSession çš„ã€‚</p><ul><li><p>äºŒçº§ç¼“å­˜çš„å¼€å¯ä¸å…³é—­</p><ul><li><ol><li>åœ¨ SqlMapConfig.xml æ–‡ä»¶å¼€å¯äºŒçº§ç¼“å­˜</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- å¼€å¯äºŒçº§ç¼“å­˜çš„æ”¯æŒ --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cacheEnabled<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">></span></span> å› ä¸º cacheEnabled çš„å–å€¼é»˜è®¤å°±ä¸º trueï¼Œæ‰€ä»¥è¿™ä¸€æ­¥å¯ä»¥çœç•¥ã€‚ä¸º true ä»£è¡¨å¼€å¯äºŒçº§ç¼“å­˜</code></pre></li><li><ol start="2"><li> é…ç½®ç›¸å…³çš„ Mapper æ˜ å°„æ–‡ä»¶</li></ol><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--&lt;cache>æ ‡ç­¾è¡¨ç¤ºå½“å‰è¿™ä¸ª mapper æ˜ å°„å°†ä½¿ç”¨äºŒçº§ç¼“å­˜ï¼ŒåŒºåˆ†çš„æ ‡å‡†å°±çœ‹ mapper çš„ namespace å€¼ã€‚ --></span><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token doctype">&lt;!DOCTYPE mapper     PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-mapper.dtd"></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.itheima.dao.IUserDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token comment" spellcheck="true">&lt;!-- å¼€å¯äºŒçº§ç¼“å­˜çš„æ”¯æŒ --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cache</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cache</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span> </code></pre></li><li><ol start="3"><li> é…ç½® statement ä¸Šé¢çš„ useCache å±æ€§ </li></ol><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- æ ¹æ® id æŸ¥è¯¢ --></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findById<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span> <span class="token attr-name">useCache</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      select * from user where id = #{uid} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span> å°† UserDao.xml æ˜ å°„æ–‡ä»¶ä¸­çš„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span><span class="token punctuation">></span></span>æ ‡ç­¾ä¸­è®¾ç½® useCache=â€trueâ€ä»£è¡¨å½“å‰è¿™ä¸ª statement è¦ä½¿ç”¨äºŒçº§ç¼“å­˜ï¼Œå¦‚æœä¸ä½¿ç”¨äºŒçº§ç¼“å­˜å¯ä»¥è®¾ç½®ä¸º falseã€‚     æ³¨æ„ï¼šé’ˆå¯¹æ¯æ¬¡æŸ¥è¯¢éƒ½éœ€è¦æœ€æ–°çš„æ•°æ® sqlï¼Œè¦è®¾ç½®æˆ useCache=falseï¼Œç¦ç”¨äºŒçº§ç¼“å­˜ã€‚</code></pre></li><li><ol start="4"><li>äºŒçº§ç¼“å­˜éœ€åºåˆ—åŒ–æ¥å£</li></ol><pre><code>å› ä¸ºäºŒçº§ç¼“å­˜ä¿å­˜åˆ°çš„æ˜¯æ•°æ®ï¼Œä¸æ˜¯mapï¼Œå½“è¯»å–æ—¶ä¼šå°†æ•°æ®é‡æ–°å°è£…æˆå¯¹è±¡ã€‚public class User implements Serializable { }</code></pre></li></ul></li></ul></li></ul><hr><h2 id="Mybatis-æ³¨è§£å¼€å‘"><a href="#Mybatis-æ³¨è§£å¼€å‘" class="headerlink" title="Mybatis æ³¨è§£å¼€å‘"></a>Mybatis æ³¨è§£å¼€å‘</h2><ul><li><p>æ³¨æ„ï¼šä½¿ç”¨æ³¨è§£å¼€å‘å°±ä¸èƒ½ä½¿ç”¨xmlé…ç½®ï¼Œmapperæ˜ å°„ä¸­ä½¿ç”¨packageï¼Œå¦‚æœåŒæ—¶å­˜åœ¨ä¼šæŠ¥é”™</p></li><li><p><strong>mybatis çš„å¸¸ç”¨æ³¨è§£è¯´æ˜</strong></p><pre><code>*@Insert:å®ç°æ–°å¢ *@Update:å®ç°æ›´æ–° *@Delete:å®ç°åˆ é™¤ *@Select:å®ç°æŸ¥è¯¢ *@Result:å®ç°ç»“æœé›†å°è£… *@Results:å¯ä»¥ä¸@Result ä¸€èµ·ä½¿ç”¨ï¼Œå°è£…å¤šä¸ªç»“æœé›† @ResultMap:å®ç°å¼•ç”¨@Results å®šä¹‰çš„å°è£… *@One:å®ç°ä¸€å¯¹ä¸€ç»“æœé›†å°è£… *@Many:å®ç°ä¸€å¯¹å¤šç»“æœé›†å°è£… @SelectProvider: å®ç°åŠ¨æ€ SQL æ˜ å°„ *@CacheNamespace:å®ç°æ³¨è§£äºŒçº§ç¼“å­˜çš„ä½¿ç”¨ true</code></pre></li><li><p><strong>Mybatis æ³¨è§£å®ç°åŸºæœ¬ CRUD</strong></p><ul><li><p>ç¼–å†™æ¥å£</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select * from user where id = #{uid} "</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//è§£å†³ç±»å±æ€§åä¸æ•°æ®åº“åˆ—åä¸å¯¹åº”çš„æ–¹å¼</span><span class="token annotation punctuation">@Results</span><span class="token punctuation">(</span><span class="token punctuation">{</span>     <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span>column<span class="token operator">=</span><span class="token string">"id"</span><span class="token punctuation">,</span>property<span class="token operator">=</span><span class="token string">"userId"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                             <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column<span class="token operator">=</span><span class="token string">"username"</span><span class="token punctuation">,</span>property<span class="token operator">=</span><span class="token string">"userName"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                         <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span>property<span class="token operator">=</span><span class="token string">"userSex"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                                 <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column<span class="token operator">=</span><span class="token string">"address"</span><span class="token punctuation">,</span>property<span class="token operator">=</span><span class="token string">"userAddress"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                         <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column<span class="token operator">=</span><span class="token string">"birthday"</span><span class="token punctuation">,</span>property<span class="token operator">=</span><span class="token string">"userBirthday"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//å…¶ä»–çš„æ–¹æ³•å¯ç›´æ¥ç”¨ @Results("userMap")</span></code></pre></li><li><p>ç¼–å†™ SqlMapConfig é…ç½®æ–‡ä»¶ </p><pre><code>&lt;!-- é…ç½®æ˜ å°„ä¿¡æ¯ --&gt;  &lt;mappers&gt;    &lt;package name="com.itheima.dao"/&gt;  &lt;/mappers&gt; </code></pre></li><li><p>ç¼–å†™æµ‹è¯•æ–¹æ³•</p></li></ul></li><li><p><strong>æ³¨è§£å®ç°å¤æ‚å…³ç³»æ˜ å°„å¼€å‘</strong></p></li><li><p>å¤æ‚å…³ç³»æ˜ å°„çš„æ³¨è§£è¯´æ˜</p><pre><code>@Results æ³¨è§£ ä»£æ›¿çš„æ˜¯æ ‡ç­¾&lt;resultMap&gt;  è¯¥æ³¨è§£ä¸­å¯ä»¥ä½¿ç”¨å•ä¸ª@Result æ³¨è§£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨@Result é›†åˆ @Resultsï¼ˆ{@Resultï¼ˆï¼‰ï¼Œ@Resultï¼ˆï¼‰}ï¼‰æˆ–@Resultsï¼ˆ@Resultï¼ˆï¼‰ï¼‰ @Result æ³¨è§£ ä»£æ›¿äº† &lt;id&gt;æ ‡ç­¾å’Œ&lt;result&gt;æ ‡ç­¾@Result ä¸­ å±æ€§ä»‹ç»ï¼š   id æ˜¯å¦æ˜¯ä¸»é”®å­—æ®µ  column æ•°æ®åº“çš„åˆ—å  property éœ€è¦è£…é…çš„å±æ€§å  one  éœ€è¦ä½¿ç”¨çš„@One æ³¨è§£   @Resultï¼ˆone=@Oneï¼ˆï¼‰ï¼‰many  éœ€è¦ä½¿ç”¨çš„@Many æ³¨è§£ @Resultï¼ˆmany=@manyï¼ˆï¼‰ï¼‰@One æ³¨è§£ï¼ˆä¸€å¯¹ä¸€ï¼‰  ä»£æ›¿äº†&lt;assocation&gt;æ ‡ç­¾ï¼Œæ˜¯å¤šè¡¨æŸ¥è¯¢çš„å…³é”®ï¼Œåœ¨æ³¨è§£ä¸­ç”¨æ¥æŒ‡å®šå­æŸ¥è¯¢è¿”å›å•ä¸€å¯¹è±¡ã€‚ @One æ³¨è§£å±æ€§ä»‹ç»ï¼š  select  æŒ‡å®šç”¨æ¥å¤šè¡¨æŸ¥è¯¢çš„ sqlmapper  select æ˜¯ç”¨äºæ–¹æ³•çš„å”¯ä¸€æ ‡è¯†ï¼ˆdaoå…¨é™å®šç±»ååŠ ä¸Šæ–¹æ³•åç§°ï¼‰ fetchType(å¯çœ) ä¼šè¦†ç›–å…¨å±€çš„é…ç½®å‚æ•° lazyLoadingEnabledã€‚  å‚æ•°ï¼šFetchType.LAZY(å»¶è¿Ÿ)ã€EAGER(ç«‹å³)ä½¿ç”¨æ ¼å¼ï¼š  @Result(column="ç»“æœé›†ä¸­æŸ¥è¯¢çš„æ¡ä»¶ï¼ˆuidï¼‰",property="å°è£…çš„å±æ€§å(user)",one=@One(select="daoæ–¹æ³•çš„å…¨é™å®šç±»å" fetchType=)@Many æ³¨è§£ï¼ˆä¸€å¯¹å¤šï¼‰ ä»£æ›¿äº†&lt;Collection&gt;æ ‡ç­¾,æ˜¯å¤šè¡¨æŸ¥è¯¢çš„å…³é”®ï¼Œåœ¨æ³¨è§£ä¸­ç”¨æ¥æŒ‡å®šå­æŸ¥è¯¢è¿”å›å¯¹è±¡é›†åˆã€‚  æ³¨æ„ï¼šèšé›†å…ƒç´ ç”¨æ¥å¤„ç†â€œä¸€å¯¹å¤šâ€çš„å…³ç³»ã€‚éœ€è¦æŒ‡å®šæ˜ å°„çš„ Java å®ä½“ç±»çš„å±æ€§ï¼Œå±æ€§çš„ javaType ï¼ˆä¸€èˆ¬ä¸º ArrayListï¼‰ä½†æ˜¯æ³¨è§£ä¸­å¯ä»¥ä¸å®šä¹‰ï¼›  ä½¿ç”¨æ ¼å¼ï¼š   @Result(property="å°è£…çš„å±æ€§åï¼ˆorderListï¼‰",column="ç»“æœé›†ä¸­æŸ¥è¯¢çš„æ¡ä»¶ï¼ˆidï¼‰",many=@Many(select="daoæ–¹æ³•çš„å…¨é™å®šç±»å")</code></pre><blockquote><p> æ€»ç»“ï¼šä½¿ç”¨ä¸€å¯¹ä¸€å’Œä¸€å¯¹å¤šï¼Œé¦–å…ˆè¦ç¡®å®šsqlè¯­å¥çš„ä¸¤æ­¥éª¤ï¼Œæ¯”å¦‚ä¸€å¯¹å¤šå½“ä¸­çš„ï¼šæŸ¥è¯¢ç”¨æˆ·ä¸‹çš„æ‰€æœ‰è®¢å•ï¼Œè¦å…ˆæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯select * from userï¼Œä¹‹åæ ¹æ®IdæŸ¥è¯¢è®¢å•ä¿¡æ¯select * from order where uid = #{id}</p></blockquote></li></ul><hr><h2 id="è¿è¡Œæœºåˆ¶"><a href="#è¿è¡Œæœºåˆ¶" class="headerlink" title="è¿è¡Œæœºåˆ¶"></a>è¿è¡Œæœºåˆ¶</h2><ol><li>å°è£…JDBCæ“ä½œ</li><li>åˆ©ç”¨åå°„æ‰“é€šJavaç±»ä¸SQLè¯­å¥ä¹‹é—´çš„ç›¸äº’è½¬æ¢,ç›®çš„å°±æ˜¯è®©æˆ‘ä»¬å¯¹æ‰§è¡ŒSQLè¯­å¥æ—¶å¯¹è¾“å…¥è¾“å‡ºçš„æ•°æ®ç®¡ç†æ›´åŠ æ–¹ä¾¿</li></ol><p>åŸç†è¯¦è§£ï¼š</p><p>mybatisåº”ç”¨ç¨‹åºé€šè¿‡SqlSessionFactoryBuilderä»xmlé…ç½®æ–‡ä»¶ï¼ˆä¹Ÿå¯ä»¥ç”¨Javaæ–‡ä»¶é…ç½®çš„æ–¹å¼ï¼Œéœ€è¦æ·»åŠ @Configurationï¼‰æ¥æ„å»ºSqlSessionFactoryï¼ˆSqlSessionFactoryæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼‰ï¼›</p><p>ç„¶åï¼ŒSqlSessionFactoryçš„å®ä¾‹ç›´æ¥å¼€å¯ä¸€ä¸ªSqlSessionï¼Œå†é€šè¿‡SqlSessionå®ä¾‹è·å¾—Mapperå¯¹è±¡å¹¶è¿è¡ŒMapperæ˜ å°„çš„SQLè¯­å¥ï¼Œå®Œæˆå¯¹æ•°æ®åº“çš„CRUDå’Œäº‹åŠ¡æäº¤ï¼Œä¹‹åå…³é—­SqlSessionã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ssmæ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaWebç»¼åˆæ¡ˆä¾‹</title>
      <link href="/2020/06/21/qian-duan/web-zong-he-an-li/"/>
      <url>/2020/06/21/qian-duan/web-zong-he-an-li/</url>
      
        <content type="html"><![CDATA[<h2 id="ç»¼åˆæ¡ˆä¾‹"><a href="#ç»¼åˆæ¡ˆä¾‹" class="headerlink" title="ç»¼åˆæ¡ˆä¾‹"></a>ç»¼åˆæ¡ˆä¾‹</h2><p>åˆ›å»ºmavenå·¥ç¨‹ï¼ŒåŠ è½½ä¾èµ–ï¼Œè®¾ç½®tomcatæ’ä»¶å¿«æ·æ–¹å¼</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/web1.png" alt="image-20200515222153693"></p><pre><code>bug1ï¼šava.lang.NullPointerException: inStream parameter is nullæäº¤æ•°æ®åº“æ²¡æœ‰ä¿å­˜æ•°æ®åŸå› ï¼šJDBCUtilsä¸­çš„/druid.propertiesçš„"/"å»æ‰InputStream is = JDBCUtils.class.getClassLoader().getResourceAsStream("druid.properties");bug2:ä¿¡æ¯ä¸å›å†™ æ³¨å†Œå¤±è´¥åŸå› ï¼šfindUserByNameçš„sqlè¯­å¥å†™é”™ï¼ŒæŸ¥è¯¢ä¸åˆ°å€¼</code></pre><pre><code>æ³¨å†ŒåŠŸèƒ½ï¼š1.åœ¨å‰ç«¯è¿›è¡Œå¼‚æ­¥è¡¨å•æ ¡éªŒï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼Œç¦»ç„¦äº‹ä»¶ï¼ˆè¦å®šä¹‰åœ¨onloadæ–¹æ³•ä¸­ï¼Œå¦åˆ™ä¼šæ— æ•ˆï¼‰ã€æäº¤äº‹ä»¶ï¼ˆsubmit(fun()))2.æäº¤è¡¨å•ajaxå‘servletå‘é€è¯·æ±‚(serialize()æ–¹æ³•å°†è¡¨å•çš„å€¼å˜æˆå­—ç¬¦ä¸²)3.servletï¼šè·å–æ•°æ®ï¼Œå°è£…å¯¹è±¡ï¼Œè°ƒç”¨serviceæ–¹æ³•å®Œæˆæ³¨å†Œï¼Œæ ¹æ®è¿”å›ä¿¡æ¯ï¼Œå›å†™ä¿¡æ¯4.serviceï¼šè°ƒç”¨daoæ–¹æ³•æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œæ ¹æ®è¿”å›ä¿¡æ¯åˆ¤æ–­æ˜¯å¦å­˜åœ¨è¯¥ç”¨æˆ·ï¼Œå†è°ƒç”¨ä¿å­˜ä¿¡æ¯5.daoï¼šå®ç°æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ã€ä¿å­˜ç”¨æˆ·ä¿¡æ¯çš„åŠŸèƒ½6.å¢åŠ éªŒè¯ç éªŒè¯ï¼Œåœ¨servletä¸­è·å–éªŒè¯ç ä¿¡æ¯ï¼Œè·å–å­˜å‚¨åœ¨sessionä¸­çš„éªŒè¯ç è¿›è¡Œæ¯”å¯¹ï¼Œå›å†™ä¿¡æ¯7.å‰ç«¯å¢åŠ ä¿¡æ¯æç¤ºï¼Œè·å–å›å†™çš„æ•°æ®</code></pre><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/web2.png" alt="image-20200517143251824" style="zoom: 67%;"><pre><code>bug1:u.setStatus("N")ç©ºæŒ‡é’ˆå¼‚å¸¸åŸå› ï¼šä¸æ˜¯æŸ¥è¯¢åˆ°çš„ç”¨æˆ·ï¼Œè€Œæ˜¯ä¼ é€’è¿‡æ¥çš„å‚æ•°ç”¨æˆ·æ”¹ä¸ºï¼šuser.setStatus("N")bug2:æ¿€æ´»é“¾æ¥code= æ²¡æœ‰å€¼åŸå› :æ­£æ–‡çš„è¶…é“¾æ¥å†™é”™ï¼Œæ³¨æ„' "çš„ä½ç½®bug3:å›å†™ä¿¡æ¯ï¼Œé¡µé¢ä¸Šæ²¡æœ‰æ˜¾ç¤ºè¶…é“¾æ¥ï¼ŒåŸæ ·è¾“å‡ºäº†åŸå› ï¼šæ²¡æœ‰è®¾ç½®å›å†™çš„æ ¼å¼æ”¹ä¸ºï¼šåŠ ä¸Šresponse.setContentType("text/html;charset=utf-8");</code></pre><pre><code>é‚®ä»¶æ¿€æ´»ï¼š1.åœ¨æˆåŠŸä¿å­˜ç”¨æˆ·ä¿¡æ¯ä¹‹åï¼Œä½¿ç”¨é‚®ä»¶å·¥å…·ç±»ï¼ˆéœ€è¦é‚®ç®±æˆæƒç ï¼‰å‘é€é‚®ä»¶ï¼Œå†…å®¹è®¾ç½®æˆç‚¹å‡»æ¿€æ´»2.åœ¨ç‚¹å‡»æ¿€æ´»è®¾ç½®è¶…é“¾æ¥ï¼Œä¼ å‚æ¿€æ´»ç ï¼Œé“¾æ¥åˆ°servletä¸­3.servletï¼šè·å–æ¿€æ´»ç ï¼Œè°ƒç”¨serviceæ–¹æ³•updateï¼Œä¼ å…¥æ¿€æ´»ç ï¼Œå›å†™ä¿¡æ¯æ¿€æ´»æˆåŠŸï¼Œè¯·ç™»å½•4.serviceï¼šè°ƒç”¨daoæ–¹æ³•é€šè¿‡æ¿€æ´»ç æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œè°ƒç”¨æ–¹æ³•æ”¹å˜æ¿€æ´»çŠ¶æ€</code></pre><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/web3.png" alt="image-20200517161032800"></p><pre><code>bug1:angular.min.jsæ‰¾ä¸åˆ°åŸå› ï¼šæ²¡æœ‰è¯¥æ–‡ä»¶æ”¹ä¸ºï¼šæ‰¾åˆ°å¯¼å…¥çš„ä»£ç ï¼Œå¯¼å…¥ä¸€ä¸‹bug2:ç‚¹å‡»æŒ‰é’®æ²¡ååº”||é”™è¯¯ä¿¡æ¯ä¸æç¤ºåŸå› ï¼šå‰ç«¯ä»£ç å†™é”™æ”¹ä¸ºï¼šæ³¨æ„#æœ‰æ²¡æœ‰åŠ ï¼Œdata.æœ‰æ²¡æœ‰åŠ bug3:ç‚¹å‡»ç™»å½•å‡ºç°ä½ å¥½,undefinedåŸå› ï¼šsessionä¸­å­˜å‚¨çš„æ˜¯å­—ç¬¦ä¸²ï¼Œä½†å¼‚æ­¥è·å–çš„æ˜¯å­—ç¬¦ä¸².nameæ”¹ä¸ºï¼šsessionä¸­å­˜å‚¨userå¯¹è±¡ï¼Œå¼‚æ­¥è·å–å¯¹è±¡.name</code></pre><pre><code>ç™»å½•ï¼š1.å‰ç«¯ç»‘å®šç™»å½•æŒ‰é’®äº‹ä»¶ï¼Œæäº¤å¼‚æ­¥è¯·æ±‚ï¼Œè·å–ä¿¡æ¯ï¼Œå±•ç¤ºåœ¨é”™è¯¯ä¿¡æ¯divä¸­2.åç«¯ï¼š  servlet:è·å–è¡¨å•ä¿¡æ¯ï¼Œå°è£…æˆå¯¹è±¡ï¼Œè·å–éªŒè¯ç ï¼Œåˆ¤æ–­éªŒè¯ç æ˜¯å¦æ­£ç¡®ï¼Œè°ƒç”¨serviceæ–¹æ³•æŸ¥è¯¢userï¼Œè¿”å›userï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œæ˜¯å¦æ¿€æ´»ï¼Œå“åº”é”™è¯¯ä¿¡æ¯  serviceï¼šè°ƒç”¨daoä¸­çš„æ–¹æ³•é€šè¿‡è´¦å·ã€å¯†ç æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œè¿”å›user3.é¡µé¢å±•ç¤ºï¼šæ¬¢è¿ä½ ï¼Œå§“å</code></pre><pre><code>é€€å‡ºï¼š1.å‰ç«¯é€€å‡ºçš„è¶…é“¾æ¥è®¾ç½®è·¯å¾„åˆ°servlet(location.href='')2.servletï¼šåˆ é™¤sessionä¸­çš„ç”¨æˆ·ï¼Œé‡å®šå‘åˆ°ä¸»é¡µï¼ˆè™šæ‹Ÿè·¯å¾„ request.getContextPathï¼‰</code></pre><pre><code>bug1:è·¯å¾„æ”¹è¿‡åï¼Œè¿˜æ˜¯findNameServletåŸå› ï¼šç¼“å­˜æ²¡æœ‰æ¸…æ¥šæ”¹ä¸ºï¼šå°†ç¼“å­˜æ¸…ç©ºå³å¯bug2:NoSuchMethodExceptionåŸå› ï¼šæ–¹æ³•çš„ä¿®é¥°ç¬¦æ˜¯protected beanServletæ²¡æœ‰æƒé™è·å–è¯¥æ–¹æ³•æ”¹ä¸ºï¼šä¿®æ”¹æˆpublic</code></pre><pre><code>Servletä¼˜åŒ–ï¼šå‡å°‘Servletæ•°é‡ï¼Œå°†ä¸€ä¸ªæ¨¡å—çš„åŠŸèƒ½æ•´åˆåˆ°ä¸€ä¸ªServletä¸­1.åˆ›å»ºUserServlet,åˆ›å»ºBaseServlet2.UserServletç»§æ‰¿BaseServletï¼ŒBaseServletç»§æ‰¿HttpServletï¼ˆç›®çš„è®©UserServletæ‹¥æœ‰HttpServletè§„èŒƒï¼‰3.BaseServlet:serviceæ–¹æ³•ï¼šæ–¹æ³•åˆ†å‘    è·å–è¯·æ±‚è·¯å¾„uri    è·å–æ–¹æ³•åç§°ï¼ˆæˆªå–uriï¼‰    è·å–æ–¹æ³•å¯¹è±¡ï¼ˆthis.getMethodï¼‰    æ‰§è¡Œæ–¹æ³•ï¼ˆinvokeï¼‰4.ä¿®æ”¹æ–¹æ³•çš„ä¿®é¥°ç¬¦publicï¼ˆä¸æ”¹ä¼šå‡ºç°bug2ï¼‰5.å°†æ‰€æœ‰servletæ•´åˆåˆ°æ€»servletçš„æ–¹æ³•ä¸­6.ä¿®æ”¹å‰ç«¯è·¯å¾„ï¼ˆuser/æ–¹æ³•åï¼‰</code></pre><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/web4.png" alt="image-20200518173356734" style="zoom: 67%;"><pre><code>bug1:InvocationTargetExceptionåŸå› ï¼šDaoå±‚å†™é”™ï¼Œåœ¨JdbcTemplateæ²¡æœ‰åŠ å‚æ•°ï¼ŒJDBCUtils.getDataSource()æ”¹ä¸ºï¼šJdbcTemplate(JDBCUtils.getDataSource());bug2:å…¨éƒ¨ä¿®æ”¹å¥½ï¼Œç•Œé¢ä¸æ˜¾ç¤ºåŸå› ï¼šç¼“å­˜æ²¡æœ‰æ¸…ç†æ”¹ä¸ºï¼šæ¸…ç©ºç¼“å­˜</code></pre><pre><code>åˆ†ç±»æ•°æ®å±•ç¤ºï¼š1.åˆ›å»ºcategoryServlet,ç»§æ‰¿BeanServlet2.categoryServlet:findAllæ–¹æ³•(public)ï¼šè°ƒç”¨serviceæ–¹æ³•ï¼Œè·å–åˆ†ç±»æ•°æ®é›†åˆï¼Œå°†æ•°æ®åºåˆ—åŒ–jsonï¼Œå›å†™ç»™å®¢æœç«¯ï¼ˆå¯ä»¥åœ¨BeanServletå°è£…åºåˆ—åŒ–Jsonæ–¹æ³•ï¼‰3.serviceï¼šè°ƒç”¨daoæ–¹æ³•ï¼Œè·å–æ•°æ®åº“åˆ†ç±»æ•°æ®é›†åˆ4.daoï¼šæŸ¥è¯¢åˆ†ç±»æ•°æ®åº“ï¼Œè¿”å›æ•°æ®é›†åˆ5.å‰ç«¯ï¼šheader:å‘é€ajaxè¯·æ±‚ï¼Œè·å–æ•°æ®ï¼Œéå†æ•°æ®æ·»åŠ åœ¨å­—ç¬¦ä¸²æˆä¸ºliç»„ï¼Œå°†å­—ç¬¦ä¸²æ·»åŠ åˆ°ulä¸­</code></pre><pre><code>æ³¨æ„:1.ä½¿ç”¨æ—¶éœ€è¦å…ˆå¼€å¯redisæœåŠ¡å™¨bug1:æ•°æ®ä»ç„¶æ˜¯é€šè¿‡æ•°æ®åº“æŸ¥è¯¢åŸå› ï¼šå­˜å‚¨redisæ—¶keyå€¼å†™é”™ï¼Œredisä¸­æ²¡æœ‰æŸ¥è¯¢åˆ°è¯¥æœ‰çš„å€¼ï¼ˆæŸ¥è¯¢çš„å’Œä¿å­˜çš„ä¸æ˜¯ä¸€ä¸ªKeyï¼‰æ”¹ä¸ºï¼šå°†zrangeWithScores("categorys", 0, -1)--&gt;zrangeWithScores("category", 0, -1)bug2:listç©ºæŒ‡é’ˆå¼‚å¸¸åŸå› ï¼šliståœ¨æˆå‘˜å˜é‡ä¸­è®¾ç½®çš„æ˜¯nullï¼Œåœ¨æ•°æ®å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰åˆ›å»ºListå¯¹è±¡æ”¹ä¸ºï¼šlist=new ArrayList&lt;Category&gt;();</code></pre><pre><code>åˆ†ç±»æ•°æ®ç¼“å­˜å¤„ç†ï¼š* åˆ†ç±»æ•°æ®ä¸å¸¸ä¿®æ”¹ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½æŸ¥è¯¢æ•°æ®åº“ï¼Œå°†æ•°æ®å­˜å‚¨åˆ°ç¼“å­˜å½“ä¸­ï¼ŒæŸ¥è¯¢ç¼“å­˜å³å¯1.CategoryServiceImplä¸­findAllæ–¹æ³•ï¼šjedisè·å–ç¼“å­˜æ•°æ®ï¼Œåˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨    ä¸å­˜åœ¨ï¼šç¬¬ä¸€æ¬¡è®¿é—®ï¼ŒæŸ¥è¯¢æ•°æ®åº“çš„æ•°æ®ï¼Œå¹¶ä¿å­˜åˆ°ç¼“å­˜å½“ä¸­    å­˜åœ¨ï¼šå°†ç¼“å­˜æ•°æ®è½¬æ¢ä¸ºlisté›†åˆè¿”å›ï¼ˆå› ä¸ºfindAllæ–¹æ³•çš„è¿”å›ç±»å‹æ˜¯listï¼‰</code></pre><pre><code>åˆ†ç±»ä¼ é€’idï¼š* ç‚¹å‡»åˆ†ç±»çš„é¡µé¢ä¹‹åä¼šä¼ é€’ä¸€ä¸ª?cid=xxx1.ä¿®æ”¹redisï¼šå°†cidä¹Ÿä¼ å…¥rediså½“ä¸­ï¼ˆzrangeWithScoreï¼‰ï¼Œå°†æ³›å‹ä»categoryæ”¹ä¸ºTuple2.ä¿®æ”¹å‰ç«¯ä»£ç ï¼šheader.html ä¼ é€’cid3.è·å–cid:location.search  (?cid=xxx)</code></pre><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/web5.png" alt="image-20200519224338551"></p><pre><code>bug1:æ˜¾ç¤º0æ¡è®°å½•åŸå› ï¼šurlä¸­æ²¡æœ‰?cid=5æ”¹ä¸ºï¼šç‚¹å‡»æ­£ç¡®çš„é“¾æ¥è¿›å…¥bug2:ç‚¹å‡»é¡µæ•°ï¼Œæ•°æ®æ²¡æœ‰æ”¹å˜åŸå› ï¼šæ²¡æœ‰å°†currentPageä¼ å…¥ajaxå‚æ•°ä¸­ï¼Œload(å‚æ•°éœ€è¦æ‹¼æ¥å­—ç¬¦ä¸²'+cid+','+i+')bug3: 2.5è®¾ç½®å¥½ï¼Œä½†æ˜¯åˆ†é¡µä¸è§äº†åŸå› ï¼šå½“å‰é¡µé¢currentPageæ˜¯ä»ajaxè¯·æ±‚è¿”å›æ¥çš„pbå¯¹è±¡ä¸­çš„currentPageï¼Œç¬¬ä¸€æ¬¡currentPageæ˜¯æ²¡æœ‰å€¼çš„æ”¹ä¸ºï¼šcurrentPage -- &gt; pb.currentPage</code></pre><pre><code>åˆ†é¡µæŸ¥è¯¢ï¼š1.åå°ï¼š1.1.åˆ›å»ºPageBeanç±»ï¼šæ€»è®°å½•æ•°ï¼ˆæ•°æ®åº“ï¼‰ã€æ€»é¡µæ•°ï¼ˆå¯è®¡ç®—ï¼‰ã€å½“å‰é¡µç ï¼ˆå‰ç«¯ï¼‰ã€æ¯é¡µæ˜¾ç¤ºæ¡æ•°ï¼ˆå‰ç«¯ï¼‰ã€æ¯é¡µå±•ç¤ºçš„æ•°æ®é›†åˆ1.2.RouteServletï¼špageQueryæ–¹æ³•ï¼šè·å–å‚æ•°ã€å¤„ç†å‚æ•°å’Œåˆå§‹åŒ–ã€è°ƒç”¨serviceæ–¹æ³•æŸ¥è¯¢åˆ°pageBeanå¯¹è±¡ï¼Œå°†å¯¹è±¡åºåˆ—åŒ–Json,å›å†™json1.3.RouteDao:æŸ¥è¯¢æ€»è®°å½•æ•°ã€æŸ¥è¯¢æ¯é¡µå±•ç¤ºçš„æ•°æ®é›†åˆ1.4.RouteServiceImpl:åˆ›å»ºPageBeanå¯¹è±¡ï¼Œè°ƒç”¨æ–¹æ³•/è®¡ç®—è·å–æ•°æ®ï¼Œå°†æ•°æ®å°è£…è¿›å¯¹è±¡2.å‰å°ï¼š2.1å±•ç¤ºæ€»é¡µç ã€æ€»è®°å½•æ•°ï¼šåœ¨route.htmlä¸­å‘é€å¼‚æ­¥è¯·æ±‚ï¼Œä¼ é€’cidï¼Œè·å–åˆ°æ€»é¡µç ã€æ€»è®°å½•æ•°2.2åŠ è½½åˆ†é¡µæ :åˆ©ç”¨å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œåˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼Œé¦–ã€ä¸­ã€æœ«ï¼Œä¸­é—´åº”ç”¨å¾ªç¯éå†æ¥æ‹¼æ¥2.3åŠ è½½åˆ†é¡µæ•°æ®ï¼šåˆ©ç”¨å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œåº”ç”¨å¾ªç¯éå†æ‹¼æ¥2.4åˆ†é¡µæ é“¾æ¥æŒ‡å®šï¼šå°†2.2ï¼Œ2.3å°è£…ä¸ºä¸€ä¸ªæ–¹æ³•ï¼Œæ–¹æ³•å†…æ˜¯å¼‚æ­¥è¯·æ±‚ï¼Œä¼ å‚cid,currentPageï¼Œç‚¹å‡»è°ƒç”¨è¯¥æ–¹æ³•é‡æ–°å¼‚æ­¥åŠ è½½ï¼Œé¦–æœ«é¡µã€ä¸Šä¸‹é¡µæŒ‡é“¾æ¥ï¼Œä¸Šä¸‹ä¸€é¡µåšåˆ¤æ–­é¿å…å‡ºç°è´Ÿé¡µå’Œè¶…é¡µï¼Œè®¾ç½®å½“å‰é¡µçš„æ ¼å¼ä¸ºcurPage2.5åˆ†é¡µæ æ˜¾ç¤º10ä¸ªï¼š    å‰5å4    å‰ä¸å¤Ÿ5ï¼Œåé¢è¡¥é½10ä¸ª    åä¸å¤Ÿ4ï¼Œå‰é¢è¡¥é½10ä¸ª</code></pre><pre><code>åå°æ³¨æ„ï¼š1.è·å–è¾“å…¥æ¡†å€¼çš„æ—¶å€™æ˜¯val()ï¼Œä¸è¦å¿˜è®°æ‹¬å·2.å‰ç«¯è·å–urlä¸­çš„cidå’Œrnameï¼Œå¯ä»¥ä½¿ç”¨jså°è£…çš„æ–¹æ³•getParameter("cid") 3.åœ¨daoä¸­æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œæ³¨æ„ç©ºæ ¼ï¼Œlikeæ¡ä»¶æ³¨æ„%%çš„æ‹¼æ¥ï¼Œsb.toString();params.toArray()ä¸è¦å¿˜è®°å‰å°æ³¨æ„ï¼š1.åŠ rnameå‚æ•°çš„æ—¶å€™æ³¨æ„å•å¼•å·ï¼Œéœ€è¦è½¬ç§»å­—ç¬¦çš„ä½ç½®bug1:3.2 ä¼ å…¥å‚æ•°ä¹‹åï¼Œæ•°æ®å’Œåˆ†é¡µæ éƒ½æ¶ˆå¤±åŸå› ï¼šæ²¡æœ‰å¯¹rnameè§£ç ï¼Œå¯¼è‡´è·å–çš„å€¼æ‰¾ä¸åˆ°æ”¹ä¸ºï¼šåœ¨3.1è¿›è¡Œè§£ç æ“ä½œbug2:3.4 åœ¨é¦–é¡µæœç´¢ï¼Œcidä¸ºnull,æŸ¥è¯¢ä¸åˆ°ä»»ä½•å€¼ NumberFormatExceptionåŸå› ï¼šcidçš„å€¼æ˜¯nullï¼Œåœ¨servletä¸­è·å–cidStræ˜¯å­—ç¬¦ä¸²null,å°†å…¶è½¬æ¢ä¸ºintç±»å‹ä¼šæŠ¥è½¬æ¢å¼‚å¸¸ï¼Œå°†nullçš„æƒ…å†µå¿½ç•¥æ‰ï¼Œåå°è°ƒç”¨æ•°æ®åº“å°±ä¼šå¿½ç•¥æ‰cidçš„æ¡ä»¶ï¼Œä¸å½±å“æœæ•°æ®æ”¹ä¸ºï¼šservlet:åœ¨è½¬æ¢çš„ifä¸­å¢åŠ !"null".equals(cidStr)bug3:ä¿®æ”¹å®Œä¹‹åï¼Œä¸æœç´¢æŸ¥çœ‹æ‰€æœ‰ä¿¡æ¯ï¼Œç‚¹å…¶ä»–é¡µæŸ¥è¯¢ä¸åˆ°ä»»ä½•ä¿¡æ¯åŸå› ï¼šå’Œbug2ç±»ä¼¼ï¼Œå¢åŠ çš„rnameå‚æ•°æ˜¯å­—ç¬¦ä¸²"null"ï¼Œè®¿é—®æ•°æ®åº“rnameçš„åˆ¤æ–­è¯­å¥ç¼ºå°‘ï¼Œå¯¼è‡´å¤šæ‹¼æ¥äº†æ¡ä»¶rnameæ”¹ä¸º:åœ¨è®¿é—®æ•°æ®åº“åˆ¤æ–­è¯­å¥åº”è¯¥åŠ ä¸Š!"null".equals(rname)</code></pre><pre><code>çº¿è·¯æŸ¥è¯¢ï¼š1.ä¼ é€’ä¿¡æ¯ï¼Œè·³è½¬urlï¼š1.1.ç»‘å®šæŸ¥è¯¢æŒ‰é’®çš„å•å‡»äº‹ä»¶ï¼Œè·å–è¾“å…¥æ¡†çš„å€¼rnameï¼Œè®¾ç½®urlå¹¶æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œcid,rname2.åå°ï¼š2.1.servletï¼šè·å–rnameï¼Œ(tomcat8ä»¥å‰éƒ½è¦è¿›è¡Œ)å°†rnameçš„urlè½¬ç ä¸ºStringï¼Œå°†rnameä¼ å…¥serviceæ–¹æ³•ä¸­2.2.service:å¯¹Serviceæ–¹æ³•å’Œdaoæ–¹æ³•å…¨éƒ¨ä¼ å…¥rnameå‚æ•°2.3.dao:å°†sqlè¯­å¥æ¡ä»¶è®¾ç½®æˆwhere 1 = 1,ä¹‹åç”¨StringBuiderå¢åŠ æ¡ä»¶ï¼Œç”¨ArrayListä¿å­˜æ¡ä»¶ï¼Ÿçš„å€¼3.å‰å°ï¼š3.1.åœ¨route_list.htmlï¼šè·å–cid,rnameï¼Œå°†rnameè¿›è¡Œurlè§£ç decodeURIComponentï¼ˆå› ä¸ºæ˜¯å­—ç¬¦ä¸²ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨åŠ ç ï¼‰3.2.å°†cid,rnameä¼ å…¥å¼‚æ­¥è¯·æ±‚å½“ä¸­3.3.å°†load()çš„å‚æ•°å…¨éƒ¨åŠ ä¸Šrname3.4.è§£å†³ä¸ç‚¹routeé¡µé¢å‡ºç°cid=nullçš„é—®é¢˜    åŸå› ï¼šåœ¨servletä¸­è·å–cidStræ˜¯å­—ç¬¦ä¸²null,å°†å…¶è½¬æ¢ä¸ºintç±»å‹ä¼šæŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸    è§£å†³æ–¹æ³•ï¼šåœ¨è½¬æ¢çš„ifä¸­å¢åŠ !"null".equals(cidStr)</code></pre><pre><code>bug1:ä¼ é€’id urlæ˜¯rid= æ²¡æœ‰å€¼åŸå› ï¼šå­—ç¬¦ä¸²æ‹¼é”™ï¼Œä½¿ç”¨å•å¼•å·ï¼Œå°†javacriptçš„jqueryä»£ç å†™åœ¨å¯¼åŒ…çš„åé¢æ”¹ä¸ºï¼šå°†jsä»£ç å†™åœ¨ä¸€èµ·bug2:å›¾ç‰‡æ²¡æœ‰æ¢,æç¤ºlengthæ— æ³•è·å–åŸå› ï¼šå¾ªç¯æ¡ä»¶å†™é”™ï¼Œåº”è¯¥æ˜¯jsonä¸­çš„æ•°æ®å(routeImgList)ï¼Œä¸æ˜¯implä¸­å­˜å…¥çš„æ•°æ®å(imgList)æ”¹ä¸ºï¼š"routeImgList": æ˜¯jsonä¸­çš„æ•°æ®å    for(var i=0;i&lt;imgList.length;i++) --&gt; for(var i=0;i&lt;routeImgList.length;i++)    bug3:é»˜è®¤å¤§å›¾ç‰‡è¿˜æ˜¯åŸæ¥çš„å›¾ç‰‡åŸå› ï¼šæ²¡æœ‰ä¿®æ”¹é»˜è®¤å¤§å›¾ç‰‡æ”¹ä¸ºï¼šå°†å¤§å›¾ç‰‡æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œè®©å…¶å˜ä¸ºåŠ è½½åå›¾ç‰‡çš„ç¬¬ä¸€å¼ bug4:ç‚¹å‡»ä¸Šä¸‹ä¸‰è§’æ²¡æœ‰ååº”åŸå› ï¼šå›¾ç‰‡ä¸€å…±å°±4å¼ bug5:æ²¡ç‚¹ä¸Šä¸‹ä¸‰è§’æ˜¾ç¤ºçš„æ˜¯5å¼ å›¾ï¼Œç‚¹ä¹‹åéšè—æˆ4å¼ åŸå› ï¼šifè¯­å¥å†™é”™ï¼Œiä»0å¼€å§‹ï¼Œæ˜¾ç¤º4å¼ åº”è¯¥æ˜¯&gt;3çš„éšè—æ”¹ä¸ºï¼šif(i&gt;3){}</code></pre><pre><code>æ—…æ¸¸çº¿è·¯è¯¦æƒ…ï¼š1.ä¼ é€’id:1.1.ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ï¼Œè¶…é“¾æ¥ä¼ é€’?rid=route.rid2.åå°ï¼š2.2.servlet:è·å–rid,å¹¶ä¸”è°ƒç”¨serviceæ–¹æ³•è·å–routeå¯¹è±¡ï¼Œè½¬æ¢ä¸ºjsonå›å†™å®¢æˆ·ç«¯2.3.serviceï¼šè°ƒç”¨routedaoæ–¹æ³•æŸ¥è¯¢routeåŸºæœ¬æ•°æ®ï¼Œè°ƒç”¨imgdaoæ–¹æ³•æŸ¥è¯¢å›¾ç‰‡é›†åˆå¯¹è±¡ï¼Œå°†å…¶å°è£…è¿›routeå¯¹è±¡ä¸­ï¼Œè°ƒç”¨sellerdaoæ–¹æ³•æŸ¥è¯¢å–å®¶ä¿¡æ¯å¯¹è±¡ï¼Œå°†å…¶å°è£…è¿›routeå¯¹è±¡ä¸­ï¼Œè¿”å›route2.4.dao:routedaoé€šè¿‡ridæŸ¥è¯¢ï¼Œimgdaoé€šè¿‡routeå¯¹è±¡çš„ridæŸ¥è¯¢ï¼Œsellerdaoé€šè¿‡routeå¯¹è±¡çš„sidæŸ¥è¯¢3.å‰å°ï¼š3.1.route_detail.htmlï¼šè·å–ridï¼Œå‘é€ajaxè¯·æ±‚ä¼ é€’rid3.2.å°†è·å–åˆ°çš„routeå¯¹è±¡å±•ç¤ºåœ¨é¡µé¢ä¸Šï¼šåŸºæœ¬ä¿¡æ¯ã€å•†å®¶ä¿¡æ¯3.3.å›¾ç‰‡ä¿¡æ¯æ‹¼æ¥å­—ç¬¦ä¸²å®Œæˆï¼ˆå›¾ç‰‡åªæ˜¾ç¤º4ä¸ªï¼Œå…¶ä»–çš„éšè—ï¼‰ï¼Œå°†åˆ‡æ¢å›¾ç‰‡çš„æ•ˆæœä»£ç å°è£…æˆæ–¹æ³•ï¼Œåœ¨æ‹¼æ¥å®Œå­—ç¬¦ä¸²åå†è°ƒç”¨</code></pre><pre><code>å‰å°æ³¨æ„ï¼š2.2.æœªæ”¶è—æ˜¯é»˜è®¤å€¼ï¼Œåªéœ€è¦ä¿®æ”¹flagä¸ºtrueçš„æƒ…å†µ    ä¿®æ”¹æ˜¯å¢åŠ å±æ€§ classå¢åŠ å€¼ï¼šalready                å¢åŠ disabledå±æ€§ï¼Œå€¼ä¸ºdisabledï¼Œä½¿ç”¨attr                 ï¼ˆattrï¼šå¯ä»¥å¢åŠ éƒ¨åˆ†å›ºæœ‰å±æ€§ã€éå›ºæœ‰å±æ€§ï¼Œpropï¼šåªèƒ½å¢åŠ å›ºæœ‰å±æ€§ï¼‰</code></pre><pre><code>çº¿è·¯æ”¶è—çŠ¶æ€ã€æ”¶è—æ¬¡æ•°ï¼š1.åå°ï¼š1.1.servlet:è·å–ridï¼ˆurlä¸­è·å–ï¼‰,uidï¼ˆsessionä¸­è·å–ï¼‰ï¼Œè°ƒç”¨serviceæ–¹æ³•æŸ¥è¯¢å‡ºæ˜¯å¦æ”¶è—çš„å¸ƒå°”å€¼1.2.service:è°ƒç”¨daoæŸ¥è¯¢æ”¶è—è®°å½•å¯¹è±¡ï¼Œå¦‚æœä¸ºç©ºåˆ™è¿”å›falseï¼Œä¸ä¸ºç©ºåˆ™true1.3.dao:æŸ¥è¯¢æ•°æ®åº“ï¼Œè·å–æ”¶è—è®°å½•å¯¹è±¡2.å‰å°ï¼š2.1.ä½¿ç”¨ajaxè¯·æ±‚ï¼Œä¼ å…¥ridï¼Œè·å–æ˜¯å¦æ”¶è—çš„å¸ƒå°”å€¼2.2.å¦‚æœæœªæ”¶è—ï¼Œæ”¹å˜æŒ‰é’®çš„æ ·å¼ï¼Œå·²æ”¶è—å°±ä¸ç”¨åŠ¨3.æ”¶è—æ¬¡æ•°ï¼šæ ¹æ®ridæŸ¥è¯¢æ•°æ®åº“æ”¶è—æ¬¡æ•°ï¼Œå°è£…è¿›routeå¯¹è±¡ä¸­ï¼Œåœ¨å‰å°æ˜¾ç¤º</code></pre><pre><code>ç‚¹å‡»æ”¶è—ï¼š1.åå°ï¼š1.1.servlet:è·å–rid,uidï¼Œè°ƒç”¨Serviceæ–¹æ³•å¢åŠ æ”¶è—1.2.serviceï¼šè°ƒç”¨daoæ–¹æ³•å¢åŠ æ”¶è—1.3.dao:è®¿é—®æ•°æ®åº“å¢åŠ æ”¶è—2.å‰å°ï¼š2.1.å‘é€ajaxè¯·æ±‚è·å¾—ç”¨æˆ·ä¿¡æ¯ï¼Œåˆ¤æ–­å…¶æ˜¯å¦ç™»å½•2.2.æœªç™»å½•ï¼šå¼¹å‡ºæœªç™»å½•ï¼Œå¹¶è·³è½¬åˆ°ç™»å½•ç•Œé¢2.3.å·²ç™»å½•ï¼šåˆ·æ–°é¡µé¢ï¼ˆä¸ç®¡ç”¨ï¼Œä¸çŸ¥é“æ€ä¹ˆå›äº‹ï¼‰2.4.ä¼˜åŒ–ï¼šå·²æ”¶è—ï¼ˆç°è‰²æŒ‰é’®ï¼‰ä¸èƒ½å†ç‚¹å‡»--&gt;åˆ é™¤å•å‡»äº‹ä»¶ï¼ˆremoveAttræ˜¯jqueryçš„æ–¹æ³•ï¼‰</code></pre>]]></content>
      
      
      <categories>
          
          <category> javaWeb </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaWeb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+materyä¸»é¢˜ç›®å½•ç»“æ„è¯¦è§£</title>
      <link href="/2020/06/21/hexo/hexo-matery-zhu-ti-mu-lu-jie-gou-xiang-jie/"/>
      <url>/2020/06/21/hexo/hexo-matery-zhu-ti-mu-lu-jie-gou-xiang-jie/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æˆ‘å°†è¯¦ç»†ä»‹ç»hexoæ¯ä¸ªæ–‡ä»¶å¤¹å’Œæ–‡ä»¶çš„ä½œç”¨ï¼Œæœªæ¥ä¸æ–­æ›´æ–°ï¼Œå¯¹ç›®å½•ç»“æ„å’Œæ–‡ä»¶ä¸ç†Ÿæ‚‰çš„å¯ä»¥å‚è€ƒ</p></blockquote><h3 id="ä¸»ç›®å½•"><a href="#ä¸»ç›®å½•" class="headerlink" title="ä¸»ç›®å½•"></a>ä¸»ç›®å½•</h3><p>æˆ‘çš„hexoæ ¹ç›®å½•ä½ç½®ï¼š<code>C:\Users\user\Desktop\æˆ‘çš„åšå®¢\lovelijunyi</code></p><h4 id="ç›®å½•éƒ¨åˆ†"><a href="#ç›®å½•éƒ¨åˆ†" class="headerlink" title="ç›®å½•éƒ¨åˆ†"></a>ç›®å½•éƒ¨åˆ†</h4><ul><li><code>deploy_git</code>ï¼Œä¸<code>git</code>æ˜¯<strong>git</strong>ç›¸å…³å†…å®¹ï¼Œå¦‚æœæ— æ³•gitåˆ°ä»“åº“ï¼Œéœ€è¦æ£€æŸ¥gitæ–‡ä»¶å¤¹ä¸­é…ç½®</li><li><code>scaffolds</code>ï¼Œå­˜æ”¾çš„æ˜¯é»˜è®¤ç”Ÿæˆmdæ–‡ä»¶çš„é…ç½®ï¼Œå…¶ä¸­<code>post.md</code>æ˜¯é»˜è®¤ç”Ÿæˆæ–‡ç« çš„é…ç½®</li><li><code>scripts</code>ï¼Œæ‰©å±•è„šæœ¬ç›®å½•ï¼Œè¿™é‡Œå¯ä»¥è‡ªå®šä¹‰ä¸€äº›javascriptè„šæœ¬å­˜æ”¾çš„æ˜¯é¡µé¢åŠ è½½è„šæœ¬(éé»˜è®¤)</li><li><strong><code>source</code>ï¼Œhexoæºç ç›®å½•ï¼Œæ˜¯æ ¸å¿ƒç›®å½•ï¼Œä¸‹é¢è¯¦è§£</strong></li><li><strong><code>themes</code>ï¼Œæ˜¯ä¸»é¢˜ç›®å½•ï¼Œä¸‹é¢è¯¦è§£</strong></li><li><code>packagesï¼Œ</code>æ˜¯å­˜æ”¾çœ‹æ¿åŠ¨ç”»æ¨¡å‹çš„(éé»˜è®¤)</li><li><code>publicï¼Œ</code>æ˜¯é€šè¿‡hexo gç¼–è¯‘å‡ºæ¥çš„æœ€ç»ˆç½‘é¡µæ–‡ä»¶ï¼Œä¹Ÿæ˜¯éƒ¨ç½²åˆ°githubä¸Šçš„æ–‡ä»¶ï¼Œè¾“å‡ºçš„é™æ€ç½‘é¡µå†…å®¹ç›®å½•</li><li><code>node_modules</code>ï¼Œæ˜¯hexoçš„ä¸€äº›åº“æ–‡ä»¶</li></ul><h4 id="æ–‡ä»¶éƒ¨åˆ†"><a href="#æ–‡ä»¶éƒ¨åˆ†" class="headerlink" title="æ–‡ä»¶éƒ¨åˆ†"></a>æ–‡ä»¶éƒ¨åˆ†</h4><ul><li><strong><code>_config.yml</code>ï¼Œæ˜¯hexoçš„å…¨å±€é…ç½®æ–‡ä»¶(æ ¸å¿ƒé…ç½®æ–‡ä»¶)ï¼Œä¸€äº›æ’ä»¶å®‰è£…åéƒ½éœ€åœ¨æ­¤æ–‡ä»¶å¼€å¯</strong></li><li><code>CNAME</code>ï¼Œå¯é…ç½®ä¸ªäººåŸŸå</li><li><code>package.json</code>ï¼Œåº”ç”¨ç¨‹åºæ•°æ®ï¼ŒæŒ‡æ˜hexoçš„ç‰ˆæœ¬ç­‰ä¿¡æ¯ï¼Œç±»ä¼¼äºä¸€èˆ¬è½¯ä»¶ä¸­çš„å…³äºæŒ‰é’®</li><li><code>main.py</code>ï¼Œä¸ªäººå¿«é€Ÿæ‰§è¡Œè„šæœ¬(éé»˜è®¤)</li></ul><h3 id="sourceç›®å½•"><a href="#sourceç›®å½•" class="headerlink" title="sourceç›®å½•"></a>sourceç›®å½•</h3><p>hexoçš„æºç ç›®å½•ï¼Œå†™æ–‡ç« çš„ä¸»è¦ç›®å½•</p><pre><code>â”œâ”€â”€ _data              # å­˜æ”¾å‹é“¾çš„friends.jsonå’Œç›¸å†Œçš„jsonâ”œâ”€â”€ _posts             # æ‰€æœ‰æ–‡ç« å°±åœ¨è¿™é‡Œâ”œâ”€â”€ 404                # 404ç›¸å…³â”œâ”€â”€ categories         # å½’æ¡£é¡µé¢â”œâ”€â”€ contact            # å…³äºé¡µé¢â”œâ”€â”€ friends            # å‹è”é¡µé¢â”œâ”€â”€ galleries          # ç›¸å†Œé¡µé¢â”œâ”€â”€ images             # å›¾ç‰‡é¡µé¢ï¼Œå…¶ä»–å›¾ï¼Œæ‡’åŠ è½½å›¾å­˜æ”¾ä½ç½®â”œâ”€â”€ media              # å¤šåª’ä½“â”œâ”€â”€ tags               # æ ‡ç­¾é¡µâ”œâ”€â”€ 404.md             # 404å´©æºƒé¡µé¢â””â”€â”€ CANME</code></pre><h3 id="themesç›®å½•"><a href="#themesç›®å½•" class="headerlink" title="themesç›®å½•"></a>themesç›®å½•</h3><blockquote><p> hexo-theme-materyä¸»é¢˜ä¸ºä¾‹ï¼Œ**<code>_config.yml</code>æ˜¯ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œéå¸¸é‡è¦**</p></blockquote><pre><code>â”œâ”€â”€ languages          # å¤šè¯­è¨€|   â”œâ”€â”€ default.yml    # é»˜è®¤è¯­è¨€|   â””â”€â”€ zh-CN.yml      # ä¸­æ–‡è¯­è¨€â”œâ”€â”€ layout             # å¸ƒå±€ï¼Œæ ¹ç›®å½•ä¸‹çš„*.ejsæ–‡ä»¶æ˜¯å¯¹ä¸»é¡µï¼Œåˆ†é¡µï¼Œå­˜æ¡£ç­‰çš„æ§åˆ¶|   â”œâ”€â”€ _partial       # å±€éƒ¨çš„å¸ƒå±€ï¼Œæ­¤ç›®å½•ä¸‹çš„*.ejsæ˜¯å¯¹å¤´å°¾ç­‰å±€éƒ¨çš„æ§åˆ¶|   â””â”€â”€ _widget        # å°æŒ‚ä»¶çš„å¸ƒå±€ï¼Œé¡µé¢ä¸‹æ–¹å°æŒ‚ä»¶çš„æ§åˆ¶â”œâ”€â”€ source             # æºç |   â”œâ”€â”€ css            # cssæºç  |   |   â”œâ”€â”€ _base      # *.stylåŸºç¡€css|   |   â”œâ”€â”€ _partial   # *.stylå±€éƒ¨css|   |   â”œâ”€â”€ fonts      # å­—ä½“|   |   â”œâ”€â”€ images     # å›¾ç‰‡|   |   â””â”€â”€ style.styl # *.stylå¼•å…¥éœ€è¦çš„cssæºç |   â”œâ”€â”€ fancybox       # fancyboxæ•ˆæœæºç |   â””â”€â”€ js             # javascriptæºä»£ç â”œâ”€â”€ _config.yml        # ä¸»é¢˜é…ç½®æ–‡ä»¶â””â”€â”€ README.md          # ç”¨GitHubçš„éƒ½çŸ¥é“</code></pre><h4 id="layoutç›®å½•"><a href="#layoutç›®å½•" class="headerlink" title="layoutç›®å½•"></a>layoutç›®å½•</h4><p>ç›®å½•éƒ¨åˆ†</p><ul><li><code>_partial</code>ä¸»è¦ä¿®æ”¹æ–‡ä»¶</li></ul><pre><code>bg-cover-content.ejs       # ä¸»é¡µèƒŒæ™¯å›¾ç›¸å…³ï¼Œbannerå›¾åˆ‡æ¢ï¼Œæ‰“å­—æœºæ•ˆæœåŠ å­—ç­‰footer.ejs                  # é¡µè„šé…ç½®social-link.ejs            # ä¿®æ”¹ç¤¾äº¤é“¾æ¥ï¼Œå¾®ä¿¡ï¼Œqqï¼Œå¾®åšç­‰</code></pre><p>æ–‡ä»¶</p><pre><code>404.ejs                 # 404é¡µé¢about.ejs               # å…³äºæˆ‘é¡µé¢ï¼Œä¸ªäººç®€å†archive.ejscategories.ejscategory.ejscontact.ejsdouban.ejs                # è±†ç“£æ’ä»¶friends.ejsgalleries.ejs            # è‡ªå®šä¹‰ç›¸å†Œgallery.ejs                # è‡ªå®šä¹‰ç›¸å†Œindex.ejslayout.ejs                # æ¯”è¾ƒé‡è¦ï¼Œæˆ‘çš„å¤©æ°”ï¼ŒåŠ¨æ€æ ‡ç­¾ï¼Œé¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆç­‰éƒ½åœ¨è¿™å¼€å¯post.ejstag.ejstags.ejs</code></pre><blockquote><p>é‡ç‚¹æ˜¯è¿™ä¸ª<strong>layout.ejs</strong>ï¼Œå‡ ä¹æ‰€æœ‰è‡ªå®šä¹‰ç‰¹æ•ˆéƒ½åœ¨è¿™ä¸ªæ–‡ä»¶å¼€å¯</p></blockquote><h4 id="sourceç›®å½•-1"><a href="#sourceç›®å½•-1" class="headerlink" title="sourceç›®å½•"></a>sourceç›®å½•</h4><p>å­˜æ”¾ä¸»é¢˜æºç </p><pre><code>â”œâ”€â”€ css            #cssæºç  |   â”œâ”€â”€ gallery.css      # ç›¸å†Œcss|   â”œâ”€â”€ gitment.css   |   â”œâ”€â”€ matery.css          # ä¸»é¡µçš„cssç›¸å…³è°ƒæ•´ï¼Œå­—ä½“è°ƒæ•´ï¼Œä¸»é¢˜è‰²ä¿®æ”¹|   â”œâ”€â”€ my-gitalk.css      |   â””â”€â”€ my.css           # hexo-filter-github-emojisâ”œâ”€â”€ js                       # javascriptæºä»£ç ï¼Œè‡ªå®šä¹‰js|   â”œâ”€â”€ click.js          # é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ|   â”œâ”€â”€ crypto-js.js      # åŠ å¯†ç›¸å…³|   â”œâ”€â”€ cursor.js         # é›ªèŠ±èƒŒæ™¯ç‰¹æ•ˆ|   â”œâ”€â”€ fireworks.js    # é¼ æ ‡ç‚¹å‡»çƒŸèŠ±ç‰¹æ•ˆ|   â””â”€â”€ gallery-encrypt.js          # ç›¸å†ŒåŠ å¯†â”œâ”€â”€ libs         # åº“æ–‡ä»¶ï¼Œfancyboxæ•ˆæœç­‰æ’ä»¶éœ€åœ¨è¿™é‡Œæ‰“å¼€â”œâ”€â”€ medias       # ä¸»é¢˜å†…ç”¨åˆ°çš„èƒŒæ™¯å›¾ï¼Œå›¾æ ‡ï¼Œæ‰“èµå›¾ç­‰éƒ½åœ¨è¿™é‡Œâ””â”€â”€ favicon.png            # ç½‘é¡µæ ‡ç­¾å›¾</code></pre><blockquote><p><strong>js</strong>ç›®å½•æ¯”è¾ƒé‡è¦ï¼Œæ‰€æœ‰è‡ªå®šç‰¹æ•ˆï¼Œé¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆï¼ŒèƒŒæ™¯ç‰¹æ•ˆåœ¨è¿™é‡Œå®šä¹‰</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> matery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåšå®¢éƒ¨ç½²åˆ°Coding</title>
      <link href="/2020/06/20/hexo/hexo-bo-ke-bu-shu-dao-coding/"/>
      <url>/2020/06/20/hexo/hexo-bo-ke-bu-shu-dao-coding/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨ä¸Šé¢çš„æ•™ç¨‹æˆ‘ä»¬å¯ä»¥å°†åšå®¢éƒ¨ç½²åˆ°å›½å¤–Githubçš„ä»“åº“ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†åšå®¢éƒ¨ç½²åˆ°å›½å†…Codingã€Giteeä»“åº“ä¸Šï¼Œå¯ä»¥æé«˜ä¸€äº›ç½‘ç«™è®¿é—®çš„é€Ÿåº¦ï¼Œå°è‹åªä½¿ç”¨äº†Codingï¼Œè¿™é‡Œä¹Ÿä»‹ç»ä¸€ä¸‹ã€‚</p><h2 id="1-æ³¨å†ŒCoding"><a href="#1-æ³¨å†ŒCoding" class="headerlink" title="1. æ³¨å†ŒCoding"></a>1. æ³¨å†ŒCoding</h2><p>é¦–å…ˆå»å®˜ç½‘è¿›è¡Œ<a href="https://e.coding.net/signup?from=dev-tencent">æ³¨å†Œ</a>ï¼Œä¹Ÿå¯ä»¥ç”¨ç¬¬ä¸‰æ–¹å¾®ä¿¡è¿›è¡Œæ³¨å†Œã€‚</p><h2 id="2-åˆ›å»ºæ–°é¡¹ç›®"><a href="#2-åˆ›å»ºæ–°é¡¹ç›®" class="headerlink" title="2. åˆ›å»ºæ–°é¡¹ç›®"></a>2. åˆ›å»ºæ–°é¡¹ç›®</h2><p>æ³¨å†Œå®Œæˆä¹‹åå°±ä¼šè¿›å…¥ä¸»é¡µé¢ï¼Œç„¶ååˆ›å»ºæ–°é¡¹ç›®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding1.png" alt="image-20200620163359904"></p><p>å¡«å†™ä¿¡æ¯</p><blockquote><p>æ³¨æ„ï¼š</p><ul><li>ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œé¡¹ç›®åç§°ã€é¡¹ç›®æ ‡è¯†å°±å¡«è‡ªå·±çš„ç”¨æˆ·åï¼ˆå›¢é˜Ÿåï¼‰ï¼Œä¼šé¿å…å¾ˆå¤šæ­¥éª¤</li><li>å¦‚æœæ˜¯æœ‰å¤šä¸ªåšå®¢ï¼Œæƒ³å°†å…¶ä»–åšå®¢ä¹Ÿéƒ¨ç½²åˆ°codingä¸Šï¼Œé¡¹ç›®åç§°ã€é¡¹ç›®æ ‡è¯†ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰ï¼Œä¸è¿‡è¿˜éœ€è¦å…¶ä»–é…ç½®ï¼Œä¸‹é¢ä¼šæåˆ°</li></ul></blockquote><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding2.png" alt="image-20200620163544075"></p><h2 id="3-å¢åŠ å…¬é’¥"><a href="#3-å¢åŠ å…¬é’¥" class="headerlink" title="3. å¢åŠ å…¬é’¥"></a>3. å¢åŠ å…¬é’¥</h2><p>åœ¨ä¸ªäººè®¾ç½®é‡Œé¢ï¼Œç‚¹å‡»SSHå…¬é’¥ï¼Œç‚¹å‡»æ–°å¢å…¬é’¥ã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding3.png" alt="image-20200620163938095"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding4.png" alt="image-20200620164001605"></p><blockquote><p>å…¬é’¥åç§°ï¼šè‡ªå®šä¹‰<br>å…¬é’¥å†…å®¹ï¼šå¯ä»¥ä½¿ç”¨ä¹‹å‰è¿æ¥GitHubçš„å…¬é’¥ï¼Œåœ¨æœ¬åœ°çš„C:\Users\ä½ çš„ç”µè„‘è´¦æˆ·å.sshï¼Œæˆ‘çš„ä¸ºC:\Users\Administrator.sshï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€id_rsa.pubï¼Œå°†é‡Œé¢çš„å†…å®¹å¤åˆ¶ç²˜è´´åˆ°æ­¤å¤„å³å¯ã€‚<br>å…¬é’¥æœ‰æ•ˆæœŸï¼šé€‰æ‹©æ°¸ä¹…æœ‰æ•ˆ</p></blockquote><p>ç‚¹å‡»æ·»åŠ ï¼Œç„¶åå›å¼¹å‡ºä¸€ä¸ªå¯†ç æ¡†ï¼Œè¾“å…¥ä½ çš„ç”¨æˆ·å¯†ç éªŒè¯ä¸€ä¸‹å³å¯ã€‚</p><h2 id="4-è®¾ç½®ä¸»æœºä¿¡ä»»"><a href="#4-è®¾ç½®ä¸»æœºä¿¡ä»»" class="headerlink" title="4. è®¾ç½®ä¸»æœºä¿¡ä»»"></a>4. è®¾ç½®ä¸»æœºä¿¡ä»»</h2><p>æ‰“å¼€cmdæ§åˆ¶å°è¾“å…¥</p><pre><code>ssh -T git@e.coding.net</code></pre><blockquote><p>è¿™ä¸ªä»£ç ä¸éœ€è¦æ”¹åŠ¨ï¼ŒåŸå°ä¸åŠ¨è¾“å…¥å³å¯</p></blockquote><p>ç¬¬ä¸€æ¬¡å»ºç«‹è¿æ¥ä¼šè¦æ±‚ä¿¡ä»»ä¸»æœºï¼Œè¾“å…¥ç›¸å…³çš„ç”¨æˆ·åæˆ–è€…å¯†ç ï¼Œåœ¨æ§åˆ¶å°è¾“å…¥éªŒè¯ï¼ŒéªŒè¯æˆåŠŸå³å¯ã€‚</p><blockquote><p>æ³¨æ„ï¼š</p><ul><li>ç”¨æˆ·åå’Œå¯†ç æ˜¯ä½ åˆ›å»ºCodingç”¨æˆ·çš„æ—¶å€™è¾“å…¥çš„</li></ul><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding5.png" alt="image-20200620164413966"></p><ul><li>å¦‚æœä½ è¾“å…¥é”™è¯¯ï¼Œä¹‹åä¼šå‡ºç°<code>Authentication failed</code>çš„é”™è¯¯</li><li>win10çš„è§£å†³æ–¹æ³•ï¼š</li><li>æ§åˆ¶é¢æ¿ â€“&gt;å‡­æ®ç®¡ç†å™¨</li><li>æ‰¾åˆ°è¦ä¿®æ”¹çš„é‚£æ¡, ç¼–è¾‘æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå†æ¬¡å°è¯•å³å¯</li></ul><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding6.png" alt="image-20200620164903120"></p></blockquote><h2 id="5-ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#5-ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="5. ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>5. ä¿®æ”¹é…ç½®æ–‡ä»¶</h2><p>å¤åˆ¶ä½ çš„é¡¹ç›®åœ°å€ï¼Œç²˜è´´åˆ°<strong>ç«™ç‚¹</strong>é…ç½®æ–‡ä»¶_config.ymlï¼Œæœç´¢<code>deploy</code>ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding7.png" alt="image-20200620165115645"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding8.png" alt="image-20200620165350936"></p><h2 id="6-éƒ¨ç½²é¡¹ç›®"><a href="#6-éƒ¨ç½²é¡¹ç›®" class="headerlink" title="6. éƒ¨ç½²é¡¹ç›®"></a>6. éƒ¨ç½²é¡¹ç›®</h2><p>æ‰§è¡Œ<code>hexo clean &amp;&amp; hexo g -d</code>éƒ¨ç½²åˆ°codingï¼Œä½ ä¼šå‘ç°ä»£ç ä»“åº“å‡ºç°äº†å¾ˆå¤šæ–‡ä»¶</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding9.png" alt="image-20200620165603076"></p><p>æ‰“å¼€ä½ çš„codingé¡¹ç›®ç®¡ç†é¡µï¼Œè¿›è¡Œé™æ€ç½‘ç«™æ„å»ºï¼Œé¡µé¢å¦‚ä¸‹ï¼ŒæŒ‰å›¾ä¸­æ­¥éª¤æ“ä½œå³å¯ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding10.png" alt="image-20200620165734561"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding11.png" alt="image-20200620165800376"></p><p>æ¥ç€ä¼šè®©ä½ éªŒè¯ä¸ªäººä¿¡æ¯ï¼Œè·Ÿç€éªŒè¯å³å¯</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/codng12.png" alt="image-20200620170007413"></p><p>éªŒè¯ä¹‹åç»§ç»­ä¸Šé¢çš„æ­¥éª¤</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding13.png" alt="image-20200620170218940"></p><p>ä¿å­˜ä¹‹åï¼Œç‚¹å‡»ç«‹å³éƒ¨ç½²ï¼Œç­‰å¾…ä¸€ä¼šæ ‡è¯†æ˜¾ç¤ºä¸ºç»¿è‰²å³éƒ¨ç½²æˆåŠŸï¼Œç‚¹å‡»ä¸Šé¢çš„ç½‘å€æŸ¥çœ‹ä¸€ä¸‹ï¼Œä»¥ååœ¨codingä»“åº“è®¿é—®å°±æ˜¯è¿™ä¸ªç½‘å€</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/coding14.png" alt="image-20200620170446083"></p><p>å¤§åŠŸå‘Šæˆï¼ä¹‹åä½¿ç”¨<code>hexo d</code> å°±ä¼šåŒæ—¶éƒ¨ç½²Githubå’Œcodingä¸¤ä¸ªä»“åº“ã€‚</p><h2 id="éƒ¨ç½²gitee"><a href="#éƒ¨ç½²gitee" class="headerlink" title="éƒ¨ç½²gitee"></a>éƒ¨ç½²gitee</h2><blockquote><p>å› ä¸ºcodingçš„é™æ€ç½‘ç«™æœåŠ¡å·²ä¸‹çº¿ï¼Œæ”¹ç”¨Giteeï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹</p></blockquote><h3 id="Gitee"><a href="#Gitee" class="headerlink" title="Gitee"></a>Gitee</h3><p>åˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œè®¾ç½®ä¸ºå…¬å¼€æˆ–ç§æœ‰éƒ½å¯ä»¥ã€‚<br>ä»“åº“åå¦‚æœè®¾ç½®æˆå’Œä¸ªäººç©ºé—´åœ°å€ä¸€æ ·ï¼Œé‚£ä¹ˆè®¿é—®åœ°å€å°±æ˜¯ï¼š &lt;ä¸ªäººç©ºé—´åœ°å€å&gt;.gitee.io<br>ä¸ªäººç©ºé—´åœ°å€å¯åœ¨ä¸ªäººèµ„æ–™ä¸­æŸ¥çœ‹ã€‚æˆ‘çš„ä¸ªäººç©ºé—´åœ°å€æ˜¯sq666ï¼Œé‚£ä¹ˆæˆ‘çš„åšå®¢åœ°å€å°±æ˜¯ï¼šsq666.gitee.ioã€‚ä»“åº“åå¦‚æœè®¾ç½®æˆåˆ«çš„ï¼Œé‚£ä¹ˆè®¿é—®åœ°å€åˆ™æ˜¯ï¼š&lt;ä¸ªäººç©ºé—´åœ°å€å&gt;.gitee.io/ä»“åº“å<br>ä¾‹å¦‚æˆ‘æŠŠä»“åº“åè®¾ç½®ä¸ºmyblogï¼Œé‚£ä¹ˆæˆ‘çš„åšå®¢è®¿é—®åœ°å€å°±æ˜¯ï¼šsq666.gitee.io/myblog<br>åˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¯¥ä»“åº“é¡µé¢ä¸­ ç‚¹å‡»â€œæœåŠ¡â€ &gt; Gitee Pages &gt; å‹¾é€‰â€œå¼ºåˆ¶ä½¿ç”¨HTTPSâ€ &gt; ç‚¹å‡»â€œå¯åŠ¨â€å³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> matery </tag>
            
            <tag> Coding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>materyä¸»é¢˜+Valineè¯„è®ºç³»ç»Ÿ</title>
      <link href="/2020/06/19/hexo/matery-zhu-ti-valine-ping-lun-xi-tong/"/>
      <url>/2020/06/19/hexo/matery-zhu-ti-valine-ping-lun-xi-tong/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è¿™æ˜¯<a href="https://valine.js.org/">Valineå®˜æ–¹æ–‡æ¡£</a></p><p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://yafine-blog.cn/posts/4ab2.html">åŠ±å¿ƒå¤§ä½¬</a></p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å…³äºmateryä¸»é¢˜å¯ä»¥æ­å»ºå¾ˆå¤šä¸åŒçš„è¯„è®ºç³»ç»Ÿï¼Œæœ‰æ¥å¿…åŠ›ã€Valineã€Gitalkã€Disqusï¼Œæ ¹æ®åˆ†æé€‰æ‹©äº†Valineï¼Œå› ä¸ºå¾ˆå–œæ¬¢å®ƒå¼ºå¤§çš„äººæ€§åŒ–åŠŸèƒ½ï¼Œå¦‚ï¼šè¾“å…¥æ˜µç§°å°±å¯ä»¥è·å–åˆ°qqé‚®ç®±å³å¤´åƒï¼Œä¸ªäººå¾ˆå–œæ¬¢ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œä¹Ÿå¾ˆæ¨èå¤§å®¶ä½¿ç”¨ã€‚</p><h1 id="å¼€å§‹æ•™ç¨‹"><a href="#å¼€å§‹æ•™ç¨‹" class="headerlink" title="å¼€å§‹æ•™ç¨‹"></a>å¼€å§‹æ•™ç¨‹</h1><h2 id="1-æ³¨å†ŒLeanCloud"><a href="#1-æ³¨å†ŒLeanCloud" class="headerlink" title="1. æ³¨å†ŒLeanCloud"></a>1. æ³¨å†ŒLeanCloud</h2><blockquote><p>è¿™ç›¸å½“äºä¸€ä¸ªæ“ä½œè¯„è®ºçš„åå°ï¼Œä»¥åæƒ³è¦å¯¹è¯„è®ºè¿›è¡Œç®¡ç†åˆ é™¤ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ“ä½œ</p></blockquote><ol><li><p>å¦‚æœæ²¡æœ‰æ³¨å†Œè¿‡LeanCloudï¼Œè¯·<a href="https://leancloud.cn/dashboard/login.html#/signup">ç‚¹å‡»æ³¨å†Œ</a></p><ul><li>æ³¨å†Œä¼šæœ‰äº›éº»çƒ¦ï¼Œéœ€è¦ä¸ªäººèº«ä»½è®¤è¯ï¼Œä¸è¿‡æ²¡æœ‰ä»€ä¹ˆçœ‹ä¸æ‡‚çš„ï¼Œè¿™é‡Œå°±è·³è¿‡æ³¨å†Œæ•™ç¨‹    </li></ul><p>ç»è¿‡ç™»å½•æˆ–è€…æ³¨å†Œä¹‹åå†ç™»å½•ï¼Œå°±ä¼šè¿›å…¥å¦‚ä¸‹çš„é¡µé¢ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-7.png" alt="image-20200619205625231"></p><p>åˆ›å»ºåº”ç”¨å®Œæˆåï¼Œä¼šå‡ºç°å¦‚ä¸‹é¡µé¢ï¼Œç„¶åç‚¹å‡»è®¾ç½®</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-8.png" alt="image-20200619205703150"></p><p>ä¼šå‡ºç°ä¸‹é¢çš„é¡µé¢ï¼Œå°†å…¶ä¸­APPIDå’ŒAPPKeyå¤åˆ¶ï¼Œæ·»åŠ åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-9.png" alt="image-20200619205755541"></p><pre><code># Valine è¯„è®ºæ¨¡å—çš„é…ç½®ï¼Œé»˜è®¤ä¸ºä¸æ¿€æ´»ï¼Œå¦‚è¦ä½¿ç”¨ï¼Œå°±è¯·æ¿€æ´»è¯¥é…ç½®é¡¹ï¼Œå¹¶è®¾ç½® appId å’Œ appKey.valine:  enable: true   appId: #ä½ çš„id  appKey: #ä½ çš„Key  pageSize: 10   avatar: monsterid   lang: zh-CN   placeholder: æ˜µç§°å¡«å†™qqå¯ä»¥æ˜¾ç¤ºqqå¤´åƒå’Œæ˜µç§°å“¦~   guest_info: nick,mail,link   recordIP: true   serverURLs: ''   background: /medias/comment_bg.png   count: true </code></pre><blockquote><p>å±æ€§ä»‹ç»ï¼š</p><p>pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</p><p>avatarï¼šé»˜è®¤çš„å¤´åƒ mm/identicon/monsterid/wavatar/retro/hide</p><p>langï¼šè¯­è¨€</p><p>placeholderï¼šæç¤ºä¿¡æ¯</p><p>backgroundï¼šèƒŒæ™¯å›¾ç‰‡</p></blockquote><p>ç„¶åæ‰§è¡Œç›¸å…³éƒ¨ç½²å‘½ä»¤ï¼ŒæŸ¥çœ‹æ•ˆæœå³å¯ï¼Œæ­¤æ—¶ç®€å•çš„è¯„è®ºåŠŸèƒ½å·²ç»è¾¾æˆã€‚</p></li></ol><h2 id="2-åˆ é™¤è¯„è®º"><a href="#2-åˆ é™¤è¯„è®º" class="headerlink" title="2. åˆ é™¤è¯„è®º"></a>2. åˆ é™¤è¯„è®º</h2><ol><li><p>è¿›å…¥LeanCloudåº”ç”¨è®¾ç½®</p><p><a href="https://leancloud.cn/dashboard/applist.html">https://leancloud.cn/dashboard/applist.html</a></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-10.png" alt="image-20200619210257494"></p></li><li><p>åœ¨è®¾ç½®ç•Œé¢ç‚¹å‡»å­˜å‚¨â†’ç»“æ„åŒ–æ•°æ®â†’Commentâ†’é€‰ä¸­è¦æ“ä½œçš„æ¶ˆæ¯â†’åˆ é™¤</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-11.png" alt="image-20200619210558629"></p></li></ol><h2 id="3-Valineå¢å¼º"><a href="#3-Valineå¢å¼º" class="headerlink" title="3. Valineå¢å¼º"></a>3. Valineå¢å¼º</h2><blockquote><p>å¯ä»¥ç»™Valineè¯„è®ºç³»ç»Ÿå¢å¼ºä¸€äº›åŠŸèƒ½</p><p>æç¤ºï¼šè¯¥å¢å¼ºå¿…é¡»æ˜¯Valineçš„æœ€æ–°ç‰ˆï¼Œå½“å‰ç‰ˆæœ¬ï¼š1.4.14</p></blockquote><h3 id="3-1-ä¿®æ”¹Valineç‰ˆæœ¬"><a href="#3-1-ä¿®æ”¹Valineç‰ˆæœ¬" class="headerlink" title="3.1 ä¿®æ”¹Valineç‰ˆæœ¬"></a>3.1 ä¿®æ”¹Valineç‰ˆæœ¬</h3><p>materyä¸»é¢˜ä¿®æ”¹æœ€æ–°ç‰ˆæœ¬å¾ˆç®€å•ï¼Œä¸åŒä¸»é¢˜ä¿®æ”¹çš„æ–¹å¼ä¸åŒï¼Œè¿™é‡Œåªä»‹ç»å…³äºmateryçš„ä¿®æ”¹æ–¹å¼</p><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlä¸­æ‰¾åˆ°<code>libs:</code>ï¼Œ<code>libs:</code>ä¸‹çš„jsé‡Œæœ‰ä¸ªvalineï¼Œå°†å…¶è®¾ç½®ä¸º<code>https://unpkg.com/valine/dist/Valine.min.js</code>ï¼Œæ³¨æ„ä¸­é—´çš„ç©ºæ ¼ï¼Œå³ï¼š</p><pre><code>    valine: https://unpkg.com/valine/dist/Valine.min.js</code></pre><h3 id="3-2-å¢åŠ åŠŸèƒ½"><a href="#3-2-å¢åŠ åŠŸèƒ½" class="headerlink" title="3.2 å¢åŠ åŠŸèƒ½"></a>3.2 å¢åŠ åŠŸèƒ½</h3><ul><li><p>åŒæ¬¾è¡¨æƒ…åŒ…</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-12.png" alt="image-20200619212958054"></p></li><li><p>æ˜µç§°è¾“å…¥qqå·ä¼šè‡ªåŠ¨è·å–qqæ˜µç§°å’Œqqé‚®ç®±</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-13.png" alt="image-20200619213101621"></p></li><li><p>åç§°å’Œé‚®ç®±å¿…å¡«</p></li></ul><p>åœ¨<code>themes\matery\layout\_partial</code>ä¸­æ‰¾åˆ°<code>valine.ejs</code>ï¼Œæ‰¾åˆ°å…¶ä¸­çš„<code>new Valine</code>ï¼Œå¤§æ¦‚åœ¨249è¡Œï¼Œä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š</p><pre><code>new Valine({        el: '#vcomments',        appId: '&lt;%- theme.valine.appId %&gt;',        appKey: '&lt;%- theme.valine.appKey %&gt;',        notify: '&lt;%- theme.valine.notify %&gt;' === 'true',        verify: '&lt;%- theme.valine.verify %&gt;' === 'true',        visitor: '&lt;%- theme.valine.visitor %&gt;' === 'true',        avatar: '&lt;%- theme.valine.avatar %&gt;',        pageSize: '&lt;%- theme.valine.pageSize %&gt;',        lang: '&lt;% if (config.language == "zh-CN") {  %&gt;zh-cn&lt;% } else { %&gt;en&lt;% } %&gt;',        placeholder: '&lt;%= theme.valine.placeholder %&gt;',        enableQQ: true,        emojiCDN: '//i0.hdslb.com/bfs/emote/',         // è¡¨æƒ…titleå’Œå›¾ç‰‡æ˜ å°„        emojiMaps: {        "tv_doge": "6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png",        "tv_äº²äº²": "a8111ad55953ef5e3be3327ef94eb4a39d535d06.png",        "tv_å·ç¬‘": "bb690d4107620f1c15cff29509db529a73aee261.png",        "tv_å†è§": "180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png",        "tv_å†·æ¼ ": "b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png",        "tv_å‘æ€’": "34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png",        "tv_å‘è´¢": "34db290afd2963723c6eb3c4560667db7253a21a.png",        "tv_å¯çˆ±": "9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png",        "tv_åè¡€": "09dd16a7aa59b77baa1155d47484409624470c77.png",        "tv_å‘†": "fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png",        "tv_å‘•å": "9f996894a39e282ccf5e66856af49483f81870f3.png",        "tv_å›°": "241ee304e44c0af029adceb294399391e4737ef2.png",        "tv_åç¬‘": "1f0b87f731a671079842116e0991c91c2c88645a.png",        "tv_å¤§ä½¬": "093c1e2c490161aca397afc45573c877cdead616.png",        "tv_å¤§å“­": "23269aeb35f99daee28dda129676f6e9ea87934f.png",        "tv_å§”å±ˆ": "d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png",        "tv_å®³ç¾": "a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png",        "tv_å°´å°¬": "7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png",        "tv_å¾®ç¬‘": "70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png",        "tv_æ€è€ƒ": "90cf159733e558137ed20aa04d09964436f618a1.png",        "tv_æƒŠå“": "0d15c7e2ee58e935adc6a7193ee042388adc22af.png",        "tv_æ‰“è„¸": "56ab10b624063e966bfcb76ea5dc4794d87dfd47.png",        "tv_æŠ“ç‹‚": "fe31c08edad661d63762b04e17b8d5ae3c71a757.png",        "tv_æŠ é¼»": "c666f55e88d471e51bbd9fab9bb308110824a6eb.png",        "tv_æ–œçœ¼ç¬‘": "911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png",        "tv_æ— å¥ˆ": "ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png",        "tv_æ™•": "5443c22b4d07fb1907ccc610c8e6db254f2461b7.png",        "tv_æµæ±—": "cead1c351ab8d79e9f369605beb90148db0fbed3.png",        "tv_æµæ³ª": "7e71cde7858f0cd50d74b0264aa26db612a8a167.png",        "tv_æµé¼»è¡€": "c32d39db2737f89b904ca32700d140a9241b0767.png",        "tv_ç‚¹èµ": "f85c354995bd99e28fc76c869bfe42ba6438eff4.png",        "tv_ç”Ÿæ°”": "26702dcafdab5e8225b43ffd23c94ac1ff932654.png",        "tv_ç”Ÿç—…": "8b0ec90e6b86771092a498c54f09fc94621c1900.png",        "tv_ç–‘é—®": "0793d949b18d7be716078349c202c15ff166f314.png",        "tv_ç™½çœ¼": "c1d59f439e379ee50eef488bcb5e5378e5044ea4.png",        "tv_çš±çœ‰": "72ccad6679fea0d14cce648b4d818e09b8ffea2d.png",        "tv_ç›®çªå£å‘†": "0b8cb81a68de5d5365212c99375e7ace3e7891b7.png",        "tv_ç¡ç€": "8b196675b53af58264f383c50ad0945048290b33.png",        "tv_ç¬‘å“­": "1abc628f6d4f4caf9d0e7800878f4697abbc8273.png",        "tv_è…¼è…†": "89712c0d4af73e67f89e35cbc518420380a7f6f4.png",        "tv_è‰²": "61822c7e9aae5da76475e7892534545336b23a6f.png",        "tv_è°ƒä¾ƒ": "4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png",        "tv_è°ƒçš®": "b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png",        "tv_é„™è§†": "6e72339f346a692a495b123174b49e4e8e781303.png",        "tv_é—­å˜´": "c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png",        "tv_éš¾è¿‡": "87f46748d3f142ebc6586ff58860d0e2fc8263ba.png",        "tv_é¦‹": "fc7e829b845c43c623c8b490ee3602b7f0e76a31.png",        "tv_é¬¼è„¸": "0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png",        "tv_é»‘äººé—®å·": "45821a01f51bc867da9edbaa2e070410819a95b2.png",        "tv_é¼“æŒ": "1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png"            // ... æ›´å¤šè¡¨æƒ…        },        requiredFields: ['nick','mail'], //è®¾ç½®å¿…å¡«é¡¹    });</code></pre><p>å¤§åŠŸå‘Šæˆï¼Œé‡æ–°éƒ¨ç½²æŸ¥çœ‹æ•ˆæœ</p><pre><code>hexo cl &amp; hexo g &amp; hexo s</code></pre><blockquote><p>æ­¤å¤„çš„å‡ ä¸ªå‘ï¼š</p><ol><li>è¿™é‡Œå¾ˆå®¹æ˜“å°±å‡ºé”™ï¼Œä¸€å®šè¦æ³¨æ„å¤åˆ¶ç²˜è´´çš„ä½ç½®</li><li>å¦‚æœæ²¡æœ‰æ•ˆæœï¼Œæ£€æŸ¥ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­valineçš„idå’Œkeyæ˜¯å¦æ­£ç¡®ï¼Œç©ºæ ¼æ˜¯å¦åŠ ä¸Š</li><li>å¦‚æœè¿˜ä¸è¡Œå°±ä¸€å®šå’Œæˆ‘ä¿æŒä¸€è‡´ï¼ˆå½“ç„¶Idå’Œkeyæ˜¯ä½ çš„ï¼‰ï¼Œé€ä¸ªå¢åŠ åŠŸèƒ½å†å°è¯•</li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> matery </tag>
            
            <tag> Valine </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+githubæ­å»ºmateryåšå®¢äºŒï¼ˆä¸»é¢˜é…ç½®ç¯‡ï¼‰</title>
      <link href="/2020/06/18/hexo/hexo-github-da-jian-matery-bo-ke-er-zhu-ti-pei-zhi-pian/"/>
      <url>/2020/06/18/hexo/hexo-github-da-jian-matery-bo-ke-er-zhu-ti-pei-zhi-pian/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡å‚è€ƒ<a href="https://yafine-blog.cn/posts/4ab2.html">è¿‡å®¢~åŠ±ã‚€</a>ï¼Œä»‹ç»æ­å»ºä¸€ä¸ªé™æ€åšå®¢ç½‘ç«™çš„å…¨è¿‡ç¨‹</p><p>æœ¬æ¬¡ä¸»è¦è®°å½•å…³äºmateryä¸»é¢˜çš„é…ç½®å’Œé‡åˆ°çš„å‘</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å°è‹åœ¨å¶ç„¶é—´Bç«™ä¸­çœ‹åˆ°CodeSheepä»‹ç»çš„Hexoæ­å»ºä¸ªäººåšå®¢ï¼Œæœ¬èº«ä¹Ÿå¾ˆæƒ³æ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ç½‘ç«™ï¼Œè™½ç„¶å°è‹æ˜¯ä¸€ä¸ªä¸»Javaåç«¯çš„å­¦ä¹ è€…ï¼Œä½†æ˜¯ä¸å½±å“å¯¹æ­å»ºé™æ€åšå®¢çš„çƒ­æƒ…ï¼äºæ˜¯åœ¨è¯„è®ºè§çœ‹åˆ°äº†åŠ±å¿ƒå¤§ä½¬ç»†è‡´å…¥å¾®çš„æ­å»ºå…¨è¿‡ç¨‹ï¼Œäºæ˜¯å¼€å§‹äº†ä»é›¶ğŸ‘‰äº†è§£ğŸ‘‰å®è·µğŸ‘‰è¸©å‘ğŸ‘‰å®Œæˆçš„å…¨è¿‡ç¨‹ã€‚</p><p>æœŸé—´è¸©è¿‡å¤šå°‘å‘ï¼Œåˆè§£å†³äº†å¤šå°‘ä¸ªé—®é¢˜ï¼Œåœ¨æœŸé—´å®Œå…¨ä¸æ•¢ç›¸ä¿¡è‡ªå·±èƒ½æ­å»ºå®Œæˆï¼Œç°åœ¨å°±èŠ±ä¸Šä¸€äº›æ—¶é—´ï¼Œå°†è¿™ä¸ªè¿‡ç¨‹è®°å½•ä¸‹æ¥ï¼Œè®°å½•è‡ªå·±è¸©å‘ç»å†ï¼Œæœ€åï¼Œå†æ¬¡æ„Ÿè°¢<a href="https://yafine-blog.cn/">è¿‡å®¢~åŠ±ã‚€</a>å¤§ä½¬çš„æ–‡ç« ï¼Œå¸¦æˆ‘å±•å¼€äº†æ–°çŸ¥è¯†çš„ä¸€é¡µã€‚</p><h1 id="é­”æ”¹è®°å½•"><a href="#é­”æ”¹è®°å½•" class="headerlink" title="é­”æ”¹è®°å½•"></a>é­”æ”¹è®°å½•</h1><h2 id="å¢åŠ åŠŸèƒ½"><a href="#å¢åŠ åŠŸèƒ½" class="headerlink" title="å¢åŠ åŠŸèƒ½"></a>å¢åŠ åŠŸèƒ½</h2><ul><li><input checked="" disabled="" type="checkbox"> å¢åŠ æ ‡ç­¾ã€åˆ†ç±»ã€å½’æ¡£ã€å…³äºæˆ‘ã€ç•™è¨€æ¿ã€å‹æƒ…é“¾æ¥ã€çˆ±å¥½ï¼ˆäºŒçº§å¯¼èˆªï¼‰é¡µé¢</li><li><input checked="" disabled="" type="checkbox"> å¢åŠ ç•ªå‰§ã€éŸ³ä¹é¡µé¢</li><li><input checked="" disabled="" type="checkbox"> å¢åŠ ç›¸å†Œé¡µé¢</li><li><input checked="" disabled="" type="checkbox"> å¢åŠ emojiè¡¨æƒ…æ”¯æŒ</li><li><input checked="" disabled="" type="checkbox"> ä»£ç é«˜äº®</li><li><input checked="" disabled="" type="checkbox"> æœç´¢åŠŸèƒ½</li><li><input checked="" disabled="" type="checkbox"> ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³</li><li><input checked="" disabled="" type="checkbox"> æ–‡ç« å­—æ•°ç»Ÿè®¡</li><li><input checked="" disabled="" type="checkbox"> éŸ³ä¹æ’­æ”¾å™¨</li><li><input checked="" disabled="" type="checkbox"> å…³äºæˆ‘é¡µé¢æ·»åŠ ä¸ªäººç®€å†</li><li><input checked="" disabled="" type="checkbox"> æ·»åŠ 404é¡µé¢</li><li><input checked="" disabled="" type="checkbox"> æ·»åŠ Valineè¯„è®ºç³»ç»Ÿ</li><li><input checked="" disabled="" type="checkbox"> å¢åŠ å…¬å‘Š(dreamä¸€æ )é‡Œçš„æ¯æ—¥ä¸€å¥</li></ul><h2 id="è§†è§‰ç¾åŒ–"><a href="#è§†è§‰ç¾åŒ–" class="headerlink" title="è§†è§‰ç¾åŒ–"></a>è§†è§‰ç¾åŒ–</h2><ul><li><input checked="" disabled="" type="checkbox"> ä¸»é¢˜èƒŒæ™¯é¢œè‰²</li><li><input checked="" disabled="" type="checkbox"> ä¿®æ”¹ banner å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾</li><li><input checked="" disabled="" type="checkbox"> ä¿®æ”¹é¡µè„šã€è·³åŠ¨çº¢å¿ƒ</li><li><input checked="" disabled="" type="checkbox"> ä¿®æ”¹æ‰“èµäºŒç»´ç </li><li><input checked="" disabled="" type="checkbox"> ä¿®æ”¹ç¤¾äº¤é“¾æ¥</li><li><input checked="" disabled="" type="checkbox"> åŠ¨æ€æ ‡é¢˜</li><li><input checked="" disabled="" type="checkbox"> å¯¼èˆªæ é¢œè‰²ä»¥åŠé€æ˜æ•ˆæœ</li><li><input checked="" disabled="" type="checkbox"> é¼ æ ‡ç‚¹å‡»æ–‡å­—ã€çº¢å¿ƒç‰¹æ•ˆ</li><li><input checked="" disabled="" type="checkbox"> æ·»åŠ åŠ¨æ€ç§‘æŠ€çº¿æ¡èƒŒæ™¯</li><li><input checked="" disabled="" type="checkbox"> æ·»åŠ æ¨±èŠ±é£˜è½æ•ˆæœ</li><li><input checked="" disabled="" type="checkbox"> å¢åŠ åŠ¨æ€å½©å¸¦æ•ˆæœ</li><li><input checked="" disabled="" type="checkbox"> é¡µé¢è·å–æ ‡é¢˜</li><li><input checked="" disabled="" type="checkbox"> æ‰“å­—æœºæ•ˆæœ</li><li><input checked="" disabled="" type="checkbox"> ä¿®æ”¹å…¨å±€å­—ä½“</li><li><input checked="" disabled="" type="checkbox"> è‡ªå®šä¹‰é¼ æ ‡æ ·å¼</li></ul><h2 id="åšå®¢ä¼˜åŒ–"><a href="#åšå®¢ä¼˜åŒ–" class="headerlink" title="åšå®¢ä¼˜åŒ–"></a>åšå®¢ä¼˜åŒ–</h2><ul><li><input checked="" disabled="" type="checkbox"> gulpä»£ç å‹ç¼©</li><li><input checked="" disabled="" type="checkbox"> CDNåŠ é€Ÿ</li><li><input checked="" disabled="" type="checkbox"> æ‰“é€ å›¾åºŠ</li><li><input checked="" disabled="" type="checkbox"> éƒ¨ç½²åˆ°Coding</li><li><input checked="" disabled="" type="checkbox"> æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€æœ¬åœ°Markdownç¼–è¾‘å™¨</li></ul><h2 id="ä¸»é¢˜ä¸‹è½½ä¸å®‰è£…"><a href="#ä¸»é¢˜ä¸‹è½½ä¸å®‰è£…" class="headerlink" title="ä¸»é¢˜ä¸‹è½½ä¸å®‰è£…"></a>ä¸»é¢˜ä¸‹è½½ä¸å®‰è£…</h2><blockquote><p>è¯´æ˜ï¼šåœ¨ä¹‹åæåˆ°çš„ç«™ç‚¹ç›®å½•å³æ ¹æ–‡ä»¶å¤¹ï¼Œä¸»é¢˜ç›®å½•å°±æ˜¯ä¸»é¢˜æ–‡ä»¶å¤¹ï¼ŒåŒç†ï¼Œç«™ç‚¹é…ç½®æ–‡ä»¶å°±æ˜¯æ ¹æ–‡ä»¶å¤¹çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æˆ‘çš„ï¼š<code>E:\blog\_config.yml</code>ï¼Œä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š<code> E:\blog\themes\matery\_config.yml</code></p></blockquote><ol><li>åœ¨ä½ çš„ç›®å½•æ–‡ä»¶å¤¹ä¸‹ä½¿ç”¨ git clone å‘½ä»¤æ¥ä¸‹è½½ï¼šç›´æ¥åœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå³å¯è¿›è¡Œä¸»é¢˜çš„ä¸‹è½½ï¼Œä¸»é¢˜æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œç¨³å®šç‰ˆæœ¬å’Œæœ€æ–°ç‰ˆæœ¬(ä¸å®šæœŸæ›´æ–°ä¼˜åŒ–)ï¼Œè‡ªä¸»é€‰æ‹©ç‰ˆæœ¬ï¼Œæœ¬æ–‡ä½¿ç”¨çš„æ˜¯ç¨³å®šç‰ˆã€‚</li></ol><pre><code># æ¥è‡ªåŠ±å¿ƒå¤§ä½¬çš„é“¾æ¥git clone https://gitee.com/yafine66/hexo-theme-matery themes/matery     # ç¨³å®šç‰ˆgit clone -b develop https://gitee.com/yafine66/hexo-theme-matery themes/matery   #æœ€æ–°ç‰ˆ(ä¸å®šæœŸè¿›è¡Œä¼˜åŒ–æ›´æ–°)</code></pre><ol start="2"><li><p>åˆ‡æ¢ä¸»é¢˜ï¼š</p><p>å°†ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­çš„<code>theme</code>å€¼ä¿®æ”¹ä¸ºä½ ä¸‹è½½ä¸»é¢˜çš„æ–‡ä»¶åï¼Œæ­¤å¤„ä¸º<code>matery</code>ï¼Œå³<code>theme: matery</code>ã€‚</p><p>è¿˜éœ€è¦ä¿®æ”¹çš„ä¸€äº›é…ç½®ï¼š</p><ul><li><p>è¯­è¨€é€‰æ‹©ï¼šå¦‚æœä¸ºä¸­æ–‡ç”¨æˆ·ï¼Œåˆ™åœ¨language:åæ·»åŠ å€¼zh-CNï¼Œå¦‚æœä¸ä¿®æ”¹ï¼Œé»˜è®¤ä¸ºè‹±è¯­ï¼›</p></li><li><p>ç½‘å€ä¿®æ”¹ï¼šurl:çš„å€¼ä¸ºä½ çš„ç½‘å€åï¼Œå¦‚<a href="http://xxxx.github.io;/">http://xxxx.github.ioï¼›</a></p></li><li><p>ç«™ç‚¹é…ç½®æ–‡ä»¶æœ‰ä¸ªper_pageå±æ€§ï¼Œå»ºè®®ä¿®æ”¹ä¸º6çš„å€æ•°ï¼Œè¿™æ ·ç½‘ç«™åœ¨é€‚åº”è®¾å¤‡æ—¶ï¼Œæœ‰è¾ƒå¥½çš„æ˜¾ç¤ºæ•ˆæœã€‚</p></li></ul></li></ol><h2 id="1-å¢åŠ åŠŸèƒ½"><a href="#1-å¢åŠ åŠŸèƒ½" class="headerlink" title="1.å¢åŠ åŠŸèƒ½"></a>1.å¢åŠ åŠŸèƒ½</h2><h3 id="1-1-å¢åŠ é¡µé¢"><a href="#1-1-å¢åŠ é¡µé¢" class="headerlink" title="1.1 å¢åŠ é¡µé¢"></a>1.1 å¢åŠ é¡µé¢</h3><blockquote><p>å¢åŠ é¡µé¢çš„æ­¥éª¤éƒ½åŸºæœ¬ç›¸åŒï¼Œåˆ›å»º<code>tags</code>æ ‡ç­¾é¡µã€<code>categories</code>åˆ†ç±»é¡µï¼Œ<code>about</code>å…³äºæˆ‘é¡µã€<code> contact</code>ç•™è¨€æ¿é¡µã€<code>friends</code>å‹æƒ…é“¾æ¥é¡µã€å‡å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ­¥éª¤</p></blockquote><ol><li><p>å¦‚æœåœ¨ä½ çš„åšå®¢ source ç›®å½•ä¸‹è¿˜æ²¡æœ‰ï¼Œå°±è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ˆç«™ç‚¹ç›®å½•æ‰“å¼€çš„å‘½ä»¤è¡Œï¼‰æ¥æ–°å»ºä¸€ä¸ªï¼š</p><pre><code>hexo new page "é¡µé¢çš„è‹±æ–‡"     # å¦‚ï¼šhexo new page "tags"</code></pre></li><li><p>ç¼–è¾‘ä½ åˆšåˆšæ–°å»ºçš„é¡µé¢æ–‡ä»¶ /source/tags/index.mdï¼Œè‡³å°‘éœ€è¦ä»¥ä¸‹å†…å®¹ï¼š</p><pre><code>---title: tagsdate: 2020-06-19 16:23:38type: "é¡µé¢çš„è‹±æ–‡"    # å¦‚ï¼štype: "tags"layout: "é¡µé¢çš„è‹±æ–‡" # å¦‚ï¼šlayout: "tags"---</code></pre><blockquote><p>å…³äº<code> contact</code>ç•™è¨€æ¿é¡µï¼š</p><p>ç•™è¨€æ¿åŠŸèƒ½ä¾èµ–äºç¬¬ä¸‰æ–¹è¯„è®ºç³»ç»Ÿï¼Œæ¿€æ´»è¯„è®ºç³»ç»Ÿæ‰æœ‰æ•ˆæœï¼Œä¸‹é¢ä¼šæœ‰ä»‹ç»</p><p>å…³äº<code>friends</code>å‹æƒ…é“¾æ¥é¡µï¼š</p><p>å¦‚æœä½ æƒ³å¢åŠ å†…å®¹ï¼Œåœ¨ä½ çš„åšå®¢ source ç›®å½•ä¸‹æ–°å»º _data ç›®å½•ï¼Œåœ¨ _data ç›®å½•ä¸­æ–°å»º friends.json æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p></blockquote><pre><code>[{    "avatar": "http://image.luokangyuan.com/1_qq_27922023.jpg",    "name": "ç é…±",    "introduction": "æˆ‘ä¸æ˜¯å¤§ä½¬ï¼Œåªæ˜¯åœ¨è¿½å¯»å¤§ä½¬çš„è„šæ­¥",    "url": "http://luokangyuan.com/",    "title": "å‰å»å­¦ä¹ "}, {    "avatar": "http://image.luokangyuan.com/4027734.jpeg",    "name": "é—ªçƒä¹‹ç‹",    "introduction": "ç¼–ç¨‹ç•Œå¤§ä½¬ï¼ŒæŠ€æœ¯ç‰›ï¼Œäººè¿˜ç‰¹åˆ«å¥½ï¼Œä¸æ‡‚çš„éƒ½å¯ä»¥è¯·æ•™å¤§ä½¬",    "url": "https://blinkfox.github.io/",    "title": "å‰å»å­¦ä¹ "}, {    "avatar": "http://image.luokangyuan.com/avatar.jpg",    "name": "ja_rome",    "introduction": "å¹³å‡¡çš„è„šæ­¥ä¹Ÿå¯ä»¥èµ°å‡ºä¼Ÿå¤§çš„è¡Œç¨‹",    "url": "https://me.csdn.net/jlh912008548",    "title": "å‰å»å­¦ä¹ "}]</code></pre></li></ol><h3 id="1-2-èœå•å¯¼èˆªé…ç½®"><a href="#1-2-èœå•å¯¼èˆªé…ç½®" class="headerlink" title="1.2 èœå•å¯¼èˆªé…ç½®"></a>1.2 èœå•å¯¼èˆªé…ç½®</h3><blockquote><p>å…³äºå¯¼èˆªçš„é…ç½®éƒ½åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­</p></blockquote><h4 id="1-2-1-é…ç½®åŸºæœ¬èœå•å¯¼èˆªçš„åç§°ã€è·¯å¾„urlå’Œå›¾æ ‡icon"><a href="#1-2-1-é…ç½®åŸºæœ¬èœå•å¯¼èˆªçš„åç§°ã€è·¯å¾„urlå’Œå›¾æ ‡icon" class="headerlink" title="1.2.1 é…ç½®åŸºæœ¬èœå•å¯¼èˆªçš„åç§°ã€è·¯å¾„urlå’Œå›¾æ ‡icon"></a>1.2.1 é…ç½®åŸºæœ¬èœå•å¯¼èˆªçš„åç§°ã€è·¯å¾„urlå’Œå›¾æ ‡icon</h4><ul><li>å¯¼èˆªåç§°å¯ä»¥è®¾ç½®æˆä¸­æ–‡/è‹±æ–‡</li><li>å›¾æ ‡iconå¯ä»¥æ›´æ¢ï¼Œå…·ä½“å±æ€§å€¼å¯ä»¥åœ¨<a href="https://fontawesome.com/icons">fontawesome</a>ä¸­æŸ¥æ‰¾</li></ul><pre><code>menu:  Index:    url: /    icon: fas fa-home  Tags:    url: /tags    icon: fas fa-tags  Categories:    url: /categories    icon: fas fa-bookmark  Archives:    url: /archives    icon: fas fa-archive  About:    url: /about    icon: fas fa-user-circle  å‹äººå¸: #å¯ä»¥ä½¿ç”¨ä¸­æ–‡ï¼Œä¹Ÿå¯ä»¥åœ¨å¯¹åº”çš„mdä¸­è®¾ç½®title:å‹äººå¸    url: /friends    icon: fas fa-address-book</code></pre><h4 id="1-2-2-äºŒçº§èœå•é…ç½®æ–¹æ³•"><a href="#1-2-2-äºŒçº§èœå•é…ç½®æ–¹æ³•" class="headerlink" title="1.2.2 äºŒçº§èœå•é…ç½®æ–¹æ³•"></a>1.2.2 äºŒçº§èœå•é…ç½®æ–¹æ³•</h4><ol><li><p>åœ¨éœ€è¦æ·»åŠ äºŒçº§èœå•çš„ä¸€çº§èœå•ä¸‹æ·»åŠ childrenå…³é”®å­—(å¦‚:çˆ±å¥½èœå•ä¸‹æ·»åŠ children)ï¼Œä¸€çº§èœå•ä¸éœ€è¦å¢åŠ urlå±æ€§</p></li><li><p>åˆ›å»ºäºŒçº§é¡µé¢ï¼Œæ­¥éª¤ä¸åˆ›å»ºé¡µé¢æ­¥éª¤ç›¸åŒï¼Œç¼–è¾‘mdæ—¶ä¸éœ€è¦<code>layout</code>å±æ€§</p><pre><code>---title: è¿½ç•ªdate: 2020-06-15 15:19:35type: "bangumis"---</code></pre></li><li><p>ç»™äºŒçº§èœå•å¢åŠ åç§°name,è·¯å¾„urlå’Œå›¾æ ‡icon</p></li><li><p>æ³¨æ„æ¯ä¸ªäºŒçº§èœå•æ¨¡å—å‰è¦åŠ <code> -</code></p></li><li><p>äºŒçº§èœå•è¦ç¼©è¿›åˆ°ä¸€çº§èœå•å†…</p></li></ol><pre><code>çˆ±å¥½:    icon: fas fa-bicycle    children:      - name: è¿½ç•ª        url: /bangumis        icon: fas fa-play-circle      - name: éŸ³ä¹        url: /musics        icon: fas fa-music</code></pre><h3 id="1-3-å¢åŠ ç•ªå‰§ã€éŸ³ä¹é¡µé¢"><a href="#1-3-å¢åŠ ç•ªå‰§ã€éŸ³ä¹é¡µé¢" class="headerlink" title="1.3 å¢åŠ ç•ªå‰§ã€éŸ³ä¹é¡µé¢"></a>1.3 å¢åŠ ç•ªå‰§ã€éŸ³ä¹é¡µé¢</h3><blockquote><p>æ­¤å¤„å¯ä»¥è®¾ç½®ä¸€ä¸ªäºŒçº§å¯¼èˆªçˆ±å¥½ï¼Œå°†è¿™äº›å½’çº³åˆ°ä¸€ä¸ªå¯¼èˆªä¸­æ•ˆæœæ›´ä½³</p></blockquote><h4 id="1-3-1-Bilibili"><a href="#1-3-1-Bilibili" class="headerlink" title="1.3.1 Bilibili"></a>1.3.1 Bilibili</h4><blockquote><p>éœ€è¦æ’ä»¶æ¥è·å–ä½ çš„ç•ªå‰§</p></blockquote><ol><li><p>å®‰è£…æ’ä»¶</p><pre><code>npm install hexo-bilibili-bangumi --save</code></pre></li><li><p>å®‰è£…ç•ªå‰§æ›´æ–°æ’ä»¶</p><pre><code>npm install hexo-bilibili-bangumi --update --save</code></pre></li><li><p>é…ç½®</p><p>å°†ä¸‹é¢çš„é…ç½®å†™å…¥ç«™ç‚¹é…ç½®æ–‡ä»¶<code>_config.yml</code>é‡Œï¼ˆéä¸»é¢˜ï¼‰</p><pre><code>bangumi:  enable: true #æ˜¯å¦å¼€å¯  vmid: 1234567 #è¾“å…¥ä½ ç•ªå‰§çš„uidï¼Œç™»å½•ç½‘å€https://space.bilibili.com/1234567ï¼Œåé¢æ•°å­—å°±æ˜¯ä½ çš„uid  title: 'è¿½ç•ªåˆ—è¡¨' # æ ‡é¢˜  quote: 'ç”Ÿå‘½ä¸æ¯ï¼Œè¿½ç•ªä¸æ­¢ï¼' # ç®€ä»‹  show: 1 # åˆå§‹æ˜¾ç¤ºé¡µé¢ï¼š0: æƒ³çœ‹ , 1: åœ¨çœ‹ , 2: çœ‹è¿‡ï¼Œé»˜è®¤ä¸º 1  loading: '/img/bangumi-loading.gif' # å›¾ç‰‡åŠ è½½å®Œæˆå‰çš„ loading å›¾ç‰‡</code></pre></li><li><p>åˆ›å»ºç•ªå‰§é¡µé¢</p><p>è¾“å…¥å‘½ä»¤</p><pre><code>hexo new page bangumis</code></pre><p>æ‰¾åˆ°<code>source/bangumis/index.md</code>è¿™ä¸ªæ–‡ä»¶ï¼Œä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ï¼Œæ·»åŠ  <code>type: "bangumis"</code></p><pre><code>---title: bangumisdate: 2020-06-18 00:00:00type: "bangumis"---</code></pre></li><li><p>é…ç½®ç•ªå‰§é¡µé¢ä¸ºäºŒçº§å¯¼èˆªæ </p><p>å‚è€ƒä¸Šè¾¹çš„äºŒçº§å¯¼èˆªæ é…ç½®æ–¹å¼</p></li><li><p>ä½¿ç”¨</p><p>è¾“å…¥å‘½ä»¤ï¼Œæ›´æ–°ç•ªå‰§æ•°æ®</p><pre><code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo bangumi -u &amp;&amp; hexo s</code></pre><blockquote><p>æ›´æ–°æ—¶é‡åˆ°çš„å‘ï¼š</p><p>é”™è¯¯ï¼šé…ç½®éƒ½å®Œå…¨æ­£ç¡®ï¼Œå´å‡ºç°Get bangumi data error</p><p>åŸå› ï¼šä½ çš„Bç«™è®¾ç½®äº†ç•ªå‰§ä»…è‡ªå·±å¯è§</p><p>è§£å†³æ–¹æ³•ï¼šè¿›å…¥Bç«™ä¸ªäººç©ºé—´ï¼Œç‚¹å‡»è®¾ç½®ï¼Œå°†è¿½ç•ªè¿½å‰§è®¾ç½®ä¸ºå…¬å¼€</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-1.png" alt="image-20200619164621242"></p></blockquote><p>å¦‚æœæƒ³è¦åˆ é™¤æ•°æ®ï¼Œå¯ä»¥è¾“å…¥è¯¥å‘½ä»¤</p><pre><code>hexo bangumi -d</code></pre><blockquote><p>æ³¨æ„ï¼šè¯¥æ’ä»¶ä¸éœ€è¦æˆ‘ä»¬æ¯æ¬¡éƒ¨ç½²éƒ½è¦è¾“å…¥æ›´æ–°æ•°æ®çš„å‘½ä»¤ï¼Œåªæœ‰ä½ è‡ªå·±ç•ªå‰§æ›´æ–°æ—¶æ‰éœ€è¦æ‰§è¡Œæ›´æ–°æŒ‡ä»¤ï¼Œä¹‹å‰çš„ç•ªå‰§æ•°æ®ä¼šä¸€ç›´ä¿ç•™ï¼Œç›´åˆ°è¢«ä½ åˆ é™¤</p></blockquote></li></ol><h4 id="1-3-2-ç½‘æ˜“äº‘éŸ³ä¹"><a href="#1-3-2-ç½‘æ˜“äº‘éŸ³ä¹" class="headerlink" title="1.3.2 ç½‘æ˜“äº‘éŸ³ä¹"></a>1.3.2 ç½‘æ˜“äº‘éŸ³ä¹</h4><blockquote><p>è¿™ä¸ªå°±éå¸¸ç®€å•äº†ï¼Œä¸éœ€è¦å®‰è£…ä»»ä½•æ’ä»¶ï¼Œåªéœ€è¦åˆ›å»ºæ–°é¡µé¢ï¼Œé…ç½®äºŒçº§å¯¼èˆªå³å¯</p></blockquote><ol><li><p>åˆ›å»ºéŸ³ä¹é¡µé¢</p><p>è¾“å…¥å‘½ä»¤</p><pre><code>hexo new page musics</code></pre><p>æ‰¾åˆ°<code>source/musics/index.md</code>è¿™ä¸ªæ–‡ä»¶ï¼Œä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ï¼Œæ·»åŠ  <code>type: "music"</code></p><pre><code>---title: éŸ³ä¹ï¼éŸ³ä¹ï¼date: 2020-06-16 14:45:30type: 'music'---</code></pre><p>åœ¨index.mdæ–‡ä»¶ä¸­å¢åŠ ä»¥ä¸‹å†…å®¹</p><pre><code>&lt;iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=530 height=520 src="//music.163.com/outchain/player?type=0&amp;id=2817562565&amp;auto=1&amp;height=430"&gt;&lt;/iframe&gt;</code></pre><blockquote><p>ç¬¬äºŒè¡Œçš„idçš„é‚£ä¸²æ•°å­—ï¼Œéœ€è¦æ”¹æˆä½ æƒ³è¦çš„æ­Œå•id</p><p>æŸ¥çœ‹è‡ªå·±idçš„æ–¹å¼ï¼š</p><ol><li><p>ç‚¹å‡»ç½‘æ˜“äº‘éŸ³ä¹è½¯ä»¶ï¼Œæ‰¾åˆ°æƒ³è®¾ç½®çš„æ­Œå•â†’åˆ†äº«â†’å¤åˆ¶é“¾æ¥</p></li><li><p><a href="https://music.163.com/playlist?id=531558923&amp;userid=375531677">https://music.163.com/playlist?id=531558923&amp;userid=375531677</a></p></li><li><p>idåˆ™æ˜¯ä½ æƒ³è¦çš„idï¼Œ<strong>ä¸æ˜¯</strong>åé¢çš„userid</p></li></ol></blockquote></li><li><p>é…ç½®éŸ³ä¹é¡µé¢ä¸ºäºŒçº§å¯¼èˆªæ </p><p>å‚è€ƒä¸Šè¾¹çš„äºŒçº§å¯¼èˆªæ é…ç½®æ–¹å¼</p></li></ol><h3 id="1-4-å¢åŠ è‡ªå®šä¹‰ç›¸å†Œ"><a href="#1-4-å¢åŠ è‡ªå®šä¹‰ç›¸å†Œ" class="headerlink" title="1.4 å¢åŠ è‡ªå®šä¹‰ç›¸å†Œ"></a>1.4 å¢åŠ è‡ªå®šä¹‰ç›¸å†Œ</h3><blockquote><p>ä¿®æ”¹çš„åŸå› ï¼š</p><p>materyä¸»é¢˜åŸæœ‰çš„ç›¸å†Œæ•ˆæœä¸ä½³ï¼ŒåŸå› åœ¨äºå…¨éƒ¨é‡‡ç”¨å¹³é“ºå¼ï¼Œæ²¡æœ‰åˆ†ç±»çš„åŠŸèƒ½ï¼Œè‡ªå®šä¹‰ç›¸å†Œå¯ä»¥å»ºç«‹æ–‡ä»¶å¤¹ï¼Œæ–¹ä¾¿åˆ†ç±»</p><p>æ³¨æ„ï¼šæœ¬æ•™ç¨‹é‡‡ç”¨å›¾åºŠ+CDNï¼Œå›¾åºŠé‡‡ç”¨çš„æ˜¯github+Picgo</p><p>å…³äºå›¾åºŠå’Œcdnæ˜¯ä»€ä¹ˆï¼š</p><p>é€šä¿—æ¥è¯´å°±æ˜¯å°†æœ¬åœ°å›¾ç‰‡ä¸Šä¼ åˆ°ç½‘ä¸Šï¼Œé€šè¿‡cdnåŠ é€Ÿæ¥åŠ å¿«è¯»å–å›¾ç‰‡çš„ä¸€ç§æ–¹å¼</p><p>å…·ä½“çœ‹<a href="https://yafine-blog.cn/posts/eb3a.html">åŠ±å¿ƒå¤§ä½¬å…³äºgithubå›¾åºŠæ­å»ºçš„æ•™ç¨‹</a></p></blockquote><ol><li><p>æ–°å»ºç›¸å†Œé¡µé¢</p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre><code>hexo new page galleries</code></pre><p>åˆ°ç«™ç‚¹æ ¹ç›®å½•çš„sourceç›®å½•ä¸‹æ‰¾åç§°ä¸º <strong>galleries</strong> çš„ç›®å½•ï¼Œæ‰“å¼€ç›®å½•ä¸‹çš„ <strong>index.md</strong> æ–‡æ¡£ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p><pre><code>title: ç›¸å†Œdate: 2020-06-13 10:59:30type: "galleries"layout: "galleries"</code></pre></li><li><p>é…ç½®å¯¼èˆªèœå•</p><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­menuåŠ ä¸Š</p><pre><code>ç›¸å†Œ:  url: /galleries   icon: fas fa-image</code></pre></li><li><p>åˆ›å»ºejsæ–‡ä»¶å’Œcssæ–‡ä»¶</p><p>åœ¨è·¯å¾„ <strong>matery/source/css</strong>ç›®å½•ä¸‹ï¼Œæ–°å»º<code>gallery.css</code>ï¼Œå¢åŠ ä»¥ä¸‹ä»£ç </p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.gallery-wrapper</span></span><span class="token punctuation">{</span>  <span class="token property">padding-top</span><span class="token punctuation">:</span> <span class="token number">30</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.gallery-wrapper</span> <span class="token class">.gallery-box</span></span><span class="token punctuation">{</span>  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">5</span>px <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.gallery-wrapper</span> <span class="token class">.gallery-item</span> </span><span class="token punctuation">{</span>  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#fff</span><span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">5</span>px<span class="token punctuation">;</span>  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>  <span class="token property">-moz-box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">1</span>px <span class="token number">3</span>px <span class="token number">0</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">1</span>px <span class="token number">3</span>px <span class="token number">0</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">1</span>px <span class="token number">3</span>px <span class="token number">0</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.22</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.gallery-cover-box</span></span><span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>  <span class="token property">padding-top</span><span class="token punctuation">:</span> <span class="token number">60%</span><span class="token punctuation">;</span>  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> center center no-repeat<span class="token punctuation">;</span>  <span class="token property">-webkit-background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>  <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.gallery-cover-box</span> <span class="token class">.gallery-cover-img</span> </span><span class="token punctuation">{</span>  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">50%</span><span class="token punctuation">;</span>  <span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">50%</span><span class="token punctuation">;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-<span class="token number">50%</span>,-<span class="token number">50%</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.gallery-item</span> <span class="token class">.gallery-name</span></span><span class="token punctuation">{</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">24</span>px<span class="token punctuation">;</span>  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#666</span><span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.waterfall</span> </span><span class="token punctuation">{</span>  <span class="token property">column-count</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token property">column-gap</span><span class="token punctuation">:</span> <span class="token number">1</span>em<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.photo-wrapper</span></span><span class="token punctuation">{</span>  <span class="token property">padding-top</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.photo-item</span> </span><span class="token punctuation">{</span>  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token property">-moz-page-break-inside</span><span class="token punctuation">:</span> avoid<span class="token punctuation">;</span>  <span class="token property">-webkit-column-break-inside</span><span class="token punctuation">:</span> avoid<span class="token punctuation">;</span>  <span class="token property">break-inside</span><span class="token punctuation">:</span> avoid<span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>  <span class="token property">-moz-box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">1</span>px <span class="token number">3</span>px <span class="token number">0</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">1</span>px <span class="token number">3</span>px <span class="token number">0</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">1</span>px <span class="token number">3</span>px <span class="token number">0</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.22</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.photo-item</span> img </span><span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.photo-item</span> <span class="token class">.photo-name</span></span><span class="token punctuation">{</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">30</span>px<span class="token punctuation">;</span>  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>  <span class="token property">border-top</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#dddddd</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*é€‚é…ç§»åŠ¨ç«¯å¸ƒå±€*/</span><span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 601px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>  <span class="token selector"><span class="token class">.waterfall</span> </span><span class="token punctuation">{</span>    <span class="token property">column-count</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token property">column-gap</span><span class="token punctuation">:</span> <span class="token number">1</span>em<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>åœ¨<strong>matery/layout</strong> ç›®å½•ä¸‹åˆ›å»º <strong>galleries.ejs</strong> ï¼Œå¢åŠ ä»¥ä¸‹ä»£ç ï¼Œå¹¶ä¿®æ”¹ä»£ç </p><pre class=" language-css"><code class="language-css"><span class="token selector">&lt;link rel="stylesheet" href="/css/gallery<span class="token class">.css</span>">&lt;%- partial('_partial/bg-cover') %>&lt;main class="content">    &lt;div class="container">        &lt;% if (site<span class="token class">.data</span> &amp;&amp; site<span class="token class">.data.galleries</span>) </span><span class="token punctuation">{</span> <span class="token selector">%>        &lt;% var galleries = site<span class="token class">.data.galleries</span>; %>        &lt;div class="gallery-wrapper row">            &lt;% for (var i = 0, len = galleries<span class="token class">.length</span>; i &lt; len; i++) </span><span class="token punctuation">{</span> <span class="token number">%</span>>            &lt;<span class="token number">%</span> var gallery = galleries[i]<span class="token punctuation">;</span> <span class="token number">%</span>>            &lt;div class=<span class="token string">"col s6 m4 l4 xl3 gallery-box"</span>>                &lt;a href=<span class="token string">"./&lt;%- gallery.name %>"</span> class=<span class="token string">"gallery-item"</span> data-aos=<span class="token string">"zoom-in-up"</span>>                     &lt;div class=<span class="token string">"gallery-cover-box"</span> style=<span class="token string">"background-image: url(ä½ çš„é“¾æ¥&lt;%- gallery.cover%>);"</span>>                    &lt;/div>                    &lt;p class=<span class="token string">"gallery-name"</span>>                        &lt;<span class="token number">%</span>- gallery<span class="token number">.</span>name <span class="token number">%</span>>                    &lt;/p>                &lt;/a>            &lt;/div>            &lt;<span class="token number">%</span> <span class="token punctuation">}</span> <span class="token number">%</span>>        &lt;/div>        &lt;<span class="token number">%</span> <span class="token punctuation">}</span> <span class="token number">%</span>>    &lt;/div>&lt;/main></code></pre><blockquote><p>ä¿®æ”¹ä»£ç ï¼š</p><p>åœ¨<strong>ä½ çš„é“¾æ¥</strong>è¿™å¡«å†™ä½ ç›¸å†Œå›¾åºŠçš„<strong>æ ¹ç½‘å€</strong>ï¼Œè§£é‡Šä¸€ä¸‹ä»€ä¹ˆå«æ ¹ç½‘å€ï¼Œ</p><p>ä¸€å¼ å›¾ç‰‡çš„ç›®å½•æ˜¯<a href="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/123/aaa.jpg">https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/123/aaa.jpg</a></p><p>é‚£ä¹ˆå®ƒçš„æ ¹ç›®å½•å°±æ˜¯<a href="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/%EF%BC%8C123/%E5%8F%AA%E6%98%AF%E5%9B%BE%E5%BA%8A%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E5%A4%B9">https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/ï¼Œ123/åªæ˜¯å›¾åºŠä¸­çš„ä¸€ä¸ªæ–‡ä»¶å¤¹</a></p><p>æ¯”å¦‚æˆ‘çš„ä¿®æ”¹ä¸ºï¼šurl(<a href="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/">https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/</a>&lt;%- gallery.cover%&gt;);â€&gt;</p></blockquote><p>ä»ç„¶åœ¨æ­¤ç›®å½•æ–°å»º<code>gallery.ejs</code>æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œå¹¶ä¿®æ”¹ä»£ç ï¼š</p><pre class=" language-css"><code class="language-css"><span class="token selector">&lt;link rel="stylesheet" href="/css/gallery<span class="token class">.css</span>">&lt;link type="text/css" href="/libs/fancybox/jquery<span class="token class">.fancybox.css</span>" rel="stylesheet">&lt;link type="text/css" href="/libs/justifiedGallery/justifiedGallery<span class="token class">.min.css</span>" rel="stylesheet">&lt;%- partial('_partial/post-cover') %>&lt;%let galleries = [];if (site<span class="token class">.data</span> &amp;&amp; site<span class="token class">.data.galleries</span>) </span><span class="token punctuation">{</span>    galleries = site<span class="token number">.</span>data<span class="token number">.</span>galleries<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">var pageTitle = page<span class="token class">.title</span>;function getCurrentGallery(galleries, pageTitle) </span><span class="token punctuation">{</span>    <span class="token selector">for (let i = 0; i &lt; galleries<span class="token class">.length</span>; i++) </span><span class="token punctuation">{</span>        <span class="token selector">if (galleries<span class="token attribute">[i]</span><span class="token attribute">['name']</span> == pageTitle) </span><span class="token punctuation">{</span>            return galleries[i]<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token selector">var currentGallery = getCurrentGallery(galleries, pageTitle)var photos = currentGallery<span class="token class">.photos</span>;let imageStr = ''for (var i = 0, len = photos<span class="token class">.length</span>; i &lt; len; i++) </span><span class="token punctuation">{</span>    var photo = photos[i]<span class="token punctuation">;</span>     imageStr += <span class="token string">"&lt;a href=\"ä½ çš„é“¾æ¥"</span> + photo + <span class="token string">"\""</span> +            <span class="token string">"     class=\"photo-item\" rel=\"example_group\""</span> +            <span class="token string">"     data-fancybox=\"images\">"</span> +            <span class="token string">"      &lt;img src=\"ä½ çš„é“¾æ¥"</span> + photo + <span class="token string">"\""</span> +            <span class="token string">"       alt="</span> + photo + <span class="token string">">\n"</span> +            <span class="token string">"    &lt;/a>"</span><span class="token punctuation">}</span><span class="token selector">%>&lt;div class="container">    &lt;div class="photo-wrapper">        &lt;% if (page<span class="token class">.password</span> ) </span><span class="token punctuation">{</span> <span class="token number">%</span>>            &lt;script src=<span class="token string">"/js/crypto-js.js"</span>>&lt;/script>            &lt;script src=<span class="token string">"/js/gallery-encrypt.js"</span>>&lt;/script>            &lt;div id=<span class="token string">"hbe-security"</span>>                &lt;div class=<span class="token string">"hbe-input-container"</span>>                    &lt;input type=<span class="token string">"password"</span> class=<span class="token string">"hbe-form-control"</span> id=<span class="token string">"pass"</span>  placeholder=<span class="token string">"è¯·è¾“å…¥å¯†ç æŸ¥çœ‹å†…å®¹"</span>/>                    &lt;a href=<span class="token string">"javascript:;"</span> class=<span class="token string">"btn-decrypt"</span> id=<span class="token string">"btn_decrypt"</span>>è§£å¯†&lt;/a>                &lt;/div>            &lt;/div>            &lt;div  id=<span class="token string">"mygallery"</span>>                &lt;div class=<span class="token string">"waterfall"</span> id=<span class="token string">"encrypt-blog"</span> style=<span class="token string">"display:none"</span>>                    &lt;<span class="token number">%</span>- <span class="token function">aes</span><span class="token punctuation">(</span>imageStr, page<span class="token number">.</span>password<span class="token punctuation">)</span> <span class="token number">%</span>>                &lt;/div>            &lt;/div>        &lt;<span class="token number">%</span> <span class="token punctuation">}</span> <span class="token selector">else </span><span class="token punctuation">{</span> <span class="token number">%</span>>            &lt;div class=<span class="token string">"waterfall"</span> id=<span class="token string">"encrypt-blog"</span>>                &lt;<span class="token number">%</span>- imageStr <span class="token number">%</span>>            &lt;/div>        &lt;<span class="token number">%</span> <span class="token punctuation">}</span> <span class="token selector">%>    &lt;/div>&lt;/div>&lt;script src="/libs/fancybox/fancybox<span class="token class">.js</span>">&lt;/script>&lt;script src="/libs/justifiedGallery/justifiedGallery<span class="token class">.min.js</span>">&lt;/script>&lt;script>  $("a<span class="token attribute">[rel=example_group]</span>")<span class="token class">.fancybox</span>();  $("<span class="token id">#encrypt-blog</span>")<span class="token class">.justifiedGallery</span>(</span><span class="token punctuation">{</span><span class="token property">margins</span><span class="token punctuation">:</span> <span class="token number">5</span>, <span class="token property">rowHeight</span><span class="token punctuation">:</span> <span class="token number">150</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>&lt;/script></code></pre><blockquote><p>ä¿®æ”¹ä»£ç ï¼š</p><p>åœ¨<strong>ä½ çš„é“¾æ¥</strong>è¿™å¡«å†™ä½ ç›¸å†Œå›¾åºŠçš„<strong>æ ¹ç½‘å€</strong></p><p>æ³¨æ„ï¼šæœ€åä¸€å®šè¦å¸¦ä¸Š /</p></blockquote></li><li><p>æ·»åŠ ç›¸å†Œjsoné…ç½®æ–‡ä»¶</p><p>åœ¨æ ¹ç›®å½•<code>source\_data</code>æ–°å»º <strong>galleries.json</strong> çš„æ–‡ä»¶ï¼Œå¢åŠ <strong>json</strong> ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>[  {    "name": "ç›¸å†Œåå­—",    "cover": "images/p0.png",      "description": "ç›¸å†Œçš„æè¿°",      "photos": [        "images/node-1.png",        "images/node-2.png",        "images/node-3.png",        "images/node-4.png",        "images/node-5.png",        "images/node-6.png",        "images/node-7.png",    ]  }]</code></pre><blockquote><p>å±æ€§ä»‹ç»ï¼š</p><p>coverï¼šç›¸å†Œçš„å°é¢ï¼Œå€¼ä¸ºå›¾ç‰‡çš„åœ°å€</p><p>photosï¼šå›¾ç‰‡çš„åœ°å€ï¼Œè¾“å…¥äº†åœ°å€ç•Œé¢æ‰ä¼šæ˜¾ç¤ºè¯¥å›¾ç‰‡ï¼Œå‰ææ˜¯å›¾åºŠä¸­æœ‰è¯¥å›¾ç‰‡</p></blockquote></li><li><p>æ–°å»ºç›¸å†Œ</p><p>åœ¨galleriesç›®å½•ä¸‹å»ºç«‹å¯¹åº”çš„ç›¸å†Œåç§°ç›®å½•å’Œæ–‡ä»¶ï¼Œæ¯”å¦‚æˆ‘è¿™ä¸ªç›¸å†Œéœ€è¦æ–°å»ºåç§°ä¸º 2020 æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨æ–‡ä»¶å¤¹ä¸­æ–°å»ºindex.mdæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸ºï¼š</p><pre><code>---title: 2020date: 2020-02-19 10:51:50type: "gallery"layout: "gallery"---</code></pre></li><li><p>æŸ¥çœ‹æ•ˆæœ</p><p>é‡æ–°éƒ¨ç½²</p><pre><code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code></pre><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-2.png" alt="image-20200619173906320"></p></li></ol><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-3.png" alt="image-20200619173936370"></p><h3 id="1-5-å¢åŠ emojiæ”¯æŒ"><a href="#1-5-å¢åŠ emojiæ”¯æŒ" class="headerlink" title="1.5 å¢åŠ emojiæ”¯æŒ"></a>1.5 å¢åŠ emojiæ”¯æŒ</h3><p><span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>    ä½¿ä½ markdownåšå®¢é‡Œçš„emojiè¡¨æƒ…è·³åŠ¨èµ·æ¥</p><ol><li><p>å®‰è£…æ’ä»¶</p><pre><code>npm install hexo-filter-github-emojis --save</code></pre></li><li><p>åœ¨ Hexo æ ¹ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ä¸­ï¼Œæ–°å¢ä»¥ä¸‹çš„é…ç½®é¡¹ï¼š</p><pre><code>githubEmojis:  enable: true  className: github-emoji  inject: true  styles:  customEmojis:</code></pre><p>é‡æ–°éƒ¨ç½²å³å¯æŸ¥çœ‹</p></li></ol><blockquote><p>å°å‘ï¼š</p><p>åœ¨é…ç½®æ”¯æŒå‰å‘å¸ƒçš„æ–‡ç« ä¸­çš„è¡¨æƒ…å¹¶æ²¡æœ‰è·å¾—æ”¯æŒï¼Œå¹¶ä¸”è¿è¡¨æƒ…éƒ½ä¸ä¼šæ˜¾ç¤ºï¼Œæ‰€ä»¥æœ€å¥½åœ¨é…ç½®ä¹‹åå†è¾“å…¥è¡¨æƒ…è¿›è¡Œæµ‹è¯•</p></blockquote><h3 id="1-6ä»£ç é«˜äº®"><a href="#1-6ä»£ç é«˜äº®" class="headerlink" title="1.6ä»£ç é«˜äº®"></a>1.6ä»£ç é«˜äº®</h3><p>ç”±äº Hexo è‡ªå¸¦çš„ä»£ç é«˜äº®ä¸»é¢˜æ˜¾ç¤ºä¸å¥½çœ‹ï¼Œç”¨ä¸€ä¸ªæ’ä»¶æ¥æ›¿æ¢å®ƒ</p><ol><li><p>å®‰è£…æ’ä»¶</p><pre><code>npm i -S hexo-prism-plugin</code></pre></li><li><p>ä¿®æ”¹ Hexo ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml ä¸­ highlight.enable çš„å€¼ä¸º falseï¼Œå¹¶æ–°å¢ prism æ’ä»¶ç›¸å…³çš„é…ç½®ï¼Œä¸»è¦é…ç½®å¦‚ä¸‹ï¼š</p><pre><code>prism_plugin:  mode: 'preprocess'    # realtime/preprocess  theme: 'tomorrow'  line_number: false    # default false  custom_css:</code></pre></li></ol><h3 id="1-7-æœç´¢åŠŸèƒ½"><a href="#1-7-æœç´¢åŠŸèƒ½" class="headerlink" title="1.7 æœç´¢åŠŸèƒ½"></a>1.7 æœç´¢åŠŸèƒ½</h3><p>å®ç°æ–‡ç« å†…å®¹æœç´¢</p><ol><li><p>å®‰è£…æ’ä»¶</p><pre><code>npm install hexo-generator-search --save</code></pre></li><li><p>åœ¨ Hexo ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml ä¸­ï¼Œæ–°å¢ä»¥ä¸‹çš„é…ç½®é¡¹ï¼š</p><pre><code>search:  path: search.xml  field: post</code></pre></li></ol><h3 id="1-8-ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³"><a href="#1-8-ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³" class="headerlink" title="1.8 ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³"></a>1.8 ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³</h3><p>å¦‚æœä½ çš„æ–‡ç« åç§°æ˜¯ä¸­æ–‡çš„ï¼Œé‚£ä¹ˆ Hexo é»˜è®¤ç”Ÿæˆçš„æ–‡ç« é“¾æ¥ä¹Ÿä¼šæœ‰ä¸­æ–‡ï¼Œè¿™æ ·ä¸åˆ©äº SEOï¼Œä¸” gitment è¯„è®ºå¯¹ä¸­æ–‡é“¾æ¥ä¹Ÿä¸æ”¯æŒã€‚æˆ‘ä»¬å¯ä»¥ç”¨ hexo-permalink-pinyin Hexo æ’ä»¶ä½¿åœ¨ç”Ÿæˆæ–‡ç« æ—¶ç”Ÿæˆä¸­æ–‡æ‹¼éŸ³çš„æ°¸ä¹…é“¾æ¥ã€‚</p><ol><li><p>å®‰è£…æ’ä»¶</p><pre><code>npm i hexo-permalink-pinyin --save</code></pre></li><li><p>åœ¨ Hexo ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml ä¸­ï¼Œæ–°å¢ä»¥ä¸‹çš„é…ç½®é¡¹ï¼š</p><pre><code>permalink_pinyin:  enable: true  separator: '-' # default: '-'</code></pre></li></ol><h3 id="1-9-æ–‡ç« å­—æ•°ç»Ÿè®¡æ’ä»¶"><a href="#1-9-æ–‡ç« å­—æ•°ç»Ÿè®¡æ’ä»¶" class="headerlink" title="1.9 æ–‡ç« å­—æ•°ç»Ÿè®¡æ’ä»¶"></a>1.9 æ–‡ç« å­—æ•°ç»Ÿè®¡æ’ä»¶</h3><p>ç”¨äºåœ¨æ–‡ç« ä¸­æ˜¾ç¤ºæ–‡ç« å­—æ•°ã€é˜…è¯»æ—¶é•¿ä¿¡æ¯</p><ol><li><p>å®‰è£…æ’ä»¶</p><pre><code>npm i --save hexo-wordcount</code></pre></li><li><p>åœ¨<strong>ä¸»é¢˜</strong>é…ç½®æ–‡ä»¶_config.yml æ–‡ä»¶ä¸­ï¼Œ<strong>æ¿€æ´»</strong>ä»¥ä¸‹é…ç½®é¡¹å³å¯ï¼š</p><pre><code>wordCount:  enable: false # å°†è¿™ä¸ªå€¼è®¾ç½®ä¸º true å³å¯.  postWordCount: true  min2read: true  totalCount: true</code></pre></li></ol><h3 id="1-10-é…ç½®éŸ³ä¹æ’­æ”¾å™¨"><a href="#1-10-é…ç½®éŸ³ä¹æ’­æ”¾å™¨" class="headerlink" title="1.10 é…ç½®éŸ³ä¹æ’­æ”¾å™¨"></a>1.10 é…ç½®éŸ³ä¹æ’­æ”¾å™¨</h3><p>æƒ³æ”¯æŒéŸ³ä¹æ’­æ”¾ï¼Œåœ¨<strong>ä¸»é¢˜</strong>çš„ _config.yml é…ç½®æ–‡ä»¶ä¸­æ¿€æ´»musicé…ç½®å³å¯ï¼š</p><pre><code># æ˜¯å¦åœ¨é¦–é¡µæ˜¾ç¤ºéŸ³ä¹.music:  enable: true  title: #éå¸åº•æ¨¡å¼æœ‰æ•ˆ    enable: true    show: å¬å¬éŸ³ä¹  autoHide: false    # hide automaticaly  server: netease   #require    music platform: netease, tencent, kugou, xiami, baidu  type: playlist    #require song, playlist, album, search, artist  id: 411680085     #require    song id / playlist id / album id / search keyword  fixed: true       # å¼€å¯å¸åº•æ¨¡å¼  autoplay: false   # æ˜¯å¦è‡ªåŠ¨æ’­æ”¾  theme: '#42b983'  loop: 'all'       # éŸ³é¢‘å¾ªç¯æ’­æ”¾, å¯é€‰å€¼: 'all', 'one', 'none'  order: 'random'   # éŸ³é¢‘å¾ªç¯é¡ºåº, å¯é€‰å€¼: 'list', 'random'  preload: 'auto'   # é¢„åŠ è½½ï¼Œå¯é€‰å€¼: 'none', 'metadata', 'auto'  volume: 0.7       # é»˜è®¤éŸ³é‡ï¼Œè¯·æ³¨æ„æ’­æ”¾å™¨ä¼šè®°å¿†ç”¨æˆ·è®¾ç½®ï¼Œç”¨æˆ·æ‰‹åŠ¨è®¾ç½®éŸ³é‡åé»˜è®¤éŸ³é‡å³å¤±æ•ˆ  listFolded: false  # åˆ—è¡¨é»˜è®¤æŠ˜å   hideLrc: true     # éšè—æ­Œè¯</code></pre><blockquote><p>å±æ€§ä»‹ç»ï¼š</p><p>serverå¯é€‰neteaseï¼ˆç½‘æ˜“äº‘éŸ³ä¹ï¼‰ï¼Œtencentï¼ˆQQéŸ³ä¹ï¼‰ï¼Œkugouï¼ˆé…·ç‹—éŸ³ä¹ï¼‰ï¼Œxiamiï¼ˆè™¾ç±³éŸ³ä¹ï¼‰ï¼Œbaiduï¼ˆç™¾åº¦éŸ³ä¹ï¼‰</p><p>typeå¯é€‰songï¼ˆæ­Œæ›²ï¼‰ï¼Œplaylistï¼ˆæ­Œå•ï¼‰ï¼Œalbumï¼ˆä¸“è¾‘ï¼‰ï¼Œsearchï¼ˆæœç´¢å…³é”®å­—ï¼‰ï¼Œartistï¼ˆæ­Œæ‰‹ï¼‰</p><p>idè·å–ç¤ºä¾‹: æµè§ˆå™¨æ‰“å¼€ç½‘æ˜“äº‘éŸ³ä¹ï¼Œç‚¹å‡»æˆ‘å–œæ¬¢çš„éŸ³ä¹æ­Œå•ï¼Œåœ°å€æ æœ‰ä¸€ä¸²æ•°å­—ï¼Œplaylistçš„idå³ä¸ºè¿™ä¸²æ•°å­—ã€‚</p></blockquote><blockquote><p>å°å‘ï¼š</p><p>materyä¸»é¢˜ä¸æ”¯æŒpjaxå¼‚æ­¥æœºåˆ¶ï¼Œåœ¨åˆ‡æ¢é¡µé¢æ—¶éŸ³ä¹ä¹Ÿä¼šåˆ‡æ¢ï¼Œä¸ä¼šç»§ç»­ä¸€é¦–æ­Œæ’­æ”¾</p><p>æ‰€ä»¥è¿™ä¸ªåŠŸèƒ½æ¯”è¾ƒé¸¡è‚‹ï¼Œåœ¨äºè‡ªå·±å–èˆ</p></blockquote><h3 id="1-11-å…³äºæˆ‘é¡µé¢æ·»åŠ ä¸ªäººç®€å†"><a href="#1-11-å…³äºæˆ‘é¡µé¢æ·»åŠ ä¸ªäººç®€å†" class="headerlink" title="1.11 å…³äºæˆ‘é¡µé¢æ·»åŠ ä¸ªäººç®€å†"></a>1.11 å…³äºæˆ‘é¡µé¢æ·»åŠ ä¸ªäººç®€å†</h3><p>æ‰“å¼€theme/matery/layout/about.ejsæ–‡ä»¶ï¼Œå¤§çº¦åœ¨13è¡Œã€‚æœ‰ä¸€ä¸ª<code>card</code>æ ‡ç­¾ï¼Œæ‰¾å‡ºå…¶å¯¹åº”ç»“å°¾çš„æ ‡ç­¾ï¼Œå¤§çº¦åœ¨61è¡Œå·¦å³ï¼Œç„¶ååœ¨ä¸‹é¢æ–°å¢å¦‚ä¸‹ä»£ç </p><pre><code>&lt;div class="card"&gt;     &lt;div class="card-content"&gt;         &lt;div class="card-content article-card-content"&gt;             &lt;div class="title center-align" data-aos="zoom-in-up"&gt;                 &lt;i class="fa fa-address-book"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;&lt;%- __('ä¸ªäººç®€å†') %&gt;              &lt;/div&gt;                 &lt;div id="articleContent" data-aos="fade-up"&gt;                     &lt;%- page.content %&gt;                 &lt;/div&gt;           &lt;/div&gt;      &lt;/div&gt;&lt;/div&gt;</code></pre><p>æ³¨æ„ç²˜è´´çš„ä½ç½®å’Œç©ºæ ¼è¦æ­£ç¡®ï¼Œè¿™é‡Œçš„ä½ç½®éšä½ è‡ªå·±è®¾ç½®ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠç®€å†ä½œä¸ºç¬¬ä¸€ä¸ªcardï¼Œç„¶å/source/about/index.mdä¸‹é¢å†™ä¸Šä½ çš„ç®€å†äº†ï¼ˆå°±åƒå†™åšå®¢ä¸€æ ·ï¼‰ã€‚</p><h3 id="1-12-é…ç½®404é”™è¯¯é¡µé¢"><a href="#1-12-é…ç½®404é”™è¯¯é¡µé¢" class="headerlink" title="1.12 é…ç½®404é”™è¯¯é¡µé¢"></a>1.12 é…ç½®404é”™è¯¯é¡µé¢</h3><p>ç«™ç‚¹æ ¹ç›®å½•ä¸‹çš„sourceæ–‡ä»¶å¤¹ä¸‹æ–°å»º404.mdæ–‡ä»¶ï¼Œé‡Œé¢å†…å®¹å¦‚ä¸‹ï¼š</p><pre><code>---title: 404date: 2020-6-18 16:41:10type: "404"layout: "404"description: "Oopsï½ï¼Œæˆ‘å´©æºƒäº†ï¼æ‰¾ä¸åˆ°ä½ æƒ³è¦çš„é¡µé¢äº†"---</code></pre><p>åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹çš„layoutç›®å½•ä¸‹æ–°å»º404.ejsæ–‡ä»¶ï¼Œæ·»åŠ å†…å®¹å¦‚ä¸‹ï¼š</p><pre><code>&lt;style type="text/css"&gt;    /* don't remove. */    .about-cover {        height: 90.2vh;    }&lt;/style&gt;&lt;div class="bg-cover pd-header about-cover"&gt;    &lt;div class="container"&gt;        &lt;div class="row"&gt;            &lt;div class="col s10 offset-s1 m8 offset-m2 l8 offset-l2"&gt;                &lt;div class="brand"&gt;                    &lt;div class="title center-align"&gt;                        404                    &lt;/div&gt;                    &lt;div class="description center-align"&gt;                        &lt;%= page.description %&gt;                    &lt;/div&gt;                &lt;/div&gt;            &lt;/div&gt;        &lt;/div&gt;    &lt;/div&gt;&lt;/div&gt;&lt;script&gt;    // æ¯å¤©åˆ‡æ¢ banner å›¾.  Switch banner image every day.    $('.bg-cover').css('background-image', 'url(https://cdn.jsdelivr.net/gh/Yafine/cdn@3.3.1/source/medias/banner/' + new Date().getDay() + '.jpg)');&lt;/script&gt;</code></pre><p>ç„¶åéƒ¨ç½²ï¼Œå†çœ‹çœ‹æ•ˆæœå³å¯<a href="http://localhost:4000/404/">http://localhost:4000/404/</a></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-6.png" alt="image-20200619203902808"></p><h3 id="1-13-æ·»åŠ Valineè¯„è®ºç³»ç»Ÿ"><a href="#1-13-æ·»åŠ Valineè¯„è®ºç³»ç»Ÿ" class="headerlink" title="1.13 æ·»åŠ Valineè¯„è®ºç³»ç»Ÿ"></a>1.13 æ·»åŠ Valineè¯„è®ºç³»ç»Ÿ</h3><blockquote><p>æ­¤å¤„ç¯‡å¹…è¾ƒé•¿ï¼Œè¯·çœ‹æˆ‘å†™çš„åšå®¢ï¼š</p><p><a href="https://fenghen0918.github.io/2020/06/19/matery-zhu-ti-valine-ping-lun-xi-tong/#toc-heading-7">https://fenghen0918.github.io/2020/06/19/matery-zhu-ti-valine-ping-lun-xi-tong/#toc-heading-7</a></p></blockquote><h3 id="1-14-ä¿®æ”¹å…¬å‘Š-dreamä¸€æ -é‡Œçš„æ¯æ—¥ä¸€å¥"><a href="#1-14-ä¿®æ”¹å…¬å‘Š-dreamä¸€æ -é‡Œçš„æ¯æ—¥ä¸€å¥" class="headerlink" title="1.14 ä¿®æ”¹å…¬å‘Š(dreamä¸€æ )é‡Œçš„æ¯æ—¥ä¸€å¥"></a>1.14 ä¿®æ”¹å…¬å‘Š(dreamä¸€æ )é‡Œçš„æ¯æ—¥ä¸€å¥</h3><p>æ‰¾åˆ°<code>/themes/matery/layout/index.ejs</code>ï¼Œç¬¬17è¡Œæ”¹ä¸ºï¼š</p><pre><code>&lt;% if (theme.dream.enable) { %&gt;  &lt;!-- &lt;%- partial('_widget/dream') %&gt; --&gt;  &lt;i class="fa fa-volume-up fa-lg fa-fw text-color"&gt;&lt;/i&gt; &lt;%- '&lt;span id="hitokoto"&gt;ä¸€è¨€APIè¯·æ±‚è¶…æ—¶ã€‚è¯·ç¨åé‡è¯•ã€‚&lt;/span&gt; ï¼ˆæ¥æºï¼šä¸€è¨€APIï¼‰' %&gt;&lt;% } %&gt;</code></pre><p>åŒæ—¶åœ¨<code>/themes/matery/layout/_partial/head.ejs</code>å¢åŠ ä»£ç ï¼š</p><pre><code>&lt;script src="https://v1.hitokoto.cn/?c=d&amp;encode=js&amp;select=%23hitokoto" defer&gt;&lt;/script&gt;</code></pre><h2 id="2-è§†è§‰ç¾åŒ–"><a href="#2-è§†è§‰ç¾åŒ–" class="headerlink" title="2. è§†è§‰ç¾åŒ–"></a>2. è§†è§‰ç¾åŒ–</h2><h3 id="2-1-ä¿®æ”¹ä¸»é¢˜é¢œè‰²åŠå¯¼èˆªé€æ˜æ•ˆæœ"><a href="#2-1-ä¿®æ”¹ä¸»é¢˜é¢œè‰²åŠå¯¼èˆªé€æ˜æ•ˆæœ" class="headerlink" title="2.1 ä¿®æ”¹ä¸»é¢˜é¢œè‰²åŠå¯¼èˆªé€æ˜æ•ˆæœ"></a>2.1 ä¿®æ”¹ä¸»é¢˜é¢œè‰²åŠå¯¼èˆªé€æ˜æ•ˆæœ</h3><p>åœ¨ä¸»é¢˜æ–‡ä»¶çš„ /source/css/matery.css æ–‡ä»¶ä¸­ï¼Œæœç´¢ .bg-color æ¥ä¿®æ”¹èƒŒæ™¯é¢œè‰²ï¼š</p><pre><code>/* æ•´ä½“èƒŒæ™¯é¢œè‰²ï¼ŒåŒ…æ‹¬å¯¼èˆªã€ç§»åŠ¨ç«¯çš„å¯¼èˆªã€é¡µå°¾ã€æ ‡ç­¾é¡µç­‰çš„èƒŒæ™¯é¢œè‰²ã€é€æ˜æ•ˆæœ. */.bg-color {    background-image: linear-gradient(to right, #4cbf30 0%, #0f9d58 100%);    opacity: 0.8;  //é€æ˜æ•ˆæœ å€¼èŒƒå›´ 0~1ï¼Œçœ‹æƒ…å†µè‡ªå·±ä¿®æ”¹}/*å¦‚æœæƒ³å»æ‰bannerå›¾çš„é¢œè‰²æ¸å˜æ•ˆæœï¼Œè¯·å°†ä»¥ä¸‹çš„csså±æ€§æ³¨é‡Šæ‰æˆ–è€…åˆ é™¤æ‰å³å¯*/@-webkit-keyframes rainbow {   /* åŠ¨æ€åˆ‡æ¢èƒŒæ™¯é¢œè‰². */}@keyframes rainbow {    /* åŠ¨æ€åˆ‡æ¢èƒŒæ™¯é¢œè‰². */}</code></pre><h3 id="2-2-ä¿®æ”¹-banner-å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾"><a href="#2-2-ä¿®æ”¹-banner-å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾" class="headerlink" title="2.2 ä¿®æ”¹ banner å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾"></a>2.2 ä¿®æ”¹ banner å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾</h3><p>ä½ å¯ä»¥ç›´æ¥åœ¨ /source/medias/banner æ–‡ä»¶å¤¹ä¸­æ›´æ¢ä½ å–œæ¬¢çš„ banner å›¾ç‰‡ï¼Œä¸»é¢˜ä»£ç ä¸­æ˜¯æ¯å¤©åŠ¨æ€åˆ‡æ¢ä¸€å¼ ï¼Œåªéœ€ 7 å¼ å³å¯ã€‚</p><p>å¦‚æœæƒ³æ”¹ä¸ºæ¯å°æ—¶æˆ–è€…æ¯åˆ†é’Ÿåˆ‡æ¢bannerå›¾çš„è¯ï¼Œå¯ä»¥åœ¨ /layout/_partial/bg-cover-content.ejs æ–‡ä»¶çš„ <code>bannerUrl</code> ä»£ç ä¸­ï¼Œå°†getDay()æ”¹ä¸ºgetHours()æˆ–è€…getMinutes()å³å¯ï¼Œå½“ç„¶éœ€è¦å†ä¸Šè¿°æ–‡ä»¶å¤¹ä¸­æœ‰è¶³å¤Ÿå¤šçš„å›¾ç‰‡ï¼Œå¦‚æ¢æˆæ¯å°æ—¶å°±éœ€è¦24å¼ å›¾ã€‚</p><pre><code>var bannerUrl = "&lt;%- theme.jsDelivr.url %&gt;&lt;%- url_for('/medias/banner/') %&gt;" + new Date().getDay() + '.jpg';</code></pre><h3 id="2-3-ä¿®æ”¹é¡µè„šã€è·³åŠ¨çº¢å¿ƒ"><a href="#2-3-ä¿®æ”¹é¡µè„šã€è·³åŠ¨çº¢å¿ƒ" class="headerlink" title="2.3 ä¿®æ”¹é¡µè„šã€è·³åŠ¨çº¢å¿ƒ"></a>2.3 ä¿®æ”¹é¡µè„šã€è·³åŠ¨çº¢å¿ƒ</h3><h4 id="2-3-1-è·³åŠ¨çº¢å¿ƒ"><a href="#2-3-1-è·³åŠ¨çº¢å¿ƒ" class="headerlink" title="2.3.1 è·³åŠ¨çº¢å¿ƒ"></a>2.3.1 è·³åŠ¨çº¢å¿ƒ</h4><ol><li><p>åœ¨æ–‡ä»¶çš„æœ€ä¸‹é¢åŠ ä¸Šä»¥ä¸‹ä»£ç </p><pre><code>&lt;head&gt;&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"&gt;&lt;/head&gt;</code></pre></li><li><p>å°†éœ€è¦åŠ è·³åŠ¨çº¢å¿ƒçš„åœ°æ–¹åŠ ä¸Šä»¥ä¸‹ä»£ç </p><pre><code>&lt;i id="heartbeat" class="fa fas fa-heartbeat"&gt;&lt;/i&gt;</code></pre></li></ol><h4 id="2-3-2-ä¿®æ”¹é¡µè„š"><a href="#2-3-2-ä¿®æ”¹é¡µè„š" class="headerlink" title="2.3.2 ä¿®æ”¹é¡µè„š"></a>2.3.2 ä¿®æ”¹é¡µè„š</h4><p>ä¿®æ”¹çš„åœ°æ–¹<code>themes\matery\layout\_partial/footer.ejs</code>æ–‡ä»¶ä¸­ï¼ŒåŒ…æ‹¬ç«™ç‚¹ã€ä½¿ç”¨çš„ä¸»é¢˜ã€è®¿é—®é‡ç­‰ã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-14.png" alt="image-20200619215304130"></p><p>æˆ‘çš„é…ç½®ï¼š</p><pre><code>&lt;div class="col s12 m8 l8 copy-right"&gt;    &amp;copy;&lt;span id="year"&gt;&lt;%- theme.time.year %&gt;&lt;/span&gt;-&lt;span id="year"&gt;&lt;%- theme.time.year +1 %&gt;&lt;/span&gt;&amp;nbsp;&lt;i id="heartbeat" class="fa fas fa-heartbeat"&gt;&lt;/i&gt;&amp;nbsp;    &lt;a href="&lt;%- url_for('/about') %&gt;" target="_blank"&gt;&lt;%- config.author %&gt;&lt;/a&gt;    &lt;br&gt;å¿«ä¹æ¯ä¸€å¤©ï¼    &lt;br&gt;&lt;% if (theme.postInfo.totalCount) { %&gt;</code></pre><h3 id="2-4-ä¿®æ”¹æ‰“èµäºŒç»´ç "><a href="#2-4-ä¿®æ”¹æ‰“èµäºŒç»´ç " class="headerlink" title="2.4 ä¿®æ”¹æ‰“èµäºŒç»´ç "></a>2.4 ä¿®æ”¹æ‰“èµäºŒç»´ç </h3><p>åœ¨ä¸»é¢˜æ–‡ä»¶çš„ source/medias/reward æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥æ›¿æ¢æˆä½ çš„çš„å¾®ä¿¡å’Œæ”¯ä»˜å®çš„æ‰“èµäºŒç»´ç å›¾ç‰‡ã€‚</p><h3 id="2-5-ä¿®æ”¹ç¤¾äº¤é“¾æ¥"><a href="#2-5-ä¿®æ”¹ç¤¾äº¤é“¾æ¥" class="headerlink" title="2.5 ä¿®æ”¹ç¤¾äº¤é“¾æ¥"></a>2.5 ä¿®æ”¹ç¤¾äº¤é“¾æ¥</h3><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlä¸­ï¼Œæœç´¢<code>socialLink</code>ï¼Œä¸é…ç½®å€¼ä»£è¡¨ä¸å¯ç”¨ï¼Œè¿™æ˜¯æˆ‘çš„é…ç½®ï¼š</p><pre><code># é¦–é¡µ banner ä¸­çš„ç¬¬äºŒè¡Œä¸ªäººä¿¡æ¯é…ç½®ï¼Œç•™ç©ºå³ä¸å¯ç”¨socialLink:  github:  https://github.com/fenghen0918  email: 443175565@qq.com  facebook: # https://www.facebook.com/xxx  twitter: # https://twitter.com/xxx  qq: 443175565  weibo: # https://weibo.com/xxx  zhihu: # https://www.zhihu.com/xxx  rss:  # trueã€false  weixin: https://cdn.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/medias/imgs/wechat.png</code></pre><p>å…¶ä¸­çš„weixinæˆ‘æ˜¯ç”¨çš„å›¾ç‰‡é“¾æ¥ï¼Œä¼šè·³è½¬åˆ°ä¸€ä¸ªæ–°çš„æ ‡ç­¾é¡µï¼Œä¹‹åè¿˜éœ€è¦ä¿®æ”¹ejsæ–‡ä»¶ï¼Œæ–‡ä»¶åœ¨ä¸»é¢˜ç›®å½•ä¸‹çš„layoutæ–‡ä»¶å¤¹ä¸‹çš„_partialæ–‡ä»¶å¤¹ï¼Œä¿®æ”¹social-link.ejsï¼Œæ·»åŠ ç›¸å…³çš„é…ç½®ï¼Œæˆ‘ä¸ªäººæ·»åŠ çš„é…ç½®å¦‚ä¸‹ï¼š</p><pre><code>&lt;% if (theme.socialLink.weixin) { %&gt;    &lt;a href="&lt;%= theme.socialLink.weixin %&gt;" class="tooltipped" target="_blank" data-tooltip="å¾®ä¿¡è”ç³»æˆ‘: " data-position="top" data-delay="50"&gt;        &lt;i class="fab fa-weixin"&gt;&lt;/i&gt;    &lt;/a&gt;&lt;% } %&gt;</code></pre><h3 id="2-6-åŠ¨æ€æ ‡é¢˜"><a href="#2-6-åŠ¨æ€æ ‡é¢˜" class="headerlink" title="2.6 åŠ¨æ€æ ‡é¢˜"></a>2.6 åŠ¨æ€æ ‡é¢˜</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-15.png" alt="image-20200619221831563"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-16.png" alt="image-20200619222009100"></p><p>åœ¨ä¸»é¢˜æ–‡ä»¶ä¸‹çš„<code>themes\matery\source\js</code>ä¸‹æ–°å»º<code>FunnyTitle.js</code>ï¼Œå¢åŠ ä»¥ä¸‹ä»£ç </p><pre><code> var OriginTitle = document.title; var titleTime; document.addEventListener('visibilitychange', function () {     if (document.hidden) {         $('[rel="icon"]').attr('href', "https://cdn.jsdelivr.net/gh/Yafine/cdn@2.2/source/favicon.png");         document.title = 'ãƒ½(â—-`Ğ”Â´-)ãƒä½ è¦ç©æ‰è¿·è—å˜›';         clearTimeout(titleTime);     }     else {         $('[rel="icon"]').attr('href', "https://cdn.jsdelivr.net/gh/Yafine/cdn@2.2/source/favicon.png");         document.title = 'ãƒ¾(Åâˆ€Å3)ãƒå¥½å“¦ï¼' + OriginTitle;         titleTime = setTimeout(function () {             document.title = OriginTitle;         }, 2000);     } });</code></pre><p>åœ¨<code>themes/matery/layout/layout.ejs</code>æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><pre><code>  &lt;script type="text/javascript"&gt;        var OriginTitile=document.title,st;        document.addEventListener("visibilitychange",function(){            document.hidden?(document.title="ãƒ½(â—-`Ğ”Â´-)ãƒä½ è¦ç©æ‰è¿·è—å˜›",clearTimeout(st)):(document.title="(Åâˆ€Å3)ãƒå¥½å“¦ï¼",st=setTimeout(function(){document.title=OriginTitile},3e3))        })    &lt;/script&gt;</code></pre><h3 id="2-7-é¼ æ ‡ç‚¹å‡»æ–‡å­—ç‰¹æ•ˆ"><a href="#2-7-é¼ æ ‡ç‚¹å‡»æ–‡å­—ç‰¹æ•ˆ" class="headerlink" title="2.7 é¼ æ ‡ç‚¹å‡»æ–‡å­—ç‰¹æ•ˆ"></a>2.7 é¼ æ ‡ç‚¹å‡»æ–‡å­—ç‰¹æ•ˆ</h3><p>åœ¨<code>themes/matery/layout/layout.ejs</code>ä¸­ï¼Œåœ¨æœ€åå¢åŠ ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>    &lt;script type="text/javascript"&gt;    var a_idx = 0;jQuery(document).ready(function ($) {    $("body").click(function (e) {        var a = new Array("å¯Œå¼º", "æ°‘ä¸»", "æ–‡æ˜", "å’Œè°", "è‡ªç”±", "å¹³ç­‰", "å…¬æ­£", "æ³•æ²»", "çˆ±å›½", "æ•¬ä¸š", "è¯šä¿¡", "å‹å–„");        var $i = $("&lt;span/&gt;").text(a[a_idx]);        a_idx = (a_idx + 1) % a.length;        var x = e.pageX,            y = e.pageY;        $i.css({            "z-index": 5,            "top": y - 20,            "left": x,            "position": "absolute",            "font-weight": "bold",            "color": "#FF0000"        });        $("body").append($i);        $i.animate({                "top": y - 180,                "opacity": 0            },            3000,            function () {                $i.remove();            });    });    setTimeout('delay()', 2000);});function delay() {    $(".buryit").removeAttr("onclick");}    &lt;/script&gt;</code></pre><h3 id="2-8-ç‚¹å‡»â€œçˆ±å¿ƒâ€æ•ˆæœ"><a href="#2-8-ç‚¹å‡»â€œçˆ±å¿ƒâ€æ•ˆæœ" class="headerlink" title="2.8 ç‚¹å‡»â€œçˆ±å¿ƒâ€æ•ˆæœ"></a>2.8 ç‚¹å‡»â€œçˆ±å¿ƒâ€æ•ˆæœ</h3><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æœç´¢<code>clicklove</code>ï¼Œå°†enableè®¾ç½®ä¸ºtrueå³å¯</p><pre><code>clicklove:  enable: true</code></pre><h3 id="2-9-èƒŒæ™¯åŠ¨æ€ç§‘æŠ€çº¿æ¡"><a href="#2-9-èƒŒæ™¯åŠ¨æ€ç§‘æŠ€çº¿æ¡" class="headerlink" title="2.9 èƒŒæ™¯åŠ¨æ€ç§‘æŠ€çº¿æ¡"></a>2.9 èƒŒæ™¯åŠ¨æ€ç§‘æŠ€çº¿æ¡</h3><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/Yafine/Yafine-imgs/images/04.gif" alt="1"></p><p>åœ¨<code>themes/matery/layout/layout.ejs</code>æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><pre><code>&lt;!--åŠ¨æ€çº¿æ¡èƒŒæ™¯--&gt;&lt;script type="text/javascript"color="122 103 238" opacity='0.7' zIndex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"&gt;&lt;/script&gt;</code></pre><blockquote><p>å±æ€§ä»‹ç»ï¼š</p><p>colorï¼šè¡¨ç¤ºçº¿æ¡é¢œè‰²ï¼Œä¸‰ä¸ªæ•°å­—åˆ†åˆ«ä¸º(R,G,B)ï¼Œé»˜è®¤ï¼šï¼ˆ0,0,0ï¼‰<br>opacityï¼šè¡¨ç¤ºçº¿æ¡é€æ˜åº¦ï¼ˆ0~1ï¼‰ï¼Œé»˜è®¤ï¼š0.5<br>countï¼šè¡¨ç¤ºçº¿æ¡çš„æ€»æ•°é‡ï¼Œé»˜è®¤ï¼š150<br>zIndexï¼šè¡¨ç¤ºèƒŒæ™¯çš„z-indexå±æ€§ï¼Œcsså±æ€§ç”¨äºæ§åˆ¶æ‰€åœ¨å±‚çš„ä½ç½®ï¼Œé»˜è®¤ï¼š-1</p></blockquote><h3 id="2-10-èƒŒæ™¯æ¨±èŠ±é£˜è½æ•ˆæœ"><a href="#2-10-èƒŒæ™¯æ¨±èŠ±é£˜è½æ•ˆæœ" class="headerlink" title="2.10 èƒŒæ™¯æ¨±èŠ±é£˜è½æ•ˆæœ"></a>2.10 èƒŒæ™¯æ¨±èŠ±é£˜è½æ•ˆæœ</h3><p>åœ¨<code>themes/matery/source/js</code>ç›®å½•ä¸‹æ–°å»º<code>sakura.js</code>æ–‡ä»¶ï¼Œæ‰“å¼€è¿™ä¸ªç½‘å€<a href="https://sulog.oss-cn-hangzhou.aliyuncs.com/Yafine/cdn@3.3.1/source/js/sakura.js">ä¼ é€é—¨</a>ï¼Œå°†å†…å®¹å¤åˆ¶ç²˜è´´åˆ°<code>sakura.js</code>å³å¯ã€‚</p><p>ç„¶ååœ¨<code>themes/matery/layout/layout.ejs</code>æ–‡ä»¶å†…æ·»åŠ ä¸‹é¢çš„å†…å®¹ï¼š</p><pre><code>&lt;script type="text/javascript"&gt;//åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µå¯ç”¨ç‰¹æ•ˆvar windowWidth = $(window).width();if (windowWidth &gt; 768) {    document.write('&lt;script type="text/javascript" src="/js/sakura.js"&gt;&lt;\/script&gt;');}&lt;/script&gt;</code></pre><h3 id="2-11-é¡µé¢è·å–æ ‡é¢˜"><a href="#2-11-é¡µé¢è·å–æ ‡é¢˜" class="headerlink" title="2.11 é¡µé¢è·å–æ ‡é¢˜"></a>2.11 é¡µé¢è·å–æ ‡é¢˜</h3><blockquote><p>è®©æ¯ä¸ªé¡µé¢éƒ½è·å¾—ç›¸å¯¹åº”çš„æ ‡é¢˜ï¼Œè€Œä¸éƒ½æ˜¯ä¸»é¡µçš„æ ‡é¢˜</p></blockquote><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2-17.png" alt="image-20200619224014710"></p><p>ä¿®æ”¹<code>themes\matery\layout\_partial</code>ä¸­çš„<code>bg-cover-content.ejs</code>æ–‡ä»¶ï¼Œå…¶ä¸­åŸä¸»é¢˜ä¸­è¿™ä¸ªæ–‡ä»¶çš„ä»£ç ä¸º(å¤§çº¦åœ¨ç¬¬4è¡Œ)ï¼š</p><p>ä¿®æ”¹å‰ï¼š</p><pre><code>&lt;div class="title center-align"&gt;     &lt;% if (config.subtitle &amp;&amp; config.subtitle.length &gt; 0) { %&gt;            &lt;%= config.subtitle %&gt;     &lt;% } else { %&gt;            subtitle     &lt;% } %&gt;&lt;/div&gt;</code></pre><p>ä¿®æ”¹å(2ã€4è¡Œæœ‰ä¿®æ”¹)</p><pre><code>&lt;div class="title center-align"&gt;     &lt;% if (is_home() &amp;&amp; config.subtitle &amp;&amp; config.subtitle.length &gt; 0) { %&gt;        &lt;%= config.subtitle %&gt;     &lt;% } else { %&gt;        &lt;%= page.title %&gt;     &lt;% } %&gt;&lt;/div&gt;</code></pre><blockquote><p>è¿™ä¸ªæœ‰ä¸€ç‚¹bugï¼Œå½’æ¡£é¡µé¢æ ‡é¢˜æ— æ³•æ˜¾ç¤ºï¼Œè§£å†³åŠæ³•ç›®å‰è¿˜æ²¡æœ‰ã€‚</p></blockquote><p>é¡µé¢çš„æ ‡é¢˜åœ¨åˆ›å»ºé¡µé¢æ—¶çš„mdæ–‡æ¡£ä¸­<code>front-matter</code>å±æ€§ä¸­<code>title</code>çš„å€¼ï¼Œå¯ä»¥æ˜¯ä¸­/è‹±æ–‡ã€‚</p><h3 id="2-12-æ‰“å­—æœºæ•ˆæœ"><a href="#2-12-æ‰“å­—æœºæ•ˆæœ" class="headerlink" title="2.12 æ‰“å­—æœºæ•ˆæœ"></a>2.12 æ‰“å­—æœºæ•ˆæœ</h3><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æœç´¢<code>subtitle</code>ï¼Œä¿®æ”¹ä»¥ä¸‹é…ç½®</p><pre><code># æ‰“å­—æ•ˆæœå‰¯æ ‡é¢˜.# å¦‚æœæœ‰ç¬¦å· â€˜ ï¼Œè¯·åœ¨ â€™ å‰é¢åŠ ä¸Š \subtitle:  enable: true  loop: true # æ˜¯å¦å¾ªç¯  showCursor: true # æ˜¯å¦æ˜¾ç¤ºå…‰æ ‡  startDelay: 300 # å¼€å§‹å»¶è¿Ÿ  typeSpeed: 130 # æ‰“å­—é€Ÿåº¦  backSpeed: 80 # åˆ é™¤é€Ÿåº¦  sub1: æ¬¢è¿æ¥åˆ°å°è‹çš„åšå®¢ï¼  sub2: å¿—ä¹‹æ‰€å‘ï¼Œé‡‘çŸ³ä¸ºå¼€ï¼Œè°èƒ½å¾¡ä¹‹ï¼Ÿ</code></pre><blockquote><p>æ³¨æ„ï¼šmateryåªæä¾›äº†ä¸¤ä¸ªå‰¯æ ‡é¢˜</p></blockquote><h3 id="2-13-ä¿®æ”¹å…¨å±€å­—ä½“"><a href="#2-13-ä¿®æ”¹å…¨å±€å­—ä½“" class="headerlink" title="2.13 ä¿®æ”¹å…¨å±€å­—ä½“"></a>2.13 ä¿®æ”¹å…¨å±€å­—ä½“</h3><ol><li><p>åœ¨æ ¹ç›®å½•ä¸‹çš„ <code>source </code>æ–‡ä»¶å¤¹å†…åˆ›å»ºä¸€ä¸ªåä¸º <code>font</code> çš„æ–‡ä»¶å¤¹ï¼Œå³æ–‡ä»¶å¤¹è·¯å¾„ä¸º <code>/source/font/ </code>ï¼Œç”¨æ¥ç»Ÿä¸€å­˜æ”¾ä½ è¦ç”¨åˆ°çš„å­—ä½“ã€‚</p></li><li><p>å°†ä½ è¦ç”¨åˆ°çš„å­—ä½“æ”¾å…¥ä¸Šè¿°åˆ›å»ºçš„æ–‡ä»¶å¤¹å†…ï¼Œå­—ä½“åç§°æœ€å¥½ä¸ºè‹±æ–‡ï¼Œå¦‚ /source/font/myFont.ttf</p><blockquote><p>å­—ä½“ä¸‹è½½æ¨èï¼š<a href="http://www.diyiziti.com/">http://www.diyiziti.com/</a></p></blockquote></li><li><p>æ‰¾åˆ° <code>/themes/matery/source/css/</code>ä¸‹çš„ my.css æ–‡ä»¶ï¼Œå¡«å…¥ä¸‹é¢çš„ä»£ç ï¼š</p><pre><code>@font-face{    font-family: 'myFont';    src: url('../font/myFont.ttf');}body{    font-family: 'myFont';}</code></pre><blockquote><p>å°†ä¸Šé¢çš„ myFont æ”¹æˆä½ è‡ªå·±çš„å­—ä½“åç§°å³å¯</p></blockquote></li></ol><h3 id="2-14-è‡ªå®šä¹‰é¼ æ ‡æ ·å¼"><a href="#2-14-è‡ªå®šä¹‰é¼ æ ‡æ ·å¼" class="headerlink" title="2.14 è‡ªå®šä¹‰é¼ æ ‡æ ·å¼"></a>2.14 è‡ªå®šä¹‰é¼ æ ‡æ ·å¼</h3><p>é¦–å…ˆå°†é¼ æ ‡æ ·å¼ä¸‹è½½åˆ°æœ¬åœ°ï¼Œæ¨èå¤§å®¶ä¸€ä¸ªç½‘ç«™ï¼š<a href="https://zhutix.com/ico/ori-cursors/">https://zhutix.com/ico/ori-cursors/</a></p><p>ä»¥æˆ‘çš„ä¸ºä¾‹ï¼Œæˆ‘å°†é¼ æ ‡æŒ‡é’ˆæ ·å¼æ”¾åœ¨äº†ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„mediasç›®å½•ä¸‹ï¼Œç„¶åæ‰“å¼€<code>themes\matery\source\css</code>ä¸‹çš„<strong>my.css</strong>æ–‡ä»¶ï¼Œæ·»åŠ å†…å®¹å¦‚ä¸‹ï¼š</p><pre><code>*{    cursor: url("/medias/imgs/zhengchang.ico"),auto!important;}:active{    cursor: url("/medias/imgs/dianji.ico"),auto!important;}</code></pre><h2 id="3-åšå®¢ä¼˜åŒ–"><a href="#3-åšå®¢ä¼˜åŒ–" class="headerlink" title="3. åšå®¢ä¼˜åŒ–"></a>3. åšå®¢ä¼˜åŒ–</h2><h3 id="3-1-gulpä»£ç å‹ç¼©"><a href="#3-1-gulpä»£ç å‹ç¼©" class="headerlink" title="3.1 gulpä»£ç å‹ç¼©"></a>3.1 gulpä»£ç å‹ç¼©</h3><blockquote><p>hexoç”Ÿæˆçš„htmlã€cssã€jsç­‰éƒ½æœ‰å¾ˆå¤šçš„ç©ºæ ¼æˆ–è€…æ¢è¡Œï¼Œè€Œç©ºæ ¼å’Œæ¢è¡Œä¹Ÿæ˜¯å ç”¨å­—èŠ‚çš„ï¼Œæ‰€ä»¥éœ€è¦å°†ç©ºæ ¼æ¢è¡Œå»æ‰ä¹Ÿå°±æ˜¯æˆ‘è¦è¿›è¡Œçš„â€œå‹ç¼©â€ï¼Œå‡å°ä¸€ç‚¹èµ„æºæ–‡ä»¶çš„å¤§å°ä¹Ÿæ˜¯å¯¹è®¿é—®é€Ÿåº¦æœ‰é‚£ä¹ˆä¸€ç‚¹æå‡çš„ã€‚</p></blockquote><ol><li><p>åœ¨ç«™ç‚¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå®‰è£…æ’ä»¶</p><pre><code># å…¨å±€å®‰è£…gulpæ¨¡å—npm install gulp -g# å®‰è£…å„ç§å°åŠŸèƒ½æ¨¡å—  æ‰§è¡Œè¿™æ­¥çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šæç¤ºæƒé™çš„é—®é¢˜ï¼Œæœ€å¥½ä»¥ç®¡ç†å‘˜æ¨¡å¼æ‰§è¡Œnpm install gulp gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save# é¢å¤–çš„åŠŸèƒ½æ¨¡å—npm install gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del @babel/core --save</code></pre></li><li><p>åœ¨Hexoæ ¹ç›®å½•æ–°å»ºæ–‡ä»¶ gulpfile.jsï¼Œå¹¶å¤åˆ¶ä»¥ä¸‹å†…å®¹åˆ°æ–‡ä»¶ä¸­ï¼Œæœ‰ä¸­æ–‡æ³¨é‡Šï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚ä¿®æ”¹ã€‚ï¼ˆæ³¨æ„ï¼šæ–‡ä»¶åä¸èƒ½é”™ï¼Œä¸€å®šä¸ºgulpfile.jsï¼Œå¦åˆ™ä¼šå‡ºé”™ï¼ï¼‰</p><pre><code>var gulp = require("gulp");var debug = require("gulp-debug");var cleancss = require("gulp-clean-css"); //csså‹ç¼©ç»„ä»¶var uglify = require("gulp-uglify"); //jså‹ç¼©ç»„ä»¶var htmlmin = require("gulp-htmlmin"); //htmlå‹ç¼©ç»„ä»¶var htmlclean = require("gulp-htmlclean"); //htmlæ¸…ç†ç»„ä»¶var imagemin = require("gulp-imagemin"); //å›¾ç‰‡å‹ç¼©ç»„ä»¶var changed = require("gulp-changed"); //æ–‡ä»¶æ›´æ”¹æ ¡éªŒç»„ä»¶var gulpif = require("gulp-if"); //ä»»åŠ¡ å¸®åŠ©è°ƒç”¨ç»„ä»¶var plumber = require("gulp-plumber"); //å®¹é”™ç»„ä»¶ï¼ˆå‘ç”Ÿé”™è¯¯ä¸è·³å‡ºä»»åŠ¡ï¼Œå¹¶æŠ¥å‡ºé”™è¯¯å†…å®¹ï¼‰var isScriptAll = true; //æ˜¯å¦å¤„ç†æ‰€æœ‰æ–‡ä»¶ï¼Œ(true|å¤„ç†æ‰€æœ‰æ–‡ä»¶)(false|åªå¤„ç†æœ‰æ›´æ”¹çš„æ–‡ä»¶)var isDebug = true; //æ˜¯å¦è°ƒè¯•æ˜¾ç¤º ç¼–è¯‘é€šè¿‡çš„æ–‡ä»¶var gulpBabel = require("gulp-babel");var es2015Preset = require("babel-preset-es2015");var del = require("del");var Hexo = require("hexo");var hexo = new Hexo(process.cwd(), {}); // åˆå§‹åŒ–ä¸€ä¸ªhexoå¯¹è±¡// æ¸…é™¤publicæ–‡ä»¶å¤¹gulp.task("clean", function () {    return del(["public/**/*"]);});// ä¸‹é¢å‡ ä¸ªè·Ÿhexoæœ‰å…³çš„æ“ä½œï¼Œä¸»è¦é€šè¿‡hexo.call()å»æ‰§è¡Œï¼Œæ³¨æ„return// åˆ›å»ºé™æ€é¡µé¢ ï¼ˆç­‰åŒ hexo generateï¼‰gulp.task("generate", function () {    return hexo.init().then(function () {        return hexo            .call("generate", {                watch: false            })            .then(function () {                return hexo.exit();            })            .catch(function (err) {                return hexo.exit(err);            });    });});// å¯åŠ¨HexoæœåŠ¡å™¨gulp.task("server", function () {    return hexo        .init()        .then(function () {            return hexo.call("server", {});        })        .catch(function (err) {            console.log(err);        });});// éƒ¨ç½²åˆ°æœåŠ¡å™¨gulp.task("deploy", function () {    return hexo.init().then(function () {        return hexo            .call("deploy", {                watch: false            })            .then(function () {                return hexo.exit();            })            .catch(function (err) {                return hexo.exit(err);            });    });});// å‹ç¼©publicç›®å½•ä¸‹çš„jsæ–‡ä»¶gulp.task("compressJs", function () {    return gulp        .src(["./public/**/*.js", "!./public/libs/**"]) //æ’é™¤çš„js        .pipe(gulpif(!isScriptAll, changed("./public")))        .pipe(gulpif(isDebug, debug({ title: "Compress JS:" })))        .pipe(plumber())        .pipe(            gulpBabel({                presets: [es2015Preset] // es5æ£€æŸ¥æœºåˆ¶            })        )        .pipe(uglify()) //è°ƒç”¨å‹ç¼©ç»„ä»¶æ–¹æ³•uglify(),å¯¹åˆå¹¶çš„æ–‡ä»¶è¿›è¡Œå‹ç¼©        .pipe(gulp.dest("./public")); //è¾“å‡ºåˆ°ç›®æ ‡ç›®å½•});// å‹ç¼©publicç›®å½•ä¸‹çš„cssæ–‡ä»¶gulp.task("compressCss", function () {    var option = {        rebase: false,        //advanced: true, //ç±»å‹ï¼šBoolean é»˜è®¤ï¼štrue [æ˜¯å¦å¼€å¯é«˜çº§ä¼˜åŒ–ï¼ˆåˆå¹¶é€‰æ‹©å™¨ç­‰ï¼‰]        compatibility: "ie7" //ä¿ç•™ie7åŠä»¥ä¸‹å…¼å®¹å†™æ³• ç±»å‹ï¼šString é»˜è®¤ï¼š''or'*' [å¯ç”¨å…¼å®¹æ¨¡å¼ï¼› 'ie7'ï¼šIE7å…¼å®¹æ¨¡å¼ï¼Œ'ie8'ï¼šIE8å…¼å®¹æ¨¡å¼ï¼Œ'*'ï¼šIE9+å…¼å®¹æ¨¡å¼]        //keepBreaks: true, //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse [æ˜¯å¦ä¿ç•™æ¢è¡Œ]        //keepSpecialComments: '*' //ä¿ç•™æ‰€æœ‰ç‰¹æ®Šå‰ç¼€ å½“ä½ ç”¨autoprefixerç”Ÿæˆçš„æµè§ˆå™¨å‰ç¼€ï¼Œå¦‚æœä¸åŠ è¿™ä¸ªå‚æ•°ï¼Œæœ‰å¯èƒ½å°†ä¼šåˆ é™¤ä½ çš„éƒ¨åˆ†å‰ç¼€    };    return gulp        .src(["./public/**/*.css", "!./public/**/*.min.css"]) //æ’é™¤çš„css        .pipe(gulpif(!isScriptAll, changed("./public")))        .pipe(gulpif(isDebug, debug({ title: "Compress CSS:" })))        .pipe(plumber())        .pipe(cleancss(option))        .pipe(gulp.dest("./public"));});// å‹ç¼©publicç›®å½•ä¸‹çš„htmlæ–‡ä»¶gulp.task("compressHtml", function () {    var cleanOptions = {        protect: /&lt;\!--%fooTemplate\b.*?%--&gt;/g, //å¿½ç•¥å¤„ç†        unprotect: /&lt;script [^&gt;]*\btype="text\/x-handlebars-template"[\s\S]+?&lt;\/script&gt;/gi //ç‰¹æ®Šå¤„ç†    };    var minOption = {        collapseWhitespace: true, //å‹ç¼©HTML        collapseBooleanAttributes: true, //çœç•¥å¸ƒå°”å±æ€§çš„å€¼ &lt;input checked="true"/&gt; ==&gt; &lt;input /&gt;        removeEmptyAttributes: true, //åˆ é™¤æ‰€æœ‰ç©ºæ ¼ä½œå±æ€§å€¼ &lt;input id="" /&gt; ==&gt; &lt;input /&gt;        removeScriptTypeAttributes: true, //åˆ é™¤&lt;script&gt;çš„type="text/javascript"        removeStyleLinkTypeAttributes: true, //åˆ é™¤&lt;style&gt;å’Œ&lt;link&gt;çš„type="text/css"        removeComments: true, //æ¸…é™¤HTMLæ³¨é‡Š        minifyJS: true, //å‹ç¼©é¡µé¢JS        minifyCSS: true, //å‹ç¼©é¡µé¢CSS        minifyURLs: true //æ›¿æ¢é¡µé¢URL    };    return gulp        .src("./public/**/*.html")        .pipe(gulpif(isDebug, debug({ title: "Compress HTML:" })))        .pipe(plumber())        .pipe(htmlclean(cleanOptions))        .pipe(htmlmin(minOption))        .pipe(gulp.dest("./public"));});// å‹ç¼© public/medias ç›®å½•å†…å›¾ç‰‡gulp.task("compressImage", function () {    var option = {        optimizationLevel: 5, //ç±»å‹ï¼šNumber é»˜è®¤ï¼š3 å–å€¼èŒƒå›´ï¼š0-7ï¼ˆä¼˜åŒ–ç­‰çº§ï¼‰        progressive: true, //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse æ— æŸå‹ç¼©jpgå›¾ç‰‡        interlaced: false, //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse éš”è¡Œæ‰«ægifè¿›è¡Œæ¸²æŸ“        multipass: false //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse å¤šæ¬¡ä¼˜åŒ–svgç›´åˆ°å®Œå…¨ä¼˜åŒ–    };    return gulp        .src("./public/medias/**/*.*")        .pipe(gulpif(!isScriptAll, changed("./public/medias")))        .pipe(gulpif(isDebug, debug({ title: "Compress Images:" })))        .pipe(plumber())        .pipe(imagemin(option))        .pipe(gulp.dest("./public"));});// æ‰§è¡Œé¡ºåºï¼š æ¸…é™¤publicç›®å½• -&gt; äº§ç”ŸåŸå§‹åšå®¢å†…å®¹ -&gt; æ‰§è¡Œå‹ç¼©æ··æ·† -&gt; éƒ¨ç½²åˆ°æœåŠ¡å™¨gulp.task(    "build",    gulp.series(        "clean",        "generate",        "compressHtml",        "compressCss",        "compressJs",        gulp.parallel("deploy")    ));// é»˜è®¤ä»»åŠ¡gulp.task(    "default",    gulp.series(        "clean",        "generate",        gulp.parallel("compressHtml", "compressCss", "compressJs")    ));//Gulp4æœ€å¤§çš„ä¸€ä¸ªæ”¹å˜å°±æ˜¯gulp.taskå‡½æ•°ç°åœ¨åªæ”¯æŒä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ä»»åŠ¡åå’Œè¿è¡Œä»»åŠ¡çš„å‡½æ•°</code></pre><blockquote><p>æ³¨æ„ï¼šè¿™é‡Œæˆ‘å»æ‰äº†å›¾ç‰‡çš„å‹ç¼©ï¼Œå¦‚æœæƒ³è¦åŠ ä¸Šå¯ä»¥åœ¨ç¬¬154è¡ŒåŠ ä¸Š â€œcompressImageâ€, å’Œç¬¬165è¡Œçš„åŠ ä¸Šâ€compressImageâ€ å³å¯</p></blockquote></li><li><p>ä½¿ç”¨ï¼ˆä¸¤ç§æ–¹å¼ï¼‰ï¼š</p><ul><li>ç›´æ¥åœ¨Hexoæ ¹ç›®å½•æ‰§è¡Œ gulpï¼Œè¿™ä¸ªå‘½ä»¤ç›¸å½“äº hexo cl&amp;&amp;hexo g å¹¶ä¸”å†æŠŠä»£ç å‹ç¼©ï¼Œå†hexo sè¿›è¡Œéƒ¨ç½²å³å¯</li><li>åœ¨Hexoæ ¹ç›®å½•æ‰§è¡Œ gulp build ï¼Œè¿™ä¸ªå‘½ä»¤ä¸ç¬¬1ç§ç›¸æ¯”æ˜¯ï¼šåœ¨æœ€ååˆåŠ äº†ä¸ª hexo d ï¼Œç­‰äºè¯´ç”Ÿæˆã€å‹ç¼©æ–‡ä»¶ååˆå¸®ä½ è‡ªåŠ¨éƒ¨ç½²äº†</li></ul></li></ol><h3 id="3-1-CDNåŠ é€Ÿ"><a href="#3-1-CDNåŠ é€Ÿ" class="headerlink" title="3.1 CDNåŠ é€Ÿ"></a>3.1 CDNåŠ é€Ÿ</h3><blockquote><p>å…³äºCDNæ˜¯ä»€ä¹ˆï¼Ÿå‚è€ƒ<a href="https://yafine-blog.cn/posts/ee35.html">åŠ±å¿ƒå¤§ä½¬</a></p><p>ç”±äºæˆ‘ä»¬å°†åšå®¢éƒ¨ç½²åˆ°äº†å›½å¤–çš„Githubä¸Šï¼Œå›½å†…è®¿é—®é€Ÿåº¦å¾ˆæ…¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæŠ€æœ¯æ¥å®ç°å…¨ç«™åŠ é€Ÿ</p></blockquote><p>åœ¨ç†è§£äº†CDNçš„å«ä¹‰å’Œè¯¥å¦‚ä½•ä½¿ç”¨CDNçš„å‰æä¸‹ï¼Œmateryä¸»é¢˜æœ‰ä¸€ä¸ªå¾ˆäººæ€§åŒ–çš„æ“ä½œï¼Œä¸éœ€è¦æˆ‘ä»¬å°†æ¯ä¸ªèµ„æºéƒ½é€ä¸ªè®¾ç½®ï¼Œåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlä¸­æœç´¢<code>jsDelivr</code>ï¼Œå¡«å†™urlä¸ºè‡ªå·±çš„åšå®¢ä»“åº“å³å¯ï¼Œå¦‚æˆ‘çš„ï¼š</p><pre><code>jsDelivr:  url: https://cdn.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io</code></pre><p>æ­¤æ—¶é‡æ–°<code>hexo cl &amp;&amp; hexo g &amp;&amp; hexo d</code>éƒ¨ç½²ä½ çš„é¡¹ç›®ä½“éªŒæ•ˆæœï¼Œç½‘ç«™çš„åŠ è½½é€Ÿåº¦ä¼šå¿«å¾ˆå¤šï¼ˆå…ˆçœ‹å°è‹ç»å†çš„å‘ï¼‰ã€‚</p><blockquote><p>å…³äºCDNåŠ é€Ÿçš„å‘ï¼š</p><ol><li>é…ç½®äº†æ­¤é¡¹ï¼Œå°±ä»£è¡¨ç€hexo sæœ¬åœ°è°ƒè¯•çš„æ—¶å€™ï¼Œç½‘ç«™ä¾ç„¶ä¼šå»GitHubè¯·æ±‚èµ„æºï¼ˆåŸæ¥çš„èµ„æºï¼‰ï¼Œæ‰€ä»¥æœ¬åœ°è°ƒè¯•çš„æ—¶å€™è®°å¾—å°† æ­¤é¡¹é…ç½® æ³¨é‡Šæˆ–è€…åˆ é™¤æ‰ï¼›</li><li>åœ¨hexo sæœ¬åœ°è°ƒè¯•å¥½ä¹‹åï¼Œéœ€è¦hexo déƒ¨ç½²åˆ°ç½‘ä¸Šï¼Œè¦å…ˆé…ç½®åˆ°<code>url</code>ï¼Œä¹‹åå†<code>hexo cl &amp;&amp; hexo g &amp;&amp; hexo d</code>è¿›è¡Œéƒ¨ç½²ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆï¼›</li><li>ä½¿ç”¨äº†materyæä¾›çš„å…¨å±€CDNåŠ é€Ÿï¼Œæœ‰å¯èƒ½ä½ çš„æ¨±èŠ±æ•£è½ï¼Œé¼ æ ‡å›¾æ ‡ç­‰ä¸€äº›ç‰¹æ•ˆæ¶ˆå¤±ï¼Œå…·ä½“åŸå› è¿˜ä¸æ¸…æ¥šï¼Œä¸è¿‡åŠ é€Ÿæ•ˆæœæ‰æ˜¯å°è‹æƒ³è¦çš„ï¼Œå°±èˆå¼ƒæ‰äº†è¿™äº›ç‰¹æ•ˆã€‚</li></ol></blockquote><h3 id="3-2-æ‰“é€ å›¾åºŠ"><a href="#3-2-æ‰“é€ å›¾åºŠ" class="headerlink" title="3.2 æ‰“é€ å›¾åºŠ"></a>3.2 æ‰“é€ å›¾åºŠ</h3><blockquote><p>å›¾åºŠçš„é€‰æ‹©æœ‰å…è´¹å’Œæ”¶è´¹ï¼Œåœ¨è¿™é‡Œæ¨èä¸€ç§å…è´¹æ­å»ºå›¾åºŠçš„æ–¹å¼ï¼š</p><p>PicGo+Githubï¼š<a href="https://yafine-blog.cn/posts/eb3a.html">https://yafine-blog.cn/posts/eb3a.html</a></p><p>æœ‰äº†å›¾åºŠï¼Œæˆ‘ä»¬å¯ä»¥å®ç°è‡ªå®šä¹‰ç›¸å†Œã€markdownåŸºäºå›¾åºŠä¸Šä¼ å›¾ç‰‡çš„åŠŸèƒ½ï¼Œå¾ˆå¼ºå¤§</p></blockquote><h3 id="3-3-éƒ¨ç½²åˆ°Coding"><a href="#3-3-éƒ¨ç½²åˆ°Coding" class="headerlink" title="3.3 éƒ¨ç½²åˆ°Coding"></a>3.3 éƒ¨ç½²åˆ°Coding</h3><blockquote><p>åœ¨ä¸Šé¢çš„æ•™ç¨‹æˆ‘ä»¬å¯ä»¥å°†åšå®¢éƒ¨ç½²åˆ°å›½å¤–Githubçš„ä»“åº“ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†åšå®¢éƒ¨ç½²åˆ°å›½å†…Codingã€Giteeä»“åº“ä¸Šï¼Œå¯ä»¥æé«˜ä¸€äº›ç½‘ç«™è®¿é—®çš„é€Ÿåº¦ï¼Œå°è‹åªä½¿ç”¨äº†Codingï¼Œè¿™é‡Œä¹Ÿä»‹ç»ä¸€ä¸‹ã€‚</p></blockquote><ul><li><a href="https://fenghen0918.github.io/2020/06/20/hexo-bo-ke-bu-shu-dao-coding/">https://fenghen0918.github.io/2020/06/20/hexo-bo-ke-bu-shu-dao-coding/</a></li></ul><h3 id="3-4-æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€æœ¬åœ°Markdownç¼–è¾‘å™¨"><a href="#3-4-æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€æœ¬åœ°Markdownç¼–è¾‘å™¨" class="headerlink" title="3.4 æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€æœ¬åœ°Markdownç¼–è¾‘å™¨"></a>3.4 æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€æœ¬åœ°Markdownç¼–è¾‘å™¨</h3><blockquote><p>å†™æ–°æ–‡ç« æ—¶ï¼Œéœ€è¦æ§åˆ¶å°æ‰§è¡Œhexo new â€œæ–‡ç« åå­—â€ç”Ÿæˆä¸€ç¯‡æ–°æ–‡ç« ï¼Œä½†éœ€è¦æ‰‹åŠ¨æ‰“å¼€ï¼ŒæŒºéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®åœ¨ç”Ÿæˆä¹‹åè‡ªåŠ¨æ‰“å¼€</p></blockquote><p>åœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ–°å»ºscriptsç›®å½•ï¼Œç„¶ååœ¨æ–°å»º<code>auto_open.js</code>ï¼Œåœ¨æ–‡ä»¶å¡«å…¥ä¸€ä¸‹å†…å®¹ï¼š</p><pre><code>var spawn = require('child_process').exec;// Hexo 2.x ç”¨æˆ·å¤åˆ¶è¿™æ®µ//hexo.on('new', function(path){  //spawn('start  "markdownç¼–è¾‘å™¨ç»å¯¹è·¯å¾„.exe" ' + path);//});// Hexo 3 ç”¨æˆ·å¤åˆ¶è¿™æ®µhexo.on('new', function(data){  spawn('start  "D:\Program Files\Typora\Typora.exe" ' + data.path);});</code></pre><blockquote><p>å…¶ä¸­â€D:\Program Files\Typora\Typora.exeâ€æ˜¯æˆ‘æœ¬åœ°ç¼–è¾‘å™¨çš„è·¯å¾„ï¼Œåªéœ€è¦æ”¹ä¸ºä½ æœ¬åœ°ç¼–è¾‘å™¨çš„è·¯å¾„å³å¯ï¼Œç„¶ååœ¨æ‰§è¡Œ<code>hexo cl &amp;&amp; hexo g -d</code>ï¼Œéƒ¨ç½²åˆ°GitHubå³å¯ï¼Œä»¥ååœ¨å‘å¸ƒæ–‡ç« å°±ä¼šè‡ªåŠ¨æ‰“å¼€ç¼–è¾‘å™¨ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> github </tag>
            
            <tag> matery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typoraç®€è¦è¯­æ³•</title>
      <link href="/2020/06/18/util/typora-jian-yao-yu-fa/"/>
      <url>/2020/06/18/util/typora-jian-yao-yu-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="æ ‡é¢˜ã€å¼•ç”¨"><a href="#æ ‡é¢˜ã€å¼•ç”¨" class="headerlink" title="æ ‡é¢˜ã€å¼•ç”¨"></a>æ ‡é¢˜ã€å¼•ç”¨</h1><pre><code>æ ‡é¢˜çš„æ ¼å¼ï¼š# ä¸€çº§æ ‡é¢˜## äºŒçº§### ä¸‰çº§#### å››çº§##### äº”çº§###### å…­çº§</code></pre><blockquote><p>è¿™æ˜¯ä¸€æ®µå¼•ç”¨</p></blockquote><pre><code>å¼•ç”¨çš„æ ¼å¼ï¼š&gt; å¼•ç”¨</code></pre><hr><h1 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h1><p>æŠŠå¤§è±¡æ”¾è¿›å†°ç®±</p><ol><li>æ‰“å¼€å†°ç®±</li><li>æŠŠå¤§è±¡å¡è¿›å»</li><li>å…³ä¸Šå†°ç®±</li></ol><p>æ— åºåˆ—è¡¨ï¼š</p><ul><li><p>1111</p></li><li><p>2222</p></li></ul><ul><li>1111</li><li>2222</li></ul><pre><code>æœ‰åºçš„æ ¼å¼ï¼š1. æœ‰åºåˆ—è¡¨æ— åºçš„æ ¼å¼ï¼š* æ— åºåˆ—è¡¨- æ— åºåˆ—è¡¨</code></pre><hr><h1 id="å¤é€‰æŒ‰é’®"><a href="#å¤é€‰æŒ‰é’®" class="headerlink" title="å¤é€‰æŒ‰é’®"></a>å¤é€‰æŒ‰é’®</h1><ul><li><p><input disabled="" type="checkbox">  åƒé¥­</p></li><li><p><input disabled="" type="checkbox">  ç¡è§‰</p></li><li><p><input disabled="" type="checkbox">  æ‰“è±†è±†</p></li></ul><pre><code>å¤é€‰æŒ‰é’®çš„æ ¼å¼- [ ] åƒé¥­</code></pre><hr><h1 id="ä»£ç å—ï¼š"><a href="#ä»£ç å—ï¼š" class="headerlink" title="ä»£ç å—ï¼š"></a>ä»£ç å—ï¼š</h1><pre><code>ä»£ç å—çš„æ ¼å¼ï¼šâ€‹``` ä»£ç å—â€‹``` java</code></pre><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯ä¸€ä¸ªjavaä»£ç å—"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><hr><h1 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h1><table><thead><tr><th align="center">å§“å</th><th align="center">å¹´é¾„</th><th align="right">æˆç»©</th></tr></thead><tbody><tr><td align="center">å¼ ä¸‰</td><td align="center">18</td><td align="right">99</td></tr></tbody></table><pre><code>è¡¨æ ¼çš„æ ¼å¼ï¼š|è¡¨å¤´|è¡¨å¤´||:--å·¦å¯¹é½|--:å³å¯¹é½|:-å±…ä¸­å¯¹é½-:|</code></pre><hr><h1 id="è„šæ³¨ï¼š"><a href="#è„šæ³¨ï¼š" class="headerlink" title="è„šæ³¨ï¼š"></a>è„šæ³¨ï¼š</h1><p>ä¸€é”®ä¸‰è¿<a href="%E8%BF%99%E6%98%AF%E8%84%9A%E6%B3%A8%E7%9A%84%E8%A7%A3%E9%87%8A">^ä¸‰è¿</a></p><pre><code>è„šæ³¨çš„æ ¼å¼[^è„šæ³¨][^è„šæ³¨]:è„šæ³¨çš„è§£é‡Š</code></pre><h1 id="æ¨ªçº¿ï¼š"><a href="#æ¨ªçº¿ï¼š" class="headerlink" title="æ¨ªçº¿ï¼š"></a>æ¨ªçº¿ï¼š</h1><hr><pre><code>æ¨ªçº¿çš„æ ¼å¼ï¼š--- </code></pre><hr><h1 id="è¶…é“¾æ¥"><a href="#è¶…é“¾æ¥" class="headerlink" title="è¶…é“¾æ¥"></a>è¶…é“¾æ¥</h1><p><a href="www.baidu.com" title="ä¸€ä¸ªæœç´¢å¼•æ“">ç™¾åº¦</a></p><p><a href="baidu.com" title="ä¸€ä¸ªæœç´¢å¼•æ“">ç™¾åº¦</a> </p><p><a href="#%E6%A0%87%E9%A2%981">æ ‡é¢˜1</a></p><p><a href="http://baidu.com/">http://baidu.com</a></p><p>å›¾ç‰‡é“¾æ¥ï¼š</p><img src="/2020/06/18/util/typora-jian-yao-yu-fa/ç™¾åº¦äº‘ä¸‹è½½\day02_MySQLåŸºç¡€\ç¬”è®°\MySQLæ•°æ®åº“ã€è¡¨ã€æ•°æ®çš„å…³ç³».bmp" alt="ç™¾åº¦" style="zoom: 50%;"><pre><code>è¶…é“¾æ¥:    [å†…å®¹](åœ°å€"é¼ æ ‡ç§»ä¸Šå»çš„å†…å®¹")    http://baidu.com åŸŸååŠ åœ°å€ï¼Œè‡ªåŠ¨ç”Ÿæˆé“¾æ¥idé“¾æ¥ï¼š    [å†…å®¹][id]    [id]:åœ°å€"é¼ æ ‡ç§»ä¸Šå»çš„å†…å®¹"ç„ç‚¹é“¾æ¥ï¼š    [å†…å®¹](#æ–‡ç« å†…å®¹)å›¾ç‰‡é“¾æ¥ï¼š    ![å†…å®¹](å›¾ç‰‡çš„é“¾æ¥)</code></pre><hr><h1 id="è¡Œå†…æ ¼å¼"><a href="#è¡Œå†…æ ¼å¼" class="headerlink" title="è¡Œå†…æ ¼å¼"></a>è¡Œå†…æ ¼å¼</h1><p> <em>æ–œä½“</em></p><p><strong>åŠ ç²—</strong></p><p><code>void eat()</code></p><p><u>ä¸‹åˆ’çº¿</u></p><p><del>è¢«åˆ é™¤çš„æ–‡å­—</del></p><p><span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><p>x^2^</p><p>H<del>2</del>O</p><p>==é«˜äº®==</p><pre><code>è¡Œå†…æ ¼å¼ï¼š*æ–œä½“***åŠ ç²—**`ä»£ç `&lt;u&gt;ä¸‹åˆ’çº¿&lt;/u&gt;~~åˆ é™¤~~:è¡¨æƒ…:X^2^H~2~O</code></pre><hr><h1 id="é¦–è¡Œç¼©è¿›"><a href="#é¦–è¡Œç¼©è¿›" class="headerlink" title="é¦–è¡Œç¼©è¿›"></a>é¦–è¡Œç¼©è¿›</h1><blockquote><p>ä½¿ç”¨ç©ºæ ¼å’ŒTabä¸ç†æƒ³</p></blockquote><p>ä½¿ç”¨å ä½ç¬¦ï¼š</p><p><code> &amp;emsp;</code>è¡¨ç¤ºä¸¤ä¸ªç©ºæ ¼ï¼Œä¸€ä¸ªæ±‰å­—(æ¨è)</p><p><code> &amp;ensp;</code>è¡¨ç¤ºä¸€ä¸ªç©ºæ ¼</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+githubæ­å»ºmateryåšå®¢ä¸€ï¼ˆæ­å»ºç¯å¢ƒç¯‡ï¼‰</title>
      <link href="/2020/06/17/hexo/hexo-github-da-jian-matery-bo-ke-yi-da-jian-huan-jing-pian/"/>
      <url>/2020/06/17/hexo/hexo-github-da-jian-matery-bo-ke-yi-da-jian-huan-jing-pian/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡å‚è€ƒ<a href="https://yafine-blog.cn/posts/4ab2.html">è¿‡å®¢~åŠ±ã‚€</a>ï¼Œä»‹ç»æ­å»ºä¸€ä¸ªé™æ€åšå®¢ç½‘ç«™çš„å…¨è¿‡ç¨‹</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å°è‹åœ¨å¶ç„¶é—´Bç«™ä¸­çœ‹åˆ°CodeSheepä»‹ç»çš„Hexoæ­å»ºä¸ªäººåšå®¢ï¼Œæœ¬èº«ä¹Ÿå¾ˆæƒ³æ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ç½‘ç«™ï¼Œè™½ç„¶å°è‹æ˜¯ä¸€ä¸ªä¸»Javaåç«¯çš„å­¦ä¹ è€…ï¼Œä½†æ˜¯ä¸å½±å“å¯¹æ­å»ºé™æ€åšå®¢çš„çƒ­æƒ…ï¼äºæ˜¯åœ¨è¯„è®ºè§çœ‹åˆ°äº†åŠ±å¿ƒå¤§ä½¬ç»†è‡´å…¥å¾®çš„æ­å»ºå…¨è¿‡ç¨‹ï¼Œäºæ˜¯å¼€å§‹äº†ä»é›¶ğŸ‘‰äº†è§£ğŸ‘‰å®è·µğŸ‘‰è¸©å‘ğŸ‘‰å®Œæˆçš„å…¨è¿‡ç¨‹ã€‚</p><p>æœŸé—´è¸©è¿‡å¤šå°‘å‘ï¼Œåˆè§£å†³äº†å¤šå°‘ä¸ªé—®é¢˜ï¼Œåœ¨æœŸé—´å®Œå…¨ä¸æ•¢ç›¸ä¿¡è‡ªå·±èƒ½æ­å»ºå®Œæˆï¼Œç°åœ¨å°±èŠ±ä¸Šä¸€äº›æ—¶é—´ï¼Œå°†è¿™ä¸ªè¿‡ç¨‹è®°å½•ä¸‹æ¥ï¼Œè®°å½•è‡ªå·±è¸©å‘ç»å†ï¼Œæœ€åï¼Œå†æ¬¡æ„Ÿè°¢<a href="https://yafine-blog.cn/">è¿‡å®¢~åŠ±ã‚€</a>å¤§ä½¬çš„æ–‡ç« ï¼Œå¸¦æˆ‘å±•å¼€äº†æ–°çŸ¥è¯†çš„ä¸€é¡µã€‚</p><h2 id="1-ç¯å¢ƒæ­å»º"><a href="#1-ç¯å¢ƒæ­å»º" class="headerlink" title="1.ç¯å¢ƒæ­å»º"></a>1.ç¯å¢ƒæ­å»º</h2><blockquote><p>æ­å»ºé™æ€åšå®¢ç½‘ç«™ï¼Œæœ€é‡è¦çš„ä¸¤ä¸ªè½¯ä»¶ï¼šNode.jsã€Git</p></blockquote><h3 id="1-1-ä¸‹è½½ã€å®‰è£…ã€é…ç½®Node-js"><a href="#1-1-ä¸‹è½½ã€å®‰è£…ã€é…ç½®Node-js" class="headerlink" title="1.1 ä¸‹è½½ã€å®‰è£…ã€é…ç½®Node.js"></a>1.1 ä¸‹è½½ã€å®‰è£…ã€é…ç½®Node.js</h3><h4 id="1-1-1-ä¸‹è½½ã€å®‰è£…"><a href="#1-1-1-ä¸‹è½½ã€å®‰è£…" class="headerlink" title="1.1.1 ä¸‹è½½ã€å®‰è£…"></a>1.1.1 ä¸‹è½½ã€å®‰è£…</h4><p>é¦–å…ˆå»<a href="https://nodejs.org/en/download/">Node.js</a>å®˜ç½‘ ä¸‹è½½node.jsçš„å®‰è£…ç¨‹åºï¼Œæ ¹æ®ä½ ç”µè„‘ç³»ç»Ÿçš„é…ç½®ä¿¡æ¯ï¼Œä¸‹è½½å¯¹åº”çš„å®‰è£…ç¨‹åºï¼Œå…·ä½“å®‰è£…æ­¥éª¤å‚è€ƒ<a href="https://yafine-blog.cn/posts/4ab2.html">åŠ±å¿ƒå¤§ä½¬</a>çš„æ–‡ç« ã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery1.png" alt="image-20200618220836840"></p><blockquote><p>Node.jså®‰è£…çš„å‘</p><ol><li><p>é”™è¯¯ï¼šä½¿ç”¨å‘½ä»¤â€œnpm install -g hexo-cliâ€å®‰è£…hexoæ—¶å‡ºç°é”™è¯¯</p><p>è§£å†³æ–¹æ³•ï¼šå®‰è£…ä¸è¦è£…åœ¨Cç³»ç»Ÿç›˜</p><p>åŸå› ï¼šå®‰è£…åœ¨ç³»ç»Ÿç›˜ï¼Œwin10çš„ç”µè„‘ä¼šå‡ºç°ç³»ç»Ÿç›˜ä¿æŠ¤ï¼Œåœ¨ä¹‹åä½¿ç”¨å‘½ä»¤è¡Œç­‰æ“ä½œä¼šå‡ºç°ä¸€ç³»åˆ—é—®é¢˜ï¼Œæ‰€ä»¥åœ¨å®‰è£…æ—¶æœ€å¥½æ—¶é€‰æ‹©åœ¨éç³»ç»Ÿç›˜</p></li></ol></blockquote><h4 id="1-1-2è®¾ç½®npmçš„å†…ç½®è·¯å¾„â€”â€”-gt-å…¨å±€æ¨¡å—è·¯å¾„å’Œç¼“å­˜è·¯å¾„"><a href="#1-1-2è®¾ç½®npmçš„å†…ç½®è·¯å¾„â€”â€”-gt-å…¨å±€æ¨¡å—è·¯å¾„å’Œç¼“å­˜è·¯å¾„" class="headerlink" title="1.1.2è®¾ç½®npmçš„å†…ç½®è·¯å¾„â€”â€”>å…¨å±€æ¨¡å—è·¯å¾„å’Œç¼“å­˜è·¯å¾„"></a>1.1.2è®¾ç½®npmçš„å†…ç½®è·¯å¾„â€”â€”&gt;å…¨å±€æ¨¡å—è·¯å¾„å’Œç¼“å­˜è·¯å¾„</h4><ul><li>åœ¨node.jså®‰è£…ç›®å½•åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ã€node_globalã€‘åŠã€node_cacheã€‘</li></ul><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery2.png" alt="image-20200618222325444"></p><ul><li><p>å‘½ä»¤è¡Œè¾“å…¥</p><pre><code>npm config set prefix"D:\Develop\nodejs\node_global"npm config set cache "D:\Develop\nodejs\node_cache"" "é‡Œé¢æ˜¯ä½ çš„ä¸¤ä¸ªæ–‡ä»¶å¤¹è·¯å¾„</code></pre></li></ul><h4 id="1-1-3-é…ç½®ç¯å¢ƒå˜é‡"><a href="#1-1-3-é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="1.1.3 é…ç½®ç¯å¢ƒå˜é‡"></a>1.1.3 é…ç½®ç¯å¢ƒå˜é‡</h4><ul><li><p>ç‚¹å‡»â€œæˆ‘çš„ç”µè„‘â€-å³é”®-â€œå±æ€§â€-â€œé«˜çº§ç³»ç»Ÿè®¾ç½®â€-â€œé«˜çº§â€-â€œç¯å¢ƒå˜é‡â€</p></li><li><p>å°†ã€ç”¨æˆ·å˜é‡ã€‘ä¸‹çš„ã€Pathã€‘ä¿®æ”¹ä¸ºã€D:\Develop\nodejs\node_globalã€‘</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery5.png" alt="image-20200618223314624"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery6.png" alt="image-20200618223352441"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery7.png" alt="image-20200618223417825"></p></li><li><p>å°†ã€ç³»ç»Ÿå˜é‡ã€‘ä¸‹çš„ã€Pathã€‘ä¿®æ”¹ä¸ºã€D:\Develop\nodejs\ã€‘</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery8.png" alt="image-20200618223816282"></p></li></ul><blockquote><p>Node.jsç¯å¢ƒå˜é‡çš„å‘</p><ol><li><p>é”™è¯¯ï¼šåœ¨ä¹‹åä½¿ç”¨å‘½ä»¤â€œhexo ***â€å‡ºç°bash: hexo command not found</p><p>è§£å†³æ–¹æ³•ï¼šæ³¨æ„ä¸Šé¢çš„ç”¨æˆ·å˜é‡å’Œç³»ç»Ÿå˜é‡ï¼Œé‡æ–°é…ç½®</p></li></ol></blockquote><h4 id="1-1-4-è®¾ç½®npmçš„é•œåƒæº"><a href="#1-1-4-è®¾ç½®npmçš„é•œåƒæº" class="headerlink" title="1.1.4 è®¾ç½®npmçš„é•œåƒæº"></a>1.1.4 è®¾ç½®npmçš„é•œåƒæº</h4><p>æ”¹å˜åŸæœ‰çš„é•œåƒæºï¼Œæ”¹ä¸ºå›½å†…æ·˜å®çš„é•œåƒæºï¼Œä¸‹è½½é€Ÿåº¦ä¼šåŠ å¿«</p><pre><code># æŸ¥çœ‹npmçš„é…ç½®npm config list# é»˜è®¤æºnpm config set registry https://registry.npmjs.org# ä¸´æ—¶æ”¹å˜é•œåƒæºnpm --registry=https://registry.npm.taobao.org# æ°¸ä¹…è®¾ç½®ä¸ºæ·˜å®é•œåƒæºnpm config set registry https://registry.npm.taobao.org</code></pre><h3 id="1-2-Gitçš„å®‰è£…ä¸é…ç½®"><a href="#1-2-Gitçš„å®‰è£…ä¸é…ç½®" class="headerlink" title="1.2 Gitçš„å®‰è£…ä¸é…ç½®"></a>1.2 Gitçš„å®‰è£…ä¸é…ç½®</h3><ul><li>é¦–å…ˆå°±æ˜¯å»<a href="https://git-scm.com/">Gitå®˜ç½‘</a>ä¸‹è½½Gitï¼Œæ ¹æ®ä½ ç”µè„‘ç³»ç»Ÿçš„é…ç½®ä¿¡æ¯ï¼Œä¸‹è½½å¯¹åº”çš„å®‰è£…ç¨‹åºï¼Œå…·ä½“å®‰è£…æ­¥éª¤å‚è€ƒ<a href="https://yafine-blog.cn/posts/4ab2.html">åŠ±å¿ƒå¤§ä½¬</a></li></ul><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery9.png" alt="image-20200618224848221"></p><ul><li>å›åˆ°æ¡Œé¢ï¼Œç‚¹å‡»é¼ æ ‡å³é”®ï¼Œä¼šå‡ºç°ä¸¤ä¸ªé€‰é¡¹Git GUI Hereå’ŒGit Bash Hereï¼Œåœ¨æ‰“å¼€Cmd(Win+R)ï¼Œåˆ†åˆ«è¾“å…¥gitå’Œgit â€“versionï¼Œå¦‚æœå‡ºç°ç‰ˆæœ¬å·ï¼Œå³å®‰è£…æˆåŠŸï¼</li></ul><h2 id="2-Githubæ³¨å†Œä»¥åŠGithub-Pagesåˆ›å»º"><a href="#2-Githubæ³¨å†Œä»¥åŠGithub-Pagesåˆ›å»º" class="headerlink" title="2. Githubæ³¨å†Œä»¥åŠGithub Pagesåˆ›å»º"></a>2. Githubæ³¨å†Œä»¥åŠGithub Pagesåˆ›å»º</h2><h3 id="2-1Githubæ³¨å†Œ"><a href="#2-1Githubæ³¨å†Œ" class="headerlink" title="2.1Githubæ³¨å†Œ"></a>2.1Githubæ³¨å†Œ</h3><p>æ‰“å¼€<a href="https://github.com/">Github</a>å®˜ç½‘é¦–é¡µï¼Œç‚¹å‡»å³ä¸Šè§’çš„Sign Up ï¼Œç„¶ååœ¨å‡ºç°çš„é¡µé¢ä¸Šå¡«å†™ä½ çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿›è¡Œæ³¨å†Œï¼Œå…·ä½“æ­¥éª¤æŒ‰<a href="https://yafine-blog.cn/posts/4ab2.html">åŠ±å¿ƒå¤§ä½¬</a>çš„æ¥</p><h3 id="2-2Github-Pagesåˆ›å»º"><a href="#2-2Github-Pagesåˆ›å»º" class="headerlink" title="2.2Github Pagesåˆ›å»º"></a>2.2Github Pagesåˆ›å»º</h3><p>å¼€å§‹åˆ›å»ºåº“ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»“åº“ååˆ›å»ºæ ¼å¼å¿…é¡»ä¸ºï¼š&lt;ç”¨æˆ·å&gt;.github.ioï¼Œå‹¾é€‰Initialize this repository with a READMEç‚¹å‡»Creat repositoryè¿›è¡Œåˆ›å»ºã€‚</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery10.png" alt="image-20200618230042789"></p><p>æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼Œç‚¹å‡»Create new fileï¼Œå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼Œç„¶åå‘½åæ–‡ä»¶åä¸ºindex.htmlï¼Œåœ¨å¡«å†™å¦‚å›¾çš„å†…å®¹ï¼Œå†ç‚¹å‡»Commit new fileï¼Œå³åˆ›å»ºæˆåŠŸï¼Œç„¶åæ‰“å¼€ä¸€ä¸ªæ–°çš„ç½‘é¡µï¼Œè¾“å…¥ç½‘å€https://&lt;ä½ çš„ç”¨æˆ·å&gt;.github.ioï¼Œå³å¯ä»¥çœ‹è§ä¸€ä¸ªæ–°çš„ç½‘é¡µï¼Œå…¶ä¸­çš„å†…å®¹å°±æ˜¯ä½ å†™çš„å†…å®¹ã€‚</p><h2 id="3-é…ç½®Gitç”¨æˆ·åå’Œé‚®ç®±"><a href="#3-é…ç½®Gitç”¨æˆ·åå’Œé‚®ç®±" class="headerlink" title="3.é…ç½®Gitç”¨æˆ·åå’Œé‚®ç®±"></a>3.é…ç½®Gitç”¨æˆ·åå’Œé‚®ç®±</h2><p>åœ¨æ¡Œé¢ç‚¹å‡»é¼ æ ‡å³é”®ï¼Œç‚¹å‡»Git Bash Hereï¼Œç„¶ååˆ†åˆ«è¾“å…¥ä¸‹é¢çš„ä¸¤ä¸ªå‘½ä»¤ï¼Œå¹¶å›è½¦ï¼š</p><pre><code>git config --global user.name "æ­¤å¤„å¡«å†™ä½ æ³¨å†Œæ—¶çš„ç”¨æˆ·å"git config --global user.email "æ­¤å¤„å¡«å†™ä½ æ³¨å†Œæ—¶çš„é‚®ç®±"# ä¸€èˆ¬åªè¦ä¸æŠ¥é”™ï¼Œå¯ä»¥è·³è¿‡ä¸‹é¢å¯»æ‰¾.gitconfigæ–‡ä»¶</code></pre><p>ç„¶åæ‰¾åˆ°.gitconfigæ–‡ä»¶ï¼Œæ–‡ä»¶å­˜æ”¾ä½ç½®åœ¨C:/Users/[username]/.gitconfigï¼ˆæœªæ‰¾åˆ°çš„è¯ï¼Œè¯·å¼€å¯æ˜¾ç¤ºéšè—æ–‡ä»¶çš„åŠŸèƒ½ï¼‰ï¼ŒæŸ¥çœ‹é…ç½®æ˜¯å¦æˆåŠŸã€‚</p><h2 id="4-æœ¬åœ°å®‰è£…hexoé™æ€åšå®¢æ¡†æ¶ä»¥åŠå‘å¸ƒåˆ°Github-Pages"><a href="#4-æœ¬åœ°å®‰è£…hexoé™æ€åšå®¢æ¡†æ¶ä»¥åŠå‘å¸ƒåˆ°Github-Pages" class="headerlink" title="4.æœ¬åœ°å®‰è£…hexoé™æ€åšå®¢æ¡†æ¶ä»¥åŠå‘å¸ƒåˆ°Github Pages"></a>4.æœ¬åœ°å®‰è£…hexoé™æ€åšå®¢æ¡†æ¶ä»¥åŠå‘å¸ƒåˆ°Github Pages</h2><h3 id="4-1-æœ¬åœ°å®‰è£…hexoé™æ€åšå®¢æ¡†æ¶"><a href="#4-1-æœ¬åœ°å®‰è£…hexoé™æ€åšå®¢æ¡†æ¶" class="headerlink" title="4.1 æœ¬åœ°å®‰è£…hexoé™æ€åšå®¢æ¡†æ¶"></a>4.1 æœ¬åœ°å®‰è£…hexoé™æ€åšå®¢æ¡†æ¶</h3><p>é€‰æ‹©ä¸€ä¸ªç£ç›˜ä½œä¸ºä½ åšå®¢æ–‡ä»¶çš„å­˜æ”¾ä½ç½®ï¼Œç„¶åæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚åä¸ºblogçš„æ–‡ä»¶å¤¹ï¼Œåˆ›å»ºå®Œåè¿›å…¥æ–‡ä»¶å¤¹ç‚¹å‡»é¼ æ ‡å³é”®ï¼Œé€‰æ‹©Git Bash Hereï¼Œç„¶åä¾æ¬¡è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œï¼š</p><pre><code>npm install -g hexo-cli # hexoæ¡†æ¶çš„å®‰è£…# ç­‰ä¸Šä¸€ä¸ªå‘½ä»¤å®Œæˆåï¼Œåœ¨è¾“å…¥ä¸‹é¢çš„å‘½ä»¤hexo init #åˆå§‹åŒ–æ–‡ä»¶å¤¹npm install  # å®‰è£…åšå®¢æ‰€éœ€è¦çš„ä¾èµ–æ–‡ä»¶</code></pre><p>è¿è¡Œå®Œä¹‹åï¼Œå†è¾“å…¥</p><pre><code>hexo g #ç¼–è¯‘æ–‡ä»¶hexo s #æœ¬åœ°éƒ¨ç½²æ–‡ä»¶</code></pre><p>ä¹‹ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€<a href="http://locakhost:4000æˆ–è€…127.0.0.1:4000ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªç½‘é¡µï¼Œè¯´æ˜Hexoåšå®¢å·²ç»æˆåŠŸåœ¨æœ¬åœ°è¿è¡Œã€‚">http://locakhost:4000æˆ–è€…127.0.0.1:4000ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªç½‘é¡µï¼Œè¯´æ˜Hexoåšå®¢å·²ç»æˆåŠŸåœ¨æœ¬åœ°è¿è¡Œã€‚</a></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/matery11.png" alt="image-20200618231036493"></p><h3 id="4-2-æœ¬åœ°åšå®¢å‘å¸ƒåˆ°Github-Pages"><a href="#4-2-æœ¬åœ°åšå®¢å‘å¸ƒåˆ°Github-Pages" class="headerlink" title="4.2 æœ¬åœ°åšå®¢å‘å¸ƒåˆ°Github Pages"></a>4.2 æœ¬åœ°åšå®¢å‘å¸ƒåˆ°Github Pages</h3><p>å…·ä½“æ­¥éª¤æŒ‰<a href="https://yafine-blog.cn/posts/4ab2.html">åŠ±å¿ƒå¤§ä½¬</a>çš„æ¥</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> github </tag>
            
            <tag> matery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoå¸¸è§æŒ‡ä»¤</title>
      <link href="/2020/06/16/hexo/hexo-chang-jian-zhi-ling/"/>
      <url>/2020/06/16/hexo/hexo-chang-jian-zhi-ling/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡å‚è€ƒ<a href="https://lovelijunyi.gitee.io/posts/83b6.html">ä¼šé£çš„å°æˆˆ</a>ï¼Œä»‹ç»ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„Hexoçš„å‘½ä»¤ï¼Œæ–¹ä¾¿ä¹‹åæŸ¥çœ‹</p></blockquote><p><strong>è¯´æ˜</strong>ï¼š</p><ol><li><p>å°†åšå®¢ä¸Šä¼ ï¼Œéœ€è¦ç»è¿‡æ¸…ç†ã€ç¼–è¯‘ã€ä¸Šä¼ ä¸‰æ­¥éª¤</p></li><li><p>å¦‚æœä½¿ç”¨äº†gulpä»£ç å‹ç¼©æ’ä»¶ï¼Œåªéœ€è¦è¾“å…¥<strong>gulp</strong>å³å¯å®ç°æ¸…ç†ã€ç¼–è¯‘ï¼Œå†ä¸Šä¼ å³å¯</p></li></ol><h2 id="æ¸…ç†æŒ‡ä»¤"><a href="#æ¸…ç†æŒ‡ä»¤" class="headerlink" title="æ¸…ç†æŒ‡ä»¤"></a>æ¸…ç†æŒ‡ä»¤</h2><p>ç”¨äºå°†åŸç¼–è¯‘æ–‡ä»¶ï¼ˆpublicæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ï¼‰åˆ é™¤</p><pre><code>hexo clean ,ç®€åŒ–å†™æ³•: hexo cl</code></pre><h2 id="ç¼–è¯‘æŒ‡ä»¤"><a href="#ç¼–è¯‘æŒ‡ä»¤" class="headerlink" title="ç¼–è¯‘æŒ‡ä»¤"></a>ç¼–è¯‘æŒ‡ä»¤</h2><p>ç”¨äºç”Ÿæˆç¼–è¯‘å¥½çš„æ–‡ä»¶</p><pre><code>hexo g</code></pre><h2 id="æœ¬åœ°éƒ¨ç½²"><a href="#æœ¬åœ°éƒ¨ç½²" class="headerlink" title="æœ¬åœ°éƒ¨ç½²"></a>æœ¬åœ°éƒ¨ç½²</h2><p>éƒ¨ç½²å¥½å¯ä»¥åœ¨<a href="http://localhost:4000è°ƒè¯•æŸ¥çœ‹ï¼Œè¿™æ˜¯æœ¬åœ°çš„ï¼Œä¸ä¼šä¸Šä¼ ä¸Šå»">http://localhost:4000è°ƒè¯•æŸ¥çœ‹ï¼Œè¿™æ˜¯æœ¬åœ°çš„ï¼Œä¸ä¼šä¸Šä¼ ä¸Šå»</a></p><pre><code>hexo s</code></pre><blockquote><p>æ³¨æ„ï¼šmateryä½¿ç”¨cdnå…¨å±€åŠ é€Ÿæ—¶ï¼Œæœ¬åœ°éƒ¨ç½²ä»ç„¶ä¼šå»è®¿é—®ç½‘ä¸Šå·²éƒ¨ç½²çš„ï¼Œæ‰€ä»¥åœ¨è°ƒè¯•æ—¶å…ˆå°†cdnåŠ é€Ÿæ³¨é‡Šæ‰</p></blockquote><h2 id="ä¸Šä¼ éƒ¨ç½²"><a href="#ä¸Šä¼ éƒ¨ç½²" class="headerlink" title="ä¸Šä¼ éƒ¨ç½²"></a>ä¸Šä¼ éƒ¨ç½²</h2><p>ç”¨äºä¸Šä¼ åˆ°ç½‘ä¸Š</p><pre><code>hexo deploy ,ç®€åŒ–å†™æ³• hexo d</code></pre><blockquote><p>æ³¨æ„ï¼š<strong>hexo deploy</strong>ä¼šå’Œè±†ç“£éƒ¨ç½²å†²çªï¼Œæ‰€ä»¥å»ºè®®è¿™é‡Œæœ€å¥½ä¸è¦ç®€å†™</p></blockquote><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><pre><code>npm install æ’ä»¶å --save</code></pre><h2 id="å¸è½½æ’ä»¶"><a href="#å¸è½½æ’ä»¶" class="headerlink" title="å¸è½½æ’ä»¶"></a>å¸è½½æ’ä»¶</h2><pre><code>npm uninstall æ’ä»¶å</code></pre>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BUG</title>
      <link href="/2020/06/15/xue-xi/bug/"/>
      <url>/2020/06/15/xue-xi/bug/</url>
      
        <content type="html"><![CDATA[<h1 id="BUG"><a href="#BUG" class="headerlink" title="BUG"></a>BUG</h1><h2 id="IDEA"><a href="#IDEA" class="headerlink" title="IDEA"></a>IDEA</h2><ul><li>åŒ…åˆ†ç¦»<ul><li><img src="/2020/06/15/xue-xi/bug/Users\44317\AppData\Roaming\Typora\typora-user-images\image-20200515183345879.png" alt="image-20200515183345879" style="zoom:67%;"></li></ul></li><li>åœ¨é€‰ä¸­å­—æ®µä¸­æ›¿æ¢<ul><li>ctrl+r</li></ul></li><li>try catchå¿«æ·é”®<ul><li>ctrl+alt+t</li></ul></li></ul><h2 id="WEB"><a href="#WEB" class="headerlink" title="WEB"></a>WEB</h2><h3 id="TomCat"><a href="#TomCat" class="headerlink" title="TomCat"></a>TomCat</h3><ul><li><p>1.éƒ¨ç½²war å’Œ war explodedçš„åŒºåˆ«</p><ul><li><p>ç­”ï¼š</p><ul><li><p>waræ¨¡å¼è¿™ç§å¯ä»¥ç§°ä¹‹ä¸ºæ˜¯å‘å¸ƒæ¨¡å¼ï¼Œè¿™æ˜¯å…ˆæ‰“åŒ…waråŒ…ï¼Œå†å‘å¸ƒåˆ°tomcatè·¯å¾„çš„webappsä¸Šï¼›</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200609160640973.png" alt="image-20200609160640973"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200609160622656.png" alt="image-20200609160622656"></p></li><li><p>war explodedæ¨¡å¼æ˜¯ç›´æ¥æŠŠæ–‡ä»¶å¤¹ï¼Œjspé¡µé¢ï¼Œclassesç­‰ç­‰ç§»åˆ°targetæ–‡ä»¶å¤¹é‡Œé¢ï¼Œè¿›è¡ŒåŠ è½½éƒ¨ç½²</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200609160701227.png" alt="image-20200609160701227"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200609160709307.png" alt="image-20200609160709307"></p></li></ul></li></ul></li><li><p>2.éƒ¨ç½²æ–¹å¼ï¼šæ‰¾ä¸åˆ°waråŒ…ï¼Œåªæœ‰æ–‡ä»¶å¤¹</p></li><li><p>ç­”ï¼š</p><ul><li><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/bug-web.png" alt="img"></li><li><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/8X%7D18EKVH$~S8BSYA%7BJ09E1.png" alt="img"></li><li>å†éƒ¨ç½²waråŒ…å°±å¯ä»¥äº†</li></ul></li></ul><h3 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h3><ul><li><p>1.idea mavenåœ¨å“ªä¿®æ”¹application context</p><ul><li><p>ç­”ï¼šé‡æ–°åˆ›å»ºä¸€ä¸ªtomcatæ’ä»¶ï¼ˆå¾€ä¸‹æ»‘ï¼ï¼ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200514231158870.png" alt="image-20200514231158870"></p></li></ul></li><li><p>2.ä¸è‡ªåŠ¨ä¸‹è½½ä¾èµ–</p><ul><li>ç­”ï¼šå°†è‡ªåŠ¨ä¸‹è½½å‹¾é€‰ä¸Šï¼Œç‚¹å‡»downloadï¼Œç­‰åŠ è½½å®Œæ¯•åå°†ä¾èµ–å‰ªåˆ‡å†ç²˜è´´</li><li><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200515173902146.png" alt="image-20200515173902146"></li></ul></li><li><p>3.ä¸‹è½½ä¾èµ–åªä¸‹è½½äº†lastUpdatedï¼ˆæˆ–ä¸‹è½½ä¾èµ–æ²¡æœ‰æç¤º ctrl+alt+ç©ºæ ¼ï¼‰</p><ul><li>ç­”ï¼š1.å°†lastUpdatedåˆ é™¤ï¼Œ2.æ›´æ–°ç´¢å¼•ï¼Œ3.å…³é—­æ‰€æœ‰ideaï¼Œç­‰å¾…ä¸€ä¼šé‡æ–°æ‰“å¼€</li><li><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200526162811970.png" alt="image-20200526162811970"></li></ul></li><li><p>4.Error:java: é”™è¯¯: ä¸æ”¯æŒå‘è¡Œç‰ˆæœ¬ 5</p></li><li><p>ç­”ï¼šä¿®æ”¹jdk</p></li><li><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200526212051049.png" alt="image-20200526212051049"></p></li><li><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200526212106406.png" alt="image-20200526212106406"></p></li><li><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200526212119182.png" alt="image-20200526212119182"></p></li><li><p>5.IDEA mavenå˜æ›´åè‡ªåŠ¨é‡ç½®LanguageLevelå’ŒJavaCompilerç‰ˆæœ¬</p></li><li><p>ç­”ï¼šåœ¨pom.xmlä¸­æŒ‡å®šmaven-compiler-pluginçš„ç‰ˆæœ¬</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-compiler-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.3.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span><span class="token punctuation">></span></span>1.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">></span></span>1.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span></code></pre></li></ul><h2 id="æ¡†æ¶"><a href="#æ¡†æ¶" class="headerlink" title="æ¡†æ¶"></a>æ¡†æ¶</h2><h3 id="Mybatis"><a href="#Mybatis" class="headerlink" title="Mybatis"></a>Mybatis</h3><ol><li>org.apache.ibatis.binding.BindingException</li></ol><ul><li>ç­”ï¼šæ¥å£é…ç½®æ–‡ä»¶çš„selectä¸­idå±æ€§æ²¡æœ‰å’Œæ–¹æ³•åä¿æŒä¸€è‡´</li><li><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200528180950279.png" alt="image-20200528180950279"></li></ul><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200528181008231.png" alt="image-20200528181008231"></p><h3 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h3><ul><li><p><strong>BeanCreationException</strong>ã€<strong>ClassNotFoundException: org.aspectj.weaver.reflect</strong>ï¼ˆåœ¨æœ€åï¼‰</p></li><li><p>ç­”ï¼šä½¿ç”¨aop ç¼ºå°‘ä¾èµ–åŒ…aspectjweaver.jar å’Œspring-aop.jaræŠ¥é”™</p><pre class=" language-x&amp;#39;m&amp;#39;l"><code class="language-x&amp;#39;m&amp;#39;l">å¯¼å…¥ä¾èµ–<dependency>    <groupId>org.aspectj</groupId>xml    <artifactId>aspectjweaver</artifactId>    <version>1.8.7</version></dependency></code></pre></li></ul><h3 id="SSM"><a href="#SSM" class="headerlink" title="SSM"></a>SSM</h3><ol><li><p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name â€˜accountServiceâ€™ï¼Œæµ‹è¯•spring-mybatisæ•´åˆæ—¶ï¼ŒåŠ è½½ä¸å‡ºspringé…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºä¸äº†service</p><p>ç­”ï¼šspringé…ç½®æ–‡ä»¶å†™é”™</p><pre class=" language-xml"><code class="language-xml">é”™è¯¯ï¼š<span class="token comment" spellcheck="true">&lt;!--é…ç½®mapperæ˜ å°„--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mapperScannerConfigurer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>basePackage<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm.dao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>æ­£ç¡®ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>basePackage<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.hm.ssm.dao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span></code></pre></li><li><p>javax.servlet.ServletException: Servlet.init() for servlet [dispatcherServlet] threw exception</p><p>ç­”ï¼šweb.xmlä¸­çš„å‰ç«¯æ§åˆ¶å™¨é…ç½®é”™è¯¯</p><pre class=" language-xml"><code class="language-xml">é”™è¯¯ï¼š <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span>  æ­£ç¡®ï¼š    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>classpath:SpringMVC.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">></span></span></code></pre></li><li><p>è®¿é—®é¡µé¢pageContextè¢«è§£ææˆï¼š$%7BpageContext.request.contextPath%7D</p><p>ç­”ï¼šæŸ¥çœ‹web.xmlä¸­å¤´æ–‡ä»¶web-appçš„ç‰ˆæœ¬ä½äº2.4ï¼Œä¿®æ”¹web-appçš„ç‰ˆæœ¬å³å¯æ­£å¸¸è·å–ç›¸å¯¹è·¯å¾„</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">"</span></span>      <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>      <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">"</span></span>      <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span>      <span class="token attr-name">metadata-complete</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></li><li><p>è®¿é—®å“åº”å­—ç¬¦ä¸²ï¼Œå‡ºç°ä¹±ç ????</p><p>ç­”ï¼šfilterè®¾ç½®çš„å­—ç¬¦ç¼–ç ï¼Œæ˜¯è§£å†³è¯·æ±‚æ¥æ”¶æ•°æ®çš„ç¼–ç ã€‚éœ€è¦å†è®¾ç½®å“åº”ç¼–ç ï¼Œå¯ä»¥åœ¨controlleræ–¹æ³•ä¸Šè®¾ç½®ç¼–ç </p><pre class=" language-xml"><code class="language-xml"> @RequestMapping(value = "/save",produces = "text/html;charset=UTF-8")</code></pre></li><li><p>æŸ¥è¯¢ä½¿ç”¨ModelAndViewä¿å­˜çš„å€¼ï¼Œåœ¨jstlè·å–ä¸åˆ°ï¼Œå´èƒ½è·å–åˆ°å…¶ä»–æ¨¡å—çš„å€¼</p><p>ç­”ï¼šModelAndViewæ²¡æœ‰ç»™å®šKeyå€¼ï¼Œèƒ½è·å–åˆ°å…¶ä»–å€¼å¯èƒ½æ˜¯ä¹‹å‰ä¿å­˜çš„ï¼Œ</p><pre class=" language-java"><code class="language-java">é”™è¯¯ï¼šmodelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span>all<span class="token punctuation">)</span><span class="token punctuation">;</span>æ­£ç¡®ï¼šmodelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"all"</span><span class="token punctuation">,</span>all<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ä¹ å†ç¨‹</title>
      <link href="/2020/06/15/xue-xi/xue-xi-li-cheng/"/>
      <url>/2020/06/15/xue-xi/xue-xi-li-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="å­¦ä¹ å†ç¨‹"><a href="#å­¦ä¹ å†ç¨‹" class="headerlink" title="å­¦ä¹ å†ç¨‹"></a>å­¦ä¹ å†ç¨‹</h1><p>4.21 540P-553Pï¼ˆ14Pï¼‰</p><p>â€‹        JDBCå¢åˆ æ”¹æŸ¥ï¼Œ</p><p>â€‹        DriverManagerï¼šé©±åŠ¨ç®¡ç†å¯¹è±¡</p><p>â€‹        Connectionï¼šæ•°æ®åº“è¿æ¥å¯¹è±¡</p><p>â€‹        Statementï¼šæ‰§è¡Œsqlçš„å¯¹è±¡</p><p>â€‹        ResltSetï¼šç»“æœé›†å¯¹è±¡</p><p>â€‹        éå†æ•°æ®</p><p>â€‹        jdbcå·¥å…·ç±»</p><p>â€‹        è·å–srcè·¯å¾„ä¸‹çš„æ–‡ä»¶çš„æ–¹å¼ï¼šClassLoader ç±»åŠ è½½å™¨</p><p>4.22 554P-568Pï¼ˆ15Pï¼‰</p><p>â€‹        PreparedStatementï¼šæ‰§è¡Œsqlçš„å¯¹è±¡(é¢„å¤„ç†,?å ä½ç¬¦)</p><p>â€‹        jdbcå·¥å…·ç±»ï¼šé…ç½®æ–‡ä»¶ï¼Œå°è£…æ–¹æ³•å®ç°æ³¨å†Œé©±åŠ¨ï¼Œè·å–è¿æ¥æ•°æ®åº“å¯¹è±¡ï¼Œèµ„æºé‡Šæ”¾</p><p>â€‹        JDBCæ§åˆ¶äº‹åŠ¡ï¼šsetAutoCommit(boolean autoCommit)ã€commitï¼ˆï¼‰ã€rollback()</p><p>â€‹        æ•°æ®åº“è¿æ¥æ± ï¼šå¸®åŠ©å¿«é€Ÿåˆ›å»ºConnectionå¯¹è±¡ï¼Œåªéœ€è¦é…ç½®æ–‡ä»¶å°±å¯ä»¥å®ç°æ³¨å†Œé©±åŠ¨ï¼ŒåŠ è½½é©±åŠ¨</p><p>â€‹        C3P0:æ•°æ®åº“è¿æ¥æ± æŠ€æœ¯ï¼Œxmlé…ç½®æ–‡ä»¶    è‡ªåŠ¨ï¼ŒDataSource ds = new ComboPooledDataSource();</p><p>â€‹        druidï¼šæ•°æ®åº“è¿æ¥æ± æŠ€æœ¯ï¼Œpropertiesé…ç½®æ–‡ä»¶ï¼Œæ‰‹åŠ¨ï¼Œconn = JDBCUtils.getConnection();</p><p>â€‹        JDBCTemplateï¼šç®€åŒ–JDBCå¼€å‘ </p><p>â€‹                                    </p><p>4.24 569P-602Pï¼ˆ34Pï¼‰</p><p>â€‹    HTMLæ ‡ç­¾ï¼šæ–‡ä»¶æ ‡ç­¾ã€æ–‡æœ¬æ ‡ç­¾ã€å›¾ç‰‡æ ‡ç­¾ã€åˆ—è¡¨æ ‡ç­¾ã€é“¾æ¥æ ‡ç­¾ã€divå’Œspanã€è¯­ä¹‰åŒ–æ ‡ç­¾ã€è¡¨æ ¼æ ‡ç­¾ã€                         è¡¨å•æ ‡ç­¾</p><p>â€‹    CSSæ ·å¼ï¼šCSSè¯­æ³• â€œï¼šâ€ï¼Œä½¿ç”¨å†…è”æ ·å¼ã€å†…éƒ¨æ ·å¼ã€å¤–éƒ¨æ ·å¼</p><p>â€‹                        <link rel="stylesheet" href="css/a.css"></p><p>â€‹    CSSé€‰æ‹©å™¨ï¼šidé€‰æ‹©å™¨ã€å…ƒç´ é€‰æ‹©å™¨ã€ç±»é€‰æ‹©å™¨ã€é€‰æ‹©æ‰€æœ‰å…ƒç´ ã€å¹¶é›†é€‰æ‹©å™¨ã€å­/çˆ¶é€‰æ‹©å™¨ã€å±æ€§é€‰æ‹©å™¨ã€                         ä¼ªç±»é€‰æ‹©å™¨</p><p>â€‹    CSSå±æ€§ï¼šå­—ä½“ã€æ–‡æœ¬ã€èƒŒæ™¯ã€è¾¹æ¡†ã€å°ºå¯¸ã€ç›’å­æ¨¡å‹ï¼ˆæ ¹æ®è§†è§’ï¼‰</p><p>4.25 603P-639P(37P)</p><p>â€‹    JavaScriptï¼ˆECMAScriptï¼‰:åŸºæœ¬è¯­æ³•ã€åŸºæœ¬å¯¹è±¡ï¼šFunctionå¯¹è±¡ã€Arrayã€Booleanã€Dateã€Mathã€                                                Numberã€Stringã€RegExpï¼šæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€Globalï¼ˆå…¨å±€å¯¹è±¡ï¼Œç¼–ç è§£ç ï¼‰</p><p>â€‹    DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰ï¼š Documentï¼šæ–‡æ¡£å¯¹è±¡ï¼ˆåˆ›å»ºå…ƒç´ å¯¹è±¡ã€å…¶ä»–DOMå¯¹è±¡ï¼‰ã€Elementï¼šå…ƒç´ å¯¹è±¡                                            ï¼ˆè®¾ç½®/åˆ é™¤å±æ€§ï¼‰ã€Nodeï¼šèŠ‚ç‚¹å¯¹è±¡ï¼Œå…¶ä»–5ä¸ªçš„çˆ¶å¯¹è±¡ï¼ˆåˆ›å»º/åˆ é™¤/æ›¿æ¢å­èŠ‚                                                ç‚¹ï¼‰</p><p>â€‹    BOMï¼ˆæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼‰ï¼šWindowï¼šçª—å£å¯¹è±¡ï¼ˆå®šæ—¶å™¨ï¼Œå¼¹çª—ï¼Œå…¶ä»–å¯¹è±¡çš„çˆ¶å¯¹è±¡ï¼‰ã€Navigatorï¼šæµè§ˆå™¨                                                å¯¹è±¡ã€Screenï¼šæ˜¾ç¤ºå™¨å±å¹•å¯¹è±¡ã€Historyï¼šå†å²è®°å½•å¯¹è±¡ã€Locationï¼šåœ°å€æ å¯¹                                                è±¡ï¼ˆåˆ·æ–°ï¼Œè®¾ç½®/è¿”å›urlï¼‰</p><p>4.26 640P-659ï¼ˆ20Pï¼‰</p><p>â€‹    DOMï¼šinnerHTMLï¼ˆæ ‡ç­¾ä½“è®¾ç½®/è·å¾—ï¼Œæ ·å¼æ§åˆ¶ï¼‰ã€äº‹ä»¶ç›‘å¬æœºåˆ¶ï¼šç‚¹å‡»onclickã€ç„¦ç‚¹onblur,onfocusã€åŠ è½½                onloadã€é¼ æ ‡onmouseâ€¦ã€é”®ç›˜onkeyâ€¦ã€é€‰æ‹©å’Œæ”¹å˜onchange,onselectã€è¡¨å•onsubmit</p><p>â€‹    Bootstrapï¼ˆä¸€ä¸ªå‰ç«¯å¼€å‘çš„æ¡†æ¶ï¼‰ï¼šå“åº”å¼å¸ƒå±€ï¼ˆæ …æ ¼ç³»ç»Ÿï¼‰ï¼šcontainer,container-fluid,row,col-è®¾å¤‡ä»£å·-æ ¼                        å­æ•°ç›®(ä¸€ä¸ªæ ¼å­å å‡ ä¸ªä½ç½®)ï¼ŒCSSæ ·å¼å’ŒJSæ’ä»¶ï¼šæŒ‰é’®ã€å›¾ç‰‡ã€è¡¨æ ¼ã€è¡¨å•ã€ç»„ä»¶ï¼ˆå¯¼èˆªæ¡ã€                        åˆ†é¡µæ¡ï¼‰ã€æ’ä»¶ï¼ˆè½®æ’­å›¾ï¼‰</p><p>4.27 660P-674P(15P)</p><p>XML(å¯æ‰©å±•æ ‡è®°è¯­è¨€)ï¼šç”¨äºé…ç½®æ–‡ä»¶ï¼Œè¯­æ³•ã€çº¦æŸï¼šç”¨äºçº¦æŸxmlçš„å†™æ³•ï¼ˆDTDç®€å•çº¦æŸï¼ŒXSDå¤æ‚çº¦æŸï¼‰ã€å¼•                                        å…¥çº¦æŸçš„æ–¹æ³•ï¼Œè¯»å–ï¼ˆè§£æï¼‰xmlæ–‡æ¡£ï¼šJsoupè§£æå™¨ï¼ˆå¯¹è±¡ï¼‰ã€å¿«æ·æŸ¥è¯¢æ–¹å¼ï¼š                                        selectorï¼šé€‰æ‹©å™¨ã€xpath</p><p>4.28 675P-695Pï¼ˆ21Pï¼‰</p><p>â€‹    WEBæœåŠ¡å™¨ï¼ˆtomcatï¼‰:æ–‡ä»¶ç›®å½•ï¼Œideaå®‰è£…ã€é…ç½®tomcat</p><p>â€‹    Servletï¼šä¸€ä¸ªæ¥å£ï¼Œå®šä¹‰äº†Javaç±»è¢«æµè§ˆå™¨è®¿é—®åˆ°(tomcatè¯†åˆ«)çš„è§„åˆ™ï¼Œ</p><p>â€‹                    æ­¥éª¤ï¼š1.ç»§æ‰¿HttpServlet/GenericServlet/å®ç°Servletï¼Œ2.å®ç°æ–¹æ³•doGet/doPostï¼Œ3.é…ç½®ï¼ˆServlet3.0                    æ³¨è§£ï¼‰@WebServlet(â€œèµ„æºè·¯å¾„â€)ã€Servletä¸­çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼šinitåˆå§‹åŒ–ã€serviceæœåŠ¡ã€destroyé”€æ¯</p><p>â€‹    HTTP:ï¼ˆç±»ä¼¼çº¦æŸï¼Œçº¦æŸå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å‘é€æ•°æ®çš„æ ¼å¼ï¼‰é»˜è®¤ç«¯å£å·:80ã€è¯·æ±‚æ¶ˆæ¯æ•°æ®æ ¼å¼ï¼šè¯·æ±‚è¡Œ(è¯·                æ±‚æ–¹å¼ è¯·æ±‚url è¯·æ±‚åè®®/ç‰ˆæœ¬)ã€è¯·æ±‚å¤´ï¼ˆUser-Agentï¼šæµè§ˆå™¨ç‰ˆæœ¬ä¿¡æ¯ï¼ŒRefererï¼šå½“å‰è¯·æ±‚çš„ç”±æ¥ï¼‰ã€                è¯·æ±‚ç©ºè¡Œã€è¯·æ±‚ä½“ï¼ˆå°è£…postå‚æ•°ï¼‰</p><p>4.29 696-712ï¼ˆ17Pï¼‰</p><p>â€‹    requeståŠŸèƒ½ï¼šè·å–è™šæ‹Ÿç›®å½• getContextPath()ã€è·å–è¯·æ±‚URIï¼š/day14/demo1 getRequestURI()ã€è¯·æ±‚å¤´çš„åç§°è·å–è¯·                            æ±‚å¤´çš„å€¼getHeader(String name)</p><p>â€‹    getParameter(String name)æ ¹æ®å‚æ•°åç§°è·å–å‚æ•°å€¼ã€getParameterMap():è·å–æ‰€æœ‰å‚æ•°    çš„mapé›†åˆã€ä¸­æ–‡ä¹±ç request.setCharacterEncoding(â€œutf-8â€);è¯·æ±‚è½¬å‘(forward)ã€request    åŸŸï¼šset/getAttributeï¼ˆï¼‰</p><p>4.30 713-728ï¼ˆ16Pï¼‰</p><p>â€‹    JavaBeanï¼ˆæ ‡å‡†çš„Javaç±»ï¼‰ï¼šæœ‰ç©ºå‚çš„æ„é€ å™¨ã€ç±»å¿…é¡»è¢«publicä¿®é¥°ã€æˆå‘˜å˜é‡å¿…é¡»ä½¿ç”¨                                                    privateä¿®é¥°ã€å…¬å…±setterå’Œgetteræ–¹æ³•</p><p>â€‹    BeanUtilså·¥å…·ç±»ï¼Œç”¨äºå°è£…JavaBeanï¼šset/getPropertyï¼ˆå°†javabeanå°è£…/è·å–å€¼ï¼‰ã€populate(Object obj , Map map)                                                                    å°è£…æ‰€æœ‰ä¿¡æ¯è¿›javaBean</p><p>â€‹    HTTPåè®®ï¼ˆå“åº”æ¶ˆæ¯ï¼‰ï¼šå“åº”è¡Œï¼ˆçŠ¶æ€ç ï¼‰ã€å“åº”å¤´ï¼ˆContent-Typeç¼–ç æ ¼å¼ã€Content-dispositionæ‰“å¼€æ–¹å¼ï¼‰ã€å“åº”                                            ä½“ï¼ˆä¼ è¾“çš„æ•°æ®ï¼‰</p><p>â€‹    Responseå¯¹è±¡ï¼šé‡å®šå‘ï¼šsendRedirect(â€œè™šæ‹Ÿè·¯å¾„+èµ„æºåç§°â€)ã€é‡å®šå‘/è½¬å‘çš„ç‰¹ç‚¹ã€æœåŠ¡å™¨è¾“å‡ºå­—ç¬¦/å­—èŠ‚æ•°æ®åˆ°æµè§ˆ                                            å™¨ã€ä¹±ç é—®é¢˜ï¼šresponse.setContentType(â€œtext/html;charset=utf-8â€);ã€è·¯å¾„å†™æ³•</p><p>5.3 729-761(33P)</p><p>â€‹    ServletContextå¯¹è±¡ï¼šè·å–MIMEç±»å‹ï¼šgetMimeType(String file)ã€åŸŸå¯¹è±¡ï¼šå…±äº«æ•°æ®ï¼ˆæ‰€æœ‰ç”¨æˆ·éƒ½å¯ä½¿ç”¨ï¼‰ã€è·å–æ–‡                                        ä»¶çš„çœŸå®(æœåŠ¡å™¨)è·¯å¾„getRealPath(String path)</p><p>â€‹    å®¢æˆ·ç«¯ä¼šè¯æŠ€æœ¯ï¼ˆCookieï¼‰ï¼š1.new Cookie(String name, String value) ã€2.response.addCookie(Cookie cookie) ã€                                                    3.setPath(String path)ã€request.getCookies()  </p><p>â€‹    æœåŠ¡å™¨ç«¯ä¼šè¯æŠ€æœ¯ï¼ˆSessionï¼‰ï¼š1.request.getSession()ã€2.set/get/removeAttribute</p><p>â€‹    ==sessionä¸Cookieçš„åŒºåˆ«==ï¼š</p><ol><li><p>sessionå­˜å‚¨æ•°æ®åœ¨æœåŠ¡å™¨ç«¯ï¼ŒCookieåœ¨å®¢æˆ·ç«¯</p></li><li><p>sessionæ²¡æœ‰æ•°æ®å¤§å°é™åˆ¶ï¼ŒCookieæœ‰</p></li><li><p>sessionæ•°æ®å®‰å…¨ï¼ŒCookieç›¸å¯¹äºä¸å®‰å…¨</p><p>JSPï¼šç”¨äºç®€åŒ–ä¹¦å†™ã€JSPçš„è„šæœ¬&lt;% %&gt;&lt;%! æˆå‘˜å˜é‡%&gt;&lt;%= ä»£ç  %&gt;ï¼Œå†…ç½®å¯¹è±¡ï¼šrequestã€responseã€out</p><p>â€‹            response.getWriter()æ•°æ®è¾“å‡ºæ°¸è¿œåœ¨out.write()ä¹‹å‰</p></li></ol><p>5.4 762-786ï¼ˆ25Pï¼‰</p><p>â€‹    JSP:æŒ‡ä»¤ï¼ˆpageé…ç½®é¡µé¢ã€includeåŒ…å«æ–‡ä»¶ã€taglibæ ‡ç­¾åº“ï¼‰ã€æ³¨é‡Šã€9å¤§å†…ç½®å¯¹è±¡ï¼ˆpageContextè·å–å…¶ä»–å…«ä¸ªå†…ç½®å¯¹            è±¡ã€requestã€sessionã€applicationã€responseã€pageã€outã€configã€exceptionï¼‰</p><p>â€‹    MVCï¼šå¼€å‘æ¨¡å¼ï¼šï¼ˆMï¼šModelï¼Œæ¨¡å‹ã€‚JavaBeanï¼‰ï¼ˆVï¼šViewï¼Œè§†å›¾ã€‚JSPï¼‰ï¼ˆCï¼šControllerï¼Œæ§åˆ¶å™¨ã€‚Servletï¼‰</p><p>â€‹    ELè¡¨è¾¾å¼ï¼š${è¡¨è¾¾å¼}ï¼Œä½œç”¨ï¼šè·å–å­˜å‚¨åœ¨åŸŸçš„å€¼ï¼ˆå€¼ã€å¯¹è±¡ã€é›†åˆï¼‰ï¼Œè·å–å†…ç½®å¯¹è±¡ï¼špageContext.JSPå†…ç½®å¯¹è±¡å</p><p>â€‹    JSTLï¼šæ ‡ç­¾åº“ï¼š&lt;%@ taglib prefix=â€câ€ uri=â€<a href="http://java.sun.com/jsp/jstl/core&quot;">http://java.sun.com/jsp/jstl/core"</a> %&gt;ï¼Œforeach:ç›¸å½“äºjavaä»£ç çš„forè¯­å¥ã€                if:ç›¸å½“äºjavaä»£ç çš„ifè¯­å¥ã€choose:ç›¸å½“äºjavaä»£ç çš„switchè¯­å¥</p><p>â€‹    ä¸‰å±‚æ¶æ„ï¼šweb:(servletã€jsp)ç•Œé¢å±‚(è¡¨ç¤ºå±‚)ï¼šç”¨æˆ·çœ‹çš„å¾—ç•Œé¢ã€ä¸šåŠ¡é€»è¾‘å±‚(service)ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘çš„ã€æ•°æ®è®¿é—®å±‚                    ï¼ˆdaoï¼‰ï¼šæ“ä½œæ•°æ®å­˜å‚¨æ–‡ä»¶ã€‚</p><p>5.5 787-801ï¼ˆ15Pï¼‰</p><p>==æ¡ˆä¾‹==ï¼ˆç”¨æˆ·ä¿¡æ¯æ“ä½œï¼‰ï¼šä¸‰å±‚æ¶æ„</p><p>â€‹    æŠ€æœ¯é€‰å‹ï¼šServlet+JSP+MySQL+JDBCTempleat+Duird+BeanUtilS+tomcat+javaScript+el+jstl</p><p>â€‹    å®ç°åŠŸèƒ½ï¼šç™»å½•ã€æ·»åŠ ã€åˆ é™¤ã€åˆ é™¤æ‰€é€‰ã€ä¿®æ”¹ã€å…¨é€‰&amp;å…¨ä¸é€‰ã€åˆ—è¡¨å±•ç¤º</p><p>5.6 802-808ï¼ˆ7Pï¼‰</p><p>==æ¡ˆä¾‹==ï¼ˆç”¨æˆ·ä¿¡æ¯æ“ä½œï¼‰ï¼šä¸‰å±‚æ¶æ„</p><p>â€‹    å®ç°åŠŸèƒ½ï¼šåˆ†é¡µæŸ¥è¯¢ã€å¤æ‚æ¡ä»¶æŸ¥è¯¢</p><p>5.7 809-824ï¼ˆ16Pï¼‰</p><p>Filterï¼šè¿‡æ»¤å™¨ï¼šæ­¥éª¤ï¼š1.å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°æ¥å£Filterã€2.å¤å†™æ–¹æ³•ã€3.é…ç½®æ‹¦æˆªè·¯å¾„ï¼Œè¿‡æ»¤å™¨æ‰§è¡Œæµç¨‹ï¼šæ‰§è¡Œï¼Œæ‰§è¡Œæ”¾è¡Œï¼Œæ‰§è¡Œæ”¾è¡Œåä»£ç ï¼Œæ‹¦æˆªè·¯å¾„é…ç½®ã€æ‹¦æˆªæ–¹å¼é…ç½®ï¼šèµ„æºè¢«è®¿é—®çš„æ–¹å¼ã€è¿‡æ»¤å™¨é“¾(é…ç½®å¤šä¸ªè¿‡æ»¤å™¨)</p><p>å¢å¼ºå¯¹è±¡çš„åŠŸèƒ½ï¼šä»£ç†æ¨¡å¼ï¼Œï¼šå¢å¼ºæ–¹å¼ï¼šå¢å¼ºå‚æ•°åˆ—è¡¨ã€å¢å¼ºè¿”å›å€¼ç±»å‹ã€å¢å¼ºæ–¹æ³•ä½“æ‰§è¡Œé€»è¾‘</p><p>Listenerï¼šåˆ›å»ºç›‘å¬å™¨æ­¥éª¤ï¼š1.å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°ServletContextListeneræ¥å£ã€2.å¤å†™æ–¹æ³•ã€3.é…ç½®@WebListener</p><p>ç›‘å¬å™¨ï¼šervletContextListener:ç›‘å¬ServletContextå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ï¼ŒcontextInitialized(ServletContextEvent sce) ï¼ˆä¸€èˆ¬ç”¨äºåŠ è½½å…¨å±€é…ç½®æ–‡ä»¶ï¼‰</p><p>5.8 825-849ï¼ˆ25Pï¼‰</p><p>JQuery åŸºç¡€ï¼šä¸€ä¸ªJavaScriptæ¡†æ¶ï¼ˆå°è£…äº†ä¸€äº›jsä»£ç ï¼‰ï¼Œæ­¥éª¤ï¼š1.ä¸‹è½½JQueryã€2.å¯¼å…¥JQueryçš„jsæ–‡ä»¶ã€3.ä½¿ç”¨</p><p>â€‹                        JQå¯¹è±¡â€“&gt;JSå¯¹è±¡ï¼š$(jså¯¹è±¡)</p><p>åŸºæœ¬æ“ä½œï¼šäº‹ä»¶ç»‘å®šã€å…¥å£å‡½æ•°(ç›¸å½“äºwindow.onload )ã€æ ·å¼æ§åˆ¶ï¼šcssæ–¹æ³•</p><p>é€‰æ‹©å™¨ï¼šåŸºæœ¬é€‰æ‹©å™¨ã€å±‚çº§é€‰æ‹©å™¨ã€å±æ€§é€‰æ‹©å™¨ã€è¿‡æ»¤é€‰æ‹©å™¨ã€è¡¨å•è¿‡æ»¤é€‰æ‹©å™¨</p><p>DOMæ“ä½œï¼šå†…å®¹æ“ä½œhtml()ã€text()ã€val()ï¼Œå±æ€§æ“ä½œattr()/prop()ã€removeAttr()ã€å¯¹classå±æ€§æ“ä½œã€ï¼ˆæ ‡ç­¾ï¼‰CRUDæ“ä½œ</p><p>JQuery é«˜çº§ï¼šåŠ¨ç”»ï¼šshowâ€¦â€¦([speed,[easing],[fn]])ã€éå†ï¼šjqå¯¹è±¡.each(callback)ã€$.each(object, [callback])callbackâ€”â€”éå†çš„é€»è¾‘æ–¹æ³•</p><p>5.9 850-871ï¼ˆ22Pï¼‰</p><p>JQuery é«˜çº§ï¼šäº‹ä»¶ç»‘å®šï¼šjqå¯¹è±¡.äº‹ä»¶æ–¹æ³•(å›è°ƒå‡½æ•°)ã€jqå¯¹è±¡.on/off(â€œäº‹ä»¶åç§°â€,å›è°ƒå‡½æ•°)</p><p>â€‹                        æ’ä»¶ï¼šå¢å¼ºJQueryçš„åŠŸèƒ½ï¼š$.fn.extend(object) å®šä¹‰jqå¯¹è±¡çš„åŠŸèƒ½ã€$.extend(object)å®šä¹‰å…¨å±€çš„åŠŸèƒ½</p><p>AJAXï¼šï¼ˆå¼‚æ­¥ï¼Œæäº¤ä¸åˆ·æ–°é¡µé¢ï¼‰å®ç°æ–¹å¼$.get(url, [data], [callback], [type])ï¼Œ</p><p>JSONï¼šï¼ˆJavaScriptå¯¹è±¡è¡¨ç¤ºæ³•ï¼‰è¯­æ³•ï¼šobj obj = {â€œkeyâ€:â€valueâ€}    è·å–æ•°æ®:jsonå¯¹è±¡.é”®å    éå†</p><p>â€‹                Javaå¯¹è±¡è½¬æ¢JSON:ä½¿ç”¨æ­¥éª¤ï¼š1.å¯¼å…¥jacksonçš„jaråŒ…ï¼Œ2.åˆ›å»ºJacksonæ ¸å¿ƒå¯¹è±¡ ObjectMapperï¼Œ3.è°ƒç”¨æ–¹æ³•                writeValue(å‚æ•°1ï¼Œobj)</p><p>5.11 872-891ï¼ˆ20Pï¼‰</p><p>Redisï¼šéå…³ç³»å‹æ•°æ®åº“ï¼Œredisçš„æ•°æ®ç»“æ„ï¼š stringã€hashã€ listã€setã€sortedsetã€é€šç”¨å‘½ä»¤</p><p>â€‹            æŒä¹…åŒ–ï¼šRDBã€AOF</p><p>Javaå®¢æˆ·ç«¯ Jedisï¼ˆjavaæ“ä½œredisæ•°æ®åº“çš„å·¥å…·ï¼‰ï¼šæ“ä½œæ•°æ®ç±»å‹</p><p>jedisè¿æ¥æ± ï¼š JedisPoolï¼š1.new JedisPool([config],[â€œlocalhostâ€],[6379])ã€2.è°ƒç”¨æ–¹æ³• getResource()æ–¹æ³•è·å–Jedisè¿æ¥ã€                        è¿æ¥æ± å·¥å…·ç±»</p><p>5.12 Maven</p><p>Mavenï¼šæ˜¯ä¸€ä¸ªåŸºäºJavaå¹³å°çš„ è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼ˆç®¡ç†é¡¹ç›®ï¼‰ï¼ŒjaråŒ…ç®¡ç†</p><p>â€‹            ä¸‹è½½é…ç½®ã€mavençº¦å®šçš„ç›®å½•ç»“æ„ã€mavenå¸¸è§å‘½ä»¤ï¼ˆcompileã€testã€packageã€installã€cleanï¼‰</p><p>â€‹            ä¾èµ–ï¼šscopeï¼šä¾èµ–èŒƒå›´ã€ä¾èµ–æ’é™¤ã€ä¾èµ–çš„ä¼ é€’æ€§ã€ç»§æ‰¿ã€ä¾èµ–åŸåˆ™ï¼šä¸ºäº†é˜²æ­¢å†²çªã€å¤šä¸ªmavené¡¹ç›®ï¼ˆæ¨¡å—ï¼‰            ä¹‹é—´ä¾èµ–</p><p>â€‹            åœ¨Eclipseä¸­åˆ›å»ºmavenå·¥ç¨‹ï¼šåˆ›å»ºmavenå·¥ç¨‹ã€åœ¨Eclipseä¸­é…ç½®maven</p><p>â€‹            mavenç”Ÿå‘½å‘¨æœŸã€ä¿®æ”¹é¡¹ç›®çš„jdk</p><p>5.13-5.14 å¤„ç†Mavené…ç½®é—®é¢˜</p><ol><li><p>å°†setting.xmlä¸­çš„æœ¬åœ°ä»“åº“è®¾ç½®å¥½ï¼Œå°†é˜¿é‡Œäº‘é•œåƒåŠ å…¥</p></li><li><p>åœ¨cmdä¸­è¾“å…¥ mvn help:systemæµ‹è¯•</p></li><li><p>å‡ºç°error 8 2.5ï¼Œ2.6ï¼Œ2.7â€¦â€¦ä¸èƒ½ä¸‹è½½ï¼šå°†ç½‘ç»œè®¾ç½®é‡Œçš„ä»£ç†â€”â€”è‡ªåŠ¨æ£€æµ‹è®¾ç½®å…³é—­</p></li><li><p>å‡ºç°canâ€™t translter â€”â€”ä¸èƒ½ä»é˜¿é‡Œäº‘ä¸‹è½½ï¼Œå…ˆå°†æœ¬åœ°ä»“åº“ä¸­ç›¸å…³çš„jaræ–‡ä»¶å¤¹åˆ é™¤ï¼Œå†é‡æ–°æ·»åŠ è¯¥ä¾èµ–</p></li><li><p>è¦æŠŠè¯¥ä¾èµ–ç›¸å…³ä»£ç é‡æ–°å‰ªåˆ‡ï¼Œç­‰åŠ è½½ä¸€ä¼šå†ç²˜è´´</p></li></ol><p>5.15 910-921ï¼ˆ12Pï¼‰</p><p>â€‹    Webç»¼åˆæ¡ˆä¾‹ï¼šæ³¨å†Œï¼šæ­£åˆ™è¡¨è¾¾å¼æ ¡éªŒã€åå°æŸ¥è¯¢æ˜¯å¦å­˜åœ¨è¯¥ç”¨æˆ·ã€æ³¨å†ŒæˆåŠŸä¸å¤±è´¥ä¿¡æ¯å›å†™ã€ajaxä¸åˆ·æ–°è·å–å›å†™ä¿¡                                æ¯ã€éªŒè¯ç æ ¡éªŒ</p><p>5.17 922-932 ï¼ˆ11Pï¼‰</p><p>â€‹    Webç»¼åˆæ¡ˆä¾‹ï¼šæ³¨å†Œï¼šå‘é€é‚®ä»¶ã€æ¿€æ´»ç”¨æˆ·</p><p>â€‹                             ç™»å½•ï¼šé¡µé¢å±•ç¤ºæ¬¢è¿ä½ +å§“å    é€€å‡º</p><p>5.18 933-937ï¼ˆ5Pï¼‰</p><p>â€‹    Webç»¼åˆæ¡ˆä¾‹ï¼šServletä¼˜åŒ–ï¼šå‡å°‘Servletæ•°é‡ï¼Œå°†ä¸€ä¸ªæ¨¡å—çš„åŠŸèƒ½æ•´åˆåˆ°ä¸€ä¸ªServletä¸­</p><p>â€‹                            åˆ†ç±»æ•°æ®å±•ç¤ºï¼šæŸ¥è¯¢æ•°æ®åº“ï¼ŒåŠ¨æ€æ˜¾ç¤ºåˆ†ç±»å¯¼èˆªæ ä¿¡æ¯</p><p>5.19 938-941ï¼ˆ4Pï¼‰</p><p>â€‹    Webç»¼åˆæ¡ˆä¾‹ï¼šåˆ†ç±»æ•°æ®ç¼“å­˜å¤„ç†ï¼šå°†åˆ†ç±»å¯¼èˆªæ ä¿å­˜åœ¨redisä¸­ï¼Œé¿å…å¤šæ¬¡è®¿é—®æ•°æ®åº“</p><p>â€‹                                åˆ†é¡µæŸ¥è¯¢æ•°æ®ï¼šåˆ†ç±»ä¼ é€’idã€åˆ†é¡µæŸ¥è¯¢ï¼ˆåå°ï¼‰ï¼šå°è£…PageBeanå¯¹è±¡</p><p>5.20 942-948ï¼ˆ6Pï¼‰</p><p>â€‹    Webç»¼åˆæ¡ˆä¾‹ï¼šåˆ†é¡µæŸ¥è¯¢æ•°æ®ï¼šå‰å°ï¼šå±•ç¤ºæ€»é¡µç ã€æ€»è®°å½•æ•°ã€åˆ†é¡µæ ã€åˆ†é¡µæ•°æ®ã€åˆ†é¡µæ æ˜¾ç¤º10ä¸ª</p><p>â€‹                                çº¿è·¯æŸ¥è¯¢ï¼šæœç´¢ä¿¡æ¯è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ï¼šå’Œåˆ†é¡µç»¼åˆæŸ¥è¯¢ï¼Œåœ¨å…¶ä»–é¡µé¢ä¹Ÿå¯ä»¥æŸ¥è¯¢çº¿è·¯</p><p>5.21 949-955ï¼ˆ7Pï¼‰</p><p>â€‹    Webç»¼åˆæ¡ˆä¾‹ï¼šæ—…æ¸¸çº¿è·¯è¯¦æƒ…ï¼šåŠ¨æ€è·å–çº¿è·¯çš„è¯¦æƒ…ä¿¡æ¯ï¼Œå•†å®¶ä¿¡æ¯ï¼Œçº¿è·¯å›¾ç‰‡ä¿¡æ¯</p><p>â€‹                            çº¿è·¯æ”¶è—çŠ¶æ€ï¼šå·²æ¿€æ´»å’Œæœªæ¿€æ´»çš„çŠ¶æ€ã€æ¿€æ´»çš„æ¬¡æ•°</p><p>5.24 961-979ï¼ˆ19Pï¼‰</p><p>â€‹    Linuxï¼šå®‰è£…è™šæ‹ŸæœºVMware ã€å›¾å½¢åŒ–ç•Œé¢CentOS 7ã€è¿œç¨‹æ“æ§è™šæ‹ŸæœºCRT</p><p>â€‹                Linuxçš„ç›®å½•ç»“æ„ã€Linuxå¸¸è§å‘½ä»¤ï¼šæ–‡ä»¶ã€ç›®å½•ï¼ŒVimç¼–è¾‘å™¨ã€Linuxçš„æƒé™å‘½ä»¤ã€</p><p>â€‹                å¸¸ç”¨ç½‘ç»œæ“ä½œï¼šä¸»æœºåé…ç½®ã€IPåœ°å€é…ç½®ã€åŸŸåæ˜ å°„ã€ç½‘ç»œæœåŠ¡ç®¡ç†</p><p>5.25 981-985(5P)</p><p>â€‹    Linuxï¼šå¸¸ç”¨ä¸Šä¼ ä¸‹è½½å·¥å…·ã€å®‰è£…jdkï¼ˆå·²å®‰è£…ï¼‰ã€mysqlã€Tomcatã€redis</p><p>5.26 1-8ï¼ˆ8Pï¼‰</p><p>â€‹    æ¡†æ¶:Mybatisï¼šæ­å»º Mybatis å¼€å‘ç¯å¢ƒï¼šåˆ›å»ºmavenå·¥ç¨‹ã€å¢åŠ ä¾èµ–ã€ç¼–å†™å®ä½“ç±»ã€ç¼–å†™æŒä¹…å±‚daoã€ç¼–å†™daoæ˜ å°„ã€ç¼–å†™ SqlMapConfig.xml xmlï¼Œç¼–å†™æµ‹è¯•ç±»ã€è‡ªå®šä¹‰Mybatisï¼ˆäº†è§£ï¼‰</p><p>5.27 18-29ï¼ˆ11Pï¼‰</p><p>â€‹    Mybatisï¼šCRUDæ“ä½œ<select>,,,</select></p><p>5.28 37-51ï¼ˆ15Pï¼‰</p><p>â€‹    Mybatisï¼šparameterType é…ç½®å‚æ•°ï¼šä¼ é€’ pojo åŒ…è£…å¯¹è±¡ï¼ˆå¤šä¸ªå¯¹è±¡ä¿¡æ¯å°è£…è¿›ä¸€ä¸ªæŸ¥è¯¢å¯¹è±¡ä¸­ï¼‰ã€</p><p>â€‹                    resultType é…ç½®ç»“æœç±»å‹ï¼ˆä½œç”¨ï¼šè®©ç±»ä¸­å±æ€§ä¸æ•°æ®åº“åˆ—åä¿æŒä¸€è‡´ï¼‰ã€</p><p>â€‹                    SqlMapConfig.xmlé…ç½®æ–‡ä»¶ï¼špropertiesï¼ˆå±æ€§ï¼‰ï¼ˆä½œç”¨ï¼šå°†å‚æ•°å°è£…åœ¨å¤–éƒ¨ï¼‰ã€typeAliasesï¼ˆç±»å‹åˆ«åï¼‰ï¼ˆç»™ç±»å‹èµ·åˆ«åï¼ŒresultTypeå’ŒparameterTypeåœ¨ä½¿ç”¨å…¨ç±»åæ—¶å¯ç›´æ¥å†™ç±»åï¼‰ã€mappersï¼ˆæ˜ å°„å™¨ï¼‰ï¼ˆä½œç”¨ï¼šä¸ç”¨å•ç‹¬æ˜ å°„ï¼Œç›´æ¥å°è£…æ˜ å°„ï¼Œæ³¨è§£å’ŒXmlé…ç½®éƒ½èµ·æ•ˆï¼‰</p><p>â€‹                    Mybatis çš„è¿æ¥æ± æŠ€æœ¯</p><p>â€‹                    Mybatis çš„äº‹åŠ¡æ§åˆ¶ï¼šMybatis è‡ªåŠ¨æäº¤äº‹åŠ¡çš„è®¾ç½®</p><p>â€‹                    åŠ¨æ€ SQLï¼ˆæ ¹æ®ä¸åŒæ¡ä»¶æ¥è¿½åŠ sqlè¯­å¥ï¼‰ï¼š<if>æ ‡ç­¾ï¼ˆæ‹¼æ¥æ¡ä»¶è¯­å¥ï¼‰ã€<where>æ ‡ç­¾ (ç®€åŒ–ä¸Šé¢ where 1=1 çš„æ¡ä»¶æ‹¼è£…)ã€<foreach>æ ‡ç­¾ ï¼ˆæ‹¼æ¥ in æ¡ä»¶è¯­å¥ï¼‰</foreach></where></if></p><p>â€‹                    <strong>å¤šè¡¨æŸ¥è¯¢</strong>ï¼šä¸€å¯¹ä¸€æŸ¥è¯¢(å¤šå¯¹ä¸€)ï¼šresultMapã€association</p><p>5.30 52-67ï¼ˆ15Pï¼‰</p><p>â€‹    Mybatisï¼šä¸€å¯¹å¤šæŸ¥è¯¢ï¼šresultMapã€collection    å¤šå¯¹å¤šï¼šresultMapã€collection è¿æ¥ä¸­é—´è¡¨</p><p>â€‹                    Mybatis å»¶è¿ŸåŠ è½½ï¼šselectã€columnï¼ˆé€šå¸¸ï¼šä¸€å¯¹ä¸€æ­£å¸¸ç«‹å³åŠ è½½ ä¸€å¯¹å¤šä½¿ç”¨å»¶è¿ŸåŠ è½½ï¼‰</p><p>â€‹                    Mybatis ç¼“å­˜ï¼šä¸€çº§ç¼“å­˜ï¼ˆsqlsessionèŒƒå›´ï¼‰ã€äºŒçº§ç¼“å­˜ï¼ˆmapperèŒƒå›´ï¼‰</p><p>5.31 68-75ï¼ˆ8Pï¼‰</p><p>â€‹    Mybatisï¼šMybatis æ³¨è§£å¼€å‘ï¼šåŸºæœ¬ CRUDã€å®ç°å¤æ‚å…³ç³»æ˜ å°„å¼€å‘</p><p>6.1 76-97ï¼ˆ22Pï¼‰</p><p>â€‹    Springï¼šæ¦‚è¿°ï¼ˆIOCåè½¬æ§åˆ¶ã€AOPé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ã€å·¥å‚è§£è€¦ã€ IOCè§£å†³ç¨‹åºè€¦åˆ</p><p>â€‹                    åŸºäº XML çš„ IOC ç»†èŠ‚ï¼šApplicationContext æ¥å£çš„ä¸‰ç§å®ç°ç±»ã€BeanFactoryå’Œ ApplicationContext çš„åŒºåˆ«                                                        ï¼ˆåˆ›å»ºå¯¹è±¡æ—¶é—´ç‚¹ä¸åŒï¼‰</p><p>â€‹                     bean æ ‡ç­¾å’Œç®¡ç†å¯¹è±¡ç»†èŠ‚ï¼šå®ä¾‹åŒ– Bean çš„ä¸‰ç§æ–¹å¼ ï¼ˆé»˜è®¤æ„é€ ã€é™æ€æ–¹æ³•ã€å®ä¾‹åŒ–ç±»æ–¹æ³•ï¼‰ã€bean æ ‡ç­¾                                                                ï¼ˆscopeï¼šæŒ‡å®šå¯¹è±¡çš„ä½œç”¨èŒƒå›´ï¼‰</p><p>6.2 98-109ï¼ˆ12Pï¼‰</p><p>â€‹    Springï¼šxmlæ–¹å¼ä¾èµ–æ³¨å…¥ï¼šæ„é€ å‡½æ•°æ³¨å…¥ã€setæ–¹æ³•æ³¨å…¥ã€æ³¨å…¥é›†åˆ</p><p>â€‹                  åŸºäºæ³¨è§£çš„ IOC é…ç½®ï¼šå¸¸ç”¨æ³¨è§£ï¼šç”¨äºåˆ›å»ºbeanå¯¹è±¡ã€ç”¨äºæ³¨å…¥æ•°æ®ã€ç”¨äºæ”¹å˜ä½œç”¨èŒƒå›´ã€å’Œç”Ÿå‘½å‘¨æœŸç›¸å…³                                                        ç¯å¢ƒæ­å»º</p><p>â€‹                  å…³äº Spring æ³¨è§£å’Œ XMLçš„é€‰æ‹©é—®é¢˜</p><p>6.3 110-119ï¼ˆ10Pï¼‰</p><p>â€‹    Springï¼šåŸºäºXMLçš„IOCæ¡ˆä¾‹ï¼šDBUtils ã€c3p0 ï¼Œç¯å¢ƒæ­å»ºã€ç¼–å†™Xmlé…ç½®æ–‡ä»¶ã€ç¼–å†™æµ‹è¯•ç±»</p><p>â€‹                  åŸºäºæ³¨è§£çš„IOCæ¡ˆä¾‹ï¼šç¯å¢ƒæ­å»ºã€æ³¨è§£ç¼–å†™ä¸šåŠ¡å±‚ã€æŒä¹…å±‚ã€ç¼–å†™Xmlé…ç½®æ–‡ä»¶</p><p>â€‹                  çº¯æ³¨è§£å½¢å¼ï¼Œå°†xmlå˜ä¸ºæ³¨è§£ï¼š@Configuration ã€@ComponentScanã€@Beanã€@Import @PropertySource</p><p>6.4 120-139ï¼ˆ20Pï¼‰</p><p>â€‹    Springï¼šSpring æ•´åˆ Junitï¼šå¸®åŠ©åˆ›å»ºå®¹å™¨ï¼Œè·å–å¯¹è±¡ @RunWithã€@ContextConfigurationã€@Autowired</p><p>â€‹                  AOPï¼šï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ï¼Œå£°æ˜åˆ‡å…¥ç‚¹ä¸é€šçŸ¥é—´çš„å…³ç³»ï¼ˆç»™æ–¹æ³•å¢å¼ºï¼‰ã€AOP ç›¸å…³æœ¯è¯­ï¼šè¿æ¥ç‚¹ã€åˆ‡å…¥ç‚¹ã€                                é€šçŸ¥ã€ç›®æ ‡å¯¹è±¡ã€ç»‡å…¥ã€ä»£ç†ã€åˆ‡é¢ï¼Œ</p><p>â€‹                  åŸºäº XML çš„ AOP é…ç½®ï¼šå¯¼å…¥ä¾èµ–ã€çº¦æŸã€é…ç½® spring çš„ ioc ã€é€šçŸ¥ç±»iocã€ aop:configå£°æ˜ aop é…ç½® ã€                                                            aop:aspect é…ç½®åˆ‡é¢ã€aop:pointcuté…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ ã€ aop:xxxé…ç½®å¯¹åº”çš„é€šçŸ¥ç±»                                                            å‹ã€ç¯ç»•é€šçŸ¥</p><p>6.5 140-148ï¼ˆ9Pï¼‰</p><p>â€‹    Springï¼šåŸºäºæ³¨è§£çš„ AOP é…ç½®ï¼š@Service(â€œaccountServiceâ€)ã€@ComponentScanï¼ˆæŒ‡å®šæ‰«æçš„åŒ…ï¼‰ ã€                                                        @Component(â€œtxManagerâ€) ã€@Aspectå£°æ˜åˆ‡é¢ç±»ã€@Beforeã€                                                        @EnableAspectJAutoProxyã€@Pointcut(â€œexecution(* com.itheima.service.impl.<em>.</em>(..))â€)                                                         ã€@Around(â€œpt1()â€)</p><p>â€‹    JDBCTemplateï¼šJDBCTemplateå’ŒDBUtilså¯¹æ¯”ã€æ­¥éª¤ï¼šå¯¼å…¥ä¾èµ–ã€é…ç½®æ•°æ®æºã€åœ¨ dao ä¸­å®šä¹‰ JdbcTemplateï¼ˆæ‰€                                xmlã€æ³¨è§£å‡é€‚ç”¨ï¼‰ã€extends JdbcDaoSupportï¼ˆæ³¨è§£ä¸é€‚ç”¨ï¼‰</p><p>6.6 149-155ï¼ˆ7Pï¼‰</p><p>â€‹    Springï¼šåŸºäº XML çš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶ï¼šå¯¼å…¥ä¾èµ–ã€å¯¼å…¥çº¦æŸã€é…ç½®ä¸šåŠ¡å±‚å’ŒæŒä¹…å±‚IOCã€é…ç½®äº‹åŠ¡ç®¡ç†å™¨ã€é…ç½®äº‹åŠ¡                                                                    çš„é€šçŸ¥ã€é…ç½®äº‹åŠ¡çš„å±æ€§ã€é…ç½® AOP åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ã€é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å’Œäº‹                                                                    åŠ¡é€šçŸ¥çš„å¯¹åº”å…³ç³»</p><p>â€‹                  åŸºäºæ³¨è§£çš„é…ç½®æ–¹å¼ï¼šå¯¼å…¥ä¾èµ–ã€åˆ›å»º spring çš„é…ç½®æ–‡ä»¶å¯¼å…¥çº¦æŸå¹¶é…ç½®æ‰«æçš„åŒ…ã€æ³¨è§£Iocã€Xmlé…ç½®äº‹åŠ¡ç®¡                                                        ç†å™¨å¹¶æ³¨å…¥æ•°æ®æºã€åœ¨ä¸šåŠ¡å±‚ä½¿ç”¨@Transactional æ³¨è§£é…ç½®äº‹åŠ¡é€šçŸ¥ã€å¼€å¯ spring å¯¹                                                        æ³¨è§£äº‹åŠ¡çš„æ”¯æŒ</p><p>6.7 159-165ï¼ˆ7Pï¼‰</p><p>â€‹    Springï¼šæ¡ˆä¾‹ï¼šå¯¹IOCã€AOPäº‹åŠ¡æäº¤ã€XMLå’Œæ³¨è§£é…ç½®ã€çº¯æ³¨è§£é…ç½®è¿›è¡Œå¤ä¹ </p><p>â€‹    SpringMVCï¼šä¸‰å±‚æ¶æ„å’Œ MVCã€SpringMVC æ¦‚è¿°ã€SpringMVCçš„å…¥é—¨ï¼šæ­¥éª¤ï¼ˆä¾èµ–ã€æ ¸å¿ƒæ§åˆ¶å™¨ã€æ‰«æåŒ…ã€æ§åˆ¶å™¨ã€                          è¯·æ±‚æ˜ å°„ã€è¯•å›¾è§£æå™¨ã€å¼€å¯æ³¨è§£æ”¯æŒï¼‰ã€MVCç»„ä»¶ï¼ˆå‰ç«¯æ§åˆ¶å™¨ã€å¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨ã€å¤„ç†å™¨é€‚                          é…å™¨ã€è§†å›¾è§£æå™¨ã€è§†å›¾ï¼‰</p><p>6.8 166-182ï¼ˆ16Pï¼‰</p><p>â€‹    SpringMVCï¼šRequestMapping æ³¨è§£ï¼ˆå»ºç«‹ä¸€äºŒçº§æ–¹æ³•å…³ç³»ï¼‰</p><p>â€‹                          è¯·æ±‚å‚æ•°çš„ç»‘å®šï¼ˆè·å–å€¼ï¼‰ï¼šåŸºæœ¬ç±»å‹ã€å®ä½“ç±»å‹ã€é›†åˆç±»å‹ã€è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼ˆspringè¿‡æ»¤å™¨ï¼‰ã€è‡ª                                                                         å®šä¹‰ç±»å‹è½¬æ¢å™¨</p><p>â€‹                          å¸¸ç”¨çš„æ³¨è§£ï¼šRequestParamæ³¨è§£ ï¼ˆè§£å†³å‚æ•°åç§°å’Œä¼ é€’å‚æ•°åç§°ä¸ä¸€è‡´ï¼‰ã€RequestBodyæ³¨è§£ï¼ˆè·å–è¯·                                                æ±‚ä½“ï¼‰ã€RequestHeaderæ³¨è§£ï¼ˆè·å–è¯·æ±‚å¤´ï¼‰ã€CookieValueæ³¨è§£ï¼ˆè·å–cookieä¸­çš„å€¼ï¼‰ã€                                                PathVariableæ³¨è§£ï¼ˆè·å–resultfulå ä½ç¬¦ä¸Šçš„å€¼ï¼‰ã€ModelAttributeæ³¨è§£ï¼ˆä¼˜å…ˆæ‰§è¡Œã€è·å–ä¼˜                                                å…ˆæ‰§è¡Œçš„è¿”å›å€¼ï¼‰ã€SessionAttributesæ³¨è§£ï¼ˆå­˜åˆ°sessionåŸŸä¸­ï¼‰</p><p>6.9 183-203ï¼ˆ20Pï¼‰</p><p>â€‹    SpringMVCï¼šå“åº”æ•°æ®å’Œç»“æœè§†å›¾ï¼šè¿”å›å€¼åˆ†ç±»ï¼ˆStringã€void(è½¬å‘ã€é‡å®šå‘)ã€ModelAndViewã€ï¼‰ã€è½¬å‘é‡å®šå‘ã€                                                              ResponseBodyå“åº”jsonæ•°æ®</p><p>â€‹                          SpringMVCå®ç°æ–‡ä»¶ä¸Šä¼ ï¼šSpringMVCä¼ ç»Ÿæ–¹å¼æ–‡ä»¶ä¸Šä¼ ï¼ˆçœå»äº†è§£ærequeståŸŸè·å–ä¸Šä¼ æ–‡ä»¶é¡¹çš„è¿‡                                                                      ç¨‹ï¼Œç›´æ¥è·å¾—æ–‡ä»¶é¡¹ï¼‰ã€SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼æ–‡ä»¶ä¸Šä¼ </p><p>â€‹                          SpringMVCçš„å¼‚å¸¸å¤„ç†ï¼ˆå‹å¥½è·³è½¬é”™è¯¯é¡µé¢ï¼‰ï¼šè‡ªå®šä¹‰å¼‚å¸¸ç±»ã€è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†å™¨ã€é…ç½®å¼‚å¸¸å¤„ç†å™¨</p><p>â€‹                          SpringMVCæ¡†æ¶ä¸­çš„æ‹¦æˆªå™¨ï¼ˆç±»ä¼¼è¿‡æ»¤å™¨ï¼‰ï¼šåˆ›å»ºæ‹¦æˆªå™¨ç±»ï¼Œå®ç°æ¥å£ï¼ˆæ¥å£å†…éƒ¨å·²ç»å®ç°äº†æ–¹æ³•ï¼Œéœ€è¦                                                                                                  è‡ªå·±é‡è½½ï¼‰ã€é…ç½®æ‹¦æˆªå™¨ç±»</p><p>6.10 204-212ï¼ˆ9Pï¼‰</p><p>â€‹    SSMæ•´åˆï¼šæ­å»ºæ•´åˆç¯å¢ƒã€Springã€SpringMVCã€Springæ•´åˆSpringMVCæ¡†æ¶ã€Mybatisã€Springæ•´åˆMyBatisæ¡†æ¶</p><p>6.11 ç»ƒä¹ SSMæ•´åˆ</p><p>6.12 - 6.22 </p><p>â€‹    Hexo+matery+butterflyæ­å»ºä¸¤ä¸ªé™æ€åšå®¢</p><p>6.23 1-7 ï¼ˆ7Pï¼‰</p><p>â€‹    Spring Bootï¼šå…¥é—¨ï¼šç¯å¢ƒæ­å»ºã€å¾®æœåŠ¡ç®€ä»‹ã€åˆ†æSpring Boot ç¯å¢ƒåº•å±‚</p><p>6.24-6.29 8-41ï¼ˆ34Pï¼‰</p><p>â€‹    Spring Bootï¼š</p><p>æ—¥å¿—ï¼ˆæ—¥å¿—æ¡†æ¶ã€SLF4jä½¿ç”¨ã€SpringBootæ—¥å¿—å…³ç³»ã€æ—¥å¿—ä½¿ç”¨ã€åˆ‡æ¢æ—¥å¿—æ¡†æ¶ï¼‰ã€</p><p>é…ç½®æ–‡ä»¶ï¼ˆYAMLè¯­æ³•ã€é…ç½®æ–‡ä»¶å€¼æ³¨å…¥ã€é…ç½®æ–‡ä»¶å ä½ç¬¦ã€Profileã€é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®ã€å¤–éƒ¨é…ç½®åŠ è½½é¡ºåºã€è‡ªåŠ¨é…ç½®åŸç†ï¼‰</p><p>webå¼€å‘ï¼šå¯¹é™æ€èµ„æºçš„æ˜ å°„è§„åˆ™ã€æ¨¡æ¿å¼•æ“Thymeleafã€SpringMVCè‡ªåŠ¨é…ç½®ã€å¦‚ä½•ä¿®æ”¹SpringBooté»˜è®¤é…ç½®ã€RestfulCRUD</p><p>6.30 42-51ï¼ˆ9Pï¼‰</p><p>â€‹    Spring Bootï¼š</p><p>é”™è¯¯å¤„ç†åŸç†ã€å®šåˆ¶é”™è¯¯é¡µé¢ã€å®šåˆ¶é”™è¯¯æ•°æ®ã€æ³¨å†ŒServletä¸‰å¤§ç»„ä»¶ã€åˆ‡æ¢åµŒå…¥å¼Servletå®¹å™¨ã€ä½¿ç”¨å¤–éƒ¨Servletå®¹å™¨ã€å¼€å¯JSPæ”¯æŒ</p><p>7.1 52-58ï¼ˆ6Pï¼‰</p><p>â€‹    Dockerï¼š</p><p>Linuxç¯å¢ƒå‡†å¤‡ã€dockerå®‰è£…å¯åŠ¨åœæ­¢ã€é•œåƒæ“ä½œå¸¸ç”¨æŒ‡ä»¤ã€å®¹å™¨æ“ä½œå¸¸ç”¨æŒ‡ä»¤ã€å®‰è£…Mysql</p><p>7.2-7.4 59-64ï¼ˆ6Pï¼‰</p><p>â€‹    Spring Bootï¼š</p><p>æ•°æ®è®¿é—®ï¼šJDBCã€æ•´åˆDruidæ•°æ®æºã€æ•´åˆMybatisã€æ³¨è§£ä½¿ç”¨Mybatis</p><p>7.5 Springæ³¨è§£é©±åŠ¨æ•™ç¨‹ 1-26ï¼ˆ26Pï¼‰</p><p>Springæ³¨è§£é©±åŠ¨ï¼š</p><p>å®¹å™¨ï¼šç»„ä»¶æ·»åŠ ã€ç”Ÿå‘½å‘¨æœŸã€ç»„ä»¶èµ‹å€¼ã€è‡ªåŠ¨è£…é…ï¼ˆæ³¨å…¥ï¼‰ã€æ ¹æ®ç¯å¢ƒæ³¨å†ŒBean</p><p>7.6 Springæ³¨è§£é©±åŠ¨æ•™ç¨‹ 27ã€36-37ã€53-58 ï¼ˆ9Pï¼‰</p><p>Springæ³¨è§£é©±åŠ¨ï¼š</p><p>AOPï¼šåŸºäºæ³¨è§£AOPçš„ä¸‰å¤§æ­¥:@Aspectã€åœ¨åˆ‡é¢ç±»ä¸Šçš„æ¯ä¸€ä¸ªé€šçŸ¥æ–¹æ³•ä¸Šæ ‡æ³¨ä¸Šé€šçŸ¥æ³¨è§£ã€å¼€å¯åŸºäºæ³¨è§£çš„AOPæ¨¡å¼</p><p>å£°æ˜å¼äº‹åŠ¡ï¼šåŸºäºæ³¨è§£çš„äº‹åŠ¡æ§åˆ¶ä¸‰å¤§æ­¥ï¼š@EnableTransactionManagementã€ç»™æ–¹æ³•æ ‡æ³¨ä¸Š@Transactional ï¼Œè¡¨ç¤ºå½“                        å‰æ–¹æ³•æ˜¯ä¸€ä¸ªç”±äº‹åŠ¡æ¥ç®¡çš„æ–¹æ³•ã€é…ç½®äº‹åŠ¡ç®¡ç†å™¨æ¥æ§åˆ¶äº‹åŠ¡</p><p>Springæ•´åˆSpringMVCæ¡†æ¶ï¼ˆçº¯æ³¨è§£ç‰ˆï¼‰ï¼šåˆ›å»ºSpringé…ç½®ç±»ã€åˆ›å»ºSpringMVCé…ç½®ç±»ã€åˆ›å»ºMyWebAppInitializeré…ç½®ä¸¤                                                                    ä¸ªé…ç½®ç±»å’ŒMVCå‰ç«¯æ§åˆ¶å™¨çš„æ˜ å°„å…³ç³»ï¼Œå®šåˆ¶MVCçš„ä¸‰å¤§æ­¥ï¼ˆåœ¨mvcé…ç½®ç±»                                                                    ä¸­ï¼‰ï¼š@EnableWebMvcï¼Œå¼€å¯SpringMVCå®šåˆ¶åŠŸèƒ½ã€ç»§æ‰¿                                                                    WebMvcConfigurerAdapterã€é‡å†™æ–¹æ³•ï¼Œè¿›è¡Œå®šåˆ¶</p><p>ï¼ˆå¼€å­¦ï¼‰</p><p>8.31 å¤ä¹ Spring</p><p><a href="https://www.bilibili.com/video/BV1WZ4y1H7du?p=27&amp;t=447">https://www.bilibili.com/video/BV1WZ4y1H7du?p=27&amp;t=447</a></p><p>P1-36ï¼šSpring IOCï¼šXMLå’Œæ³¨è§£çš„æ–¹å¼ï¼Œçº¯æ³¨è§£æ–¹å¼</p><p>ï¼ŒSpringæ•´åˆJunit4çš„æ–¹å¼</p><p>9.1 å¤ä¹ Spring</p><p>P37-51ï¼šSpring AOP ï¼š XMLå’Œæ³¨è§£çš„æ–¹å¼ï¼Œçº¯æ³¨è§£æ–¹å¼</p><p>å¤ä¹ åå°„æœºåˆ¶ï¼šP462-469ã€<a href="https://www.bilibili.com/video/BV1uJ411k7wy">https://www.bilibili.com/video/BV1uJ411k7wy</a></p><p>åŠ¨æ€ä»£ç†ï¼šP41ã€42ï¼ŒP820ã€821</p><p>9.2 é…ç½®JavaEEç¯å¢ƒ</p><p>å®‰è£…Myeclipse2014ï¼ˆæ±‰åŒ–ã€ç ´è§£ï¼‰ï¼Œé…ç½®Tomcat8ï¼Œjre8</p><p>9.3 å¤ä¹ Spring</p><p>P52-71 : jdbcTemplateï¼ŒSpringäº‹åŠ¡æ§åˆ¶</p><p>9.4 å¤ä¹ SpringMVC</p><p>P72-127ï¼šmavenå·¥ç¨‹åˆ›å»ºwebé¡¹ç›®ã€SpringMVCæ‰§è¡Œè¿‡ç¨‹ã€æ•°æ®å“åº”ï¼ˆé¡µé¢è·³è½¬ï¼šStringã€modelAndViewã€modelï¼Œå›å†™æ•°æ®ï¼š@ResponseBodyï¼Œå›å†™jsonï¼‰ã€å‚æ•°ç»‘å®šï¼ˆåŸºæœ¬ç±»å‹ã€pojoã€æ•°ç»„ã€é›†åˆï¼‰ã€Restfulé£æ ¼ã€æ‹¦æˆªå™¨ã€å¼‚å¸¸å¤„ç†</p><p>9.5 å¤ä¹ Mybatis</p><p>P146-184 ï¼šå¿«é€Ÿå…¥é—¨ã€å¢åˆ æ”¹æŸ¥ã€æ ¸å¿ƒé…ç½®æ–‡ä»¶è§£æï¼ˆenvironmentsã€mappersã€propertiesã€typeAliasesã€pluginsï¼‰ã€åŠ¨æ€sqlï¼ˆifã€foreachæ ‡ç­¾</p><p>ã€sqlç‰‡æ®µæŠ½å–ï¼‰ã€ä¸€å¯¹ä¸€æ¨¡å‹ï¼ˆrequestMapæ ‡ç­¾ã€associationï¼‰ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤šæ¨¡å‹ï¼ˆcollectionï¼‰</p><p>9.6 å¤ä¹ SSMæ•´åˆ</p><p>P185-200ï¼šmybatisæ³¨è§£å¼€å‘ï¼šä¸€å¯¹ä¸€ï¼ˆ@results,resultï¼ŒOne(@One)ï¼‰ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹å¤šï¼ˆMany(@Many)ï¼‰ï¼ŒSSMæ•´åˆï¼ˆSpring-SpringMVCç”¨ç›‘å¬å™¨ï¼ŒSpring-Mybatiså°†sqlSessionFactoryåŠ å…¥Springå®¹å™¨ä¸­ï¼‰ï¼Œæ•´ç†é…ç½®æ–‡ä»¶ç¬”è®°</p><p>9.7 å¤ä¹ Mavenï¼Œå­¦ä¹ Git</p><p>P201-221ï¼šä¾èµ–ä¼ é€’/å†²çªï¼ˆæ’é™¤ä¾èµ–ï¼Œç‰ˆæœ¬é”å®šã€ç¬¬ä¸€å£°æ˜è€…ä¼˜å…ˆã€è·¯å¾„è¿‘è€…ä¼˜å…ˆï¼‰ã€ä½¿ç”¨mavenæ­å»ºSSMå·¥ç¨‹ã€åˆ†æ¨¡å—æ­å»ºå·¥ç¨‹ã€éƒ¨ç½²tomcat</p><p>P229-256ï¼šGitä¸‹è½½å®‰è£…ã€ä»£ç æ‰˜ç®¡æœåŠ¡ï¼ˆç äº‘ã€Githubï¼‰æ³¨å†Œè´¦å·ã€åˆ›å»ºä»“åº“ã€é‚€è¯·ç”¨æˆ·ï¼ŒGitå¸¸ç”¨å‘½ä»¤ï¼ˆåˆå§‹åŒ–initï¼Œå…‹éš†cloneï¼Œï¼‰ï¼Œï¼ˆå·¥ä½œç›®å½•ã€æš‚å­˜åŒºã€ç‰ˆæœ¬åº“ï¼Œæ–‡ä»¶çŠ¶æ€ï¼ˆæœªè·Ÿè¸ªã€å·²è·Ÿè¸ªï¼ˆå·²ä¿®æ”¹ã€æœªä¿®æ”¹ã€å·²æš‚å­˜ï¼‰ï¼‰ï¼‰ï¼Œï¼ˆæŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ statusï¼ŒåŠ å…¥æš‚å­˜åŒºaddï¼Œå–æ¶ˆæš‚å­˜resetï¼Œæäº¤æœ¬åœ°ä»“åº“commit ï¼Œåˆ é™¤rmï¼Œæ—¥å¿—logï¼Œï¼‰ï¼Œå¿½ç•¥åˆ—è¡¨ï¼Œè¿œç¨‹ä»“åº“æ“ä½œï¼ˆæŸ¥çœ‹è¿œç¨‹ä»“åº“remoteï¼Œå¢åŠ è¿œç¨‹ä»“åº“remote addï¼Œå…‹éš†cloneï¼Œç§»é™¤è¿œç¨‹ä»“åº“å…³ç³»remote rmï¼ŒæŠ“å–ä¸åˆå¹¶fetchï¼ŒæŠ“å–åˆå¹¶pullï¼Œæ¨é€pushï¼‰</p><p>9.8 å­¦ä¹ Gitï¼Œæ•´ç†åšå®¢</p><p>P257-285ï¼šGitåˆ†æ”¯ï¼ˆæŸ¥çœ‹ã€åˆ›å»ºã€æ¨é€ã€åˆå¹¶ã€åˆ é™¤branchï¼‰ã€æ ‡ç­¾ï¼ˆæŸ¥çœ‹ã€åˆ›å»ºã€æ£€å‡ºã€åˆ é™¤tagï¼‰ã€å›¾å½¢åŒ–å·¥å…·TortoiseGitã€ideaä½¿ç”¨Gitã€SSHåè®®</p><p>9.9 æ•´ç†JavaEEç¬”è®°</p><p>å¤ä¹ JSPã€æ•´ç†JavaEEé…ç½®ç¯å¢ƒç¬”è®°</p><p>å¤ä¹ Sring bootï¼š<a href="https://www.bilibili.com/video/BV1Et411Y7tQ?p=33">https://www.bilibili.com/video/BV1Et411Y7tQ?p=33</a></p><p>P1-7ï¼šåˆ›å»ºspring booté¡¹ç›®ï¼Œå¿«é€Ÿå…¥é—¨ï¼Œè‡ªåŠ¨é…ç½®åŸç†åˆ†æï¼ˆè‡ªåŠ¨è£…é…ï¼‰ </p><p>9.10 å¤ä¹ Spring boot</p><p><a href="https://www.bilibili.com/video/BV1PE411i7CV?p=21">https://www.bilibili.com/video/BV1PE411i7CV?p=21</a> ç‹‚ç¥è¯´å’Œé›·ä¸°é˜³</p><p>P6-34ï¼šè‡ªåŠ¨é…ç½®åŸç†ã€</p><p>é…ç½®ï¼šyamlé…ç½®ã€propertiesé…ç½®ã€å¤šç¯å¢ƒProfileæ”¯æŒã€é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®ã€åŠ è½½é¡ºåº</p><p>æ—¥å¿—ï¼šæ—¥å¿—æ¡†æ¶slf4jï¼ˆæ¥å£ï¼‰ã€logbackï¼ˆå®ç°ï¼‰</p><p>webï¼šthymeleafæ¨¡æ¿å¼•æ“ã€SpringMVCè‡ªåŠ¨è£…é…ã€è‡ªå®šä¹‰ç»„ä»¶åŠ å…¥å®¹å™¨ï¼ˆç¼–å†™é…ç½®ç±»ï¼‰</p><p>9.11-12 å¤ä¹ Spring boot</p><p>P35-42ï¼šç¼–å†™CRUDå®éªŒ</p><p>é™æ€å¼•å…¥èµ„æºè§„åˆ™ã€å›½é™…åŒ–ã€ç™»å½•æ‹¦æˆªå™¨ã€Restfulé£æ ¼ã€å…¬å…±é¡µæŠ½å–ã€é“¾æ¥é«˜äº®ã€æ›¿æ¢çœŸå®æ•°æ®ã€é¡µé¢é‡ç”¨2åˆ1ã€CRUDæ“ä½œã€jsè¡¨å•æäº¤</p><p>9.13 å¤ä¹ Spring boot</p><p>P43-50 ï¼šé”™è¯¯å¤„ç†æœºåˆ¶</p><p>è‡ªå®šä¹‰é”™è¯¯é¡µé¢ã€è‡ªå®šä¹‰å“åº”é”™è¯¯æ•°æ®ï¼ˆä¸å¥½å†™ï¼‰</p><p>tomcaté…ç½®ä¿®æ”¹ã€æ³¨å†Œservletä¸‰å¤§ç»„ä»¶ï¼ˆservletã€Filterã€Listenerï¼‰ã€ä½¿ç”¨å…¶ä»–Servletå®¹å™¨ã€ä½¿ç”¨å¤–ç½®tomcatå®¹å™¨</p><p>P325-335ï¼š<a href="https://www.bilibili.com/video/BV1WZ4y1H7du?t=797&amp;p=335">https://www.bilibili.com/video/BV1WZ4y1H7du?t=797&amp;p=335</a></p><p>lombokï¼ˆç®€åŒ–å®ä½“ç±»ï¼‰ï¼Œhikariï¼ˆæ•°æ®æºï¼‰ï¼Œäº‹åŠ¡ï¼Œæ•´åˆmybatis,é€šç”¨mapperï¼ˆç®€åŒ–daoï¼‰ï¼Œjunitï¼Œredisï¼Œéƒ¨ç½²</p><p>9.14 å¤ä¹ Spring boot</p><p>P59-66ï¼šæ•°æ®è®¿é—®</p><p>æ•´åˆDruidã€é…ç½®æ•°æ®æºç›‘æ§ï¼Œæ•´åˆMybatisï¼Œæ•´åˆSpringData JPA</p><p>çœ‹æ•°æ®ç»“æ„20é¡µï¼šé€»è¾‘ç»“æ„ï¼ˆäºŒå…ƒç»„ã€é›†åˆç»“æ„ã€çº¿æ€§ã€æ ‘å½¢ã€å›¾å½¢ï¼‰ï¼Œå­˜å‚¨ç»“æ„ï¼ˆé¡ºåºã€é“¾å¼ã€ç´¢å¼•ã€å“ˆå¸Œï¼‰</p><p>9.15 å­¦ä¹ Redisã€è®¾è®¡æ¨¡å¼ï¼ˆå•ä¾‹ï¼‰</p><p>P1-36ï¼š<a href="https://www.bilibili.com/video/BV1S54y1R7SB?p=36">https://www.bilibili.com/video/BV1S54y1R7SB?p=36</a></p><p>Nosqlæ¦‚è¿°ã€redisäº”å¤§æ•°æ®ç±»å‹ã€å‘½ä»¤æ“ä½œã€æŒä¹…åŒ–(RDBã€AOF)ã€äº‹åŠ¡ã€æ¶ˆæ¯è®¢é˜…å‘å¸ƒã€ä¸»ä»å¤åˆ¶ã€å“¨å…µæ¨¡å¼ã€ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜é›ªå´©ã€(jedisã€springbootæ•´åˆ)</p><p>å•ä¾‹æ¨¡å¼çš„å…«ç§å®ç°ï¼šé¥¿æ±‰å¼2ç§ã€æ‡’æ±‰å¼3ç§ã€åŒé‡æ£€æŸ¥é”ã€é™æ€å†…éƒ¨ç±»ã€æšä¸¾</p><p>9.16 å­¦ä¹ ZooKeeperã€Kafka</p><p><a href="https://www.bilibili.com/video/BV1PW411r7iP?p=11">https://www.bilibili.com/video/BV1PW411r7iP?p=11</a></p><p>æ¦‚è¿°ï¼ˆåˆ†å¸ƒå¼æœåŠ¡åè°ƒç®¡ç†æ¡†æ¶ï¼‰ã€å·¥ä½œæœºåˆ¶ã€ç‰¹ç‚¹ï¼ˆåŠæ•°å­˜æ´»ã€å…¨å±€æ•°æ®ä¸€è‡´ã€ä¸€ä¸»å¤šä»é›†ç¾¤ã€æ•°æ®åŸå­æ€§ã€å®æ—¶æ€§ã€æ›´æ–°è¯·æ±‚é¡ºåºè¿›è¡Œï¼‰ã€åº”ç”¨åœºæ™¯ï¼ˆç»Ÿä¸€å‘½åæœåŠ¡ã€ç»Ÿä¸€é›†ç¾¤ç®¡ç†ã€ç»Ÿä¸€é…ç½®ç®¡ç†ã€æœåŠ¡èŠ‚ç‚¹åŠ¨æ€ä¸Šä¸‹çº¿ã€è½¯è´Ÿè½½å‡è¡¡ï¼‰ã€å†…éƒ¨åŸç†ï¼ˆé€‰ä¸¾æœºåˆ¶ã€èŠ‚ç‚¹ç±»å‹ã€ç›‘å¬å™¨åŸç†ã€å†™æ•°æ®æµç¨‹ï¼‰ã€å¸¸ç”¨æŒ‡ä»¤ï¼ˆls pathã€ls2 pathã€create path valueã€set path valueã€get pathã€delete pathã€rmr pathï¼‰</p><p><a href="https://www.bilibili.com/video/BV1a4411B7V9?p=5">https://www.bilibili.com/video/BV1a4411B7V9?p=5</a></p><p>å®šä¹‰ï¼ˆåˆ†å¸ƒå¼çš„æ¶ˆæ¯è®¢é˜…æ¨¡å¼çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œå¥½å¤„ï¼ˆè§£è€¦ã€å‰Šå³°ï¼‰ï¼Œä¸¤ç§æ¨¡å¼ï¼ˆç‚¹å¯¹ç‚¹ã€å‘å¸ƒ/è®¢é˜…ï¼‰ï¼ŒåŸºæœ¬æ¶æ„ï¼ˆç”Ÿäº§è€…ã€æ¶ˆè´¹è€…ã€brokerã€Topicä¸»é¢˜ã€partitionåˆ†åŒºã€ä¸»ä»ã€æ¶ˆè´¹è€…ç»„ã€zookeeperï¼‰ï¼Œå·¥ä½œæµç¨‹ï¼ˆåç§»é‡ï¼‰ï¼Œå­˜å‚¨æœºåˆ¶ï¼ˆåˆ†ç‰‡ã€ç´¢å¼•ï¼‰ï¼Œç”Ÿäº§è€…ï¼ˆåˆ†åŒºç­–ç•¥ã€ISRã€ackï¼Œæ¶ˆæ¯ä¸€è‡´æ€§ï¼šHWã€LEOï¼šæ•…éšœè§£å†³æªæ–½ï¼‰ï¼Œç²¾å‡†ä¸€æ¬¡ï¼ˆå¹‚ç­‰æ€§ï¼‰ã€æ¶ˆè´¹è€…ï¼ˆæ¶ˆè´¹æ–¹å¼ï¼šæ¨ã€æ‹‰ï¼Œåˆ†é…ç­–ç•¥ï¼šè½®è¯¢ã€rangeçš„ä¼˜ç¼ºç‚¹ã€é«˜æ•ˆè¯»å†™æ•°æ®çš„åŸå› ï¼‰ã€Zookeeper åœ¨ Kafka ä¸­çš„ä½œç”¨</p><p>9.17-9.20 å­¦ä¹ SringCloud</p><p>SpringCloudæŠ€æœ¯æ ˆï¼ˆæœåŠ¡æ³¨å†Œä¸å‘ç°ï¼šEurekaã€Zookeeperã€Consulï¼ŒæœåŠ¡è´Ÿè½½ä¸è°ƒç”¨ï¼šRibbonã€openFeignï¼‰ï¼Œå¾®æœåŠ¡æ¶æ„æ­å»ºã€postmanã€çƒ­éƒ¨ç½²ã€å·¥ç¨‹é‡æ„</p><p>Eurekaï¼šï¼ˆå®¢æˆ·ç«¯ã€æœåŠ¡å™¨ç«¯ï¼‰ã€æ³¨å†Œå’Œè°ƒç”¨åŸç†ã€å•æœºç‰ˆï¼ˆpomä¾èµ–ã€ymlã€ä¸»å¯åŠ¨@EnableEurekaServer/@EnableEurekaClientï¼‰ã€é›†ç¾¤ï¼ˆæœåŠ¡å™¨ymläº’ç›¸æ³¨å†Œï¼ŒæœåŠ¡æä¾›è€…@LoadBalancedï¼‰ã€æœåŠ¡å‘ç°ï¼ˆDiscoveryClientï¼Œä¸»å¯åŠ¨ç±»@EnableDiscoveryClientï¼‰ã€è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼ˆCAPä¸­çš„APé«˜å¯ç”¨é«˜å®¹é”™ï¼‰</p><p>Zookeeperï¼šå¯åŠ¨zookeeperæœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯ï¼ˆæœåŠ¡æä¾›è€…/æ¶ˆè´¹è€…ï¼špomä¾èµ–ã€ymlï¼šzookeeperæœåŠ¡å™¨ip+ç«¯å£å·ï¼‰ï¼Œé›†ç¾¤ï¼ˆæ­å»ºï¼Œåœ¨ymlé…ç½®æ–‡ä»¶ä¸­åŠ ä¸Šå¤šä¸ªzkåœ°å€ï¼‰</p><p>Consulï¼šå®‰è£…å¯åŠ¨ã€å®¢æˆ·ç«¯ï¼ˆæœåŠ¡æä¾›è€…/æ¶ˆè´¹è€…ï¼špomä¾èµ–ã€ymlï¼šconsulæœåŠ¡å™¨ip+ç«¯å£å·ã€æœåŠ¡åï¼‰</p><p>ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒçš„å¼‚åŒï¼šEurekaï¼šAPé«˜å¯ç”¨ï¼ˆè‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼‰ï¼ŒConsul/Zookeeperï¼šCPé«˜ä¸€è‡´æ€§ï¼ˆä¸´æ—¶èŠ‚ç‚¹ï¼‰</p><p>Ribbonè´Ÿè½½å‡è¡¡æœåŠ¡è°ƒç”¨ï¼šRibbonå’ŒNginxçš„åŒºåˆ«ï¼ˆå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å™¨ç«¯è´Ÿè½½å‡è¡¡ï¼‰ã€å·¥ä½œæœºåˆ¶ï¼ˆè´Ÿè½½å‡è¡¡+restTemplateï¼‰ã€ä½¿ç”¨ï¼ˆpomã€restTemplateï¼‰ã€è´Ÿè½½å‡è¡¡ç®—æ³•ï¼ˆ7ä¸ªï¼Œè½®è¯¢ã€éšæœºã€è¿‡æ»¤æ‰æ•…éšœçš„â€¦â€¦ï¼‰ã€æ›¿æ¢ç®—æ³•çš„æ–¹æ³•ï¼ˆåˆ›å»ºé…ç½®ç±»ï¼Œä¸»å¯åŠ¨@RibbonClient(name=â€è®¿é—®æœåŠ¡åâ€,configuration=â€é…ç½®ç±».classâ€)ï¼‰ã€è½®è¯¢ç®—æ³•åŸç†ï¼ˆrestæ¥å£ç¬¬å‡ æ¬¡è¯·æ±‚%é›†ç¾¤æ€»æ•°é‡=è°ƒç”¨æœåŠ¡çš„ä¸‹æ ‡ï¼‰</p><p>OpenFeiginæœåŠ¡æ¥å£è°ƒç”¨ï¼šå®šä¹‰ï¼ˆå®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œæ·»åŠ æ³¨è§£@FeignClient(â€œæœåŠ¡åâ€)ï¼Œå†™ä¸Šè°ƒç”¨æ–¹æ³•ï¼Œä½¿ç”¨æ—¶è°ƒç”¨è¿™ä¸ªæ¥å£çš„æ–¹æ³•ï¼Œå®Œæˆå¾®æœåŠ¡è°ƒç”¨ï¼‰ï¼Œä½¿ç”¨ï¼ˆpomã€ymlã€ä¸»å¯åŠ¨@EnableFeignClientsï¼Œæ–¹æ³•æ¥å£@FeignClient,è°ƒç”¨æ—¶æ³¨å…¥æ¥å£ä½¿ç”¨ï¼‰ã€è¶…æ—¶æœºåˆ¶ï¼ˆymlè®¾ç½®è¿œç¨‹è°ƒç”¨æ—¶é—´ï¼‰ã€OpenFeignæ—¥å¿—ï¼ˆNONEã€BASICã€HEADERSã€FULLå…¨ï¼Œä½¿ç”¨ï¼šå®šä¹‰æ—¥å¿—é…ç½®ç±»ï¼ˆæŒ‡å®šhttpæ—¥å¿—çº§åˆ«ï¼‰ã€ymlæŒ‡å®šå‘½ä»¤è¡Œæ—¥å¿—è¾“å‡ºçº§åˆ«ã€å“ªä¸ªæ¥å£å—æ—¥å¿—ç›‘æ§ï¼‰</p><p>HystrixæœåŠ¡ç†”æ–­ï¼šæ¦‚å¿µï¼ˆå¤„ç†åˆ†å¸ƒå¼çš„å»¶è¿Ÿå’Œå®¹é”™ï¼‰ï¼ŒæœåŠ¡é™çº§ï¼ˆä¸ç­‰å¾…ï¼Œè¿”å›å¤‡é€‰æ–¹æ¡ˆï¼‰ï¼ŒæœåŠ¡ç†”æ–­ï¼ˆå‡ºç°æ•…éšœï¼Œå…ˆå…³é—­æœåŠ¡ï¼Œå†é™çº§ï¼Œå†æ¢å¤ï¼‰ï¼Œé…ç½®é™çº§ï¼ˆå…œåº•æ–¹æ³•ï¼Œ@HystrixCommandï¼Œ@EnableCircuitBreaker/@EnableHystrixï¼‰ï¼Œ@DefaultPropertieså…¨å±€é™çº§ï¼ŒæœåŠ¡ç†”æ–­ï¼ˆ@HystrixCommand(commandProperties={@HystriProperty(name=,value=)})ï¼‰ï¼šåˆ°è¾¾é˜ˆå€¼ï¼Œé”™è¯¯ç‡ï¼Œæ–­è·¯å™¨å¼€å¯ï¼Œä¼‘çœ æ—¶é—´çª—-é™çº§ï¼ŒåŠå¼€ï¼Œå…³é—­ã€‚æœåŠ¡ç›‘æ§@EnableHystrixDashboard</p><p>9.21 å­¦ä¹ SringCloud</p><p>GateWayæœåŠ¡ç½‘å…³ï¼šæ¦‚å¿µï¼ˆåŠ¨æ€è·¯ç”±è½¬å‘+æ‰§è¡Œè¿‡æ»¤å™¨é“¾ï¼‰ï¼Œä½¿ç”¨ï¼ˆpomã€ymlï¼‰ã€æ–­è¨€ï¼ˆç½‘å…³çš„è§„åˆ™ï¼‰ã€è¿‡æ»¤å™¨ï¼ˆå•ä¸€ã€å…¨å±€(è‡ªå®šä¹‰å®ç°æ¥å£)ï¼‰</p><p>ConfigæœåŠ¡é…ç½®ï¼šæ¦‚å¿µï¼ˆä¸ºä¸åŒå¾®æœåŠ¡åº”ç”¨æä¾›ä¸­å¿ƒåŒ–å¤–éƒ¨é…ç½®ï¼‰ï¼ŒæœåŠ¡ç«¯ã€å®¢æˆ·ç«¯ï¼Œä½¿ç”¨ï¼ˆæœåŠ¡ç«¯ï¼šgitã€pomã€ymlã€@EnableConfigServerã€æœ¬åœ°hostsï¼‰ï¼Œè®¿é—®é…ç½®æ–‡ä»¶è§„åˆ™ï¼Œä½¿ç”¨ï¼ˆå®¢æˆ·ç«¯ï¼špomã€yml(bootstrap)ã€controller(æ ¹æ®resté£æ ¼å°†é…ç½®æš´éœ²)ï¼‰ï¼ŒåŠ¨æ€åˆ·æ–°(Pomç›‘æ§ã€ymlæš´éœ²ç›‘æ§ã€@RefreshScopeã€å¤–éƒ¨postè¯·æ±‚å®¢æˆ·ç«¯)</p><p>SpringCloud Bus æ¶ˆæ¯æ€»çº¿ï¼šæ¦‚å¿µï¼ˆè§£å†³configä¸€æ¬¡æ€§å¤šåˆ·æ–°ï¼‰ï¼Œè®¾è®¡æ€æƒ³ï¼ˆå‘ç»™å®¢æˆ·ç«¯/æœåŠ¡ç«¯ï¼‰ï¼ŒåŸç†ï¼ˆå®¢æˆ·ç«¯ç›‘å¬åŒä¸€ä¸»é¢˜ï¼Œå½“åˆ·æ–°æ•°æ®ï¼Œæ¶ˆæ¯ä¼šæ”¾åœ¨ä¸»é¢˜ä¸Šï¼Œå®¢æˆ·ç«¯ä¼šæ›´æ–°é…ç½®ï¼‰ï¼Œä½¿ç”¨ï¼ˆé…ç½®RabbitMQç¯å¢ƒã€æ”¹æœåŠ¡ç«¯ï¼šyml(mqé…ç½®ã€æš´éœ²ç›‘æ§)ã€pomç›‘æ§å’Œmqï¼Œæ”¹å®¢æˆ·ç«¯ï¼špomç›‘æ§å’Œmqã€yml(mqé…ç½®)ï¼‰ï¼Œé…ç½®å®šç‚¹é€šçŸ¥ï¼ˆå‘é€æ¶ˆæ¯åé¢åŠ å¾®æœåŠ¡åï¼šç«¯å£å·ï¼‰</p><p>9.22 å­¦ä¹ SringCloud</p><p>SpringCloud Streamæ¶ˆæ¯é©±åŠ¨ï¼šæ¦‚å¿µï¼ˆå±è”½æ¶ˆæ¯ä¸­é—´ä»¶çš„å·®å¼‚ï¼Œç»Ÿä¸€æ¶ˆæ¯ç¼–ç¨‹æ¨¡å‹ï¼‰ï¼Œä¸šåŠ¡æµç¨‹ï¼ˆç”Ÿäº§-source-channel-binder-mq-binder-channel-sink-æ¶ˆè´¹ï¼‰ï¼Œä½¿ç”¨ï¼ˆç”Ÿäº§è€…ï¼špom,yml,service@EnableBinding(source.class)å‘é€æ¶ˆæ¯æ–¹æ³•ï¼Œcontrollerï¼Œæ¶ˆè´¹è€…ï¼špom,yml,controller@EnableBinding(Sink.class),@StreamListener(Sink.INPUT)æ¥æ”¶æ¶ˆæ¯æ–¹æ³•ï¼‰ï¼Œè‡ªå®šä¹‰åˆ†ç»„ï¼ˆè§£å†³é‡å¤æ¶ˆè´¹ï¼ŒæŒä¹…åŒ–ï¼‰</p><p>Spring Cloud Sleuthé“¾è·¯è¿½è¸ªï¼šæ¦‚å¿µï¼ˆè¿½è¸ªæ¯ä¸ªè¯·æ±‚çš„æ•´ä½“é“¾è·¯ï¼‰ï¼ŒåŸç†ï¼ˆTraceID,SpanID,ParentIDï¼‰ï¼Œä½¿ç”¨ï¼ˆå®‰è£…zipkinï¼Œpom,ymlï¼‰</p><p>Nacosæ³¨å†Œä¸­å¿ƒ+é…ç½®ä¸­å¿ƒï¼šæœåŠ¡å™¨ç«¯ï¼ˆå®‰è£…ï¼Œè¿è¡Œï¼‰ï¼Œæ³¨å†Œä¸­å¿ƒï¼ˆæœåŠ¡æä¾›è€…Pom,yml,@EnableDiscoveryClient,controllerï¼Œ@LoadBalancedè´Ÿè½½å‡è¡¡ï¼‰ï¼Œä¸å…¶ä»–æœåŠ¡æ³¨å†Œå¯¹æ¯”ï¼ˆap,cpå¯åˆ‡æ¢ï¼‰ï¼Œé…ç½®ä¸­å¿ƒï¼ˆå®¢æˆ·ç«¯pom,yml(bootstrap,application),@EnableDiscoveryClient,@RefreshScopeæ”¯æŒåŠ¨æ€åˆ·æ–°ï¼‰ï¼Œé…ç½®ä¸­å¿ƒå¢åŠ é…ç½®ä¿¡æ¯ï¼ˆé…ç½®å‘½åè§„åˆ™ï¼‰ï¼Œåˆ†ç±»é…ç½®ï¼ˆNameSpace,Group,DataIDï¼‰</p><p>å¤šçº¿ç¨‹é¢è¯•é¢˜</p><p>9.24 å­¦ä¹ SpringCloud</p><p>Seataåˆ†å¸ƒå¼äº‹åŠ¡ï¼šæ¦‚å¿µï¼ˆä¸€ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡çš„è§£å†³æ–¹æ¡ˆï¼‰ï¼ŒXID,TC,TM,RMï¼Œseataå®‰è£…ï¼Œæ­å»ºä¸šåŠ¡ç¯å¢ƒï¼ŒseataåŸç†ï¼ˆATæ¨¡å¼ï¼Œä¸€é˜¶æ®µã€äºŒé˜¶æ®µï¼‰</p><p>mysqlé¢è¯•é¢˜ï¼šç´¢å¼•ï¼Œb+æ ‘ï¼ŒInnodbå’ŒMyISAMï¼Œèšé›†/éèšé›†/è”åˆç´¢å¼•ï¼Œéš”ç¦»çº§åˆ«ï¼Œå¹¶å‘å‡ºç°çš„3å¤§é—®é¢˜ï¼Œ3å¤§èŒƒå¼ï¼ŒACIDç‰¹æ€§</p><p>9.24-10.11 å¤ä¹ javaSEåŸºç¡€</p><p>äºŒåˆ·JavaSEï¼Œä¸»è¦é’ˆå¯¹å¤šçº¿ç¨‹ã€é›†åˆã€æ•°ç»„ã€IOæµåŠ å¼ºå¤ä¹ </p><p>æŸ¥æ‰¾ç®—æ³•ï¼ˆäºŒåˆ†æ³•ï¼‰ï¼Œæ’åºç®—æ³•ï¼ˆå†’æ³¡ã€å¿«æ’ï¼‰</p><p>10.12-10.14</p><p>å¤ä¹ zookeeperã€kafkaã€è”è¡¨æŸ¥è¯¢</p><p>10.15-10.16</p><p>å¤ä¹ SSMï¼Œç»ƒä¹ SSM</p><p>Spring(IOCã€AOP)åŸç†ï¼ŒSpringMVCï¼ŒMybatisçš„è¿è¡Œæœºåˆ¶</p><p>IOC:å·¥å‚æ¨¡å¼+åå°„ï¼ŒAOPï¼šåŠ¨æ€ä»£ç†æ¨¡å¼</p><p>10.17</p><p>å­¦ä¹ IOCåº•å±‚å·¥å‚æ¨¡å¼+åå°„çš„å®ç°åŸç†</p><p>Springbootçš„å®ç°åŸç†</p><p>å¤ä¹ redis</p><p>10.18-10.19</p><p>VueåŸºç¡€ï¼šELæŒ‚è½½ç‚¹ï¼Œdataæ•°æ®å¯¹è±¡ï¼ŒæŒ‡ä»¤ï¼Œaxiosç½‘ç»œåº“ï¼Œaxios+Vue</p><p>10.20-10.22</p><p>ä¼˜åŒ–materyä¸ªäººåšå®¢</p><p>10.23-10.27</p><p>æ­å»ºspringbootä¸ªäººåšå®¢</p><p>10.28-10.31</p><p>é¢è¯•é¢˜æ•´ç†ï¼Œäººäº‹æ•´ç†</p><p>11.1 </p><p>java8æ–°ç‰¹æ€§ï¼š</p><p>â€‹    Lambdaè¡¨è¾¾å¼ï¼šï¼ˆå…­ç§æƒ…å†µï¼šæ— å‚æ— è¿”å›ã€æœ‰å‚æ— è¿”å›ã€ç±»å‹æ¨æ–­ã€1å‚ã€å¤šå‚å¤šè¯­å¥æœ‰è¿”å›å€¼ã€1è¯­å¥ï¼‰</p><p>â€‹    å‡½æ•°å¼æ¥å£ï¼ˆåªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼‰ï¼šæ¶ˆè´¹æ€§æ¥å£ã€ä¾›ç»™å‹æ¥å£ã€å‡½æ•°å‹æ¥å£ã€ç«¯å®šå‹æ¥å£</p><p>â€‹    æ–¹æ³•å¼•ç”¨ã€æ„é€ å™¨å¼•ç”¨ï¼šç‰¹æ®Šæƒ…å†µä¸‹ï¼ˆæœ‰å‚æ•°å’Œè¿”å›å€¼ç›¸åŒçš„å®ç°æ–¹æ³•ï¼‰æ›¿æ¢lambdaè¡¨è¾¾å¼</p><p>â€‹    Stream APIï¼ˆjavaå±‚é¢å¯¹æ•°æ®è¿›è¡Œæ“ä½œï¼‰ï¼šStreamå®ä¾‹åŒ–ã€ä¸­é—´æ“ä½œï¼ˆç­›é€‰åˆ‡ç‰‡ã€æ˜ å°„ã€æ’åºï¼‰ã€ç»ˆæ­¢æ“ä½œï¼ˆåŒ¹é…æŸ¥æ‰¾ã€å½’çº¦ã€æ”¶é›†ï¼‰</p><p>11.2</p><p>java8æ–°ç‰¹æ€§ï¼š</p><p>â€‹    Optionalç±»</p><p>â€‹    å¯é‡å¤æ³¨è§£ã€æ¥å£é»˜è®¤/é™æ€æ–¹æ³•ã€æ–°ç±»å‹æ³¨è§£</p><p>å†™æ¯•ä¸šè®¾è®¡-ä»»åŠ¡ä¹¦</p><p>å¤ä¹ åå°„ã€10.29é¢è¯•é¢˜ã€redisæ•°æ®åº“</p><p>11.3</p><p><a href="https://www.bilibili.com/video/BV12b411K7Zu?p=69">mysqlåŸºç¡€</a>ï¼š1-69</p><p>æ¦‚å¿µï¼ˆDBã€DBMSã€SQLï¼‰ï¼Œmysqlè½¯ä»¶æ“ä½œã€</p><p>mysqlå¸¸ç”¨å‘½ä»¤ï¼ˆshow databasesã€use åº“åã€show tablesã€show tables from åº“åã€create table è¡¨å(åˆ—å åˆ—ç±»å‹)ã€desc è¡¨åã€select version(),mysql â€“V,mysql â€“versionï¼‰ã€</p><p>DQLæ•°æ®åº“æŸ¥è¯¢è¯­è¨€ï¼ˆåŸºæœ¬æŸ¥è¯¢selectã€æ¡ä»¶æŸ¥è¯¢whereã€æ’åºæŸ¥è¯¢order byã€å¸¸è§å‡½æ•°(å•è¡Œå‡½æ•°ã€èšåˆå‡½æ•°)ã€åˆ†ç»„æŸ¥è¯¢group byï¼‰</p><p>11.4-11.5</p><p>70-132</p><p>DQLæ•°æ®åº“æŸ¥è¯¢è¯­è¨€</p><p>â€‹    å¤šè¡¨è¿æ¥æŸ¥è¯¢ï¼ˆå†…è¿æ¥ï¼šç­‰å€¼è¿æ¥ã€éç­‰å€¼è¿æ¥ã€è‡ªè¿æ¥ã€å†…è¿æ¥ï¼Œå¤–è¿æ¥ï¼šå·¦å¤–ã€å³å¤–è¿æ¥ã€å…¨å¤–è¿æ¥ï¼Œäº¤å‰è¿æ¥ï¼‰</p><p>â€‹    å­æŸ¥è¯¢ï¼ˆåµŒå¥—æŸ¥è¯¢ï¼‰ï¼šå‡ºç°ä½ç½®ï¼ˆselectã€fromã€where/havingã€existsï¼‰ï¼Œç»“æœé›†ï¼ˆæ ‡é‡å­æŸ¥è¯¢ã€åˆ—å­æŸ¥è¯¢ã€è¡Œå­æŸ¥è¯¢ã€è¡¨å­æŸ¥è¯¢ï¼‰</p><p>â€‹    åˆ†é¡µæŸ¥è¯¢ limit m n</p><p>â€‹    è”åˆæŸ¥è¯¢ union </p><p>DMLæ•°æ®æ“ä½œè¯­è¨€</p><p>â€‹    æ’å…¥ï¼šinsert into è¡¨åï¼ˆå­—æ®µåï¼Œï¼‰ valuesï¼ˆå€¼1ï¼‰</p><p>â€‹    ä¿®æ”¹ï¼šupdate è¡¨å set å­—æ®µå=æ–°å€¼ where æ¡ä»¶</p><p>â€‹    åˆ é™¤ï¼šdelete from  è¡¨å where æ¡ä»¶ï¼›truncateæ¸…ç©º</p><p>DDLæ•°æ®åº“æ“ä½œè¯­è¨€</p><p>â€‹    åº“çš„ç®¡ç†ï¼š</p><p>â€‹        åˆ›å»ºåº“ï¼šcreate database if not exists åº“å</p><p>â€‹        ä¿®æ”¹åº“ï¼šalter database åº“å character set å­—ç¬¦é›†</p><p>â€‹        åˆ é™¤åº“ï¼šdrop database if not exists åº“å</p><p>â€‹    è¡¨çš„ç®¡ç†ï¼š</p><p>â€‹        åˆ›å»ºè¡¨ï¼šcreate table è¡¨åï¼ˆå­—æ®µå åˆ—çš„ç±»å‹ï¼ˆé•¿åº¦ çº¦æŸï¼‰ï¼Œï¼‰</p><p>â€‹        ä¿®æ”¹è¡¨ï¼šalter table è¡¨å change/add/alter/drop/rename column åˆ—å ã€ç±»å‹ã€‘</p><p>â€‹        åˆ é™¤è¡¨ï¼šdrop table è¡¨å</p><p>â€‹    å¸¸è§ç±»å‹ï¼š</p><p>â€‹        æ•´å‹ï¼šTinyintã€Smallintã€Mediumintã€int/Integerã€Bigint</p><p>â€‹        å°æ•°ï¼šfloatã€doubleã€decã€decimal</p><p>â€‹        å­—ç¬¦å‹ï¼šcharã€varchar</p><p>â€‹        æ—¥æœŸå‹ï¼šdateã€datetimeã€timestampã€timeã€year</p><p>â€‹    å¸¸è§çº¦æŸï¼š</p><p>â€‹        NOTNULLã€UNIQUEã€DEFAULTã€CHECKã€PRIMARY KEYã€FOREIGN KEY</p><p>â€‹        <code>contraint å¤–é”®å foreign key(ä»è¡¨åˆ—å) references ä¸»è¡¨ï¼ˆä¸»è¡¨åˆ—åï¼‰</code></p><p>11.6-11.7</p><p>133-178</p><p>æ ‡è¯†åˆ—ï¼šè‡ªå¢é•¿åˆ—ï¼Œauto_increment</p><p>TCLäº‹åŠ¡æ§åˆ¶è¯­è¨€ï¼š</p><p>â€‹    ç‰¹ç‚¹ï¼ˆåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ï¼‰ã€æ˜¾å¼äº‹åŠ¡ï¼ˆset autocommit = 0,commit rollbackï¼‰ã€éš”ç¦»çº§åˆ«ï¼ˆè¯»æœªæäº¤ã€è¯»å·²æäº¤ã€å¯é‡å¤è¯»ã€ä¸²è¡ŒåŒ–ï¼‰ã€é—®é¢˜ï¼ˆè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ï¼‰</p><p>è§†å›¾ï¼š</p><p>â€‹    è§†å›¾ä¸è¡¨çš„åŒºåˆ«ï¼ˆä¸€ä¸ªæ˜¯é€»è¾‘ï¼Œä¸€ä¸ªæ˜¯æ•°æ®ï¼‰ã€è§†å›¾çš„åˆ›å»ºï¼ˆcreate view asï¼‰ï¼Œæ“ä½œï¼Œä¿®æ”¹è§†å›¾æ•°æ®</p><p>å˜é‡ï¼š</p><p>â€‹    ç³»ç»Ÿå˜é‡ï¼ˆå…¨å±€å˜é‡ã€ä¼šè¯å˜é‡ï¼‰ã€è‡ªå®šä¹‰å˜é‡ï¼ˆç”¨æˆ·å˜é‡ã€å±€éƒ¨å˜é‡ï¼‰</p><p>â€‹    ç”¨æˆ·å˜é‡ set @ç”¨æˆ·å˜é‡å=å€¼</p><p>â€‹    å±€éƒ¨å˜é‡ declare å˜é‡å ç±»å‹ default å€¼</p><p>å­˜å‚¨è¿‡ç¨‹ï¼ˆé¢„å…ˆç¼–è¯‘å¥½çš„sqlè¯­å¥ï¼‰ï¼š</p><p>â€‹    create proceduce å­˜å‚¨è¿‡ç¨‹åï¼ˆin/out/inout å‚æ•°å å‚æ•°ç±»å‹ï¼‰</p><p>â€‹    begin å­˜å‚¨è¿‡ç¨‹ä½“ end</p><p>â€‹    æ–°ç»“æŸæ ‡è®°ï¼š delimiter $</p><p>â€‹    è°ƒç”¨ï¼š call å­˜å‚¨è¿‡ç¨‹åï¼ˆå®å‚åˆ—è¡¨ï¼‰ ç»“æŸæ ‡è®°</p><p>å‡½æ•°ï¼š</p><p>â€‹    å‡½æ•°ä¸å­˜å‚¨è¿‡ç¨‹çš„åŒºåˆ«ï¼ˆå‡½æ•°æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œå­˜å‚¨è¿‡ç¨‹æœ‰0-å¤šä¸ªè¿”å›å€¼ï¼‰</p><p>â€‹    create function(å‚æ•°å å‚æ•°ç±»å‹) returns è¿”å›ç±»å‹</p><p>â€‹    begin å‡½æ•°ä½“ end</p><p>â€‹    è°ƒç”¨ï¼š select å‡½æ•°åï¼ˆå®å‚åˆ—è¡¨ï¼‰</p><p>æµç¨‹æ§åˆ¶ç»“æ„ï¼š</p><p>â€‹    ifå‡½æ•°ï¼ŒåŒåˆ†æ”¯ï¼Œå¯ä»¥ç”¨åœ¨ä»»ä½•åœ°æ–¹ if(æ¡ä»¶ï¼Œå€¼1ï¼Œå€¼2)</p><p>â€‹    caseè¯­å¥ï¼šå¤šåˆ†æ”¯</p><p>â€‹        case è¡¨è¾¾å¼ when å€¼1 then å€¼  else å€¼ end case</p><p>â€‹        case when æ¡ä»¶1 then ç»“æœ1/è¯­å¥1 else end case</p><p>â€‹    ifè¯­å¥ï¼šå¤šåˆ†æ”¯</p><p>â€‹        if æ¡ä»¶1 then è¯­å¥1; elseif æ¡ä»¶2 then è¯­å¥2ï¼› else è¯­å¥nï¼›end ifï¼›</p><p>å¾ªç¯ç»“æ„ï¼š</p><p>â€‹    whileï¼šå…ˆåˆ¤æ–­ï¼Œåæ‰§è¡Œ</p><p>â€‹        æ ‡ç­¾ï¼šwhile å¾ªç¯æ¡ä»¶ do</p><p>â€‹            å¾ªç¯ä½“ï¼›</p><p>â€‹        end while æ ‡ç­¾;</p><p>â€‹    loopï¼šæ­»å¾ªç¯</p><p>â€‹        æ ‡ç­¾ï¼šloop</p><p>â€‹            å¾ªç¯ä½“ï¼›</p><p>â€‹        end loop æ ‡ç­¾</p><p>â€‹    repeatï¼šå…ˆæ‰§è¡Œï¼Œååˆ¤æ–­</p><p>â€‹        æ ‡ç­¾ï¼šrepeat</p><p>â€‹            å¾ªç¯ä½“ï¼›</p><p>â€‹            until ç»“æŸå¾ªç¯æ¡ä»¶ï¼›</p><p>â€‹        end repeat æ ‡ç­¾ï¼›</p><p>11.8-11.15 mysqlé«˜çº§ï¼ˆP179â€”P242ï¼‰</p><p>mysqlæ¶æ„ï¼šlinuxå®‰è£…Mysqlï¼Œmysqlé…ç½®æ–‡ä»¶ï¼Œå­˜å‚¨å¼•æ“</p><p>ç´¢å¼•ä¼˜åŒ–åˆ†æï¼šjoinè¯­å¥ï¼Œ</p><ol><li>åˆ›å»ºç´¢å¼•ï¼šcreate index ç´¢å¼•å on è¡¨åï¼ˆç´¢å¼•åˆ—ï¼‰</li><li>åˆ é™¤ç´¢å¼•ï¼šdrop index ç´¢å¼•å on è¡¨å</li><li>æŸ¥çœ‹ç´¢å¼•ï¼šshow index from è¡¨å</li></ol><p>æ€§èƒ½åˆ†æï¼šexplainï¼ˆç”¨äºæŸ¥çœ‹è¡¨çš„è¯»å–é¡ºåºï¼Œæ˜¯å¦ä½¿ç”¨åˆ°ç´¢å¼•ï¼Œæ•°æ®è¯»å–æ“ä½œç±»å‹ï¼‰</p><ol><li>id</li><li>typeï¼ˆsystem&gt;const&gt;eq_ref&gt;ref&gt;range&gt;index&gt;allï¼‰</li><li>keyï¼šå®é™…ç”¨åˆ°çš„ç´¢å¼•</li><li>extraï¼ˆusing filesort,using temporary,using indexï¼‰</li></ol><p>ç´¢å¼•ä¼˜åŒ–ï¼š</p><ol><li>å•è¡¨ã€ä¸¤è¾¹è¡¨ã€å¤šè¡¨ï¼ˆjoinæ¡ä»¶åŠ ç´¢å¼•ï¼‰</li><li>ç´¢å¼•å¤±æ•ˆï¼š<ol><li>æœ€å·¦å‰ç¼€åŸåˆ™<ol><li>ç¬¬ä¸€ä¸ªç´¢å¼•ä¸¢å¤±ä¼šå¤±æ•ˆ</li><li>ä¸­é—´ç´¢å¼•éš”å¼€ä¼šå¤±æ•ˆ</li></ol></li><li>ç´¢å¼•æ¡ä»¶è¿›è¡Œæ“ä½œï¼ˆè®¡ç®—ã€å‡½æ•°ã€ç±»å‹è½¬æ¢ï¼šå­—ç¬¦ä¸²æ²¡æœ‰åŠ å•å¼•å·ï¼‰</li><li>èŒƒå›´æŸ¥è¯¢åçš„ç´¢å¼•ä¼šå¤±æ•ˆ</li><li>is not nullã€orã€!=ä¼šå¤±æ•ˆ</li><li>likeä»¥%å¼€å¤´ä¼šå¤±æ•ˆï¼ˆå¯ä½¿ç”¨è¦†ç›–ç´¢å¼•è§£å†³ï¼‰</li></ol></li><li>order byï¼Œgroup byä¼˜åŒ–ï¼š<ol><li>order byä¸whereç›¸è¿ï¼Œæœ€å·¦å‰ç¼€åŸåˆ™</li><li>æ²¡æœ‰whereå°±ä¸ä¼šä½¿ç”¨åˆ°ç´¢å¼•ï¼ˆå¯ä½¿ç”¨è¦†ç›–ç´¢å¼•æˆ–å¼ºåˆ¶ç´¢å¼•è§£å†³ï¼‰</li><li>order by ä¸­å‡ºç°å…¶ä»–éç´¢å¼•åˆ—ä¼šå¤±æ•ˆ</li><li>group byåˆ†ç»„å‰ä¼šå…ˆæ’åºï¼Œæ‰€ä»¥å’Œæ’åºä¸€æ ·</li></ol></li></ol><p>æŸ¥è¯¢æˆªå–åˆ†æï¼šæ…¢æŸ¥è¯¢æ—¥å¿—ã€show profileã€å…¨å±€æŸ¥è¯¢æ—¥å¿—ï¼ˆç”¨äºæ‰¾åˆ°å‡ºé—®é¢˜çš„sqlè¯­å¥ï¼‰</p><p>æ‰¹é‡æ’å…¥è„šæœ¬ï¼šå­˜å‚¨è¿‡ç¨‹</p><p>é”æœºåˆ¶ï¼š</p><ul><li><p>åŠ é”ï¼šlock table è¡¨å read/write;</p></li><li><p>é‡Šæ”¾é”ï¼šunlock tables;</p></li><li><p>æŸ¥çœ‹é”ï¼šshow open tables</p></li><li><p>æŸ¥çœ‹è¡¨é”çŠ¶æ€ï¼šshow status like â€˜table%â€™</p></li><li><p>åˆ†æè¡Œé”çŠ¶æ€ï¼šshow status like â€˜innodb_row_lock%â€™</p></li><li><p>é”å®šä¸€è¡Œï¼šbegin;sqlæŸ¥è¯¢è¯­å¥ for update;</p></li></ul><ol><li>è¯»é”ï¼š<ol><li>è¯»ä¼šé˜»å¡å†™</li></ol></li><li>å†™é”<ol><li>å†™ä¼šé˜»å¡è¯»å†™ï¼ŒæŒæœ‰é”çš„sessionå¯ä»¥è¿›è¡Œæ“ä½œ</li></ol></li><li>è¡Œé”ï¼šInnodbé»˜è®¤ï¼Œç´¢å¼•å¤±æ•ˆä¼šå¯¼è‡´è¡Œé”å˜ä¸ºè¡¨é”</li><li>è¡¨é”ï¼šmyisamé»˜è®¤</li></ol><p>ä¼˜åŒ–å»ºè®®ï¼š</p><ol><li>å°½é‡ä½¿ç”¨ç´¢å¼•æ¥å®Œæˆï¼Œé¿å…ç´¢å¼•å¤±æ•ˆ</li><li>ç¼©å°é”çš„èŒƒå›´ï¼Œé¿å…é—´éš™é”</li><li>æ§åˆ¶äº‹åŠ¡å¤§å°ï¼Œå‡å°‘ç¼©å½±èµ„æºé‡å’Œæ—¶é—´é•¿åº¦</li><li>å°½å¯èƒ½ä½¿ç”¨ä½çº§åˆ«çš„äº‹åŠ¡éš”ç¦»çº§åˆ«</li></ol><p>äº‹åŠ¡ï¼š</p><p>ACIDï¼šåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§</p><p>å¹¶å‘é—®é¢˜ï¼šæ›´æ–°è¦†ç›–ã€è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»</p><p>éš”ç¦»çº§åˆ«ï¼šè¯»æœªæäº¤ã€è¯»å·²æäº¤ã€å¯é‡å¤è¯»ã€ä¸²è¡ŒåŒ–</p><p>11.16-11.29</p><p>æ¯•ä¸šè®¾è®¡ä»»åŠ¡ä¹¦å®Œæˆï¼Œæ–‡çŒ®ç»¼è¿°å®Œæˆingâ€¦</p><p>ä¸ªäººåšå®¢ç½‘ç«™æ­å»ºï¼š</p><p>åç«¯ï¼ˆç™»å½•ã€åˆ†ç±»ã€æ ‡ç­¾ã€åšå®¢ç®¡ç†ï¼šåˆ†é¡µæŸ¥è¯¢ã€æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ï¼‰</p><p>å‰ç«¯ï¼ˆé¦–é¡µå±•ç¤ºã€å…¨å±€æœç´¢ã€åšå®¢è¯¦æƒ…é¡µã€è¯„è®ºã€åˆ†ç±»ã€æ ‡ç­¾ã€å½’æ¡£ã€å…³äºæˆ‘ï¼‰</p><p>11.30-12.16</p><p>æ¯•ä¸šè®¾è®¡ä¸‰ä»¶å¥—å®Œæˆï¼šå¼€é¢˜æŠ¥å‘Šã€ä»»åŠ¡ä¹¦ã€æ–‡çŒ®ç»¼è¿°</p><p>ä¸ªäººåšå®¢ç½‘ç«™æ­å»ºå‰ç«¯å®Œæˆï¼Œåç«¯æ­£åœ¨æ­å»ºing</p><p>æ”¾å‡â€¦â€¦</p><p>1.1-3.1</p><p>æ¯•ä¸šè®¾è®¡ä¸ªäººåšå®¢ç½‘ç«™å‰åç«¯å®Œæˆæ­å»º</p><p>æ’°å†™æ¯•ä¸šè®¾è®¡è®ºæ–‡ing</p><p>3.1-3.18</p><p>æ¯•ä¸šè®¾è®¡è®ºæ–‡11797å­—å®Œç»“æ’’èŠ±</p><p>3.19-3.20</p><p>å¤ä¹ mysqlæ•°æ®åº“</p><p>3.21</p><p>å¤ä¹ linuxåŸºç¡€ã€é«˜çº§</p><p>3.22</p><p>å¤ä¹ nginxã€Gitã€Docker</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hexoä¸­ä½¿ç”¨MarkDownä¹¦å†™åšå®¢</title>
      <link href="/2020/06/14/hexo/hexo-zhong-shi-yong-markdown-shu-xie-bo-ke/"/>
      <url>/2020/06/14/hexo/hexo-zhong-shi-yong-markdown-shu-xie-bo-ke/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è¿™æ˜¯å°è‹å†™çš„ç¬¬ä¸€ä¸ªåšå®¢ï¼Œå†™çš„ä¸å¥½è§è°…å“ˆï¼Œæœ‰é—®é¢˜å¯ä»¥ç•™è¨€å‘¦ï¼Œå°è‹ä¼šç¬¬ä¸€æ—¶é—´è¿›è¡Œä¿®æ”¹<span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æ¯•ç«Ÿæ˜¯ç¬¬ä¸€ç¯‡åšå®¢ï¼Œéœ€è¦å…ˆä»‹ç»ä¸€ä¸‹è¯¥å¦‚ä½•åœ¨Hexoä¸ªäººé™æ€åšå®¢ä¸­ä½¿ç”¨MarkDownæ¥ç¼–å†™ï¼Œæœ‰å“ªäº›æ³¨æ„äº‹é¡¹ï¼Œæ–¹ä¾¿åœ¨ä¹‹åå†™åšå®¢çš„æ—¶å€™æœ‰ä¸ªå‚è€ƒï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿç»™æ–°åšä¸»ä¸€äº›å¸®åŠ©ï¼</p><p>æœ¬ç¯‡ä½¿ç”¨çš„Typoraç¼–å†™çš„MarkDownï¼ŒHexoçš„ä¸»é¢˜æ˜¯Materyï¼Œå…¶å®ä¸åŒçš„ä¸»é¢˜éƒ½æ˜¯åŸºäºHexoï¼Œç›¸å·®ä¸æ˜¯å¾ˆå¤§ã€‚</p><p><a href="https://fenghen0918.github.io/2020/06/18/typora-jian-yao-yu-fa/">MarkDownçš„ç®€è¦è¯­æ³•</a></p><hr><h2 id="1-äº†è§£æ–‡ç« å­˜æ”¾çš„ä½ç½®"><a href="#1-äº†è§£æ–‡ç« å­˜æ”¾çš„ä½ç½®" class="headerlink" title="1.äº†è§£æ–‡ç« å­˜æ”¾çš„ä½ç½®"></a>1.äº†è§£æ–‡ç« å­˜æ”¾çš„ä½ç½®</h2><blockquote><p>è¯´æ˜ï¼šä¹‹åæ–‡ç« ä¸­æåˆ°çš„ä¸»ç›®å½•éƒ½æ˜¯ä½ æ­å»ºä¸ªäººåšå®¢çš„ç›®å½•ï¼Œå¦‚æˆ‘çš„ä¸ºblogç›®å½•</p></blockquote><p>ç³»ç»Ÿç”Ÿæˆçš„æ–‡ç« å’Œä½ çš„æ–‡ç« éƒ½ä¼šå­˜æ”¾åœ¨ä¸»ç›®å½•<strong>source</strong>æ–‡ä»¶å¤¹ä¸‹çš„**_posts**ä¸­ï¼Œæ­¤å¤„æ˜¯æˆ‘çš„å­˜æ”¾ç›®å½•ï¼š<code> E:\blog\source\_posts</code></p><p>è¯´æ˜ï¼š</p><ol><li>å°†æ¥æ–‡ç« ä¼šæœ‰å¾ˆå¤šï¼Œå¯ä»¥åœ¨_postç›®å½•ä¸‹åˆ›å»ºå¤šçº§æ–‡ä»¶å¤¹ï¼Œç³»ç»Ÿæ˜¯è‡ªåŠ¨è¯†åˆ«ï¼Œä¾¿äºåˆ†ç±»</li></ol><hr><h2 id="2-åˆ›å»ºæ–‡ç« "><a href="#2-åˆ›å»ºæ–‡ç« " class="headerlink" title="2. åˆ›å»ºæ–‡ç« "></a>2. åˆ›å»ºæ–‡ç« </h2><h3 id="2-1æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘½ä»¤åˆ›å»º"><a href="#2-1æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘½ä»¤åˆ›å»º" class="headerlink" title="2.1æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘½ä»¤åˆ›å»º"></a>2.1æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘½ä»¤åˆ›å»º</h3><p>åœ¨ä¸»ç›®å½•ä¸‹å³é”®ï¼Œé€‰æ‹©Git Bash Hereè¿›å…¥å‘½ä»¤è¡Œï¼Œè¾“å…¥</p><pre><code>hexo n ä½ çš„æ–‡ç« å</code></pre><p>ä¹‹åï¼Œ_postç›®å½•ä¸‹å°±ä¼šå‡ºç°ä½ çš„æ–‡ä»¶å.mdæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­ä¹¦å†™ä¿å­˜å³å¯</p><p><strong>å¥½å¤„</strong>ï¼šHexoä¼šå¸®åŠ©ä½ ä¸€äº›é…ç½®ï¼Œåä¸ºFront-matterï¼Œåœ¨åé¢ä¼šæåˆ°</p><h3 id="2-2æ–¹æ³•äºŒï¼šå°†mdæ–‡ä»¶å¤åˆ¶ç²˜è´´"><a href="#2-2æ–¹æ³•äºŒï¼šå°†mdæ–‡ä»¶å¤åˆ¶ç²˜è´´" class="headerlink" title="2.2æ–¹æ³•äºŒï¼šå°†mdæ–‡ä»¶å¤åˆ¶ç²˜è´´"></a>2.2æ–¹æ³•äºŒï¼šå°†mdæ–‡ä»¶å¤åˆ¶ç²˜è´´</h3><p>ç›´æ¥å°†å†™åˆ°çš„mdæ–‡ä»¶å¤åˆ¶ç²˜è´´åˆ°_postæ–‡ä»¶å¤¹ä¸­å³å¯</p><hr><h2 id="3-æ–‡ç« çš„é…ç½®Front-matter"><a href="#3-æ–‡ç« çš„é…ç½®Front-matter" class="headerlink" title="3.æ–‡ç« çš„é…ç½®Front-matter"></a>3.æ–‡ç« çš„é…ç½®Front-matter</h2><p>å½“æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤åˆ›å»ºmdæ–‡ç« ï¼ŒHexoä¼šå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸€äº›é…ç½®ä¿¡æ¯(Front-matter)ï¼š</p><pre><code>---title: typora-vue-themeä¸»é¢˜ä»‹ç»date: 2018-09-07 09:25:00---</code></pre><p>å¤åˆ¶ç²˜è´´æ’å…¥é…ç½®ä¿¡æ¯çš„æ–¹æ³•ï¼šå³é”®æ–‡ç« çš„ç©ºç™½å¤„ï¼Œæ’å…¥ï¼ŒYAML Front-matter</p><h3 id="3-1Front-matteré…ç½®è¯¦æƒ…ä¿¡æ¯"><a href="#3-1Front-matteré…ç½®è¯¦æƒ…ä¿¡æ¯" class="headerlink" title="3.1Front-matteré…ç½®è¯¦æƒ…ä¿¡æ¯"></a>3.1Front-matteré…ç½®è¯¦æƒ…ä¿¡æ¯</h3><p>è¿™äº›ä¸»è¦æ˜¯å…³äºè¿™ç¯‡æ–‡ç« çš„é…ç½®ï¼Œè¿™äº›æ‰€æœ‰çš„é…ç½®éƒ½æ˜¯<strong>éå¿…å¡«é¡¹</strong>ï¼Œä¸è¿‡æœ€å¥½å°†titleå’Œdateå€¼å¡«å†™ä¸Šï¼Œä»¥ä¸‹æ˜¯å…³äºé…ç½®çš„è¯¦æƒ…ä»‹ç»ï¼š</p><table><thead><tr><th align="center">é…ç½®é€‰é¡¹</th><th align="center">é»˜è®¤å€¼</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">title</td><td align="center"><code>Markdown</code> çš„æ–‡ä»¶æ ‡é¢˜</td><td align="center">æ–‡ç« æ ‡é¢˜ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹</td></tr><tr><td align="center">date</td><td align="center">æ–‡ä»¶åˆ›å»ºæ—¶çš„æ—¥æœŸæ—¶é—´</td><td align="center">å‘å¸ƒæ—¶é—´ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹ï¼Œä¸”æœ€å¥½ä¿è¯å…¨å±€å”¯ä¸€</td></tr><tr><td align="center">author</td><td align="center">æ ¹ <code>_config.yml</code> ä¸­çš„ <code>author</code></td><td align="center">æ–‡ç« ä½œè€…</td></tr><tr><td align="center">img</td><td align="center"><code>featureImages</code> ä¸­çš„æŸä¸ªå€¼</td><td align="center">æ–‡ç« ç‰¹å¾å›¾ï¼Œæ¨èä½¿ç”¨å›¾åºŠ(è…¾è®¯äº‘ã€ä¸ƒç‰›äº‘ã€åˆæ‹äº‘ç­‰)æ¥åšå›¾ç‰‡çš„è·¯å¾„.å¦‚: <code>http://xxx.com/xxx.jpg</code></td></tr><tr><td align="center">top</td><td align="center"><code>true</code></td><td align="center">æ¨èæ–‡ç« ï¼ˆæ–‡ç« æ˜¯å¦ç½®é¡¶ï¼‰ï¼Œå¦‚æœ <code>top</code> å€¼ä¸º <code>true</code>ï¼Œåˆ™ä¼šä½œä¸ºé¦–é¡µæ¨èæ–‡ç« </td></tr><tr><td align="center">cover</td><td align="center"><code>false</code></td><td align="center"><code>v1.0.2</code>ç‰ˆæœ¬æ–°å¢ï¼Œè¡¨ç¤ºè¯¥æ–‡ç« æ˜¯å¦éœ€è¦åŠ å…¥åˆ°é¦–é¡µè½®æ’­å°é¢ä¸­</td></tr><tr><td align="center">coverImg</td><td align="center">æ— </td><td align="center"><code>v1.0.2</code>ç‰ˆæœ¬æ–°å¢ï¼Œè¡¨ç¤ºè¯¥æ–‡ç« åœ¨é¦–é¡µè½®æ’­å°é¢éœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡è·¯å¾„ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™é»˜è®¤ä½¿ç”¨æ–‡ç« çš„ç‰¹è‰²å›¾ç‰‡</td></tr><tr><td align="center">password</td><td align="center">æ— </td><td align="center">æ–‡ç« é˜…è¯»å¯†ç ï¼Œå¦‚æœè¦å¯¹æ–‡ç« è®¾ç½®é˜…è¯»éªŒè¯å¯†ç çš„è¯ï¼Œå°±å¯ä»¥è®¾ç½® <code>password</code> çš„å€¼ï¼Œè¯¥å€¼å¿…é¡»æ˜¯ç”¨ <code>SHA256</code> åŠ å¯†åçš„å¯†ç ï¼Œé˜²æ­¢è¢«ä»–äººè¯†ç ´ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ <code>config.yml</code> ä¸­æ¿€æ´»äº† <code>verifyPassword</code> é€‰é¡¹</td></tr><tr><td align="center">toc</td><td align="center"><code>true</code></td><td align="center">æ˜¯å¦å¼€å¯ TOCï¼Œå¯ä»¥é’ˆå¯¹æŸç¯‡æ–‡ç« å•ç‹¬å…³é—­ TOC çš„åŠŸèƒ½ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ <code>config.yml</code> ä¸­æ¿€æ´»äº† <code>toc</code> é€‰é¡¹</td></tr><tr><td align="center">mathjax</td><td align="center"><code>false</code></td><td align="center">æ˜¯å¦å¼€å¯æ•°å­¦å…¬å¼æ”¯æŒ ï¼Œæœ¬æ–‡ç« æ˜¯å¦å¼€å¯ <code>mathjax</code>ï¼Œä¸”éœ€è¦åœ¨ä¸»é¢˜çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ä¹Ÿéœ€è¦å¼€å¯æ‰è¡Œ</td></tr><tr><td align="center">summary</td><td align="center">æ— </td><td align="center">æ–‡ç« æ‘˜è¦ï¼Œè‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦</td></tr><tr><td align="center">categories</td><td align="center">æ— </td><td align="center">æ–‡ç« åˆ†ç±»ï¼Œæœ¬ä¸»é¢˜çš„åˆ†ç±»è¡¨ç¤ºå®è§‚ä¸Šå¤§çš„åˆ†ç±»ï¼Œåªå»ºè®®ä¸€ç¯‡æ–‡ç« ä¸€ä¸ªåˆ†ç±»</td></tr><tr><td align="center">tags</td><td align="center">æ— </td><td align="center">æ–‡ç« æ ‡ç­¾ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥å¤šä¸ªæ ‡ç­¾</td></tr><tr><td align="center">keywords</td><td align="center">æ–‡ç« æ ‡é¢˜</td><td align="center">æ–‡ç« å…³é”®å­—ï¼ŒSEO æ—¶éœ€è¦</td></tr><tr><td align="center">reprintPolicy</td><td align="center">cc_by</td><td align="center">æ–‡ç« è½¬è½½è§„åˆ™ï¼Œ å¯ä»¥æ˜¯ cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint æˆ– pay ä¸­çš„ä¸€ä¸ª</td></tr></tbody></table><blockquote><p>æ³¨æ„ï¼š</p><ol><li>å¦‚æœè¦å¯¹æ–‡ç« è®¾ç½®é˜…è¯»éªŒè¯å¯†ç çš„åŠŸèƒ½ï¼Œä¸ä»…è¦åœ¨ Front-matter ä¸­è®¾ç½®é‡‡ç”¨äº† SHA256 åŠ å¯†çš„ password çš„å€¼ï¼Œè¿˜éœ€è¦åœ¨ä¸»é¢˜çš„ <code>_config.yml</code> ä¸­æ¿€æ´»äº†é…ç½®ã€‚æœ‰äº›åœ¨çº¿çš„ SHA256 åŠ å¯†çš„åœ°å€ï¼Œå¯ä¾›ä½ ä½¿ç”¨ï¼š<a href="http://tool.oschina.net/encrypt?type=2">å¼€æºä¸­å›½åœ¨çº¿å·¥å…·</a>ã€<a href="http://encode.chahuo.com/">chahuo</a>ã€<a href="http://tool.chinaz.com/tools/hash.aspx">ç«™é•¿å·¥å…·</a>ã€‚</li><li><code>date</code> çš„å€¼å°½é‡ä¿è¯æ¯ç¯‡æ–‡ç« æ˜¯å”¯ä¸€çš„ï¼Œå› ä¸ºæœ¬ä¸»é¢˜ä¸­ <code>Gitalk</code> å’Œ <code>Gitment</code> è¯†åˆ« <code>id</code> æ˜¯é€šè¿‡ <code>date</code> çš„å€¼æ¥ä½œä¸ºå”¯ä¸€æ ‡è¯†çš„ã€‚</li></ol></blockquote><p>å…³äºFront-matterçš„æ¼”ç¤ºï¼š</p><p><strong>æœ€ç®€é…ç½®</strong>ï¼š</p><pre><code>---title: typora-vue-themeä¸»é¢˜ä»‹ç»date: 2018-09-07 09:25:00---</code></pre><p><strong>æœ€å…¨é…ç½®</strong>ï¼š</p><pre><code>---title: typora-vue-themeä¸»é¢˜ä»‹ç»date: 2020-06-18 13:30:00author: å°è‹img: /source/images/xxx.jpgtop: truecover: truecoverImg: /images/1.jpgpassword: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92toc: falsemathjax: falsesummary: è¿™æ˜¯ä½ è‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦categories: Markdowntags:  - Typora  - Markdown---</code></pre><h3 id="3-2ä¿®æ”¹é»˜è®¤æ–‡ç« é…ç½®"><a href="#3-2ä¿®æ”¹é»˜è®¤æ–‡ç« é…ç½®" class="headerlink" title="3.2ä¿®æ”¹é»˜è®¤æ–‡ç« é…ç½®"></a>3.2ä¿®æ”¹é»˜è®¤æ–‡ç« é…ç½®</h3><p>åœ¨æ¯æ¬¡åˆ›å»ºæ–‡ç« åªæœ‰titleå’Œdateï¼Œå¦‚æœæƒ³è¦å†è®¾ç½®å…¶ä»–å±æ€§è¿˜éœ€è¦ç¿»çœ‹æ–‡æ¡£ï¼Œæœ‰äº›éº»çƒ¦ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¾ç½®å¸¸ç”¨çš„å±æ€§ä½œä¸ºé»˜è®¤é…ç½®ã€‚</p><p>åªè¦å»ä¸»ç›®å½•ä¸‹æ‰¾åˆ°<code>scaffolds</code>æ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°ä¸€ä¸ª<strong>post.md</strong> æ–‡ä»¶ä¿®æ”¹å³å¯ï¼Œè¿™é‡Œæ˜¯æˆ‘çš„ç›®å½•<code> E:\blog\scaffolds</code></p><p>ä»¥ä¸‹æ˜¯æˆ‘çš„é…ç½®ï¼š</p><pre><code># æ ‡é¢˜title: {{ title }}date: {{ date }}author: å°è‹# ç®€è¿°summary: # ä½¿ç”¨è‡ªå®šä¹‰å°é¢ img: # æ˜¯å¦ç½®é¡¶trueï¼Œæˆ–è€…å»æ‰top: # è½®æ’­cover: # è½®æ’­å›¾coverImg: # æ ‡ç­¾tags: # åˆ†ç±»categories: # æ˜¯å¦åŠ å¯†æ–‡ç« ï¼ŒSHA256åŠ å¯†password: </code></pre><hr><h2 id="4-åœ¨Typoraä¸­æ’å…¥å›¾ç‰‡"><a href="#4-åœ¨Typoraä¸­æ’å…¥å›¾ç‰‡" class="headerlink" title="4.åœ¨Typoraä¸­æ’å…¥å›¾ç‰‡"></a>4.åœ¨Typoraä¸­æ’å…¥å›¾ç‰‡</h2><blockquote><p>ç”±äºä½¿ç”¨åŸå…ˆçš„å¤åˆ¶ç²˜è´´å›¾ç‰‡æ—¶ï¼Œå›¾ç‰‡çš„åœ°å€ä¼šæ˜¯æœ¬åœ°åœ°å€ï¼Œä¸Šä¼ åˆ°ç½‘ç»œå°±å¯¼è‡´æ–‡ç« çš„å›¾ç‰‡åŠ è½½ä¸å‡ºæ¥ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥é‡‡å–å°†å›¾ç‰‡ä¸Šä¼ åˆ°å›¾åºŠä¸Šï¼Œå†å°†å›¾åºŠçš„åœ°å€åŠ å…¥åˆ°æ–‡ç« ä¸­å³å¯ï¼Œæ­¤æ–¹æ³•å°±æ˜¯Typoraé›†æˆPicGoå›¾åºŠçš„æ–¹æ³•</p><p>æ„Ÿè°¢<a href="https://yafine-blog.cn/posts/15cb.html">åŠ±å¿ƒå¤§ä½¬</a>çš„æ–‡ç« ï¼Œè§£å†³äº†æˆ‘çš„é—®é¢˜</p></blockquote><h3 id="4-1ç¬¬ä¸€æ­¥ï¼šå…³äºä»€ä¹ˆæ˜¯å›¾åºŠï¼Œå¦‚ä½•æ­å»º"><a href="#4-1ç¬¬ä¸€æ­¥ï¼šå…³äºä»€ä¹ˆæ˜¯å›¾åºŠï¼Œå¦‚ä½•æ­å»º" class="headerlink" title="4.1ç¬¬ä¸€æ­¥ï¼šå…³äºä»€ä¹ˆæ˜¯å›¾åºŠï¼Œå¦‚ä½•æ­å»º"></a>4.1ç¬¬ä¸€æ­¥ï¼šå…³äºä»€ä¹ˆæ˜¯å›¾åºŠï¼Œå¦‚ä½•æ­å»º</h3><blockquote><p>å¼•ç”¨åŠ±å¿ƒå¤§ä½¬çš„æ–‡ç« </p></blockquote><h4 id="4-1-1-åŸºäºGithubå›¾åºŠçš„æ­å»º"><a href="#4-1-1-åŸºäºGithubå›¾åºŠçš„æ­å»º" class="headerlink" title="4.1.1 åŸºäºGithubå›¾åºŠçš„æ­å»º"></a>4.1.1 åŸºäºGithubå›¾åºŠçš„æ­å»º</h4><ul><li><a href="https://yafine-blog.cn/posts/eb3a.html">https://yafine-blog.cn/posts/eb3a.html</a></li></ul><h4 id="4-1-2-åŸºäºGiteeå›¾åºŠçš„æ­å»º"><a href="#4-1-2-åŸºäºGiteeå›¾åºŠçš„æ­å»º" class="headerlink" title="4.1.2 åŸºäºGiteeå›¾åºŠçš„æ­å»º"></a>4.1.2 åŸºäºGiteeå›¾åºŠçš„æ­å»º</h4><ul><li><a href="https://yafine-blog.cn/posts/15cb.html">https://yafine-blog.cn/posts/15cb.html</a></li></ul><h3 id="4-2-ç¬¬äºŒæ­¥ï¼šè®¾ç½®PicGo"><a href="#4-2-ç¬¬äºŒæ­¥ï¼šè®¾ç½®PicGo" class="headerlink" title="4.2 ç¬¬äºŒæ­¥ï¼šè®¾ç½®PicGo"></a>4.2 ç¬¬äºŒæ­¥ï¼šè®¾ç½®PicGo</h3><p>ç‚¹å‡»PicGoè®¾ç½®ã€å¼€å¯Serverï¼Œç›‘å¬åœ°å€ä¸ç”¨è¿›è¡Œæ›´æ”¹ï¼Œç›‘å¬ç«¯å£çš„å€¼è®¾ç½®ä¸º36677ï¼Œè¿™ä¸ªå€¼å¯ä»¥åœ¨Typoraè½¯ä»¶ä¸­è·å–åˆ°ï¼Œä¸€èˆ¬é»˜è®¤å€¼éƒ½æ˜¯36677</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/picgo1.png" alt="image-20200618210220798"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/picgo2.png" alt="image-20200618210255883"></p><h3 id="4-3ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®Typora"><a href="#4-3ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®Typora" class="headerlink" title="4.3ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®Typora"></a>4.3ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®Typora</h3><p>å…³äºTyporaè½¯ä»¶çš„å®‰è£…å¾ˆç®€å•ï¼Œå‚»ç“œå¼å®‰è£…ï¼Œæ‰“å¼€typoraè½¯ä»¶ï¼Œä¾æ¬¡æ‰“å¼€æ­¥éª¤ä¸ºï¼šæ–‡ä»¶ -&gt; åå¥½è®¾ç½® -&gt; å›¾åƒï¼Œå…·ä½“é…ç½®å‚è€ƒä¸‹é¢çš„å›¾ä¸­çš„é…ç½®ï¼šä¸Šä¼ æœåŠ¡é€‰æ‹©appå³å¯ï¼Œä¸éœ€è¦ä½¿ç”¨coreï¼Œè·¯å¾„å°±æ˜¯ä½ çš„PicGo.exeçš„è·¯å¾„</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/picgo3.png" alt="image-20200618210810842"></p><h3 id="4-4ç¬¬å››æ­¥ï¼šéªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®"><a href="#4-4ç¬¬å››æ­¥ï¼šéªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®" class="headerlink" title="4.4ç¬¬å››æ­¥ï¼šéªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®"></a>4.4ç¬¬å››æ­¥ï¼šéªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®</h3><p>ç‚¹å‡»ä¸Šä¸€æ­¥çš„<code>éªŒè¯å›¾ç‰‡ä¸Šä¼ é€‰é¡¹</code>ï¼Œçœ‹çœ‹æ˜¯å¦ä¸Šä¼ æˆåŠŸï¼ŒæˆåŠŸä¼šå‡ºç°ä»¥ä¸‹ç•Œé¢ï¼š</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/picgo4.png" alt="image-20200618211043882"></p><blockquote><p>å‡ºç°é”™è¯¯ï¼Œè¯·çœ‹æ–‡ç« æœ€åçš„é”™è¯¯åˆ†æ</p></blockquote><h3 id="4-5ä½¿ç”¨æ–¹æ³•"><a href="#4-5ä½¿ç”¨æ–¹æ³•" class="headerlink" title="4.5ä½¿ç”¨æ–¹æ³•"></a>4.5ä½¿ç”¨æ–¹æ³•</h3><p>4.5.1 å¯ä»¥å°†å›¾ç‰‡ç›´æ¥æ‹–æ‹½æ–‡ç« ä¸­ï¼ŒTyporaä¼šè‡ªåŠ¨ä¸Šä¼ </p><p>4.5.2  å¤åˆ¶ç²˜è´´</p><p>4.5.3 ä½¿ç”¨å¿«æ·é”®Ctrl + Shift + Iï¼Œé€‰æ‹©å›¾ç‰‡è·¯å¾„å³å¯</p><h3 id="4-6-é”™è¯¯åˆ†æ"><a href="#4-6-é”™è¯¯åˆ†æ" class="headerlink" title="4.6 é”™è¯¯åˆ†æ"></a>4.6 é”™è¯¯åˆ†æ</h3><h4 id="4-6-1-â€œsuccessâ€-false"><a href="#4-6-1-â€œsuccessâ€-false" class="headerlink" title="4.6.1 {â€œsuccessâ€,false}"></a>4.6.1 {â€œsuccessâ€,false}</h4><ul><li><p><strong>åŸå› </strong>ï¼šæ˜¯æ–‡ä»¶åå†²çªäº†ï¼Œå¦‚æœä½ ä¸Šä¼ è¿‡ä¸€å¼ image1.jpgçš„å›¾ç‰‡ï¼Œå†ä¸Šä¼ åç§°ä¸€æ ·çš„å›¾ç‰‡å°±ä¼šå¤±è´¥ï¼Œlogæ—¥å¿—ä¸­ä¹Ÿä¼šå†™é“ã€‚</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šæ‰“å¼€picgoè®¾ç½®ï¼Œå°†ã€æ—¶é—´æˆ³é‡å‘½åã€‘æ‰“å¼€ï¼Œå†ä¸Šä¼ å›¾ç‰‡æ˜¯é‡å‘½åå³å¯ï¼Œæˆ–è€…å°†å›¾åºŠä¸­é‡åå›¾ç‰‡åˆ æ‰</p></li><li><p><strong>åŸå› </strong>ï¼šæœ¬åœ°éƒ¨ç½²æ²¡æœ‰æ–­å¼€ï¼Œctrl+cæ–­å¼€hexo sçš„éƒ¨ç½²</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šæ–­å¼€éƒ¨ç½²åé‡æ–°ä¸Šä¼ </p></li></ul><h4 id="4-6-2-Failed-to-fetch"><a href="#4-6-2-Failed-to-fetch" class="headerlink" title="4.6.2 Failed to fetch"></a>4.6.2 Failed to fetch</h4><p><strong>åŸå› </strong>ï¼šä¸€èˆ¬æ˜¯å› ä¸ºç«¯å£ä¸ä¸€è‡´è€Œå¯¼è‡´çš„ï¼ŒTyporaç›‘å¬çš„ç«¯å£å·ä¸º36677ï¼Œæœ‰æ—¶åœ¨äºç«¯å£å†²çªï¼Œå¦‚æœä½ æ‰“å¼€äº†å¤šä¸ªpicgoç¨‹åºï¼Œå°±ä¼šç«¯å£å†²çªï¼Œpicgoè‡ªåŠ¨å¸®ä½ æŠŠ36677ç«¯å£æ”¹ä¸º366771ç«¯å£ï¼Œå¯¼è‡´é”™è¯¯ã€‚</p><p> <strong>è§£å†³æ–¹æ³•</strong>ï¼šæ‰“å¼€PicGoè½¯ä»¶ï¼Œç„¶åä¾æ¬¡æ‰“å¼€PicGoè®¾ç½®ã€è®¾ç½®Serverï¼ŒæŸ¥çœ‹å½“å‰çš„ç«¯å£å·ï¼Œå¦‚æœä¸æ˜¯36677ï¼Œåˆ™å°†ç›‘å¬ç«¯å£å·ä¿®æ”¹ä¸º36677å³å¯ã€‚</p><h4 id="4-6-3-please-config-path-for-picgo-app-in-preferences-panel"><a href="#4-6-3-please-config-path-for-picgo-app-in-preferences-panel" class="headerlink" title="4.6.3 please config path for picgo(app) in preferences panel"></a>4.6.3 please config path for picgo(app) in preferences panel</h4><p><strong>åŸå› </strong>ï¼šæœ‰å¯èƒ½è®¾ç½®äº†ä¹‹åè¿˜æ²¡æœ‰ç”Ÿæ•ˆ</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šå°†Typoraå†™çš„æ–‡ç« å…³é—­åé‡æ–°æ‰“å¼€ï¼Œå°è¯•ä¸Šä¼ å›¾ç‰‡</p><h3 id="4-7-å‹æƒ…æé†’"><a href="#4-7-å‹æƒ…æé†’" class="headerlink" title="4.7 å‹æƒ…æé†’"></a>4.7 å‹æƒ…æé†’</h3><p>PicGoçš„æ—¥å¿—(log)æ–‡ä»¶æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œå¦‚æœå‡ºç°æŠ¥é”™ï¼Œå›¾ç‰‡ä¸Šä¼ ä¸æˆåŠŸçš„æƒ…å†µï¼Œå¤§å®¶å¯ä»¥æ‰“å¼€æ—¥å¿—çœ‹çœ‹ï¼Œæ ¹æ®æ—¥å¿—è¾“å‡ºï¼Œç„¶åè‡ªå·±å°è¯•è§£å†³ï¼Œç™¾åº¦æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/picgo5.png" alt="image-20200618212911587"></p><hr><h2 id="5-åœ¨Typoraä¸­æ’å…¥å¤šåª’ä½“"><a href="#5-åœ¨Typoraä¸­æ’å…¥å¤šåª’ä½“" class="headerlink" title="5.åœ¨Typoraä¸­æ’å…¥å¤šåª’ä½“"></a>5.åœ¨Typoraä¸­æ’å…¥å¤šåª’ä½“</h2><blockquote><p>æ’å…¥å¤šåª’ä½“å¯ä»¥ä½¿ç”¨ç›´æ¥æ’å…¥æˆ–è€…ä½¿ç”¨æ’ä»¶æ’å…¥ï¼Œè¿™é‡Œåªä»‹ç»ç›´æ¥æ’å…¥ï¼š</p><p>ç›´æ¥æ’å…¥ï¼šä¸éœ€è¦å®‰è£…æ’ä»¶ï¼Œç®€å•ï¼Œä½†æœ‰çš„æµè§ˆå™¨ä¸æ”¯æŒ</p><p>æ’ä»¶æ’å…¥ï¼šæ”¯æŒæ‰€æœ‰ï¼Œä½†æ˜¯é…ç½®æœ‰äº›éº»çƒ¦</p></blockquote><h3 id="5-1-æ’å…¥éŸ³ä¹"><a href="#5-1-æ’å…¥éŸ³ä¹" class="headerlink" title="5.1 æ’å…¥éŸ³ä¹"></a>5.1 æ’å…¥éŸ³ä¹</h3><p>éŸ³ä¹é“¾æ¥è·å–ï¼ˆç½‘æ˜“äº‘éŸ³ä¹ä¸ºä¾‹ï¼‰</p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/image-20200621145050973.png" alt="image-20200621145050973"></p><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/picgo6.png" alt="image-20200621145128708"></p><p>å°†éŸ³ä¹ä»£ç ç²˜è´´åˆ°markdownä¸­å³å¯ï¼Œæ³¨æ„é•¿å®½å°ºå¯¸</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=3&amp;id=2067668593&amp;auto=1&amp;height=66"></iframe><h3 id="5-2-æ’å…¥è§†é¢‘"><a href="#5-2-æ’å…¥è§†é¢‘" class="headerlink" title="5.2 æ’å…¥è§†é¢‘"></a>5.2 æ’å…¥è§†é¢‘</h3><blockquote><p>æ³¨æ„ï¼šæ’å…¥çš„è§†é¢‘å¿…é¡»æ˜¯è§†é¢‘çš„åŸURL</p></blockquote><p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/picgo7.png" alt="image-20200621145922114"></p><iframe src="//player.bilibili.com/player.html?aid=243597466&amp;bvid=BV1nv411B7B6&amp;cid=203246371&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" width="800" height="450"> </iframe><blockquote><p>æ³¨æ„åŠ ä¸Šwidth(å®½)ï¼Œheightï¼ˆé•¿ï¼‰ï¼Œé•¿å®½å¯ä»¥æ˜¯è§†é¢‘åˆ†è¾¨ç‡</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> MarkDown </tag>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåšå®¢è¿ç§»äº‘æœåŠ¡å™¨</title>
      <link href="/2020/01/27/hexo/hexo-bo-ke-qian-yi-yun-fu-wu-qi/"/>
      <url>/2020/01/27/hexo/hexo-bo-ke-qian-yi-yun-fu-wu-qi/</url>
      
        <content type="html"><![CDATA[<blockquote><p> èƒŒæ™¯ï¼šæˆ‘çš„åšå®¢æ˜¯éƒ¨ç½²åœ¨githubå›½å¤–å’Œcodingå›½å†…çš„ã€‚è‡ª2021å¹´12æœˆ30æ—¥ï¼Œcodingæ­£å¼åœæ­¢äº†é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ï¼Œå› æ­¤ä¸å¾—ä¸æ¢ä¸ªå›½å†…çš„ç«™ç‚¹ã€‚</p><p>æœ‰å°è¯•è¿‡Vercelï¼Œç¡®å®å¥½ç”¨ï¼Œä½†æ˜¯æ–°ç‰ˆVercelå’Œè€çš„githubåšå®¢æ— æ³•å…¼å®¹ï¼Œå¯¼è‡´è¿æ¥è€githubåšå®¢ä»“åº“æŠ¥404ï¼Œè‡³ä»Šä¸çŸ¥é“ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æœæœ‰çŸ¥é“çš„å¯ä»¥è¯„è®ºåŒºå‘Šè¯‰æˆ‘ï¼Œä¸ç”šæ„Ÿæ¿€ï¼</p><p>ç›®å‰åªèƒ½é€šè¿‡Vercelè¿æ¥ç¬¬ä¸‰æ–¹ä»“åº“httpsï¼Œç„¶åè¾“å…¥githubè€ä»“åº“çš„httpsåœ°å€ï¼Œå°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ï¼Œä½†è¿™æœ‰ä¸ªé—®é¢˜ï¼šVercelä¼šåœ¨githubæ–°å»ºä¸€ä¸ªä»“åº“æ‰˜ç®¡ä½ çš„åšå®¢ï¼Œæˆ‘ä»¬ä¸å¾—ä¸å°†åšå®¢éƒ¨ç½²åœ¨Vercelæ–°ä»“åº“ä¸­ï¼Œå®ç°æ¯æ¬¡éƒ¨ç½²Verceléƒ½ä¼šè‡ªåŠ¨æ›´æ–°æœ€æ–°çš„é¡µé¢ã€‚è¿™å°±å¯¼è‡´æˆ‘ä»¬è¢«è¿«è¿ç§»äº†æ–°ä»“åº“ï¼Œè¿™ä¼šè®©æˆ‘ä»¬çš„valineè¯„è®ºå’Œåœç®—å­è®¿å®¢é‡éƒ½æ¸…é›¶äº†ã€‚</p><p>äºæ˜¯ä¸€ä¸åšäºŒä¸ä¼‘ï¼Œæˆ‘å¹²è„†å¼„ä¸ªäº‘æœåŠ¡å™¨ï¼Œå°†åšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Šä¸€æ­¥åˆ°ä½ã€‚äºæ˜¯ï¼Œå°±æœ‰äº†ä¸‹é¢çš„è¿ç§»äº‘æœåŠ¡å™¨ã€‚ä¹Ÿè®©æˆ‘å­¦åˆ°äº†æ€ä¹ˆè´­ä¹°äº‘æœåŠ¡å™¨å’Œç”³è¯·è¯ä¹¦ï¼Œé…ç½®nginxçš„httpsçš„æ–¹å¼ã€‚</p></blockquote><h2 id="ç²¾å½©æŠ¢å…ˆçœ‹"><a href="#ç²¾å½©æŠ¢å…ˆçœ‹" class="headerlink" title="ç²¾å½©æŠ¢å…ˆçœ‹"></a>ç²¾å½©æŠ¢å…ˆçœ‹</h2><p>æœ¬ç¯‡åŒ…å«ä»¥ä¸‹å¹²è´§</p><ol><li>é˜¿é‡Œäº‘è´­ä¹°äº‘æœåŠ¡å™¨ï¼ˆè¯•ç”¨å…è´¹ç‰ˆï¼‰</li><li>äº‘æœåŠ¡å™¨çš„ä½¿ç”¨</li><li>Hexoè¿ç§»äº‘æœåŠ¡å™¨</li><li>é˜¿é‡Œäº‘ç”³è¯·sslè¯ä¹¦</li></ol><h2 id="æ­£ç‰‡å¼€å§‹"><a href="#æ­£ç‰‡å¼€å§‹" class="headerlink" title="æ­£ç‰‡å¼€å§‹"></a>æ­£ç‰‡å¼€å§‹</h2><h3 id="é˜¿é‡Œäº‘è´­ä¹°äº‘æœåŠ¡å™¨"><a href="#é˜¿é‡Œäº‘è´­ä¹°äº‘æœåŠ¡å™¨" class="headerlink" title="é˜¿é‡Œäº‘è´­ä¹°äº‘æœåŠ¡å™¨"></a>é˜¿é‡Œäº‘è´­ä¹°äº‘æœåŠ¡å™¨</h3><blockquote><p>å…¶å®äº‘æœåŠ¡å™¨æ— æ‰€è°“å“ªä¸ªåä¸ºäº‘ã€è…¾è®¯äº‘è¿˜æ˜¯é˜¿é‡Œäº‘ï¼Œè¿™é‡Œæˆ‘åŸŸåæ˜¯æå‰åœ¨é˜¿é‡Œäº‘ä¹°çš„ï¼Œäºæ˜¯ä¹Ÿåœ¨é˜¿é‡Œäº‘ä¹°äº†äº‘æœåŠ¡å™¨ï¼Œå½“ç„¶ä¸ºäº†ç»ƒä¹ å…ˆé¢†ç”¨äº†ä¸ªå…è´¹çš„æœåŠ¡å™¨1ä¸ªæœˆï¼ˆç™½å«–ä½¿æˆ‘å¿«ä¹~hhhï¼‰</p></blockquote><ol><li><a href="https://www.aliyun.com/daily-act/ecs/free?spm=5176.19772248.d365.d365.6e8f514codP9Af&amp;scm=20140722.2719.4.2664">é˜¿é‡Œäº‘ECSè¯•ç”¨ä¸­å¿ƒ</a></li><li>ä¸‹æ–¹é¢†å–è¯•ç”¨æœºå‹ï¼Œæˆ‘é¢†å–çš„æ˜¯ECSå…±äº«å‹n4ï¼Œ1ä¸ªæœˆ</li><li>æ“ä½œç³»ç»Ÿé€‰æ‹©ç†Ÿæ‚‰çš„centos7.6ï¼Œå¸¦å®½é€‰æ‹©æœ€é«˜çš„5Mbps</li><li>è´­ä¹°åè¿›å…¥æ§åˆ¶å°</li></ol><h3 id="äº‘æœåŠ¡å™¨çš„ä½¿ç”¨"><a href="#äº‘æœåŠ¡å™¨çš„ä½¿ç”¨" class="headerlink" title="äº‘æœåŠ¡å™¨çš„ä½¿ç”¨"></a>äº‘æœåŠ¡å™¨çš„ä½¿ç”¨</h3><ol><li>ç‚¹å‡»å·¦ä¾§ï¼Œé€‰æ‹©<code>äº‘æœåŠ¡å™¨ECS</code></li><li>ç‚¹å‡»å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯ä½ çš„äº‘æœåŠ¡å™¨</li></ol><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20220127132047.png"><ol start="3"><li>åˆæ¬¡è¿›å»åå¯èƒ½ä¼šæ²¡æœ‰å®ä¾‹ï¼Œè¿™æ˜¯å› ä¸ºä½ æ²¡æœ‰é€‰æ‹©åŒºåŸŸ<ol><li>ç‚¹å‡»ä¸Šæ–¹çš„åŒºåŸŸï¼Œé€‰æ‹©ä½ äº‘æœåŠ¡å™¨æ‰€åœ¨çš„åŒºåŸŸã€‚å°±å¯ä»¥çœ‹åˆ°ä½ çš„æœºå™¨å’Œå…¬ç½‘IP</li></ol></li></ol><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20220127132224.png"><ol start="4"><li><p>ç‚¹å‡»ç®¡ç†ï¼Œè¿›å…¥äº‘æœåŠ¡çš„ç®¡ç†ç•Œé¢</p></li><li><p>æœ‰3å¤„éœ€è¦é…ç½®</p><ol><li><p>é‡ç½®å®ä¾‹å¯†ç ï¼Œå°±æ˜¯ä½ çš„æœåŠ¡å™¨çš„rootå¯†ç ï¼Œè¦æ±‚æœ‰å¤§å°å†™ã€æ•°å­—ã€ç¬¦å·</p></li><li><p>è¿›å…¥å®‰å…¨ç»„ï¼Œå¢åŠ 80å’Œ443çš„å…¥å£ç«¯å£ï¼ŒæŒ‰ç…§ç°æœ‰çš„ç«¯å£é…ç½®é…å°±è¡Œï¼ˆé˜¿é‡Œäº‘æ˜¯ç”±å®‰å…¨ç»„é™åˆ¶çš„ï¼Œå°±åƒæ“ä½œç³»ç»Ÿçš„é˜²ç«å¢™ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ‰“å¼€80å’Œ443ç«¯å£ï¼Œä¸ºåç»­Nginxåšå‡†å¤‡ï¼‰ã€‚</p><blockquote><p> è¿™é‡Œå¦‚æœæ²¡æœ‰è®¾ç½®å®‰å…¨ç»„443ï¼Œåœ¨åç»­çš„Nginxé…ç½®httpsæ—¶ï¼Œä¼šè®¿é—®ä¸äº†</p></blockquote></li><li><p>è¿œç¨‹è¿æ¥ï¼Œé€‰æ‹©VNCè¿æ¥æ–¹å¼ï¼Œè®¾ç½®VNCå¯†ç ï¼Œè¦æ±‚æœ‰å¤§å°å†™ã€æ•°å­—ï¼Œå¿…é¡»ä¸º6ä½</p></li></ol><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20220127132541.png"></li><li><p>è¿æ¥ï¼Œä½¿ç”¨mobaæˆ–è€…xshellç­‰è¿œç¨‹è¿æ¥å·¥å…·ï¼Œè¿æ¥å…¬ç½‘IPï¼Œè¾“å…¥å¯†ç è¿æ¥å³å¯ã€‚</p></li></ol><h3 id="Hexoè¿ç§»äº‘æœåŠ¡å™¨"><a href="#Hexoè¿ç§»äº‘æœåŠ¡å™¨" class="headerlink" title="Hexoè¿ç§»äº‘æœåŠ¡å™¨"></a>Hexoè¿ç§»äº‘æœåŠ¡å™¨</h3><ol><li> å®‰è£…nginx</li></ol><pre><code>yum install nginx å®‰è£…nginxsystemctl start nginx å¼€å¯nginxæœåŠ¡systemctl enable nginx è·Ÿéšç³»ç»Ÿå¯åŠ¨</code></pre><p>ç”¨å…¬ç½‘IPè®¿é—®ï¼Œå¦‚æœæ˜¾ç¤ºnginxæˆ–æ˜¯centosçš„ç•Œé¢çš„è¯å°±æ˜¯æ²¡é—®é¢˜çš„</p><ol start="2"><li> æ–°å»ºå­˜æ”¾åšå®¢çš„ç›®å½•</li></ol><pre><code>cd /homemkdir wwwcd wwwmkdir website</code></pre><ol start="3"><li>å®‰è£…git</li></ol><pre><code>//å®‰è£…Gityum install git</code></pre><ol start="4"><li>æ–°å»ºç”¨æˆ·å¹¶ä¿®æ”¹æƒé™</li></ol><pre><code>adduser gitchmod 740 /etc/sudoersvim /etc/sudoers</code></pre><img src="https://fastly.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20220127140404.png"><p>ä¿å­˜é€€å‡º</p><p>ä¿®æ”¹æƒé™</p><pre><code>chmod 400 /etc/sudoers</code></pre><ol start="5"><li><p>åˆ›å»ºå…¬é’¥</p><pre><code>sudo passwd git  //è®¾ç½®gitå¯†ç su git    //åˆ‡æ¢åˆ°gitç”¨æˆ·cd ~    //åˆ‡æ¢ç›®å½•mkdir .ssh    //æ–°å»º.sshæ–‡ä»¶å¤¹cd .ssh    //è¿›å…¥æ–‡ä»¶å¤¹vim authorized_keys    //åˆ›å»ºæ–‡ä»¶å°†ä¸»æœºwindowsä¸‹çš„sshå…¬é’¥å†…å®¹ç²˜è´´è¿›å»ï¼Œä½ç½®åœ¨C:\Users\ç”¨æˆ·\.ssh\id_rsa.pubä¿å­˜é€€å‡ºchmod 600 ~/.ssh/authorized_keyschmod 700 ~/.ssh</code></pre></li><li><p>æµ‹è¯•</p><p>ä½¿ç”¨ä¸»æœºwindowsï¼Œä»¥ç®¡ç†å‘˜çš„èº«ä»½è¿›å…¥cmdå‘½ä»¤è¡Œ</p><pre><code>ssh -v git@ä½ çš„å…¬ç½‘IP</code></pre><p>æœŸé—´ä¼šè®©ä½ è¾“å…¥yes</p><p>å¦‚æœæç¤º Welcome â€¦â€¦å°±ä»£è¡¨ä¸éœ€è¦å¯†ç å°±å¯ä»¥ç™»å½•äº†ï¼ŒæˆåŠŸäº†</p></li><li><p>åˆ›å»ºgitä»“åº“(é’©å­)</p><pre><code>cd ~git init --bare blog.gitvi ~/blog.git/hooks/post-receive</code></pre><p>è¾“å…¥</p><pre><code>git --work-tree=/home/www/website --git-dir=/home/git/blog.git checkout -f</code></pre><p>ä¿å­˜é€€å‡º</p><p>ä¿®æ”¹æƒé™</p><pre><code>chmod +x ~/blog.git/hooks/post-receive</code></pre></li><li><p>éƒ¨ç½²</p><ol><li><p>ä¿®æ”¹hexoçš„é…ç½®æ–‡ä»¶_config.yml</p><pre><code>deploy:  type: git  repo: git@ä½ çš„æœåŠ¡å™¨å…¬ç½‘IP:/home/git/blog.git  branch: master  message: </code></pre><blockquote><p>é—®é¢˜ï¼šå‡ºç°â€“sshï¼šconnect to host centos-py port 22: Connection refused</p><p>è§£å†³ï¼š</p><p>æ£€æŸ¥é…ç½®æ–‡ä»¶æœ‰æ²¡æœ‰é…ç½®å¯¹ï¼Œæˆ‘è¿™é‡Œrepoå¤šäº†ä¸ªâ€ï¼šâ€œ</p></blockquote></li><li><p>éƒ¨ç½²</p><pre><code>Hexo cleanHexo gHexo deploy</code></pre></li></ol></li><li><p>ä¿®æ”¹nginxé…ç½®æ–‡ä»¶</p><pre><code>cd /etc/nginx/vim nginx.conf</code></pre><pre><code>server {    listen       80; #ç«¯å£å·    server_name  localhost; #å…¬ç½‘ip    location / { #è®¿é—®è·¯å¾„é…ç½®        root   /home/www/website; #ç›®å½•        index  index.html index.htm; #é»˜è®¤é¦–é¡µ    }</code></pre><pre><code>nginx -s reload é‡å¯nginx</code></pre></li><li><p>è®¿é—®</p><p>è¿™æ—¶é€šè¿‡ipè®¿é—®å³å¯</p></li></ol><blockquote><p>é—®é¢˜ï¼šè®¿é—®æ—¶å‡ºç°nginx403 forbiden</p><p>åŸå› ï¼šå› ä¸ºæ–‡ä»¶å¤¹æƒé™ä¸è¶³ï¼Œå¯¼è‡´gitä¸Šä¼ æ–‡ä»¶æ²¡æœ‰æ­£ç¡®ä¸Šä¼ ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š</p><pre><code>cd homechmod 777 wwwchmod 777 website/</code></pre></blockquote><h3 id="ç”³è¯·sslè¯ä¹¦ä¸é…ç½®https"><a href="#ç”³è¯·sslè¯ä¹¦ä¸é…ç½®https" class="headerlink" title="ç”³è¯·sslè¯ä¹¦ä¸é…ç½®https"></a>ç”³è¯·sslè¯ä¹¦ä¸é…ç½®https</h3><blockquote><p>èƒŒæ™¯ï¼šæˆ‘ä»¬å·²ç»è¿ç§»äº†åšå®¢ï¼Œä½†æ˜¯æ²¡æœ‰é…ç½®åŸŸåï¼Œå¦‚æœéœ€è¦åŸŸåè®¿é—®äº‘æœåŠ¡å™¨ï¼Œä¸¤ç§æ–¹å¼ï¼Œ</p><ol><li>httpï¼Œè¿™ç§æ–¹å¼å›½å†…æœåŠ¡å™¨éœ€è¦å¤‡æ¡ˆï¼Œå¤‡æ¡ˆåˆéœ€è¦æœåŠ¡å™¨æœ‰æ•ˆæœŸè‡³å°‘3ä¸ªæœˆï¼Œæˆ‘æ˜¯å…è´¹1ä¸ªæœˆè¯•ç”¨ï¼Œå› æ­¤æ²¡æœ‰é‡‡å–è¿™ç§æ–¹å¼</li><li>httpsï¼Œè¿™ç§æ–¹å¼éœ€è¦ç”³è¯·sslè¯ä¹¦ï¼Œé…ç½®å³å¯ï¼Œæˆ‘ä»¬é‡‡å–è¿™ä¸€ç§</li></ol></blockquote><p>2021å¹´åï¼Œsslè¯ä¹¦è´­ä¹°çš„æ­¥éª¤åˆ†ä¸ºä¸¤æ­¥ï¼Œ1.è´­ä¹°èµ„æºåŒ…ï¼Œç›¸å½“äºä¸ªå¡åŒ…ï¼Œ2.è´­ä¹°è¯ä¹¦ï¼Œç›¸å½“äºå¡</p><p><strong>é˜¿é‡Œäº‘è´­ä¹°è¯ä¹¦</strong></p><ol><li><a href="https://blog.csdn.net/kenkao/article/details/113627154">è´­ä¹°èµ„æºåŒ…ï¼Œç›¸å½“äºä¸ªå¡åŒ…</a></li></ol><p><a href="https://www.aliyun.com/product/cas">é˜¿é‡Œäº‘åœ°å€</a></p><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20220127143015.png"><ol start="2"><li><p><a href="https://blog.csdn.net/lianzhang861/article/details/108773365?spm=1001.2101.3001.6661.1&amp;utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1.pc_relevant_paycolumn_v3&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1.pc_relevant_paycolumn_v3&amp;utm_relevant_index=1">è´­ä¹°è¯ä¹¦ï¼Œç›¸å½“äºå¡</a></p><p>çœ‹ç¬¬äºŒæ­¥ï¼š<strong>é…ç½®nginx</strong></p></li></ol><p><strong>è…¾è®¯äº‘è´­ä¹°è¯ä¹¦</strong></p><img src="https://sulog.oss-cn-hangzhou.aliyuncs.com/20230105161834.png">]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> matery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåšå®¢ä¼˜åŒ–ç¯‡(matery)(äºŒ)</title>
      <link href="/2020/01/25/hexo/hexo-bo-ke-you-hua-pian-matery-er/"/>
      <url>/2020/01/25/hexo/hexo-bo-ke-you-hua-pian-matery-er/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åˆ°å¹´åº•äº†ï¼Œæƒ³æŠŠæœ€è¿‘çš„ç¬”è®°æ•´ç†ä¸€ä¸‹ï¼Œå‘ç°åšå®¢çš„åŸŸåè¿‡æœŸäº†ï¼Œäºæ˜¯ç»™ç»­äº†ä¸ªè´¹ã€‚åŒæ—¶ä¹ŸæŠ½æ—¶é—´æŠŠå°ç«™ä¼˜åŒ–ä¸€ä¸‹ï¼Œä¸»è¦åŒ…æ‹¬ï¼šä¸€äº›åŠŸèƒ½çš„å¢åˆ ï¼Œè¿ç§»æœåŠ¡å™¨ï¼Œpjaxçš„å®ç°ã€‚</p><p>ä½†â€¦â€¦ç°å®ä¸å°½äººæ„ï¼Œåœ¨æ­¤æœŸé—´é‡åˆ°äº†å¤ªå¤šçš„å‘ï¼Œå¤ªè¿‡æ— å¥ˆï¼Œåº•å±‚æ”¹äº†å¾ˆå¤šåœ°æ–¹ã€‚æœ‰äº›æ”¹åŠ¨çš„åœ°æ–¹ä¸æ¸…æ¥šå¯¹ä¸å¯¹ï¼Œç”šè‡³ç°åœ¨çš„pjaxè¿˜å­˜åœ¨é—®é¢˜ã€‚</p><p>å› æ­¤æœ¬æ¬¡ï¼ŒåŸè°…ä¸èƒ½æŠŠæ¯ä¸ªæ”¹åŠ¨éƒ½æ•™å­¦å¼çš„è®°å½•å®Œæ•´ï¼Œåªä¼šæŠŠè‡ªå·±æ ¸å¿ƒä¿®æ”¹çš„åœ°æ–¹è®°å½•ä¸€ä¸‹ï¼Œæ–¹ä¾¿æ—¥åæŸ¥çœ‹ã€‚</p><p><strong>è¨€å½’æ­£ä¼ </strong></p><h2 id="è°ƒæ•´è®°å½•"><a href="#è°ƒæ•´è®°å½•" class="headerlink" title="è°ƒæ•´è®°å½•"></a>è°ƒæ•´è®°å½•</h2><blockquote><p>æœ¬æ¬¡ä¸èƒ½è¯´æ˜¯ä¼˜åŒ–äº†ï¼Œå¯¹ä¸€äº›åœ°æ–¹åšäº†ç®€å•çš„è°ƒæ•´</p></blockquote><h2 id="âŒåˆ é™¤"><a href="#âŒåˆ é™¤" class="headerlink" title="âŒåˆ é™¤"></a>âŒåˆ é™¤</h2><ul><li><input disabled="" type="checkbox"> åŠ¨æ€ç§‘æŠ€çº¿æ¡ï¼ˆå°ç«™å»ºä¹…äº†è§†è§‰ç–²åŠ³ï¼Œå¤§é“è‡³ç®€ï¼‰</li><li><input disabled="" type="checkbox"> æ¨±èŠ±é£˜è½ï¼ˆå¤§é“è‡³ç®€ï¼‰</li><li><input disabled="" type="checkbox"> é¦–é¡µè§†é¢‘ï¼Œè§†é¢‘æ˜¾ç¤ºéƒ¨åˆ†æ›¿æ¢æˆå…¬å‘Šï¼ˆç½‘ç«™é¦–é¡µçš„åŠ è½½é€Ÿåº¦å˜æ…¢ï¼Œæ•ˆæœä¸å¥½ï¼‰</li><li><input disabled="" type="checkbox"> é¼ æ ‡ç‚¹å‡»å‡ºç°æ–‡å­—åŠ¨ç”»ï¼ˆå¤§é“è‡³ç®€ï¼‰</li></ul><h2 id="âœ…æ–°å¢åŠŸèƒ½"><a href="#âœ…æ–°å¢åŠŸèƒ½" class="headerlink" title="âœ…æ–°å¢åŠŸèƒ½"></a>âœ…æ–°å¢åŠŸèƒ½</h2><ul><li><input checked="" disabled="" type="checkbox"> å¤œé—´æ¨¡å¼</li><li><input disabled="" type="checkbox"> éŸ³ä¹æ§ä»¶ï¼ˆç”±äºåŠ äº†pjaxï¼Œå¯ä»¥å®ç°åˆ‡æ¢é¡µé¢éŸ³ä¹ä¸é—´æ–­ï¼‰</li></ul><h2 id="âœ…æ–°å¢ç¾åŒ–"><a href="#âœ…æ–°å¢ç¾åŒ–" class="headerlink" title="âœ…æ–°å¢ç¾åŒ–"></a>âœ…æ–°å¢ç¾åŒ–</h2><ul><li><input checked="" disabled="" type="checkbox"> ä¸»é¡µèƒŒæ™¯apiæ›¿æ¢cdnå›¾ç‰‡</li><li><input checked="" disabled="" type="checkbox"> è½®æ’­å›¾æ°”æ³¡åŠ¨ç”»</li><li><input checked="" disabled="" type="checkbox"> å­—ä½“æ›´æ¢ï¼ˆæ¢ä¸ªä½“ç§¯æ›´å°çš„å­—ä½“ï¼ŒåŠ é€Ÿç½‘é¡µé€Ÿåº¦ï¼‰</li><li><input checked="" disabled="" type="checkbox"> æ›´æ¢æ–‡ç« å¡ç‰‡ç‰¹è‰²å›¾ç‰‡</li></ul><h2 id="ğŸ†—å†…å®¹ä¿®æ”¹"><a href="#ğŸ†—å†…å®¹ä¿®æ”¹" class="headerlink" title="ğŸ†—å†…å®¹ä¿®æ”¹"></a>ğŸ†—å†…å®¹ä¿®æ”¹</h2><ul><li><input checked="" disabled="" type="checkbox"> å¢åŠ é¦–é¡µå…¬å‘Šå†…å®¹</li><li><input checked="" disabled="" type="checkbox"> æ›´æ¢éŸ³ä¹ç›’é“¾æ¥</li></ul><h2 id="ğŸ”±åšå®¢ä¼˜åŒ–"><a href="#ğŸ”±åšå®¢ä¼˜åŒ–" class="headerlink" title="ğŸ”±åšå®¢ä¼˜åŒ–"></a>ğŸ”±åšå®¢ä¼˜åŒ–</h2><ul><li><input checked="" disabled="" type="checkbox"> å›¾ç‰‡CDNåŠ é€Ÿï¼ˆåŠ é€Ÿé¡µé¢åŠ è½½ï¼‰</li><li><input disabled="" type="checkbox"> è¿ç§»äº‘æœåŠ¡å™¨ï¼ˆå°è¯•ï¼‰</li><li><input disabled="" type="checkbox"> pjaxé¡µé¢ä¸åˆ·æ–°åˆ‡æ¢ï¼ˆä»æœ‰é—®é¢˜ï¼Œä»…ä¾›å‚è€ƒï¼‰</li><li><input disabled="" type="checkbox"> å‡çº§hexoï¼ˆæå‡æ„å»ºé€Ÿåº¦ï¼‰</li><li><input checked="" disabled="" type="checkbox"> ç»‘å®šåŸŸåa</li><li><input checked="" disabled="" type="checkbox"> è¯ä¹¦è®¤è¯</li></ul><blockquote><p>æœ¬æ¬¡é­”æ”¹éš¾åº¦è¾ƒå¤§ï¼Œé‡å‘è¾ƒå¤šï¼Œå‰æå·²ç»çœ‹äº†æˆ‘ä¹‹å‰çš„ä¸‰æœŸï¼Œå†å›å¤´çœ‹è¿™ä¸ªä¼šæœ‰å¾ˆå¤§çš„å¸®åŠ©ï¼š<a href="https://sulog.top/2020/06/18/hexo/hexo-github-da-jian-matery-bo-ke-er-zhu-ti-pei-zhi-pian/">Hexo+githubæ­å»ºmateryåšå®¢</a></p><p>å†æä¸€å˜´ï¼šæœ¬ç¯‡çš„é­”æ”¹éƒ¨åˆ†ä»…ä¾›å‚è€ƒï¼Œæƒ³é­”æ”¹åˆ°<code>Hexoåšå®¢ä¼˜åŒ–ç¯‡(matery)ï¼ˆä¸€ï¼‰</code>å°±è¶³å¤Ÿäº†ã€‚</p></blockquote><h1 id="æ­£ç‰‡å¼€å§‹"><a href="#æ­£ç‰‡å¼€å§‹" class="headerlink" title="æ­£ç‰‡å¼€å§‹"></a>æ­£ç‰‡å¼€å§‹</h1><h2 id="1-âŒåˆ é™¤åŠŸèƒ½"><a href="#1-âŒåˆ é™¤åŠŸèƒ½" class="headerlink" title="1. âŒåˆ é™¤åŠŸèƒ½"></a>1. âŒåˆ é™¤åŠŸèƒ½</h2><h3 id="1-1åŠ¨æ€ç§‘æŠ€çº¿æ¡ã€æ¨±èŠ±ã€ç‚¹å‡»æ–‡å­—"><a href="#1-1åŠ¨æ€ç§‘æŠ€çº¿æ¡ã€æ¨±èŠ±ã€ç‚¹å‡»æ–‡å­—" class="headerlink" title="1.1åŠ¨æ€ç§‘æŠ€çº¿æ¡ã€æ¨±èŠ±ã€ç‚¹å‡»æ–‡å­—"></a>1.1åŠ¨æ€ç§‘æŠ€çº¿æ¡ã€æ¨±èŠ±ã€ç‚¹å‡»æ–‡å­—</h3><p>è¿˜æ˜¯é‚£å¥è¯ï¼Œå¤§é“è‡³ç®€ï¼ŒèŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿åªä¼šè¶Šæ¥è¶Šå°‘ã€‚</p><p>ä¸»è¦æ˜¯åœ¨ä¸»é¢˜çš„_config.ymlæ–‡ä»¶ä¸­æ‰¾åˆ°ç‰¹æ•ˆçš„å¼€å…³ï¼Œenableï¼šfalseå³å¯ã€‚</p><h3 id="1-2é¦–é¡µè§†é¢‘ï¼Œè§†é¢‘æ˜¾ç¤ºéƒ¨åˆ†æ›¿æ¢æˆå…¬å‘Š"><a href="#1-2é¦–é¡µè§†é¢‘ï¼Œè§†é¢‘æ˜¾ç¤ºéƒ¨åˆ†æ›¿æ¢æˆå…¬å‘Š" class="headerlink" title="1.2é¦–é¡µè§†é¢‘ï¼Œè§†é¢‘æ˜¾ç¤ºéƒ¨åˆ†æ›¿æ¢æˆå…¬å‘Š"></a>1.2é¦–é¡µè§†é¢‘ï¼Œè§†é¢‘æ˜¾ç¤ºéƒ¨åˆ†æ›¿æ¢æˆå…¬å‘Š</h3><ol><li><p>ä¿®æ”¹é¦–é¡µdreamæ¨¡å—çš„ä¸œè¥¿<code>themes\matery\layout\_widget</code></p><blockquote><p>è¿™é‡Œè®²ä¸€ä¸‹æ‰¾æ¨¡å—åœ¨å“ªä¸ªæ–‡ä»¶çš„æ–¹æ³•ï¼š</p><ol><li>æ‰“å¼€ä½ çš„ç½‘ç«™ï¼ŒF12æ‰“å¼€æ§åˆ¶å°ï¼Œæ‰¾åˆ°å…³é”®å­—ï¼Œåœ¨layoutçš„æ–‡ä»¶å¤¹å’Œå­æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°</li></ol><img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/20220127102316.png"></blockquote></li></ol><pre><code>&lt;div class="dream"&gt;    &lt;% if (theme.dream.showTitle) { %&gt;        &lt;div class="title center-align"&gt;            &lt;i class="far fa-lightbulb"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;&lt;%= theme.dream.title %&gt;            &lt;img src="https://cdn.jsdelivr.net/gh/fenghen0918/jm-imgs/markdown/maozhualove.gif" alt="Welcome" width="40px"&gt;        &lt;/div&gt;        &lt;% } %&gt;            &lt;div class="row"&gt;                &lt;div class="notices"&gt;                    &lt;div class="textssl"&gt;                        &lt;br&gt;ä½ è¦åŠ çš„å†…å®¹                        &lt;%= theme.dream.text %&gt;                    &lt;/div&gt;                &lt;/div&gt;            &lt;/div&gt;&lt;/div&gt;</code></pre><ol start="2"><li>å°†_config.ymlçš„dream.textå†…å®¹å»æ‰</li></ol><hr><h2 id="2-âœ…æ–°å¢åŠŸèƒ½"><a href="#2-âœ…æ–°å¢åŠŸèƒ½" class="headerlink" title="2.  âœ…æ–°å¢åŠŸèƒ½"></a>2.  âœ…æ–°å¢åŠŸèƒ½</h2><h3 id="2-1-å¤œé—´æ¨¡å¼"><a href="#2-1-å¤œé—´æ¨¡å¼" class="headerlink" title="2.1 å¤œé—´æ¨¡å¼"></a>2.1 å¤œé—´æ¨¡å¼</h3><blockquote><p>è¿™é‡Œæˆ‘æŒ‰ç…§é—²èŠ±å¤§ä½¬çš„æ•™ç¨‹é…çš„ï¼Œæ˜¯å¯ä»¥æˆåŠŸçš„ã€‚</p><p>ä½†æˆ‘æƒ³æŠŠæŒ‰é’®æ”¾åœ¨æœç´¢çš„å³è¾¹ï¼Œäºæ˜¯æˆ‘ä¿®æ”¹çš„ä¸€ä¸‹ï¼Œé¡µé¢çš„æ ·å¼è¿˜æ˜¯æœ‰äº›é—®é¢˜ï¼Œå› æ­¤è¿˜æ˜¯çœ‹<a href="https://www.islu.cn/posts/21369.html">é—²èŠ±å¤§ä½¬çš„æ•™ç¨‹å§</a></p></blockquote><h3 id="2-2-éŸ³ä¹æ§ä»¶"><a href="#2-2-éŸ³ä¹æ§ä»¶" class="headerlink" title="2.2 éŸ³ä¹æ§ä»¶"></a>2.2 éŸ³ä¹æ§ä»¶</h3><p>materyä¸»é¢˜æœ‰è‡ªå¸¦çš„éŸ³ä¹æ§ä»¶ï¼Œä¸Šæ¬¡å› ä¸ºæ…¢å½±å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œè€Œä¸”materyæ²¡æœ‰å†…ç½®pjaxï¼Œåˆ‡æ¢é¡µé¢ä¼šå¯¼è‡´éŸ³ä¹é—´æ–­ï¼Œä½“éªŒä¸å¥½ã€‚</p><p>å› ä¸ºæœ¬æ¬¡ä¼˜åŒ–åŠ äº†pjaxï¼Œå°±æŠŠè¿™ä¸ªæ§ä»¶æ‰“å¼€äº†ã€‚åœ¨ä¸»é¢˜çš„_config.ymlæ–‡ä»¶ä¸­æœç´¢å…³é”®å­—<code>music</code>ï¼Œenableï¼šfalseå³å¯ã€‚</p><hr><h2 id="3-âœ…æ–°å¢ç¾åŒ–"><a href="#3-âœ…æ–°å¢ç¾åŒ–" class="headerlink" title="3.âœ…æ–°å¢ç¾åŒ–"></a>3.âœ…æ–°å¢ç¾åŒ–</h2><h3 id="3-1-ä¸»é¡µèƒŒæ™¯apiæ›¿æ¢cdnå›¾ç‰‡"><a href="#3-1-ä¸»é¡µèƒŒæ™¯apiæ›¿æ¢cdnå›¾ç‰‡" class="headerlink" title="3.1 ä¸»é¡µèƒŒæ™¯apiæ›¿æ¢cdnå›¾ç‰‡"></a>3.1 ä¸»é¡µèƒŒæ™¯apiæ›¿æ¢cdnå›¾ç‰‡</h3><ol><li><p>æ‰¾åˆ°<code>themes\matery\layout\_partial\bg-cover-content.ejs</code></p><blockquote><p>æ€ä¹ˆæ‰¾ä¸»é¡µèƒŒæ™¯å¯¹åº”çš„æ–‡ä»¶ï¼Œè¯·çœ‹1.2</p></blockquote><p>æ›¿æ¢</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>banner<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script<span class="token operator">></span>        <span class="token comment" spellcheck="true">// $('.bg-cover').css('background-image', 'url(https://api.ixiaowai.cn/gqapi/gqapi.php)');</span>        $<span class="token punctuation">.</span><span class="token function">getScript</span><span class="token punctuation">(</span><span class="token string">"https://cdn.jsdelivr.net/npm/typed.js@2.0.11"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.bg-cover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background-image'</span><span class="token punctuation">,</span> <span class="token string">'url(https://cdn.jsdelivr.net/gh/sakurasep/Wallpaper-01@1.0/wallpaper/043.jpg)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">></span></code></pre></li></ol><h3 id="3-2è½®æ’­å›¾æ°”æ³¡åŠ¨ç”»"><a href="#3-2è½®æ’­å›¾æ°”æ³¡åŠ¨ç”»" class="headerlink" title="3.2è½®æ’­å›¾æ°”æ³¡åŠ¨ç”»"></a>3.2è½®æ’­å›¾æ°”æ³¡åŠ¨ç”»</h3><p>è¯·çœ‹<a href="https://www.islu.cn/posts/38530.html">é—²èŠ±å¤§ä½¬çš„æ•™ç¨‹</a></p><h3 id="3-3å­—ä½“æ›´æ¢"><a href="#3-3å­—ä½“æ›´æ¢" class="headerlink" title="3.3å­—ä½“æ›´æ¢"></a>3.3å­—ä½“æ›´æ¢</h3><blockquote><p>åœ¨é¡µé¢åŠ è½½æ—¶æŸ¥çœ‹æ§åˆ¶å°å‘ç°ï¼Œå­—ä½“æ–‡ä»¶myfont.ttfåŠ è½½æ€»æ˜¯äºŒåå¤šç§’ï¼Œå¾ˆæ…¢ã€‚äºæ˜¯æƒ³æ›´æ¢ä¸€ä¸ªå°ç‚¹çš„ttfæ–‡ä»¶ï¼Œä»è€ŒåŠ å¿«æµè§ˆå™¨åŠ è½½</p></blockquote><ol><li><p>åœ¨æ ¹ç›®å½•ä¸‹çš„ <code>source </code>æ–‡ä»¶å¤¹å†…åˆ›å»ºä¸€ä¸ªåä¸º <code>font</code> çš„æ–‡ä»¶å¤¹ï¼Œå³æ–‡ä»¶å¤¹è·¯å¾„ä¸º <code>/source/font/ </code>ï¼Œç”¨æ¥ç»Ÿä¸€å­˜æ”¾ä½ è¦ç”¨åˆ°çš„å­—ä½“ã€‚</p></li><li><p>æ‰¾åˆ° <code>/themes/matery/source/css/</code>ä¸‹çš„ my.css æ–‡ä»¶ï¼Œå¡«å…¥ä¸‹é¢çš„ä»£ç ï¼š</p><pre><code>@font-face{    font-family: 'myFont';    src: url('https://cdn.jsdelivr.net/gh/fenghen0918/fenghen0918.github.io/font/myfont.ttf');}body{    font-family: 'myFont';}</code></pre><blockquote><p>èµ·åˆæˆ‘ä»¥ä¸ºcdnåŠ é€Ÿå¿…é¡»ä¸Šä¼ å›¾åºŠæ‰å¯ä»¥ï¼Œttfæ— æ³•ä¸Šä¼ å›¾åºŠï¼Œå°±æ”¾å¼ƒäº†ã€‚</p><p>ä½†cdnå¯¹äºgithubä¸Šä¼ çš„ä¸œè¥¿éƒ½èƒ½åŠ é€Ÿã€‚äºæ˜¯æˆ‘ç›´æ¥é…äº†cdnçš„é“¾æ¥ï¼Œå¯ä»¥ï¼</p></blockquote><blockquote><p>è¿™é‡Œå¼•ç”³ä¸€ç‚¹ï¼Œå› ä¸ºgithubä¸Šæ‰€æœ‰ä¸œè¥¿éƒ½èƒ½åŠ é€Ÿï¼Œäºæ˜¯æˆ‘çœ‹äº†ä¸‹f12æ§åˆ¶å°ï¼Œsearch.xmlä¹Ÿå¤§ï¼ŒåŠ è½½çš„å¾ˆæ…¢ï¼Œäºæ˜¯æŸ¥çœ‹search.ejsä¸­ï¼Œå¼•ç”¨çš„xmlåŠ äº†cdnçš„å‰ç¼€ï¼Œè¯´æ˜å·²ç»åŠ é€Ÿäº†ã€‚ä½†æ˜¯cdnå‰ç¼€æ˜¯æˆ‘åŸgithubä»“åº“ã€‚ï¼ˆç°åœ¨æˆ‘çš„ä»“åº“æ˜¯äº‘æœåŠ¡å™¨ï¼Œè€Œcdnåªèƒ½å¯¹Githubçš„æ–‡ä»¶åŠ é€Ÿï¼Œäº‘æœåŠ¡å™¨ä¸æ”¯æŒï¼‰ï¼Œä¸ºä¿è¯cdnåŠ é€Ÿçš„éƒ½æ˜¯æœ€æ–°çš„ï¼Œæˆ‘éƒ¨ç½²çš„æ—¶å€™è¦åŒæ—¶åœ¨githubä¸Šå’Œäº‘æœåŠ¡å™¨éƒ½éƒ¨ç½²ä¸€ä»½ã€‚githubä¸ºcdnä¸“ç”¨ï¼Œäº‘æœåŠ¡å™¨ä¸ºè®¿é—®ã€‚</p></blockquote></li></ol><h3 id="3-4-æ›´æ¢æ–‡ç« å¡ç‰‡ç‰¹è‰²å›¾ç‰‡"><a href="#3-4-æ›´æ¢æ–‡ç« å¡ç‰‡ç‰¹è‰²å›¾ç‰‡" class="headerlink" title="3.4 æ›´æ¢æ–‡ç« å¡ç‰‡ç‰¹è‰²å›¾ç‰‡"></a>3.4 æ›´æ¢æ–‡ç« å¡ç‰‡ç‰¹è‰²å›¾ç‰‡</h3><blockquote><p>ä¸»è¦æ˜¯ä¹‹å‰çš„å›¾ç‰‡éƒ½æ˜¯é€šè¿‡æœ¬åœ°åŠ è½½çš„ï¼Œæœ¬æ¬¡å°†æ‰€æœ‰å›¾ç‰‡ä¸Šä¼ è‡³cdn</p></blockquote><ol><li><p>å›¾ç‰‡ä¸Šä¼ å›¾åºŠå®ç°cdnåŠ é€Ÿ</p><blockquote><p>å…·ä½“æ€ä¹ˆä¸Šä¼ å›¾åºŠåœ¨æˆ‘å‰ä¸‰æœŸæ•™ç¨‹é‡Œæœ‰ï¼Œè¿™é‡Œä¸å¤šèµ˜è¿°</p></blockquote></li><li><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶_config.yml</p><ol><li>æœç´¢å…³é”®å­—â€œfeatureImagesâ€ï¼Œæ”¹æˆcdnè·¯å¾„</li></ol></li><li><p>ç”±äºå¯ç”¨äº†materyå†…ç½®çš„cdnï¼Œè¿™äº›å›¾ç‰‡çš„é“¾æ¥ä¼šæœ‰ä¸¤ä¸ªcdnå‰ç¼€ï¼Œå› æ­¤éœ€è¦æ‰¾åˆ°æŠŠå‰ç¼€å»æ‰</p><ol><li><code>themes\matery\layout\index.ejs</code>ï¼Œæœç´¢å…³é”®å­—â€card-imageâ€œ</li><li>å°†<code>&lt;%- theme.jsDelivr.url %&gt;</code>å»æ‰</li></ol><blockquote><p>å€Ÿæ­¤æœºä¼šï¼Œå°†ç³»ç»Ÿä¸­é‡å¤å‡ºç°ä¸¤æ¬¡cdnå‰ç¼€çš„åœ°æ–¹éƒ½ä¿®æ”¹ä¸‹</p><ol><li>å¼€å¯_config.ymlçš„cdnå¼€å…³</li><li>éƒ¨ç½²</li><li>è¿›å…¥é¡µé¢F12ï¼ŒæŸ¥çœ‹æŠ¥é”™ï¼Œå¦‚æœæœ‰å›¾ç‰‡æˆ–jså‡ºç°äº†ä¸¤æ¬¡ï¼Œæ‰¾åˆ°åœ°æ–¹å»æ‰<code>&lt;%- theme.jsDelivr.url %&gt;</code>å³å¯</li></ol></blockquote></li></ol><hr><h2 id="4-ğŸ†—å†…å®¹ä¿®æ”¹"><a href="#4-ğŸ†—å†…å®¹ä¿®æ”¹" class="headerlink" title="4.ğŸ†—å†…å®¹ä¿®æ”¹"></a>4.ğŸ†—å†…å®¹ä¿®æ”¹</h2><h3 id="4-1æ›´æ¢éŸ³ä¹ç›’é“¾æ¥"><a href="#4-1æ›´æ¢éŸ³ä¹ç›’é“¾æ¥" class="headerlink" title="4.1æ›´æ¢éŸ³ä¹ç›’é“¾æ¥"></a>4.1æ›´æ¢éŸ³ä¹ç›’é“¾æ¥</h3><ol><li>é“¾æ¥åœ¨ç½‘æ˜“äº‘éŸ³ä¹çš„ç½‘é¡µç«¯ï¼Œæ‰¾æƒ³è¦çš„æ­Œå•ã€‚</li><li>ç‚¹å‡»å¤–éƒ¨é“¾æ¥ï¼Œæœ‰äº›æ˜¯ç”±æƒé™é™åˆ¶çš„ï¼Œå¤šæ‰¾å‡ ä¸ªï¼Œæ‰¾åˆ°æ²¡æœ‰é™åˆ¶çš„å¤åˆ¶ç²˜è´´åˆ°<code>source\musics\index.md</code>å³å¯ã€‚</li></ol><hr><h2 id="5-ğŸ”±åšå®¢ä¼˜åŒ–"><a href="#5-ğŸ”±åšå®¢ä¼˜åŒ–" class="headerlink" title="5.ğŸ”±åšå®¢ä¼˜åŒ–"></a>5.ğŸ”±åšå®¢ä¼˜åŒ–</h2><h3 id="5-1å›¾ç‰‡CDNåŠ é€Ÿ"><a href="#5-1å›¾ç‰‡CDNåŠ é€Ÿ" class="headerlink" title="5.1å›¾ç‰‡CDNåŠ é€Ÿ"></a>5.1å›¾ç‰‡CDNåŠ é€Ÿ</h3><p>è¯¦è§3.4</p><h3 id="5-2è¿ç§»äº‘æœåŠ¡å™¨"><a href="#5-2è¿ç§»äº‘æœåŠ¡å™¨" class="headerlink" title="5.2è¿ç§»äº‘æœåŠ¡å™¨"></a>5.2è¿ç§»äº‘æœåŠ¡å™¨</h3><blockquote><p>èƒŒæ™¯ï¼šæˆ‘çš„åšå®¢æ˜¯éƒ¨ç½²åœ¨githubå›½å¤–å’Œcodingå›½å†…çš„ã€‚è‡ª2021å¹´12æœˆ30æ—¥ï¼Œcodingæ­£å¼åœæ­¢äº†é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ï¼Œå› æ­¤ä¸å¾—ä¸æ¢ä¸ªå›½å†…çš„ç«™ç‚¹ã€‚</p><p>æœ‰å°è¯•è¿‡Vercelï¼Œç¡®å®å¥½ç”¨ï¼Œä½†æ˜¯æ–°ç‰ˆVercelå’Œè€çš„githubåšå®¢æ— æ³•å…¼å®¹ï¼Œå¯¼è‡´è¿æ¥è€githubåšå®¢ä»“åº“æŠ¥404ï¼Œè‡³ä»Šä¸çŸ¥é“ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æœæœ‰çŸ¥é“çš„å¯ä»¥è¯„è®ºåŒºå‘Šè¯‰æˆ‘ï¼Œä¸ç”šæ„Ÿæ¿€ï¼</p><p>ç›®å‰åªèƒ½é€šè¿‡Vercelè¿æ¥ç¬¬ä¸‰æ–¹ä»“åº“httpsï¼Œç„¶åè¾“å…¥githubè€ä»“åº“çš„httpsåœ°å€ï¼Œå°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ï¼Œä½†è¿™æœ‰ä¸ªé—®é¢˜ï¼šVercelä¼šåœ¨githubæ–°å»ºä¸€ä¸ªä»“åº“æ‰˜ç®¡ä½ çš„åšå®¢ï¼Œæˆ‘ä»¬ä¸å¾—ä¸å°†åšå®¢éƒ¨ç½²åœ¨Vercelæ–°ä»“åº“ä¸­ï¼Œå®ç°æ¯æ¬¡éƒ¨ç½²Verceléƒ½ä¼šè‡ªåŠ¨æ›´æ–°æœ€æ–°çš„é¡µé¢ã€‚è¿™å°±å¯¼è‡´æˆ‘ä»¬è¢«è¿«è¿ç§»äº†æ–°ä»“åº“ï¼Œè¿™ä¼šè®©æˆ‘ä»¬çš„valineè¯„è®ºå’Œåœç®—å­è®¿å®¢é‡éƒ½æ¸…é›¶äº†ã€‚</p><p>äºæ˜¯ä¸€ä¸åšäºŒä¸ä¼‘ï¼Œæˆ‘å¹²è„†å¼„ä¸ªäº‘æœåŠ¡å™¨ï¼Œå°†åšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Šä¸€æ­¥åˆ°ä½ã€‚äºæ˜¯ï¼Œå°±æœ‰äº†ä¸‹é¢çš„è¿ç§»äº‘æœåŠ¡å™¨ã€‚ä¹Ÿè®©æˆ‘å­¦åˆ°äº†æ€ä¹ˆè´­ä¹°äº‘æœåŠ¡å™¨å’Œç”³è¯·è¯ä¹¦ï¼Œé…ç½®nginxçš„httpsçš„æ–¹å¼ã€‚</p></blockquote><p>è¯¦è§æˆ‘çš„å¦ä¸€ç¯‡åšå®¢<a href="">Hexoåšå®¢è¿ç§»äº‘æœåŠ¡å™¨</a></p><h3 id="5-3pjaxé¡µé¢ä¸åˆ·æ–°åˆ‡æ¢"><a href="#5-3pjaxé¡µé¢ä¸åˆ·æ–°åˆ‡æ¢" class="headerlink" title="5.3pjaxé¡µé¢ä¸åˆ·æ–°åˆ‡æ¢"></a>5.3pjaxé¡µé¢ä¸åˆ·æ–°åˆ‡æ¢</h3><p>è¿™é‡Œä¸å¤šä»‹ç»äº†ï¼Œæ¯•ç«Ÿè‡ªå·±çš„åšå®¢è¿˜æœ‰é—®é¢˜ï¼Œåœ¨è€ƒè™‘è¦ä¸è¦èˆå¼ƒæ‰pjaxã€‚å¦‚æœçœŸçš„æƒ³è¦ï¼Œå°±çœ‹<a href="https://www.islu.cn/posts/28555.html">é—²èŠ±å¤§ä½¬çš„æ•™ç¨‹å§</a></p><blockquote><p>é—®é¢˜ï¼šå¢åŠ pjaxä¼šå‡ºç°å¾ˆå¤šé—®é¢˜</p><ol><li>pjaxä¸ä¼šé‡è½½é¡µé¢çš„jså’Œæ–¹æ³•ï¼Œéœ€è¦æ‰‹åŠ¨é‡è½½</li><li>è¯´è¯´å’Œè¯„è®ºç”¨çš„éƒ½æ˜¯leancloudï¼Œè¿›é¡µé¢éƒ½éœ€è¦åˆå§‹åŒ–ï¼Œpjaxä¼šå¯¼è‡´é¡µé¢ä¸åˆ·æ–°ï¼Œå†²çªè®©å¦ä¸€ä¸ªæ— æ³•é‡æ–°åˆå§‹åŒ–ã€‚</li></ol></blockquote><h3 id="5-4å‡çº§Hexo"><a href="#5-4å‡çº§Hexo" class="headerlink" title="5.4å‡çº§Hexo"></a>5.4å‡çº§Hexo</h3><blockquote><p>èƒŒæ™¯ï¼šç”±äºè‡ªå·±æ¯æ¬¡hexo clï¼Œhexo gï¼Œæ„å»ºçš„é€Ÿåº¦éƒ½ä¸€åˆ†å¤šï¼Œåæ¥å¬è¯´æ˜¯å› ä¸ºhexoç‰ˆæœ¬ä½ï¼Œç°åœ¨hexoå·²ç»ä¼˜åŒ–äº†ã€‚å¹¶ä¸”6.0çš„Hexoå†…ç½®äº†ä»£ç å‹ç¼©ï¼Œå› æ­¤ä¸éœ€è¦gulpå‹ç¼©äº†ã€‚äºæ˜¯å°è¯•è‡ªå·±å‡çº§äº†hexo</p></blockquote><blockquote><p>æ•°æ®æ— ä»·ï¼šä¸€å®šè¦å…ˆå¤‡ä»½ä¸€ä»½å‡çº§å‰çš„æ–‡ä»¶ï¼Œä»¥å…å‡çº§åè‡ªå·±çš„åšå®¢æ— æ³•æ‰“å¼€äº†ã€‚</p></blockquote><ol start="2"><li><p>hexoç‰ˆæœ¬å‡çº§</p><pre><code># ä½¿ç”¨æ·˜å®æºçš„ cnpm æ›¿æ¢ npmnpm install -g cnpm --registry=https://registry.npm.taobao.orgcnpm install -g cnpm                 # å‡çº§ npmcnpm cache clean -f                 # æ¸…é™¤ npm ç¼“å­˜===æ›´æ–° hexo: è¿›å…¥ blog ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤=== # æ›´æ–° package.json ä¸­çš„ hexo åŠä¸ªæ’ä»¶ç‰ˆæœ¬cnpm install -g npm-check           # æ£€æŸ¥ä¹‹å‰å®‰è£…çš„æ’ä»¶ï¼Œéƒ½æœ‰å“ªäº›æ˜¯å¯ä»¥å‡çº§çš„ cnpm install -g npm-upgrade         # å‡çº§ç³»ç»Ÿä¸­çš„æ’ä»¶npm-checknpm-upgrade# æ›´æ–° hexo åŠæ‰€æœ‰æ’ä»¶cnpm update# ç¡®è®¤ hexo å·²ç»æ›´æ–°hexo -v</code></pre><blockquote><p>é—®é¢˜ï¼šä¼šå‡ºç°cnpmæ‰¾ä¸åˆ°</p><p>è§£å†³ï¼š</p><ol><li>å¸è½½ï¼Œå¸è½½å¦‚æœä¹Ÿå‡ºç°æ‰¾ä¸åˆ°ï¼Œç›´æ¥æ‰¾åˆ°cnpmæ–‡ä»¶ï¼Œåˆ é™¤æ‰å†å¸è½½å®‰è£…</li><li>å®‰è£…</li></ol><p><a href="https://www.jianshu.com/p/c46d1f69a76b">https://www.jianshu.com/p/c46d1f69a76b</a></p></blockquote></li><li><p>hexo 4å‡çº§åˆ°6åéœ€è¦ä¿®æ”¹çš„é…ç½®</p><p>hexo æŠ¥é”™ use_date_for_updated is deprecatedâ€¦</p><p><a href="https://blog.csdn.net/weixin_44045218/article/details/109609788">https://blog.csdn.net/weixin_44045218/article/details/109609788</a></p></li></ol><h3 id="5-5ç»‘å®šåŸŸåã€è¯ä¹¦ç”³è¯·"><a href="#5-5ç»‘å®šåŸŸåã€è¯ä¹¦ç”³è¯·" class="headerlink" title="5.5ç»‘å®šåŸŸåã€è¯ä¹¦ç”³è¯·"></a>5.5ç»‘å®šåŸŸåã€è¯ä¹¦ç”³è¯·</h3><p>è¿™é‡Œä¸å¤šèµ˜è¿°ï¼Œgithubç»‘å®šåŸŸåçš„æ–¹å¼åœ¨å‰ä¸‰æœŸä¸­è¯´è¿‡ï¼Œæœ‰éœ€è¦çš„å¯ä»¥æŸ¥çœ‹å‰ä¸‰æœŸã€‚</p><p>æœ¬æ¬¡ä¸»è¦æ˜¯è¿ç§»åˆ°äº†äº‘æœåŠ¡å™¨åï¼Œç»™äº‘æœåŠ¡å™¨ç»‘å®šåŸŸåå’Œç”³è¯·è¯ä¹¦ï¼Œæˆ‘çš„å¦ä¸€ç¯‡åšå®¢<a href="">Hexoåšå®¢è¿ç§»äº‘æœåŠ¡å™¨</a>ã€‚<a href="https://cdn.jsdelivr.net/gh/sakurasep/Wallpaper-01@1.0/wallpaper/043.jpg">https://cdn.jsdelivr.net/gh/sakurasep/Wallpaper-01@1.0/wallpaper/043.jpg</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> matery </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
